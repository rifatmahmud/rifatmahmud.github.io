require=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return i(n?n:e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("main-website/main",function(e,t,n){"use strict";e("es6-shim"),window.Promise=e("when/es6-shim/Promise.browserify-es6.js"),window.$=window.jQuery=e("jquery");var r=(e("../lib/util"),e("../lib/browser")),i=(e("../lib/storage/dao"),e("../lib/storage/urls"),e("../lib/login"));e("parse").Parse,e("jquery");e("angular"),e("angular-route"),e("ng-simplePagination"),e("angular-animate"),e("bootstrap"),e("ng-sortable"),e("ng-tags-input"),e("ui-select");angular.module("insidemaps.app",[e("../modeler-tools/modeler-tools-module"),e("../photographer-tools/photographer-tools-module"),e("../main-website/controllers/project-listing/listing-controller"),e("../main-website/controllers/my-dashboard-controller"),e("../main-website/controllers/customer-support-controller"),e("../main-website/controllers/pricing-models-controller"),e("../lib/browser/components/project-menu-component"),e("../lib/browser/modules/ui-components"),e("../lib/browser/modules/utility-components"),e("../lib/shared-modules/shared-module"),"ngRoute","ngCookies","simplePagination","ngAnimate","as.sortable","ngTagsInput","ui.select","ngSanitize"]);e("./main-controllers"),e("./main-website-routes"),i.resolveCachedUser(),r.angular.bootstrap("insidemaps.app",[],{strictDi:!0})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/browser":475,"../lib/browser/components/project-menu-component":472,"../lib/browser/modules/ui-components":476,"../lib/browser/modules/utility-components":477,"../lib/login":482,"../lib/shared-modules/shared-module":495,"../lib/storage/dao":514,"../lib/storage/urls":517,"../lib/util":524,"../main-website/controllers/customer-support-controller":531,"../main-website/controllers/my-dashboard-controller":552,"../main-website/controllers/pricing-models-controller":554,"../main-website/controllers/project-listing/listing-controller":556,"../modeler-tools/modeler-tools-module":574,"../photographer-tools/photographer-tools-module":576,"./main-controllers":571,"./main-website-routes":572,angular:57,"angular-animate":48,"angular-route":53,bootstrap:86,"es6-shim":244,jquery:304,"ng-simplePagination":"ng-simplePagination","ng-sortable":324,"ng-tags-input":325,parse:343,"ui-select":442,"when/es6-shim/Promise.browserify-es6.js":460}],2:[function(e,t,n){t.exports={applicationId:"DEV_CyZyNj3JlQX992YwwVYRCeIcKrXPWiajze81D2ol",javascriptKey:"DEV_ckc1BqlqM3Kc9AXOnFlA1xmhmCxkRN5n2s2Jrx1m"}},{}],3:[function(e,t,n){t.exports={applicationId:"mRk93Km1ABcJ4Zr2VeixSYLlCgaPjDhiWWJawJqS",javascriptKey:"lUcy2bkq8YiXXVUc81vSMitiyAm3x1RPAty9tEwa"}},{}],4:[function(e,t,n){t.exports={publicKey:"pk_test_hU4ysVVxZL7XzzO4hepscVyJ"}},{}],5:[function(e,t,n){t.exports={publicKey:"pk_live_0mJLYFKA9Ucnoe4Vq1jzOE20"}},{}],6:[function(e,t,n){!function(){function e(e){this.message=e}var t="undefined"!=typeof n?n:this,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.prototype=new Error,e.prototype.name="InvalidCharacterError",t.btoa||(t.btoa=function(t){for(var n,i,o=0,a=r,s="";t.charAt(0|o)||(a="=",o%1);s+=a.charAt(63&n>>8-o%1*8)){if(i=t.charCodeAt(o+=.75),i>255)throw new e("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");n=n<<8|i}return s}),t.atob||(t.atob=function(t){if(t=t.replace(/=+$/,""),t.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,o=0,a=0,s="";i=t.charAt(a++);~i&&(n=o%4?64*n+i:i,o++%4)?s+=String.fromCharCode(255&n>>(-2*o&6)):0)i=r.indexOf(i);return s})}()},{}],7:[function(e,t,n){"use strict";var r=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];t.exports=function(e,t){for(var n=0;n<t.length;n++){e=JSON.parse(JSON.stringify(e));var i,o=t[n].split("/"),a=e;for(i=1;i<o.length;i++)a=a[o[i]];for(i=0;i<r.length;i++){var s=r[i],c=a[s];c&&(a[s]={anyOf:[c,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#"}]})}}return e}},{}],8:[function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);e=this._opts=R.copy(e)||{},this._schemas={},this._refs={},this._fragments={},this._formats=I(e.format);var t=this._schemaUriFormat=this._formats["uri-reference"];this._schemaUriFormatFunc=function(e){return t.test(e)},this._cache=e.cache||new C,this._loadingSchemas={},this._compilations=[],this.RULES=F(),this._getId=v(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=O),this._metaOpts=E(this),e.formats&&j(this),k(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),S(this),e.patternGroups&&L(this)}function i(e,t){var n;if("string"==typeof e){if(n=this.getSchema(e),!n)throw new Error('no schema with key or ref "'+e+'"')}else{var r=this._addSchema(e);n=r.validate||this._compile(r)}var i=n(t);return n.$async===!0?"*"==this._opts.async?N(i):i:(this.errors=n.errors,i)}function o(e,t){var n=this._addSchema(e,void 0,t);return n.validate||this._compile(n)}function a(e,t,n,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addSchema(e[i],void 0,n,r);else{var o=this._getId(e);if(void 0!==o&&"string"!=typeof o)throw new Error("schema id must be string");t=T.normalizeId(t||o),P(this,t),this._schemas[t]=this._addSchema(e,n,r,!0)}}function s(e,t,n){this.addSchema(e,t,n,!0)}function c(e,t){var n=e.$schema;if(void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(n=n||this._opts.defaultMeta||l(this),!n)return console.warn("meta-schema not available"),this.errors=null,!0;var r=this._formats.uri;this._formats.uri="function"==typeof r?this._schemaUriFormatFunc:this._schemaUriFormat;var i;try{i=this.validate(n,e)}finally{this._formats.uri=r}if(!i&&t){var o="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(o);console.error(o)}return i}function l(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(z)?z:void 0,e._opts.defaultMeta}function u(e){var t=d(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return h(this,e)}}function h(e,t){var n=T.schema.call(e,{schema:{}},t);if(n){var r=n.schema,i=n.root,o=n.baseId,a=A.call(e,r,i,void 0,o);return e._fragments[t]=new M({ref:t,fragment:!0,schema:r,root:i,baseId:o,validate:a}),a}}function d(e,t){return t=T.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function f(e){if(e instanceof RegExp)return p(this,this._schemas,e),void p(this,this._refs,e);switch(typeof e){case"undefined":return p(this,this._schemas),p(this,this._refs),void this._cache.clear();case"string":var t=d(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],void delete this._refs[e];case"object":var n=this._opts.serialize,r=n?n(e):e;this._cache.del(r);var i=this._getId(e);i&&(i=T.normalizeId(i),delete this._schemas[i],delete this._refs[i])}}function p(e,t,n){for(var r in t){var i=t[r];i.meta||n&&!n.test(r)||(e._cache.del(i.cacheKey),delete t[r])}}function m(e,t,n,r){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var i=this._opts.serialize,o=i?i(e):e,a=this._cache.get(o);if(a)return a;r=r||this._opts.addUsedSchema!==!1;var s=T.normalizeId(this._getId(e));s&&r&&P(this,s);var c,l=this._opts.validateSchema!==!1&&!t;l&&!(c=s&&s==T.normalizeId(e.$schema))&&this.validateSchema(e,!0);var u=T.ids.call(this,e),h=new M({id:s,schema:e,localRefs:u,cacheKey:o,meta:n});return"#"!=s[0]&&r&&(this._refs[s]=h),this._cache.put(o,h),l&&c&&this.validateSchema(e,!0),h}function g(e,t){function n(){var t=e.validate,r=t.apply(null,arguments);return n.errors=t.errors,r}if(e.compiling)return e.validate=n,n.schema=e.schema,n.errors=null,n.root=t?t:n,e.schema.$async===!0&&(n.$async=!0),n;e.compiling=!0;var r;e.meta&&(r=this._opts,this._opts=this._metaOpts);var i;try{i=A.call(this,e.schema,t,e.localRefs)}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i}function v(e){switch(e.schemaId){case"$id":return y;case"id":return b;default:return w}}function b(e){return e.$id&&console.warn("schema $id ignored",e.$id),e.id}function y(e){return e.id&&console.warn("schema id ignored",e.id),e.$id}function w(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function _(e,t){if(e=e||this.errors,!e)return"No errors";t=t||{};for(var n=void 0===t.separator?", ":t.separator,r=void 0===t.dataVar?"data":t.dataVar,i="",o=0;o<e.length;o++){var a=e[o];a&&(i+=r+a.dataPath+" "+a.message+n)}return i.slice(0,-n.length)}function x(e,t){"string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t}function k(t){var n;if(t._opts.$data&&(n=e("./refs/$data.json"),t.addMetaSchema(n,n.$id,!0)),t._opts.meta!==!1){var r=e("./refs/json-schema-draft-06.json");t._opts.$data&&(r=D(r,q)),t.addMetaSchema(r,z,!0),t._refs["http://json-schema.org/schema"]=z}}function S(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var n in t)e.addSchema(t[n],n)}function j(e){for(var t in e._opts.formats){var n=e._opts.formats[t];e.addFormat(t,n)}}function P(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function E(e){for(var t=R.copy(e._opts),n=0;n<B.length;n++)delete t[B[n]];return t}var A=e("./compile"),T=e("./compile/resolve"),C=e("./cache"),M=e("./compile/schema_obj"),O=e("json-stable-stringify"),I=e("./compile/formats"),F=e("./compile/rules"),D=e("./$data"),L=e("./patternGroups"),R=e("./compile/util"),N=e("co");t.exports=r,r.prototype.validate=i,r.prototype.compile=o,r.prototype.addSchema=a,r.prototype.addMetaSchema=s,r.prototype.validateSchema=c,r.prototype.getSchema=u,r.prototype.removeSchema=f,r.prototype.addFormat=x,r.prototype.errorsText=_,r.prototype._addSchema=m,r.prototype._compile=g,r.prototype.compileAsync=e("./compile/async");var U=e("./keyword");r.prototype.addKeyword=U.add,r.prototype.getKeyword=U.get,r.prototype.removeKeyword=U.remove;var $=e("./compile/error_classes");r.ValidationError=$.Validation,r.MissingRefError=$.MissingRef,r.$dataMetaSchema=D;var z="http://json-schema.org/draft-06/schema",B=["removeAdditional","useDefaults","coerceTypes"],q=["/properties"]},{"./$data":7,"./cache":9,"./compile":14,"./compile/async":11,"./compile/error_classes":12,"./compile/formats":13,"./compile/resolve":15,"./compile/rules":16,"./compile/schema_obj":17,"./compile/util":19,"./keyword":43,"./patternGroups":44,"./refs/$data.json":45,"./refs/json-schema-draft-06.json":46,co:201,"json-stable-stringify":308}],9:[function(e,t,n){"use strict";var r=t.exports=function(){this._cache={}};r.prototype.put=function(e,t){this._cache[e]=t},r.prototype.get=function(e){return this._cache[e]},r.prototype.del=function(e){delete this._cache[e]},r.prototype.clear=function(){this._cache={}}},{}],10:[function(e,t,n){"use strict";t.exports={$ref:e("../dotjs/ref"),allOf:e("../dotjs/allOf"),anyOf:e("../dotjs/anyOf"),"const":e("../dotjs/const"),contains:e("../dotjs/contains"),dependencies:e("../dotjs/dependencies"),"enum":e("../dotjs/enum"),format:e("../dotjs/format"),items:e("../dotjs/items"),maximum:e("../dotjs/_limit"),minimum:e("../dotjs/_limit"),maxItems:e("../dotjs/_limitItems"),minItems:e("../dotjs/_limitItems"),maxLength:e("../dotjs/_limitLength"),minLength:e("../dotjs/_limitLength"),maxProperties:e("../dotjs/_limitProperties"),minProperties:e("../dotjs/_limitProperties"),multipleOf:e("../dotjs/multipleOf"),not:e("../dotjs/not"),oneOf:e("../dotjs/oneOf"),pattern:e("../dotjs/pattern"),properties:e("../dotjs/properties"),propertyNames:e("../dotjs/propertyNames"),required:e("../dotjs/required"),uniqueItems:e("../dotjs/uniqueItems"),validate:e("../dotjs/validate")}},{"../dotjs/_limit":20,"../dotjs/_limitItems":21,"../dotjs/_limitLength":22,"../dotjs/_limitProperties":23,"../dotjs/allOf":24,"../dotjs/anyOf":25,"../dotjs/const":26,"../dotjs/contains":27,"../dotjs/dependencies":29,"../dotjs/enum":30,"../dotjs/format":31,"../dotjs/items":32,"../dotjs/multipleOf":33,"../dotjs/not":34,"../dotjs/oneOf":35,"../dotjs/pattern":36,"../dotjs/properties":37,"../dotjs/propertyNames":38,"../dotjs/ref":39,"../dotjs/required":40,"../dotjs/uniqueItems":41,"../dotjs/validate":42}],11:[function(e,t,n){"use strict";function r(e,t,n){function o(e){var t=e.$schema;return t&&!s.getSchema(t)?r.call(s,{$ref:t},!0):Promise.resolve()}function a(e){function n(n){function r(){delete s._loadingSchemas[c]}function i(e){return s._refs[e]||s._schemas[e]}var c=n.missingSchema;if(i(c))throw new Error("Schema "+c+" is loaded but "+n.missingRef+" cannot be resolved");var l=s._loadingSchemas[c];return l||(l=s._loadingSchemas[c]=s._opts.loadSchema(c),l.then(r,r)),l.then(function(e){if(!i(c))return o(e).then(function(){i(c)||s.addSchema(e,c,void 0,t)})}).then(function(){return a(e)})}try{return s._compile(e)}catch(r){if(r instanceof i)return n(r);throw r}}var s=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof t&&(n=t,t=void 0);var c=o(e).then(function(){var n=s._addSchema(e,void 0,t);return n.validate||a(n)});return n&&c.then(function(e){n(null,e)},n),c}var i=e("./error_classes").MissingRef;t.exports=r},{"./error_classes":12}],12:[function(e,t,n){"use strict";function r(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}function i(e,t,n){this.message=n||i.message(e,t),this.missingRef=a.url(e,t),this.missingSchema=a.normalizeId(a.fullPath(this.missingRef))}function o(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var a=e("./resolve");t.exports={Validation:o(r),MissingRef:o(i)},i.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},{"./resolve":15}],13:[function(e,t,n){"use strict";function r(e){return e="full"==e?"full":"fast",u.copy(r[e])}function i(e){var t=e.match(h);if(!t)return!1;var n=+t[1],r=+t[2];return n>=1&&n<=12&&r>=1&&r<=d[n]}function o(e,t){var n=e.match(f);if(!n)return!1;var r=n[1],i=n[2],o=n[3],a=n[5];return r<=23&&i<=59&&o<=59&&(!t||a)}function a(e){var t=e.split(x);return 2==t.length&&i(t[0])&&o(t[1],!0)}function s(e){return e.length<=255&&p.test(e)}function c(e){return k.test(e)&&m.test(e)}function l(e){if(S.test(e))return!1;try{return new RegExp(e),!0}catch(t){return!1}}var u=e("./util"),h=/^\d\d\d\d-(\d\d)-(\d\d)$/,d=[0,31,29,31,30,31,30,31,31,30,31,30,31],f=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,p=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,m=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,g=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,v=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#.\/;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,b=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,y=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,w=/^(?:\/(?:[^~\/]|~0|~1)*)*$|^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,_=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~\/]|~0|~1)*)*)$/;t.exports=r,r.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^[0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s][0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*)(?::|\/)\/?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/\/)?[^\s]*$/i,"uri-template":v,url:b,email:/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:p,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:l,uuid:y,"json-pointer":w,"relative-json-pointer":_},r.full={date:i,time:o,"date-time":a,uri:c,"uri-reference":g,"uri-template":v,url:b,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&''*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:l,uuid:y,"json-pointer":w,"relative-json-pointer":_};var x=/t|\s/i,k=/\/|:/,S=/[^\\]\\Z/},{"./util":19}],14:[function(e,t,n){"use strict";function r(e,t,n,a){function _(){var e=z.validate,t=e.apply(null,arguments);return _.errors=e.errors,t}function x(e,n,i,o){var a=!n||n&&n.schema==e;if(n.schema!=t.schema)return r.call(M,e,n,i,o);var m=e.$async===!0,_=g({isTop:!0,schema:e,isRoot:a,baseId:o,root:n,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:p.MissingRef,RULES:q,validate:g,util:f,resolve:d,resolveRef:k,usePattern:A,useDefault:T,useCustomRule:C,opts:O,formats:B,self:M});_=h(I,l)+h(D,s)+h(R,c)+h(U,u)+_,O.processCode&&(_=O.processCode(_));var x;try{var S=new Function("self","RULES","formats","root","refVal","defaults","customRules","co","equal","ucs2length","ValidationError",_);x=S(M,q,B,t,I,R,U,v,y,b,w),I[0]=x}catch(j){throw console.error("Error compiling schema, function code:",_),j}return x.schema=e,x.errors=null,x.refs=F,x.refVal=I,x.root=a?x:n,m&&(x.$async=!0),O.sourceCode===!0&&(x.source={code:_,patterns:D,defaults:R}),x}function k(e,i,o){i=d.url(e,i);var a,s,c=F[i];if(void 0!==c)return a=I[c],s="refVal["+c+"]",E(a,s);if(!o&&t.refs){var l=t.refs[i];if(void 0!==l)return a=t.refVal[l],s=S(i,a),E(a,s)}s=S(i);var u=d.call(M,x,t,i);if(void 0===u){var h=n&&n[i];h&&(u=d.inlineRef(h,O.inlineRefs)?h:r.call(M,h,t,n,e))}return void 0!==u?(P(i,u),E(u,s)):void j(i)}function S(e,t){var n=I.length;return I[n]=t,F[e]=n,"refVal"+n}function j(e){delete F[e]}function P(e,t){var n=F[e];I[n]=t}function E(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&e.$async}}function A(e){var t=L[e];return void 0===t&&(t=L[e]=D.length,D[t]=e),"pattern"+t}function T(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return f.toQuotedString(e);case"object":if(null===e)return"null";var t=m(e),n=N[t];return void 0===n&&(n=N[t]=R.length,R[n]=e),"default"+n}}function C(e,t,n,r){var i=e.definition.validateSchema;if(i&&M._opts.validateSchema!==!1){var o=i(t);if(!o){var a="keyword schema is invalid: "+M.errorsText(i.errors);if("log"!=M._opts.validateSchema)throw new Error(a);console.error(a)}}var s,c=e.definition.compile,l=e.definition.inline,u=e.definition.macro;if(c)s=c.call(M,t,n,r);else if(u)s=u.call(M,t,n,r),O.validateSchema!==!1&&M.validateSchema(s,!0);else if(l)s=l.call(M,r,e.keyword,t,n);else if(s=e.definition.validate,!s)return;if(void 0===s)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var h=U.length;return U[h]=s,{code:"customRule"+h,validate:s}}var M=this,O=this._opts,I=[void 0],F={},D=[],L={},R=[],N={},U=[];t=t||{schema:e,refVal:I,refs:F};var $=i.call(this,e,t,a),z=this._compilations[$.index];if($.compiling)return z.callValidate=_;var B=this._formats,q=this.RULES;try{var V=x(e,t,n,a);z.validate=V;var H=z.callValidate;return H&&(H.schema=V.schema,H.errors=null,H.refs=V.refs,H.refVal=V.refVal,H.root=V.root,H.$async=V.$async,O.sourceCode&&(H.source=V.source)),V}finally{o.call(this,e,t,a)}}function i(e,t,n){var r=a.call(this,e,t,n);return r>=0?{index:r,compiling:!0}:(r=this._compilations.length,this._compilations[r]={schema:e,root:t,baseId:n},{index:r,compiling:!1})}function o(e,t,n){var r=a.call(this,e,t,n);r>=0&&this._compilations.splice(r,1)}function a(e,t,n){for(var r=0;r<this._compilations.length;r++){var i=this._compilations[r];if(i.schema==e&&i.root==t&&i.baseId==n)return r}return-1}function s(e,t){return"var pattern"+e+" = new RegExp("+f.toQuotedString(t[e])+");"}function c(e){return"var default"+e+" = defaults["+e+"];"}function l(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function u(e){return"var customRule"+e+" = customRules["+e+"];"}function h(e,t){if(!e.length)return"";for(var n="",r=0;r<e.length;r++)n+=t(r,e);return n}var d=e("./resolve"),f=e("./util"),p=e("./error_classes"),m=e("json-stable-stringify"),g=e("../dotjs/validate"),v=e("co"),b=f.ucs2length,y=e("fast-deep-equal"),w=p.Validation;t.exports=r},{"../dotjs/validate":42,"./error_classes":12,"./resolve":15,"./util":19,co:201,"fast-deep-equal":248,"json-stable-stringify":308}],15:[function(e,t,n){"use strict";function r(e,t,n){var o=this._refs[n];if("string"==typeof o){if(!this._refs[o])return r.call(this,e,t,o);o=this._refs[o]}if(o=o||this._schemas[n],o instanceof b)return s(o.schema,this._opts.inlineRefs)?o.schema:o.validate||this._compile(o);var a,c,l,u=i.call(this,t,n);return u&&(a=u.schema,t=u.root,l=u.baseId),a instanceof b?c=a.validate||e.call(this,a.schema,t,void 0,l):void 0!==a&&(c=s(a,this._opts.inlineRefs)?a:e.call(this,a,t,void 0,l)),c}function i(e,t){var n=m.parse(t,!1,!0),r=h(n),i=u(this._getId(e.schema));if(r!==i){var s=d(r),c=this._refs[s];if("string"==typeof c)return o.call(this,e,c,n);if(c instanceof b)c.validate||this._compile(c),e=c;else{if(c=this._schemas[s],!(c instanceof b))return;if(c.validate||this._compile(c),s==d(t))return{schema:c,root:e,baseId:i};e=c}if(!e.schema)return;i=u(this._getId(e.schema))}return a.call(this,n,i,e.schema,e)}function o(e,t,n){var r=i.call(this,e,t);if(r){var o=r.schema,s=r.baseId;e=r.root;var c=this._getId(o);return c&&(s=f(s,c)),a.call(this,n,s,o,e)}}function a(e,t,n,r){if(e.hash=e.hash||"","#/"==e.hash.slice(0,2)){for(var o=e.hash.split("/"),a=1;a<o.length;a++){var s=o[a];if(s){if(s=v.unescapeFragment(s),n=n[s],void 0===n)break;var c;if(!w[s]&&(c=this._getId(n),c&&(t=f(t,c)),n.$ref)){var l=f(t,n.$ref),u=i.call(this,r,l);u&&(n=u.schema,r=u.root,t=u.baseId)}}}return void 0!==n&&n!==r.schema?{schema:n,root:r,baseId:t}:void 0}}function s(e,t){return t!==!1&&(void 0===t||t===!0?c(e):t?l(e)<=t:void 0)}function c(e){var t;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(t=e[n],"object"==typeof t&&!c(t))return!1}else for(var r in e){if("$ref"==r)return!1;if(t=e[r],"object"==typeof t&&!c(t))return!1}return!0}function l(e){var t,n=0;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(t=e[r],"object"==typeof t&&(n+=l(t)),n==1/0)return 1/0}else for(var i in e){if("$ref"==i)return 1/0;if(_[i])n++;else if(t=e[i],"object"==typeof t&&(n+=l(t)+1),n==1/0)return 1/0}return n}function u(e,t){t!==!1&&(e=d(e));var n=m.parse(e,!1,!0);return h(n)}function h(e){var t=e.protocol||"//"==e.href.slice(0,2)?"//":"";return(e.protocol||"")+t+(e.host||"")+(e.path||"")+"#"}function d(e){return e?e.replace(x,""):""}function f(e,t){return t=d(t),m.resolve(e,t)}function p(e){var t=d(this._getId(e)),n={"":t},r={"":u(t,!1)},i={},o=this;return y(e,{allKeys:!0},function(e,t,a,s,c,l,u){if(""!==t){var h=o._getId(e),f=n[s],p=r[s]+"/"+c;if(void 0!==u&&(p+="/"+("number"==typeof u?u:v.escapeFragment(u))),"string"==typeof h){h=f=d(f?m.resolve(f,h):h);var b=o._refs[h];if("string"==typeof b&&(b=o._refs[b]),b&&b.schema){if(!g(e,b.schema))throw new Error('id "'+h+'" resolves to more than one schema')}else if(h!=d(p))if("#"==h[0]){if(i[h]&&!g(e,i[h]))throw new Error('id "'+h+'" resolves to more than one schema');i[h]=e}else o._refs[h]=p}n[t]=f,r[t]=p}}),i}var m=e("url"),g=e("fast-deep-equal"),v=e("./util"),b=e("./schema_obj"),y=e("json-schema-traverse");t.exports=r,r.normalizeId=d,r.fullPath=u,r.url=f,r.ids=p,r.inlineRef=s,r.schema=i;var w=v.toHash(["properties","patternProperties","enum","dependencies","definitions"]),_=v.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]),x=/#\/?$/},{"./schema_obj":17,"./util":19,"fast-deep-equal":248,"json-schema-traverse":306,url:143}],16:[function(e,t,n){"use strict";var r=e("./_rules"),i=e("./util").toHash;t.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","uniqueItems","contains","items"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf"]}],t=["type"],n=["additionalItems","$schema","id","title","description","default","definitions"],o=["number","integer","string","array","object","boolean","null"];return e.all=i(t),e.types=i(o),e.forEach(function(n){n.rules=n.rules.map(function(n){var i;if("object"==typeof n){var o=Object.keys(n)[0];i=n[o],n=o,i.forEach(function(n){t.push(n),e.all[n]=!0})}t.push(n);var a=e.all[n]={keyword:n,code:r[n],"implements":i};return a}),n.type&&(e.types[n.type]=n)}),e.keywords=i(t.concat(n)),e.custom={},e}},{"./_rules":10,"./util":19}],17:[function(e,t,n){"use strict";function r(e){i.copy(e,this)}var i=e("./util");t.exports=r},{"./util":19}],18:[function(e,t,n){"use strict";t.exports=function(e){for(var t,n=0,r=e.length,i=0;i<r;)n++,t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<r&&(t=e.charCodeAt(i),56320==(64512&t)&&i++);return n}},{}],19:[function(e,t,n){"use strict";function r(e,t){
t=t||{};for(var n in e)t[n]=e[n];return t}function i(e,t,n){var r=n?" !== ":" === ",i=n?" || ":" && ",o=n?"!":"",a=n?"":"!";switch(e){case"null":return t+r+"null";case"array":return o+"Array.isArray("+t+")";case"object":return"("+o+t+i+"typeof "+t+r+'"object"'+i+a+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+r+'"number"'+i+a+"("+t+" % 1)"+i+t+r+t+")";default:return"typeof "+t+r+'"'+e+'"'}}function o(e,t){switch(e.length){case 1:return i(e[0],t,!0);default:var n="",r=s(e);r.array&&r.object&&(n=r["null"]?"(":"(!"+t+" || ",n+="typeof "+t+' !== "object")',delete r["null"],delete r.array,delete r.object),r.number&&delete r.integer;for(var o in r)n+=(n?" && ":"")+i(o,t,!0);return n}}function a(e,t){if(Array.isArray(t)){for(var n=[],r=0;r<t.length;r++){var i=t[r];j[i]?n[n.length]=i:"array"===e&&"array"===i&&(n[n.length]=i)}if(n.length)return n}else{if(j[t])return[t];if("array"===e&&"array"===t)return["array"]}}function s(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}function c(e){return"number"==typeof e?"["+e+"]":P.test(e)?"."+e:"['"+l(e)+"']"}function l(e){return e.replace(E,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function u(e,t){t+="[^0-9]";var n=e.match(new RegExp(t,"g"));return n?n.length:0}function h(e,t,n){return t+="([^0-9])",n=n.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),n+"$1")}function d(e){return e.replace(A,"").replace(T,"").replace(C,"if (!($1))")}function f(e,t){var n=e.match(M);return n&&2==n.length&&(e=t?e.replace(I,"").replace(L,R):e.replace(O,"").replace(F,D)),n=e.match(N),n&&3===n.length?e.replace(U,""):e}function p(e,t){if("boolean"==typeof e)return!e;for(var n in e)if(t[n])return!0}function m(e,t,n){if("boolean"==typeof e)return!e&&"not"!=n;for(var r in e)if(r!=n&&t[r])return!0}function g(e){return"'"+l(e)+"'"}function v(e,t,n,r){var i=n?"'/' + "+t+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'";return w(e,i)}function b(e,t,n){var r=g(n?"/"+k(t):c(t));return w(e,r)}function y(e,t,n){var r,i,o,a;if(""===e)return"rootData";if("/"==e[0]){if(!$.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,o="rootData"}else{if(a=e.match(z),!a)throw new Error("Invalid JSON-pointer: "+e);if(r=+a[1],i=a[2],"#"==i){if(r>=t)throw new Error("Cannot access property/index "+r+" levels up, current level is "+t);return n[t-r]}if(r>t)throw new Error("Cannot access data "+r+" levels up, current level is "+t);if(o="data"+(t-r||""),!i)return o}for(var s=o,l=i.split("/"),u=0;u<l.length;u++){var h=l[u];h&&(o+=c(S(h)),s+=" && "+o)}return s}function w(e,t){return'""'==e?t:(e+" + "+t).replace(/' \+ '/g,"")}function _(e){return S(decodeURIComponent(e))}function x(e){return encodeURIComponent(k(e))}function k(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function S(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}t.exports={copy:r,checkDataType:i,checkDataTypes:o,coerceToTypes:a,toHash:s,getProperty:c,escapeQuotes:l,equal:e("fast-deep-equal"),ucs2length:e("./ucs2length"),varOccurences:u,varReplace:h,cleanUpCode:d,finalCleanUpCode:f,schemaHasRules:p,schemaHasRulesExcept:m,toQuotedString:g,getPathExpr:v,getPath:b,getData:y,unescapeFragment:_,unescapeJsonPointer:S,escapeFragment:x,escapeJsonPointer:k};var j=s(["string","number","integer","boolean","null"]),P=/^[a-z$_][a-z$_0-9]*$/i,E=/'|\\/g,A=/else\s*{\s*}/g,T=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,C=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g,M=/[^v.]errors/g,O=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,I=/var errors = 0;|var vErrors = null;/g,F="return errors === 0;",D="validate.errors = null; return true;",L=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,R="return data;",N=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,U=/if \(rootData === undefined\) rootData = data;/,$=/^\/(?:[^~]|~0|~1)*$/,z=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/},{"./ucs2length":18,"fast-deep-equal":248}],20:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r,i,o=" ",a=e.level,s=e.dataLevel,c=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,d="data"+(s||""),f=e.opts.$data&&c&&c.$data;f?(o+=" var schema"+a+" = "+e.util.getData(c.$data,s,e.dataPathArr)+"; ",i="schema"+a):i=c;var p="maximum"==t,m=p?"exclusiveMaximum":"exclusiveMinimum",g=e.schema[m],v=e.opts.$data&&g&&g.$data,b=p?"<":">",y=p?">":"<",r=void 0;if(v){var w=e.util.getData(g.$data,s,e.dataPathArr),_="exclusive"+a,x="exclType"+a,k="exclIsNumber"+a,S="op"+a,j="' + "+S+" + '";o+=" var schemaExcl"+a+" = "+w+"; ",w="schemaExcl"+a,o+=" var "+_+"; var "+x+" = typeof "+w+"; if ("+x+" != 'boolean' && "+x+" != 'undefined' && "+x+" != 'number') { ";var r=m,P=P||[];P.push(o),o="",e.createErrors!==!1?(o+=" { keyword: '"+(r||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(o+=" , message: '"+m+" should be boolean' "),e.opts.verbose&&(o+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var E=o;o=P.pop(),o+=!e.compositeRule&&h?e.async?" throw new ValidationError(["+E+"]); ":" validate.errors = ["+E+"]; return false; ":" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } else if ( ",f&&(o+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),o+=" "+x+" == 'number' ? ( ("+_+" = "+i+" === undefined || "+w+" "+b+"= "+i+") ? "+d+" "+y+"= "+w+" : "+d+" "+y+" "+i+" ) : ( ("+_+" = "+w+" === true) ? "+d+" "+y+"= "+i+" : "+d+" "+y+" "+i+" ) || "+d+" !== "+d+") { var op"+a+" = "+_+" ? '"+b+"' : '"+b+"=';"}else{var k="number"==typeof g,j=b;if(k&&f){var S="'"+j+"'";o+=" if ( ",f&&(o+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),o+=" ( "+i+" === undefined || "+g+" "+b+"= "+i+" ? "+d+" "+y+"= "+g+" : "+d+" "+y+" "+i+" ) || "+d+" !== "+d+") { "}else{k&&void 0===c?(_=!0,r=m,u=e.errSchemaPath+"/"+m,i=g,y+="="):(k&&(i=Math[p?"min":"max"](g,c)),g===(!k||i)?(_=!0,r=m,u=e.errSchemaPath+"/"+m,y+="="):(_=!1,j+="="));var S="'"+j+"'";o+=" if ( ",f&&(o+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),o+=" "+d+" "+y+" "+i+" || "+d+" !== "+d+") { "}}r=r||t;var P=P||[];P.push(o),o="",e.createErrors!==!1?(o+=" { keyword: '"+(r||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { comparison: "+S+", limit: "+i+", exclusive: "+_+" } ",e.opts.messages!==!1&&(o+=" , message: 'should be "+j+" ",o+=f?"' + "+i:""+i+"'"),e.opts.verbose&&(o+=" , schema:  ",o+=f?"validate.schema"+l:""+c,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var E=o;return o=P.pop(),o+=!e.compositeRule&&h?e.async?" throw new ValidationError(["+E+"]); ":" validate.errors = ["+E+"]; return false; ":" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } ",h&&(o+=" else { "),o}},{}],21:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r,i,o=" ",a=e.level,s=e.dataLevel,c=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,d="data"+(s||""),f=e.opts.$data&&c&&c.$data;f?(o+=" var schema"+a+" = "+e.util.getData(c.$data,s,e.dataPathArr)+"; ",i="schema"+a):i=c;var p="maxItems"==t?">":"<";o+="if ( ",f&&(o+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),o+=" "+d+".length "+p+" "+i+") { ";var r=t,m=m||[];m.push(o),o="",e.createErrors!==!1?(o+=" { keyword: '"+(r||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+i+" } ",e.opts.messages!==!1&&(o+=" , message: 'should NOT have ",o+="maxItems"==t?"more":"less",o+=" than ",o+=f?"' + "+i+" + '":""+c,o+=" items' "),e.opts.verbose&&(o+=" , schema:  ",o+=f?"validate.schema"+l:""+c,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var g=o;return o=m.pop(),o+=!e.compositeRule&&h?e.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+="} ",h&&(o+=" else { "),o}},{}],22:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r,i,o=" ",a=e.level,s=e.dataLevel,c=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,d="data"+(s||""),f=e.opts.$data&&c&&c.$data;f?(o+=" var schema"+a+" = "+e.util.getData(c.$data,s,e.dataPathArr)+"; ",i="schema"+a):i=c;var p="maxLength"==t?">":"<";o+="if ( ",f&&(o+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),o+=e.opts.unicode===!1?" "+d+".length ":" ucs2length("+d+") ",o+=" "+p+" "+i+") { ";var r=t,m=m||[];m.push(o),o="",e.createErrors!==!1?(o+=" { keyword: '"+(r||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+i+" } ",e.opts.messages!==!1&&(o+=" , message: 'should NOT be ",o+="maxLength"==t?"longer":"shorter",o+=" than ",o+=f?"' + "+i+" + '":""+c,o+=" characters' "),e.opts.verbose&&(o+=" , schema:  ",o+=f?"validate.schema"+l:""+c,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var g=o;return o=m.pop(),o+=!e.compositeRule&&h?e.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+="} ",h&&(o+=" else { "),o}},{}],23:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r,i,o=" ",a=e.level,s=e.dataLevel,c=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,d="data"+(s||""),f=e.opts.$data&&c&&c.$data;f?(o+=" var schema"+a+" = "+e.util.getData(c.$data,s,e.dataPathArr)+"; ",i="schema"+a):i=c;var p="maxProperties"==t?">":"<";o+="if ( ",f&&(o+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),o+=" Object.keys("+d+").length "+p+" "+i+") { ";var r=t,m=m||[];m.push(o),o="",e.createErrors!==!1?(o+=" { keyword: '"+(r||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+i+" } ",e.opts.messages!==!1&&(o+=" , message: 'should NOT have ",o+="maxProperties"==t?"more":"less",o+=" than ",o+=f?"' + "+i+" + '":""+c,o+=" properties' "),e.opts.verbose&&(o+=" , schema:  ",o+=f?"validate.schema"+l:""+c,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var g=o;return o=m.pop(),o+=!e.compositeRule&&h?e.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+="} ",h&&(o+=" else { "),o}},{}],24:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=" ",i=e.schema[t],o=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,c=e.util.copy(e),l="";c.level++;var u="valid"+c.level,h=c.baseId,d=!0,f=i;if(f)for(var p,m=-1,g=f.length-1;m<g;)p=f[m+=1],e.util.schemaHasRules(p,e.RULES.all)&&(d=!1,c.schema=p,c.schemaPath=o+"["+m+"]",c.errSchemaPath=a+"/"+m,r+="  "+e.validate(c)+" ",c.baseId=h,s&&(r+=" if ("+u+") { ",l+="}"));return s&&(r+=d?" if (true) { ":" "+l.slice(0,-1)+" "),r=e.util.cleanUpCode(r)}},{}],25:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),h="valid"+i,d="errs__"+i,f=e.util.copy(e),p="";f.level++;var m="valid"+f.level,g=a.every(function(t){return e.util.schemaHasRules(t,e.RULES.all)});if(g){var v=f.baseId;r+=" var "+d+" = errors; var "+h+" = false;  ";var b=e.compositeRule;e.compositeRule=f.compositeRule=!0;var y=a;if(y)for(var w,_=-1,x=y.length-1;_<x;)w=y[_+=1],f.schema=w,f.schemaPath=s+"["+_+"]",f.errSchemaPath=c+"/"+_,r+="  "+e.validate(f)+" ",f.baseId=v,r+=" "+h+" = "+h+" || "+m+"; if (!"+h+") { ",p+="}";e.compositeRule=f.compositeRule=b,r+=" "+p+" if (!"+h+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(r+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } "),r=e.util.cleanUpCode(r)}else l&&(r+=" if (true) { ");return r}},{}],26:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d="valid"+o,f=e.opts.$data&&s&&s.$data;f?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,f||(i+=" var schema"+o+" = validate.schema"+c+";"),i+="var "+d+" = equal("+h+", schema"+o+"); if (!"+d+") {   ";var p=p||[];p.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",e.opts.messages!==!1&&(i+=" , message: 'should be equal to constant' "),e.opts.verbose&&(i+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),i+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" }",u&&(i+=" else { "),i}},{}],27:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),h="valid"+i,d="errs__"+i,f=e.util.copy(e),p="";f.level++;var m="valid"+f.level,g="i"+i,v=f.dataLevel=e.dataLevel+1,b="data"+v,y=e.baseId,w=e.util.schemaHasRules(a,e.RULES.all);if(r+="var "+d+" = errors;var "+h+";",w){var _=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.schema=a,f.schemaPath=s,f.errSchemaPath=c,r+=" var "+m+" = false; for (var "+g+" = 0; "+g+" < "+u+".length; "+g+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var x=u+"["+g+"]";f.dataPathArr[v]=g;var k=e.validate(f);f.baseId=y,r+=e.util.varOccurences(k,b)<2?" "+e.util.varReplace(k,b,x)+" ":" var "+b+" = "+x+"; "+k+" ",r+=" if ("+m+") break; }  ",e.compositeRule=f.compositeRule=_,r+=" "+p+" if (!"+m+") {"}else r+=" if ("+u+".length == 0) {";var S=S||[];S.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var j=r;return r=S.pop(),r+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+j+"]); ":" validate.errors = ["+j+"]; return false; ":" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",w&&(r+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r=e.util.cleanUpCode(r)}},{}],28:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r,i,o=" ",a=e.level,s=e.dataLevel,c=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,d="data"+(s||""),f="valid"+a,p="errs__"+a,m=e.opts.$data&&c&&c.$data;m?(o+=" var schema"+a+" = "+e.util.getData(c.$data,s,e.dataPathArr)+"; ",i="schema"+a):i=c;var g,v,b,y,w,_=this,x="definition"+a,k=_.definition,S="";if(m&&k.$data){w="keywordValidate"+a;var j=k.validateSchema;o+=" var "+x+" = RULES.custom['"+t+"'].definition; var "+w+" = "+x+".validate;"}else{if(y=e.useCustomRule(_,c,e.schema,e),!y)return;i="validate.schema"+l,w=y.code,g=k.compile,v=k.inline,b=k.macro}var P=w+".errors",E="i"+a,A="ruleErr"+a,T=k.async;if(T&&!e.async)throw new Error("async keyword in sync schema");if(v||b||(o+=""+P+" = null;"),o+="var "+p+" = errors;var "+f+";",m&&k.$data&&(S+="}",o+=" if ("+i+" === undefined) { "+f+" = true; } else { ",j&&(S+="}",o+=" "+f+" = "+x+".validateSchema("+i+"); if ("+f+") { ")),v)o+=k.statements?" "+y.validate+" ":" "+f+" = "+y.validate+"; ";else if(b){var C=e.util.copy(e),S="";C.level++;var M="valid"+C.level;C.schema=y.validate,C.schemaPath="";var O=e.compositeRule;e.compositeRule=C.compositeRule=!0;var I=e.validate(C).replace(/validate\.schema/g,w);e.compositeRule=C.compositeRule=O,o+=" "+I}else{var F=F||[];F.push(o),o="",o+="  "+w+".call( ",o+=e.opts.passContext?"this":"self",o+=g||k.schema===!1?" , "+d+" ":" , "+i+" , "+d+" , validate.schema"+e.schemaPath+" ",o+=" , (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var D=s?"data"+(s-1||""):"parentData",L=s?e.dataPathArr[s]:"parentDataProperty";o+=" , "+D+" , "+L+" , rootData )  ";var R=o;o=F.pop(),k.errors===!1?(o+=" "+f+" = ",T&&(o+=""+e.yieldAwait),o+=""+R+"; "):T?(P="customErrors"+a,o+=" var "+P+" = null; try { "+f+" = "+e.yieldAwait+R+"; } catch (e) { "+f+" = false; if (e instanceof ValidationError) "+P+" = e.errors; else throw e; } "):o+=" "+P+" = null; "+f+" = "+R+"; "}if(k.modifying&&(o+=" if ("+D+") "+d+" = "+D+"["+L+"];"),o+=""+S,k.valid)h&&(o+=" if (true) { ");else{o+=" if ( ",void 0===k.valid?(o+=" !",o+=b?""+M:""+f):o+=" "+!k.valid+" ",o+=") { ",r=_.keyword;var F=F||[];F.push(o),o="";var F=F||[];F.push(o),o="",e.createErrors!==!1?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+_.keyword+"' } ",e.opts.messages!==!1&&(o+=" , message: 'should pass \""+_.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var N=o;o=F.pop(),o+=!e.compositeRule&&h?e.async?" throw new ValidationError(["+N+"]); ":" validate.errors = ["+N+"]; return false; ":" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var U=o;o=F.pop(),v?k.errors?"full"!=k.errors&&(o+="  for (var "+E+"="+p+"; "+E+"<errors; "+E+"++) { var "+A+" = vErrors["+E+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(o+=" "+A+".schema = "+i+"; "+A+".data = "+d+"; "),o+=" } "):k.errors===!1?o+=" "+U+" ":(o+=" if ("+p+" == errors) { "+U+" } else {  for (var "+E+"="+p+"; "+E+"<errors; "+E+"++) { var "+A+" = vErrors["+E+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(o+=" "+A+".schema = "+i+"; "+A+".data = "+d+"; "),o+=" } } "):b?(o+="   var err =   ",e.createErrors!==!1?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+_.keyword+"' } ",e.opts.messages!==!1&&(o+=" , message: 'should pass \""+_.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(o+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; ")):k.errors===!1?o+=" "+U+" ":(o+=" if (Array.isArray("+P+")) { if (vErrors === null) vErrors = "+P+"; else vErrors = vErrors.concat("+P+"); errors = vErrors.length;  for (var "+E+"="+p+"; "+E+"<errors; "+E+"++) { var "+A+" = vErrors["+E+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+e.errorPath+";  "+A+'.schemaPath = "'+u+'";  ',e.opts.verbose&&(o+=" "+A+".schema = "+i+"; "+A+".data = "+d+"; "),o+=" } } else { "+U+" } "),o+=" } ",h&&(o+=" else { ")}return o}},{}],29:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),h="errs__"+i,d=e.util.copy(e),f="";d.level++;var p="valid"+d.level,m={},g={},v=e.opts.ownProperties;for(_ in a){var b=a[_],y=Array.isArray(b)?g:m;y[_]=b}r+="var "+h+" = errors;";var w=e.errorPath;r+="var missing"+i+";";for(var _ in g)if(y=g[_],y.length){if(r+=" if ( "+u+e.util.getProperty(_)+" !== undefined ",v&&(r+=" && Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(_)+"') "),l){r+=" && ( ";var x=y;if(x)for(var k,S=-1,j=x.length-1;S<j;){k=x[S+=1],S&&(r+=" || ");var P=e.util.getProperty(k),E=u+P;r+=" ( ( "+E+" === undefined ",v&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(k)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?k:P)+") ) "}r+=")) {  ";var A="missing"+i,T="' + "+A+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(w,A,!0):w+" + "+A);var C=C||[];C.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(_)+"', missingProperty: '"+T+"', depsCount: "+y.length+", deps: '"+e.util.escapeQuotes(1==y.length?y[0]:y.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",r+=1==y.length?"property "+e.util.escapeQuotes(y[0]):"properties "+e.util.escapeQuotes(y.join(", ")),r+=" when property "+e.util.escapeQuotes(_)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var M=r;r=C.pop(),r+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+M+"]); ":" validate.errors = ["+M+"]; return false; ":" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var O=y;if(O)for(var k,I=-1,F=O.length-1;I<F;){k=O[I+=1];var P=e.util.getProperty(k),T=e.util.escapeQuotes(k),E=u+P;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(w,k,e.opts.jsonPointers)),r+=" if ( "+E+" === undefined ",v&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(k)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(_)+"', missingProperty: '"+T+"', depsCount: "+y.length+", deps: '"+e.util.escapeQuotes(1==y.length?y[0]:y.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",r+=1==y.length?"property "+e.util.escapeQuotes(y[0]):"properties "+e.util.escapeQuotes(y.join(", ")),r+=" when property "+e.util.escapeQuotes(_)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",l&&(f+="}",r+=" else { ")}e.errorPath=w;var D=d.baseId;for(var _ in m){var b=m[_];e.util.schemaHasRules(b,e.RULES.all)&&(r+=" "+p+" = true; if ( "+u+e.util.getProperty(_)+" !== undefined ",v&&(r+=" && Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(_)+"') "),r+=") { ",d.schema=b,d.schemaPath=s+e.util.getProperty(_),d.errSchemaPath=c+"/"+e.util.escapeFragment(_),r+="  "+e.validate(d)+" ",d.baseId=D,r+=" }  ",l&&(r+=" if ("+p+") { ",f+="}"))}return l&&(r+="   "+f+" if ("+h+" == errors) {"),r=e.util.cleanUpCode(r)}},{}],30:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d="valid"+o,f=e.opts.$data&&s&&s.$data;f?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s;var p="i"+o,m="schema"+o;f||(i+=" var "+m+" = validate.schema"+c+";"),i+="var "+d+";",f&&(i+=" if (schema"+o+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+o+")) "+d+" = false; else {"),i+=""+d+" = false;for (var "+p+"=0; "+p+"<"+m+".length; "+p+"++) if (equal("+h+", "+m+"["+p+"])) { "+d+" = true; break; }",f&&(i+="  }  "),i+=" if (!"+d+") {   ";var g=g||[];g.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValues: schema"+o+" } ",e.opts.messages!==!1&&(i+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(i+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var v=i;return i=g.pop(),i+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" }",u&&(i+=" else { "),i}},{}],31:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||"");if(e.opts.format===!1)return l&&(r+=" if (true) { "),r;var h,d=e.opts.$data&&a&&a.$data;d?(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",h="schema"+i):h=a;var f=e.opts.unknownFormats,p=Array.isArray(f);if(d){var m="format"+i,g="isObject"+i,v="formatType"+i;r+=" var "+m+" = formats["+h+"]; var "+g+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+v+" = "+g+" && "+m+".type || 'string'; if ("+g+") { ",e.async&&(r+=" var async"+i+" = "+m+".async; "),r+=" "+m+" = "+m+".validate; } if (  ",d&&(r+=" ("+h+" !== undefined && typeof "+h+" != 'string') || "),r+=" (","ignore"!=f&&(r+=" ("+h+" && !"+m+" ",p&&(r+=" && self._opts.unknownFormats.indexOf("+h+") == -1 "),r+=") || "),r+=" ("+m+" && "+v+" == '"+n+"' && !(typeof "+m+" == 'function' ? ",r+=e.async?" (async"+i+" ? "+e.yieldAwait+" "+m+"("+u+") : "+m+"("+u+")) ":" "+m+"("+u+") ",r+=" : "+m+".test("+u+"))))) {"}else{var m=e.formats[a];if(!m){if("ignore"==f)return console.warn('unknown format "'+a+'" ignored in schema at path "'+e.errSchemaPath+'"'),l&&(r+=" if (true) { "),r;if(p&&f.indexOf(a)>=0)return l&&(r+=" if (true) { "),r;throw new Error('unknown format "'+a+'" is used in schema at path "'+e.errSchemaPath+'"')}var g="object"==typeof m&&!(m instanceof RegExp)&&m.validate,v=g&&m.type||"string";if(g){var b=m.async===!0;m=m.validate}if(v!=n)return l&&(r+=" if (true) { "),r;if(b){if(!e.async)throw new Error("async format in sync schema");var y="formats"+e.util.getProperty(a)+".validate";r+=" if (!("+e.yieldAwait+" "+y+"("+u+"))) { "}else{r+=" if (! ";var y="formats"+e.util.getProperty(a);g&&(y+=".validate"),r+="function"==typeof m?" "+y+"("+u+") ":" "+y+".test("+u+") ",r+=") { "}}var w=w||[];w.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { format:  ",r+=d?""+h:""+e.util.toQuotedString(a),r+="  } ",e.opts.messages!==!1&&(r+=" , message: 'should match format \"",r+=d?"' + "+h+" + '":""+e.util.escapeQuotes(a),r+="\"' "),e.opts.verbose&&(r+=" , schema:  ",r+=d?"validate.schema"+s:""+e.util.toQuotedString(a),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var _=r;return r=w.pop(),r+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+_+"]); ":" validate.errors = ["+_+"]; return false; ":" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",l&&(r+=" else { "),r}},{}],32:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),h="valid"+i,d="errs__"+i,f=e.util.copy(e),p="";f.level++;var m="valid"+f.level,g="i"+i,v=f.dataLevel=e.dataLevel+1,b="data"+v,y=e.baseId;if(r+="var "+d+" = errors;var "+h+";",Array.isArray(a)){var w=e.schema.additionalItems;if(w===!1){r+=" "+h+" = "+u+".length <= "+a.length+"; ";var _=c;c=e.errSchemaPath+"/additionalItems",r+="  if (!"+h+") {   ";var x=x||[];x.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+a.length+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have more than "+a.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var k=r;r=x.pop(),r+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+k+"]); ":" validate.errors = ["+k+"]; return false; ":" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",c=_,l&&(p+="}",r+=" else { ")}var S=a;if(S)for(var j,P=-1,E=S.length-1;P<E;)if(j=S[P+=1],e.util.schemaHasRules(j,e.RULES.all)){r+=" "+m+" = true; if ("+u+".length > "+P+") { ";var A=u+"["+P+"]";f.schema=j,f.schemaPath=s+"["+P+"]",f.errSchemaPath=c+"/"+P,f.errorPath=e.util.getPathExpr(e.errorPath,P,e.opts.jsonPointers,!0),f.dataPathArr[v]=P;var T=e.validate(f);f.baseId=y,r+=e.util.varOccurences(T,b)<2?" "+e.util.varReplace(T,b,A)+" ":" var "+b+" = "+A+"; "+T+" ",r+=" }  ",l&&(r+=" if ("+m+") { ",p+="}")}if("object"==typeof w&&e.util.schemaHasRules(w,e.RULES.all)){f.schema=w,f.schemaPath=e.schemaPath+".additionalItems",f.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+m+" = true; if ("+u+".length > "+a.length+") {  for (var "+g+" = "+a.length+"; "+g+" < "+u+".length; "+g+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var A=u+"["+g+"]";f.dataPathArr[v]=g;var T=e.validate(f);f.baseId=y,r+=e.util.varOccurences(T,b)<2?" "+e.util.varReplace(T,b,A)+" ":" var "+b+" = "+A+"; "+T+" ",l&&(r+=" if (!"+m+") break; "),r+=" } }  ",l&&(r+=" if ("+m+") { ",p+="}")}}else if(e.util.schemaHasRules(a,e.RULES.all)){f.schema=a,f.schemaPath=s,f.errSchemaPath=c,r+="  for (var "+g+" = 0; "+g+" < "+u+".length; "+g+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var A=u+"["+g+"]";f.dataPathArr[v]=g;var T=e.validate(f);f.baseId=y,r+=e.util.varOccurences(T,b)<2?" "+e.util.varReplace(T,b,A)+" ":" var "+b+" = "+A+"; "+T+" ",l&&(r+=" if (!"+m+") break; "),r+=" }"}return l&&(r+=" "+p+" if ("+d+" == errors) {"),r=e.util.cleanUpCode(r)}},{}],33:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d=e.opts.$data&&s&&s.$data;d?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,i+="var division"+o+";if (",d&&(i+=" "+r+" !== undefined && ( typeof "+r+" != 'number' || "),i+=" (division"+o+" = "+h+" / "+r+", ",i+=e.opts.multipleOfPrecision?" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+e.opts.multipleOfPrecision+" ":" division"+o+" !== parseInt(division"+o+") ",i+=" ) ",d&&(i+="  )  "),i+=" ) {   ";var f=f||[];f.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { multipleOf: "+r+" } ",
e.opts.messages!==!1&&(i+=" , message: 'should be multiple of ",i+=d?"' + "+r:""+r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+c:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var p=i;return i=f.pop(),i+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i}},{}],34:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),h="errs__"+i,d=e.util.copy(e);d.level++;var f="valid"+d.level;if(e.util.schemaHasRules(a,e.RULES.all)){d.schema=a,d.schemaPath=s,d.errSchemaPath=c,r+=" var "+h+" = errors;  ";var p=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.createErrors=!1;var m;d.opts.allErrors&&(m=d.opts.allErrors,d.opts.allErrors=!1),r+=" "+e.validate(d)+" ",d.createErrors=!0,m&&(d.opts.allErrors=m),e.compositeRule=d.compositeRule=p,r+=" if ("+f+") {   ";var g=g||[];g.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var v=r;r=g.pop(),r+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(r+=" if (false) { ");return r}},{}],35:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),h="valid"+i,d="errs__"+i,f=e.util.copy(e),p="";f.level++;var m="valid"+f.level;r+="var "+d+" = errors;var prevValid"+i+" = false;var "+h+" = false;";var g=f.baseId,v=e.compositeRule;e.compositeRule=f.compositeRule=!0;var b=a;if(b)for(var y,w=-1,_=b.length-1;w<_;)y=b[w+=1],e.util.schemaHasRules(y,e.RULES.all)?(f.schema=y,f.schemaPath=s+"["+w+"]",f.errSchemaPath=c+"/"+w,r+="  "+e.validate(f)+" ",f.baseId=g):r+=" var "+m+" = true; ",w&&(r+=" if ("+m+" && prevValid"+i+") "+h+" = false; else { ",p+="}"),r+=" if ("+m+") "+h+" = prevValid"+i+" = true;";return e.compositeRule=f.compositeRule=v,r+=""+p+"if (!"+h+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(r+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),r+="} else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r}},{}],36:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d=e.opts.$data&&s&&s.$data;d?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s;var f=d?"(new RegExp("+r+"))":e.usePattern(s);i+="if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'string') || "),i+=" !"+f+".test("+h+") ) {   ";var p=p||[];p.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { pattern:  ",i+=d?""+r:""+e.util.toQuotedString(s),i+="  } ",e.opts.messages!==!1&&(i+=" , message: 'should match pattern \"",i+=d?"' + "+r+" + '":""+e.util.escapeQuotes(s),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+c:""+e.util.toQuotedString(s),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),i+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i}},{}],37:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),h="valid"+i,d="errs__"+i,f=e.util.copy(e),p="";f.level++;var m="valid"+f.level,g="key"+i,v="idx"+i,b=f.dataLevel=e.dataLevel+1,y="data"+b,w="dataProperties"+i,_=Object.keys(a||{}),x=e.schema.patternProperties||{},k=Object.keys(x),S=e.schema.additionalProperties,j=_.length||k.length,P=S===!1,E="object"==typeof S&&Object.keys(S).length,A=e.opts.removeAdditional,T=P||E||A,C=e.opts.ownProperties,M=e.baseId,O=e.schema.required;if(O&&(!e.opts.v5||!O.$data)&&O.length<e.opts.loopRequired)var I=e.util.toHash(O);if(e.opts.patternGroups)var F=e.schema.patternGroups||{},D=Object.keys(F);if(r+="var "+d+" = errors;var "+m+" = true;",C&&(r+=" var "+w+" = undefined;"),T){if(r+=C?" "+w+" = "+w+" || Object.keys("+u+"); for (var "+v+"=0; "+v+"<"+w+".length; "+v+"++) { var "+g+" = "+w+"["+v+"]; ":" for (var "+g+" in "+u+") { ",j){if(r+=" var isAdditional"+i+" = !(false ",_.length)if(_.length>5)r+=" || validate.schema"+s+"["+g+"] ";else{var L=_;if(L)for(var R,N=-1,U=L.length-1;N<U;)R=L[N+=1],r+=" || "+g+" == "+e.util.toQuotedString(R)+" "}if(k.length){var $=k;if($)for(var z,B=-1,q=$.length-1;B<q;)z=$[B+=1],r+=" || "+e.usePattern(z)+".test("+g+") "}if(e.opts.patternGroups&&D.length){var V=D;if(V)for(var H,B=-1,W=V.length-1;B<W;)H=V[B+=1],r+=" || "+e.usePattern(H)+".test("+g+") "}r+=" ); if (isAdditional"+i+") { "}if("all"==A)r+=" delete "+u+"["+g+"]; ";else{var G=e.errorPath,Y="' + "+g+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers)),P)if(A)r+=" delete "+u+"["+g+"]; ";else{r+=" "+m+" = false; ";var K=c;c=e.errSchemaPath+"/additionalProperties";var X=X||[];X.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { additionalProperty: '"+Y+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have additional properties' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var Q=r;r=X.pop(),r+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+Q+"]); ":" validate.errors = ["+Q+"]; return false; ":" var err = "+Q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=K,l&&(r+=" break; ")}else if(E)if("failing"==A){r+=" var "+d+" = errors;  ";var Z=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.schema=S,f.schemaPath=e.schemaPath+".additionalProperties",f.errSchemaPath=e.errSchemaPath+"/additionalProperties",f.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers);var J=u+"["+g+"]";f.dataPathArr[b]=g;var ee=e.validate(f);f.baseId=M,r+=e.util.varOccurences(ee,y)<2?" "+e.util.varReplace(ee,y,J)+" ":" var "+y+" = "+J+"; "+ee+" ",r+=" if (!"+m+") { errors = "+d+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+u+"["+g+"]; }  ",e.compositeRule=f.compositeRule=Z}else{f.schema=S,f.schemaPath=e.schemaPath+".additionalProperties",f.errSchemaPath=e.errSchemaPath+"/additionalProperties",f.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers);var J=u+"["+g+"]";f.dataPathArr[b]=g;var ee=e.validate(f);f.baseId=M,r+=e.util.varOccurences(ee,y)<2?" "+e.util.varReplace(ee,y,J)+" ":" var "+y+" = "+J+"; "+ee+" ",l&&(r+=" if (!"+m+") break; ")}e.errorPath=G}j&&(r+=" } "),r+=" }  ",l&&(r+=" if ("+m+") { ",p+="}")}var te=e.opts.useDefaults&&!e.compositeRule;if(_.length){var ne=_;if(ne)for(var R,re=-1,ie=ne.length-1;re<ie;){R=ne[re+=1];var oe=a[R];if(e.util.schemaHasRules(oe,e.RULES.all)){var ae=e.util.getProperty(R),J=u+ae,se=te&&void 0!==oe["default"];f.schema=oe,f.schemaPath=s+ae,f.errSchemaPath=c+"/"+e.util.escapeFragment(R),f.errorPath=e.util.getPath(e.errorPath,R,e.opts.jsonPointers),f.dataPathArr[b]=e.util.toQuotedString(R);var ee=e.validate(f);if(f.baseId=M,e.util.varOccurences(ee,y)<2){ee=e.util.varReplace(ee,y,J);var ce=J}else{var ce=y;r+=" var "+y+" = "+J+"; "}if(se)r+=" "+ee+" ";else{if(I&&I[R]){r+=" if ( "+ce+" === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(R)+"') "),r+=") { "+m+" = false; ";var G=e.errorPath,K=c,le=e.util.escapeQuotes(R);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(G,R,e.opts.jsonPointers)),c=e.errSchemaPath+"/required";var X=X||[];X.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+le+"' } ",e.opts.messages!==!1&&(r+=" , message: '",r+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+le+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var Q=r;r=X.pop(),r+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+Q+"]); ":" validate.errors = ["+Q+"]; return false; ":" var err = "+Q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=K,e.errorPath=G,r+=" } else { "}else l?(r+=" if ( "+ce+" === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(R)+"') "),r+=") { "+m+" = true; } else { "):(r+=" if ("+ce+" !== undefined ",C&&(r+=" &&   Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(R)+"') "),r+=" ) { ");r+=" "+ee+" } "}}l&&(r+=" if ("+m+") { ",p+="}")}}if(k.length){var ue=k;if(ue)for(var z,he=-1,de=ue.length-1;he<de;){z=ue[he+=1];var oe=x[z];if(e.util.schemaHasRules(oe,e.RULES.all)){f.schema=oe,f.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(z),f.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(z),r+=C?" "+w+" = "+w+" || Object.keys("+u+"); for (var "+v+"=0; "+v+"<"+w+".length; "+v+"++) { var "+g+" = "+w+"["+v+"]; ":" for (var "+g+" in "+u+") { ",r+=" if ("+e.usePattern(z)+".test("+g+")) { ",f.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers);var J=u+"["+g+"]";f.dataPathArr[b]=g;var ee=e.validate(f);f.baseId=M,r+=e.util.varOccurences(ee,y)<2?" "+e.util.varReplace(ee,y,J)+" ":" var "+y+" = "+J+"; "+ee+" ",l&&(r+=" if (!"+m+") break; "),r+=" } ",l&&(r+=" else "+m+" = true; "),r+=" }  ",l&&(r+=" if ("+m+") { ",p+="}")}}}if(e.opts.patternGroups&&D.length){var fe=D;if(fe)for(var H,pe=-1,me=fe.length-1;pe<me;){H=fe[pe+=1];var ge=F[H],oe=ge.schema;if(e.util.schemaHasRules(oe,e.RULES.all)){f.schema=oe,f.schemaPath=e.schemaPath+".patternGroups"+e.util.getProperty(H)+".schema",f.errSchemaPath=e.errSchemaPath+"/patternGroups/"+e.util.escapeFragment(H)+"/schema",r+=" var pgPropCount"+i+" = 0;  ",r+=C?" "+w+" = "+w+" || Object.keys("+u+"); for (var "+v+"=0; "+v+"<"+w+".length; "+v+"++) { var "+g+" = "+w+"["+v+"]; ":" for (var "+g+" in "+u+") { ",r+=" if ("+e.usePattern(H)+".test("+g+")) { pgPropCount"+i+"++; ",f.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers);var J=u+"["+g+"]";f.dataPathArr[b]=g;var ee=e.validate(f);f.baseId=M,r+=e.util.varOccurences(ee,y)<2?" "+e.util.varReplace(ee,y,J)+" ":" var "+y+" = "+J+"; "+ee+" ",l&&(r+=" if (!"+m+") break; "),r+=" } ",l&&(r+=" else "+m+" = true; "),r+=" }  ",l&&(r+=" if ("+m+") { ",p+="}");var ve=ge.minimum,be=ge.maximum;if(void 0!==ve||void 0!==be){r+=" var "+h+" = true; ";var K=c;if(void 0!==ve){var ye=ve,we="minimum",_e="less";r+=" "+h+" = pgPropCount"+i+" >= "+ve+"; ",c=e.errSchemaPath+"/patternGroups/minimum",r+="  if (!"+h+") {   ";var X=X||[];X.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { reason: '"+we+"', limit: "+ye+", pattern: '"+e.util.escapeQuotes(H)+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have "+_e+" than "+ye+' properties matching pattern "'+e.util.escapeQuotes(H)+"\"' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var Q=r;r=X.pop(),r+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+Q+"]); ":" validate.errors = ["+Q+"]; return false; ":" var err = "+Q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",void 0!==be&&(r+=" else ")}if(void 0!==be){var ye=be,we="maximum",_e="more";r+=" "+h+" = pgPropCount"+i+" <= "+be+"; ",c=e.errSchemaPath+"/patternGroups/maximum",r+="  if (!"+h+") {   ";var X=X||[];X.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { reason: '"+we+"', limit: "+ye+", pattern: '"+e.util.escapeQuotes(H)+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have "+_e+" than "+ye+' properties matching pattern "'+e.util.escapeQuotes(H)+"\"' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var Q=r;r=X.pop(),r+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+Q+"]); ":" validate.errors = ["+Q+"]; return false; ":" var err = "+Q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}c=K,l&&(r+=" if ("+h+") { ",p+="}")}}}}return l&&(r+=" "+p+" if ("+d+" == errors) {"),r=e.util.cleanUpCode(r)}},{}],38:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),h="errs__"+i,d=e.util.copy(e),f="";d.level++;var p="valid"+d.level;if(e.util.schemaHasRules(a,e.RULES.all)){d.schema=a,d.schemaPath=s,d.errSchemaPath=c;var m="key"+i,g="idx"+i,v="i"+i,b="' + "+m+" + '",y=d.dataLevel=e.dataLevel+1,w="data"+y,_="dataProperties"+i,x=e.opts.ownProperties,k=e.baseId;r+=" var "+h+" = errors; ",x&&(r+=" var "+_+" = undefined; "),r+=x?" "+_+" = "+_+" || Object.keys("+u+"); for (var "+g+"=0; "+g+"<"+_+".length; "+g+"++) { var "+m+" = "+_+"["+g+"]; ":" for (var "+m+" in "+u+") { ",r+=" var startErrs"+i+" = errors; ";var S=m,j=e.compositeRule;e.compositeRule=d.compositeRule=!0;var P=e.validate(d);d.baseId=k,r+=e.util.varOccurences(P,w)<2?" "+e.util.varReplace(P,w,S)+" ":" var "+w+" = "+S+"; "+P+" ",e.compositeRule=d.compositeRule=j,r+=" if (!"+p+") { for (var "+v+"=startErrs"+i+"; "+v+"<errors; "+v+"++) { vErrors["+v+"].propertyName = "+m+"; }   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { propertyName: '"+b+"' } ",e.opts.messages!==!1&&(r+=" , message: 'property name \\'"+b+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(r+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),l&&(r+=" break; "),r+=" } }"}return l&&(r+=" "+f+" if ("+h+" == errors) {"),r=e.util.cleanUpCode(r)}},{}],39:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r,i,o=" ",a=e.level,s=e.dataLevel,c=e.schema[t],l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(s||""),d="valid"+a;if("#"==c||"#/"==c)e.isRoot?(r=e.async,i="validate"):(r=e.root.schema.$async===!0,i="root.refVal[0]");else{var f=e.resolveRef(e.baseId,c,e.isRoot);if(void 0===f){var p=e.MissingRefError.message(e.baseId,c);if("fail"==e.opts.missingRefs){console.error(p);var m=m||[];m.push(o),o="",e.createErrors!==!1?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { ref: '"+e.util.escapeQuotes(c)+"' } ",e.opts.messages!==!1&&(o+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(c)+"' "),e.opts.verbose&&(o+=" , schema: "+e.util.toQuotedString(c)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ";var g=o;o=m.pop(),o+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(o+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,c,p);console.warn(p),u&&(o+=" if (true) { ")}}else if(f.inline){var v=e.util.copy(e);v.level++;var b="valid"+v.level;v.schema=f.schema,v.schemaPath="",v.errSchemaPath=c;var y=e.validate(v).replace(/validate\.schema/g,f.code);o+=" "+y+" ",u&&(o+=" if ("+b+") { ")}else r=f.$async===!0,i=f.code}if(i){var m=m||[];m.push(o),o="",o+=e.opts.passContext?" "+i+".call(this, ":" "+i+"( ",o+=" "+h+", (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var w=s?"data"+(s-1||""):"parentData",_=s?e.dataPathArr[s]:"parentDataProperty";o+=" , "+w+" , "+_+", rootData)  ";var x=o;if(o=m.pop(),r){if(!e.async)throw new Error("async schema referenced by sync schema");u&&(o+=" var "+d+"; "),o+=" try { "+e.yieldAwait+" "+x+"; ",u&&(o+=" "+d+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",u&&(o+=" "+d+" = false; "),o+=" } ",u&&(o+=" if ("+d+") { ")}else o+=" if (!"+x+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",u&&(o+=" else { ")}return o}},{}],40:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d="valid"+o,f=e.opts.$data&&s&&s.$data;f?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s;var p="schema"+o;if(!f)if(s.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var m=[],g=s;if(g)for(var v,b=-1,y=g.length-1;b<y;){v=g[b+=1];var w=e.schema.properties[v];w&&e.util.schemaHasRules(w,e.RULES.all)||(m[m.length]=v)}}else var m=s;if(f||m.length){var _=e.errorPath,x=f||m.length>=e.opts.loopRequired,k=e.opts.ownProperties;if(u)if(i+=" var missing"+o+"; ",x){f||(i+=" var "+p+" = validate.schema"+c+"; ");var S="i"+o,j="schema"+o+"["+S+"]",P="' + "+j+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,j,e.opts.jsonPointers)),i+=" var "+d+" = true; ",f&&(i+=" if (schema"+o+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+o+")) "+d+" = false; else {"),i+=" for (var "+S+" = 0; "+S+" < "+p+".length; "+S+"++) { "+d+" = "+h+"["+p+"["+S+"]] !== undefined ",k&&(i+=" &&   Object.prototype.hasOwnProperty.call("+h+", "+p+"["+S+"]) "),i+="; if (!"+d+") break; } ",f&&(i+="  }  "),i+="  if (!"+d+") {   ";var E=E||[];E.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+P+"' } ",e.opts.messages!==!1&&(i+=" , message: '",i+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+P+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var A=i;i=E.pop(),i+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+A+"]); ":" validate.errors = ["+A+"]; return false; ":" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { "}else{i+=" if ( ";var T=m;if(T)for(var C,S=-1,M=T.length-1;S<M;){C=T[S+=1],S&&(i+=" || ");var O=e.util.getProperty(C),I=h+O;i+=" ( ( "+I+" === undefined ",k&&(i+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(C)+"') "),i+=") && (missing"+o+" = "+e.util.toQuotedString(e.opts.jsonPointers?C:O)+") ) "}i+=") {  ";var j="missing"+o,P="' + "+j+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,j,!0):_+" + "+j);var E=E||[];E.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+P+"' } ",e.opts.messages!==!1&&(i+=" , message: '",i+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+P+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var A=i;i=E.pop(),i+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+A+"]); ":" validate.errors = ["+A+"]; return false; ":" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { "}else if(x){f||(i+=" var "+p+" = validate.schema"+c+"; ");var S="i"+o,j="schema"+o+"["+S+"]",P="' + "+j+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,j,e.opts.jsonPointers)),f&&(i+=" if ("+p+" && !Array.isArray("+p+")) {  var err =   ",e.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+P+"' } ",e.opts.messages!==!1&&(i+=" , message: '",i+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+P+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+p+" !== undefined) { "),i+=" for (var "+S+" = 0; "+S+" < "+p+".length; "+S+"++) { if ("+h+"["+p+"["+S+"]] === undefined ",k&&(i+=" || ! Object.prototype.hasOwnProperty.call("+h+", "+p+"["+S+"]) "),i+=") {  var err =   ",e.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+P+"' } ",e.opts.messages!==!1&&(i+=" , message: '",i+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+P+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(i+="  }  ")}else{var F=m;if(F)for(var C,D=-1,L=F.length-1;D<L;){C=F[D+=1];var O=e.util.getProperty(C),P=e.util.escapeQuotes(C),I=h+O;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,C,e.opts.jsonPointers)),i+=" if ( "+I+" === undefined ",k&&(i+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(C)+"') "),i+=") {  var err =   ",e.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+P+"' } ",e.opts.messages!==!1&&(i+=" , message: '",i+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+P+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=_}else u&&(i+=" if (true) {");return i}},{}],41:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d="valid"+o,f=e.opts.$data&&s&&s.$data;if(f?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,(s||f)&&e.opts.uniqueItems!==!1){f&&(i+=" var "+d+"; if ("+r+" === false || "+r+" === undefined) "+d+" = true; else if (typeof "+r+" != 'boolean') "+d+" = false; else { "),i+=" var "+d+" = true; if ("+h+".length > 1) { var i = "+h+".length, j; outer: for (;i--;) { for (j = i; j--;) { if (equal("+h+"[i], "+h+"[j])) { "+d+" = false; break outer; } } } } ",f&&(i+="  }  "),i+=" if (!"+d+") {   ";var p=p||[];p.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+c:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var m=i;i=p.pop(),i+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",u&&(i+=" else { ")}else u&&(i+=" if (true) { ");return i}},{}],42:[function(e,t,n){"use strict";t.exports=function(e,t,n){function r(e){for(var t=e.rules,n=0;n<t.length;n++)if(i(t[n]))return!0}function i(t){return void 0!==e.schema[t.keyword]||t["implements"]&&o(t)}function o(t){for(var n=t["implements"],r=0;r<n.length;r++)if(void 0!==e.schema[n[r]])return!0}var a="",s=e.schema.$async===!0,c=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),l=e.self._getId(e.schema);if(e.isTop){if(s){e.async=!0;var u="es7"==e.opts.async;e.yieldAwait=u?"await":"yield"}a+=" var validate = ",s?u?a+=" (async function ":("*"!=e.opts.async&&(a+="co.wrap"),a+="(function* "):a+=" (function ",a+=" (data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",l&&(e.opts.sourceCode||e.opts.processCode)&&(a+=" "+("/*# sourceURL="+l+" */")+" ")}if("boolean"==typeof e.schema||!c&&!e.schema.$ref){var h,t="false schema",d=e.level,f=e.dataLevel,p=e.schema[t],m=e.schemaPath+e.util.getProperty(t),g=e.errSchemaPath+"/"+t,v=!e.opts.allErrors,b="data"+(f||""),y="valid"+d;if(e.schema===!1){e.isTop?v=!0:a+=" var "+y+" = false; ";var w=w||[];w.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(h||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(g)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: 'boolean schema is false' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+b+" "),a+=" } "):a+=" {} ";var _=a;a=w.pop(),a+=!e.compositeRule&&v?e.async?" throw new ValidationError(["+_+"]); ":" validate.errors = ["+_+"]; return false; ":" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else a+=e.isTop?s?" return data; ":" validate.errors = null; return true; ":" var "+y+" = true; ";return e.isTop&&(a+=" }); return validate; "),a}if(e.isTop){var x=e.isTop,d=e.level=0,f=e.dataLevel=0,b="data";e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],a+=" var vErrors = null; ",a+=" var errors = 0;     ",a+=" if (rootData === undefined) rootData = data; "}else{var d=e.level,f=e.dataLevel,b="data"+(f||"");if(l&&(e.baseId=e.resolve.url(e.baseId,l)),s&&!e.async)throw new Error("async schema in sync schema");a+=" var errs_"+d+" = errors;"}var h,y="valid"+d,v=!e.opts.allErrors,k="",S="",j=e.schema.type,P=Array.isArray(j);if(P&&1==j.length&&(j=j[0],P=!1),e.schema.$ref&&c){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(c=!1,console.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(j){if(e.opts.coerceTypes)var E=e.util.coerceToTypes(e.opts.coerceTypes,j);var A=e.RULES.types[j];if(E||P||A===!0||A&&!r(A)){var m=e.schemaPath+".type",g=e.errSchemaPath+"/type",m=e.schemaPath+".type",g=e.errSchemaPath+"/type",T=P?"checkDataTypes":"checkDataType";if(a+=" if ("+e.util[T](j,b,!0)+") { ",E){var C="dataType"+d,M="coerced"+d;a+=" var "+C+" = typeof "+b+"; ","array"==e.opts.coerceTypes&&(a+=" if ("+C+" == 'object' && Array.isArray("+b+")) "+C+" = 'array'; "),a+=" var "+M+" = undefined; ";var O="",I=E;if(I)for(var F,D=-1,L=I.length-1;D<L;)F=I[D+=1],D&&(a+=" if ("+M+" === undefined) { ",O+="}"),"array"==e.opts.coerceTypes&&"array"!=F&&(a+=" if ("+C+" == 'array' && "+b+".length == 1) { "+M+" = "+b+" = "+b+"[0]; "+C+" = typeof "+b+";  } "),"string"==F?a+=" if ("+C+" == 'number' || "+C+" == 'boolean') "+M+" = '' + "+b+"; else if ("+b+" === null) "+M+" = ''; ":"number"==F||"integer"==F?(a+=" if ("+C+" == 'boolean' || "+b+" === null || ("+C+" == 'string' && "+b+" && "+b+" == +"+b+" ","integer"==F&&(a+=" && !("+b+" % 1)"),a+=")) "+M+" = +"+b+"; "):"boolean"==F?a+=" if ("+b+" === 'false' || "+b+" === 0 || "+b+" === null) "+M+" = false; else if ("+b+" === 'true' || "+b+" === 1) "+M+" = true; ":"null"==F?a+=" if ("+b+" === '' || "+b+" === 0 || "+b+" === false) "+M+" = null; ":"array"==e.opts.coerceTypes&&"array"==F&&(a+=" if ("+C+" == 'string' || "+C+" == 'number' || "+C+" == 'boolean' || "+b+" == null) "+M+" = ["+b+"]; ");a+=" "+O+" if ("+M+" === undefined) {   ";var w=w||[];w.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(h||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(g)+" , params: { type: '",a+=P?""+j.join(","):""+j,a+="' } ",e.opts.messages!==!1&&(a+=" , message: 'should be ",a+=P?""+j.join(","):""+j,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+m+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+b+" "),a+=" } "):a+=" {} ";var _=a;a=w.pop(),a+=!e.compositeRule&&v?e.async?" throw new ValidationError(["+_+"]); ":" validate.errors = ["+_+"]; return false; ":" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else {  ";var R=f?"data"+(f-1||""):"parentData",N=f?e.dataPathArr[f]:"parentDataProperty";a+=" "+b+" = "+M+"; ",f||(a+="if ("+R+" !== undefined)"),a+=" "+R+"["+N+"] = "+M+"; } "}else{var w=w||[];w.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(h||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(g)+" , params: { type: '",a+=P?""+j.join(","):""+j,a+="' } ",e.opts.messages!==!1&&(a+=" , message: 'should be ",a+=P?""+j.join(","):""+j,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+m+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+b+" "),a+=" } "):a+=" {} ";var _=a;a=w.pop(),a+=!e.compositeRule&&v?e.async?" throw new ValidationError(["+_+"]); ":" validate.errors = ["+_+"]; return false; ":" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
}a+=" } "}}if(e.schema.$ref&&!c)a+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",v&&(a+=" } if (errors === ",a+=x?"0":"errs_"+d,a+=") { ",S+="}");else{e.opts.v5&&e.schema.patternGroups&&console.warn('keyword "patternGroups" is deprecated and disabled. Use option patternGroups: true to enable.');var U=e.RULES;if(U)for(var A,$=-1,z=U.length-1;$<z;)if(A=U[$+=1],r(A)){if(A.type&&(a+=" if ("+e.util.checkDataType(A.type,b)+") { "),e.opts.useDefaults&&!e.compositeRule)if("object"==A.type&&e.schema.properties){var p=e.schema.properties,B=Object.keys(p),q=B;if(q)for(var V,H=-1,W=q.length-1;H<W;){V=q[H+=1];var G=p[V];if(void 0!==G["default"]){var Y=b+e.util.getProperty(V);a+="  if ("+Y+" === undefined) "+Y+" = ",a+="shared"==e.opts.useDefaults?" "+e.useDefault(G["default"])+" ":" "+JSON.stringify(G["default"])+" ",a+="; "}}}else if("array"==A.type&&Array.isArray(e.schema.items)){var K=e.schema.items;if(K)for(var G,D=-1,X=K.length-1;D<X;)if(G=K[D+=1],void 0!==G["default"]){var Y=b+"["+D+"]";a+="  if ("+Y+" === undefined) "+Y+" = ",a+="shared"==e.opts.useDefaults?" "+e.useDefault(G["default"])+" ":" "+JSON.stringify(G["default"])+" ",a+="; "}}var Q=A.rules;if(Q)for(var Z,J=-1,ee=Q.length-1;J<ee;)if(Z=Q[J+=1],i(Z)){var te=Z.code(e,Z.keyword,A.type);te&&(a+=" "+te+" ",v&&(k+="}"))}if(v&&(a+=" "+k+" ",k=""),A.type&&(a+=" } ",j&&j===A.type&&!E)){a+=" else { ";var m=e.schemaPath+".type",g=e.errSchemaPath+"/type",w=w||[];w.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(h||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(g)+" , params: { type: '",a+=P?""+j.join(","):""+j,a+="' } ",e.opts.messages!==!1&&(a+=" , message: 'should be ",a+=P?""+j.join(","):""+j,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+m+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+b+" "),a+=" } "):a+=" {} ";var _=a;a=w.pop(),a+=!e.compositeRule&&v?e.async?" throw new ValidationError(["+_+"]); ":" validate.errors = ["+_+"]; return false; ":" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } "}v&&(a+=" if (errors === ",a+=x?"0":"errs_"+d,a+=") { ",S+="}")}}return v&&(a+=" "+S+" "),x?(s?(a+=" if (errors === 0) return data;           ",a+=" else throw new ValidationError(vErrors); "):(a+=" validate.errors = vErrors; ",a+=" return errors === 0;       "),a+=" }); return validate;"):a+=" var "+y+" = errors === errs_"+d+";",a=e.util.cleanUpCode(a),x&&(a=e.util.finalCleanUpCode(a,s)),a}},{}],43:[function(e,t,n){"use strict";function r(e,t){function n(e,t,n){for(var r,o=0;o<i.length;o++){var a=i[o];if(a.type==t){r=a;break}}r||(r={type:t,rules:[]},i.push(r));var c={keyword:e,definition:n,custom:!0,code:s,"implements":n["implements"]};r.rules.push(c),i.custom[e]=c}function r(e){if(!i.types[e])throw new Error("Unknown type "+e)}var i=this.RULES;if(i.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!a.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){if(t.macro&&void 0!==t.valid)throw new Error('"valid" option cannot be used with macro keywords');var o=t.type;if(Array.isArray(o)){var c,l=o.length;for(c=0;c<l;c++)r(o[c]);for(c=0;c<l;c++)n(e,o[c],t)}else o&&r(o),n(e,o,t);var u=t.$data===!0&&this._opts.$data;if(u&&!t.validate)throw new Error('$data support: "validate" function is not defined');var h=t.metaSchema;h&&(u&&(h={anyOf:[h,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#"}]}),t.validateSchema=this.compile(h,!0))}i.keywords[e]=i.all[e]=!0}function i(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1}function o(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var n=0;n<t.length;n++)for(var r=t[n].rules,i=0;i<r.length;i++)if(r[i].keyword==e){r.splice(i,1);break}}var a=/^[a-z_$][a-z0-9_$-]*$/i,s=e("./dotjs/custom");t.exports={add:r,get:i,remove:o}},{"./dotjs/custom":28}],44:[function(e,t,n){"use strict";var r="http://json-schema.org/draft-06/schema";t.exports=function(e){var t=e._opts.defaultMeta,n="string"==typeof t?{$ref:t}:e.getSchema(r)?{$ref:r}:{};e.addKeyword("patternGroups",{metaSchema:{type:"object",additionalProperties:{type:"object",required:["schema"],properties:{maximum:{type:"integer",minimum:0},minimum:{type:"integer",minimum:0},schema:n},additionalProperties:!1}}}),e.RULES.all.properties["implements"].push("patternGroups")}},{}],45:[function(e,t,n){t.exports={$schema:"http://json-schema.org/draft-06/schema#",$id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#",description:"Meta-schema for $data reference (JSON-schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},{}],46:[function(e,t,n){t.exports={$schema:"http://json-schema.org/draft-06/schema#",$id:"http://json-schema.org/draft-06/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{"default":0}]},simpleTypes:{"enum":["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,"default":[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},title:{type:"string"},description:{type:"string"},"default":{},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],"default":{}},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean","default":!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},"default":{}},properties:{type:"object",additionalProperties:{$ref:"#"},"default":{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},"default":{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},"const":{},"enum":{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},"default":{}}},{}],47:[function(e,t,n){!function(e,t,n){"use strict";function r(e,t,n){if(!e)throw ngMinErr("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function i(e,t){return e||t?e?t?(N(e)&&(e=e.join(" ")),N(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function o(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function a(e,t,n){var r="";return e=N(e)?e:e&&U(e)&&e.length?e.split(/\s+/):[],R(e,function(e,i){e&&e.length>0&&(r+=i>0?" ":"",r+=n?t+e:e+t)}),r}function s(e,t){var n=e.indexOf(t);t>=0&&e.splice(n,1)}function c(e){if(e instanceof L)switch(e.length){case 0:return[];case 1:if(e[0].nodeType===H)return e;break;default:return L(l(e))}if(e.nodeType===H)return L(e)}function l(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType==H)return n}}function u(e,t,n){R(t,function(t){e.addClass(t,n)})}function h(e,t,n){R(t,function(t){e.removeClass(t,n)})}function d(e){return function(t,n){n.addClass&&(u(e,t,n.addClass),n.addClass=null),n.removeClass&&(h(e,t,n.removeClass),n.removeClass=null)}}function f(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||F;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=F},e.$$prepared=!0}return e}function p(e,t){m(e,t),g(e,t)}function m(e,t){t.from&&(e.css(t.from),t.from=null)}function g(e,t){t.to&&(e.css(t.to),t.to=null)}function v(e,t,n){var r=(t.addClass||"")+" "+(n.addClass||""),i=(t.removeClass||"")+" "+(n.removeClass||""),o=b(e.attr("class"),r,i);return D(t,n),o.addClass?t.addClass=o.addClass:t.addClass=null,o.removeClass?t.removeClass=o.removeClass:t.removeClass=null,t}function b(e,t,n){function r(e){U(e)&&(e=e.split(" "));var t={};return R(e,function(e){e.length&&(t[e]=!0)}),t}var i=1,o=-1,a={};e=r(e),t=r(t),R(t,function(e,t){a[t]=i}),n=r(n),R(n,function(e,t){a[t]=a[t]===i?null:o});var s={addClass:"",removeClass:""};return R(a,function(t,n){var r,a;t===i?(r="addClass",a=!e[n]):t===o&&(r="removeClass",a=e[n]),a&&(s[r].length&&(s[r]+=" "),s[r]+=n)}),s}function y(e){return e instanceof t.element?e[0]:e}function w(e,t,n){var r=Object.create(null),i=e.getComputedStyle(t)||{};return R(n,function(e,t){var n=i[e];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=_(n)),0===n&&(n=null),r[t]=n}}),r}function _(e){var t=0,n=e.split(/\s*,\s*/);return R(n,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function x(e){return 0===e||null!=e}function k(e,t){var n=C,r=e+"s";return t?n+=Q:r+=" linear all",[n,r]}function S(e){return[ce,e+"s"]}function j(e,t){var n=t?se:le;return[n,e+"s"]}function P(e,t){var n=t?"-"+t+"s":"";return A(e,[le,n]),[le,n]}function E(e,t){var n=t?"paused":"",r=O+ne;return A(e,[r,n]),[r,n]}function A(e,t){var n=t[0],r=t[1];e.style[n]=r}function T(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}var C,M,O,I,F=t.noop,D=t.extend,L=t.element,R=t.forEach,N=t.isArray,U=t.isString,$=t.isObject,z=t.isUndefined,B=t.isDefined,q=t.isFunction,V=t.isElement,H=1,W="ng-animate",G="$$ngAnimateChildren",Y=["$$rAF",function(e){function t(e){o.push([].concat(e)),n()}function n(){if(o.length){for(var t=[],a=0;a<o.length;a++){var s=o[a];r(s),s.length&&t.push(s)}o=t,i||e(function(){i||n()})}}function r(e){var t=e.shift();t()}var i,o=[];return t.waitUntilQuiet=function(t){i&&i(),i=e(function(){i=null,t(),n()})},t}],K=[function(){return function(e,n,r){var i=r.ngAnimateChildren;t.isString(i)&&0===i.length?n.data(G,!0):r.$observe("ngAnimateChildren",function(e){e="on"===e||"true"===e,n.data(G,e)})}}],X="";e.ontransitionend===n&&e.onwebkittransitionend!==n?(X="-webkit-",C="WebkitTransition",M="webkitTransitionEnd transitionend"):(C="transition",M="transitionend"),e.onanimationend===n&&e.onwebkitanimationend!==n?(X="-webkit-",O="WebkitAnimation",I="webkitAnimationEnd animationend"):(O="animation",I="animationend");var Q="Duration",Z="Property",J="Delay",ee="TimingFunction",te="IterationCount",ne="PlayState",re=3,ie=1.5,oe=1e3,ae=9999,se=O+J,ce=O+Q,le=C+J,ue=C+Q,he={transitionDuration:ue,transitionDelay:le,transitionProperty:C+Z,animationDuration:ce,animationDelay:se,animationIterationCount:O+te},de={transitionDuration:ue,transitionDelay:le,animationDuration:ce,animationDelay:se},fe=["$animateProvider",function(e){var t=T(),n=T();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$document","$sniffer","$$rAFScheduler",function(e,r,i,c,l,u,h){function v(e,t){var n="$$ngAnimateParentKey",r=e.parentNode,i=r[n]||(r[n]=++U);return i+"-"+e.getAttribute("class")+"-"+t}function b(n,r,i,o){var a=t.get(i);return a||(a=w(e,n,o),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),t.put(i,a),a}function _(i,o,s,c){var l;if(t.count(s)>0&&(l=n.get(s),!l)){var u=a(o,"-stagger");r.addClass(i,u),l=w(e,i,c),l.animationDuration=Math.max(l.animationDuration,0),l.transitionDuration=Math.max(l.transitionDuration,0),r.removeClass(i,u),n.put(s,l)}return l||{}}function T(e){z.push(e),h.waitUntilQuiet(function(){t.flush(),n.flush();for(var e=$.offsetWidth+1,r=0;r<z.length;r++)z[r](e);z.length=0})}function F(e,t,n){var r=b(e,t,n,he),i=r.animationDelay,o=r.transitionDelay;return r.maxDelay=i&&o?Math.max(i,o):i||o,r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration),r}function D(e,n){function l(){d()}function h(){d(!0)}function d(t){$||B&&z||($=!0,z=!1,r.removeClass(e,ce),r.removeClass(e,ue),E(U,!1),P(U,!1),R(K,function(e){U.style[e[0]]=""}),L(e,n),p(e,n),n.onDone&&n.onDone(),q&&q.complete(!t))}function b(e){Se.blockTransition&&P(U,e),Se.blockKeyframeAnimation&&E(U,!!e)}function w(){return q=new i({end:l,cancel:h}),d(),{$$willAnimate:!1,start:function(){return q},end:l}}function D(){function t(){if(!$){if(b(!1),R(K,function(e){var t=e[0],n=e[1];U.style[t]=n}),L(e,n),r.addClass(e,ue),Se.recalculateTimingStyles){if(le=U.className+" "+ce,fe=v(U,le),xe=F(U,le,fe),ke=xe.maxDelay,H=Math.max(ke,0),G=xe.maxDuration,0===G)return void d();Se.hasTransitions=xe.transitionDuration>0,Se.hasAnimations=xe.animationDuration>0}if(Se.applyTransitionDelay||Se.applyAnimationDelay){ke="boolean"!=typeof n.delay&&x(n.delay)?parseFloat(n.delay):ke,H=Math.max(ke,0);var t;Se.applyTransitionDelay&&(xe.transitionDelay=ke,t=j(ke),K.push(t),U.style[t[0]]=t[1]),Se.applyAnimationDelay&&(xe.animationDelay=ke,t=j(ke,!0),K.push(t),U.style[t[0]]=t[1])}if(W=H*oe,Y=G*oe,n.easing){var s,u=n.easing;Se.hasTransitions&&(s=C+ee,K.push([s,u]),U.style[s]=u),Se.hasAnimations&&(s=O+ee,K.push([s,u]),U.style[s]=u)}xe.transitionDuration&&l.push(M),xe.animationDuration&&l.push(I),a=Date.now(),e.on(l.join(" "),o),c(i,W+ie*Y),g(e,n)}}function i(){d()}function o(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||t.timeStamp||Date.now(),r=parseFloat(t.elapsedTime.toFixed(re));Math.max(n-a,0)>=W&&r>=G&&(B=!0,d())}if(!$){var a,l=[],u=function(e){if(B)z&&e&&(z=!1,d());else if(z=!e,xe.animationDuration){var t=E(U,z);z?K.push(t):s(K,t)}},h=we>0&&(xe.transitionDuration&&0===pe.transitionDuration||xe.animationDuration&&0===pe.animationDuration)&&Math.max(pe.animationDelay,pe.transitionDelay);h?c(t,Math.floor(h*we*oe),!1):t(),V.resume=function(){u(!0)},V.pause=function(){u(!1)}}}var U=y(e);n=f(n);var $,z,B,q,V,H,W,G,Y,K=[],X=e.attr("class"),Q=o(n);if(0===n.duration||!u.animations&&!u.transitions)return w();var J=n.event&&N(n.event)?n.event.join(" "):n.event,te=J&&n.structural,ne="",se="";te?ne=a(J,"ng-",!0):J&&(ne=J),n.addClass&&(se+=a(n.addClass,"-add")),n.removeClass&&(se.length&&(se+=" "),se+=a(n.removeClass,"-remove")),n.applyClassesEarly&&se.length&&(L(e,n),se="");var ce=[ne,se].join(" ").trim(),le=X+" "+ce,ue=a(ce,"-active"),he=Q.to&&Object.keys(Q.to).length>0;if(!he&&!ce)return w();var fe,pe;if(n.stagger>0){var me=parseFloat(n.stagger);pe={transitionDelay:me,animationDelay:me,transitionDuration:0,animationDuration:0}}else fe=v(U,le),pe=_(U,ce,fe,de);r.addClass(e,ce);var ge;if(n.transitionStyle){var ve=[C,n.transitionStyle];A(U,ve),K.push(ve)}if(n.duration>=0){ge=U.style[C].length>0;var be=k(n.duration,ge);A(U,be),K.push(be)}if(n.keyframeStyle){var ye=[O,n.keyframeStyle];A(U,ye),K.push(ye)}var we=pe?n.staggerIndex>=0?n.staggerIndex:t.count(fe):0,_e=0===we;_e&&P(U,ae);var xe=F(U,le,fe),ke=xe.maxDelay;H=Math.max(ke,0),G=xe.maxDuration;var Se={};return Se.hasTransitions=xe.transitionDuration>0,Se.hasAnimations=xe.animationDuration>0,Se.hasTransitionAll=Se.hasTransitions&&"all"==xe.transitionProperty,Se.applyTransitionDuration=he&&(Se.hasTransitions&&!Se.hasTransitionAll||Se.hasAnimations&&!Se.hasTransitions),Se.applyAnimationDuration=n.duration&&Se.hasAnimations,Se.applyTransitionDelay=x(n.delay)&&(Se.applyTransitionDuration||Se.hasTransitions),Se.applyAnimationDelay=x(n.delay)&&Se.hasAnimations,Se.recalculateTimingStyles=se.length>0,(Se.applyTransitionDuration||Se.applyAnimationDuration)&&(G=n.duration?parseFloat(n.duration):G,Se.applyTransitionDuration&&(Se.hasTransitions=!0,xe.transitionDuration=G,ge=U.style[C+Z].length>0,K.push(k(G,ge))),Se.applyAnimationDuration&&(Se.hasAnimations=!0,xe.animationDuration=G,K.push(S(G)))),0!==G||Se.recalculateTimingStyles?(null==n.duration&&xe.transitionDuration>0&&(Se.recalculateTimingStyles=Se.recalculateTimingStyles||_e),W=H*oe,Y=G*oe,n.skipBlocking||(Se.blockTransition=xe.transitionDuration>0,Se.blockKeyframeAnimation=xe.animationDuration>0&&pe.animationDelay>0&&0===pe.animationDuration),m(e,n),Se.blockTransition||P(U,!1),b(G),{$$willAnimate:!0,end:l,start:function(){if(!$)return V={end:l,cancel:h,resume:null,pause:null},q=new i(V),T(D),q}}):w()}var L=d(r),U=0,$=y(l).body,z=[];return D}]}],pe=["$$animationProvider",function(e){e.drivers.push("$$animateCssDriver");var t="ng-animate-shim",n="ng-anchor",r="ng-anchor-out",i="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$document","$sniffer",function(e,o,a,s,c,l){function u(e){return e.replace(/\bng-\S+\b/g,"")}function h(e,t){return U(e)&&(e=e.split(" ")),U(t)&&(t=t.split(" ")),e.filter(function(e){return t.indexOf(e)===-1}).join(" ")}function d(o,s,c){function l(e){var t={},n=y(e).getBoundingClientRect();return R(["width","height","top","left"],function(e){var r=n[e];switch(e){case"top":r+=m.scrollTop;break;case"left":r+=m.scrollLeft}t[e]=Math.floor(r)+"px"}),t}function d(){var t=e(b,{addClass:r,delay:!0,from:l(s)});return t.$$willAnimate?t:null}function f(e){return e.attr("class")||""}function p(){var t=u(f(c)),n=h(t,w),o=h(w,t),a=e(b,{to:l(c),addClass:i+" "+n,removeClass:r+" "+o,delay:!0});return a.$$willAnimate?a:null}function g(){b.remove(),s.removeClass(t),c.removeClass(t)}var b=L(y(s).cloneNode(!0)),w=u(f(b));s.addClass(t),c.addClass(t),b.addClass(n),v.append(b);var _,x=d();if(!x&&(_=p(),!_))return g();var k=x||_;return{start:function(){function e(){n&&n.end()}var t,n=k.start();return n.done(function(){return n=null,!_&&(_=p())?(n=_.start(),n.done(function(){n=null,g(),t.complete()}),n):(g(),void t.complete())}),t=new a({end:e,cancel:e})}}}function f(e,t,n,r){var i=p(e),o=p(t),s=[];if(R(r,function(e){var t=e.out,r=e["in"],i=d(n,t,r);i&&s.push(i)}),i||o||0!==s.length)return{start:function(){function e(){R(t,function(e){e.end()})}var t=[];i&&t.push(i.start()),o&&t.push(o.start()),R(s,function(e){t.push(e.start())});var n=new a({end:e,cancel:e});return a.all(t,function(e){n.complete(e)}),n}}}function p(t){var n=t.element,r=t.options||{};t.structural?(r.structural=r.applyClassesEarly=!0,r.event=t.event,"leave"===r.event&&(r.onDone=r.domOperation)):r.event=null;var i=e(n,r);return i.$$willAnimate?i:null}if(!l.animations&&!l.transitions)return F;var m=y(c).body,g=y(s),v=L(m.parentNode===g?m:g);return function(e){return e.from&&e.to?f(e.from,e.to,e.classes,e.anchors):p(e)}}]}],me=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$rAFMutex","$$jqLite",function(t,n,r,i){function o(n){n=N(n)?n:n.split(" ");for(var r=[],i={},o=0;o<n.length;o++){var a=n[o],s=e.$$registeredAnimations[a];s&&!i[a]&&(r.push(t.get(s)),i[a]=!0)}return r}var a=d(i);return function(e,t,r,i){function s(){i.domOperation(),a(e,i)}function c(e,t,r,i,o){var a;switch(r){case"animate":a=[t,i.from,i.to,o];break;case"setClass":a=[t,m,g,o];break;case"addClass":a=[t,m,o];break;case"removeClass":a=[t,g,o];break;default:a=[t,o]}a.push(i);var s=e.apply(e,a);if(s)if(q(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(q(s))return s;return F}function l(e,t,r,i,o){var a=[];return R(i,function(i){var s=i[o];s&&a.push(function(){var i,o,a=!1,l=function(e){a||(a=!0,(o||F)(e),i.complete(!e))};return i=new n({end:function(){l()},cancel:function(){l(!0)}}),o=c(s,e,t,r,function(e){var t=e===!1;l(t)}),i})}),a}function u(e,t,r,i,o){var a=l(e,t,r,i,o);if(0===a.length){var s,c;"beforeSetClass"===o?(s=l(e,"removeClass",r,i,"beforeRemoveClass"),c=l(e,"addClass",r,i,"beforeAddClass")):"setClass"===o&&(s=l(e,"removeClass",r,i,"removeClass"),c=l(e,"addClass",r,i,"addClass")),s&&(a=a.concat(s)),c&&(a=a.concat(c))}if(0!==a.length)return function(e){var t=[];return a.length&&R(a,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){R(t,function(t){e?t.cancel():t.end()})}}}3===arguments.length&&$(r)&&(i=r,r=null),i=f(i),r||(r=e.attr("class")||"",i.addClass&&(r+=" "+i.addClass),i.removeClass&&(r+=" "+i.removeClass));var h,d,m=i.addClass,g=i.removeClass,v=o(r);if(v.length){var b,y;"leave"==t?(y="leave",b="afterLeave"):(y="before"+t.charAt(0).toUpperCase()+t.substr(1),b=t),"enter"!==t&&"move"!==t&&(h=u(e,t,i,v,y)),d=u(e,t,i,v,b)}if(h||d)return{start:function(){function t(t){c=!0,s(),p(e,i),l.complete(t)}function r(e){c||((o||F)(e),t(e))}var o,a=[];h&&a.push(function(e){o=h(e)}),a.length?a.push(function(e){s(),e(!0)}):s(),d&&a.push(function(e){o=d(e)});var c=!1,l=new n({end:function(){r()},cancel:function(){r(!0)}});return n.chain(a,t),l}}}}]}],ge=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){var n=t.element,r=t.event,i=t.options,o=t.classes;return e(n,r,o,i)}return function(e){if(e.from&&e.to){var r=n(e.from),i=n(e.to);if(!r&&!i)return;return{start:function(){function e(){return function(){R(o,function(e){e.end()})}}function n(e){a.complete(e)}var o=[];r&&o.push(r.start()),i&&o.push(i.start()),t.all(o,n);var a=new t({end:e(),cancel:e()});return a}}}return n(e)}}]}],ve="data-ng-animate",be="$ngAnimatePin",ye=["$animateProvider",function(e){function t(e,t,n,r){return a[e].some(function(e){return e(t,n,r)})}function n(e,t){e=e||{};var n=(e.addClass||"").length>0,r=(e.removeClass||"").length>0;return t?n&&r:n||r}var i=1,o=2,a=this.rules={skip:[],cancel:[],join:[]};a.join.push(function(e,t,r){return!t.structural&&n(t.options)}),a.skip.push(function(e,t,r){return!t.structural&&!n(t.options)}),a.skip.push(function(e,t,n){return"leave"==n.event&&t.structural}),a.skip.push(function(e,t,n){return n.structural&&!t.structural}),a.cancel.push(function(e,t,n){return n.structural&&t.structural}),a.cancel.push(function(e,t,n){return n.state===o&&t.structural}),a.cancel.push(function(e,t,n){var r=t.options,i=n.options;return r.addClass&&r.addClass===i.removeClass||r.removeClass&&r.removeClass===i.addClass}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite",function(a,s,u,h,m,g,b,w,_){function x(e,t){return v(e,t,{})}function k(e,t){var n=y(e),r=[],i=W[t];return i&&R(i,function(e){e.node.contains(n)&&r.push(e.callback)}),r}function S(e,t,n,r){a(function(){R(k(t,e),function(e){e(t,n,r)})})}function j(e,r,a){function l(t,n,r,i){S(n,e,r,i),t.progress(n,r,i)}function u(t){X(e,a),p(e,a),a.domOperation(),m.complete(!t)}var h,d;e=c(e),e&&(h=y(e),d=e.parent()),a=f(a);var m=new b;if(!h)return u(),m;N(a.addClass)&&(a.addClass=a.addClass.join(" ")),N(a.removeClass)&&(a.removeClass=a.removeClass.join(" ")),a.from&&!$(a.from)&&(a.from=null),a.to&&!$(a.to)&&(a.to=null);var w=[h.className,a.addClass,a.removeClass].join(" ");if(!K(w))return u(),m;var _=["enter","move","leave"].indexOf(r)>=0,k=!F||I.get(h),j=!k&&O.get(h)||{},A=!!j.state;if(k||A&&j.state==i||(k=!C(e,d,r)),k)return u(),m;_&&P(e);var D={structural:_,element:e,event:r,close:u,options:a,runner:m};if(A){var L=t("skip",e,D,j);if(L)return j.state===o?(u(),m):(v(e,j.options,a),j.runner);var R=t("cancel",e,D,j);if(R)j.state===o?j.runner.end():j.structural?j.close():v(e,D.options,j.options);else{var U=t("join",e,D,j);if(U){if(j.state!==o)return r=D.event=j.event,a=v(e,j.options,D.options),m;x(e,a)}}}else x(e,a);var z=D.structural;if(z||(z="animate"===D.event&&Object.keys(D.options.to||{}).length>0||n(D.options)),!z)return u(),E(e),m;_&&T(d);var B=(j.counter||0)+1;return D.counter=B,M(e,i,D),s.$$postDigest(function(){var t=O.get(h),i=!t;t=t||{};var s=e.parent()||[],c=s.length>0&&("animate"===t.event||t.structural||n(t.options));if(i||t.counter!==B||!c)return i&&(X(e,a),p(e,a)),(i||_&&t.event!==r)&&(a.domOperation(),m.end()),void(c||E(e));r=!t.structural&&n(t.options,!0)?"setClass":t.event,t.structural&&T(s),M(e,o);var d=g(e,r,t.options);d.done(function(t){u(!t);var n=O.get(h);n&&n.counter===B&&E(y(e)),l(m,r,"close",{})}),m.setHost(d),l(m,r,"start",{})}),m}function P(e){var t=y(e),n=t.querySelectorAll("["+ve+"]");R(n,function(e){var t=parseInt(e.getAttribute(ve)),n=O.get(e);switch(t){case o:n.runner.end();case i:n&&O.remove(e)}})}function E(e){var t=y(e);t.removeAttribute(ve),O.remove(t)}function A(e,t){return y(e)===y(t)}function T(e){function t(e,t){!t.structural&&n(t.options)&&(t.state===o&&t.runner.end(),E(e))}for(var r=y(e);;){if(!r||r.nodeType!==H)break;var i=O.get(r);i&&t(r,i),r=r.parentNode}}function C(e,t,n){var r,i=!1,o=!1,a=!1,s=e.data(be);for(s&&(t=s);t&&t.length;){o||(o=A(t,u));var c=t[0];if(c.nodeType!==H)break;var l=O.get(c)||{};if(a||(a=l.structural||I.get(c)),z(r)||r===!0){var h=t.data(G);B(h)&&(r=h)}if(a&&r===!1)break;o||(o=A(t,u),o||(s=t.data(be),s&&(t=s))),i||(i=A(t,q)),t=t.parent()}var d=!a||r;return d&&o&&i}function M(e,t,n){n=n||{},n.state=t;var r=y(e);r.setAttribute(ve,t);var i=O.get(r),o=i?D(i,n):n;O.put(r,o)}var O=new m,I=new m,F=null,U=s.$watch(function(){return 0===w.totalPendingRequests},function(e){e&&(U(),s.$$postDigest(function(){s.$$postDigest(function(){null===F&&(F=!0)})}))}),q=L(h[0].body),W={},Y=e.classNameFilter(),K=Y?function(e){return Y.test(e)}:function(){return!0},X=d(_);return{on:function(e,t,n){var r=l(t);W[e]=W[e]||[],W[e].push({node:r,callback:n})},off:function(e,t,n){function r(e,t,n){var r=l(t);return e.filter(function(e){var t=e.node===r&&(!n||e.callback===n);return!t})}var i=W[e];i&&(W[e]=1===arguments.length?null:r(i,t,n))},pin:function(e,t){r(V(e),"element","not an element"),r(V(t),"parentElement","not an element"),e.data(be,t)},push:function(e,t,n,r){return n=n||{},n.domOperation=r,j(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!F;else{var r=V(e);if(r){var i=y(e),o=I.get(i);1===n?t=!o:(t=!!t,t?o&&I.remove(i):I.put(i,!0))}else t=F=!!e}return t}}}]}],we=["$$rAF",function(e){return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}],_e=["$q","$$rAFMutex",function(e,t){function n(e){this.setHost(e),this._doneCallbacks=[],this._runInAnimationFrame=t(),this._state=0}var r=0,i=1,o=2;return n.chain=function(e,t){function n(){return r===e.length?void t(!0):void e[r](function(e){return e===!1?void t(!1):(r++,void n())})}var r=0;n()},n.all=function(e,t){function n(n){i=i&&n,++r===e.length&&t(i)}var r=0,i=!0;R(e,function(e){e.done(n)})},n.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===o?e():this._doneCallbacks.push(e)},progress:F,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===r&&(t._state=i,t._runInAnimationFrame(function(){t._resolve(e)}))},_resolve:function(e){this._state!==o&&(R(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=o)}},n}],xe=["$animateProvider",function(e){function t(e,t){e.data(s,t)}function n(e){e.removeData(s)}function r(e){return e.data(s)}var o="ng-animate-ref",a=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$rAFScheduler",function(e,s,c,l,u){var h=[],m=d(e),g=0,v=0,b=[];return function(d,w,_){function x(e){var t="["+o+"]",n=e.hasAttribute(o)?[e]:e.querySelectorAll(t),r=[];return R(n,function(e){var t=e.getAttribute(o);t&&t.length&&r.push(e)}),r}function k(e){var t=[],n={};R(e,function(e,r){var i=e.element,a=y(i),s=e.event,c=["enter","move"].indexOf(s)>=0,l=e.structural?x(a):[];if(l.length){var u=c?"to":"from";R(l,function(e){var t=e.getAttribute(o);n[t]=n[t]||{},n[t][u]={animationID:r,element:L(e)}})}else t.push(e)});var r={},i={};return R(n,function(n,o){var a=n.from,s=n.to;if(!a||!s){var c=a?a.animationID:s.animationID,l=c.toString();return void(r[l]||(r[l]=!0,t.push(e[c])))}var u=e[a.animationID],h=e[s.animationID],d=a.animationID.toString();if(!i[d]){var f=i[d]={structural:!0,beforeStart:function(){u.beforeStart(),h.beforeStart()},close:function(){u.close(),h.close()},classes:S(u.classes,h.classes),from:u,to:h,anchors:[]};f.classes.length?t.push(f):(t.push(u),t.push(h))}i[d].anchors.push({out:a.element,"in":s.element})}),t}function S(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],r=0;r<e.length;r++){var i=e[r];if("ng-"!==i.substring(0,3))for(var o=0;o<t.length;o++)if(i===t[o]){n.push(i);break}}return n.join(" ")}function j(e){for(var t=a.length-1;t>=0;t--){var n=a[t];if(c.has(n)){var r=c.get(n),i=r(e);if(i)return i}}}function P(){d.addClass(W),I&&e.addClass(d,I)}function E(e,t){function n(e){r(e).setHost(t)}e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element)}function A(){var e=r(d);!e||"leave"===w&&_.$$domOperationFired||e.end()}function T(t){d.off("$destroy",A),n(d),m(d,_),p(d,_),_.domOperation(),I&&e.removeClass(d,I),d.removeClass(W),M.complete(!t)}_=f(_);var C=["enter","move","leave"].indexOf(w)>=0,M=new l({end:function(){T()},cancel:function(){T(!0)}});if(!a.length)return T(),M;t(d,M);var O=i(d.attr("class"),i(_.addClass,_.removeClass)),I=_.tempClasses;I&&(O+=" "+I,_.tempClasses=null);var F;return C||(F=g,g+=1),h.push({element:d,classes:O,event:w,classBasedIndex:F,structural:C,options:_,beforeStart:P,close:T}),d.on("$destroy",A),h.length>1?M:(s.$$postDigest(function(){v=g,g=0,b.length=0;var e=[];R(h,function(t){r(t.element)&&e.push(t)}),h.length=0,R(k(e),function(e){function t(){e.beforeStart();var t,n=e.close,i=e.anchors?e.from.element||e.to.element:e.element;if(r(i)){var o=j(e);o&&(t=o.start)}if(t){var a=t();a.done(function(e){n(!e)}),E(e,a)}else n()}e.structural?t():(b.push({node:y(e.element),fn:t}),e.classBasedIndex===v-1&&(b=b.sort(function(e,t){return t.node.contains(e.node)}).map(function(e){return e.fn}),u(b)))})}),M)}}]}];t.module("ngAnimate",[]).directive("ngAnimateChildren",K).factory("$$rAFMutex",we).factory("$$rAFScheduler",Y).factory("$$AnimateRunner",_e).provider("$$animateQueue",ye).provider("$$animation",xe).provider("$animateCss",fe).provider("$$animateCssDriver",pe).provider("$$animateJs",me).provider("$$animateJsDriver",ge)}(window,window.angular)},{}],48:[function(e,t,n){e("./angular-animate"),t.exports="ngAnimate"},{"./angular-animate":47}],49:[function(e,t,n){angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),
angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){function r(e){for(var t in e)if(void 0!==o.style[t])return e[t]}var i=function(r,o,a){a=a||{};var s=e.defer(),c=i[a.animation?"animationEndEventName":"transitionEndEventName"],l=function(e){n.$apply(function(){r.unbind(c,l),s.resolve(r)})};return c&&r.bind(c,l),t(function(){angular.isString(o)?r.addClass(o):angular.isFunction(o)?o(r):angular.isObject(o)&&r.css(o),c||s.resolve(r)}),s.promise.cancel=function(){c&&r.unbind(c,l),s.reject("Transition cancelled")},s.promise},o=document.createElement("trans"),a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},s={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return i.transitionEndEventName=r(a),i.animationEndEventName=r(s),i}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(e){return{link:function(t,n,r){function i(t){function r(){l===i&&(l=void 0)}var i=e(n,t);return l&&l.cancel(),l=i,i.then(r,r),i}function o(){u?(u=!1,a()):(n.removeClass("collapse").addClass("collapsing"),i({height:n[0].scrollHeight+"px"}).then(a))}function a(){n.removeClass("collapsing"),n.addClass("collapse in"),n.css({height:"auto"})}function s(){if(u)u=!1,c(),n.css({height:0});else{n.css({height:n[0].scrollHeight+"px"});n[0].offsetWidth;n.removeClass("collapse in").addClass("collapsing"),i({height:0}).then(c)}}function c(){n.removeClass("collapsing"),n.addClass("collapse")}var l,u=!0;t.$watch(r.collapse,function(e){e?s():o()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(r){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==r&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);t!==-1&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,r){r.addGroup(e),e.$watch("isOpen",function(t){t&&r.closeOthers(e)}),e.toggleOpen=function(){e.isDisabled||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,r,i){r.setHeading(i(e,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,r){e.$watch(function(){return r[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable="close"in t,this.close=e.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(e){return{require:"alert",link:function(t,n,r,i){e(function(){i.close()},parseInt(r.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,t,n,r){var i=r[0],o=r[1];o.$render=function(){t.toggleClass(i.activeClass,angular.equals(o.$modelValue,e.$eval(n.btnRadio)))},t.bind(i.toggleEvent,function(){var r=t.hasClass(i.activeClass);r&&!angular.isDefined(n.uncheckable)||e.$apply(function(){o.$setViewValue(r?null:e.$eval(n.btnRadio)),o.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,t,n,r){function i(){return a(n.btnCheckboxTrue,!0)}function o(){return a(n.btnCheckboxFalse,!1)}function a(t,n){var r=e.$eval(t);return angular.isDefined(r)?r:n}var s=r[0],c=r[1];c.$render=function(){t.toggleClass(s.activeClass,angular.equals(c.$modelValue,i()))},t.bind(s.toggleEvent,function(){e.$apply(function(){c.$setViewValue(t.hasClass(s.activeClass)?o():i()),c.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$interval","$transition",function(e,t,n,r){function i(){o();var t=+e.interval;!isNaN(t)&&t>0&&(s=n(a,t))}function o(){s&&(n.cancel(s),s=null)}function a(){var t=+e.interval;c&&!isNaN(t)&&t>0?e.next():e.pause()}var s,c,l=this,u=l.slides=e.slides=[],h=-1;l.currentSlide=null;var d=!1;l.select=e.select=function(n,o){function a(){if(!d){if(l.currentSlide&&angular.isString(o)&&!e.noTransition&&n.$element){n.$element.addClass(o);n.$element[0].offsetWidth;angular.forEach(u,function(e){angular.extend(e,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(n,{direction:o,active:!0,entering:!0}),angular.extend(l.currentSlide||{},{direction:o,leaving:!0}),e.$currentTransition=r(n.$element,{}),function(t,n){e.$currentTransition.then(function(){s(t,n)},function(){s(t,n)})}(n,l.currentSlide)}else s(n,l.currentSlide);l.currentSlide=n,h=c,i()}}function s(t,n){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),e.$currentTransition=null}var c=u.indexOf(n);void 0===o&&(o=c>h?"next":"prev"),n&&n!==l.currentSlide&&(e.$currentTransition?(e.$currentTransition.cancel(),t(a)):a())},e.$on("$destroy",function(){d=!0}),l.indexOfSlide=function(e){return u.indexOf(e)},e.next=function(){var t=(h+1)%u.length;if(!e.$currentTransition)return l.select(u[t],"next")},e.prev=function(){var t=h-1<0?u.length-1:h-1;if(!e.$currentTransition)return l.select(u[t],"prev")},e.isActive=function(e){return l.currentSlide===e},e.$watch("interval",i),e.$on("$destroy",o),e.play=function(){c||(c=!0,i())},e.pause=function(){e.noPause||(c=!1,o())},l.addSlide=function(t,n){t.$element=n,u.push(t),1===u.length||t.active?(l.select(u[u.length-1]),1==u.length&&e.play()):t.active=!1},l.removeSlide=function(e){var t=u.indexOf(e);u.splice(t,1),u.length>0&&e.active?t>=u.length?l.select(u[t-1]):l.select(u[t]):h>t&&h--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(e,t,n,r){r.addSlide(e,t),e.$on("$destroy",function(){r.removeSlide(e)}),e.$watch("active",function(t){t&&r.select(e)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(e,t){function n(e){var n=[],r=e.split("");return angular.forEach(i,function(t,i){var o=e.indexOf(i);if(o>-1){e=e.split(""),r[o]="("+t.regex+")",e[o]="$";for(var a=o+1,s=o+i.length;a<s;a++)r[a]="",e[a]="$";e=e.join(""),n.push({index:o,apply:t.apply})}}),{regex:new RegExp("^"+r.join("")+"$"),map:t(n,"index")}}function r(e,t,n){return 1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3!==t&&5!==t&&8!==t&&10!==t||n<31}this.parsers={};var i={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:e.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:e.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(t,i){if(!angular.isString(t)||!i)return t;i=e.DATETIME_FORMATS[i]||i,this.parsers[i]||(this.parsers[i]=n(i));var o=this.parsers[i],a=o.regex,s=o.map,c=t.match(a);if(c&&c.length){for(var l,u={year:1900,month:0,date:1,hours:0},h=1,d=c.length;h<d;h++){var f=s[h-1];f.apply&&f.apply.call(u,c[h])}return r(u.year,u.month,u.date)&&(l=new Date(u.year,u.month,u.date,u.hours)),l}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function r(e){return"static"===(n(e,"position")||"static")}var i=function(t){for(var n=e[0],i=t.offsetParent||n;i&&i!==n&&r(i);)i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),r={top:0,left:0},o=i(t[0]);o!=e[0]&&(r=this.offset(angular.element(o)),r.top+=o.clientTop-o.scrollTop,r.left+=o.clientLeft-o.scrollLeft);var a=t[0].getBoundingClientRect();return{width:a.width||t.prop("offsetWidth"),height:a.height||t.prop("offsetHeight"),top:n.top-r.top,left:n.left-r.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,r){var i,o,a,s,c=n.split("-"),l=c[0],u=c[1]||"center";i=r?this.offset(e):this.position(e),o=t.prop("offsetWidth"),a=t.prop("offsetHeight");var h={center:function(){return i.left+i.width/2-o/2},left:function(){return i.left},right:function(){return i.left+i.width}},d={center:function(){return i.top+i.height/2-a/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(l){case"right":s={top:d[u](),left:h[l]()};break;case"left":s={top:d[u](),left:i.left-o};break;case"bottom":s={top:d[l](),left:h[u]()};break;default:s={top:i.top-a,left:h[u]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(e,t,n,r,i,o,a,s){var c=this,l={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(n,i){c[n]=angular.isDefined(t[n])?i<8?r(t[n])(e.$parent):e.$parent.$eval(t[n]):s[n]}),angular.forEach(["minDate","maxDate"],function(r){t[r]?e.$parent.$watch(n(t[r]),function(e){c[r]=e?new Date(e):null,c.refreshView()}):c[r]=s[r]?new Date(s[r]):null}),e.datepickerMode=e.datepickerMode||s.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(t.initDate)?e.$parent.$eval(t.initDate):new Date,e.isActive=function(t){return 0===c.compare(t.date,c.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(e){l=e,l.$render=function(){c.render()}},this.render=function(){if(l.$modelValue){var e=new Date(l.$modelValue),t=!isNaN(e);t?this.activeDate=e:o.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),l.$setValidity("date",t)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=l.$modelValue?new Date(l.$modelValue):null;l.$setValidity("date-disabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=l.$modelValue?new Date(l.$modelValue):null;return{date:e,label:a(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===c.minMode){var n=l.$modelValue?new Date(l.$modelValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),l.$setViewValue(n),l.$render()}else c.activeDate=t,e.datepickerMode=c.modes[c.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=c.activeDate.getFullYear()+e*(c.step.years||0),n=c.activeDate.getMonth()+e*(c.step.months||0);c.activeDate.setFullYear(t,n,1),c.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===c.maxMode&&1===t||e.datepickerMode===c.minMode&&t===-1||(e.datepickerMode=c.modes[c.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var u=function(){i(function(){c.element[0].focus()},0,!1)};e.$on("datepicker.focus",u),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),t.stopPropagation(),"enter"===n||"space"===n){if(c.isDisabled(c.activeDate))return;e.select(c.activeDate),u()}else!t.ctrlKey||"up"!==n&&"down"!==n?(c.handleKeyDown(n,t),c.refreshView()):(e.toggleMode("up"===n?1:-1),u())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,t,n,r){var i=r[0],o=r[1];o&&i.init(o)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,r,i){function o(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?c[t]:29}function a(e,t){var n=new Array(t),r=new Date(e),i=0;for(r.setHours(12);i<t;)n[i++]=new Date(r),r.setDate(r.getDate()+1);return n}function s(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var c=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var n=i.activeDate.getFullYear(),r=i.activeDate.getMonth(),o=new Date(n,r,1),c=i.startingDay-o.getDay(),l=c>0?7-c:-c,u=new Date(o);l>0&&u.setDate(-l+1);for(var h=a(u,42),d=0;d<42;d++)h[d]=angular.extend(i.createDateObject(h[d],i.formatDay),{secondary:h[d].getMonth()!==r,uid:t.uniqueId+"-"+d});t.labels=new Array(7);for(var f=0;f<7;f++)t.labels[f]={abbr:e(h[f].date,i.formatDayHeader),full:e(h[f].date,"EEEE")};if(t.title=e(i.activeDate,i.formatDayTitle),t.rows=i.split(h,7),t.showWeeks){t.weekNumbers=[];for(var p=s(t.rows[0][0].date),m=t.rows.length;t.weekNumbers.push(p++)<m;);}},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},i.handleKeyDown=function(e,t){var n=i.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var r=i.activeDate.getMonth()+("pageup"===e?-1:1);i.activeDate.setMonth(r,1),n=Math.min(o(i.activeDate.getFullYear(),i.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=o(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(n)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,r,i){i.step={years:1},i.element=n,i._refreshView=function(){for(var n=new Array(12),r=i.activeDate.getFullYear(),o=0;o<12;o++)n[o]=angular.extend(i.createDateObject(new Date(r,o,1),i.formatMonth),{uid:t.uniqueId+"-"+o});t.title=e(i.activeDate,i.formatMonthTitle),t.rows=i.split(n,3)},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},i.handleKeyDown=function(e,t){var n=i.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=3;else if("right"===e)n+=1;else if("down"===e)n+=3;else if("pageup"===e||"pagedown"===e){var r=i.activeDate.getFullYear()+("pageup"===e?-1:1);i.activeDate.setFullYear(r)}else"home"===e?n=0:"end"===e&&(n=11);i.activeDate.setMonth(n)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,r){function i(e){return parseInt((e-1)/o,10)*o+1}var o=r.yearRange;r.step={years:o},r.element=t,r._refreshView=function(){for(var t=new Array(o),n=0,a=i(r.activeDate.getFullYear());n<o;n++)t[n]=angular.extend(r.createDateObject(new Date(a+n,0,1),r.formatYear),{uid:e.uniqueId+"-"+n});e.title=[t[0].label,t[o-1].label].join(" - "),e.rows=r.split(t,5)},r.compare=function(e,t){return e.getFullYear()-t.getFullYear()},r.handleKeyDown=function(e,t){var n=r.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=5:"right"===e?n+=1:"down"===e?n+=5:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*r.step.years:"home"===e?n=i(r.activeDate.getFullYear()):"end"===e&&(n=i(r.activeDate.getFullYear())+o-1),r.activeDate.setFullYear(n)},r.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(e,t,n,r,i,o,a){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(s,c,l,u){function h(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function d(e){if(e){if(angular.isDate(e)&&!isNaN(e))return u.$setValidity("date",!0),e;if(angular.isString(e)){var t=o.parse(e,f)||new Date(e);return isNaN(t)?void u.$setValidity("date",!1):(u.$setValidity("date",!0),t)}return void u.$setValidity("date",!1)}return u.$setValidity("date",!0),null}var f,p=angular.isDefined(l.closeOnDateSelection)?s.$parent.$eval(l.closeOnDateSelection):a.closeOnDateSelection,m=angular.isDefined(l.datepickerAppendToBody)?s.$parent.$eval(l.datepickerAppendToBody):a.appendToBody;s.showButtonBar=angular.isDefined(l.showButtonBar)?s.$parent.$eval(l.showButtonBar):a.showButtonBar,s.getText=function(e){return s[e+"Text"]||a[e+"Text"]},l.$observe("datepickerPopup",function(e){f=e||a.datepickerPopup,u.$render()});var g=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");g.attr({"ng-model":"date","ng-change":"dateSelection()"});var v=angular.element(g.children()[0]);l.datepickerOptions&&angular.forEach(s.$parent.$eval(l.datepickerOptions),function(e,t){v.attr(h(t),e)}),s.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(e){if(l[e]){var n=t(l[e]);if(s.$parent.$watch(n,function(t){s.watchData[e]=t}),v.attr(h(e),"watchData."+e),"datepickerMode"===e){var r=n.assign;s.$watch("watchData."+e,function(e,t){e!==t&&r(s.$parent,e)})}}}),l.dateDisabled&&v.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),u.$parsers.unshift(d),s.dateSelection=function(e){angular.isDefined(e)&&(s.date=e),u.$setViewValue(s.date),u.$render(),p&&(s.isOpen=!1,c[0].focus())},c.bind("input change keyup",function(){s.$apply(function(){s.date=u.$modelValue})}),u.$render=function(){var e=u.$viewValue?i(u.$viewValue,f):"";c.val(e),s.date=d(u.$modelValue)};var b=function(e){s.isOpen&&e.target!==c[0]&&s.$apply(function(){s.isOpen=!1})},y=function(e,t){s.keydown(e)};c.bind("keydown",y),s.keydown=function(e){27===e.which?(e.preventDefault(),e.stopPropagation(),s.close()):40!==e.which||s.isOpen||(s.isOpen=!0)},s.$watch("isOpen",function(e){e?(s.$broadcast("datepicker.focus"),s.position=m?r.offset(c):r.position(c),s.position.top=s.position.top+c.prop("offsetHeight"),n.bind("click",b)):n.unbind("click",b)}),s.select=function(e){if("today"===e){var t=new Date;angular.isDate(u.$modelValue)?(e=new Date(u.$modelValue),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}s.dateSelection(e)},s.close=function(){s.isOpen=!1,c[0].focus()};var w=e(g)(s);g.remove(),m?n.find("body").append(w):c.after(w),s.$on("$destroy",function(){w.remove(),c.unbind("keydown",y),n.unbind("click",b)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t,n){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(e){var t=null;this.open=function(i){t||(e.bind("click",n),e.bind("keydown",r)),t&&t!==i&&(t.isOpen=!1),t=i},this.close=function(i){t===i&&(t=null,e.unbind("click",n),e.unbind("keydown",r))};var n=function(e){if(t){var n=t.getToggleElement();e&&n&&n[0].contains(e.target)||t.$apply(function(){t.isOpen=!1})}},r=function(e){27===e.which&&(t.focusToggleElement(),n())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(e,t,n,r,i,o){var a,s=this,c=e.$new(),l=r.openClass,u=angular.noop,h=t.onToggle?n(t.onToggle):angular.noop;this.init=function(r){s.$element=r,t.isOpen&&(a=n(t.isOpen),u=a.assign,e.$watch(a,function(e){c.isOpen=!!e}))},this.toggle=function(e){return c.isOpen=arguments.length?!!e:!c.isOpen},this.isOpen=function(){return c.isOpen},c.getToggleElement=function(){return s.toggleElement},c.focusToggleElement=function(){s.toggleElement&&s.toggleElement[0].focus()},c.$watch("isOpen",function(t,n){o[t?"addClass":"removeClass"](s.$element,l),t?(c.focusToggleElement(),i.open(c)):i.close(c),u(e,t),angular.isDefined(t)&&t!==n&&h(e,{open:!!t})}),e.$on("$locationChangeSuccess",function(){c.isOpen=!1}),e.$on("$destroy",function(){c.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,n,r){r.init(t)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,t,n,r){if(r){r.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){r.toggle()})};t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(r.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,r=0;r<e.length;r++)if(t==e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$timeout",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(t,n,r){t.backdropClass=r.backdropClass||"",t.animate=!1,e(function(){t.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(e,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(n,r,i){r.addClass(i.windowClass||""),n.size=i.size,t(function(){n.animate=!0,r[0].querySelectorAll("[autofocus]").length||r[0].focus()}),n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,r,i){i(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(e,t,n,r,i,o){function a(){for(var e=-1,t=f.keys(),n=0;n<t.length;n++)f.get(t[n]).value.backdrop&&(e=n);return e}function s(e){var t=n.find("body").eq(0),r=f.get(e).value;f.remove(e),l(r.modalDomEl,r.modalScope,300,function(){r.modalScope.$destroy(),t.toggleClass(d,f.length()>0),c()})}function c(){if(u&&a()==-1){var e=h;l(u,h,150,function(){e.$destroy(),e=null}),u=void 0,h=void 0}}function l(n,r,i,o){function a(){a.done||(a.done=!0,n.remove(),o&&o())}r.animate=!1;var s=e.transitionEndEventName;if(s){var c=t(a,i);n.bind(s,function(){t.cancel(c),a(),r.$apply()})}else t(a)}var u,h,d="modal-open",f=o.createNew(),p={};return i.$watch(a,function(e){h&&(h.index=e)}),n.bind("keydown",function(e){var t;27===e.which&&(t=f.top(),t&&t.value.keyboard&&(e.preventDefault(),i.$apply(function(){p.dismiss(t.key,"escape key press")})))}),p.open=function(e,t){f.add(e,{deferred:t.deferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var o=n.find("body").eq(0),s=a();if(s>=0&&!u){h=i.$new(!0),h.index=s;var c=angular.element("<div modal-backdrop></div>");c.attr("backdrop-class",t.backdropClass),u=r(c)(h),o.append(u)}var l=angular.element("<div modal-window></div>");l.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:f.length()-1,animate:"animate"}).html(t.content);var p=r(l)(t.scope);f.top().value.modalDomEl=p,o.append(p),o.addClass(d)},p.close=function(e,t){var n=f.get(e);n&&(n.value.deferred.resolve(t),s(e))},p.dismiss=function(e,t){var n=f.get(e);n&&(n.value.deferred.reject(t),s(e))},p.dismissAll=function(e){for(var t=this.getTop();t;)this.dismiss(t.key,e),t=this.getTop()},p.getTop=function(){return f.top()},p}]).provider("$modal",function(){var e={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,n,r,i,o,a,s){function c(e){return e.template?r.when(e.template):i.get(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl,{cache:o}).then(function(e){return e.data})}function l(e){var n=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&n.push(r.when(t.invoke(e)))}),n}var u={};return u.open=function(t){var i=r.defer(),o=r.defer(),u={result:i.promise,opened:o.promise,close:function(e){s.close(u,e)},dismiss:function(e){s.dismiss(u,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var h=r.all([c(t)].concat(l(t.resolve)));return h.then(function(e){var r=(t.scope||n).$new();r.$close=u.close,r.$dismiss=u.dismiss;var o,c={},l=1;t.controller&&(c.$scope=r,c.$modalInstance=u,angular.forEach(t.resolve,function(t,n){c[n]=e[l++]}),o=a(t.controller,c),t.controllerAs&&(r[t.controllerAs]=o)),s.open(u,{scope:r,deferred:i,content:e[0],backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size})},function(e){i.reject(e)}),h.then(function(){o.resolve(!0)},function(){o.reject(!1)}),u},u}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,n){var r=this,i={$setViewValue:angular.noop},o=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(o,a){i=o,this.config=a,i.$render=function(){r.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){r.itemsPerPage=parseInt(t,10),e.totalPages=r.calculateTotalPages()}):this.itemsPerPage=a.itemsPerPage},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(i.$viewValue,10)||1},e.selectPage=function(t){e.page!==t&&t>0&&t<=e.totalPages&&(i.$setViewValue(t),i.$render())},e.getText=function(t){return e[t+"Text"]||r.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages},e.$watch("totalItems",function(){e.totalPages=r.calculateTotalPages()}),e.$watch("totalPages",function(t){o(e.$parent,t),e.page>t?e.selectPage(t):i.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,r,i,o){function a(e,t,n){return{number:e,text:t,active:n}}function s(e,t){var n=[],r=1,i=t,o=angular.isDefined(u)&&u<t;o&&(h?(r=Math.max(e-Math.floor(u/2),1),i=r+u-1,i>t&&(i=t,r=i-u+1)):(r=(Math.ceil(e/u)-1)*u+1,i=Math.min(r+u-1,t)));for(var s=r;s<=i;s++){var c=a(s,s,s===e);n.push(c)}if(o&&!h){if(r>1){var l=a(r-1,"...",!1);n.unshift(l)}if(i<t){var d=a(i+1,"...",!1);n.push(d)}}return n}var c=o[0],l=o[1];if(l){var u=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):t.maxSize,h=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):t.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):t.directionLinks,c.init(l,t),i.maxSize&&n.$parent.$watch(e(i.maxSize),function(e){u=parseInt(e,10),c.render()});var d=c.render;c.render=function(){d(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,n,r,i){var o=i[0],a=i[1];a&&(t.align=angular.isDefined(r.align)?t.$parent.$eval(r.align):e.align,o.init(a,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},r={};this.options=function(e){angular.extend(r,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(i,o,a,s,c,l){return function(i,u,h){function d(e){var t=e||f.trigger||h,r=n[t]||t;return{show:t,hide:r}}var f=angular.extend({},t,r),p=e(i),m=l.startSymbol(),g=l.endSymbol(),v="<div "+p+'-popup title="'+m+"title"+g+'" content="'+m+"content"+g+'" placement="'+m+"placement"+g+'" animation="animation" is-open="isOpen"></div>';
return{restrict:"EA",compile:function(e,t){var n=o(v);return function(e,t,r){function o(){T.isOpen?h():l()}function l(){A&&!e.$eval(r[u+"Enable"])||(b(),T.popupDelay?j||(j=a(p,T.popupDelay,!1),j.then(function(e){e()})):p()())}function h(){e.$apply(function(){m()})}function p(){return j=null,S&&(a.cancel(S),S=null),T.content?(g(),x.css({top:0,left:0,display:"block"}),T.$digest(),C(),T.isOpen=!0,T.$digest(),C):angular.noop}function m(){T.isOpen=!1,a.cancel(j),j=null,T.animation?S||(S=a(v,500)):v()}function g(){x&&v(),k=T.$new(),x=n(k,function(e){P?s.find("body").append(e):t.after(e)})}function v(){S=null,x&&(x.remove(),x=null),k&&(k.$destroy(),k=null)}function b(){y(),w()}function y(){var e=r[u+"Placement"];T.placement=angular.isDefined(e)?e:f.placement}function w(){var e=r[u+"PopupDelay"],t=parseInt(e,10);T.popupDelay=isNaN(t)?f.popupDelay:t}function _(){var e=r[u+"Trigger"];M(),E=d(e),E.show===E.hide?t.bind(E.show,o):(t.bind(E.show,l),t.bind(E.hide,h))}var x,k,S,j,P=!!angular.isDefined(f.appendToBody)&&f.appendToBody,E=d(void 0),A=angular.isDefined(r[u+"Enable"]),T=e.$new(!0),C=function(){var e=c.positionElements(t,x,T.placement,P);e.top+="px",e.left+="px",x.css(e)};T.isOpen=!1,r.$observe(i,function(e){T.content=e,!e&&T.isOpen&&m()}),r.$observe(u+"Title",function(e){T.title=e});var M=function(){t.unbind(E.show,l),t.unbind(E.hide,h)};_();var O=e.$eval(r[u+"Animation"]);T.animation=angular.isDefined(O)?!!O:f.animation;var I=e.$eval(r[u+"AppendToBody"]);P=angular.isDefined(I)?I:P,P&&e.$on("$locationChangeSuccess",function(){T.isOpen&&m()}),e.$on("$destroy",function(){a.cancel(S),a.cancel(j),M(),v(),T=null})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var r=this,i=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max,this.addBar=function(t,n){i||n.css({transition:"none"}),this.bars.push(t),t.$watch("value",function(n){t.percent=+(100*n/e.max).toFixed(2)}),t.$on("$destroy",function(){n=null,r.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,r){r.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,r){r.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var r={$setViewValue:angular.noop};this.init=function(i){r=i,r.$render=this.render,this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var o=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff},e[t]);return e},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(r.$setViewValue(t),r.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=r.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=r.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,r){var i=r[0],o=r[1];o&&i.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect())}),e.active=!0,e.onSelect()},t.addTab=function(e){n.push(e),1===n.length?e.active=!0:e.active&&t.select(e)},t.removeTab=function(e){var i=n.indexOf(e);if(e.active&&n.length>1&&!r){var o=i==n.length-1?i-1:i+1;t.select(n[o])}n.splice(i,1)};var r;e.$on("$destroy",function(){r=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("tab",["$parse",function(e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,n,r){return function(t,n,i,o){t.$watch("active",function(e){e&&o.select(t)}),t.disabled=!1,i.disabled&&t.$parent.$watch(e(i.disabled),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},o.addTab(t),t.$on("$destroy",function(){o.removeTab(t)}),t.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t,n,r){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,r){var i=t.$eval(r.tabContentTransclude);i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,r,i,o){function a(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&t<13:t>=0&&t<24;if(n)return e.showMeridian&&(12===t&&(t=0),e.meridian===m[1]&&(t+=12)),t}function s(){var t=parseInt(e.minutes,10);return t>=0&&t<60?t:void 0}function c(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e}function l(e){u(),p.$setViewValue(new Date(f)),h(e)}function u(){p.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function h(t){var n=f.getHours(),r=f.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:c(n),e.minutes="m"===t?r:c(r),e.meridian=f.getHours()<12?m[0]:m[1]}function d(e){var t=new Date(f.getTime()+6e4*e);f.setHours(t.getHours(),t.getMinutes()),l()}var f=new Date,p={$setViewValue:angular.noop},m=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):o.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,r){p=n,p.$render=this.render;var i=r.eq(0),a=r.eq(1),s=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):o.mousewheel;s&&this.setupMousewheelEvents(i,a),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):o.readonlyInput,this.setupInputEvents(i,a)};var g=o.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){g=parseInt(e,10)});var v=o.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){v=parseInt(e,10)}),e.showMeridian=o.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,p.$error.time){var n=a(),r=s();angular.isDefined(n)&&angular.isDefined(r)&&(f.setHours(n),l())}else h()}),this.setupMousewheelEvents=function(t,n){var r=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(r(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(r(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var r=function(t,n){p.$setViewValue(null),p.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=a();angular.isDefined(e)?(f.setHours(e),l("h")):r(!0)},t.bind("blur",function(t){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=c(e.hours)})}),e.updateMinutes=function(){var e=s();angular.isDefined(e)?(f.setMinutes(e),l("m")):r(void 0,!0)},n.bind("blur",function(t){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=c(e.minutes)})})},this.render=function(){var e=p.$modelValue?new Date(p.$modelValue):null;isNaN(e)?(p.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(f=e),u(),h())},e.incrementHours=function(){d(60*g)},e.decrementHours=function(){d(60*-g)},e.incrementMinutes=function(){d(v)},e.decrementMinutes=function(){d(-v)},e.toggleMeridian=function(){d(720*(f.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(e,t,n,r){var i=r[0],o=r[1];o&&i.init(o,t.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var r=n.match(t);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:r[3],source:e(r[4]),viewMapper:e(r[2]||r[1]),modelMapper:e(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,n,r,i,o,a){var s=[9,13,27,38,40];return{require:"ngModel",link:function(c,l,u,h){var d,f=c.$eval(u.typeaheadMinLength)||1,p=c.$eval(u.typeaheadWaitMs)||0,m=c.$eval(u.typeaheadEditable)!==!1,g=t(u.typeaheadLoading).assign||angular.noop,v=t(u.typeaheadOnSelect),b=u.typeaheadInputFormatter?t(u.typeaheadInputFormatter):void 0,y=!!u.typeaheadAppendToBody&&c.$eval(u.typeaheadAppendToBody),w=c.$eval(u.typeaheadFocusFirst)!==!1,_=t(u.ngModel).assign,x=a.parse(u.typeahead),k=c.$new();c.$on("$destroy",function(){k.$destroy()});var S="typeahead-"+k.$id+"-"+Math.floor(1e4*Math.random());l.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":S});var j=angular.element("<div typeahead-popup></div>");j.attr({id:S,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(u.typeaheadTemplateUrl)&&j.attr("template-url",u.typeaheadTemplateUrl);var P=function(){k.matches=[],k.activeIdx=-1,l.attr("aria-expanded",!1)},E=function(e){return S+"-option-"+e};k.$watch("activeIdx",function(e){e<0?l.removeAttr("aria-activedescendant"):l.attr("aria-activedescendant",E(e))});var A=function(e){var t={$viewValue:e};g(c,!0),n.when(x.source(c,t)).then(function(n){var r=e===h.$viewValue;if(r&&d)if(n.length>0){k.activeIdx=w?0:-1,k.matches.length=0;for(var i=0;i<n.length;i++)t[x.itemName]=n[i],k.matches.push({id:E(i),label:x.viewMapper(k,t),model:n[i]});k.query=e,k.position=y?o.offset(l):o.position(l),k.position.top=k.position.top+l.prop("offsetHeight"),l.attr("aria-expanded",!0)}else P();r&&g(c,!1)},function(){P(),g(c,!1)})};P(),k.query=void 0;var T,C=function(e){T=r(function(){A(e)},p)},M=function(){T&&r.cancel(T)};h.$parsers.unshift(function(e){return d=!0,e&&e.length>=f?p>0?(M(),C(e)):A(e):(g(c,!1),M(),P()),m?e:e?void h.$setValidity("editable",!1):(h.$setValidity("editable",!0),e)}),h.$formatters.push(function(e){var t,n,r={};return b?(r.$model=e,b(c,r)):(r[x.itemName]=e,t=x.viewMapper(c,r),r[x.itemName]=void 0,n=x.viewMapper(c,r),t!==n?t:e)}),k.select=function(e){var t,n,i={};i[x.itemName]=n=k.matches[e].model,t=x.modelMapper(c,i),_(c,t),h.$setValidity("editable",!0),v(c,{$item:n,$model:t,$label:x.viewMapper(c,i)}),P(),r(function(){l[0].focus()},0,!1)},l.bind("keydown",function(e){0!==k.matches.length&&s.indexOf(e.which)!==-1&&(k.activeIdx!=-1||13!==e.which&&9!==e.which)&&(e.preventDefault(),40===e.which?(k.activeIdx=(k.activeIdx+1)%k.matches.length,k.$digest()):38===e.which?(k.activeIdx=(k.activeIdx>0?k.activeIdx:k.matches.length)-1,k.$digest()):13===e.which||9===e.which?k.$apply(function(){k.select(k.activeIdx)}):27===e.which&&(e.stopPropagation(),P(),k.$digest()))}),l.bind("blur",function(e){d=!1});var O=function(e){l[0]!==e.target&&(P(),k.$digest())};i.bind("click",O),c.$on("$destroy",function(){i.unbind("click",O),y&&I.remove()});var I=e(j)(k);y?i.find("body").append(I):l.after(I)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(e,t,n,r){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(i,o,a){var s=r(a.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";e.get(s,{cache:t}).success(function(e){o.replaceWith(n(e.trim())(i))})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n?(""+t).replace(new RegExp(e(n),"gi"),"<strong>$&</strong>"):t}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n\t<tbody>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n\t\t\t\t<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td>:</td>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n\t\t\t\t<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n\t\t</tr>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}])},{}],50:[function(e,t,n){!function(e,t){"use strict";function n(e,n,r){function i(e,r,i){var a,s;i=i||{},s=i.expires,a=t.isDefined(i.path)?i.path:o,t.isUndefined(r)&&(s="Thu, 01 Jan 1970 00:00:00 GMT",r=""),t.isString(s)&&(s=new Date(s));var c=encodeURIComponent(e)+"="+encodeURIComponent(r);c+=a?";path="+a:"",c+=i.domain?";domain="+i.domain:"",c+=s?";expires="+s.toUTCString():"",c+=i.secure?";secure":"";var l=c.length+1;return l>4096&&n.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+l+" > 4096 bytes)!"),
c}var o=r.baseHref(),a=e[0];return function(e,t,n){a.cookie=i(e,t,n)}}t.module("ngCookies",["ng"]).provider("$cookies",[function(){function e(e){return e?t.extend({},n,e):n}var n=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(n,r){return{get:function(e){return n()[e]},getObject:function(e){var n=this.get(e);return n?t.fromJson(n):n},getAll:function(){return n()},put:function(t,n,i){r(t,n,e(i))},putObject:function(e,n,r){this.put(e,t.toJson(n),r)},remove:function(t,n){r(t,void 0,e(n))}}}]}]),t.module("ngCookies").factory("$cookieStore",["$cookies",function(e){return{get:function(t){return e.getObject(t)},put:function(t,n){e.putObject(t,n)},remove:function(t){e.remove(t)}}}]),n.$inject=["$document","$log","$browser"],t.module("ngCookies").provider("$$cookieWriter",function(){this.$get=n})}(window,window.angular)},{}],51:[function(e,t,n){e("./angular-cookies"),t.exports="ngCookies"},{"./angular-cookies":50}],52:[function(e,t,n){!function(e,t,n){"use strict";function r(){function e(e,n){return t.extend(Object.create(e),n)}function n(e,t){var n=t.caseInsensitiveMatch,r={originalPath:e,regexp:e},i=r.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,n,r){var o="?"===r?r:null,a="*"===r?r:null;return i.push({name:n,optional:!!o}),t=t||"",""+(o?"":t)+"(?:"+(o?t:"")+(a&&"(.+?)"||"([^/]+)")+(o||"")+")"+(o||"")}).replace(/([\/$\*])/g,"\\$1"),r.regexp=new RegExp("^"+e+"$",n?"i":""),r}var r={};this.when=function(e,i){var o=t.copy(i);if(t.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0),t.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch),r[e]=t.extend(o,e&&n(e,o)),e){var a="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";r[a]=t.extend({redirectTo:e},n(a,o))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,i,o,a,s,l,u){function h(e,t){var n=t.keys,r={};if(!t.regexp)return null;var i=t.regexp.exec(e);if(!i)return null;for(var o=1,a=i.length;o<a;++o){var s=n[o-1],c=i[o];s&&c&&(r[s.name]=c)}return r}function d(e){var r=y.current;g=p(),v=g&&r&&g.$$route===r.$$route&&t.equals(g.pathParams,r.pathParams)&&!g.reloadOnSearch&&!b,v||!r&&!g||n.$broadcast("$routeChangeStart",g,r).defaultPrevented&&e&&e.preventDefault()}function f(){var e=y.current,r=g;v?(e.params=r.params,t.copy(e.params,o),n.$broadcast("$routeUpdate",e)):(r||e)&&(b=!1,y.current=r,r&&r.redirectTo&&(t.isString(r.redirectTo)?i.path(m(r.redirectTo,r.params)).search(r.params).replace():i.url(r.redirectTo(r.pathParams,i.path(),i.search())).replace()),a.when(r).then(function(){if(r){var e,n,i=t.extend({},r.resolve);return t.forEach(i,function(e,n){i[n]=t.isString(e)?s.get(e):s.invoke(e,null,null,n)}),t.isDefined(e=r.template)?t.isFunction(e)&&(e=e(r.params)):t.isDefined(n=r.templateUrl)&&(t.isFunction(n)&&(n=n(r.params)),t.isDefined(n)&&(r.loadedTemplateUrl=u.valueOf(n),e=l(n))),t.isDefined(e)&&(i.$template=e),a.all(i)}}).then(function(i){r==y.current&&(r&&(r.locals=i,t.copy(r.params,o)),n.$broadcast("$routeChangeSuccess",r,e))},function(t){r==y.current&&n.$broadcast("$routeChangeError",r,e,t)}))}function p(){var n,o;return t.forEach(r,function(r,a){!o&&(n=h(i.path(),r))&&(o=e(r,{params:t.extend({},i.search(),n),pathParams:n}),o.$$route=r)}),o||r[null]&&e(r[null],{params:{},pathParams:{}})}function m(e,n){var r=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)r.push(e);else{var i=e.match(/(\w+)(?:[?*])?(.*)/),o=i[1];r.push(n[o]),r.push(i[2]||""),delete n[o]}}),r.join("")}var g,v,b=!1,y={routes:r,reload:function(){b=!0,n.$evalAsync(function(){d(),f()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw c("norout","Tried updating route when with no current route");e=t.extend({},this.current.params,e),i.path(m(this.current.$$route.originalPath,e)),i.search(e)}};return n.$on("$locationChangeStart",d),n.$on("$locationChangeSuccess",f),y}]}function i(){this.$get=function(){return{}}}function o(e,n,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(i,o,a,s,c){function l(){f&&(r.cancel(f),f=null),h&&(h.$destroy(),h=null),d&&(f=r.leave(d),f.then(function(){f=null}),d=null)}function u(){var a=e.current&&e.current.locals,s=a&&a.$template;if(t.isDefined(s)){var u=i.$new(),f=e.current,g=c(u,function(e){r.enter(e,null,d||o).then(function(){!t.isDefined(p)||p&&!i.$eval(p)||n()}),l()});d=g,h=f.scope=u,h.$emit("$viewContentLoaded"),h.$eval(m)}else l()}var h,d,f,p=a.autoscroll,m=a.onload||"";i.$on("$routeChangeSuccess",u),u()}}}function a(e,t,n){return{restrict:"ECA",priority:-400,link:function(r,i){var o=n.current,a=o.locals;i.html(a.$template);var s=e(i.contents());if(o.controller){a.$scope=r;var c=t(o.controller,a);o.controllerAs&&(r[o.controllerAs]=c),i.data("$ngControllerController",c),i.children().data("$ngControllerController",c)}s(r)}}}var s=t.module("ngRoute",["ng"]).provider("$route",r),c=t.$$minErr("ngRoute");s.provider("$routeParams",i),s.directive("ngView",o),s.directive("ngView",a),o.$inject=["$route","$anchorScroll","$animate"],a.$inject=["$compile","$controller","$route"]}(window,window.angular)},{}],53:[function(e,t,n){e("./angular-route"),t.exports="ngRoute"},{"./angular-route":52}],54:[function(e,t,n){!function(e,t,n){"use strict";function r(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return a(t,l(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function i(e){var n=[],r=l(n,t.noop);return r.chars(e),n.join("")}function o(e,n){var r,i={},o=e.split(",");for(r=0;r<o.length;r++)i[n?t.lowercase(o[r]):o[r]]=!0;return i}function a(e,n){function r(e,r,o,a){if(r=t.lowercase(r),j[r])for(;y.last()&&P[y.last()];)i("",y.last());S[r]&&y.last()==r&&i("",r),a=_[r]||!!a,a||y.push(r);var c={};o.replace(f,function(e,t,n,r,i){var o=n||r||i||"";c[t]=s(o)}),n.start&&n.start(r,c,a)}function i(e,r){var i,o=0;if(r=t.lowercase(r))for(o=y.length-1;o>=0&&y[o]!=r;o--);if(o>=0){for(i=y.length-1;i>=o;i--)n.end&&n.end(y[i]);y.length=o}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var o,a,c,l,y=[],w=e;for(y.last=function(){return y[y.length-1]};e;){if(l="",a=!0,y.last()&&A[y.last()]?(e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+y.last()+"[^>]*>","i"),function(e,t){return t=t.replace(g,"$1").replace(b,"$1"),n.chars&&n.chars(s(t)),""}),i("",y.last())):(0===e.indexOf("<!--")?(o=e.indexOf("--",4),o>=0&&e.lastIndexOf("-->",o)===o&&(n.comment&&n.comment(e.substring(4,o)),e=e.substring(o+3),a=!1)):v.test(e)?(c=e.match(v),c&&(e=e.replace(c[0],""),a=!1)):m.test(e)?(c=e.match(d),c&&(e=e.substring(c[0].length),c[0].replace(d,i),a=!1)):p.test(e)&&(c=e.match(h),c?(c[4]&&(e=e.substring(c[0].length),c[0].replace(h,r)),a=!1):(l+="<",e=e.substring(1))),a&&(o=e.indexOf("<"),l+=o<0?e:e.substring(0,o),e=o<0?"":e.substring(o),n.chars&&n.chars(s(l)))),e==w)throw u("badparse","The sanitizer was unable to parse the following block of html: {0}",e);w=e}i()}function s(e){return e?(F.innerHTML=e.replace(/</g,"&lt;"),F.textContent):""}function c(e){return e.replace(/&/g,"&amp;").replace(y,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(w,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(e,n){var r=!1,i=t.bind(e,e.push);return{start:function(e,o,a){e=t.lowercase(e),!r&&A[e]&&(r=e),r||T[e]!==!0||(i("<"),i(e),t.forEach(o,function(r,o){var a=t.lowercase(o),s="img"===e&&"src"===a||"background"===a;I[a]!==!0||C[a]===!0&&!n(r,s)||(i(" "),i(o),i('="'),i(c(r)),i('"'))}),i(a?"/>":">"))},end:function(e){e=t.lowercase(e),r||T[e]!==!0||(i("</"),i(e),i(">")),e==r&&(r=!1)},chars:function(e){r||i(c(e))}}}var u=t.$$minErr("$sanitize"),h=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,d=/^<\/\s*([\w:-]+)[^>]*>/,f=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,p=/^</,m=/^<\//,g=/<!--(.*?)-->/g,v=/<!DOCTYPE([^>]*?)>/i,b=/<!\[CDATA\[(.*?)]]>/g,y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w=/([^\#-~| |!])/g,_=o("area,br,col,hr,img,wbr"),x=o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),k=o("rp,rt"),S=t.extend({},k,x),j=t.extend({},x,o("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),P=t.extend({},k,o("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),E=o("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use"),A=o("script,style"),T=t.extend({},_,j,P,S,E),C=o("background,cite,href,longdesc,src,usemap,xlink:href"),M=o("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),O=o("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),I=t.extend({},C,O,M),F=document.createElement("pre");t.module("ngSanitize",[]).provider("$sanitize",r),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/i,r=/^mailto:/i;return function(o,a){function s(e){e&&f.push(i(e))}function c(e,n){f.push("<a "),t.isDefined(a)&&f.push('target="',a,'" '),f.push('href="',e.replace(/"/g,"&quot;"),'">'),s(n),f.push("</a>")}if(!o)return o;for(var l,u,h,d=o,f=[];l=d.match(n);)u=l[0],l[2]||l[4]||(u=(l[3]?"http://":"mailto:")+u),h=l.index,s(d.substr(0,h)),c(u,l[0].replace(r,"")),d=d.substring(h+l[0].length);return s(d),e(f.join(""))}}])}(window,window.angular)},{}],55:[function(e,t,n){e("./angular-sanitize"),t.exports="ngSanitize"},{"./angular-sanitize":54}],56:[function(e,t,n){!function(e,t,n){"use strict";function r(e,t){return t=t||Error,function(){var n,r,i=2,o=arguments,a=o[0],s="["+(e?e+":":"")+a+"] ",c=o[1];for(s+=c.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n=t+i;return n<o.length?be(o[n]):e}),s+="\nhttp://errors.angularjs.org/1.4.1/"+(e?e+"/":"")+a,r=i,n="?";r<o.length;r++,n="&")s+=n+"p"+(r-i)+"="+encodeURIComponent(be(o[r]));return new t(s)}}function i(e){if(null==e||E(e))return!1;var t="length"in Object(e)&&e.length;return!(e.nodeType!==Yr||!t)||(x(e)||Ur(e)||0===t||"number"==typeof t&&t>0&&t-1 in e)}function o(e,t,n){var r,a;if(e)if(j(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r,e);else if(Ur(e)||i(e)){var s="object"!=typeof e;for(r=0,a=e.length;r<a;r++)(s||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==o)e.forEach(t,n,e);else if(_(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)xr.call(e,r)&&t.call(n,e[r],r,e);return e}function a(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function s(e){return function(t,n){e(n,t)}}function c(){return++Rr}function l(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function u(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;i<o;++i){var a=t[i];if(w(a)||j(a))for(var s=Object.keys(a),c=0,h=s.length;c<h;c++){var d=s[c],f=a[d];n&&w(f)?(w(e[d])||(e[d]=Ur(f)?[]:{}),u(e[d],[f],!0)):e[d]=f}}return l(e,r),e}function h(e){return u(e,Cr.call(arguments,1),!1)}function d(e){return u(e,Cr.call(arguments,1),!0)}function f(e){return parseInt(e,10)}function p(e,t){return h(Object.create(e),t)}function m(){}function g(e){return e}function v(e){return function(){return e}}function b(e){return"undefined"==typeof e}function y(e){return"undefined"!=typeof e}function w(e){return null!==e&&"object"==typeof e}function _(e){return null!==e&&"object"==typeof e&&!Fr(e)}function x(e){return"string"==typeof e}function k(e){return"number"==typeof e}function S(e){return"[object Date]"===Ir.call(e)}function j(e){return"function"==typeof e}function P(e){return"[object RegExp]"===Ir.call(e)}function E(e){return e&&e.window===e}function A(e){return e&&e.$evalAsync&&e.$watch}function T(e){return"[object File]"===Ir.call(e)}function C(e){return"[object FormData]"===Ir.call(e)}function M(e){return"[object Blob]"===Ir.call(e)}function O(e){return"boolean"==typeof e}function I(e){return e&&j(e.then)}function F(e){return $r.test(Ir.call(e))}function D(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function L(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function R(e){return _r(e.nodeName||e[0]&&e[0].nodeName)}function N(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function U(e,t,n,r){if(E(e)||A(e))throw Dr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(F(t))throw Dr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t){if(e===t)throw Dr("cpi","Can't copy! Source and destination are identical.");n=n||[],r=r||[],w(e)&&(n.push(e),r.push(t));var i;if(Ur(e)){t.length=0;for(var a=0;a<e.length;a++)t.push(U(e[a],null,n,r))}else{var s=t.$$hashKey;if(Ur(t)?t.length=0:o(t,function(e,n){delete t[n]}),_(e))for(i in e)t[i]=U(e[i],null,n,r);else if(e&&"function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&(t[i]=U(e[i],null,n,r));else for(i in e)xr.call(e,i)&&(t[i]=U(e[i],null,n,r));l(t,s)}}else if(t=e,w(e)){var c;if(n&&(c=n.indexOf(e))!==-1)return r[c];if(Ur(e))return U(e,[],n,r);if(F(e))t=new e.constructor(e);else if(S(e))t=new Date(e.getTime());else{if(!P(e)){var u=Object.create(Fr(e));return U(e,u,n,r)}t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex}r&&(n.push(e),r.push(t))}return t}function $(e,t){if(Ur(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(w(e)){t=t||{};for(var i in e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i])}return t||e}function z(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var r,i,o,a=typeof e,s=typeof t;if(a==s&&"object"==a){if(!Ur(e)){if(S(e))return!!S(t)&&z(e.getTime(),t.getTime());if(P(e))return!!P(t)&&e.toString()==t.toString();if(A(e)||A(t)||E(e)||E(t)||Ur(t)||S(t)||P(t))return!1;o=me();for(i in e)if("$"!==i.charAt(0)&&!j(e[i])){if(!z(e[i],t[i]))return!1;o[i]=!0}for(i in t)if(!(i in o||"$"===i.charAt(0)||t[i]===n||j(t[i])))return!1;return!0}if(!Ur(t))return!1;if((r=e.length)==t.length){for(i=0;i<r;i++)if(!z(e[i],t[i]))return!1;return!0}}return!1}function B(e,t,n){return e.concat(Cr.call(t,n))}function q(e,t){return Cr.call(e,t||0)}function V(e,t){var n=arguments.length>2?q(arguments,2):[];return!j(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,B(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function H(e,r){var i=r;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=n:E(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":A(r)&&(i="$SCOPE"),i}function W(e,t){return"undefined"==typeof e?n:(k(t)||(t=t?2:null),JSON.stringify(e,H,t))}function G(e){return x(e)?JSON.parse(e):e}function Y(e,t){var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function K(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function X(e,t,n){n=n?-1:1;var r=Y(t,e.getTimezoneOffset());return K(e,n*(r-e.getTimezoneOffset()))}function Q(e){e=Er(e).clone();try{e.empty()}catch(t){}var n=Er("<div>").append(e).html();try{return e[0].nodeType===Xr?_r(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+_r(t)})}catch(t){return _r(n)}}function Z(e){try{return decodeURIComponent(e)}catch(t){}}function J(e){var t,n,r={};return o((e||"").split("&"),function(e){if(e&&(t=e.replace(/\+/g,"%20").split("="),n=Z(t[0]),y(n))){var i=!y(t[1])||Z(t[1]);xr.call(r,n)?Ur(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i}}),r}function ee(e){var t=[];return o(e,function(e,n){Ur(e)?o(e,function(e){t.push(ne(n,!0)+(e===!0?"":"="+ne(e,!0)))}):t.push(ne(n,!0)+(e===!0?"":"="+ne(e,!0)))}),t.length?t.join("&"):""}function te(e){return ne(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ne(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function re(e,t){var n,r,i=Hr.length;for(r=0;r<i;++r)if(n=Hr[r]+t,x(n=e.getAttribute(n)))return n;return null}function ie(e,t){var n,r,i={};o(Hr,function(t){var i=t+"app";!n&&e.hasAttribute&&e.hasAttribute(i)&&(n=e,r=e.getAttribute(i))}),o(Hr,function(t){var i,o=t+"app";!n&&(i=e.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(i.strictDi=null!==re(n,"strict-di"),t(n,r?[r]:[],i))}function oe(n,r,i){w(i)||(i={});var a={strictDi:!1};i=h(a,i);var s=function(){if(n=Er(n),n.injector()){var e=n[0]===t?"document":Q(n);throw Dr("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),r.unshift("ng");var o=Qe(r,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),o},c=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&c.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(c,"")),e&&!l.test(e.name)?s():(e.name=e.name.replace(l,""),Lr.resumeBootstrap=function(e){return o(e,function(e){r.push(e)}),s()},void(j(Lr.resumeDeferredBootstrap)&&Lr.resumeDeferredBootstrap()))}function ae(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function se(e){var t=Lr.element(e).injector();if(!t)throw Dr("test","no injector found for element argument to getTestability");return t.get("$$testability")}function ce(e,t){return t=t||"_",e.replace(Wr,function(e,n){return(n?t:"")+e.toLowerCase()})}function le(){var t;if(!Gr){var r=Vr();Ar=e.jQuery,y(r)&&(Ar=null===r?n:e[r]),Ar&&Ar.fn.on?(Er=Ar,h(Ar.fn,{scope:pi.scope,isolateScope:pi.isolateScope,controller:pi.controller,injector:pi.injector,inheritedData:pi.inheritedData}),t=Ar.cleanData,Ar.cleanData=function(e){var n;if(Nr)Nr=!1;else for(var r,i=0;null!=(r=e[i]);i++)n=Ar._data(r,"events"),n&&n.$destroy&&Ar(r).triggerHandler("$destroy");t(e)}):Er=Ee,Lr.element=Er,Gr=!0}}function ue(e,t,n){if(!e)throw Dr("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function he(e,t,n){return n&&Ur(e)&&(e=e[e.length-1]),ue(j(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function de(e,t){if("hasOwnProperty"===e)throw Dr("badname","hasOwnProperty is not a valid {0} name",t)}function fe(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,a=i.length,s=0;s<a;s++)r=i[s],e&&(e=(o=e)[r]);return!n&&j(e)?V(o,e):e}function pe(e){var t=e[0],n=e[e.length-1],r=[t];do{if(t=t.nextSibling,!t)break;r.push(t)}while(t!==n);return Er(r)}function me(){return Object.create(null)}function ge(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=r("$injector"),i=r("ng"),o=t(e,"angular",Object);return o.$$minErr=o.$$minErr||r,t(o,"module",function(){var e={};return function(r,o,a){var s=function(e,t){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid {0} name",t)};return s(r,"module"),o&&e.hasOwnProperty(r)&&(e[r]=null),t(e,r,function(){function e(e,t,n,r){return r||(r=i),function(){return r[n||"push"]([e,t,arguments]),u}}function t(e,t){return function(n,o){return o&&j(o)&&(o.$$moduleName=r),i.push([e,t,arguments]),u}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var i=[],s=[],c=[],l=e("$injector","invoke","push",s),u={_invokeQueue:i,_configBlocks:s,_runBlocks:c,requires:o,name:r,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:l,run:function(e){return c.push(e),this}};return a&&l(a),u})}})}function ve(e){var t=[];return JSON.stringify(e,function(e,n){if(n=H(e,n),w(n)){if(t.indexOf(n)>=0)return"<<already seen>>";t.push(n)}return n})}function be(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?ve(e):e}function ye(t){h(t,{bootstrap:oe,copy:U,extend:h,merge:d,equals:z,element:Er,forEach:o,injector:Qe,noop:m,bind:V,toJson:W,fromJson:G,identity:g,isUndefined:b,isDefined:y,isString:x,isFunction:j,isObject:w,isNumber:k,isElement:D,isArray:Ur,version:ei,isDate:S,lowercase:_r,uppercase:kr,callbacks:{counter:0},getTestability:se,$$minErr:r,$$csp:qr,reloadWithDebugInfo:ae}),Tr=ge(e);try{Tr("ngLocale")}catch(n){Tr("ngLocale",[]).provider("$locale",Mt)}Tr("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:vn}),e.provider("$compile",ct).directive({a:uo,input:Ao,textarea:Ao,form:go,script:wa,select:ka,style:ja,option:Sa,ngBind:Mo,ngBindHtml:Io,ngBindTemplate:Oo,ngClass:Do,ngClassEven:Ro,ngClassOdd:Lo,ngCloak:No,ngController:Uo,ngForm:vo,ngHide:pa,ngIf:Bo,ngInclude:qo,ngInit:Ho,ngNonBindable:oa,ngPluralize:la,ngRepeat:ua,ngShow:fa,ngStyle:ma,ngSwitch:ga,ngSwitchWhen:va,ngSwitchDefault:ba,ngOptions:ca,ngTransclude:ya,ngModel:na,ngList:Wo,ngChange:Fo,pattern:Ea,ngPattern:Ea,required:Pa,ngRequired:Pa,minlength:Ta,ngMinlength:Ta,maxlength:Aa,ngMaxlength:Aa,ngValue:Co,ngModelOptions:ia}).directive({ngInclude:Vo}).directive(ho).directive($o),e.provider({$anchorScroll:Ze,$animate:Ti,$$animateQueue:Ai,$$AnimateRunner:Ei,$browser:ot,$cacheFactory:at,$controller:ft,$document:pt,$exceptionHandler:mt,$filter:Mn,$interpolate:Tt,$interval:Ct,$http:jt,$httpParamSerializer:vt,$httpParamSerializerJQLike:bt,$httpBackend:Et,$location:Ht,$log:Wt,$parse:hn,$rootScope:gn,$q:dn,$$q:fn,$sce:_n,$sceDelegate:wn,$sniffer:xn,$templateCache:st,$templateRequest:kn,$$testability:Sn,$timeout:jn,$window:An,$$rAF:mn,$$asyncCallback:rt,$$jqLite:We,$$HashMap:bi,$$cookieReader:Cn})}])}function we(){return++ni}function _e(e){return e.replace(oi,function(e,t,n,r){return r?n.toUpperCase():n}).replace(ai,"Moz$1")}function xe(e){return!ui.test(e)}function ke(e){var t=e.nodeType;return t===Yr||!t||t===Zr}function Se(e){for(var t in ti[e.ng339])return!0;return!1}function je(e,t){var n,r,i,a,s=t.createDocumentFragment(),c=[];if(xe(e))c.push(t.createTextNode(e));else{for(n=n||s.appendChild(t.createElement("div")),r=(hi.exec(e)||["",""])[1].toLowerCase(),i=fi[r]||fi._default,n.innerHTML=i[1]+e.replace(di,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;c=B(c,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(c,function(e){s.appendChild(e)}),s}function Pe(e,n){n=n||t;var r;return(r=li.exec(e))?[n.createElement(r[1])]:(r=je(e,n))?r.childNodes:[]}function Ee(e){if(e instanceof Ee)return e;var t;if(x(e)&&(e=zr(e),t=!0),!(this instanceof Ee)){if(t&&"<"!=e.charAt(0))throw ci("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Ee(e)}t?Re(this,Pe(e)):Re(this,e)}function Ae(e){return e.cloneNode(!0)}function Te(e,t){if(t||Me(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;r<i;r++)Me(n[r])}function Ce(e,t,n,r){if(y(r))throw ci("offargs","jqLite#off() does not support the `selector` argument");var i=Oe(e),a=i&&i.events,s=i&&i.handle;if(s)if(t)o(t.split(" "),function(t){if(y(n)){var r=a[t];if(N(r||[],n),r&&r.length>0)return}ii(e,t,s),delete a[t]});else for(t in a)"$destroy"!==t&&ii(e,t,s),delete a[t]}function Me(e,t){var r=e.ng339,i=r&&ti[r];if(i){if(t)return void delete i.data[t];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Ce(e)),delete ti[r],e.ng339=n}}function Oe(e,t){var r=e.ng339,i=r&&ti[r];return t&&!i&&(e.ng339=r=we(),i=ti[r]={events:{},data:{},handle:n}),i}function Ie(e,t,n){if(ke(e)){var r=y(n),i=!r&&t&&!w(t),o=!t,a=Oe(e,!i),s=a&&a.data;if(r)s[t]=n;else{if(o)return s;if(i)return s&&s[t];h(s,t)}}}function Fe(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function De(e,t){t&&e.setAttribute&&o(t.split(" "),function(t){e.setAttribute("class",zr((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+zr(t)+" "," ")))})}function Le(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(t.split(" "),function(e){e=zr(e),n.indexOf(" "+e+" ")===-1&&(n+=e+" ")}),e.setAttribute("class",zr(n))}}function Re(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;r<n;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Ne(e,t){return Ue(e,"$"+(t||"ngController")+"Controller")}function Ue(e,t,r){e.nodeType==Zr&&(e=e.documentElement);for(var i=Ur(t)?t:[t];e;){for(var o=0,a=i.length;o<a;o++)if((r=Er.data(e,i[o]))!==n)return r;e=e.parentNode||e.nodeType===Jr&&e.host}}function $e(e){for(Te(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function ze(e,t){t||Te(e);var n=e.parentNode;n&&n.removeChild(e)}function Be(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Er(n).on("load",t)}function qe(e,t){var n=mi[t.toLowerCase()];return n&&gi[R(e)]&&n}function Ve(e,t){var n=e.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&vi[t]}function He(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(b(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},o>1&&(i=$(i));for(var s=0;s<o;s++)n.isImmediatePropagationStopped()||i[s].call(e,n)}};return n.elem=e,n}function We(){this.$get=function(){return h(Ee,{hasClass:function(e,t){return e.attr&&(e=e[0]),Fe(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Le(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),De(e,t)}})}}function Ge(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"==r||"object"==r&&null!==e?e.$$hashKey=r+":"+(t||c)():r+":"+e}function Ye(e,t){if(t){var n=0;this.nextUid=function(){return++n}}o(e,this.put,this)}function Ke(e){var t=e.toString().replace(xi,""),n=t.match(yi);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Xe(e,t,n){var r,i,a,s;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw x(n)&&n||(n=e.name||Ke(e)),ki("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=e.toString().replace(xi,""),a=i.match(yi),o(a[1].split(wi),function(e){e.replace(_i,function(e,t,n){r.push(n)})})}e.$inject=r}}else Ur(e)?(s=e.length-1,he(e[s],"fn"),r=e.slice(0,s)):he(e,"fn",!0);return r}function Qe(e,t){function r(e){return function(t,n){return w(t)?void o(t,s(e)):e(t,n)}}function i(e,t){if(de(e,"service"),(j(t)||Ur(t))&&(t=S.instantiate(t)),!t.$get)throw ki("pget","Provider '{0}' must define $get factory method.",e);return k[e+g]=t}function a(e,t){return function(){var n=E.invoke(t,this);if(b(n))throw ki("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function c(e,t,n){return i(e,{$get:n!==!1?a(e,t):t})}function l(e,t){return c(e,["$injector",function(e){return e.instantiate(t)}])}function u(e,t){return c(e,v(t),!1)}function h(e,t){de(e,"constant"),k[e]=t,P[e]=t}function d(e,t){var n=S.get(e+g),r=n.$get;n.$get=function(){var e=E.invoke(r,n);return E.invoke(t,null,{$delegate:e})}}function f(e){var t,n=[];return o(e,function(e){function r(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],i=S.get(r[0]);i[r[1]].apply(i,r[2])}}if(!_.get(e)){_.put(e,!0);try{x(e)?(t=Tr(e),n=n.concat(f(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):j(e)?n.push(S.invoke(e)):Ur(e)?n.push(S.invoke(e)):he(e,"module")}catch(i){throw Ur(e)&&(e=e[e.length-1]),i.message&&i.stack&&i.stack.indexOf(i.message)==-1&&(i=i.message+"\n"+i.stack),ki("modulerr","Failed to instantiate module {0} due to:\n{1}",e,i.stack||i.message||i)}}}),n}function p(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===m)throw ki("cdep","Circular dependency found: {0}",t+" <- "+y.join(" <- "));return e[t]}try{return y.unshift(t),e[t]=m,e[t]=n(t,r)}catch(i){throw e[t]===m&&delete e[t],i}finally{y.shift()}}function i(e,n,i,o){"string"==typeof i&&(o=i,i=null);var a,s,c,l=[],u=Qe.$$annotate(e,t,o);for(s=0,a=u.length;s<a;s++){if(c=u[s],"string"!=typeof c)throw ki("itkn","Incorrect injection token! Expected service name as string, got {0}",c);l.push(i&&i.hasOwnProperty(c)?i[c]:r(c,o))}return Ur(e)&&(e=e[a]),e.apply(n,l)}function o(e,t,n){var r=Object.create((Ur(e)?e[e.length-1]:e).prototype||null),o=i(e,r,t,n);return w(o)||j(o)?o:r}return{invoke:i,instantiate:o,get:r,annotate:Qe.$$annotate,has:function(t){return k.hasOwnProperty(t+g)||e.hasOwnProperty(t)}}}t=t===!0;var m={},g="Provider",y=[],_=new Ye([],(!0)),k={$provide:{provider:r(i),factory:r(c),service:r(l),value:r(u),constant:r(h),decorator:d}},S=k.$injector=p(k,function(e,t){throw Lr.isString(t)&&y.push(t),ki("unpr","Unknown provider: {0}",y.join(" <- "))}),P={},E=P.$injector=p(P,function(e,t){var r=S.get(e+g,t);return E.invoke(r.$get,r,n,e)});return o(f(e),function(e){e&&E.invoke(e)}),E}function Ze(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===R(e))return t=e,!0}),t}function o(){var e=s.yOffset;if(j(e))e=e();else if(D(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else k(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var n=o();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function s(e){e=x(e)?e:n.hash();var t;e?(t=c.getElementById(e))?a(t):(t=i(c.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var c=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||Be(function(){
r.$evalAsync(s)})}),s}]}function Je(e,t){return e||t?e?t?(Ur(e)&&(e=e.join(" ")),Ur(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function et(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===ji)return n}}function tt(e){x(e)&&(e=e.split(" "));var t=me();return o(e,function(e){e.length&&(t[e]=!0)}),t}function nt(e){return w(e)?e:{}}function rt(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,!1)}}]}function it(e,t,n,r){function i(e){try{e.apply(null,q(arguments,1))}finally{if(y--,0===y)for(;w.length;)try{w.pop()()}catch(t){n.error(t)}}}function a(e){var t=e.indexOf("#");return t===-1?"":e.substr(t+1)}function s(){l(),u()}function c(){try{return f.state}catch(e){}}function l(){_=c(),_=b(_)?null:_,z(_,A)&&(_=A),A=_}function u(){k===h.url()&&x===_||(k=h.url(),x=_,o(P,function(e){e(h.url(),_)}))}var h=this,d=(t[0],e.location),f=e.history,p=e.setTimeout,g=e.clearTimeout,v={};h.isMock=!1;var y=0,w=[];h.$$completeOutstandingRequest=i,h.$$incOutstandingRequestCount=function(){y++},h.notifyWhenNoOutstandingRequests=function(e){0===y?e():w.push(e)};var _,x,k=d.href,S=t.find("base"),j=null;l(),x=_,h.url=function(t,n,i){if(b(i)&&(i=null),d!==e.location&&(d=e.location),f!==e.history&&(f=e.history),t){var o=x===i;if(k===t&&(!r.history||o))return h;var s=k&&Lt(k)===Lt(t);return k=t,x=i,!r.history||s&&o?(s&&!j||(j=t),n?d.replace(t):s?d.hash=a(t):d.href=t):(f[n?"replaceState":"pushState"](i,"",t),l(),x=_),h}return j||d.href.replace(/%27/g,"'")},h.state=function(){return _};var P=[],E=!1,A=null;h.onUrlChange=function(t){return E||(r.history&&Er(e).on("popstate",s),Er(e).on("hashchange",s),E=!0),P.push(t),t},h.$$applicationDestroyed=function(){Er(e).off("hashchange popstate",s)},h.$$checkUrlChange=u,h.baseHref=function(){var e=S.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},h.defer=function(e,t){var n;return y++,n=p(function(){delete v[n],i(e)},t||0),v[n]=!0,n},h.defer.cancel=function(e){return!!v[e]&&(delete v[e],g(e),i(m),!0)}}function ot(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new it(e,r,t,n)}]}function at(){this.$get=function(){function e(e,n){function i(e){e!=d&&(f?f==e&&(f=e.n):f=e,o(e.n,e.p),o(e,d),d=e,d.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=h({},n,{id:e}),c={},l=n&&n.capacity||Number.MAX_VALUE,u={},d=null,f=null;return t[e]={put:function(e,t){if(!b(t)){if(l<Number.MAX_VALUE){var n=u[e]||(u[e]={key:e});i(n)}return e in c||a++,c[e]=t,a>l&&this.remove(f.key),t}},get:function(e){if(l<Number.MAX_VALUE){var t=u[e];if(!t)return;i(t)}return c[e]},remove:function(e){if(l<Number.MAX_VALUE){var t=u[e];if(!t)return;t==d&&(d=t.p),t==f&&(f=t.n),o(t.n,t.p),delete u[e]}delete c[e],a--},removeAll:function(){c={},a=0,u={},d=f=null},destroy:function(){c=null,s=null,u=null,delete t[e]},info:function(){return h({},s,{size:a})}}}var t={};return e.info=function(){var e={};return o(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function st(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function ct(e,r){function i(e,t,n){var r=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i={};return o(e,function(e,o){var a=e.match(r);if(!a)throw Ci("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,o,e,n?"controller bindings definition":"isolate scope definition");i[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o}}),i}function a(e,t){var n={isolateScope:null,bindToController:null};if(w(e.scope)&&(e.bindToController===!0?(n.bindToController=i(e.scope,t,!0),n.isolateScope={}):n.isolateScope=i(e.scope,t,!1)),w(e.bindToController)&&(n.bindToController=i(e.bindToController,t,!0)),w(n.bindToController)){var r=e.controller,o=e.controllerAs;if(!r)throw Ci("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!dt(r,o))throw Ci("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}function c(e){var t=e.charAt(0);if(!t||t!==_r(t))throw Ci("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw Ci("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}var l={},u="Directive",d=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,f=/(([\w\-]+)(?:\:([^;]+))?;?)/,b=L("ngSrc,ngSrcset,src,srcset"),_=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,k=/^(on[a-z]+|formaction)$/;this.directive=function P(t,n){return de(t,"directive"),x(t)?(c(t),ue(n,"directiveFactory"),l.hasOwnProperty(t)||(l[t]=[],e.factory(t+u,["$injector","$exceptionHandler",function(e,n){var r=[];return o(l[t],function(i,o){try{var s=e.invoke(i);j(s)?s={compile:v(s)}:!s.compile&&s.link&&(s.compile=v(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||t,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA";var c=s.$$bindings=a(s,s.name);w(c.isolateScope)&&(s.$$isolateBindings=c.isolateScope),s.$$moduleName=i.$$moduleName,r.push(s)}catch(l){n(l)}}),r}])),l[t].push(n)):o(t,s(P)),this},this.aHrefSanitizationWhitelist=function(e){return y(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()};var S=!0;this.debugInfoEnabled=function(e){return y(e)?(S=e,this):S},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,r,i,a,s,c,v,y,P,E,T){function C(e,t){try{e.addClass(t)}catch(n){}}function M(e,t,n,r,i){e instanceof Er||(e=Er(e)),o(e,function(t,n){t.nodeType==Xr&&t.nodeValue.match(/\S+/)&&(e[n]=Er(t).wrap("<span></span>").parent()[0])});var a=I(e,t,e,n,r,i);M.$$addScopeClass(e);var s=null;return function(t,n,r){ue(t,"scope"),r=r||{};var i=r.parentBoundTranscludeFn,o=r.transcludeControllers,c=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),s||(s=O(c));var l;if(l="html"!==s?Er(Z(s,Er("<div>").append(e).html())):n?pi.clone.call(e):e,o)for(var u in o)l.data("$"+u+"Controller",o[u].instance);return M.$$addScopeInfo(l,t),n&&n(l,t),a&&a(t,l,l,i),l}}function O(e){var t=e&&e[0];return t&&"foreignobject"!==R(t)&&t.toString().match(/SVG/)?"svg":"html"}function I(e,t,r,i,o,a){function s(e,r,i,o){var a,s,c,l,u,h,d,f,g;if(p){var v=r.length;for(g=new Array(v),u=0;u<m.length;u+=3)d=m[u],g[d]=r[d]}else g=r;for(u=0,h=m.length;u<h;)if(c=g[m[u++]],a=m[u++],s=m[u++],a){if(a.scope){l=e.$new(),M.$$addScopeInfo(Er(c),l);var b=a.$$destroyBindings;b&&(a.$$destroyBindings=null,l.$on("$destroyed",b))}else l=e;f=a.transcludeOnThisElement?F(e,a.transclude,o):!a.templateOnThisElement&&o?o:!o&&t?F(e,t):null,a(s,l,c,i,f,a)}else s&&s(e,c.childNodes,n,o)}for(var c,l,u,h,d,f,p,m=[],g=0;g<e.length;g++)c=new oe,l=D(e[g],[],c,0===g?i:n,o),u=l.length?$(l,e[g],c,t,r,null,[],[],a):null,u&&u.scope&&M.$$addScopeClass(c.$$element),d=u&&u.terminal||!(h=e[g].childNodes)||!h.length?null:I(h,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),(u||d)&&(m.push(g,u,d),f=!0,p=p||u),a=null;return f?s:null}function F(e,t,n){var r=function(r,i,o,a,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})};return r}function D(e,t,n,r,i){var o,a,s=e.nodeType,c=n.$attr;switch(s){case Yr:V(t,lt(R(e)),"E",r,i);for(var l,u,h,p,m,g,v=e.attributes,b=0,y=v&&v.length;b<y;b++){var _=!1,k=!1;l=v[b],u=l.name,m=zr(l.value),p=lt(u),(g=he.test(p))&&(u=u.replace(Mi,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var S=p.replace(/(Start|End)$/,"");H(S)&&p===S+"Start"&&(_=u,k=u.substr(0,u.length-5)+"end",u=u.substr(0,u.length-6)),h=lt(u.toLowerCase()),c[h]=u,!g&&n.hasOwnProperty(h)||(n[h]=m,qe(e,h)&&(n[h]=!0)),ee(e,t,m,h,g),V(t,h,"A",r,i,_,k)}if(a=e.className,w(a)&&(a=a.animVal),x(a)&&""!==a)for(;o=f.exec(a);)h=lt(o[2]),V(t,h,"C",r,i)&&(n[h]=zr(o[3])),a=a.substr(o.index+o[0].length);break;case Xr:if(11===Pr)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===Xr;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);X(t,e.nodeValue);break;case Qr:try{o=d.exec(e.nodeValue),o&&(h=lt(o[1]),V(t,h,"M",r,i)&&(n[h]=zr(o[2])))}catch(j){}}return t.sort(Y),t}function L(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Ci("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==Yr&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return Er(r)}function U(e,t,n){return function(r,i,o,a,s){return i=L(i[0],t,n),e(r,i,o,a,s)}}function $(e,r,o,a,s,l,u,h,d){function f(e,t,n,r){e&&(n&&(e=U(e,n,r)),e.require=b.require,e.directiveName=y,(C===b||b.$$isolateScope)&&(e=ne(e,{isolateScope:!0})),u.push(e)),t&&(n&&(t=U(t,n,r)),t.require=b.require,t.directiveName=y,(C===b||b.$$isolateScope)&&(t=ne(t,{isolateScope:!0})),h.push(t))}function p(e,t,n,r){var i;if(x(t)){var o=t.match(_),a=t.substring(o[0].length),s=o[1]||o[3],c="?"===o[2];if("^^"===s?n=n.parent():(i=r&&r[a],i=i&&i.instance),!i){var l="$"+a+"Controller";i=s?n.inheritedData(l):n.data(l)}if(!i&&!c)throw Ci("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,e)}else if(Ur(t)){i=[];for(var u=0,h=t.length;u<h;u++)i[u]=p(e,t[u],n,r)}return i||null}function m(e,t,n,r,i,o){var a=me();for(var s in r){var l=r[s],u={$scope:l===C||l.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},h=l.controller;"@"==h&&(h=t[l.name]);var d=c(h,u,!0,l.controllerAs);a[l.name]=d,N||e.data("$"+l.name+"Controller",d.instance)}return a}function g(e,t,i,a,s,c){function l(e,t,r){var i;return A(e)||(r=t,t=e,e=n),N&&(i=w),r||(r=N?x.parent():x),s(e,t,i,r,I)}var d,f,g,b,y,w,_,x,k;if(r===i?(k=o,x=o.$$element):(x=Er(i),k=new oe(x,o)),C&&(y=t.$new(!0)),s&&(_=l,_.$$boundTransclude=s),T&&(w=m(x,k,_,T,y,t)),C&&(M.$$addScopeInfo(x,y,!0,!(O&&(O===C||O===C.$$originalDirective))),M.$$addScopeClass(x,!0),y.$$isolateBindings=C.$$isolateBindings,ie(t,k,y,y.$$isolateBindings,C,y)),w){var S,j,P=C||v;P&&w[P.name]&&(S=P.$$bindings.bindToController,b=w[P.name],b&&b.identifier&&S&&(j=b,c.$$destroyBindings=ie(t,k,b.instance,S,P)));for(d in w){b=w[d];var E=b();E!==b.instance&&(b.instance=E,x.data("$"+d+"Controller",E),b===j&&(c.$$destroyBindings(),c.$$destroyBindings=ie(t,k,E,S,P)))}}for(d=0,f=u.length;d<f;d++)g=u[d],re(g,g.isolateScope?y:t,x,k,g.require&&p(g.directiveName,g.require,x,w),_);var I=t;for(C&&(C.template||null===C.templateUrl)&&(I=y),e&&e(I,i.childNodes,n,s),d=h.length-1;d>=0;d--)g=h[d],re(g,g.isolateScope?y:t,x,k,g.require&&p(g.directiveName,g.require,x,w),_)}d=d||{};for(var v,b,y,k,S,P,E=-Number.MAX_VALUE,T=d.controllerDirectives,C=d.newIsolateScopeDirective,O=d.templateDirective,I=d.nonTlbTranscludeDirective,F=!1,R=!1,N=d.hasElementTranscludeDirective,$=o.$$element=Er(r),z=l,V=a,H=0,Y=e.length;H<Y;H++){b=e[H];var X=b.$$start,J=b.$$end;if(X&&($=L(r,X,J)),k=n,E>b.priority)break;if((P=b.scope)&&(b.templateUrl||(w(P)?(K("new/isolated scope",C||v,b,$),C=b):K("new/isolated scope",C,b,$)),v=v||b),y=b.name,!b.templateUrl&&b.controller&&(P=b.controller,T=T||me(),K("'"+y+"' controller",T[y],b,$),T[y]=b),(P=b.transclude)&&(F=!0,b.$$tlb||(K("transclusion",I,b,$),I=b),"element"==P?(N=!0,E=b.priority,k=$,$=o.$$element=Er(t.createComment(" "+y+": "+o[y]+" ")),r=$[0],te(s,q(k),r),V=M(k,a,E,z&&z.name,{nonTlbTranscludeDirective:I})):(k=Er(Ae(r)).contents(),$.empty(),V=M(k,a))),b.template)if(R=!0,K("template",O,b,$),O=b,P=j(b.template)?b.template($,o):b.template,P=le(P),b.replace){if(z=b,k=xe(P)?[]:ht(Z(b.templateNamespace,zr(P))),r=k[0],1!=k.length||r.nodeType!==Yr)throw Ci("tplrt","Template for directive '{0}' must have exactly one root element. {1}",y,"");te(s,$,r);var ee={$attr:{}},ae=D(r,[],ee),se=e.splice(H+1,e.length-(H+1));C&&B(ae),e=e.concat(ae).concat(se),W(o,ee),Y=e.length}else $.html(P);if(b.templateUrl)R=!0,K("template",O,b,$),O=b,b.replace&&(z=b),g=G(e.splice(H,e.length-H),$,o,s,F&&V,u,h,{controllerDirectives:T,newIsolateScopeDirective:C,templateDirective:O,nonTlbTranscludeDirective:I}),Y=e.length;else if(b.compile)try{S=b.compile($,o,V),j(S)?f(null,S,X,J):S&&f(S.pre,S.post,X,J)}catch(ce){i(ce,Q($))}b.terminal&&(g.terminal=!0,E=Math.max(E,b.priority))}return g.scope=v&&v.scope===!0,g.transcludeOnThisElement=F,g.templateOnThisElement=R,g.transclude=V,d.hasElementTranscludeDirective=N,g}function B(e){for(var t=0,n=e.length;t<n;t++)e[t]=p(e[t],{$$isolateScope:!0})}function V(t,r,o,a,s,c,h){if(r===s)return null;var d=null;if(l.hasOwnProperty(r))for(var f,m=e.get(r+u),g=0,v=m.length;g<v;g++)try{f=m[g],(a===n||a>f.priority)&&f.restrict.indexOf(o)!=-1&&(c&&(f=p(f,{$$start:c,$$end:h})),t.push(f),d=f)}catch(b){i(b)}return d}function H(t){if(l.hasOwnProperty(t))for(var n,r=e.get(t+u),i=0,o=r.length;i<o;i++)if(n=r[i],n.multiElement)return!0;return!1}function W(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;o(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),o(t,function(t,o){"class"==o?(C(i,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==o?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==o.charAt(0)||e.hasOwnProperty(o)||(e[o]=t,r[o]=n[o])})}function G(e,t,n,r,i,s,c,l){var u,h,d=[],f=t[0],m=e.shift(),g=p(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),v=j(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,b=m.templateNamespace;return t.empty(),a(P.getTrustedResourceUrl(v)).then(function(a){var p,y,_,x;if(a=le(a),m.replace){if(_=xe(a)?[]:ht(Z(b,zr(a))),p=_[0],1!=_.length||p.nodeType!==Yr)throw Ci("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,v);y={$attr:{}},te(r,t,p);var k=D(p,[],y);w(m.scope)&&B(k),e=k.concat(e),W(n,y)}else p=f,t.html(a);for(e.unshift(g),u=$(e,p,n,i,t,m,s,c,l),o(r,function(e,n){e==p&&(r[n]=t[0])}),h=I(t[0].childNodes,i);d.length;){var S=d.shift(),j=d.shift(),P=d.shift(),E=d.shift(),A=t[0];if(!S.$$destroyed){if(j!==f){var T=j.className;l.hasElementTranscludeDirective&&m.replace||(A=Ae(p)),te(P,Er(j),A),C(Er(A),T)}x=u.transcludeOnThisElement?F(S,u.transclude,E):E,u(h,S,A,r,x,u)}}d=null}),function(e,t,n,r,i){var o=i;t.$$destroyed||(d?d.push(t,n,r,o):(u.transcludeOnThisElement&&(o=F(t,u.transclude,i)),u(h,t,n,r,o,u)))}}function Y(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function K(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw Ci("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,Q(r))}function X(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),r=!!t.length;return r&&M.$$addBindingClass(t),function(e,t){var i=t.parent();r||M.$$addBindingClass(i),M.$$addBindingInfo(i,n.expressions),e.$watch(n,function(e){t[0].nodeValue=e})}}})}function Z(e,n){switch(e=_r(e||"html")){case"svg":case"math":var r=t.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function J(e,t){if("srcdoc"==t)return P.HTML;var n=R(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?P.RESOURCE_URL:void 0}function ee(e,t,n,i,o){var a=J(e,i);o=b[i]||o;var s=r(n,!0,a,o);if(s){if("multiple"===i&&"select"===R(e))throw Ci("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Q(e));t.push({priority:100,compile:function(){return{pre:function(e,t,c){var l=c.$$observers||(c.$$observers={});if(k.test(i))throw Ci("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var u=c[i];u!==n&&(s=u&&r(u,!0,a,o),n=u),s&&(c[i]=s(e),(l[i]||(l[i]=[])).$$inter=!0,(c.$$observers&&c.$$observers[i].$$scope||e).$watch(s,function(e,t){"class"===i&&e!=t?c.$updateClass(e,t):c.$set(i,e)}))}}}})}}function te(e,n,r){var i,o,a=n[0],s=n.length,c=a.parentNode;if(e)for(i=0,o=e.length;i<o;i++)if(e[i]==a){e[i++]=r;for(var l=i,u=l+s-1,h=e.length;l<h;l++,u++)u<h?e[l]=e[u]:delete e[l];e.length-=s-1,e.context===a&&(e.context=r);break}c&&c.replaceChild(r,a);var d=t.createDocumentFragment();d.appendChild(a),Er.hasData(a)&&(Er(r).data(Er(a).data()),Ar?(Nr=!0,Ar.cleanData([a])):delete Er.cache[a[Er.expando]]);for(var f=1,p=n.length;f<p;f++){var m=n[f];Er(m).remove(),d.appendChild(m),delete n[f]}n[0]=r,n.length=1}function ne(e,t){return h(function(){return e.apply(null,arguments)},e,t)}function re(e,t,n,r,o,a){try{e(t,n,r,o,a)}catch(s){i(s,Q(n))}}function ie(e,t,i,a,c,l){var u;o(a,function(o,a){var l,h,d,f,p=o.attrName,g=o.optional,v=o.mode;switch(xr.call(t,p)||(t[p]=n),v){case"@":t[p]||g||(i[a]=n),t.$observe(p,function(e){i[a]=e}),t.$$observers[p].$$scope=e,t[p]&&(i[a]=r(t[p])(e));break;case"=":if(g&&!t[p])return;h=s(t[p]),f=h.literal?z:function(e,t){return e===t||e!==e&&t!==t},d=h.assign||function(){throw l=i[a]=h(e),Ci("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",t[p],c.name)},l=i[a]=h(e);var b=function(t){return f(t,i[a])||(f(t,l)?d(e,t=i[a]):i[a]=t),l=t};b.$stateful=!0;var y;y=o.collection?e.$watchCollection(t[p],b):e.$watch(s(t[p],b),null,h.literal),u=u||[],u.push(y);break;case"&":if(h=s(t[p]),h===m&&g)break;i[a]=function(t){return h(e,t)}}});var h=u?function(){for(var e=0,t=u.length;e<t;++e)u[e]()}:m;return l&&h!==m?(l.$on("$destroy",h),m):h}var oe=function(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;n<r;n++)i=o[n],this[i]=t[i]}else this.$attr={};this.$$element=e};oe.prototype={$normalize:lt,$addClass:function(e){e&&e.length>0&&E.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&E.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=ut(e,t);n&&n.length&&E.addClass(this.$$element,n);var r=ut(t,e);r&&r.length&&E.removeClass(this.$$element,r)},$set:function(e,t,r,a){var s,c=this.$$element[0],l=qe(c,e),u=Ve(c,e),h=e;if(l?(this.$$element.prop(e,t),a=l):u&&(this[u]=t,h=u),this[e]=t,a?this.$attr[e]=a:(a=this.$attr[e],a||(this.$attr[e]=a=ce(e,"-"))),s=R(this.$$element),"a"===s&&"href"===e||"img"===s&&"src"===e)this[e]=t=T(t,"src"===e);else if("img"===s&&"srcset"===e){for(var d="",f=zr(t),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,m=/\s/.test(f)?p:/(,)/,g=f.split(m),v=Math.floor(g.length/2),b=0;b<v;b++){var y=2*b;d+=T(zr(g[y]),!0),d+=" "+zr(g[y+1])}var w=zr(g[2*b]).split(/\s/);d+=T(zr(w[0]),!0),2===w.length&&(d+=" "+zr(w[1])),this[e]=t=d}r!==!1&&(null===t||t===n?this.$$element.removeAttr(a):this.$$element.attr(a,t));var _=this.$$observers;_&&o(_[h],function(e){try{e(t)}catch(n){i(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=me()),i=r[e]||(r[e]=[]);return i.push(t),v.$evalAsync(function(){!i.$$inter&&n.hasOwnProperty(e)&&t(n[e])}),function(){N(i,t)}}};var ae=r.startSymbol(),se=r.endSymbol(),le="{{"==ae||"}}"==se?g:function(e){return e.replace(/\{\{/g,ae).replace(/}}/g,se)},he=/^ngAttr[A-Z]/;return M.$$addBindingInfo=S?function(e,t){var n=e.data("$binding")||[];Ur(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:m,M.$$addBindingClass=S?function(e){C(e,"ng-binding")}:m,M.$$addScopeInfo=S?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:m,M.$$addScopeClass=S?function(e,t){C(e,t?"ng-isolate-scope":"ng-scope")}:m,M}]}function lt(e){return _e(e.replace(Mi,""))}function ut(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue e;n+=(n.length>0?" ":"")+a}return n}function ht(e){e=Er(e);var t=e.length;if(t<=1)return e;for(;t--;){var n=e[t];n.nodeType===Qr&&Mr.call(e,t,1)}return e}function dt(e,t){if(t&&x(t))return t;if(x(e)){var n=Ii.exec(e);if(n)return n[3]}}function ft(){var e={},t=!1;this.register=function(t,n){de(t,"controller"),w(t)?h(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(i,o){function a(e,t,n,i){if(!e||!w(e.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,t);e.$scope[t]=n}return function(r,s,c,l){var u,d,f,p;if(c=c===!0,l&&x(l)&&(p=l),x(r)){if(d=r.match(Ii),!d)throw Oi("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);f=d[1],p=p||d[3],r=e.hasOwnProperty(f)?e[f]:fe(s.$scope,f,!0)||(t?fe(o,f,!0):n),he(r,f,!0)}if(c){var m=(Ur(r)?r[r.length-1]:r).prototype;u=Object.create(m||null),p&&a(s,p,u,f||r.name);var g;return g=h(function(){var e=i.invoke(r,u,s,f);return e!==u&&(w(e)||j(e))&&(u=e,p&&a(s,p,u,f||r.name)),u},{instance:u,identifier:p})}return u=i.instantiate(r,s,f),p&&a(s,p,u,f||r.name),u}}]}function pt(){this.$get=["$window",function(e){return Er(e.document)}]}function mt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function gt(e){return w(e)?S(e)?e.toISOString():W(e):e}function vt(){this.$get=function(){return function(e){if(!e)return"";var t=[];return a(e,function(e,n){null===e||b(e)||(Ur(e)?o(e,function(e,r){t.push(ne(n)+"="+ne(gt(e)))}):t.push(ne(n)+"="+ne(gt(e))))}),t.join("&")}}}function bt(){this.$get=function(){return function(e){function t(e,r,i){null===e||b(e)||(Ur(e)?o(e,function(e){t(e,r+"[]")}):w(e)&&!S(e)?a(e,function(e,n){t(e,r+(i?"":"[")+n+(i?"":"]"))}):n.push(ne(r)+"="+ne(gt(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function yt(e,t){if(x(e)){var n=e.replace(Ni,"").trim();if(n){var r=t("Content-Type");(r&&0===r.indexOf(Fi)||wt(n))&&(e=G(n))}}return e}function wt(e){var t=e.match(Li);return t&&Ri[t[0]].test(e)}function _t(e){function t(e,t){e&&(r[e]=r[e]?r[e]+", "+t:t)}var n,r=me();return x(e)?o(e.split("\n"),function(e){n=e.indexOf(":"),t(_r(zr(e.substr(0,n))),zr(e.substr(n+1)))}):w(e)&&o(e,function(e,n){t(_r(n),zr(e))}),r}function xt(e){var t;return function(n){if(t||(t=_t(e)),n){var r=t[_r(n)];return void 0===r&&(r=null),r}return t}}function kt(e,t,n,r){return j(r)?r(e,t,n):(o(r,function(r){e=r(e,t,n)}),e)}function St(e){return 200<=e&&e<300}function jt(){var e=this.defaults={transformResponse:[yt],transformRequest:[function(e){return!w(e)||T(e)||M(e)||C(e)?e:W(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:$(Di),put:$(Di),patch:$(Di)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1;this.useApplyAsync=function(e){return y(e)?(t=!!e,this):t};var i=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,s,c,l,u,d){function f(t){function i(e){var t=h({},e);return e.data?t.data=kt(e.data,e.headers,e.status,c.transformResponse):t.data=e.data,St(e.status)?t:u.reject(t)}function a(e,t){var n,r={};return o(e,function(e,i){j(e)?(n=e(t),null!=n&&(r[i]=n)):r[i]=e}),r}function s(t){var n,r,i,o=e.headers,s=h({},t.headers);o=h({},o.common,o[_r(t.method)]);e:for(n in o){r=_r(n);for(i in s)if(_r(i)===r)continue e;s[n]=o[n]}return a(s,$(t))}if(!Lr.isObject(t))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);var c=h({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},t);c.headers=s(t),c.method=kr(c.method),c.paramSerializer=x(c.paramSerializer)?d.get(c.paramSerializer):c.paramSerializer;var l=function(t){var r=t.headers,a=kt(t.data,xt(r),n,t.transformRequest);return b(a)&&o(r,function(e,t){"content-type"===_r(t)&&delete r[t]}),b(t.withCredentials)&&!b(e.withCredentials)&&(t.withCredentials=e.withCredentials),g(t,a).then(i,i)},f=[l,n],p=u.when(c);for(o(k,function(e){(e.request||e.requestError)&&f.unshift(e.request,e.requestError),(e.response||e.responseError)&&f.push(e.response,e.responseError)});f.length;){var m=f.shift(),v=f.shift();p=p.then(m,v)}return p.success=function(e){return he(e,"fn"),p.then(function(t){e(t.data,t.status,t.headers,c)}),p},p.error=function(e){return he(e,"fn"),p.then(null,function(t){e(t.data,t.status,t.headers,c)}),p},p}function p(e){o(arguments,function(e){f[e]=function(t,n){return f(h({},n||{},{method:e,url:t}))}})}function m(e){o(arguments,function(e){f[e]=function(t,n,r){return f(h({},r||{},{method:e,url:t,data:n}))}})}function g(r,i){function o(e,n,r,i){function o(){c(n,e,r,i)}p&&(St(e)?p.put(S,[e,n,_t(r),i]):p.remove(S)),t?l.$applyAsync(o):(o(),l.$$phase||l.$apply())}function c(e,t,n,i){t=Math.max(t,0),(St(t)?g.resolve:g.reject)({data:e,status:t,headers:xt(n),config:r,statusText:i})}function h(e){c(e.data,e.status,$(e.headers()),e.statusText)}function d(){var e=f.pendingRequests.indexOf(r);e!==-1&&f.pendingRequests.splice(e,1)}var p,m,g=u.defer(),x=g.promise,k=r.headers,S=v(r.url,r.paramSerializer(r.params));if(f.pendingRequests.push(r),x.then(d,d),!r.cache&&!e.cache||r.cache===!1||"GET"!==r.method&&"JSONP"!==r.method||(p=w(r.cache)?r.cache:w(e.cache)?e.cache:_),p&&(m=p.get(S),y(m)?I(m)?m.then(h,h):Ur(m)?c(m[1],m[0],$(m[2]),m[3]):c(m,200,{},"OK"):p.put(S,x)),b(m)){var j=En(r.url)?s()[r.xsrfCookieName||e.xsrfCookieName]:n;j&&(k[r.xsrfHeaderName||e.xsrfHeaderName]=j),a(r.method,S,i,o,k,r.timeout,r.withCredentials,r.responseType)}return x}function v(e,t){return t.length>0&&(e+=(e.indexOf("?")==-1?"?":"&")+t),e}var _=c("$http");e.paramSerializer=x(e.paramSerializer)?d.get(e.paramSerializer):e.paramSerializer;var k=[];return o(i,function(e){k.unshift(x(e)?d.get(e):d.invoke(e))}),f.pendingRequests=[],p("get","delete","head","jsonp"),m("post","put","patch"),f.defaults=e,f}]}function Pt(){return new e.XMLHttpRequest}function Et(){this.$get=["$browser","$window","$document",function(e,t,n){return At(e,Pt,e.defer,t.angular.callbacks,n[0])}]}function At(e,t,r,i,a){function s(e,t,n){var r=a.createElement("script"),o=null;return r.type="text/javascript",r.src=e,r.async=!0,o=function(e){ii(r,"load",o),ii(r,"error",o),a.body.removeChild(r),r=null;var s=-1,c="unknown";e&&("load"!==e.type||i[t].called||(e={type:"error"}),c=e.type,s="error"===e.type?404:200),n&&n(s,c)},ri(r,"load",o),ri(r,"error",o),a.body.appendChild(r),o}return function(a,c,l,u,h,d,f,p){function g(){w&&w(),_&&_.abort()}function v(t,i,o,a,s){S!==n&&r.cancel(S),w=_=null,t(i,o,a,s),e.$$completeOutstandingRequest(m)}if(e.$$incOutstandingRequestCount(),c=c||e.url(),"jsonp"==_r(a)){var b="_"+(i.counter++).toString(36);i[b]=function(e){i[b].data=e,i[b].called=!0};var w=s(c.replace("JSON_CALLBACK","angular.callbacks."+b),b,function(e,t){v(u,e,i[b].data,"",t),i[b]=m})}else{var _=t();_.open(a,c,!0),o(h,function(e,t){y(e)&&_.setRequestHeader(t,e)}),_.onload=function(){var e=_.statusText||"",t="response"in _?_.response:_.responseText,n=1223===_.status?204:_.status;0===n&&(n=t?200:"file"==Pn(c).protocol?404:0),v(u,n,t,_.getAllResponseHeaders(),e)};var x=function(){v(u,-1,null,null,"")};if(_.onerror=x,_.onabort=x,f&&(_.withCredentials=!0),p)try{_.responseType=p}catch(k){if("json"!==p)throw k}_.send(l)}if(d>0)var S=r(g,d);else I(d)&&d.then(g)}}function Tt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(e){return"\\\\\\"+e}function a(n){return n.replace(d,e).replace(f,t)}function s(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=W(e)}return e}function c(o,c,d,f){function p(e){try{return e=A(e),f&&!y(e)?e:s(e)}catch(t){r(Ui.interr(o,t))}}f=!!f;for(var m,g,v,w=0,_=[],x=[],k=o.length,S=[],P=[];w<k;){if((m=o.indexOf(e,w))==-1||(g=o.indexOf(t,m+l))==-1){w!==k&&S.push(a(o.substring(w)));break}w!==m&&S.push(a(o.substring(w,m))),v=o.substring(m+l,g),_.push(v),x.push(n(v,p)),w=g+u,P.push(S.length),S.push("")}if(d&&S.length>1&&Ui.throwNoconcat(o),!c||_.length){var E=function(e){for(var t=0,n=_.length;t<n;t++){if(f&&b(e[t]))return;S[P[t]]=e[t]}return S.join("")},A=function(e){return d?i.getTrusted(d,e):i.valueOf(e)};return h(function(e){var t=0,n=_.length,i=new Array(n);try{for(;t<n;t++)i[t]=x[t](e);return E(i)}catch(a){r(Ui.interr(o,a))}},{exp:o,expressions:_,$$watchDelegate:function(e,t){var n;return e.$watchGroup(x,function(r,i){var o=E(r);j(t)&&t.call(this,o,r!==i?n:o,e),n=o})}})}}var l=e.length,u=t.length,d=new RegExp(e.replace(/./g,o),"g"),f=new RegExp(t.replace(/./g,o),"g");return c.startSymbol=function(){return e},c.endSymbol=function(){return t},c}]}function Ct(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,r){function i(i,a,s,c){var l=arguments.length>4,u=l?q(arguments,4):[],h=t.setInterval,d=t.clearInterval,f=0,p=y(c)&&!c,m=(p?r:n).defer(),g=m.promise;return s=y(s)?s:0,g.then(null,null,l?function(){i.apply(null,u)}:i),g.$$intervalId=h(function(){m.notify(f++),s>0&&f>=s&&(m.resolve(f),d(g.$$intervalId),delete o[g.$$intervalId]),p||e.$apply()},a),o[g.$$intervalId]=m,g}var o={};return i.cancel=function(e){return!!(e&&e.$$intervalId in o)&&(o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0)},i}]}function Mt(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(e){return 1===e?"one":"other"}}}}function Ot(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=te(t[n]);return t.join("/")}function It(e,t){var n=Pn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=f(n.port)||zi[n.protocol]||null}function Ft(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=Pn(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=J(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Dt(e,t){if(0===t.indexOf(e))return t.substr(e.length)}function Lt(e){var t=e.indexOf("#");return t==-1?e:e.substr(0,t)}function Rt(e){return e.replace(/(#.+)|#$/,"$1")}function Nt(e){return e.substr(0,Lt(e).lastIndexOf("/")+1)}function Ut(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function $t(e,t){this.$$html5=!0,t=t||"";var r=Nt(e);It(e,this),this.$$parse=function(e){var t=Dt(r,e);if(!x(t))throw Bi("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,r);Ft(t,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=ee(this.$$search),t=this.$$hash?"#"+te(this.$$hash):"";this.$$url=Ot(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=r+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var a,s,c;return(a=Dt(e,i))!==n?(s=a,c=(a=Dt(t,a))!==n?r+(Dt("/",a)||a):e+s):(a=Dt(r,i))!==n?c=r+a:r==i+"/"&&(c=r),c&&this.$$parse(c),!!c}}function zt(e,t){var n=Nt(e);It(e,this),this.$$parse=function(r){function i(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}var o,a=Dt(e,r)||Dt(n,r);"#"===a.charAt(0)?(o=Dt(t,a),b(o)&&(o=a)):o=this.$$html5?a:"",Ft(o,this),this.$$path=i(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var n=ee(this.$$search),r=this.$$hash?"#"+te(this.$$hash):"";this.$$url=Ot(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+(this.$$url?t+this.$$url:"");
},this.$$parseLinkUrl=function(t,n){return Lt(e)==Lt(t)&&(this.$$parse(t),!0)}}function Bt(e,t){this.$$html5=!0,zt.apply(this,arguments);var n=Nt(e);this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return e==Lt(r)?o=r:(a=Dt(n,r))?o=e+t+a:n===r+"/"&&(o=n),o&&this.$$parse(o),!!o},this.$$compose=function(){var n=ee(this.$$search),r=this.$$hash?"#"+te(this.$$hash):"";this.$$url=Ot(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+t+this.$$url}}function qt(e){return function(){return this[e]}}function Vt(e,t){return function(n){return b(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Ht(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return y(t)?(e=t,this):e},this.html5Mode=function(e){return O(e)?(t.enabled=e,this):w(e)?(O(e.enabled)&&(t.enabled=e.enabled),O(e.requireBase)&&(t.requireBase=e.requireBase),O(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(e,t,n){var i=l.url(),o=l.$$state;try{r.url(e,t,n),l.$$state=r.state()}catch(a){throw l.url(i),l.$$state=o,a}}function c(e,t){n.$broadcast("$locationChangeSuccess",l.absUrl(),e,l.$$state,t)}var l,u,h,d=r.baseHref(),f=r.url();if(t.enabled){if(!d&&t.requireBase)throw Bi("nobase","$location in HTML5 mode requires a <base> tag to be present!");h=Ut(f)+(d||"/"),u=i.history?$t:Bt}else h=Lt(f),u=zt;l=new u(h,"#"+e),l.$$parseLinkUrl(f,f),l.$$state=r.state();var p=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=Er(e.target);"a"!==R(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var s=i.prop("href"),c=i.attr("href")||i.attr("xlink:href");w(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Pn(s.animVal).href),p.test(s)||!s||i.attr("target")||e.isDefaultPrevented()||l.$$parseLinkUrl(s,c)&&(e.preventDefault(),l.absUrl()!=r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),Rt(l.absUrl())!=Rt(f)&&r.url(l.absUrl(),!0);var m=!0;return r.onUrlChange(function(e,t){n.$evalAsync(function(){var r,i=l.absUrl(),o=l.$$state;l.$$parse(e),l.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,l.absUrl()===e&&(r?(l.$$parse(i),l.$$state=o,s(i,!1,o)):(m=!1,c(i,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){var e=Rt(r.url()),t=Rt(l.absUrl()),o=r.state(),a=l.$$replace,u=e!==t||l.$$html5&&i.history&&o!==l.$$state;(m||u)&&(m=!1,n.$evalAsync(function(){var t=l.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,l.$$state,o).defaultPrevented;l.absUrl()===t&&(r?(l.$$parse(e),l.$$state=o):(u&&s(t,a,o===l.$$state?null:l.$$state),c(e,o)))})),l.$$replace=!1}),l}]}function Wt(){var e=!0,t=this;this.debugEnabled=function(t){return y(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&e.stack.indexOf(e.message)===-1?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||m,a=!1;try{a=!!i.apply}catch(s){}return a?function(){var e=[];return o(arguments,function(t){e.push(r(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Gt(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw Vi("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Yt(e,t){if(e){if(e.constructor===e)throw Vi("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw Vi("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw Vi("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw Vi("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function Kt(e,t){if(e){if(e.constructor===e)throw Vi("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===Hi||e===Wi||e===Gi)throw Vi("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function Xt(e,t){return"undefined"!=typeof e?e:t}function Qt(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function Zt(e,t){var n=e(t);return!n.$stateful}function Jt(e,t){var n,r;switch(e.type){case Qi.Program:n=!0,o(e.body,function(e){Jt(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case Qi.Literal:e.constant=!0,e.toWatch=[];break;case Qi.UnaryExpression:Jt(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case Qi.BinaryExpression:Jt(e.left,t),Jt(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case Qi.LogicalExpression:Jt(e.left,t),Jt(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case Qi.ConditionalExpression:Jt(e.test,t),Jt(e.alternate,t),Jt(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case Qi.Identifier:e.constant=!1,e.toWatch=[e];break;case Qi.MemberExpression:Jt(e.object,t),e.computed&&Jt(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case Qi.CallExpression:n=!!e.filter&&Zt(t,e.callee.name),r=[],o(e.arguments,function(e){Jt(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&Zt(t,e.callee.name)?r:[e];break;case Qi.AssignmentExpression:Jt(e.left,t),Jt(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case Qi.ArrayExpression:n=!0,r=[],o(e.elements,function(e){Jt(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=r;break;case Qi.ObjectExpression:n=!0,r=[],o(e.properties,function(e){Jt(e.value,t),n=n&&e.value.constant,e.value.constant||r.push.apply(r,e.value.toWatch)}),e.constant=n,e.toWatch=r;break;case Qi.ThisExpression:e.constant=!1,e.toWatch=[]}}function en(e){if(1==e.length){var t=e[0].expression,r=t.toWatch;return 1!==r.length?r:r[0]!==t?r:n}}function tn(e){return e.type===Qi.Identifier||e.type===Qi.MemberExpression}function nn(e){if(1===e.body.length&&tn(e.body[0].expression))return{type:Qi.AssignmentExpression,left:e.body[0].expression,right:{type:Qi.NGValueParameter},operator:"="}}function rn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===Qi.Literal||e.body[0].expression.type===Qi.ArrayExpression||e.body[0].expression.type===Qi.ObjectExpression)}function on(e){return e.constant}function an(e,t){this.astBuilder=e,this.$filter=t}function sn(e,t){this.astBuilder=e,this.$filter=t}function cn(e,t,n,r){Yt(e,r);for(var i,o=t.split("."),a=0;o.length>1;a++){i=Gt(o.shift(),r);var s=Yt(e[i],r);s||(s={},e[i]=s),e=s}return i=Gt(o.shift(),r),Yt(e[i],r),e[i]=n,n}function ln(e){return"constructor"==e}function un(e){return j(e.valueOf)?e.valueOf():Ji.call(e)}function hn(){var e=me(),t=me();this.$get=["$filter","$sniffer",function(r,i){function a(e,t){return null==e||null==t?e===t:("object"!=typeof e||(e=un(e),"object"!=typeof e))&&(e===t||e!==e&&t!==t)}function s(e,t,r,i,o){var s,c=i.inputs;if(1===c.length){var l=a;return c=c[0],e.$watch(function(e){var t=c(e);return a(t,l)||(s=i(e,n,n,[t]),l=t&&un(t)),s},t,r,o)}for(var u=[],h=[],d=0,f=c.length;d<f;d++)u[d]=a,h[d]=null;return e.$watch(function(e){for(var t=!1,r=0,o=c.length;r<o;r++){var l=c[r](e);(t||(t=!a(l,u[r])))&&(h[r]=l,u[r]=l&&un(l))}return t&&(s=i(e,n,n,h)),s},t,r,o)}function c(e,t,n,r){var i,o;return i=e.$watch(function(e){return r(e)},function(e,n,r){o=e,j(t)&&t.apply(this,arguments),y(e)&&r.$$postDigest(function(){y(o)&&i()})},n)}function l(e,t,n,r){function i(e){var t=!0;return o(e,function(e){y(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return r(e)},function(e,n,r){s=e,j(t)&&t.call(this,e,n,r),i(e)&&r.$$postDigest(function(){i(s)&&a()})},n)}function u(e,t,n,r){var i;return i=e.$watch(function(e){return r(e)},function(e,n,r){j(t)&&t.apply(this,arguments),i()},n)}function h(e,t){if(!t)return e;var n=e.$$watchDelegate,r=n!==l&&n!==c,i=r?function(n,r,i,o){var a=e(n,r,i,o);return t(a,n,r)}:function(n,r,i,o){var a=e(n,r,i,o),s=t(a,n,r);return y(a)?s:a};return e.$$watchDelegate&&e.$$watchDelegate!==s?i.$$watchDelegate=e.$$watchDelegate:t.$stateful||(i.$$watchDelegate=s,i.inputs=e.inputs?e.inputs:[e]),i}var d={csp:i.csp,expensiveChecks:!1},f={csp:i.csp,expensiveChecks:!0};return function(n,i,o){var a,p,g;switch(typeof n){case"string":n=n.trim(),g=n;var v=o?t:e;if(a=v[g],!a){":"===n.charAt(0)&&":"===n.charAt(1)&&(p=!0,n=n.substring(2));var b=o?f:d,y=new Xi(b),w=new Zi(y,r,b);a=w.parse(n),a.constant?a.$$watchDelegate=u:p?a.$$watchDelegate=a.literal?l:c:a.inputs&&(a.$$watchDelegate=s),v[g]=a}return h(a,i);case"function":return h(n,i);default:return m}}}]}function dn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return pn(function(t){e.$evalAsync(t)},t)}]}function fn(){this.$get=["$browser","$exceptionHandler",function(e,t){return pn(function(t){e.defer(t)},t)}]}function pn(e,t){function i(e,t,n){function r(t){return function(n){i||(i=!0,t.call(e,n))}}var i=!1;return[r(t),r(n)]}function a(){this.$$state={status:0}}function s(e,t){return function(n){t.call(e,n)}}function c(e){var r,i,o;o=e.pending,e.processScheduled=!1,e.pending=n;for(var a=0,s=o.length;a<s;++a){i=o[a][0],r=o[a][e.status];try{j(r)?i.resolve(r(e.value)):1===e.status?i.resolve(e.value):i.reject(e.value)}catch(c){i.reject(c),t(c)}}}function l(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){c(t)}))}function u(){this.promise=new a,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function h(e){var t=new u,n=0,r=Ur(e)?[]:{};return o(e,function(e,i){n++,v(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}var d=r("$q",TypeError),f=function(){return new u};a.prototype={then:function(e,t,n){var r=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&l(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return g(t,!0,e)},function(t){return g(t,!1,e)},t)}},u.prototype={resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(d("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){var n,r;r=i(this,this.$$resolve,this.$$reject);try{(w(e)||j(e))&&(n=e&&e.then),j(n)?(this.promise.$$state.status=-1,n.call(e,r[0],r[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,l(this.promise.$$state))}catch(o){r[1](o),t(o)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,l(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&e(function(){for(var e,i,o=0,a=r.length;o<a;o++){i=r[o][0],e=r[o][3];try{i.notify(j(e)?e(n):n)}catch(s){t(s)}}})}};var p=function(e){var t=new u;return t.reject(e),t.promise},m=function(e,t){var n=new u;return t?n.resolve(e):n.reject(e),n.promise},g=function(e,t,n){var r=null;try{j(n)&&(r=n())}catch(i){return m(i,!1)}return I(r)?r.then(function(){return m(e,t)},function(e){return m(e,!1)}):m(e,t)},v=function(e,t,n,r){var i=new u;return i.resolve(e),i.promise.then(t,n,r)},b=v,y=function _(e){function t(e){r.resolve(e)}function n(e){r.reject(e)}if(!j(e))throw d("norslvr","Expected resolverFn, got '{0}'",e);if(!(this instanceof _))return new _(e);var r=new u;return e(t,n),r.promise};return y.defer=f,y.reject=p,y.when=v,y.resolve=b,y.all=h,y}function mn(){this.$get=["$window","$timeout",function(e,t){function n(){for(var e=0;e<u.length;e++){var t=u[e];t&&(u[e]=null,t())}l=u.length=0}function r(e){var t=u.length;return l++,u.push(e),0===t&&(c=s(n)),function(){t>=0&&(u[t]=null,t=null,0===--l&&c&&(c(),c=null,u.length=0))}}var i=e.requestAnimationFrame||e.webkitRequestAnimationFrame,o=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,a=!!i,s=a?function(e){var t=i(e);return function(){o(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};r.supported=a;var c,l=0,u=[];return r}]}function gn(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=c(),this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=r("$rootScope"),a=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,l,u,h){function d(e){e.currentScope.$$destroyed=!0}function f(){this.$id=c(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function p(e){if(S.$$phase)throw n("inprog","{0} already in progress",S.$$phase);S.$$phase=e}function g(){S.$$phase=null}function v(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function y(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function _(){}function x(){for(;A.length;)try{A.shift()()}catch(e){l(e)}s=null}function k(){null===s&&(s=h.defer(function(){S.$apply(x)}))}f.prototype={constructor:f,$new:function(t,n){var r;return n=n||this,t?(r=new f,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!=this)&&r.$on("$destroy",d),r},$watch:function(e,t,n,r){var i=u(e);if(i.$$watchDelegate)return i.$$watchDelegate(this,t,n,i,e);var o=this,s=o.$$watchers,c={fn:t,last:_,get:i,exp:r||e,eq:!!n};return a=null,j(t)||(c.fn=m),s||(s=o.$$watchers=[]),s.unshift(c),v(this,1),function(){N(s,c)>=0&&v(o,-1),a=null}},$watchGroup:function(e,t){function n(){c=!1,l?(l=!1,t(i,i,s)):t(i,r,s)}var r=new Array(e.length),i=new Array(e.length),a=[],s=this,c=!1,l=!0;if(!e.length){var u=!0;return s.$evalAsync(function(){u&&t(i,i,s)}),function(){u=!1}}return 1===e.length?this.$watch(e[0],function(e,n,o){i[0]=e,r[0]=n,t(i,e===n?i:r,o)}):(o(e,function(e,t){var o=s.$watch(e,function(e,o){i[t]=e,r[t]=o,c||(c=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function n(e){o=e;var t,n,r,s,c;if(!b(o)){if(w(o))if(i(o)){a!==f&&(a=f,g=a.length=0,h++),t=o.length,g!==t&&(h++,a.length=g=t);for(var l=0;l<t;l++)c=a[l],s=o[l],r=c!==c&&s!==s,r||c===s||(h++,a[l]=s)}else{a!==p&&(a=p={},g=0,h++),t=0;for(n in o)o.hasOwnProperty(n)&&(t++,s=o[n],c=a[n],n in a?(r=c!==c&&s!==s,r||c===s||(h++,a[n]=s)):(g++,a[n]=s,h++));if(g>t){h++;for(n in a)o.hasOwnProperty(n)||(g--,delete a[n])}}else a!==o&&(a=o,h++);return h}}function r(){if(m?(m=!1,t(o,o,c)):t(o,s,c),l)if(w(o))if(i(o)){s=new Array(o.length);for(var e=0;e<o.length;e++)s[e]=o[e]}else{s={};for(var n in o)xr.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,c=this,l=t.length>1,h=0,d=u(e,n),f=[],p={},m=!0,g=0;return this.$watch(d,r)},$digest:function(){var e,r,i,o,c,u,d,f,m,v,b=t,y=this,w=[];p("$digest"),h.$$checkUrlChange(),this===S&&null!==s&&(h.defer.cancel(s),x()),a=null;do{for(u=!1,f=y;P.length;){try{v=P.shift(),v.scope.$eval(v.expression,v.locals)}catch(k){l(k)}a=null}e:do{if(o=f.$$watchers)for(c=o.length;c--;)try{if(e=o[c])if((r=e.get(f))===(i=e.last)||(e.eq?z(r,i):"number"==typeof r&&"number"==typeof i&&isNaN(r)&&isNaN(i))){if(e===a){u=!1;break e}}else u=!0,a=e,e.last=e.eq?U(r,null):r,e.fn(r,i===_?r:i,f),b<5&&(m=4-b,w[m]||(w[m]=[]),w[m].push({msg:j(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:r,oldVal:i}))}catch(k){l(k)}if(!(d=f.$$watchersCount&&f.$$childHead||f!==y&&f.$$nextSibling))for(;f!==y&&!(d=f.$$nextSibling);)f=f.$parent}while(f=d);if((u||P.length)&&!b--)throw g(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,w)}while(u||P.length);for(g();E.length;)try{E.shift()()}catch(k){l(k)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===S&&h.$$applicationDestroyed(),v(this,-this.$$watchersCount);for(var t in this.$$listenerCount)y(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=m,this.$on=this.$watch=this.$watchGroup=function(){return m},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(e,t){return u(e)(this,t)},$evalAsync:function(e,t){S.$$phase||P.length||h.defer(function(){P.length&&S.$digest()}),P.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){E.push(e)},$apply:function(e){try{return p("$apply"),this.$eval(e)}catch(t){l(t)}finally{g();try{S.$digest()}catch(t){throw l(t),t}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&A.push(t),k()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);r!==-1&&(n[r]=null,y(i,1,e))}},$emit:function(e,t){var n,r,i,o=[],a=this,s=!1,c={name:e,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=B([c],arguments,1);do{for(n=a.$$listeners[e]||o,c.currentScope=a,r=0,i=n.length;r<i;r++)if(n[r])try{n[r].apply(null,u)}catch(h){l(h)}else n.splice(r,1),r--,i--;if(s)return c.currentScope=null,c;a=a.$parent}while(a);return c.currentScope=null,c},$broadcast:function(e,t){var n=this,r=n,i=n,o={name:e,targetScope:n,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return o;for(var a,s,c,u=B([o],arguments,1);r=i;){for(o.currentScope=r,a=r.$$listeners[e]||[],s=0,c=a.length;s<c;s++)if(a[s])try{a[s].apply(null,u)}catch(h){l(h)}else a.splice(s,1),s--,c--;if(!(i=r.$$listenerCount[e]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(i=r.$$nextSibling);)r=r.$parent}return o.currentScope=null,o}};var S=new f,P=S.$$asyncQueue=[],E=S.$$postDigestQueue=[],A=S.$$applyAsyncQueue=[];return S}]}function vn(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return i=Pn(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function bn(e){if("self"===e)return e;if(x(e)){if(e.indexOf("***")>-1)throw eo("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Br(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(P(e))return new RegExp("^"+e.source+"$");throw eo("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function yn(e){var t=[];return y(e)&&o(e,function(e){t.push(bn(e))}),t}function wn(){this.SCE_CONTEXTS=to;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=yn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=yn(e)),t},this.$get=["$injector",function(r){function i(e,t){return"self"===e?En(t):!!e.exec(t.href)}function o(n){var r,o,a=Pn(n.toString()),s=!1;for(r=0,o=e.length;r<o;r++)if(i(e[r],a)){s=!0;break}if(s)for(r=0,o=t.length;r<o;r++)if(i(t[r],a)){s=!1;break}return s}function a(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function s(e,t){var r=d.hasOwnProperty(e)?d[e]:null;if(!r)throw eo("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw eo("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new r(t)}function c(e){return e instanceof h?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||t===n||""===t)return t;var r=d.hasOwnProperty(e)?d[e]:null;if(r&&t instanceof r)return t.$$unwrapTrustedValue();if(e===to.RESOURCE_URL){if(o(t))return t;throw eo("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===to.HTML)return u(t);throw eo("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(e){throw eo("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(u=r.get("$sanitize"));var h=a(),d={};return d[to.HTML]=a(h),d[to.CSS]=a(h),d[to.URL]=a(h),d[to.JS]=a(h),d[to.RESOURCE_URL]=a(d[to.URL]),{trustAs:s,getTrusted:l,valueOf:c}}]}function _n(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&Pr<8)throw eo("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=$(to);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=g),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o(to,function(e,t){var n=_r(t);r[_e("parse_as_"+n)]=function(t){return i(e,t)},r[_e("get_trusted_"+n)]=function(t){return a(e,t)},r[_e("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function xn(){this.$get=["$window","$document",function(e,t){var n,r,i={},o=f((/android (\d+)/.exec(_r((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},c=/^(Moz|webkit|ms)(?=[A-Z])/,l=s.body&&s.body.style,u=!1,h=!1;if(l){for(var d in l)if(r=c.exec(d)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),u=!!("transition"in l||n+"Transition"in l),h=!!("animation"in l||n+"Animation"in l),!o||u&&h||(u=x(l.webkitTransition),h=x(l.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||o<4||a),hasEvent:function(e){if("input"===e&&Pr<=11)return!1;if(b(i[e])){var t=s.createElement("div");i[e]="on"+e in t}return i[e]},csp:qr(),vendorPrefix:n,transitions:u,animations:h,android:o}}]}function kn(){this.$get=["$templateCache","$http","$q",function(e,t,n){function r(i,o){function a(e){if(!o)throw Ci("tpload","Failed to load template: {0} (HTTP status: {1} {2})",i,e.status,e.statusText);return n.reject(e)}r.totalPendingRequests++;var s=t.defaults&&t.defaults.transformResponse;Ur(s)?s=s.filter(function(e){return e!==yt}):s===yt&&(s=null);var c={cache:e,transformResponse:s};return t.get(i,c)["finally"](function(){r.totalPendingRequests--}).then(function(t){return e.put(i,t.data),t.data},a)}return r.totalPendingRequests=0,r}]}function Sn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};return r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding"),i=[];return o(r,function(e){var r=Lr.element(e).data("$binding");r&&o(r,function(r){if(n){var o=new RegExp("(^|\\s)"+Br(t)+"(\\s|\\||$)");o.test(r)&&i.push(e)}else r.indexOf(t)!=-1&&i.push(e)})}),i},r.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},r}]}function jn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function o(o,s,c){j(o)||(c=s,s=o,o=m);var l,u=q(arguments,3),h=y(c)&&!c,d=(h?r:n).defer(),f=d.promise;return l=t.defer(function(){try{d.resolve(o.apply(null,u))}catch(t){d.reject(t),i(t)}finally{delete a[f.$$timeoutId]}h||e.$apply()},s),f.$$timeoutId=l,a[l]=d,f}var a={};return o.cancel=function(e){return!!(e&&e.$$timeoutId in a)&&(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},o}]}function Pn(e){var t=e;return Pr&&(no.setAttribute("href",t),t=no.href),no.setAttribute("href",t),{href:no.href,protocol:no.protocol?no.protocol.replace(/:$/,""):"",host:no.host,search:no.search?no.search.replace(/^\?/,""):"",hash:no.hash?no.hash.replace(/^#/,""):"",hostname:no.hostname,port:no.port,pathname:"/"===no.pathname.charAt(0)?no.pathname:"/"+no.pathname}}function En(e){var t=x(e)?Pn(e):e;return t.protocol===ro.protocol&&t.host===ro.host}function An(){this.$get=v(e)}function Tn(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var r=e[0]||{},i={},o="";return function(){var e,a,s,c,l,u=r.cookie||"";if(u!==o)for(o=u,e=o.split("; "),i={},s=0;s<e.length;s++)a=e[s],c=a.indexOf("="),c>0&&(l=t(a.substring(0,c)),i[l]===n&&(i[l]=t(a.substring(c+1))));return i}}function Cn(){this.$get=Tn}function Mn(e){function t(r,i){if(w(r)){var a={};return o(r,function(e,n){a[n]=t(n,e)}),a}return e.factory(r+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Rn),t("date",Xn),t("filter",On),t("json",Qn),t("limitTo",Zn),t("lowercase",co),t("number",Nn),t("orderBy",Jn),t("uppercase",lo)}function On(){return function(e,t,n){if(!i(e)){if(null==e)return e;throw r("filter")("notarray","Expected array but received: {0}",e)}var o,a,s=Ln(t);switch(s){case"function":o=t;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":o=Fn(t,n,a);break;default:return e}return Array.prototype.filter.call(e,o)}}function In(e){return j(e.toString)&&e.toString!==Object.prototype.toString}function Fn(e,t,n){var r,i=w(e)&&"$"in e;return t===!0?t=z:j(t)||(t=function(e,t){return!b(e)&&(null===e||null===t?e===t:!(w(t)||w(e)&&!In(e))&&(e=_r(""+e),t=_r(""+t),e.indexOf(t)!==-1))}),r=function(r){return i&&!w(r)?Dn(r,e.$,t,!1):Dn(r,e,t,n)}}function Dn(e,t,n,r,i){var o=Ln(e),a=Ln(t);if("string"===a&&"!"===t.charAt(0))return!Dn(e,t.substring(1),n,r);if(Ur(e))return e.some(function(e){return Dn(e,t,n,r)});switch(o){case"object":var s;if(r){for(s in e)if("$"!==s.charAt(0)&&Dn(e[s],t,n,!0))return!0;return!i&&Dn(e,t,n,!1)}if("object"===a){for(s in t){var c=t[s];if(!j(c)&&!b(c)){var l="$"===s,u=l?e:e[s];if(!Dn(u,c,n,l,l))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Ln(e){return null===e?"null":typeof e}function Rn(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return b(n)&&(n=t.CURRENCY_SYM),b(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:Un(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function Nn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Un(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Un(e,t,n,r,i){if(w(e))return"";var o=e<0;e=Math.abs(e);var a=e===1/0;if(!a&&!isFinite(e))return"";var s=e+"",c="",l=!1,u=[];if(a&&(c="∞"),!a&&s.indexOf("e")!==-1){var h=s.match(/([\d\.]+)e(-?)(\d+)/);h&&"-"==h[2]&&h[3]>i+1?e=0:(c=s,l=!0)}if(a||l)i>0&&e<1&&(c=e.toFixed(i),e=parseFloat(c));else{var d=(s.split(io)[1]||"").length;b(i)&&(i=Math.min(Math.max(t.minFrac,d),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+i)).toString()+"e"+-i);var f=(""+e).split(io),p=f[0];f=f[1]||"";var m,g=0,v=t.lgSize,y=t.gSize;if(p.length>=v+y)for(g=p.length-v,m=0;m<g;m++)(g-m)%y===0&&0!==m&&(c+=n),c+=p.charAt(m);for(m=g;m<p.length;m++)(p.length-m)%v===0&&0!==m&&(c+=n),c+=p.charAt(m);for(;f.length<i;)f+="0";i&&"0"!==i&&(c+=r+f.substr(0,i))}return 0===e&&(o=!1),u.push(o?t.negPre:t.posPre,c,o?t.negSuf:t.posSuf),u.join("")}function $n(e,t,n){var r="";for(e<0&&(r="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function zn(e,t,n,r){return n=n||0,function(i){var o=i["get"+e]();return(n>0||o>-n)&&(o+=n),0===o&&n==-12&&(o=12),$n(o,t,r)}}function Bn(e,t){return function(n,r){var i=n["get"+e](),o=kr(t?"SHORT"+e:e);return r[o][i]}}function qn(e,t,n){var r=-1*n,i=r>=0?"+":"";return i+=$n(Math[r>0?"floor":"ceil"](r/60),2)+$n(Math.abs(r%60),2)}function Vn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function Hn(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function Wn(e){return function(t){var n=Vn(t.getFullYear()),r=Hn(t),i=+r-+n,o=1+Math.round(i/6048e5);return $n(o,e)}}function Gn(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function Yn(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function Kn(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function Xn(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),i=0,o=0,a=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(i=f(t[9]+t[10]),o=f(t[9]+t[11])),a.call(r,f(t[1]),f(t[2])-1,f(t[3]));var c=f(t[4]||0)-i,l=f(t[5]||0)-o,u=f(t[6]||0),h=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,c,l,u,h),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,c="",l=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,x(n)&&(n=so.test(n)?f(n):t(n)),k(n)&&(n=new Date(n)),!S(n)||!isFinite(n.getTime()))return n;for(;r;)s=ao.exec(r),s?(l=B(l,s,1),r=l.pop()):(l.push(r),r=null);var u=n.getTimezoneOffset();return i&&(u=Y(i,n.getTimezoneOffset()),n=X(n,i,!0)),o(l,function(t){a=oo[t],c+=a?a(n,e.DATETIME_FORMATS,u):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}}function Qn(){return function(e,t){return b(t)&&(t=2),W(e,t)}}function Zn(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):f(t),isNaN(t)?e:(k(e)&&(e=e.toString()),Ur(e)||x(e)?(n=!n||isNaN(n)?0:f(n),n=n<0&&n>=-e.length?e.length+n:n,t>=0?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function Jn(e){return function(t,n,r){function o(e,t){for(var r=0;r<n.length;r++){var i=n[r](e,t);if(0!==i)return i}return 0}function a(e,t){return t?function(t,n){return e(n,t)}:e}function s(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function c(e){return null===e?"null":"function"==typeof e.valueOf&&(e=e.valueOf(),s(e))?e:"function"==typeof e.toString&&(e=e.toString(),s(e))?e:""}function l(e,t){var n=typeof e,r=typeof t;return n===r&&"object"===n&&(e=c(e),t=c(t)),n===r?("string"===n&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:e<t?-1:1):n<r?-1:1}return i(t)?(n=Ur(n)?n:[n],0===n.length&&(n=["+"]),n=n.map(function(t){var n=!1,r=t||g;if(x(t)){if("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(n="-"==t.charAt(0),t=t.substring(1)),""===t)return a(l,n);if(r=e(t),r.constant){var i=r();return a(function(e,t){return l(e[i],t[i])},n)}}return a(function(e,t){return l(r(e),r(t))},n)}),Cr.call(t).sort(a(o,r))):t}}function er(e){return j(e)&&(e={link:e}),e.restrict=e.restrict||"AC",v(e)}function tr(e,t){e.$name=t;
}function nr(e,t,r,i,a){var s=this,c=[],l=s.$$parentForm=e.parent().controller("form")||fo;s.$error={},s.$$success={},s.$pending=n,s.$name=a(t.name||t.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,l.$addControl(s),s.$rollbackViewValue=function(){o(c,function(e){e.$rollbackViewValue()})},s.$commitViewValue=function(){o(c,function(e){e.$commitViewValue()})},s.$addControl=function(e){de(e.$name,"input"),c.push(e),e.$name&&(s[e.$name]=e)},s.$$renameControl=function(e,t){var n=e.$name;s[n]===e&&delete s[n],s[t]=e,e.$name=t},s.$removeControl=function(e){e.$name&&s[e.$name]===e&&delete s[e.$name],o(s.$pending,function(t,n){s.$setValidity(n,null,e)}),o(s.$error,function(t,n){s.$setValidity(n,null,e)}),o(s.$$success,function(t,n){s.$setValidity(n,null,e)}),N(c,e)},vr({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];if(r){var i=r.indexOf(n);i===-1&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(N(r,n),0===r.length&&delete e[t])},parentForm:l,$animate:i}),s.$setDirty=function(){i.removeClass(e,Ko),i.addClass(e,Xo),s.$dirty=!0,s.$pristine=!1,l.$setDirty()},s.$setPristine=function(){i.setClass(e,Ko,Xo+" "+po),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,o(c,function(e){e.$setPristine()})},s.$setUntouched=function(){o(c,function(e){e.$setUntouched()})},s.$setSubmitted=function(){i.addClass(e,po),s.$submitted=!0,l.$setSubmitted()}}function rr(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function ir(e,t,n,r,i,o){or(e,t,n,r,i,o),rr(r)}function or(e,t,n,r,i,o){var a=_r(t[0].type);if(!i.android){var s=!1;t.on("compositionstart",function(e){s=!0}),t.on("compositionend",function(){s=!1,c()})}var c=function(e){if(l&&(o.defer.cancel(l),l=null),!s){var i=t.val(),c=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=zr(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,c)}};if(i.hasEvent("input"))t.on("input",c);else{var l,u=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||c(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||u(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",u)}t.on("change",c),r.$render=function(){t.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)}}function ar(e,t){if(S(e))return e;if(x(e)){So.lastIndex=0;var n=So.exec(e);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,c=0,l=Vn(r),u=7*(i-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),c=t.getMilliseconds()),new Date(r,0,l.getDate()+u,o,a,s,c)}}return NaN}function sr(e,t){return function(n,r){var i,a;if(S(n))return n;if(x(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),bo.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function cr(e,t,r,i){return function(o,a,s,c,l,u,h){function d(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function f(e){return y(e)?S(e)?e:r(e):n}lr(o,a,s,c),or(o,a,s,c,l,u);var p,m=c&&c.$options&&c.$options.timezone;if(c.$$parserName=e,c.$parsers.push(function(e){if(c.$isEmpty(e))return null;if(t.test(e)){var i=r(e,p);return m&&(i=X(i,m)),i}return n}),c.$formatters.push(function(e){if(e&&!S(e))throw ea("datefmt","Expected `{0}` to be a date",e);return d(e)?(p=e,p&&m&&(p=X(p,m,!0)),h("date")(e,i,m)):(p=null,"")}),y(s.min)||s.ngMin){var g;c.$validators.min=function(e){return!d(e)||b(g)||r(e)>=g},s.$observe("min",function(e){g=f(e),c.$validate()})}if(y(s.max)||s.ngMax){var v;c.$validators.max=function(e){return!d(e)||b(v)||r(e)<=v},s.$observe("max",function(e){v=f(e),c.$validate()})}}}function lr(e,t,r,i){var o=t[0],a=i.$$hasNativeValidators=w(o.validity);a&&i.$parsers.push(function(e){var r=t.prop(wr)||{};return r.badInput&&!r.typeMismatch?n:e})}function ur(e,t,r,i,o,a){if(lr(e,t,r,i),or(e,t,r,i,o,a),i.$$parserName="number",i.$parsers.push(function(e){return i.$isEmpty(e)?null:_o.test(e)?parseFloat(e):n}),i.$formatters.push(function(e){if(!i.$isEmpty(e)){if(!k(e))throw ea("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),y(r.min)||r.ngMin){var s;i.$validators.min=function(e){return i.$isEmpty(e)||b(s)||e>=s},r.$observe("min",function(e){y(e)&&!k(e)&&(e=parseFloat(e,10)),s=k(e)&&!isNaN(e)?e:n,i.$validate()})}if(y(r.max)||r.ngMax){var c;i.$validators.max=function(e){return i.$isEmpty(e)||b(c)||e<=c},r.$observe("max",function(e){y(e)&&!k(e)&&(e=parseFloat(e,10)),c=k(e)&&!isNaN(e)?e:n,i.$validate()})}}function hr(e,t,n,r,i,o){or(e,t,n,r,i,o),rr(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||yo.test(n)}}function dr(e,t,n,r,i,o){or(e,t,n,r,i,o),rr(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||wo.test(n)}}function fr(e,t,n,r){b(n.name)&&t.attr("name",c());var i=function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)};t.on("click",i),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function pr(e,t,n,i,o){var a;if(y(i)){if(a=e(i),!a.constant)throw r("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return a(t)}return o}function mr(e,t,n,r,i,o,a,s){var c=pr(s,e,"ngTrueValue",n.ngTrueValue,!0),l=pr(s,e,"ngFalseValue",n.ngFalseValue,!1),u=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",u),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e===!1},r.$formatters.push(function(e){return z(e,c)}),r.$parsers.push(function(e){return e?c:l})}function gr(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i==t[o])continue e;n.push(i)}return n}function i(e){var t=[];return Ur(e)?(o(e,function(e){t=t.concat(i(e))}),t):x(e)?e.split(" "):w(e)?(o(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(a,s,c){function l(e){var t=h(e,1);c.$addClass(t)}function u(e){var t=h(e,-1);c.$removeClass(t)}function h(e,t){var n=s.data("$classCounts")||me(),r=[];return o(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),s.data("$classCounts",n),r.join(" ")}function d(e,t){var i=r(t,e),o=r(e,t);i=h(i,1),o=h(o,-1),i&&i.length&&n.addClass(s,i),o&&o.length&&n.removeClass(s,o)}function f(e){if(t===!0||a.$index%2===t){var n=i(e||[]);if(p){if(!z(e,p)){var r=i(p);d(r,n)}}else l(n)}p=$(e)}var p;a.$watch(c[e],f,!0),c.$observe("class",function(t){f(a.$eval(c[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,r){var o=1&n;if(o!==(1&r)){var s=i(a.$eval(c[e]));o===t?l(s):u(s)}})}}}]}function vr(e){function t(e,t,c){t===n?r("$pending",e,c):i("$pending",e,c),O(t)?t?(h(s.$error,e,c),u(s.$$success,e,c)):(u(s.$error,e,c),h(s.$$success,e,c)):(h(s.$error,e,c),h(s.$$success,e,c)),s.$pending?(o(Jo,!0),s.$valid=s.$invalid=n,a("",null)):(o(Jo,!1),s.$valid=br(s.$error),s.$invalid=!s.$valid,a("",s.$valid));var l;l=s.$pending&&s.$pending[e]?n:!s.$error[e]&&(!!s.$$success[e]||null),a(e,l),d.$setValidity(e,l,s)}function r(e,t,n){s[e]||(s[e]={}),u(s[e],t,n)}function i(e,t,r){s[e]&&h(s[e],t,r),br(s[e])&&(s[e]=n)}function o(e,t){t&&!l[e]?(f.addClass(c,e),l[e]=!0):!t&&l[e]&&(f.removeClass(c,e),l[e]=!1)}function a(e,t){e=e?"-"+ce(e,"-"):"",o(Go+e,t===!0),o(Yo+e,t===!1)}var s=e.ctrl,c=e.$element,l={},u=e.set,h=e.unset,d=e.parentForm,f=e.$animate;l[Yo]=!(l[Go]=c.hasClass(Go)),s.$setValidity=t}function br(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var yr=/^\/(.+)\/([a-z]*)$/,wr="validity",_r=function(e){return x(e)?e.toLowerCase():e},xr=Object.prototype.hasOwnProperty,kr=function(e){return x(e)?e.toUpperCase():e},Sr=function(e){return x(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},jr=function(e){return x(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)&-33)}):e};"i"!=="I".toLowerCase()&&(_r=Sr,kr=jr);var Pr,Er,Ar,Tr,Cr=[].slice,Mr=[].splice,Or=[].push,Ir=Object.prototype.toString,Fr=Object.getPrototypeOf,Dr=r("ng"),Lr=e.angular||(e.angular={}),Rr=0;Pr=t.documentMode,m.$inject=[],g.$inject=[];var Nr,Ur=Array.isArray,$r=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,zr=function(e){return x(e)?e.trim():e},Br=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},qr=function(){if(y(qr.isActive_))return qr.isActive_;var e=!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(n){e=!0}return qr.isActive_=e},Vr=function(){if(y(Vr.name_))return Vr.name_;var e,n,r,i,o=Hr.length;for(n=0;n<o;++n)if(r=Hr[n],e=t.querySelector("["+r.replace(":","\\:")+"jq]")){i=e.getAttribute(r+"jq");break}return Vr.name_=i},Hr=["ng-","data-ng-","ng:","x-ng-"],Wr=/[A-Z]/g,Gr=!1,Yr=1,Kr=2,Xr=3,Qr=8,Zr=9,Jr=11,ei={full:"1.4.1",major:1,minor:4,dot:1,codeName:"hyperionic-illumination"};Ee.expando="ng339";var ti=Ee.cache={},ni=1,ri=function(e,t,n){e.addEventListener(t,n,!1)},ii=function(e,t,n){e.removeEventListener(t,n,!1)};Ee._data=function(e){return this.cache[e[this.expando]]||{}};var oi=/([\:\-\_]+(.))/g,ai=/^moz([A-Z])/,si={mouseleave:"mouseout",mouseenter:"mouseover"},ci=r("jqLite"),li=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ui=/<|&#?\w+;/,hi=/<([\w:]+)/,di=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,fi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};fi.optgroup=fi.option,fi.tbody=fi.tfoot=fi.colgroup=fi.caption=fi.thead,fi.th=fi.td;var pi=Ee.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===t.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),Ee(e).on("load",r))},toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Er(e>=0?this[e]:this[this.length+e])},length:0,push:Or,sort:[].sort,splice:[].splice},mi={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){mi[_r(e)]=e});var gi={};o("input,select,option,textarea,button,form,details".split(","),function(e){gi[e]=!0});var vi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:Ie,removeData:Me,hasData:Se},function(e,t){Ee[t]=e}),o({data:Ie,inheritedData:Ue,scope:function(e){return Er.data(e,"$scope")||Ue(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Er.data(e,"$isolateScope")||Er.data(e,"$isolateScopeNoTemplate")},controller:Ne,injector:function(e){return Ue(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Fe,css:function(e,t,n){return t=_e(t),y(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,r){var i=e.nodeType;if(i!==Xr&&i!==Kr&&i!==Qr){var o=_r(t);if(mi[o]){if(!y(r))return e[t]||(e.attributes.getNamedItem(t)||m).specified?o:n;r?(e[t]=!0,e.setAttribute(t,o)):(e[t]=!1,e.removeAttribute(o))}else if(y(r))e.setAttribute(t,r);else if(e.getAttribute){var a=e.getAttribute(t,2);return null===a?n:a}}},prop:function(e,t,n){return y(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(b(t)){var n=e.nodeType;return n===Yr||n===Xr?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(b(t)){if(e.multiple&&"select"===R(e)){var n=[];return o(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return b(t)?e.innerHTML:(Te(e,!0),void(e.innerHTML=t))},empty:$e},function(e,t){Ee.prototype[t]=function(t,r){var i,o,a=this.length;if(e!==$e&&(2==e.length&&e!==Fe&&e!==Ne?t:r)===n){if(w(t)){for(i=0;i<a;i++)if(e===Ie)e(this[i],t);else for(o in t)e(this[i],o,t[o]);return this}for(var s=e.$dv,c=s===n?Math.min(a,1):a,l=0;l<c;l++){var u=e(this[l],t,r);s=s?s+u:u}return s}for(i=0;i<a;i++)e(this[i],t,r);return this}}),o({removeData:Me,on:function Ca(e,t,n,r){if(y(r))throw ci("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ke(e)){var i=Oe(e,!0),o=i.events,a=i.handle;a||(a=i.handle=He(e,o));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],c=s.length;c--;){t=s[c];var l=o[t];l||(o[t]=[],"mouseenter"===t||"mouseleave"===t?Ca(e,si[t],function(e){var n=this,r=e.relatedTarget;r&&(r===n||n.contains(r))||a(e,t)}):"$destroy"!==t&&ri(e,t,a),l=o[t]),l.push(n)}}},off:Ce,one:function(e,t,n){e=Er(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;Te(e),o(new Ee(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){e.nodeType===Yr&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===Yr||n===Jr){t=new Ee(t);for(var r=0,i=t.length;r<i;r++){var o=t[r];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===Yr){var n=e.firstChild;o(new Ee(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=Er(t).eq(0).clone()[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:ze,detach:function(e){ze(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new Ee(t);for(var i=0,o=t.length;i<o;i++){var a=t[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:Le,removeClass:De,toggleClass:function(e,t,n){t&&o(t.split(" "),function(t){var r=n;b(r)&&(r=!Fe(e,t)),(r?Le:De)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==Jr?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Ae,triggerHandler:function(e,t,n){var r,i,a,s=t.type||t,c=Oe(e),l=c&&c.events,u=l&&l[s];u&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:m,type:s,target:e},t.type&&(r=h(r,t)),i=$(u),a=n?[r].concat(n):[r],o(i,function(t){r.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){Ee.prototype[t]=function(t,n,r){for(var i,o=0,a=this.length;o<a;o++)b(i)?(i=e(this[o],t,n,r),y(i)&&(i=Er(i))):Re(i,e(this[o],t,n,r));return y(i)?i:this},Ee.prototype.bind=Ee.prototype.on,Ee.prototype.unbind=Ee.prototype.off}),Ye.prototype={put:function(e,t){this[Ge(e,this.nextUid)]=t},get:function(e){return this[Ge(e,this.nextUid)]},remove:function(e){var t=this[e=Ge(e,this.nextUid)];return delete this[e],t}};var bi=[function(){this.$get=[function(){return Ye}]}],yi=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,wi=/,/,_i=/^\s*(_?)(\S+?)\1\s*$/,xi=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ki=r("$injector");Qe.$$annotate=Xe;var Si=r("$animate"),ji=1,Pi="ng-animate",Ei=function(){this.$get=["$q","$$rAF",function(e,t){function n(){}return n.all=m,n.chain=m,n.prototype={end:m,cancel:m,resume:m,pause:m,complete:m,then:function(n,r){return e(function(e){t(function(){e()})}).then(n,r)}},n}]},Ai=function(){var e=new Ye,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function i(n,i,a){var s=e.get(n);s||(e.put(n,s={}),t.push(n)),i&&o(i.split(" "),function(e){e&&(s[e]=!0)}),a&&o(a.split(" "),function(e){e&&(s[e]=!1)}),t.length>1||r.$$postDigest(function(){o(t,function(t){var n=e.get(t);if(n){var r=tt(t.attr("class")),i="",a="";o(n,function(e,t){var n=!!r[t];e!==n&&(e?i+=(i.length?" ":"")+t:a+=(a.length?" ":"")+t)}),o(t,function(e){i&&Le(e,i),a&&De(e,a)}),e.remove(t)}}),t.length=0})}return{enabled:m,on:m,off:m,pin:m,push:function(e,t,r,o){return o&&o(),r=r||{},r.from&&e.css(r.from),r.to&&e.css(r.to),(r.addClass||r.removeClass)&&i(e,r.addClass,r.removeClass),new n}}}]},Ti=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Si("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+Pi+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw Si("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Pi)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=et(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,o){return r=r&&Er(r),i=i&&Er(i),r=r||i.parent(),t(n,r,i),e.push(n,"enter",nt(o))},move:function(n,r,i,o){return r=r&&Er(r),i=i&&Er(i),r=r||i.parent(),t(n,r,i),e.push(n,"move",nt(o))},leave:function(t,n){return e.push(t,"leave",nt(n),function(){t.remove()})},addClass:function(t,n,r){return r=nt(r),r.addClass=Je(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=nt(r),r.removeClass=Je(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return i=nt(i),i.addClass=Je(i.addClass,n),i.removeClass=Je(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return o=nt(o),o.from=o.from?h(o.from,n):n,o.to=o.to?h(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=Je(o.tempClasses,i),e.push(t,"animate",o)}}}]}],Ci=r("$compile");ct.$inject=["$provide","$$sanitizeUriProvider"];var Mi=/^((?:x|data)[\:\-_])/i,Oi=r("$controller"),Ii=/^(\S+)(\s+as\s+(\w+))?$/,Fi="application/json",Di={"Content-Type":Fi+";charset=utf-8"},Li=/^\[|^\{(?!\{)/,Ri={"[":/]$/,"{":/}$/},Ni=/^\)\]\}',?\n/,Ui=Lr.$interpolateMinErr=r("$interpolate");Ui.throwNoconcat=function(e){throw Ui("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Ui.interr=function(e,t){return Ui("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var $i=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,zi={http:80,https:443,ftp:21},Bi=r("$location"),qi={$$html5:!1,$$replace:!1,absUrl:qt("$$absUrl"),url:function(e){if(b(e))return this.$$url;var t=$i.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:qt("$$protocol"),host:qt("$$host"),port:qt("$$port"),path:Vt("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(x(e)||k(e))e=e.toString(),this.$$search=J(e);else{if(!w(e))throw Bi("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=U(e,{}),o(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:b(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Vt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};o([Bt,zt,$t],function(e){e.prototype=Object.create(qi),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==$t||!this.$$html5)throw Bi("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=b(t)?null:t,this}});var Vi=r("$parse"),Hi=Function.prototype.call,Wi=Function.prototype.apply,Gi=Function.prototype.bind,Yi=me();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Yi[e]=!0});var Ki={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},Xi=function(e){this.options=e};Xi.prototype={constructor:Xi,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=Yi[t],o=Yi[n],a=Yi[r];if(i||o||a){var s=a?r:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return t.indexOf(e)!==-1},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\x0B"===e||" "===e},isIdent:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=y(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Vi("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=_r(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=Ki[o];n+=s||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var Qi=function(e,t){this.lexer=e,this.options=t};Qi.Program="Program",Qi.ExpressionStatement="ExpressionStatement",Qi.AssignmentExpression="AssignmentExpression",Qi.ConditionalExpression="ConditionalExpression",Qi.LogicalExpression="LogicalExpression",Qi.BinaryExpression="BinaryExpression",Qi.UnaryExpression="UnaryExpression",Qi.CallExpression="CallExpression",Qi.MemberExpression="MemberExpression",Qi.Identifier="Identifier",Qi.Literal="Literal",Qi.ArrayExpression="ArrayExpression",Qi.Property="Property",Qi.ObjectExpression="ObjectExpression",Qi.ThisExpression="ThisExpression",Qi.NGValueParameter="NGValueParameter",Qi.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:Qi.Program,body:e}},expressionStatement:function(){return{type:Qi.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:Qi.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:Qi.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:Qi.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:Qi.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:Qi.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:Qi.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:Qi.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:Qi.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:Qi.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.constants.hasOwnProperty(this.peek().text)?e=U(this.constants[this.consume().text]):this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:Qi.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:Qi.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:Qi.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:Qi.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.expression());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:Qi.Identifier,name:e.text}},constant:function(){return{type:Qi.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Qi.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:Qi.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Qi.ObjectExpression,properties:t}},throwError:function(e,t){throw Vi("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Vi("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Vi("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===r||a===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return!!i&&(this.tokens.shift(),i)},constants:{"true":{type:Qi.Literal,value:!0},"false":{type:Qi.Literal,value:!1},"null":{type:Qi.Literal,value:null},undefined:{type:Qi.Literal,value:n},"this":{type:Qi.ThisExpression}}},an.prototype={compile:function(e,t){var r=this,i=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Jt(i,r.$filter);var a,s="";if(this.stage="assign",a=nn(i)){this.state.computing="assign";var c=this.nextId();this.recurse(a,c),s="fn.assign="+this.generateFunction("assign","s,v,l")}var l=en(i.body);r.stage="inputs",o(l,function(e,t){var n="fn"+t;r.state[n]={vars:[],body:[],own:{}},r.state.computing=n;var i=r.nextId();r.recurse(e,i),r.return_(i),r.state.inputs.push(n),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(i);var u='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",h=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","ifDefined","plus","text",u)(this.$filter,Gt,Yt,Kt,Xt,Qt,e);return this.state=this.stage=n,h.literal=rn(i),h.constant=on(i),h},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return o(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return o(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,r,i,a,s){var c,l,u,h,d=this;if(i=i||m,!s&&y(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,r,i,a,!0));switch(e.type){case Qi.Program:o(e.body,function(t,r){d.recurse(t.expression,n,n,function(e){l=e}),r!==e.body.length-1?d.current().body.push(l,";"):d.return_(l)});break;case Qi.Literal:h=this.escape(e.value),this.assign(t,h),i(h);break;case Qi.UnaryExpression:this.recurse(e.argument,n,n,function(e){l=e}),h=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,h),i(h);break;case Qi.BinaryExpression:this.recurse(e.left,n,n,function(e){c=e}),this.recurse(e.right,n,n,function(e){l=e}),h="+"===e.operator?this.plus(c,l):"-"===e.operator?this.ifDefined(c,0)+e.operator+this.ifDefined(l,0):"("+c+")"+e.operator+"("+l+")",this.assign(t,h),i(h);break;case Qi.LogicalExpression:t=t||this.nextId(),d.recurse(e.left,t),d.if_("&&"===e.operator?t:d.not(t),d.lazyRecurse(e.right,t)),i(t);break;case Qi.ConditionalExpression:t=t||this.nextId(),d.recurse(e.test,t),d.if_(t,d.lazyRecurse(e.alternate,t),d.lazyRecurse(e.consequent,t)),i(t);break;case Qi.Identifier:t=t||this.nextId(),r&&(r.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),r.computed=!1,r.name=e.name),Gt(e.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",e.name)),function(){d.if_("inputs"===d.stage||"s",function(){a&&1!==a&&d.if_(d.not(d.nonComputedMember("s",e.name)),d.lazyAssign(d.nonComputedMember("s",e.name),"{}")),d.assign(t,d.nonComputedMember("s",e.name))})},t&&d.lazyAssign(t,d.nonComputedMember("l",e.name))),(d.state.expensiveChecks||ln(e.name))&&d.addEnsureSafeObject(t),i(t);break;case Qi.MemberExpression:c=r&&(r.context=this.nextId())||this.nextId(),t=t||this.nextId(),d.recurse(e.object,c,n,function(){d.if_(d.notNull(c),function(){e.computed?(l=d.nextId(),d.recurse(e.property,l),d.addEnsureSafeMemberName(l),a&&1!==a&&d.if_(d.not(d.computedMember(c,l)),d.lazyAssign(d.computedMember(c,l),"{}")),h=d.ensureSafeObject(d.computedMember(c,l)),d.assign(t,h),r&&(r.computed=!0,r.name=l)):(Gt(e.property.name),
a&&1!==a&&d.if_(d.not(d.nonComputedMember(c,e.property.name)),d.lazyAssign(d.nonComputedMember(c,e.property.name),"{}")),h=d.nonComputedMember(c,e.property.name),(d.state.expensiveChecks||ln(e.property.name))&&(h=d.ensureSafeObject(h)),d.assign(t,h),r&&(r.computed=!1,r.name=e.property.name))},function(){d.assign(t,"undefined")}),i(t)},!!a);break;case Qi.CallExpression:t=t||this.nextId(),e.filter?(l=d.filter(e.callee.name),u=[],o(e.arguments,function(e){var t=d.nextId();d.recurse(e,t),u.push(t)}),h=l+"("+u.join(",")+")",d.assign(t,h),i(t)):(l=d.nextId(),c={},u=[],d.recurse(e.callee,l,c,function(){d.if_(d.notNull(l),function(){d.addEnsureSafeFunction(l),o(e.arguments,function(e){d.recurse(e,d.nextId(),n,function(e){u.push(d.ensureSafeObject(e))})}),c.name?(d.state.expensiveChecks||d.addEnsureSafeObject(c.context),h=d.member(c.context,c.name,c.computed)+"("+u.join(",")+")"):h=l+"("+u.join(",")+")",h=d.ensureSafeObject(h),d.assign(t,h)},function(){d.assign(t,"undefined")}),i(t)}));break;case Qi.AssignmentExpression:if(l=this.nextId(),c={},!tn(e.left))throw Vi("lval","Trying to assing a value to a non l-value");this.recurse(e.left,n,c,function(){d.if_(d.notNull(c.context),function(){d.recurse(e.right,l),d.addEnsureSafeObject(d.member(c.context,c.name,c.computed)),h=d.member(c.context,c.name,c.computed)+e.operator+l,d.assign(t,h),i(t||h)})},1);break;case Qi.ArrayExpression:u=[],o(e.elements,function(e){d.recurse(e,d.nextId(),n,function(e){u.push(e)})}),h="["+u.join(",")+"]",this.assign(t,h),i(h);break;case Qi.ObjectExpression:u=[],o(e.properties,function(e){d.recurse(e.value,d.nextId(),n,function(t){u.push(d.escape(e.key.type===Qi.Identifier?e.key.name:""+e.key.value)+":"+t)})}),h="{"+u.join(",")+"}",this.assign(t,h),i(h);break;case Qi.ThisExpression:this.assign(t,"s"),i("s");break;case Qi.NGValueParameter:this.assign(t,"v"),i("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return e+"."+t},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},lazyRecurse:function(e,t,n,r,i,o){var a=this;return function(){a.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(x(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(k(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw Vi("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},sn.prototype={compile:function(e,t){var n=this,r=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,Jt(r,n.$filter);var i,a;(i=nn(r))&&(a=this.recurse(i));var s,c=en(r.body);c&&(s=[],o(c,function(e,t){var r=n.recurse(e);e.input=r,s.push(r),e.watchId=t}));var l=[];o(r.body,function(e){l.push(n.recurse(e.expression))});var u=0===r.body.length?function(){}:1===r.body.length?l[0]:function(e,t){var n;return o(l,function(r){n=r(e,t)}),n};return a&&(u.assign=function(e,t,n){return a(e,n,t)}),s&&(u.inputs=s),u.literal=rn(r),u.constant=on(r),u},recurse:function(e,t,r){var i,a,s,c=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case Qi.Literal:return this.value(e.value,t);case Qi.UnaryExpression:return a=this.recurse(e.argument),this["unary"+e.operator](a,t);case Qi.BinaryExpression:return i=this.recurse(e.left),a=this.recurse(e.right),this["binary"+e.operator](i,a,t);case Qi.LogicalExpression:return i=this.recurse(e.left),a=this.recurse(e.right),this["binary"+e.operator](i,a,t);case Qi.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case Qi.Identifier:return Gt(e.name,c.expression),c.identifier(e.name,c.expensiveChecks||ln(e.name),t,r,c.expression);case Qi.MemberExpression:return i=this.recurse(e.object,!1,!!r),e.computed||(Gt(e.property.name,c.expression),a=e.property.name),e.computed&&(a=this.recurse(e.property)),e.computed?this.computedMember(i,a,t,r,c.expression):this.nonComputedMember(i,a,c.expensiveChecks,t,r,c.expression);case Qi.CallExpression:return s=[],o(e.arguments,function(e){s.push(c.recurse(e))}),e.filter&&(a=this.$filter(e.callee.name)),e.filter||(a=this.recurse(e.callee,!0)),e.filter?function(e,r,i,o){for(var c=[],l=0;l<s.length;++l)c.push(s[l](e,r,i,o));var u=a.apply(n,c,o);return t?{context:n,name:n,value:u}:u}:function(e,n,r,i){var o,l=a(e,n,r,i);if(null!=l.value){Yt(l.context,c.expression),Kt(l.value,c.expression);for(var u=[],h=0;h<s.length;++h)u.push(Yt(s[h](e,n,r,i),c.expression));o=Yt(l.value.apply(l.context,u),c.expression)}return t?{value:o}:o};case Qi.AssignmentExpression:return i=this.recurse(e.left,!0,1),a=this.recurse(e.right),function(e,n,r,o){var s=i(e,n,r,o),l=a(e,n,r,o);return Yt(s.value,c.expression),s.context[s.name]=l,t?{value:l}:l};case Qi.ArrayExpression:return s=[],o(e.elements,function(e){s.push(c.recurse(e))}),function(e,n,r,i){for(var o=[],a=0;a<s.length;++a)o.push(s[a](e,n,r,i));return t?{value:o}:o};case Qi.ObjectExpression:return s=[],o(e.properties,function(e){s.push({key:e.key.type===Qi.Identifier?e.key.name:""+e.key.value,value:c.recurse(e.value)})}),function(e,n,r,i){for(var o={},a=0;a<s.length;++a)o[s[a].key]=s[a].value(e,n,r,i);return t?{value:o}:o};case Qi.ThisExpression:return function(e){return t?{value:e}:e};case Qi.NGValueParameter:return function(e,n,r,i){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=y(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=y(a)?-a:0,t?{value:a}:a}},"unary!":function(e,t){return function(n,r,i,o){var a=!e(n,r,i,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),c=t(r,i,o,a),l=Qt(s,c);return n?{value:l}:l}},"binary-":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),c=t(r,i,o,a),l=(y(s)?s:0)-(y(c)?c:0);return n?{value:l}:l}},"binary*":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)*t(r,i,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)/t(r,i,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)%t(r,i,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)===t(r,i,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!==t(r,i,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)==t(r,i,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!=t(r,i,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<t(r,i,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>t(r,i,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<=t(r,i,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>=t(r,i,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)&&t(r,i,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)||t(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(i,o,a,s){var c=e(i,o,a,s)?t(i,o,a,s):n(i,o,a,s);return r?{value:c}:c}},value:function(e,t){return function(){return t?{context:n,name:n,value:e}:e}},identifier:function(e,t,r,i,o){return function(a,s,c,l){var u=s&&e in s?s:a;i&&1!==i&&u&&!u[e]&&(u[e]={});var h=u?u[e]:n;return t&&Yt(h,o),r?{context:u,name:e,value:h}:h}},computedMember:function(e,t,n,r,i){return function(o,a,s,c){var l,u,h=e(o,a,s,c);return null!=h&&(l=t(o,a,s,c),Gt(l,i),r&&1!==r&&h&&!h[l]&&(h[l]={}),u=h[l],Yt(u,i)),n?{context:h,name:l,value:u}:u}},nonComputedMember:function(e,t,r,i,o,a){return function(s,c,l,u){var h=e(s,c,l,u);o&&1!==o&&h&&!h[t]&&(h[t]={});var d=null!=h?h[t]:n;return(r||ln(t))&&Yt(d,a),i?{context:h,name:t,value:d}:d}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}};var Zi=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new Qi(this.lexer),this.astCompiler=n.csp?new sn(this.ast,t):new an(this.ast,t)};Zi.prototype={constructor:Zi,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var Ji=(me(),me(),Object.prototype.valueOf),eo=r("$sce"),to={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Ci=r("$compile"),no=t.createElement("a"),ro=Pn(e.location.href);Tn.$inject=["$document"],Mn.$inject=["$provide"],Rn.$inject=["$locale"],Nn.$inject=["$locale"];var io=".",oo={yyyy:zn("FullYear",4),yy:zn("FullYear",2,0,!0),y:zn("FullYear",1),MMMM:Bn("Month"),MMM:Bn("Month",!0),MM:zn("Month",2,1),M:zn("Month",1,1),dd:zn("Date",2),d:zn("Date",1),HH:zn("Hours",2),H:zn("Hours",1),hh:zn("Hours",2,-12),h:zn("Hours",1,-12),mm:zn("Minutes",2),m:zn("Minutes",1),ss:zn("Seconds",2),s:zn("Seconds",1),sss:zn("Milliseconds",3),EEEE:Bn("Day"),EEE:Bn("Day",!0),a:Gn,Z:qn,ww:Wn(2),w:Wn(1),G:Yn,GG:Yn,GGG:Yn,GGGG:Kn},ao=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,so=/^\-?\d+$/;Xn.$inject=["$locale"];var co=v(_r),lo=v(kr);Jn.$inject=["$parse"];var uo=v({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Ir.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),ho={};o(mi,function(e,t){function n(e,n,i){e.$watch(i[r],function(e){i.$set(t,!!e)})}if("multiple"!=e){var r=lt("ng-"+t),i=n;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[r]&&n(e,t,i)}),ho[r]=function(){return{restrict:"A",priority:100,link:i}}}}),o(vi,function(e,t){ho[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(yr);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),o(["src","srcset","href"],function(e){var t=lt("ng-"+e);ho[t]=function(){return{priority:99,link:function(n,r,i){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===Ir.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(t,function(t){return t?(i.$set(a,t),void(Pr&&o&&r.prop(o,i[a]))):void("href"===e&&i.$set(a,null))})}}}});var fo={$addControl:m,$$renameControl:tr,$removeControl:m,$setValidity:m,$setDirty:m,$setPristine:m,$setSubmitted:m},po="ng-submitted";nr.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var mo=function(e){return["$timeout",function(t){var r={name:"form",restrict:e?"EAC":"E",controller:nr,compile:function(r,i){r.addClass(Ko).addClass(Go);var o=i.name?"name":!(!e||!i.ngForm)&&"ngForm";return{pre:function(e,r,i,a){if(!("action"in i)){var s=function(t){e.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),t.preventDefault()};ri(r[0],"submit",s),r.on("$destroy",function(){t(function(){ii(r[0],"submit",s)},0,!1)})}var c=a.$$parentForm;o&&(cn(e,a.$name,a,a.$name),i.$observe(o,function(t){a.$name!==t&&(cn(e,a.$name,n,a.$name),c.$$renameControl(a,t),cn(e,a.$name,a,a.$name))})),r.on("$destroy",function(){c.$removeControl(a),o&&cn(e,i[o],n,a.$name),h(a,fo)})}}}};return r}]},go=mo(),vo=mo(!0),bo=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,yo=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,wo=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,_o=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,xo=/^(\d{4})-(\d{2})-(\d{2})$/,ko=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,So=/^(\d{4})-W(\d\d)$/,jo=/^(\d{4})-(\d\d)$/,Po=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Eo={text:ir,date:cr("date",xo,sr(xo,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":cr("datetimelocal",ko,sr(ko,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:cr("time",Po,sr(Po,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:cr("week",So,ar,"yyyy-Www"),month:cr("month",jo,sr(jo,["yyyy","MM"]),"yyyy-MM"),number:ur,url:hr,email:dr,radio:fr,checkbox:mr,hidden:m,button:m,submit:m,reset:m,file:m},Ao=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(Eo[_r(a.type)]||Eo.text)(i,o,a,s[0],t,e,n,r)}}}}],To=/^(true|false|\d+)$/,Co=function(){return{restrict:"A",priority:100,compile:function(e,t){return To.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Mo=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,r,i){e.$$addBindingInfo(r,i.ngBind),r=r[0],t.$watch(i.ngBind,function(e){r.textContent=e===n?"":e})}}}}],Oo=["$interpolate","$compile",function(e,t){return{compile:function(r){return t.$$addBindingClass(r),function(r,i,o){var a=e(i.attr(o.$attr.ngBindTemplate));t.$$addBindingInfo(i,a.expressions),i=i[0],o.$observe("ngBindTemplate",function(e){i.textContent=e===n?"":e})}}}}],Io=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),a=t(i.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(a,function(){r.html(e.getTrustedHtml(o(t))||"")})}}}}],Fo=v({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Do=gr("",!0),Lo=gr("Odd",0),Ro=gr("Even",1),No=er({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),Uo=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],$o={},zo={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=lt("ng-"+e);$o[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){a(t,{$event:n})};zo[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var Bo=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,c,l;n.$watch(i.ngIf,function(n){n?c||a(function(n,o){c=o,n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},e.enter(n,r.parent(),r)}):(l&&(l.remove(),l=null),c&&(c.$destroy(),c=null),s&&(l=pe(s.clone),e.leave(l).then(function(){l=null}),s=null))})}}}],qo=["$templateRequest","$anchorScroll","$animate","$sce",function(e,t,n,r){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Lr.noop,compile:function(i,o){var a=o.ngInclude||o.src,s=o.onload||"",c=o.autoscroll;return function(i,o,l,u,h){var d,f,p,m=0,g=function(){f&&(f.remove(),f=null),d&&(d.$destroy(),d=null),p&&(n.leave(p).then(function(){f=null}),f=p,p=null)};i.$watch(r.parseAsResourceUrl(a),function(r){var a=function(){!y(c)||c&&!i.$eval(c)||t()},l=++m;r?(e(r,!0).then(function(e){if(l===m){var t=i.$new();u.template=e;var c=h(t,function(e){g(),n.enter(e,null,o).then(a)});d=t,p=c,d.$emit("$includeContentLoaded",r),i.$eval(s)}},function(){l===m&&(g(),i.$emit("$includeContentError",r))}),i.$emit("$includeContentRequested",r)):(g(),u.template=null)})}}}}],Vo=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return/SVG/.test(r[0].toString())?(r.empty(),void e(je(o.template,t).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(o.template),void e(r.contents())(n))}}}],Ho=er({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Wo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,r,i){var a=t.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,c=s?zr(a):a,l=function(e){if(!b(e)){var t=[];return e&&o(e.split(c),function(e){e&&t.push(s?zr(e):e)}),t}};i.$parsers.push(l),i.$formatters.push(function(e){return Ur(e)?e.join(a):n}),i.$isEmpty=function(e){return!e||!e.length}}}},Go="ng-valid",Yo="ng-invalid",Ko="ng-pristine",Xo="ng-dirty",Qo="ng-untouched",Zo="ng-touched",Jo="ng-pending",ea=new r("ngModel"),ta=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,r,i,a,s,c,l,u,h){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=h(r.name||"",!1)(e);var d,f=a(r.ngModel),p=f.assign,g=f,v=p,w=null,_=this;this.$$setOptions=function(e){if(_.$options=e,e&&e.getterSetter){var t=a(r.ngModel+"()"),n=a(r.ngModel+"($$$p)");g=function(e){var n=f(e);return j(n)&&(n=t(e)),n},v=function(e,t){j(f(e))?n(e,{$$$p:_.$modelValue}):p(e,_.$modelValue)}}else if(!f.assign)throw ea("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,Q(i))},this.$render=m,this.$isEmpty=function(e){return b(e)||""===e||null===e||e!==e};var x=i.inheritedData("$formController")||fo,S=0;vr({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},parentForm:x,$animate:s}),this.$setPristine=function(){_.$dirty=!1,_.$pristine=!0,s.removeClass(i,Xo),s.addClass(i,Ko)},this.$setDirty=function(){_.$dirty=!0,_.$pristine=!1,s.removeClass(i,Ko),s.addClass(i,Xo),x.$setDirty()},this.$setUntouched=function(){_.$touched=!1,_.$untouched=!0,s.setClass(i,Qo,Zo)},this.$setTouched=function(){_.$touched=!0,_.$untouched=!1,s.setClass(i,Zo,Qo)},this.$rollbackViewValue=function(){c.cancel(w),_.$viewValue=_.$$lastCommittedViewValue,_.$render()},this.$validate=function(){if(!k(_.$modelValue)||!isNaN(_.$modelValue)){var e=_.$$lastCommittedViewValue,t=_.$$rawModelValue,r=_.$valid,i=_.$modelValue,o=_.$options&&_.$options.allowInvalid;_.$$runValidators(t,e,function(e){o||r===e||(_.$modelValue=e?t:n,_.$modelValue!==i&&_.$$writeModelToScope())})}},this.$$runValidators=function(e,t,r){function i(){var e=_.$$parserName||"parse";return d!==n?(d||(o(_.$validators,function(e,t){c(t,null)}),o(_.$asyncValidators,function(e,t){c(t,null)})),c(e,d),d):(c(e,null),!0)}function a(){var n=!0;return o(_.$validators,function(r,i){var o=r(e,t);n=n&&o,c(i,o)}),!!n||(o(_.$asyncValidators,function(e,t){c(t,null)}),!1)}function s(){var r=[],i=!0;o(_.$asyncValidators,function(o,a){var s=o(e,t);if(!I(s))throw ea("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);c(a,n),r.push(s.then(function(){c(a,!0)},function(e){i=!1,c(a,!1)}))}),r.length?u.all(r).then(function(){l(i)},m):l(!0)}function c(e,t){h===S&&_.$setValidity(e,t)}function l(e){h===S&&r(e)}S++;var h=S;return i()&&a()?void s():void l(!1)},this.$commitViewValue=function(){var e=_.$viewValue;c.cancel(w),(_.$$lastCommittedViewValue!==e||""===e&&_.$$hasNativeValidators)&&(_.$$lastCommittedViewValue=e,_.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){_.$modelValue!==a&&_.$$writeModelToScope()}var r=_.$$lastCommittedViewValue,i=r;if(d=!b(i)||n)for(var o=0;o<_.$parsers.length;o++)if(i=_.$parsers[o](i),b(i)){d=!1;break}k(_.$modelValue)&&isNaN(_.$modelValue)&&(_.$modelValue=g(e));var a=_.$modelValue,s=_.$options&&_.$options.allowInvalid;_.$$rawModelValue=i,s&&(_.$modelValue=i,t()),_.$$runValidators(i,_.$$lastCommittedViewValue,function(e){s||(_.$modelValue=e?i:n,t())})},this.$$writeModelToScope=function(){v(e,_.$modelValue),o(_.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){_.$viewValue=e,_.$options&&!_.$options.updateOnDefault||_.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,r=0,i=_.$options;i&&y(i.debounce)&&(n=i.debounce,k(n)?r=n:k(n[t])?r=n[t]:k(n["default"])&&(r=n["default"])),c.cancel(w),r?w=c(function(){_.$commitViewValue()},r):l.$$phase?_.$commitViewValue():e.$apply(function(){_.$commitViewValue()})},e.$watch(function(){var t=g(e);if(t!==_.$modelValue&&(_.$modelValue===_.$modelValue||t===t)){_.$modelValue=_.$$rawModelValue=t,d=n;for(var r=_.$formatters,i=r.length,o=t;i--;)o=r[i](o);_.$viewValue!==o&&(_.$viewValue=_.$$lastCommittedViewValue=o,_.$render(),_.$$runValidators(t,o,m))}return t})}],na=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ta,priority:1,compile:function(t){return t.addClass(Ko).addClass(Qo).addClass(Go),{pre:function(e,t,n,r){var i=r[0],o=r[1]||fo;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(e){i.$name!==e&&o.$$renameControl(i,e)}),e.$on("$destroy",function(){o.$removeControl(i)})},post:function(t,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(n){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],ra=/(\s+|^)default(\s+|$)/,ia=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var r=this;this.$options=U(e.$eval(t.ngModelOptions)),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=zr(this.$options.updateOn.replace(ra,function(){return r.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},oa=er({terminal:!0,priority:1e3}),aa=r("ngOptions"),sa=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ca=["$compile","$parse",function(e,n){function r(e,t,r){function o(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}var a=e.match(sa);if(!a)throw aa("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,Q(t));var s=a[5]||a[7],c=a[6],l=/ as /.test(a[0])&&a[1],u=a[9],h=n(a[2]?a[1]:s),d=l&&n(l),f=d||h,p=u&&n(u),m=u?function(e,t){return p(r,t)}:function(e){return Ge(e)},g=function(e,t){return m(e,x(e,t))},v=n(a[2]||a[1]),b=n(a[3]||""),y=n(a[4]||""),w=n(a[8]),_={},x=c?function(e,t){return _[c]=t,_[s]=e,_}:function(e){return _[s]=e,_};return{trackBy:u,getTrackByValue:g,getWatchables:n(w,function(e){var t=[];return e=e||[],Object.keys(e).forEach(function(n){if("$"!==n.charAt(0)){var i=x(e[n],n),o=m(e[n],i);if(t.push(o),a[2]||a[1]){var s=v(r,i);t.push(s)}if(a[4]){var c=y(r,i);t.push(c)}}}),t}),getOptions:function(){var e,t=[],n={},a=w(r)||[];if(!c&&i(a))e=a;else{e=[];for(var s in a)a.hasOwnProperty(s)&&"$"!==s.charAt(0)&&e.push(s)}for(var l=e.length,h=0;h<l;h++){var d=a===e?h:e[h],p=a[d],_=x(p,d),k=f(r,_),S=m(k,_),j=v(r,_),P=b(r,_),E=y(r,_),A=new o(S,k,j,P,E);t.push(A),n[S]=A}return{items:t,selectValueMap:n,getOptionFromViewValue:function(e){return n[g(e)]},getViewValueFromOption:function(e){return u?Lr.copy(e.viewValue):e.viewValue}}}}}var a=t.createElement("option"),s=t.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(t,n,i,c){function l(e,t){e.element=t,t.disabled=e.disabled,e.value!==t.value&&(t.value=e.selectValue),e.label!==t.label&&(t.label=e.label,t.textContent=e.label)}function u(e,t,n,r){var i;return t&&_r(t.nodeName)===n?i=t:(i=r.cloneNode(!1),t?e.insertBefore(i,t):e.appendChild(i)),i}function h(e){for(var t;e;)t=e.nextSibling,ze(e),e=t}function d(e){var t=m&&m[0],n=x&&x[0];if(t||n)for(;e&&(e===t||e===n);)e=e.nextSibling;return e}function f(){var e=k&&g.readValue();k=S.getOptions();var t={},r=n[0].firstChild;if(_&&n.prepend(m),r=d(r),k.items.forEach(function(e){var i,o,c;e.group?(i=t[e.group],i||(o=u(n[0],r,"optgroup",s),r=o.nextSibling,o.label=e.group,i=t[e.group]={groupElement:o,currentOptionElement:o.firstChild}),c=u(i.groupElement,i.currentOptionElement,"option",a),l(e,c),i.currentOptionElement=c.nextSibling):(c=u(n[0],r,"option",a),l(e,c),r=c.nextSibling)}),Object.keys(t).forEach(function(e){h(t[e].currentOptionElement)}),h(r),p.$render(),!p.$isEmpty(e)){var i=g.readValue();(S.trackBy?z(e,i):e===i)||(p.$setViewValue(i),p.$render())}}var p=c[1];if(p){for(var m,g=c[0],v=i.multiple,b=0,y=n.children(),w=y.length;b<w;b++)if(""===y[b].value){m=y.eq(b);break}var _=!!m,x=Er(a.cloneNode(!1));x.val("?");var k,S=r(i.ngOptions,n,t),j=function(){_||n.prepend(m),n.val(""),m.prop("selected",!0),m.attr("selected",!0)},P=function(){_||m.remove()},E=function(){n.prepend(x),n.val("?"),x.prop("selected",!0),x.attr("selected",!0)},A=function(){x.remove()};v?(p.$isEmpty=function(e){return!e||0===e.length},g.writeValue=function(e){k.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=k.getOptionFromViewValue(e);t&&!t.disabled&&(t.element.selected=!0)})},g.readValue=function(){var e=n.val()||[],t=[];return o(e,function(e){var n=k.selectValueMap[e];n.disabled||t.push(k.getViewValueFromOption(n))}),t},S.trackBy&&t.$watchCollection(function(){if(Ur(p.$viewValue))return p.$viewValue.map(function(e){return S.getTrackByValue(e)})},function(){p.$render()})):(g.writeValue=function(e){var t=k.getOptionFromViewValue(e);t&&!t.disabled?n[0].value!==t.selectValue&&(A(),P(),n[0].value=t.selectValue,t.element.selected=!0,t.element.setAttribute("selected","selected")):null===e||_?(A(),j()):(P(),E())},g.readValue=function(){var e=k.selectValueMap[n.val()];return e&&!e.disabled?(P(),A(),k.getViewValueFromOption(e)):null},S.trackBy&&t.$watch(function(){return S.getTrackByValue(p.$viewValue)},function(){p.$render()})),_?(m.remove(),e(m)(t),m.removeClass("ng-scope")):m=Er(a.cloneNode(!1)),f(),t.$watchCollection(S.getWatchables,f)}}}}],la=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(a,s,c){function l(e){s.text(e||"")}var u,h=c.count,d=c.$attr.when&&s.attr(c.$attr.when),f=c.offset||0,p=a.$eval(d)||{},g={},v=t.startSymbol(),y=t.endSymbol(),w=v+h+"-"+f+y,_=Lr.noop;o(c,function(e,t){var n=i.exec(t);if(n){var r=(n[1]?"-":"")+_r(n[2]);p[r]=s.attr(c.$attr[t])}}),o(p,function(e,n){g[n]=t(e.replace(r,w))}),a.$watch(h,function(t){var r=parseFloat(t),i=isNaN(r);if(i||r in p||(r=e.pluralCat(r-f)),r!==u&&!(i&&k(u)&&isNaN(u))){_();var o=g[r];b(o)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+d),_=m,l()):_=a.$watch(o,l),u=r}})}}}],ua=["$parse","$animate",function(e,a){var s="$$NG_REMOVED",c=r("ngRepeat"),l=function(e,t,n,r,i,o,a){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},u=function(e){return e.clone[0]},h=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,d){var f=d.ngRepeat,p=t.createComment(" end ngRepeat: "+f+" "),m=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!m)throw c("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var g=m[1],v=m[2],b=m[3],y=m[4];if(m=g.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!m)throw c("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var w=m[3]||m[1],_=m[2];if(b&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(b)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(b)))throw c("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",b);var x,k,S,j,P={$id:Ge};return y?x=e(y):(S=function(e,t){return Ge(t)},j=function(e){return e}),function(e,t,r,d,m){x&&(k=function(t,n,r){return _&&(P[_]=t),P[w]=n,P.$index=r,x(e,P)});var g=me();e.$watchCollection(v,function(r){var d,v,y,x,P,E,A,T,C,M,O,I,F=t[0],D=me();if(b&&(e[b]=r),i(r))C=r,T=k||S;else{T=k||j,C=[];for(var L in r)r.hasOwnProperty(L)&&"$"!==L.charAt(0)&&C.push(L)}for(x=C.length,O=new Array(x),d=0;d<x;d++)if(P=r===C?d:C[d],E=r[P],A=T(P,E,d),g[A])M=g[A],delete g[A],D[A]=M,O[d]=M;else{if(D[A])throw o(O,function(e){e&&e.scope&&(g[e.id]=e)}),c("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,A,E);O[d]={id:A,scope:n,clone:n},D[A]=!0}for(var R in g){if(M=g[R],I=pe(M.clone),a.leave(I),I[0].parentNode)for(d=0,v=I.length;d<v;d++)I[d][s]=!0;M.scope.$destroy()}for(d=0;d<x;d++)if(P=r===C?d:C[d],E=r[P],M=O[d],M.scope){y=F;do y=y.nextSibling;while(y&&y[s]);u(M)!=y&&a.move(pe(M.clone),null,Er(F)),F=h(M),l(M.scope,d,w,E,_,P,x)}else m(function(e,t){M.scope=t;var n=p.cloneNode(!1);e[e.length++]=n,a.enter(e,null,Er(F)),F=n,M.clone=e,D[M.id]=M,l(M.scope,d,w,E,_,P,x)});g=D})}}}}],ha="ng-hide",da="ng-hide-animate",fa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,ha,{tempClasses:da})})}}}],pa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,ha,{tempClasses:da})})}}}],ma=er(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&o(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),ga=["$animate",function(e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=i.ngSwitch||i.on,c=[],l=[],u=[],h=[],d=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var r,i;for(r=0,i=u.length;r<i;++r)e.cancel(u[r]);for(u.length=0,r=0,i=h.length;r<i;++r){var s=pe(l[r].clone);h[r].$destroy();var f=u[r]=e.leave(s);f.then(d(u,r))}l.length=0,h.length=0,(c=a.cases["!"+n]||a.cases["?"])&&o(c,function(n){n.transclude(function(r,i){h.push(i);var o=n.element;r[r.length++]=t.createComment(" end ngSwitchWhen: ");var a={clone:r};l.push(a),e.enter(r,o.parent(),o)})})})}}}],va=er({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),ba=er({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){
r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),ya=er({restrict:"EAC",link:function(e,t,n,i,o){if(!o)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Q(t));o(function(e){t.empty(),t.append(e)})}}),wa=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],_a={$setViewValue:m,$render:m},xa=["$element","$scope","$attrs",function(e,r,i){var o=this,a=new Ye;o.ngModelCtrl=_a,o.unknownOption=Er(t.createElement("option")),o.renderUnknownOption=function(t){var n="? "+Ge(t)+" ?";o.unknownOption.val(n),e.prepend(o.unknownOption),e.val(n)},r.$on("$destroy",function(){o.renderUnknownOption=m}),o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.readValue=function(){return o.removeUnknownOption(),e.val()},o.writeValue=function(t){o.hasOption(t)?(o.removeUnknownOption(),e.val(t),""===t&&o.emptyOption.prop("selected",!0)):null==t&&o.emptyOption?(o.removeUnknownOption(),e.val("")):o.renderUnknownOption(t)},o.addOption=function(e,t){de(e,'"option value"'),""===e&&(o.emptyOption=t);var n=a.get(e)||0;a.put(e,n+1)},o.removeOption=function(e){var t=a.get(e);t&&(1===t?(a.remove(e),""===e&&(o.emptyOption=n)):a.put(e,t-1))},o.hasOption=function(e){return!!a.get(e)}}],ka=function(){return{restrict:"E",require:["select","?ngModel"],controller:xa,link:function(e,t,n,r){var i=r[1];if(i){var a=r[0];if(a.ngModelCtrl=i,i.$render=function(){a.writeValue(i.$viewValue)},t.on("change",function(){e.$apply(function(){i.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var e=[];return o(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},a.writeValue=function(e){var n=new Ye(e);o(t.find("option"),function(e){e.selected=y(n.get(e.value))})};var s,c=NaN;e.$watch(function(){c!==i.$viewValue||z(s,i.$viewValue)||(s=$(i.$viewValue),i.$render()),c=i.$viewValue}),i.$isEmpty=function(e){return!e||0===e.length}}}}}},Sa=["$interpolate",function(e){function t(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}return{restrict:"E",priority:100,compile:function(n,r){if(b(r.value)){var i=e(n.text(),!0);i||r.$set("value",n.text())}return function(e,n,r){var o="$selectController",a=n.parent(),s=a.data(o)||a.parent().data(o);s&&s.ngModelCtrl&&(i?e.$watch(i,function(e,i){r.$set("value",e),i!==e&&s.removeOption(i),s.addOption(e,n),s.ngModelCtrl.$render(),t(n)}):(s.addOption(r.value,n),s.ngModelCtrl.$render(),t(n)),n.on("$destroy",function(){s.removeOption(r.value),s.ngModelCtrl.$render()}))}}}}],ja=v({restrict:"E",terminal:!1}),Pa=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},Ea=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,o){if(o){var a,s=i.ngPattern||i.pattern;i.$observe("pattern",function(e){if(x(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,Q(t));a=e||n,o.$validate()}),o.$validators.pattern=function(e){return o.$isEmpty(e)||b(a)||a.test(e)}}}}},Aa=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){var t=f(e);i=isNaN(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return i<0||r.$isEmpty(t)||t.length<=i}}}}},Ta=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=f(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};return e.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(le(),ye(Lr),void Er(t).ready(function(){ie(t,oe)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')},{}],57:[function(e,t,n){e("./angular"),t.exports=angular},{"./angular":56}],58:[function(e,t,n){var r=n;r.bignum=e("bn.js"),r.define=e("./asn1/api").define,r.base=e("./asn1/base"),r.constants=e("./asn1/constants"),r.decoders=e("./asn1/decoders"),r.encoders=e("./asn1/encoders")},{"./asn1/api":59,"./asn1/base":61,"./asn1/constants":65,"./asn1/decoders":67,"./asn1/encoders":70,"bn.js":85}],59:[function(e,t,n){function r(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}var i=e("../asn1"),o=e("inherits"),a=n;a.define=function(e,t){return new r(e,t)},r.prototype._createNamed=function(t){var n;try{n=e("vm").runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(r){n=function(e){this._initNamed(e)}}return o(n,t),n.prototype._initNamed=function(e){t.call(this,e)},new n(this)},r.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(i.decoders[e])),this.decoders[e]},r.prototype.decode=function(e,t,n){return this._getDecoder(t).decode(e,n)},r.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(i.encoders[e])),this.encoders[e]},r.prototype.encode=function(e,t,n){return this._getEncoder(t).encode(e,n)}},{"../asn1":58,inherits:299,vm:458}],60:[function(e,t,n){function r(e,t){return a.call(this,t),s.isBuffer(e)?(this.base=e,this.offset=0,void(this.length=e.length)):void this.error("Input not Buffer")}function i(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return e instanceof i||(e=new i(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=s.byteLength(e);else{if(!s.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}var o=e("inherits"),a=e("../base").Reporter,s=e("buffer").Buffer;o(r,a),n.DecoderBuffer=r,r.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},r.prototype.restore=function(e){var t=new r(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,a.prototype.restore.call(this,e.reporter),t},r.prototype.isEmpty=function(){return this.offset===this.length},r.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},r.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var n=new r(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n},r.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},n.EncoderBuffer=i,i.prototype.join=function(e,t){return e||(e=new s(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,t),t+=n.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):s.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)}},{"../base":61,buffer:131,inherits:299}],61:[function(e,t,n){var r=n;r.Reporter=e("./reporter").Reporter,r.DecoderBuffer=e("./buffer").DecoderBuffer,r.EncoderBuffer=e("./buffer").EncoderBuffer,r.Node=e("./node")},{"./buffer":60,"./node":62,"./reporter":63}],62:[function(e,t,n){function r(e,t){var n={};this._baseState=n,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n["default"]=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}var i=e("../base").Reporter,o=e("../base").EncoderBuffer,a=e("../base").DecoderBuffer,s=e("minimalistic-assert"),c=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],l=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(c),u=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];t.exports=r;var h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];r.prototype.clone=function(){var e=this._baseState,t={};h.forEach(function(n){t[n]=e[n]});var n=new this.constructor(t.parent);return n._baseState=t,n},r.prototype._wrap=function(){var e=this._baseState;l.forEach(function(t){this[t]=function(){var n=new this.constructor(this);return e.children.push(n),n[t].apply(n,arguments)}},this)},r.prototype._init=function(e){var t=this._baseState;s(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),s.equal(t.children.length,1,"Root node can have only one child")},r.prototype._useArgs=function(e){var t=this._baseState,n=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==n.length&&(s(null===t.children),t.children=n,n.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(s(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(n){n==(0|n)&&(n|=0);var r=e[n];t[r]=n}),t}))},u.forEach(function(e){r.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),c.forEach(function(e){r.prototype[e]=function(){var t=this._baseState,n=Array.prototype.slice.call(arguments);return s(null===t.tag),t.tag=e,this._useArgs(n),this}}),r.prototype.use=function(e){s(e);var t=this._baseState;return s(null===t.use),t.use=e,this},r.prototype.optional=function(){var e=this._baseState;return e.optional=!0,this},r.prototype.def=function(e){var t=this._baseState;return s(null===t["default"]),t["default"]=e,t.optional=!0,this},r.prototype.explicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.explicit=e,this},r.prototype.implicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.implicit=e,this},r.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},r.prototype.key=function(e){var t=this._baseState;return s(null===t.key),t.key=e,this},r.prototype.any=function(){var e=this._baseState;return e.any=!0,this},r.prototype.choice=function(e){var t=this._baseState;return s(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},r.prototype.contains=function(e){var t=this._baseState;return s(null===t.use),t.contains=e,this},r.prototype._decode=function(e,t){var n=this._baseState;if(null===n.parent)return e.wrapResult(n.children[0]._decode(e,t));var r=n["default"],i=!0,o=null;if(null!==n.key&&(o=e.enterKey(n.key)),n.optional){var s=null;if(null!==n.explicit?s=n.explicit:null!==n.implicit?s=n.implicit:null!==n.tag&&(s=n.tag),null!==s||n.any){if(i=this._peekTag(e,s,n.any),e.isError(i))return i}else{var c=e.save();try{null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),i=!0}catch(l){i=!1}e.restore(c)}}var u;if(n.obj&&i&&(u=e.enterObject()),i){if(null!==n.explicit){var h=this._decodeTag(e,n.explicit);if(e.isError(h))return h;e=h}var d=e.offset;if(null===n.use&&null===n.choice){if(n.any)var c=e.save();var f=this._decodeTag(e,null!==n.implicit?n.implicit:n.tag,n.any);if(e.isError(f))return f;n.any?r=e.raw(c):e=f}if(t&&t.track&&null!==n.tag&&t.track(e.path(),d,e.length,"tagged"),t&&t.track&&null!==n.tag&&t.track(e.path(),e.offset,e.length,"content"),r=n.any?r:null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),e.isError(r))return r;if(n.any||null!==n.choice||null===n.children||n.children.forEach(function(n){n._decode(e,t)}),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){var p=new a(r);r=this._getUse(n.contains,e._reporterState.obj)._decode(p,t)}}return n.obj&&i&&(r=e.leaveObject(u)),null===n.key||null===r&&i!==!0?null!==o&&e.exitKey(o):e.leaveKey(o,n.key,r),r},r.prototype._decodeGeneric=function(e,t,n){var r=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,r.args[0],n):/str$/.test(e)?this._decodeStr(t,e,n):"objid"===e&&r.args?this._decodeObjid(t,r.args[0],r.args[1],n):"objid"===e?this._decodeObjid(t,null,null,n):"gentime"===e||"utctime"===e?this._decodeTime(t,e,n):"null_"===e?this._decodeNull(t,n):"bool"===e?this._decodeBool(t,n):"objDesc"===e?this._decodeStr(t,e,n):"int"===e||"enum"===e?this._decodeInt(t,r.args&&r.args[0],n):null!==r.use?this._getUse(r.use,t._reporterState.obj)._decode(t,n):t.error("unknown tag: "+e)},r.prototype._getUse=function(e,t){var n=this._baseState;return n.useDecoder=this._use(e,t),s(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},r.prototype._decodeChoice=function(e,t){var n=this._baseState,r=null,i=!1;return Object.keys(n.choice).some(function(o){var a=e.save(),s=n.choice[o];try{var c=s._decode(e,t);if(e.isError(c))return!1;r={type:o,value:c},i=!0}catch(l){return e.restore(a),!1}return!0},this),i?r:e.error("Choice not matched")},r.prototype._createEncoderBuffer=function(e){return new o(e,this.reporter)},r.prototype._encode=function(e,t,n){var r=this._baseState;if(null===r["default"]||r["default"]!==e){var i=this._encodeValue(e,t,n);if(void 0!==i&&!this._skipDefault(i,t,n))return i}},r.prototype._encodeValue=function(e,t,n){var r=this._baseState;if(null===r.parent)return r.children[0]._encode(e,t||new i);var o=null;if(this.reporter=t,r.optional&&void 0===e){if(null===r["default"])return;e=r["default"]}var a=null,s=!1;if(r.any)o=this._createEncoderBuffer(e);else if(r.choice)o=this._encodeChoice(e,t);else if(r.contains)a=this._getUse(r.contains,n)._encode(e,t),s=!0;else if(r.children)a=r.children.map(function(n){if("null_"===n._baseState.tag)return n._encode(null,t,e);if(null===n._baseState.key)return t.error("Child should have a key");var r=t.enterKey(n._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var i=n._encode(e[n._baseState.key],t,e);return t.leaveKey(r),i},this).filter(function(e){return e}),a=this._createEncoderBuffer(a);else if("seqof"===r.tag||"setof"===r.tag){if(!r.args||1!==r.args.length)return t.error("Too many args for : "+r.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var c=this.clone();c._baseState.implicit=null,a=this._createEncoderBuffer(e.map(function(n){var r=this._baseState;return this._getUse(r.args[0],e)._encode(n,t)},c))}else null!==r.use?o=this._getUse(r.use,n)._encode(e,t):(a=this._encodePrimitive(r.tag,e),s=!0);var o;if(!r.any&&null===r.choice){var l=null!==r.implicit?r.implicit:r.tag,u=null===r.implicit?"universal":"context";null===l?null===r.use&&t.error("Tag could be ommited only for .use()"):null===r.use&&(o=this._encodeComposite(l,s,u,a))}return null!==r.explicit&&(o=this._encodeComposite(r.explicit,!1,"context",o)),o},r.prototype._encodeChoice=function(e,t){var n=this._baseState,r=n.choice[e.type];return r||s(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),r._encode(e.value,t)},r.prototype._encodePrimitive=function(e,t){var n=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&n.args)return this._encodeObjid(t,n.reverseArgs[0],n.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,n.args&&n.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},r.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},r.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},{"../base":61,"minimalistic-assert":320}],63:[function(e,t,n){function r(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function i(e,t){this.path=e,this.rethrow(t)}var o=e("inherits");n.Reporter=r,r.prototype.isError=function(e){return e instanceof i},r.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},r.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},r.prototype.enterKey=function(e){return this._reporterState.path.push(e)},r.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},r.prototype.leaveKey=function(e,t,n){var r=this._reporterState;this.exitKey(e),null!==r.obj&&(r.obj[t]=n)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},r.prototype.leaveObject=function(e){var t=this._reporterState,n=t.obj;return t.obj=e,n},r.prototype.error=function(e){var t,n=this._reporterState,r=e instanceof i;if(t=r?e:new i(n.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw t;return r||n.errors.push(t),t},r.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},o(i,Error),i.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,i),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},{inherits:299}],64:[function(e,t,n){var r=e("../constants");n.tagClass={0:"universal",1:"application",2:"context",3:"private"},n.tagClassByName=r._reverse(n.tagClass),n.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},n.tagByName=r._reverse(n.tag)},{"../constants":65}],65:[function(e,t,n){var r=n;r._reverse=function(e){var t={};return Object.keys(e).forEach(function(n){(0|n)==n&&(n=0|n);var r=e[n];t[r]=n}),t},r.der=e("./der")},{"./der":64}],66:[function(e,t,n){function r(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new i,this.tree._init(e.body)}function i(e){l.Node.call(this,"der",e)}function o(e,t){var n=e.readUInt8(t);if(e.isError(n))return n;var r=h.tagClass[n>>6],i=0===(32&n);if(31===(31&n)){var o=n;for(n=0;128===(128&o);){if(o=e.readUInt8(t),e.isError(o))return o;n<<=7,n|=127&o}}else n&=31;var a=h.tag[n];return{cls:r,primitive:i,tag:n,tagStr:a}}function a(e,t,n){var r=e.readUInt8(n);if(e.isError(r))return r;if(!t&&128===r)return null;if(0===(128&r))return r;var i=127&r;if(i>4)return e.error("length octect is too long");r=0;for(var o=0;o<i;o++){r<<=8;var a=e.readUInt8(n);if(e.isError(a))return a;r|=a}return r}var s=e("inherits"),c=e("../../asn1"),l=c.base,u=c.bignum,h=c.constants.der;t.exports=r,r.prototype.decode=function(e,t){return e instanceof l.DecoderBuffer||(e=new l.DecoderBuffer(e,t)),this.tree._decode(e,t)},s(i,l.Node),i.prototype._peekTag=function(e,t,n){if(e.isEmpty())return!1;var r=e.save(),i=o(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(r),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||n)},i.prototype._decodeTag=function(e,t,n){var r=o(e,'Failed to decode tag of "'+t+'"');if(e.isError(r))return r;var i=a(e,r.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!n&&r.tag!==t&&r.tagStr!==t&&r.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(r.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var s=e.save(),c=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(c)?c:(i=e.offset-s.offset,e.restore(s),e.skip(i,'Failed to match body of: "'+t+'"'))},i.prototype._skipUntilEnd=function(e,t){for(;;){var n=o(e,t);if(e.isError(n))return n;var r=a(e,n.primitive,t);if(e.isError(r))return r;var i;if(i=n.primitive||null!==r?e.skip(r):this._skipUntilEnd(e,t),e.isError(i))return i;if("end"===n.tagStr)break}},i.prototype._decodeList=function(e,t,n,r){for(var i=[];!e.isEmpty();){var o=this._peekTag(e,"end");if(e.isError(o))return o;var a=n.decode(e,"der",r);if(e.isError(a)&&o)break;i.push(a)}return i},i.prototype._decodeStr=function(e,t){if("bitstr"===t){var n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}if("bmpstr"===t){var r=e.raw();if(r.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",o=0;o<r.length/2;o++)i+=String.fromCharCode(r.readUInt16BE(2*o));return i}if("numstr"===t){var a=e.raw().toString("ascii");return this._isNumstr(a)?a:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var s=e.raw().toString("ascii");return this._isPrintstr(s)?s:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},i.prototype._decodeObjid=function(e,t,n){for(var r,i=[],o=0;!e.isEmpty();){var a=e.readUInt8();o<<=7,o|=127&a,0===(128&a)&&(i.push(o),o=0)}128&a&&i.push(o);var s=i[0]/40|0,c=i[0]%40;if(r=n?i:[s,c].concat(i.slice(1)),t){var l=t[r.join(" ")];void 0===l&&(l=t[r.join(".")]),void 0!==l&&(r=l)}return r},i.prototype._decodeTime=function(e,t){var n=e.raw().toString();if("gentime"===t)var r=0|n.slice(0,4),i=0|n.slice(4,6),o=0|n.slice(6,8),a=0|n.slice(8,10),s=0|n.slice(10,12),c=0|n.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");var r=0|n.slice(0,2),i=0|n.slice(2,4),o=0|n.slice(4,6),a=0|n.slice(6,8),s=0|n.slice(8,10),c=0|n.slice(10,12);r=r<70?2e3+r:1900+r}return Date.UTC(r,i-1,o,a,s,c,0)},i.prototype._decodeNull=function(e){return null},i.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},i.prototype._decodeInt=function(e,t){var n=e.raw(),r=new u(n);return t&&(r=t[r.toString(10)]||r),r},i.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},{"../../asn1":58,inherits:299}],67:[function(e,t,n){var r=n;r.der=e("./der"),r.pem=e("./pem")},{"./der":66,"./pem":68}],68:[function(e,t,n){function r(e){a.call(this,e),this.enc="pem"}var i=e("inherits"),o=e("buffer").Buffer,a=e("./der");i(r,a),t.exports=r,r.prototype.decode=function(e,t){for(var n=e.toString().split(/[\r\n]+/g),r=t.label.toUpperCase(),i=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,c=-1,l=0;l<n.length;l++){var u=n[l].match(i);if(null!==u&&u[2]===r){if(s!==-1){if("END"!==u[1])break;c=l;break}if("BEGIN"!==u[1])break;s=l}}if(s===-1||c===-1)throw new Error("PEM section not found for: "+r);var h=n.slice(s+1,c).join("");h.replace(/[^a-z0-9\+\/=]+/gi,"");var d=new o(h,"base64");return a.prototype.decode.call(this,d,t)}},{"./der":66,buffer:131,inherits:299}],69:[function(e,t,n){function r(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new i,this.tree._init(e.body)}function i(e){u.Node.call(this,"der",e)}function o(e){return e<10?"0"+e:e}function a(e,t,n,r){var i;if("seqof"===e?e="seq":"setof"===e&&(e="set"),h.tagByName.hasOwnProperty(e))i=h.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return r.error("Unknown tag: "+e);i=e}return i>=31?r.error("Multi-octet tag encoding unsupported"):(t||(i|=32),i|=h.tagClassByName[n||"universal"]<<6)}var s=e("inherits"),c=e("buffer").Buffer,l=e("../../asn1"),u=l.base,h=l.constants.der;t.exports=r,r.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},s(i,u.Node),i.prototype._encodeComposite=function(e,t,n,r){var i=a(e,t,n,this.reporter);if(r.length<128){var o=new c(2);return o[0]=i,o[1]=r.length,this._createEncoderBuffer([o,r])}for(var s=1,l=r.length;l>=256;l>>=8)s++;var o=new c(2+s);o[0]=i,o[1]=128|s;for(var l=1+s,u=r.length;u>0;l--,u>>=8)o[l]=255&u;return this._createEncoderBuffer([o,r])},i.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var n=new c(2*e.length),r=0;r<e.length;r++)n.writeUInt16BE(e.charCodeAt(r),2*r);return this._createEncoderBuffer(n)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},i.prototype._encodeObjid=function(e,t,n){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var r=0;r<e.length;r++)e[r]|=0}else if(Array.isArray(e)){e=e.slice();for(var r=0;r<e.length;r++)e[r]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}for(var i=0,r=0;r<e.length;r++){var o=e[r];for(i++;o>=128;o>>=7)i++}for(var a=new c(i),s=a.length-1,r=e.length-1;r>=0;r--){var o=e[r];for(a[s--]=127&o;(o>>=7)>0;)a[s--]=128|127&o}return this._createEncoderBuffer(a)},i.prototype._encodeTime=function(e,t){var n,r=new Date(e);return"gentime"===t?n=[o(r.getFullYear()),o(r.getUTCMonth()+1),o(r.getUTCDate()),o(r.getUTCHours()),o(r.getUTCMinutes()),o(r.getUTCSeconds()),"Z"].join(""):"utctime"===t?n=[o(r.getFullYear()%100),o(r.getUTCMonth()+1),o(r.getUTCDate()),o(r.getUTCHours()),o(r.getUTCMinutes()),o(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(n,"octstr")},i.prototype._encodeNull=function(){return this._createEncoderBuffer("")},i.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!c.isBuffer(e)){var n=e.toArray();!e.sign&&128&n[0]&&n.unshift(0),e=new c(n)}if(c.isBuffer(e)){var r=e.length;0===e.length&&r++;var i=new c(r);return e.copy(i),0===e.length&&(i[0]=0),this._createEncoderBuffer(i)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);for(var r=1,o=e;o>=256;o>>=8)r++;for(var i=new Array(r),o=i.length-1;o>=0;o--)i[o]=255&e,e>>=8;return 128&i[0]&&i.unshift(0),this._createEncoderBuffer(new c(i))},i.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},i.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},i.prototype._skipDefault=function(e,t,n){var r,i=this._baseState;if(null===i["default"])return!1;var o=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i["default"],t,n).join()),o.length!==i.defaultBuffer.length)return!1;for(r=0;r<o.length;r++)if(o[r]!==i.defaultBuffer[r])return!1;return!0}},{"../../asn1":58,buffer:131,inherits:299}],70:[function(e,t,n){var r=n;r.der=e("./der"),r.pem=e("./pem")},{"./der":69,"./pem":71}],71:[function(e,t,n){function r(e){o.call(this,e),this.enc="pem"}var i=e("inherits"),o=e("./der");i(r,o),t.exports=r,r.prototype.encode=function(e,t){for(var n=o.prototype.encode.call(this,e),r=n.toString("base64"),i=["-----BEGIN "+t.label+"-----"],a=0;a<r.length;a+=64)i.push(r.slice(a,a+64));return i.push("-----END "+t.label+"-----"),i.join("\n")}},{"./der":69,inherits:299}],72:[function(e,t,n){t.exports={newInvalidAsn1Error:function(e){var t=new Error;return t.name="InvalidAsn1Error",t.message=e||"",t}}},{}],73:[function(e,t,n){var r=e("./errors"),i=e("./types"),o=e("./reader"),a=e("./writer");t.exports={Reader:o,Writer:a};for(var s in i)i.hasOwnProperty(s)&&(t.exports[s]=i[s]);for(var c in r)r.hasOwnProperty(c)&&(t.exports[c]=r[c])},{"./errors":72,"./reader":74,"./types":75,"./writer":76}],74:[function(e,t,n){(function(n){function r(e){if(!e||!n.isBuffer(e))throw new TypeError("data must be a node Buffer");this._buf=e,this._size=e.length,this._len=0,this._offset=0}var i=e("assert"),o=e("./types"),a=e("./errors"),s=a.newInvalidAsn1Error;Object.defineProperty(r.prototype,"length",{enumerable:!0,get:function(){return this._len}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){return this._offset}}),Object.defineProperty(r.prototype,"remain",{get:function(){return this._size-this._offset}}),Object.defineProperty(r.prototype,"buffer",{get:function(){return this._buf.slice(this._offset)}}),r.prototype.readByte=function(e){if(this._size-this._offset<1)return null;var t=255&this._buf[this._offset];return e||(this._offset+=1),t},r.prototype.peek=function(){return this.readByte(!0)},r.prototype.readLength=function(e){if(void 0===e&&(e=this._offset),e>=this._size)return null;var t=255&this._buf[e++];if(null===t)return null;if(128==(128&t)){if(t&=127,0==t)throw s("Indefinite length not supported");if(t>4)throw s("encoding too long");if(this._size-e<t)return null;this._len=0;for(var n=0;n<t;n++)this._len=(this._len<<8)+(255&this._buf[e++])}else this._len=t;return e},r.prototype.readSequence=function(e){var t=this.peek();if(null===t)return null;if(void 0!==e&&e!==t)throw s("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var n=this.readLength(this._offset+1);return null===n?null:(this._offset=n,t)},r.prototype.readInt=function(){return this._readTag(o.Integer)},r.prototype.readBoolean=function(){return 0!==this._readTag(o.Boolean)},r.prototype.readEnumeration=function(){return this._readTag(o.Enumeration)},r.prototype.readString=function(e,t){e||(e=o.OctetString);var r=this.peek();if(null===r)return null;if(r!==e)throw s("Expected 0x"+e.toString(16)+": got 0x"+r.toString(16));var i=this.readLength(this._offset+1);if(null===i)return null;if(this.length>this._size-i)return null;if(this._offset=i,0===this.length)return t?new n(0):"";var a=this._buf.slice(this._offset,this._offset+this.length);return this._offset+=this.length,t?a:a.toString("utf8")},r.prototype.readOID=function(e){e||(e=o.OID);var t=this.readString(e,!0);if(null===t)return null;for(var n=[],r=0,i=0;i<t.length;i++){var a=255&t[i];r<<=7,r+=127&a,0==(128&a)&&(n.push(r),r=0)}return r=n.shift(),n.unshift(r%40),n.unshift(r/40>>0),n.join(".")},r.prototype._readTag=function(e){i.ok(void 0!==e);var t=this.peek();if(null===t)return null;if(t!==e)throw s("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var n=this.readLength(this._offset+1);if(null===n)return null;if(this.length>4)throw s("Integer too long: "+this.length);if(this.length>this._size-n)return null;this._offset=n;for(var r=this._buf[this._offset],o=0,a=0;a<this.length;a++)o<<=8,o|=255&this._buf[this._offset++];
return 128==(128&r)&&4!==a&&(o-=1<<8*a),o>>0},t.exports=r}).call(this,e("buffer").Buffer)},{"./errors":72,"./types":75,assert:79,buffer:131}],75:[function(e,t,n){t.exports={EOC:0,Boolean:1,Integer:2,BitString:3,OctetString:4,Null:5,OID:6,ObjectDescriptor:7,External:8,Real:9,Enumeration:10,PDV:11,Utf8String:12,RelativeOID:13,Sequence:16,Set:17,NumericString:18,PrintableString:19,T61String:20,VideotexString:21,IA5String:22,UTCTime:23,GeneralizedTime:24,GraphicString:25,VisibleString:26,GeneralString:28,UniversalString:29,CharacterString:30,BMPString:31,Constructor:32,Context:128}},{}],76:[function(e,t,n){(function(n){function r(e,t){o.ok(e),o.equal(typeof e,"object"),o.ok(t),o.equal(typeof t,"object");var n=Object.getOwnPropertyNames(e);return n.forEach(function(n){if(!t[n]){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r)}}),t}function i(e){e=r(c,e||{}),this._buf=new n(e.size||1024),this._size=this._buf.length,this._offset=0,this._options=e,this._seq=[]}var o=e("assert"),a=e("./types"),s=e("./errors"),c=(s.newInvalidAsn1Error,{size:1024,growthFactor:8});Object.defineProperty(i.prototype,"buffer",{get:function(){if(this._seq.length)throw new InvalidAsn1Error(this._seq.length+" unended sequence(s)");return this._buf.slice(0,this._offset)}}),i.prototype.writeByte=function(e){if("number"!=typeof e)throw new TypeError("argument must be a Number");this._ensure(1),this._buf[this._offset++]=e},i.prototype.writeInt=function(e,t){if("number"!=typeof e)throw new TypeError("argument must be a Number");"number"!=typeof t&&(t=a.Integer);for(var n=4;(0===(4286578688&e)||(4286578688&e)===-8388608)&&n>1;)n--,e<<=8;if(n>4)throw new InvalidAsn1Error("BER ints cannot be > 0xffffffff");for(this._ensure(2+n),this._buf[this._offset++]=t,this._buf[this._offset++]=n;n-- >0;)this._buf[this._offset++]=(4278190080&e)>>>24,e<<=8},i.prototype.writeNull=function(){this.writeByte(a.Null),this.writeByte(0)},i.prototype.writeEnumeration=function(e,t){if("number"!=typeof e)throw new TypeError("argument must be a Number");return"number"!=typeof t&&(t=a.Enumeration),this.writeInt(e,t)},i.prototype.writeBoolean=function(e,t){if("boolean"!=typeof e)throw new TypeError("argument must be a Boolean");"number"!=typeof t&&(t=a.Boolean),this._ensure(3),this._buf[this._offset++]=t,this._buf[this._offset++]=1,this._buf[this._offset++]=e?255:0},i.prototype.writeString=function(e,t){if("string"!=typeof e)throw new TypeError("argument must be a string (was: "+typeof e+")");"number"!=typeof t&&(t=a.OctetString);var r=n.byteLength(e);this.writeByte(t),this.writeLength(r),r&&(this._ensure(r),this._buf.write(e,this._offset),this._offset+=r)},i.prototype.writeBuffer=function(e,t){if("number"!=typeof t)throw new TypeError("tag must be a number");if(!n.isBuffer(e))throw new TypeError("argument must be a buffer");this.writeByte(t),this.writeLength(e.length),this._ensure(e.length),e.copy(this._buf,this._offset,0,e.length),this._offset+=e.length},i.prototype.writeStringArray=function(e){if(!e instanceof Array)throw new TypeError("argument must be an Array[String]");var t=this;e.forEach(function(e){t.writeString(e)})},i.prototype.writeOID=function(e,t){function n(e,t){t<128?e.push(t):t<16384?(e.push(t>>>7|128),e.push(127&t)):t<2097152?(e.push(t>>>14|128),e.push(255&(t>>>7|128)),e.push(127&t)):t<268435456?(e.push(t>>>21|128),e.push(255&(t>>>14|128)),e.push(255&(t>>>7|128)),e.push(127&t)):(e.push(255&(t>>>28|128)),e.push(255&(t>>>21|128)),e.push(255&(t>>>14|128)),e.push(255&(t>>>7|128)),e.push(127&t))}if("string"!=typeof e)throw new TypeError("argument must be a string");if("number"!=typeof t&&(t=a.OID),!/^([0-9]+\.){3,}[0-9]+$/.test(e))throw new Error("argument is not a valid OID string");var r=e.split("."),i=[];i.push(40*parseInt(r[0],10)+parseInt(r[1],10)),r.slice(2).forEach(function(e){n(i,parseInt(e,10))});var o=this;this._ensure(2+i.length),this.writeByte(t),this.writeLength(i.length),i.forEach(function(e){o.writeByte(e)})},i.prototype.writeLength=function(e){if("number"!=typeof e)throw new TypeError("argument must be a Number");if(this._ensure(4),e<=127)this._buf[this._offset++]=e;else if(e<=255)this._buf[this._offset++]=129,this._buf[this._offset++]=e;else if(e<=65535)this._buf[this._offset++]=130,this._buf[this._offset++]=e>>8,this._buf[this._offset++]=e;else{if(!(e<=16777215))throw new InvalidAsn1ERror("Length too long (> 4 bytes)");this._buf[this._offset++]=131,this._buf[this._offset++]=e>>16,this._buf[this._offset++]=e>>8,this._buf[this._offset++]=e}},i.prototype.startSequence=function(e){"number"!=typeof e&&(e=a.Sequence|a.Constructor),this.writeByte(e),this._seq.push(this._offset),this._ensure(3),this._offset+=3},i.prototype.endSequence=function(){var e=this._seq.pop(),t=e+3,n=this._offset-t;if(n<=127)this._shift(t,n,-2),this._buf[e]=n;else if(n<=255)this._shift(t,n,-1),this._buf[e]=129,this._buf[e+1]=n;else if(n<=65535)this._buf[e]=130,this._buf[e+1]=n>>8,this._buf[e+2]=n;else{if(!(n<=16777215))throw new InvalidAsn1Error("Sequence too long");this._shift(t,n,1),this._buf[e]=131,this._buf[e+1]=n>>16,this._buf[e+2]=n>>8,this._buf[e+3]=n}},i.prototype._shift=function(e,t,n){o.ok(void 0!==e),o.ok(void 0!==t),o.ok(n),this._buf.copy(this._buf,e+n,e,e+t),this._offset+=n},i.prototype._ensure=function(e){if(o.ok(e),this._size-this._offset<e){var t=this._size*this._options.growthFactor;t-this._offset<e&&(t+=e);var r=new n(t);this._buf.copy(r,0,0,this._offset),this._buf=r,this._size=t}},t.exports=i}).call(this,e("buffer").Buffer)},{"./errors":72,"./types":75,assert:79,buffer:131}],77:[function(e,t,n){var r=e("./ber/index");t.exports={Ber:r,BerReader:r.Reader,BerWriter:r.Writer}},{"./ber/index":73}],78:[function(e,t,n){(function(n,r){function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}function o(e,t,n,r,i){throw new l.AssertionError({message:h.format("%s (%s) is required",e,t),actual:void 0===i?typeof r:i(r),expected:t,operator:n||"===",stackStartFunction:o.caller})}function a(e){return Object.prototype.toString.call(e).slice(8,-1)}function s(){}function c(e){var t,n=Object.keys(f);return t=r.env.NODE_NDEBUG?s:function(e,t){e||o(t,"true",e)},n.forEach(function(n){if(e)return void(t[n]=s);var r=f[n];t[n]=function(e,t){r.check(e)||o(t,n,r.operator,e,r.actual)}}),n.forEach(function(n){var r="optional"+i(n);if(e)return void(t[r]=s);var a=f[n];t[r]=function(e,t){void 0!==e&&null!==e&&(a.check(e)||o(t,n,a.operator,e,a.actual))}}),n.forEach(function(n){var r="arrayOf"+i(n);if(e)return void(t[r]=s);var a=f[n],c="["+n+"]";t[r]=function(e,t){Array.isArray(e)||o(t,c,a.operator,e,a.actual);var n;for(n=0;n<e.length;n++)a.check(e[n])||o(t,c,a.operator,e,a.actual)}}),n.forEach(function(n){var r="optionalArrayOf"+i(n);if(e)return void(t[r]=s);var a=f[n],c="["+n+"]";t[r]=function(e,t){if(void 0!==e&&null!==e){Array.isArray(e)||o(t,c,a.operator,e,a.actual);var n;for(n=0;n<e.length;n++)a.check(e[n])||o(t,c,a.operator,e,a.actual)}}}),Object.keys(l).forEach(function(n){return"AssertionError"===n?void(t[n]=l[n]):e?void(t[n]=s):void(t[n]=l[n])}),t._setExports=c,t}var l=e("assert"),u=e("stream").Stream,h=e("util"),d=/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/,f={bool:{check:function(e){return"boolean"==typeof e}},func:{check:function(e){return"function"==typeof e}},string:{check:function(e){return"string"==typeof e}},object:{check:function(e){return"object"==typeof e&&null!==e}},number:{check:function(e){return"number"==typeof e&&!isNaN(e)}},finite:{check:function(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}},buffer:{check:function(e){return n.isBuffer(e)},operator:"Buffer.isBuffer"},array:{check:function(e){return Array.isArray(e)},operator:"Array.isArray"},stream:{check:function(e){return e instanceof u},operator:"instanceof",actual:a},date:{check:function(e){return e instanceof Date},operator:"instanceof",actual:a},regexp:{check:function(e){return e instanceof RegExp},operator:"instanceof",actual:a},uuid:{check:function(e){return"string"==typeof e&&d.test(e)},operator:"isUUID"}};t.exports=c(r.env.NODE_NDEBUG)}).call(this,{isBuffer:e("../is-buffer/index.js")},e("_process"))},{"../is-buffer/index.js":300,_process:352,assert:79,stream:416,util:451}],79:[function(e,t,n){function r(e,t){return f.isUndefined(t)?""+t:f.isNumber(t)&&!isFinite(t)?t.toString():f.isFunction(t)||f.isRegExp(t)?t.toString():t}function i(e,t){return f.isString(e)?e.length<t?e:e.slice(0,t):e}function o(e){return i(JSON.stringify(e.actual,r),128)+" "+e.operator+" "+i(JSON.stringify(e.expected,r),128)}function a(e,t,n,r,i){throw new g.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function s(e,t){e||a(e,!0,t,"==",g.ok)}function c(e,t){if(e===t)return!0;if(f.isBuffer(e)&&f.isBuffer(t)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return f.isDate(e)&&f.isDate(t)?e.getTime()===t.getTime():f.isRegExp(e)&&f.isRegExp(t)?e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase:f.isObject(e)||f.isObject(t)?u(e,t):e==t}function l(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function u(e,t){if(f.isNullOrUndefined(e)||f.isNullOrUndefined(t))return!1;if(e.prototype!==t.prototype)return!1;if(f.isPrimitive(e)||f.isPrimitive(t))return e===t;var n=l(e),r=l(t);if(n&&!r||!n&&r)return!1;if(n)return e=p.call(e),t=p.call(t),c(e,t);var i,o,a=v(e),s=v(t);if(a.length!=s.length)return!1;for(a.sort(),s.sort(),o=a.length-1;o>=0;o--)if(a[o]!=s[o])return!1;for(o=a.length-1;o>=0;o--)if(i=a[o],!c(e[i],t[i]))return!1;return!0}function h(e,t){return!(!e||!t)&&("[object RegExp]"==Object.prototype.toString.call(t)?t.test(e):e instanceof t||t.call({},e)===!0)}function d(e,t,n,r){var i;f.isString(n)&&(r=n,n=null);try{t()}catch(o){i=o}if(r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&a(i,n,"Missing expected exception"+r),!e&&h(i,n)&&a(i,n,"Got unwanted exception"+r),e&&i&&n&&!h(i,n)||!e&&i)throw i}var f=e("util/"),p=Array.prototype.slice,m=Object.prototype.hasOwnProperty,g=t.exports=s;g.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=o(this),this.generatedMessage=!0);var t=e.stackStartFunction||a;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=t.name,s=r.indexOf("\n"+i);if(s>=0){var c=r.indexOf("\n",s+1);r=r.substring(c+1)}this.stack=r}}},f.inherits(g.AssertionError,Error),g.fail=a,g.ok=s,g.equal=function(e,t,n){e!=t&&a(e,t,n,"==",g.equal)},g.notEqual=function(e,t,n){e==t&&a(e,t,n,"!=",g.notEqual)},g.deepEqual=function(e,t,n){c(e,t)||a(e,t,n,"deepEqual",g.deepEqual)},g.notDeepEqual=function(e,t,n){c(e,t)&&a(e,t,n,"notDeepEqual",g.notDeepEqual)},g.strictEqual=function(e,t,n){e!==t&&a(e,t,n,"===",g.strictEqual)},g.notStrictEqual=function(e,t,n){e===t&&a(e,t,n,"!==",g.notStrictEqual)},g["throws"]=function(e,t,n){d.apply(this,[!0].concat(p.call(arguments)))},g.doesNotThrow=function(e,t){d.apply(this,[!1].concat(p.call(arguments)))},g.ifError=function(e){if(e)throw e};var v=Object.keys||function(e){var t=[];for(var n in e)m.call(e,n)&&t.push(n);return t}},{"util/":451}],80:[function(e,t,n){!function(){function e(e){var t=Array.isArray(e)?{label:e[0],value:e[1]}:"object"==typeof e&&"label"in e&&"value"in e?e:{label:e,value:e};this.label=t.label||t.value,this.value=t.value}function n(e,t,n){for(var r in t){var i=t[r],o=e.input.getAttribute("data-"+r.toLowerCase());"number"==typeof i?e[r]=parseInt(o):i===!1?e[r]=null!==o:i instanceof Function?e[r]=null:e[r]=o,e[r]||0===e[r]||(e[r]=r in n?n[r]:i)}}function r(e,t){return"string"==typeof e?(t||document).querySelector(e):e||null}function i(e,t){return s.call((t||document).querySelectorAll(e))}function o(){i("input.awesomplete").forEach(function(e){new a(e)})}var a=function(e,t){var i=this;this.isOpened=!1,this.input=r(e),this.input.setAttribute("autocomplete","off"),this.input.setAttribute("aria-autocomplete","list"),t=t||{},n(this,{minChars:2,maxItems:10,autoFirst:!1,data:a.DATA,filter:a.FILTER_CONTAINS,sort:t.sort!==!1&&a.SORT_BYLENGTH,item:a.ITEM,replace:a.REPLACE},t),this.index=-1,this.container=r.create("div",{className:"awesomplete",around:e}),this.ul=r.create("ul",{hidden:"hidden",inside:this.container}),this.status=r.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-relevant":"additions",inside:this.container}),this._events={input:{input:this.evaluate.bind(this),blur:this.close.bind(this,{reason:"blur"}),keydown:function(e){var t=e.keyCode;i.opened&&(13===t&&i.selected?(e.preventDefault(),i.select()):27===t?i.close({reason:"esc"}):38!==t&&40!==t||(e.preventDefault(),i[38===t?"previous":"next"]()))}},form:{submit:this.close.bind(this,{reason:"submit"})},ul:{mousedown:function(e){var t=e.target;if(t!==this){for(;t&&!/li/i.test(t.nodeName);)t=t.parentNode;t&&0===e.button&&(e.preventDefault(),i.select(t,e.target))}}}},r.bind(this.input,this._events.input),r.bind(this.input.form,this._events.form),r.bind(this.ul,this._events.ul),this.input.hasAttribute("list")?(this.list="#"+this.input.getAttribute("list"),this.input.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||t.list||[],a.all.push(this)};a.prototype={set list(e){if(Array.isArray(e))this._list=e;else if("string"==typeof e&&e.indexOf(",")>-1)this._list=e.split(/\s*,\s*/);else if(e=r(e),e&&e.children){var t=[];s.apply(e.children).forEach(function(e){if(!e.disabled){var n=e.textContent.trim(),r=e.value||n,i=e.label||n;""!==r&&t.push({label:i,value:r})}}),this._list=t}document.activeElement===this.input&&this.evaluate()},get selected(){return this.index>-1},get opened(){return this.isOpened},close:function(e){this.opened&&(this.ul.setAttribute("hidden",""),this.isOpened=!1,this.index=-1,r.fire(this.input,"awesomplete-close",e||{}))},open:function(){this.ul.removeAttribute("hidden"),this.isOpened=!0,this.autoFirst&&this.index===-1&&this["goto"](0),r.fire(this.input,"awesomplete-open")},destroy:function(){r.unbind(this.input,this._events.input),r.unbind(this.input.form,this._events.form);var e=this.container.parentNode;e.insertBefore(this.input,this.container),e.removeChild(this.container),this.input.removeAttribute("autocomplete"),this.input.removeAttribute("aria-autocomplete");var t=a.all.indexOf(this);t!==-1&&a.all.splice(t,1)},next:function(){var e=this.ul.children.length;this["goto"](this.index<e-1?this.index+1:e?0:-1)},previous:function(){var e=this.ul.children.length,t=this.index-1;this["goto"](this.selected&&t!==-1?t:e-1)},"goto":function(e){var t=this.ul.children;this.selected&&t[this.index].setAttribute("aria-selected","false"),this.index=e,e>-1&&t.length>0&&(t[e].setAttribute("aria-selected","true"),this.status.textContent=t[e].textContent,this.ul.scrollTop=t[e].offsetTop-this.ul.clientHeight+t[e].clientHeight,r.fire(this.input,"awesomplete-highlight",{text:this.suggestions[this.index]}))},select:function(e,t){if(e?this.index=r.siblingIndex(e):e=this.ul.children[this.index],e){var n=this.suggestions[this.index],i=r.fire(this.input,"awesomplete-select",{text:n,origin:t||e});i&&(this.replace(n),this.close({reason:"select"}),r.fire(this.input,"awesomplete-selectcomplete",{text:n}))}},evaluate:function(){var t=this,n=this.input.value;n.length>=this.minChars&&this._list.length>0?(this.index=-1,this.ul.innerHTML="",this.suggestions=this._list.map(function(r){return new e(t.data(r,n))}).filter(function(e){return t.filter(e,n)}),this.sort!==!1&&(this.suggestions=this.suggestions.sort(this.sort)),this.suggestions=this.suggestions.slice(0,this.maxItems),this.suggestions.forEach(function(e){t.ul.appendChild(t.item(e,n))}),0===this.ul.children.length?this.close({reason:"nomatches"}):this.open()):this.close({reason:"nomatches"})}},a.all=[],a.FILTER_CONTAINS=function(e,t){return RegExp(r.regExpEscape(t.trim()),"i").test(e)},a.FILTER_STARTSWITH=function(e,t){return RegExp("^"+r.regExpEscape(t.trim()),"i").test(e)},a.SORT_BYLENGTH=function(e,t){return e.length!==t.length?e.length-t.length:e<t?-1:1},a.ITEM=function(e,t){var n=""===t.trim()?e:e.replace(RegExp(r.regExpEscape(t.trim()),"gi"),"<mark>$&</mark>");return r.create("li",{innerHTML:n,"aria-selected":"false"})},a.REPLACE=function(e){this.input.value=e.value},a.DATA=function(e){return e},Object.defineProperty(e.prototype=Object.create(String.prototype),"length",{get:function(){return this.label.length}}),e.prototype.toString=e.prototype.valueOf=function(){return""+this.label};var s=Array.prototype.slice;return r.create=function(e,t){var n=document.createElement(e);for(var i in t){var o=t[i];if("inside"===i)r(o).appendChild(n);else if("around"===i){var a=r(o);a.parentNode.insertBefore(n,a),n.appendChild(a)}else i in n?n[i]=o:n.setAttribute(i,o)}return n},r.bind=function(e,t){if(e)for(var n in t){var r=t[n];n.split(/\s+/).forEach(function(t){e.addEventListener(t,r)})}},r.unbind=function(e,t){if(e)for(var n in t){var r=t[n];n.split(/\s+/).forEach(function(t){e.removeEventListener(t,r)})}},r.fire=function(e,t,n){var r=document.createEvent("HTMLEvents");r.initEvent(t,!0,!0);for(var i in n)r[i]=n[i];return e.dispatchEvent(r)},r.regExpEscape=function(e){return e.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},r.siblingIndex=function(e){for(var t=0;e=e.previousElementSibling;t++);return t},"undefined"!=typeof Document&&("loading"!==document.readyState?o():document.addEventListener("DOMContentLoaded",o)),a.$=r,a.$$=i,"undefined"!=typeof self&&(self.Awesomplete=a),"object"==typeof t&&t.exports&&(t.exports=a),a}()},{}],81:[function(e,t,n){function r(e){return"AWS "+e.key+":"+o(e)}function i(e){return h.createHmac("sha1",e.secret).update(e.message).digest("base64")}function o(e){return e.message=s(e),i(e)}function a(e){return e.message=c(e),i(e)}function s(e){var t=e.amazonHeaders||"";t&&(t+="\n");var n=[e.verb,e.md5,e.contentType,e.date?e.date.toUTCString():"",t+e.resource];return n.join("\n")}function c(e){return"GET\n\n\n"+e.date+"\n"+e.resource}function l(e){for(var t=[],n=Object.keys(e),r=0,i=n.length;r<i;++r){var o=n[r],a=e[o],o=o.toLowerCase();0===o.indexOf("x-amz")&&t.push(o+":"+a)}return t.sort().join("\n")}function u(e){var t=d(e,!0),n=t.pathname,r=[];return Object.keys(t.query).forEach(function(e){if(~f.indexOf(e)){var n=""==t.query[e]?"":"="+encodeURIComponent(t.query[e]);r.push(e+n)}}),n+(r.length?"?"+r.sort().join("&"):"")}var h=e("crypto"),d=e("url").parse,f=["acl","location","logging","notification","partNumber","policy","requestPayment","torrent","uploadId","uploads","versionId","versioning","versions","website"];t.exports=r,t.exports.authorization=r,t.exports.hmacSha1=i,t.exports.sign=o,t.exports.signQuery=a,t.exports.stringToSign=s,t.exports.queryStringToSign=c,t.exports.canonicalizeHeaders=l,t.exports.canonicalizeResource=u},{crypto:133,url:143}],82:[function(e,t,n){(function(t,r){function i(e,t,n){return h.createHmac("sha256",e).update(t,"utf8").digest(n)}function o(e,t){return h.createHash("sha256").update(e,"utf8").digest(t)}function a(e){return e.replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function s(e,t){"string"==typeof e&&(e=l.parse(e));var n=e.headers=e.headers||{},r=this.matchHost(e.hostname||e.host||n.Host||n.host);this.request=e,this.credentials=t||this.defaultCredentials(),this.service=e.service||r[0]||"",this.region=e.region||r[1]||"us-east-1","email"===this.service&&(this.service="ses"),!e.method&&e.body&&(e.method="POST"),n.Host||n.host||(n.Host=e.hostname||e.host||this.createHost(),e.port&&(n.Host+=":"+e.port)),e.hostname||e.host||(e.hostname=n.Host||n.host),this.isCodeCommitGit="codecommit"===this.service&&"GIT"===e.method}var c=n,l=e("url"),u=e("querystring"),h=e("crypto"),d=e("./lru"),f=d(1e3);s.prototype.matchHost=function(e){var t=(e||"").match(/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com$/),n=(t||[]).slice(1,3);return"es"===n[1]&&(n=n.reverse()),n},s.prototype.isSingleRegion=function(){return["s3","sdb"].indexOf(this.service)>=0&&"us-east-1"===this.region||["cloudfront","ls","route53","iam","importexport","sts"].indexOf(this.service)>=0},s.prototype.createHost=function(){var e=this.isSingleRegion()?"":("s3"===this.service&&"us-east-1"!==this.region?"-":".")+this.region,t="ses"===this.service?"email":this.service;return t+e+".amazonaws.com"},s.prototype.prepareRequest=function(){this.parsePath();var e,t=this.request,n=t.headers;t.signQuery?(this.parsedPath.query=e=this.parsedPath.query||{},this.credentials.sessionToken&&(e["X-Amz-Security-Token"]=this.credentials.sessionToken),"s3"!==this.service||e["X-Amz-Expires"]||(e["X-Amz-Expires"]=86400),e["X-Amz-Date"]?this.datetime=e["X-Amz-Date"]:e["X-Amz-Date"]=this.getDateTime(),e["X-Amz-Algorithm"]="AWS4-HMAC-SHA256",e["X-Amz-Credential"]=this.credentials.accessKeyId+"/"+this.credentialString(),e["X-Amz-SignedHeaders"]=this.signedHeaders()):(t.doNotModifyHeaders||this.isCodeCommitGit||(!t.body||n["Content-Type"]||n["content-type"]||(n["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8"),!t.body||n["Content-Length"]||n["content-length"]||(n["Content-Length"]=r.byteLength(t.body)),!this.credentials.sessionToken||n["X-Amz-Security-Token"]||n["x-amz-security-token"]||(n["X-Amz-Security-Token"]=this.credentials.sessionToken),"s3"!==this.service||n["X-Amz-Content-Sha256"]||n["x-amz-content-sha256"]||(n["X-Amz-Content-Sha256"]=o(this.request.body||"","hex")),n["X-Amz-Date"]||n["x-amz-date"]?this.datetime=n["X-Amz-Date"]||n["x-amz-date"]:n["X-Amz-Date"]=this.getDateTime()),delete n.Authorization,delete n.authorization)},s.prototype.sign=function(){return this.parsedPath||this.prepareRequest(),this.request.signQuery?this.parsedPath.query["X-Amz-Signature"]=this.signature():this.request.headers.Authorization=this.authHeader(),this.request.path=this.formatPath(),this.request},s.prototype.getDateTime=function(){if(!this.datetime){var e=this.request.headers,t=new Date(e.Date||e.date||new Date);this.datetime=t.toISOString().replace(/[:\-]|\.\d{3}/g,""),this.isCodeCommitGit&&(this.datetime=this.datetime.slice(0,-1))}return this.datetime},s.prototype.getDate=function(){return this.getDateTime().substr(0,8)},s.prototype.authHeader=function(){return["AWS4-HMAC-SHA256 Credential="+this.credentials.accessKeyId+"/"+this.credentialString(),"SignedHeaders="+this.signedHeaders(),"Signature="+this.signature()].join(", ")},s.prototype.signature=function(){var e,t,n,r=this.getDate(),o=[this.credentials.secretAccessKey,r,this.region,this.service].join(),a=f.get(o);return a||(e=i("AWS4"+this.credentials.secretAccessKey,r),t=i(e,this.region),n=i(t,this.service),a=i(n,"aws4_request"),f.set(o,a)),i(a,this.stringToSign(),"hex")},s.prototype.stringToSign=function(){return["AWS4-HMAC-SHA256",this.getDateTime(),this.credentialString(),o(this.canonicalString(),"hex")].join("\n")},s.prototype.canonicalString=function(){this.parsedPath||this.prepareRequest();var e,t=this.parsedPath.path,n=this.parsedPath.query,r=this.request.headers,i="",s="s3"!==this.service,c="s3"===this.service||this.request.doNotEncodePath,l="s3"===this.service,h="s3"===this.service;return e="s3"===this.service&&this.request.signQuery?"UNSIGNED-PAYLOAD":this.isCodeCommitGit?"":r["X-Amz-Content-Sha256"]||r["x-amz-content-sha256"]||o(this.request.body||"","hex"),n&&(i=a(u.stringify(Object.keys(n).sort().reduce(function(e,t){return t?(e[t]=Array.isArray(n[t])?h?n[t][0]:n[t].slice().sort():n[t],e):e},{})))),"/"!==t&&(s&&(t=t.replace(/\/{2,}/g,"/")),t=t.split("/").reduce(function(e,t){return s&&".."===t?e.pop():s&&"."===t||(c&&(t=u.unescape(t)),e.push(a(u.escape(t)))),e},[]).join("/"),"/"!==t[0]&&(t="/"+t),l&&(t=t.replace(/%2F/g,"/"))),[this.request.method||"GET",t,i,this.canonicalHeaders()+"\n",this.signedHeaders(),e].join("\n")},s.prototype.canonicalHeaders=function(){function e(e){return e.toString().trim().replace(/\s+/g," ")}var t=this.request.headers;return Object.keys(t).sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:1}).map(function(n){return n.toLowerCase()+":"+e(t[n])}).join("\n")},s.prototype.signedHeaders=function(){return Object.keys(this.request.headers).map(function(e){return e.toLowerCase()}).sort().join(";")},s.prototype.credentialString=function(){return[this.getDate(),this.region,this.service,"aws4_request"].join("/")},s.prototype.defaultCredentials=function(){var e=t.env;return{accessKeyId:e.AWS_ACCESS_KEY_ID||e.AWS_ACCESS_KEY,secretAccessKey:e.AWS_SECRET_ACCESS_KEY||e.AWS_SECRET_KEY,sessionToken:e.AWS_SESSION_TOKEN}},s.prototype.parsePath=function(){var e=this.request.path||"/",t=e.indexOf("?"),n=null;t>=0&&(n=u.parse(e.slice(t+1)),e=e.slice(0,t)),/[^0-9A-Za-z!'()*\-._~%\/]/.test(e)&&(e=e.split("/").map(function(e){return u.escape(u.unescape(e))}).join("/")),this.parsedPath={path:e,query:n}},s.prototype.formatPath=function(){var e=this.parsedPath.path,t=this.parsedPath.query;return t?(null!=t[""]&&delete t[""],e+"?"+a(u.stringify(t))):e},c.RequestSigner=s,c.sign=function(e,t){return new s(e,t).sign()}}).call(this,e("_process"),e("buffer").Buffer)},{"./lru":83,_process:352,buffer:131,crypto:133,querystring:367,url:143}],83:[function(e,t,n){function r(e){this.capacity=0|e,this.map=Object.create(null),this.list=new i}function i(){this.firstNode=null,this.lastNode=null}function o(e,t){this.key=e,this.val=t,this.prev=null,this.next=null}t.exports=function(e){return new r(e)},r.prototype.get=function(e){var t=this.map[e];if(null!=t)return this.used(t),t.val},r.prototype.set=function(e,t){var n=this.map[e];if(null!=n)n.val=t;else{if(this.capacity||this.prune(),!this.capacity)return!1;n=new o(e,t),this.map[e]=n,this.capacity--}return this.used(n),!0},r.prototype.used=function(e){this.list.moveToFront(e)},r.prototype.prune=function(){var e=this.list.pop();null!=e&&(delete this.map[e.key],this.capacity++)},i.prototype.moveToFront=function(e){this.firstNode!=e&&(this.remove(e),null==this.firstNode?(this.firstNode=e,this.lastNode=e,e.prev=null,e.next=null):(e.prev=null,e.next=this.firstNode,e.next.prev=e,this.firstNode=e))},i.prototype.pop=function(){var e=this.lastNode;return null!=e&&this.remove(e),e},i.prototype.remove=function(e){this.firstNode==e?this.firstNode=e.next:null!=e.prev&&(e.prev.next=e.next),this.lastNode==e?this.lastNode=e.prev:null!=e.next&&(e.next.prev=e.prev)}},{}],84:[function(e,t,n){"use strict";function r(e,t,n){return(e[0][t[n+3]]+e[1][t[n+2]]^e[2][t[n+1]])+e[3][t[n]]}function i(e,t){var n,r=0;for(n=0;n<4;n++,c++)c>=t&&(c=0),r=r<<8|e[c];return r}function o(e,t,n){var r,o=new l,a=new Uint32Array(u),s=new Uint8Array([79,120,121,99,104,114,111,109,97,116,105,99,66,108,111,119,102,105,115,104,83,119,97,116,68,121,110,97,109,105,116,101]);for(o.expandstate(t,64,e,64),r=0;r<64;r++)o.expand0state(t,64),o.expand0state(e,64);for(r=0;r<u;r++)a[r]=i(s,s.byteLength);for(r=0;r<64;r++)o.enc(a,a.byteLength/8);for(r=0;r<u;r++)n[4*r+3]=a[r]>>>24,n[4*r+2]=a[r]>>>16,n[4*r+1]=a[r]>>>8,n[4*r+0]=a[r]}function a(e,t,n,r,i,a,c){var l,u,d,f,p,m,g=new Uint8Array(64),v=new Uint8Array(64),b=new Uint8Array(h),y=new Uint8Array(h),w=new Uint8Array(r+4),_=a;if(c<1)return-1;if(0===t||0===r||0===a||a>b.byteLength*b.byteLength||r>1<<20)return-1;for(f=Math.floor((a+b.byteLength-1)/b.byteLength),d=Math.floor((a+f-1)/f),l=0;l<r;l++)w[l]=n[l];for(s(g,e,t),m=1;a>0;m++){for(w[r+0]=m>>>24,w[r+1]=m>>>16,w[r+2]=m>>>8,w[r+3]=m,s(v,w,r+4),o(g,v,y),l=b.byteLength;l--;)b[l]=y[l];for(l=1;l<c;l++)for(s(v,y,y.byteLength),o(g,v,y),u=0;u<b.byteLength;u++)b[u]^=y[u];for(d=Math.min(d,a),l=0;l<d&&(p=l*f+(m-1),!(p>=_));l++)i[p]=b[l];a-=l}return 0}var s=e("tweetnacl").lowlevel.crypto_hash,c=0,l=function(){this.S=[new Uint32Array([3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946]),new Uint32Array([1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055]),new Uint32Array([3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504]),new Uint32Array([976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462])],
this.P=new Uint32Array([608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731])};l.prototype.encipher=function(e,t){void 0===t&&(t=new Uint8Array(e.buffer),0!==e.byteOffset&&(t=t.subarray(e.byteOffset))),e[0]^=this.P[0];for(var n=1;n<16;n+=2)e[1]^=r(this.S,t,0)^this.P[n],e[0]^=r(this.S,t,4)^this.P[n+1];var i=e[0];e[0]=e[1]^this.P[17],e[1]=i},l.prototype.decipher=function(e){var t=new Uint8Array(e.buffer);0!==e.byteOffset&&(t=t.subarray(e.byteOffset)),e[0]^=this.P[17];for(var n=16;n>0;n-=2)e[1]^=r(this.S,t,0)^this.P[n],e[0]^=r(this.S,t,4)^this.P[n-1];var i=e[0];e[0]=e[1]^this.P[0],e[1]=i},l.prototype.expand0state=function(e,t){var n,r,o=new Uint32Array(2),a=new Uint8Array(o.buffer);for(n=0,c=0;n<18;n++)this.P[n]^=i(e,t);for(c=0,n=0;n<18;n+=2)this.encipher(o,a),this.P[n]=o[0],this.P[n+1]=o[1];for(n=0;n<4;n++)for(r=0;r<256;r+=2)this.encipher(o,a),this.S[n][r]=o[0],this.S[n][r+1]=o[1]},l.prototype.expandstate=function(e,t,n,r){var o,a,s=new Uint32Array(2);for(o=0,c=0;o<18;o++)this.P[o]^=i(n,r);for(o=0,c=0;o<18;o+=2)s[0]^=i(e,t),s[1]^=i(e,t),this.encipher(s),this.P[o]=s[0],this.P[o+1]=s[1];for(o=0;o<4;o++)for(a=0;a<256;a+=2)s[0]^=i(e,t),s[1]^=i(e,t),this.encipher(s),this.S[o][a]=s[0],this.S[o][a+1]=s[1];c=0},l.prototype.enc=function(e,t){for(var n=0;n<t;n++)this.encipher(e.subarray(2*n))},l.prototype.dec=function(e,t){for(var n=0;n<t;n++)this.decipher(e.subarray(2*n))};var u=8,h=32;t.exports={BLOCKS:u,HASHSIZE:h,hash:o,pbkdf:a}},{tweetnacl:440}],85:[function(e,t,n){!function(t,n){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){return o.isBN(e)?e:(this.negative=0,this.words=null,this.length=0,this.red=null,void(null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))))}function a(e,t,n){for(var r=0,i=Math.min(e.length,n),o=t;o<i;o++){var a=e.charCodeAt(o)-48;r<<=4,r|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return r}function s(e,t,n,r){for(var i=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}function c(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=(e.words[r]&1<<i)>>>i}return t}function l(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,c=a/67108864|0;n.words[0]=s;for(var l=1;l<r;l++){for(var u=c>>>26,h=67108863&c,d=Math.min(l,t.length-1),f=Math.max(0,l-e.length+1);f<=d;f++){var p=l-f|0;i=0|e.words[p],o=0|t.words[f],a=i*o+h,u+=a/67108864|0,h=67108863&a}n.words[l]=0|h,c=0|u}return 0!==c?n.words[l]=0|c:n.length--,n.strip()}function u(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,c=Math.min(o,t.length-1),l=Math.max(0,o-e.length+1);l<=c;l++){var u=o-l,h=0|e.words[u],d=0|t.words[l],f=h*d,p=67108863&f;a=a+(f/67108864|0)|0,p=p+s|0,s=67108863&p,a=a+(p>>>26)|0,i+=a>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}function h(e,t,n){var r=new d;return r.mulp(e,t,n)}function d(e,t){this.x=e,this.y=t}function f(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function p(){f.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function m(){f.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function g(){f.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function v(){f.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function b(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function y(e){b.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}"object"==typeof t?t.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var w;try{w=e("buffer").Buffer}catch(_){}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36),e=e.toString().replace(/\s+/g,"");var i=0;"-"===e[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,s+=24,s>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,s+=24,s>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,i,o=0;for(n=e.length-6,r=0;n>=t;n-=6)i=a(e,n,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303,o+=24,o>=26&&(o-=26,r++);n+6!==t&&(i=a(e,t,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,a=o%r,c=Math.min(o,o-a)+n,l=0,u=n;u<c;u+=r)l=s(e,u,u+r,t),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==a){var h=1;for(l=s(e,u,e.length,t),u=0;u<a;u++)h*=t;this.imuln(h),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],k=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){e=e||10,t=0|t||1;var n;if(16===e||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);o=s>>>24-i&16777215,n=0!==o||a!==this.length-1?x[6-c.length]+c+n:c+n,i+=2,i>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var l=k[e],u=S[e];n="";var h=this.clone();for(h.negative=0;!h.isZero();){var d=h.modn(u).toString(e);h=h.idivn(u),n=h.isZero()?d+n:x[l-d.length]+d+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return r("undefined"!=typeof w),this.toArrayLike(w,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,c="le"===t,l=new e(o),u=this.clone();if(c){for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-i;s++)l[s]=0;for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),l[o-s-1]=a}return l},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),t?this.words[n]=this.words[n]|1<<i:this.words[n]=this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();var n,r;this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;var r,i;n>0?(r=this,i=e):(r=e,i=this);for(var o=0,a=0;a<i.length;a++)t=(0|r.words[a])-(0|i.words[a])+o,o=t>>26,this.words[a]=67108863&t;for(;0!==o&&a<r.length;a++)t=(0|r.words[a])+o,o=t>>26,this.words[a]=67108863&t;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var j=function(e,t,n){var r,i,o,a=e.words,s=t.words,c=n.words,l=0,u=0|a[0],h=8191&u,d=u>>>13,f=0|a[1],p=8191&f,m=f>>>13,g=0|a[2],v=8191&g,b=g>>>13,y=0|a[3],w=8191&y,_=y>>>13,x=0|a[4],k=8191&x,S=x>>>13,j=0|a[5],P=8191&j,E=j>>>13,A=0|a[6],T=8191&A,C=A>>>13,M=0|a[7],O=8191&M,I=M>>>13,F=0|a[8],D=8191&F,L=F>>>13,R=0|a[9],N=8191&R,U=R>>>13,$=0|s[0],z=8191&$,B=$>>>13,q=0|s[1],V=8191&q,H=q>>>13,W=0|s[2],G=8191&W,Y=W>>>13,K=0|s[3],X=8191&K,Q=K>>>13,Z=0|s[4],J=8191&Z,ee=Z>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ce=8191&se,le=se>>>13,ue=0|s[8],he=8191&ue,de=ue>>>13,fe=0|s[9],pe=8191&fe,me=fe>>>13;n.negative=e.negative^t.negative,n.length=19,r=Math.imul(h,z),i=Math.imul(h,B),i=i+Math.imul(d,z)|0,o=Math.imul(d,B);var ge=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,z),i=Math.imul(p,B),i=i+Math.imul(m,z)|0,o=Math.imul(m,B),r=r+Math.imul(h,V)|0,i=i+Math.imul(h,H)|0,i=i+Math.imul(d,V)|0,o=o+Math.imul(d,H)|0;var ve=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(v,z),i=Math.imul(v,B),i=i+Math.imul(b,z)|0,o=Math.imul(b,B),r=r+Math.imul(p,V)|0,i=i+Math.imul(p,H)|0,i=i+Math.imul(m,V)|0,o=o+Math.imul(m,H)|0,r=r+Math.imul(h,G)|0,i=i+Math.imul(h,Y)|0,i=i+Math.imul(d,G)|0,o=o+Math.imul(d,Y)|0;var be=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(w,z),i=Math.imul(w,B),i=i+Math.imul(_,z)|0,o=Math.imul(_,B),r=r+Math.imul(v,V)|0,i=i+Math.imul(v,H)|0,i=i+Math.imul(b,V)|0,o=o+Math.imul(b,H)|0,r=r+Math.imul(p,G)|0,i=i+Math.imul(p,Y)|0,i=i+Math.imul(m,G)|0,o=o+Math.imul(m,Y)|0,r=r+Math.imul(h,X)|0,i=i+Math.imul(h,Q)|0,i=i+Math.imul(d,X)|0,o=o+Math.imul(d,Q)|0;var ye=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(k,z),i=Math.imul(k,B),i=i+Math.imul(S,z)|0,o=Math.imul(S,B),r=r+Math.imul(w,V)|0,i=i+Math.imul(w,H)|0,i=i+Math.imul(_,V)|0,o=o+Math.imul(_,H)|0,r=r+Math.imul(v,G)|0,i=i+Math.imul(v,Y)|0,i=i+Math.imul(b,G)|0,o=o+Math.imul(b,Y)|0,r=r+Math.imul(p,X)|0,i=i+Math.imul(p,Q)|0,i=i+Math.imul(m,X)|0,o=o+Math.imul(m,Q)|0,r=r+Math.imul(h,J)|0,i=i+Math.imul(h,ee)|0,i=i+Math.imul(d,J)|0,o=o+Math.imul(d,ee)|0;var we=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(P,z),i=Math.imul(P,B),i=i+Math.imul(E,z)|0,o=Math.imul(E,B),r=r+Math.imul(k,V)|0,i=i+Math.imul(k,H)|0,i=i+Math.imul(S,V)|0,o=o+Math.imul(S,H)|0,r=r+Math.imul(w,G)|0,i=i+Math.imul(w,Y)|0,i=i+Math.imul(_,G)|0,o=o+Math.imul(_,Y)|0,r=r+Math.imul(v,X)|0,i=i+Math.imul(v,Q)|0,i=i+Math.imul(b,X)|0,o=o+Math.imul(b,Q)|0,r=r+Math.imul(p,J)|0,i=i+Math.imul(p,ee)|0,i=i+Math.imul(m,J)|0,o=o+Math.imul(m,ee)|0,r=r+Math.imul(h,ne)|0,i=i+Math.imul(h,re)|0,i=i+Math.imul(d,ne)|0,o=o+Math.imul(d,re)|0;var _e=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(T,z),i=Math.imul(T,B),i=i+Math.imul(C,z)|0,o=Math.imul(C,B),r=r+Math.imul(P,V)|0,i=i+Math.imul(P,H)|0,i=i+Math.imul(E,V)|0,o=o+Math.imul(E,H)|0,r=r+Math.imul(k,G)|0,i=i+Math.imul(k,Y)|0,i=i+Math.imul(S,G)|0,o=o+Math.imul(S,Y)|0,r=r+Math.imul(w,X)|0,i=i+Math.imul(w,Q)|0,i=i+Math.imul(_,X)|0,o=o+Math.imul(_,Q)|0,r=r+Math.imul(v,J)|0,i=i+Math.imul(v,ee)|0,i=i+Math.imul(b,J)|0,o=o+Math.imul(b,ee)|0,r=r+Math.imul(p,ne)|0,i=i+Math.imul(p,re)|0,i=i+Math.imul(m,ne)|0,o=o+Math.imul(m,re)|0,r=r+Math.imul(h,oe)|0,i=i+Math.imul(h,ae)|0,i=i+Math.imul(d,oe)|0,o=o+Math.imul(d,ae)|0;var xe=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(O,z),i=Math.imul(O,B),i=i+Math.imul(I,z)|0,o=Math.imul(I,B),r=r+Math.imul(T,V)|0,i=i+Math.imul(T,H)|0,i=i+Math.imul(C,V)|0,o=o+Math.imul(C,H)|0,r=r+Math.imul(P,G)|0,i=i+Math.imul(P,Y)|0,i=i+Math.imul(E,G)|0,o=o+Math.imul(E,Y)|0,r=r+Math.imul(k,X)|0,i=i+Math.imul(k,Q)|0,i=i+Math.imul(S,X)|0,o=o+Math.imul(S,Q)|0,r=r+Math.imul(w,J)|0,i=i+Math.imul(w,ee)|0,i=i+Math.imul(_,J)|0,o=o+Math.imul(_,ee)|0,r=r+Math.imul(v,ne)|0,i=i+Math.imul(v,re)|0,i=i+Math.imul(b,ne)|0,o=o+Math.imul(b,re)|0,r=r+Math.imul(p,oe)|0,i=i+Math.imul(p,ae)|0,i=i+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0,r=r+Math.imul(h,ce)|0,i=i+Math.imul(h,le)|0,i=i+Math.imul(d,ce)|0,o=o+Math.imul(d,le)|0;var ke=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(D,z),i=Math.imul(D,B),i=i+Math.imul(L,z)|0,o=Math.imul(L,B),r=r+Math.imul(O,V)|0,i=i+Math.imul(O,H)|0,i=i+Math.imul(I,V)|0,o=o+Math.imul(I,H)|0,r=r+Math.imul(T,G)|0,i=i+Math.imul(T,Y)|0,i=i+Math.imul(C,G)|0,o=o+Math.imul(C,Y)|0,r=r+Math.imul(P,X)|0,i=i+Math.imul(P,Q)|0,i=i+Math.imul(E,X)|0,o=o+Math.imul(E,Q)|0,r=r+Math.imul(k,J)|0,i=i+Math.imul(k,ee)|0,i=i+Math.imul(S,J)|0,o=o+Math.imul(S,ee)|0,r=r+Math.imul(w,ne)|0,i=i+Math.imul(w,re)|0,i=i+Math.imul(_,ne)|0,o=o+Math.imul(_,re)|0,r=r+Math.imul(v,oe)|0,i=i+Math.imul(v,ae)|0,i=i+Math.imul(b,oe)|0,o=o+Math.imul(b,ae)|0,r=r+Math.imul(p,ce)|0,i=i+Math.imul(p,le)|0,i=i+Math.imul(m,ce)|0,o=o+Math.imul(m,le)|0,r=r+Math.imul(h,he)|0,i=i+Math.imul(h,de)|0,i=i+Math.imul(d,he)|0,o=o+Math.imul(d,de)|0;var Se=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(N,z),i=Math.imul(N,B),i=i+Math.imul(U,z)|0,o=Math.imul(U,B),r=r+Math.imul(D,V)|0,i=i+Math.imul(D,H)|0,i=i+Math.imul(L,V)|0,o=o+Math.imul(L,H)|0,r=r+Math.imul(O,G)|0,i=i+Math.imul(O,Y)|0,i=i+Math.imul(I,G)|0,o=o+Math.imul(I,Y)|0,r=r+Math.imul(T,X)|0,i=i+Math.imul(T,Q)|0,i=i+Math.imul(C,X)|0,o=o+Math.imul(C,Q)|0,r=r+Math.imul(P,J)|0,i=i+Math.imul(P,ee)|0,i=i+Math.imul(E,J)|0,o=o+Math.imul(E,ee)|0,r=r+Math.imul(k,ne)|0,i=i+Math.imul(k,re)|0,i=i+Math.imul(S,ne)|0,o=o+Math.imul(S,re)|0,r=r+Math.imul(w,oe)|0,i=i+Math.imul(w,ae)|0,i=i+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,r=r+Math.imul(v,ce)|0,i=i+Math.imul(v,le)|0,i=i+Math.imul(b,ce)|0,o=o+Math.imul(b,le)|0,r=r+Math.imul(p,he)|0,i=i+Math.imul(p,de)|0,i=i+Math.imul(m,he)|0,o=o+Math.imul(m,de)|0,r=r+Math.imul(h,pe)|0,i=i+Math.imul(h,me)|0,i=i+Math.imul(d,pe)|0,o=o+Math.imul(d,me)|0;var je=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(je>>>26)|0,je&=67108863,r=Math.imul(N,V),i=Math.imul(N,H),i=i+Math.imul(U,V)|0,o=Math.imul(U,H),r=r+Math.imul(D,G)|0,i=i+Math.imul(D,Y)|0,i=i+Math.imul(L,G)|0,o=o+Math.imul(L,Y)|0,r=r+Math.imul(O,X)|0,i=i+Math.imul(O,Q)|0,i=i+Math.imul(I,X)|0,o=o+Math.imul(I,Q)|0,r=r+Math.imul(T,J)|0,i=i+Math.imul(T,ee)|0,i=i+Math.imul(C,J)|0,o=o+Math.imul(C,ee)|0,r=r+Math.imul(P,ne)|0,i=i+Math.imul(P,re)|0,i=i+Math.imul(E,ne)|0,o=o+Math.imul(E,re)|0,r=r+Math.imul(k,oe)|0,i=i+Math.imul(k,ae)|0,i=i+Math.imul(S,oe)|0,o=o+Math.imul(S,ae)|0,r=r+Math.imul(w,ce)|0,i=i+Math.imul(w,le)|0,i=i+Math.imul(_,ce)|0,o=o+Math.imul(_,le)|0,r=r+Math.imul(v,he)|0,i=i+Math.imul(v,de)|0,i=i+Math.imul(b,he)|0,o=o+Math.imul(b,de)|0,r=r+Math.imul(p,pe)|0,i=i+Math.imul(p,me)|0,i=i+Math.imul(m,pe)|0,o=o+Math.imul(m,me)|0;var Pe=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(N,G),i=Math.imul(N,Y),i=i+Math.imul(U,G)|0,o=Math.imul(U,Y),r=r+Math.imul(D,X)|0,i=i+Math.imul(D,Q)|0,i=i+Math.imul(L,X)|0,o=o+Math.imul(L,Q)|0,r=r+Math.imul(O,J)|0,i=i+Math.imul(O,ee)|0,i=i+Math.imul(I,J)|0,o=o+Math.imul(I,ee)|0,r=r+Math.imul(T,ne)|0,i=i+Math.imul(T,re)|0,i=i+Math.imul(C,ne)|0,o=o+Math.imul(C,re)|0,r=r+Math.imul(P,oe)|0,i=i+Math.imul(P,ae)|0,i=i+Math.imul(E,oe)|0,o=o+Math.imul(E,ae)|0,r=r+Math.imul(k,ce)|0,i=i+Math.imul(k,le)|0,i=i+Math.imul(S,ce)|0,o=o+Math.imul(S,le)|0,r=r+Math.imul(w,he)|0,i=i+Math.imul(w,de)|0,i=i+Math.imul(_,he)|0,o=o+Math.imul(_,de)|0,r=r+Math.imul(v,pe)|0,i=i+Math.imul(v,me)|0,i=i+Math.imul(b,pe)|0,o=o+Math.imul(b,me)|0;var Ee=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(N,X),i=Math.imul(N,Q),i=i+Math.imul(U,X)|0,o=Math.imul(U,Q),r=r+Math.imul(D,J)|0,i=i+Math.imul(D,ee)|0,i=i+Math.imul(L,J)|0,o=o+Math.imul(L,ee)|0,r=r+Math.imul(O,ne)|0,i=i+Math.imul(O,re)|0,i=i+Math.imul(I,ne)|0,o=o+Math.imul(I,re)|0,r=r+Math.imul(T,oe)|0,i=i+Math.imul(T,ae)|0,i=i+Math.imul(C,oe)|0,o=o+Math.imul(C,ae)|0,r=r+Math.imul(P,ce)|0,i=i+Math.imul(P,le)|0,i=i+Math.imul(E,ce)|0,o=o+Math.imul(E,le)|0,r=r+Math.imul(k,he)|0,i=i+Math.imul(k,de)|0,i=i+Math.imul(S,he)|0,o=o+Math.imul(S,de)|0,r=r+Math.imul(w,pe)|0,i=i+Math.imul(w,me)|0,i=i+Math.imul(_,pe)|0,o=o+Math.imul(_,me)|0;var Ae=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(N,J),i=Math.imul(N,ee),i=i+Math.imul(U,J)|0,o=Math.imul(U,ee),r=r+Math.imul(D,ne)|0,i=i+Math.imul(D,re)|0,i=i+Math.imul(L,ne)|0,o=o+Math.imul(L,re)|0,r=r+Math.imul(O,oe)|0,i=i+Math.imul(O,ae)|0,i=i+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,r=r+Math.imul(T,ce)|0,i=i+Math.imul(T,le)|0,i=i+Math.imul(C,ce)|0,o=o+Math.imul(C,le)|0,r=r+Math.imul(P,he)|0,i=i+Math.imul(P,de)|0,i=i+Math.imul(E,he)|0,o=o+Math.imul(E,de)|0,r=r+Math.imul(k,pe)|0,i=i+Math.imul(k,me)|0,i=i+Math.imul(S,pe)|0,o=o+Math.imul(S,me)|0;var Te=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(N,ne),i=Math.imul(N,re),i=i+Math.imul(U,ne)|0,o=Math.imul(U,re),r=r+Math.imul(D,oe)|0,i=i+Math.imul(D,ae)|0,i=i+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,r=r+Math.imul(O,ce)|0,i=i+Math.imul(O,le)|0,i=i+Math.imul(I,ce)|0,o=o+Math.imul(I,le)|0,r=r+Math.imul(T,he)|0,i=i+Math.imul(T,de)|0,i=i+Math.imul(C,he)|0,o=o+Math.imul(C,de)|0,r=r+Math.imul(P,pe)|0,i=i+Math.imul(P,me)|0,i=i+Math.imul(E,pe)|0,o=o+Math.imul(E,me)|0;var Ce=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(N,oe),i=Math.imul(N,ae),i=i+Math.imul(U,oe)|0,o=Math.imul(U,ae),r=r+Math.imul(D,ce)|0,i=i+Math.imul(D,le)|0,i=i+Math.imul(L,ce)|0,o=o+Math.imul(L,le)|0,r=r+Math.imul(O,he)|0,i=i+Math.imul(O,de)|0,i=i+Math.imul(I,he)|0,o=o+Math.imul(I,de)|0,r=r+Math.imul(T,pe)|0,i=i+Math.imul(T,me)|0,i=i+Math.imul(C,pe)|0,o=o+Math.imul(C,me)|0;var Me=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(N,ce),i=Math.imul(N,le),i=i+Math.imul(U,ce)|0,o=Math.imul(U,le),r=r+Math.imul(D,he)|0,i=i+Math.imul(D,de)|0,i=i+Math.imul(L,he)|0,o=o+Math.imul(L,de)|0,r=r+Math.imul(O,pe)|0,i=i+Math.imul(O,me)|0,i=i+Math.imul(I,pe)|0,o=o+Math.imul(I,me)|0;var Oe=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(N,he),i=Math.imul(N,de),i=i+Math.imul(U,he)|0,o=Math.imul(U,de),r=r+Math.imul(D,pe)|0,i=i+Math.imul(D,me)|0,i=i+Math.imul(L,pe)|0,o=o+Math.imul(L,me)|0;var Ie=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(N,pe),i=Math.imul(N,me),i=i+Math.imul(U,pe)|0,o=Math.imul(U,me);var Fe=(l+r|0)+((8191&i)<<13)|0;return l=(o+(i>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,c[0]=ge,c[1]=ve,c[2]=be,c[3]=ye,c[4]=we,c[5]=_e,c[6]=xe,c[7]=ke,c[8]=Se,c[9]=je,c[10]=Pe,c[11]=Ee,c[12]=Ae,c[13]=Te,c[14]=Ce,c[15]=Me,c[16]=Oe,c[17]=Ie,c[18]=Fe,0!==l&&(c[19]=l,n.length++),n};Math.imul||(j=l),o.prototype.mulTo=function(e,t){var n,r=this.length+e.length;return n=10===this.length&&10===e.length?j(this,e,t):r<63?l(this,e,t):r<1024?u(this,e,t):h(this,e,t)},d.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},d.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},d.prototype.permute=function(e,t,n,r,i,o){for(var a=0;a<o;a++)r[a]=t[e[a]],i[a]=n[e[a]]},d.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),u=0;u<i;u+=s)for(var h=c,d=l,f=0;f<a;f++){var p=n[u+f],m=r[u+f],g=n[u+f+a],v=r[u+f+a],b=h*g-d*v;v=h*v+d*g,g=b,n[u+f]=p+g,r[u+f]=m+v,n[u+f+a]=p-g,r[u+f+a]=m-v,f!==s&&(b=c*h-l*d,d=c*d+l*h,h=b)}},d.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},d.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},d.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},d.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0===(o&-8192))},d.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},d.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),c=new Array(r),l=new Array(r),u=new Array(r),h=new Array(r),d=n.words;d.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,l,r),this.transform(a,o,s,c,r,i),this.transform(l,o,u,h,r,i);for(var f=0;f<r;f++){var p=s[f]*u[f]-c[f]*h[f];c[f]=s[f]*h[f]+c[f]*u[f],s[f]=p}return this.conjugate(s,c,r),this.transform(s,c,d,o,r,i),this.conjugate(d,o,r),this.normalize13b(d,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),h(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=c(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,c=(0|this.words[t])-s<<n;this.words[t]=c|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){r("number"==typeof e&&e>=0);var i;i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,c=n;if(i-=a,i=Math.max(0,i),c){for(var l=0;l<a;l++)c.words[l]=this.words[l];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=i);l--){var h=0|this.words[l];this.words[l]=u<<26-o|h>>>o,u=h&s}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return!1;var o=this.words[n];return!!(o&i)},o.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o=e.length+n;this._expand(o);var a,s=0;for(i=0;i<e.length;i++){a=(0|this.words[i+n])+s;var c=(0|e.words[i])*t;a-=67108863&c,s=(a>>26)-(c/67108864|0),this.words[i+n]=67108863&a}for(;i<this.length-n;i++)a=(0|this.words[i+n])+s,s=a>>26,this.words[i+n]=67108863&a;if(0===s)return this.strip();for(r(s===-1),s=0,i=0;i<this.length;i++)a=-(0|this.words[i])+s,s=a>>26,this.words[i]=67108863&a;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=this.length-e.length,r=this.clone(),i=e,a=0|i.words[i.length-1],s=this._countBits(a);n=26-s,0!==n&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var c,l=r.length-i.length;if("mod"!==t){
c=new o(null),c.length=l+1,c.words=new Array(c.length);for(var u=0;u<c.length;u++)c.words[u]=0}var h=r.clone()._ishlnsubmul(i,1,l);0===h.negative&&(r=h,c&&(c.words[l]=1));for(var d=l-1;d>=0;d--){var f=67108864*(0|r.words[i.length+d])+(0|r.words[i.length+d-1]);for(f=Math.min(f/a|0,67108863),r._ishlnsubmul(i,f,d);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,d),r.isZero()||(r.negative^=1);c&&(c.words[d]=f)}return c&&c.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:c||null,mod:r}},o.prototype.divmod=function(e,t,n){if(r(!e.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var i,a,s;return 0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t)},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},o.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),c=new o(1),l=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++l;for(var u=n.clone(),h=t.clone();!t.isZero();){for(var d=0,f=1;0===(t.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(u),a.isub(h)),i.iushrn(1),a.iushrn(1);for(var p=0,m=1;0===(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(u),c.isub(h)),s.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),a.isub(c)):(n.isub(t),s.isub(i),c.isub(a))}return{a:s,b:c,gcd:n.iushln(l)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;0===(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)i.isOdd()&&i.iadd(s),i.iushrn(1);for(var u=0,h=1;0===(n.words[0]&h)&&u<26;++u,h<<=1);if(u>0)for(n.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(s),a.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(a)):(n.isub(t),a.isub(i))}var d;return d=0===t.cmpn(1)?i:a,d.cmpn(0)<0&&d.iadd(e),d},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];s+=o,o=s>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t=e<0;if(0!==this.negative&&!t)return-1;if(0===this.negative&&t)return 1;this.strip();var n;if(this.length>1)n=1;else{t&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];n=i===e?0:i<e?-1:1}return 0!==this.negative?0|-n:n},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return this.cmpn(e)===-1},o.prototype.lt=function(e){return this.cmp(e)===-1},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new b(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var P={k256:null,p224:null,p192:null,p25519:null};f.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},f.prototype.ireduce=function(e){var t,n=e;do this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),t=n.bitLength();while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):n.strip(),n},f.prototype.split=function(e,t){e.iushrn(this.n,0,t)},f.prototype.imulK=function(e){return e.imul(this.k)},i(p,f),p.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&n)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},p.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(m,f),i(g,f),i(v,f),v.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function E(e){if(P[e])return P[e];var E;if("k256"===e)E=new p;else if("p224"===e)E=new m;else if("p192"===e)E=new g;else{if("p25519"!==e)throw new Error("Unknown prime "+e);E=new v}return P[e]=E,E},b.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},b.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},b.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},b.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},b.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},b.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},b.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},b.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},b.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},b.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},b.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},b.prototype.isqr=function(e){return this.imul(e,e.clone())},b.prototype.sqr=function(e){return this.mul(e,e)},b.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),c=s.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new o(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var h=this.pow(u,i),d=this.pow(e,i.addn(1).iushrn(1)),f=this.pow(e,i),p=a;0!==f.cmp(s);){for(var m=f,g=0;0!==m.cmp(s);g++)m=m.redSqr();r(g<p);var v=this.pow(h,new o(1).iushln(p-g-1));d=d.redMul(v),h=v.redSqr(),f=f.redMul(h),p=g}return d},b.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},b.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=4,r=new Array(1<<n);r[0]=new o(1).toRed(this),r[1]=e;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],e);var a=r[0],s=0,c=0,l=t.bitLength()%26;for(0===l&&(l=26),i=t.length-1;i>=0;i--){for(var u=t.words[i],h=l-1;h>=0;h--){var d=u>>h&1;a!==r[0]&&(a=this.sqr(a)),0!==d||0!==s?(s<<=1,s|=d,c++,(c===n||0===i&&0===h)&&(a=this.mul(a,r[s]),c=0,s=0)):c=0}l=26}return a},b.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},b.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new y(e)},i(y,b),y.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},y.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},y.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},y.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},y.prototype.invm=function(e){var t=this.imod(e._invmp(this.m).mul(this.r2));return t._forceRed(this)}}("undefined"==typeof t||t,this)},{buffer:100}],86:[function(e,t,n){e("../../js/transition.js"),e("../../js/alert.js"),e("../../js/button.js"),e("../../js/carousel.js"),e("../../js/collapse.js"),e("../../js/dropdown.js"),e("../../js/modal.js"),e("../../js/tooltip.js"),e("../../js/popover.js"),e("../../js/scrollspy.js"),e("../../js/tab.js"),e("../../js/affix.js")},{"../../js/affix.js":87,"../../js/alert.js":88,"../../js/button.js":89,"../../js/carousel.js":90,"../../js/collapse.js":91,"../../js/dropdown.js":92,"../../js/modal.js":93,"../../js/popover.js":94,"../../js/scrollspy.js":95,"../../js/tab.js":96,"../../js/tooltip.js":97,"../../js/transition.js":98}],87:[function(e,t,n){+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.affix"),o="object"==typeof t&&t;i||r.data("bs.affix",i=new n(this,o)),"string"==typeof t&&i[t]()})}var n=function(t,r){this.options=e.extend({},n.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,r){var i=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return i<n&&"top";if("bottom"==this.affixed)return null!=n?!(i+this.unpin<=o.top)&&"bottom":!(i+a<=e-r)&&"bottom";var s=null==this.affixed,c=s?i:o.top,l=s?a:t;return null!=n&&i<=n?"top":null!=r&&c+l>=e-r&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),r=this.options.offset,i=r.top,o=r.bottom,a=Math.max(e(document).height(),e(document.body).height());"object"!=typeof r&&(o=i=r),"function"==typeof i&&(i=r.top(this.$element)),"function"==typeof o&&(o=r.bottom(this.$element));var s=this.getState(a,t,i,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var c="affix"+(s?"-"+s:""),l=e.Event(c+".bs.affix");if(this.$element.trigger(l),l.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(c).trigger(c.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-t-o})}};var r=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),t.call(n,r)})})}(jQuery)},{}],88:[function(e,t,n){+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof t&&i[t].call(n)})}var n='[data-dismiss="alert"]',r=function(t){e(t).on("click",n,this.close)};r.VERSION="3.3.7",r.TRANSITION_DURATION=150,r.prototype.close=function(t){function n(){a.detach().trigger("closed.bs.alert").remove()}var i=e(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=e("#"===o?[]:o);t&&t.preventDefault(),a.length||(a=i.closest(".alert")),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(r.TRANSITION_DURATION):n())};var i=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery)},{}],89:[function(e,t,n){+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.button"),o="object"==typeof t&&t;i||r.data("bs.button",i=new n(this,o)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",o=r.data();t+="Text",null==o.resetText&&r.data("resetText",r[i]()),setTimeout(e.proxy(function(){r[i](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,r.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=e(n.target).closest(".btn");t.call(r,"toggle"),e(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),r.is("input,button")?r.trigger("focus"):r.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery)},{}],90:[function(e,t,n){+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),o=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t),a="string"==typeof t?t:o.slide;i||r.data("bs.carousel",i=new n(this,o)),"number"==typeof t?i.to(t):a?i[a]():o.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),r="prev"==e&&0===n||"next"==e&&n==this.$items.length-1;if(r&&!this.options.wrap)return t;var i="prev"==e?-1:1,o=(n+i)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(t,r){var i=this.$element.find(".item.active"),o=r||this.getItemForDirection(t,i),a=this.interval,s="next"==t?"left":"right",c=this;if(o.hasClass("active"))return this.sliding=!1;var l=o[0],u=e.Event("slide.bs.carousel",{relatedTarget:l,direction:s});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=e(this.$indicators.children()[this.getItemIndex(o)]);h&&h.addClass("active")}var d=e.Event("slid.bs.carousel",{relatedTarget:l,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one("bsTransitionEnd",function(){o.removeClass([t,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger(d)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(d)),a&&this.cycle(),this}};var r=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this};var i=function(n){var r,i=e(this),o=e(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=e.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(a.interval=!1),t.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery)},{}],91:[function(e,t,n){+function(e){"use strict";function t(t){var n,r=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(r)}function n(t){return this.each(function(){var n=e(this),i=n.data("bs.collapse"),o=e.extend({},r.DEFAULTS,n.data(),"object"==typeof t&&t);!i&&o.toggle&&/show|hide/.test(t)&&(o.toggle=!1),i||n.data("bs.collapse",i=new r(this,o)),"string"==typeof t&&i[t]()})}var r=function(t,n){this.$element=e(t),this.options=e.extend({},r.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.7",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(t=i.data("bs.collapse"),t&&t.transitioning))){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),t||i.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var c=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[a](this.$element[0][c])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION):i.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,r){var i=e(r);this.addAriaAndCollapsedClass(t(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=r,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var i=e(this);i.attr("data-target")||r.preventDefault();var o=t(i),a=o.data("bs.collapse"),s=a?"toggle":i.data();n.call(o,s)})}(jQuery)},{}],92:[function(e,t,n){+function(e){"use strict";function t(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}function n(n){n&&3===n.which||(e(i).remove(),e(o).each(function(){var r=e(this),i=t(r),o={relatedTarget:this};i.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(i[0],n.target)||(i.trigger(n=e.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger(e.Event("hidden.bs.dropdown",o)))))}))}function r(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new a(this)),"string"==typeof t&&r[t].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.7",a.prototype.toggle=function(r){var i=e(this);if(!i.is(".disabled, :disabled")){var o=t(i),a=o.hasClass("open");if(n(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",n);var s={relatedTarget:this};if(o.trigger(r=e.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(e.Event("shown.bs.dropdown",s))}return!1}},a.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var r=e(this);if(n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled")){var i=t(r),a=i.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&i.find(o).trigger("focus"),r.trigger("click");var s=" li:not(.disabled):visible a",c=i.find(".dropdown-menu"+s);if(c.length){var l=c.index(n.target);38==n.which&&l>0&&l--,40==n.which&&l<c.length-1&&l++,~l||(l=0),c.eq(l).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=r,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery)},{}],93:[function(e,t,n){+function(e){"use strict";function t(t,r){return this.each(function(){var i=e(this),o=i.data("bs.modal"),a=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);o||i.data("bs.modal",o=new n(this,a)),"string"==typeof t?o[t](r):a.show&&o.show(r)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var r=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in"),r.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});i?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var r=this,i=this.$element.hasClass("fade")?"fade":"";
if(this.isShown&&this.options.backdrop){var o=e.support.transition&&i;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){r.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=e(this),i=r.attr("href"),o=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),t.call(o,a,this)})}(jQuery)},{}],94:[function(e,t,n){+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.popover"),o="object"==typeof t&&t;!i&&/destroy|hide/.test(t)||(i||r.data("bs.popover",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.7",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var r=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=r,this}}(jQuery)},{}],95:[function(e,t,n){+function(e){"use strict";function t(n,r){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),o="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new t(this,o)),"string"==typeof n&&i[n]()})}t.VERSION="3.3.7",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),o=/^#./.test(i)&&e(i);return o&&o.length&&o.is(":visible")&&[[o[n]().top+r,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=r)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<i[0])return this.activeTarget=null,this.clear();for(e=i.length;e--;)a!=o[e]&&t>=i[e]&&(void 0===i[e+1]||t<i[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery)},{}],96:[function(e,t,n){+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(r);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(t,r,i){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var a=r.find("> .active"),s=i&&e.support.transition&&(a.length&&a.hasClass("fade")||!!r.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),a.removeClass("in")};var r=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var i=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery)},{}],97:[function(e,t,n){+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),o="object"==typeof t&&t;!i&&/destroy|hide/.test(t)||(i||r.data("bs.tooltip",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,r){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var a=i[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",c="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(c+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),!n.isInStateTrue())return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var r=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!r)return;var i=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,c=/\s?auto?\s?/i,l=c.test(s);l&&(s=s.replace(c,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),h=o[0].offsetWidth,d=o[0].offsetHeight;if(l){var f=s,p=this.getPosition(this.$viewport);s="bottom"==s&&u.bottom+d>p.bottom?"top":"top"==s&&u.top-d<p.top?"bottom":"right"==s&&u.right+h>p.width?"left":"left"==s&&u.left-h<p.left?"right":s,o.removeClass(f).addClass(s)}var m=this.getCalculatedOffset(s,u,h,d);this.applyPlacement(m,s);var g=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==e&&i.leave(i)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",g).emulateTransitionEnd(n.TRANSITION_DURATION):g()}},n.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top+=a,t.left+=s,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var c=r[0].offsetWidth,l=r[0].offsetHeight;"top"==n&&l!=o&&(t.top=t.top+o-l);var u=this.getViewportAdjustedDelta(n,t,c,l);u.left?t.left+=u.left:t.top+=u.top;var h=/top|bottom/.test(n),d=h?2*u.left-i+c:2*u.top-o+l,f=h?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(d,r[0][f],h)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function r(){"in"!=i.hoverState&&o.detach(),i.$element&&i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),t&&t()}var i=this,o=e(this.$tip),a=e.Event("hide.bs."+this.type);if(this.$element.trigger(a),!a.isDefaultPrevented())return o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),this.hoverState=null,this},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=e.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=window.SVGElement&&n instanceof window.SVGElement,a=r?{top:0,left:0}:o?null:t.offset(),s={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},c=r?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},i,s,c,a)},n.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,c=t.top+o-a.scroll+r;s<a.top?i.top=a.top-s:c>a.top+a.height&&(i.top=a.top+a.height-c)}else{var l=t.left-o,u=t.left+o+n;l<a.left?i.left=a.left-l:u>a.right&&(i.left=a.left+a.width-u)}return i},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})};var r=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=r,this}}(jQuery)},{}],98:[function(e,t,n){+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery)},{}],99:[function(e,t,n){function r(e){this.rand=e}var i;if(t.exports=function(e){return i||(i=new r(null)),i.generate(e)},t.exports.Rand=r,r.prototype.generate=function(e){return this._rand(e)},r.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(r.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=e("crypto");if("function"!=typeof o.randomBytes)throw new Error("Not supported");r.prototype._rand=function(e){return o.randomBytes(e)}}catch(a){}},{crypto:100}],100:[function(e,t,n){},{}],101:[function(e,t,n){function r(e){s.isBuffer(e)||(e=s.from(e));for(var t=e.length/4|0,n=new Array(t),r=0;r<t;r++)n[r]=e.readUInt32BE(4*r);return n}function i(e){for(var t=0;t<e.length;e++)e[t]=0}function o(e,t,n,r,i){for(var o,a,s,c,l=n[0],u=n[1],h=n[2],d=n[3],f=e[0]^t[0],p=e[1]^t[1],m=e[2]^t[2],g=e[3]^t[3],v=4,b=1;b<i;b++)o=l[f>>>24]^u[p>>>16&255]^h[m>>>8&255]^d[255&g]^t[v++],a=l[p>>>24]^u[m>>>16&255]^h[g>>>8&255]^d[255&f]^t[v++],s=l[m>>>24]^u[g>>>16&255]^h[f>>>8&255]^d[255&p]^t[v++],c=l[g>>>24]^u[f>>>16&255]^h[p>>>8&255]^d[255&m]^t[v++],f=o,p=a,m=s,g=c;return o=(r[f>>>24]<<24|r[p>>>16&255]<<16|r[m>>>8&255]<<8|r[255&g])^t[v++],a=(r[p>>>24]<<24|r[m>>>16&255]<<16|r[g>>>8&255]<<8|r[255&f])^t[v++],s=(r[m>>>24]<<24|r[g>>>16&255]<<16|r[f>>>8&255]<<8|r[255&p])^t[v++],c=(r[g>>>24]<<24|r[f>>>16&255]<<16|r[p>>>8&255]<<8|r[255&m])^t[v++],o>>>=0,a>>>=0,s>>>=0,c>>>=0,[o,a,s,c]}function a(e){this._key=r(e),this._reset()}var s=e("safe-buffer").Buffer,c=[0,1,2,4,8,16,32,64,128,27,54],l=function(){for(var e=new Array(256),t=0;t<256;t++)t<128?e[t]=t<<1:e[t]=t<<1^283;for(var n=[],r=[],i=[[],[],[],[]],o=[[],[],[],[]],a=0,s=0,c=0;c<256;++c){var l=s^s<<1^s<<2^s<<3^s<<4;l=l>>>8^255&l^99,n[a]=l,r[l]=a;var u=e[a],h=e[u],d=e[h],f=257*e[l]^16843008*l;i[0][a]=f<<24|f>>>8,i[1][a]=f<<16|f>>>16,i[2][a]=f<<8|f>>>24,i[3][a]=f,f=16843009*d^65537*h^257*u^16843008*a,o[0][l]=f<<24|f>>>8,o[1][l]=f<<16|f>>>16,o[2][l]=f<<8|f>>>24,o[3][l]=f,0===a?a=s=1:(a=u^e[e[e[d^u]]],s^=e[e[s]])}return{SBOX:n,INV_SBOX:r,SUB_MIX:i,INV_SUB_MIX:o}}();a.blockSize=16,a.keySize=32,a.prototype.blockSize=a.blockSize,a.prototype.keySize=a.keySize,a.prototype._reset=function(){for(var e=this._key,t=e.length,n=t+6,r=4*(n+1),i=[],o=0;o<t;o++)i[o]=e[o];for(o=t;o<r;o++){var a=i[o-1];o%t===0?(a=a<<8|a>>>24,a=l.SBOX[a>>>24]<<24|l.SBOX[a>>>16&255]<<16|l.SBOX[a>>>8&255]<<8|l.SBOX[255&a],a^=c[o/t|0]<<24):t>6&&o%t===4&&(a=l.SBOX[a>>>24]<<24|l.SBOX[a>>>16&255]<<16|l.SBOX[a>>>8&255]<<8|l.SBOX[255&a]),i[o]=i[o-t]^a}for(var s=[],u=0;u<r;u++){var h=r-u,d=i[h-(u%4?0:4)];u<4||h<=4?s[u]=d:s[u]=l.INV_SUB_MIX[0][l.SBOX[d>>>24]]^l.INV_SUB_MIX[1][l.SBOX[d>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[d>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&d]]}this._nRounds=n,this._keySchedule=i,this._invKeySchedule=s},a.prototype.encryptBlockRaw=function(e){return e=r(e),o(e,this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},a.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),n=s.allocUnsafe(16);return n.writeUInt32BE(t[0],0),n.writeUInt32BE(t[1],4),n.writeUInt32BE(t[2],8),n.writeUInt32BE(t[3],12),n},a.prototype.decryptBlock=function(e){e=r(e);var t=e[1];e[1]=e[3],e[3]=t;var n=o(e,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),i=s.allocUnsafe(16);return i.writeUInt32BE(n[0],0),i.writeUInt32BE(n[3],4),i.writeUInt32BE(n[2],8),i.writeUInt32BE(n[1],12),i},a.prototype.scrub=function(){i(this._keySchedule),i(this._invKeySchedule),i(this._key)},t.exports.AES=a},{"safe-buffer":383}],102:[function(e,t,n){function r(e,t){var n=0;e.length!==t.length&&n++;for(var r=Math.min(e.length,t.length),i=0;i<r;++i)n+=e[i]^t[i];return n}function i(e,t,n,r){s.call(this),this._finID=a.concat([n,a.from([0,0,0,1])]),n=a.concat([n,a.from([0,0,0,2])]),this._cipher=new o.AES(t),this._prev=a.from(n),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=r,this._alen=0,this._len=0,this._mode=e;var i=a.alloc(4,0);this._ghash=new l(this._cipher.encryptBlock(i)),this._authTag=null,this._called=!1}var o=e("./aes"),a=e("safe-buffer").Buffer,s=e("cipher-base"),c=e("inherits"),l=e("./ghash"),u=e("buffer-xor");c(i,s),i.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=a.alloc(t,0),this._ghash.update(t))}this._called=!0;var n=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(n),this._len+=e.length,n},i.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=u(this._ghash["final"](8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&r(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},i.prototype.getAuthTag=function(){if(this._decrypt||!a.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},i.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},i.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},t.exports=i},{"./aes":101,"./ghash":106,"buffer-xor":144,"cipher-base":200,inherits:299,"safe-buffer":383}],103:[function(e,t,n){function r(){return Object.keys(a)}var i=e("./encrypter"),o=e("./decrypter"),a=e("./modes/list.json");n.createCipher=n.Cipher=i.createCipher,n.createCipheriv=n.Cipheriv=i.createCipheriv,n.createDecipher=n.Decipher=o.createDecipher,n.createDecipheriv=n.Decipheriv=o.createDecipheriv,n.listCiphers=n.getCiphers=r},{"./decrypter":104,"./encrypter":105,"./modes/list.json":114}],104:[function(e,t,n){function r(e,t,n){d.call(this),this._cache=new i,this._last=void 0,this._cipher=new f.AES(t),this._prev=l.from(n),this._mode=e,this._autopadding=!0}function i(){this.cache=l.allocUnsafe(0)}function o(e){for(var t=e[15],n=-1;++n<t;)if(e[n+(16-t)]!==t)throw new Error("unable to decrypt data");if(16!==t)return e.slice(0,16-t)}function a(e,t,n){var i=u[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof n&&(n=l.from(n)),n.length!==i.iv)throw new TypeError("invalid iv length "+n.length);if("string"==typeof t&&(t=l.from(t)),t.length!==i.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===i.type?new h(i.module,t,n,(!0)):"auth"===i.type?new c(i.module,t,n,(!0)):new r(i.module,t,n)}function s(e,t){var n=u[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=p(t,!1,n.key,n.iv);return a(e,r.key,r.iv)}var c=e("./authCipher"),l=e("safe-buffer").Buffer,u=e("./modes"),h=e("./streamCipher"),d=e("cipher-base"),f=e("./aes"),p=e("evp_bytestokey"),m=e("inherits");m(r,d),r.prototype._update=function(e){this._cache.add(e);for(var t,n,r=[];t=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,t),r.push(n);return l.concat(r)},r.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return o(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},r.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},i.prototype.add=function(e){this.cache=l.concat([this.cache,e])},i.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},i.prototype.flush=function(){if(this.cache.length)return this.cache},n.createDecipher=s,n.createDecipheriv=a},{"./aes":101,"./authCipher":102,"./modes":113,"./streamCipher":116,"cipher-base":200,evp_bytestokey:245,inherits:299,"safe-buffer":383}],105:[function(e,t,n){function r(e,t,n){h.call(this),this._cache=new i,this._cipher=new d.AES(t),this._prev=l.from(n),this._mode=e,this._autopadding=!0}function i(){this.cache=l.allocUnsafe(0)}function o(e,t,n){var i=s[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=l.from(t)),t.length!==i.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof n&&(n=l.from(n)),n.length!==i.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===i.type?new u(i.module,t,n):"auth"===i.type?new c(i.module,t,n):new r(i.module,t,n)}function a(e,t){var n=s[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=f(t,!1,n.key,n.iv);return o(e,r.key,r.iv)}var s=e("./modes"),c=e("./authCipher"),l=e("safe-buffer").Buffer,u=e("./streamCipher"),h=e("cipher-base"),d=e("./aes"),f=e("evp_bytestokey"),p=e("inherits");p(r,h),r.prototype._update=function(e){this._cache.add(e);for(var t,n,r=[];t=this._cache.get();)n=this._mode.encrypt(this,t),r.push(n);return l.concat(r)};var m=l.alloc(16,16);r.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(m))throw this._cipher.scrub(),new Error("data not multiple of block length")},r.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},i.prototype.add=function(e){this.cache=l.concat([this.cache,e])},i.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},i.prototype.flush=function(){for(var e=16-this.cache.length,t=l.allocUnsafe(e),n=-1;++n<e;)t.writeUInt8(e,n);return l.concat([this.cache,t])},n.createCipheriv=o,n.createCipher=a},{"./aes":101,"./authCipher":102,"./modes":113,"./streamCipher":116,"cipher-base":200,evp_bytestokey:245,inherits:299,"safe-buffer":383}],106:[function(e,t,n){function r(e){return[e.readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)]}function i(e){var t=a.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function o(e){this.h=e,this.state=a.alloc(16,0),this.cache=a.allocUnsafe(0)}var a=e("safe-buffer").Buffer,s=a.alloc(16,0);o.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},o.prototype._multiply=function(){for(var e,t,n,o=r(this.h),a=[0,0,0,0],s=-1;++s<128;){for(t=0!==(this.state[~~(s/8)]&1<<7-s%8),t&&(a[0]^=o[0],a[1]^=o[1],a[2]^=o[2],a[3]^=o[3]),n=0!==(1&o[3]),e=3;e>0;e--)o[e]=o[e]>>>1|(1&o[e-1])<<31;o[0]=o[0]>>>1,n&&(o[0]=o[0]^225<<24)}this.state=i(a)},o.prototype.update=function(e){this.cache=a.concat([this.cache,e]);for(var t;this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},o.prototype["final"]=function(e,t){return this.cache.length&&this.ghash(a.concat([this.cache,s],16)),this.ghash(i([0,e,0,t])),this.state},t.exports=o},{"safe-buffer":383}],107:[function(e,t,n){var r=e("buffer-xor");n.encrypt=function(e,t){var n=r(t,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},n.decrypt=function(e,t){var n=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return r(i,n)}},{"buffer-xor":144}],108:[function(e,t,n){function r(e,t,n){var r=t.length,a=o(t,e._cache);return e._cache=e._cache.slice(r),e._prev=i.concat([e._prev,n?t:a]),a}var i=e("safe-buffer").Buffer,o=e("buffer-xor");n.encrypt=function(e,t,n){for(var o,a=i.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=i.allocUnsafe(0)),!(e._cache.length<=t.length)){a=i.concat([a,r(e,t,n)]);break}o=e._cache.length,a=i.concat([a,r(e,t.slice(0,o),n)]),t=t.slice(o)}return a}},{"buffer-xor":144,"safe-buffer":383}],109:[function(e,t,n){function r(e,t,n){for(var r,o,a,s=-1,c=8,l=0;++s<c;)r=e._cipher.encryptBlock(e._prev),o=t&1<<7-s?128:0,a=r[0]^o,l+=(128&a)>>s%8,e._prev=i(e._prev,n?o:a);return l}function i(e,t){var n=e.length,r=-1,i=o.allocUnsafe(e.length);for(e=o.concat([e,o.from([t])]);++r<n;)i[r]=e[r]<<1|e[r+1]>>7;return i}var o=e("safe-buffer").Buffer;n.encrypt=function(e,t,n){for(var i=t.length,a=o.allocUnsafe(i),s=-1;++s<i;)a[s]=r(e,t[s],n);return a}},{"safe-buffer":383}],110:[function(e,t,n){(function(e){function t(t,n,r){var i=t._cipher.encryptBlock(t._prev),o=i[0]^n;return t._prev=e.concat([t._prev.slice(1),e.from([r?n:o])]),o}n.encrypt=function(n,r,i){for(var o=r.length,a=e.allocUnsafe(o),s=-1;++s<o;)a[s]=t(n,r[s],i);return a}}).call(this,e("buffer").Buffer)},{buffer:131}],111:[function(e,t,n){(function(t){function r(e){for(var t,n=e.length;n--;){if(t=e.readUInt8(n),255!==t){t++,e.writeUInt8(t,n);break}e.writeUInt8(0,n)}}function i(e){var t=e._cipher.encryptBlockRaw(e._prev);return r(e._prev),t}var o=e("buffer-xor"),a=16;n.encrypt=function(e,n){var r=Math.ceil(n.length/a),s=e._cache.length;e._cache=t.concat([e._cache,t.allocUnsafe(r*a)]);for(var c=0;c<r;c++){var l=i(e),u=s+c*a;e._cache.writeUInt32BE(l[0],u+0),e._cache.writeUInt32BE(l[1],u+4),e._cache.writeUInt32BE(l[2],u+8),e._cache.writeUInt32BE(l[3],u+12)}var h=e._cache.slice(0,n.length);return e._cache=e._cache.slice(n.length),o(n,h)}}).call(this,e("buffer").Buffer)},{buffer:131,"buffer-xor":144}],112:[function(e,t,n){n.encrypt=function(e,t){return e._cipher.encryptBlock(t)},n.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},{}],113:[function(e,t,n){var r={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},i=e("./list.json");for(var o in i)i[o].module=r[i[o].mode];
t.exports=i},{"./cbc":107,"./cfb":108,"./cfb1":109,"./cfb8":110,"./ctr":111,"./ecb":112,"./list.json":114,"./ofb":115}],114:[function(e,t,n){t.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],115:[function(e,t,n){(function(t){function r(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}var i=e("buffer-xor");n.encrypt=function(e,n){for(;e._cache.length<n.length;)e._cache=t.concat([e._cache,r(e)]);var o=e._cache.slice(0,n.length);return e._cache=e._cache.slice(n.length),i(n,o)}}).call(this,e("buffer").Buffer)},{buffer:131,"buffer-xor":144}],116:[function(e,t,n){function r(e,t,n,r){a.call(this),this._cipher=new i.AES(t),this._prev=o.from(n),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=r,this._mode=e}var i=e("./aes"),o=e("safe-buffer").Buffer,a=e("cipher-base"),s=e("inherits");s(r,a),r.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},r.prototype._final=function(){this._cipher.scrub()},t.exports=r},{"./aes":101,"cipher-base":200,inherits:299,"safe-buffer":383}],117:[function(e,t,n){function r(e,t){var n,r;if(e=e.toLowerCase(),d[e])n=d[e].key,r=d[e].iv;else{if(!h[e])throw new TypeError("invalid suite type");n=8*h[e].key,r=h[e].iv}var i=c(t,!1,n,r);return o(e,i.key,i.iv)}function i(e,t){var n,r;if(e=e.toLowerCase(),d[e])n=d[e].key,r=d[e].iv;else{if(!h[e])throw new TypeError("invalid suite type");n=8*h[e].key,r=h[e].iv}var i=c(t,!1,n,r);return a(e,i.key,i.iv)}function o(e,t,n){if(e=e.toLowerCase(),d[e])return l.createCipheriv(e,t,n);if(h[e])return new u({key:t,iv:n,mode:e});throw new TypeError("invalid suite type")}function a(e,t,n){if(e=e.toLowerCase(),d[e])return l.createDecipheriv(e,t,n);if(h[e])return new u({key:t,iv:n,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}function s(){return Object.keys(h).concat(l.getCiphers())}var c=e("evp_bytestokey"),l=e("browserify-aes/browser"),u=e("browserify-des"),h=e("browserify-des/modes"),d=e("browserify-aes/modes");n.createCipher=n.Cipher=r,n.createCipheriv=n.Cipheriv=o,n.createDecipher=n.Decipher=i,n.createDecipheriv=n.Decipheriv=a,n.listCiphers=n.getCiphers=s},{"browserify-aes/browser":103,"browserify-aes/modes":113,"browserify-des":118,"browserify-des/modes":119,evp_bytestokey:245}],118:[function(e,t,n){(function(n){function r(e){i.call(this);var t,r=e.mode.toLowerCase(),o=s[r];t=e.decrypt?"decrypt":"encrypt";var a=e.key;"des-ede"!==r&&"des-ede-cbc"!==r||(a=n.concat([a,a.slice(0,8)]));var c=e.iv;this._des=o.create({key:a,iv:c,type:t})}var i=e("cipher-base"),o=e("des.js"),a=e("inherits"),s={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],t.exports=r,a(r,i),r.prototype._update=function(e){return new n(this._des.update(e))},r.prototype._final=function(){return new n(this._des["final"]())}}).call(this,e("buffer").Buffer)},{buffer:131,"cipher-base":200,"des.js":215,inherits:299}],119:[function(e,t,n){n["des-ecb"]={key:8,iv:0},n["des-cbc"]=n.des={key:8,iv:8},n["des-ede3-cbc"]=n.des3={key:24,iv:8},n["des-ede3"]={key:24,iv:0},n["des-ede-cbc"]={key:16,iv:8},n["des-ede"]={key:16,iv:0}},{}],120:[function(e,t,n){(function(n){function r(e){var t=o(e),n=t.toRed(a.mont(e.modulus)).redPow(new a(e.publicExponent)).fromRed();return{blinder:n,unblinder:t.invm(e.modulus)}}function i(e,t){var i=r(t),o=t.modulus.byteLength(),s=(a.mont(t.modulus),new a(e).mul(i.blinder).umod(t.modulus)),c=s.toRed(a.mont(t.prime1)),l=s.toRed(a.mont(t.prime2)),u=t.coefficient,h=t.prime1,d=t.prime2,f=c.redPow(t.exponent1),p=l.redPow(t.exponent2);f=f.fromRed(),p=p.fromRed();var m=f.isub(p).imul(u).umod(h);return m.imul(d),p.iadd(m),new n(p.imul(i.unblinder).umod(t.modulus).toArray(!1,o))}function o(e){for(var t=e.modulus.byteLength(),n=new a(s(t));n.cmp(e.modulus)>=0||!n.umod(e.prime1)||!n.umod(e.prime2);)n=new a(s(t));return n}var a=e("bn.js"),s=e("randombytes");t.exports=i,i.getr=o}).call(this,e("buffer").Buffer)},{"bn.js":85,buffer:131,randombytes:368}],121:[function(e,t,n){t.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":122}],122:[function(e,t,n){t.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],123:[function(e,t,n){t.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],124:[function(e,t,n){(function(n){function r(e){c.Writable.call(this);var t=d[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=s(t.hash),this._tag=t.id,this._signType=t.sign}function i(e){c.Writable.call(this);var t=d[e];if(!t)throw new Error("Unknown message digest");this._hash=s(t.hash),this._tag=t.id,this._signType=t.sign}function o(e){return new r(e)}function a(e){return new i(e)}var s=e("create-hash"),c=e("stream"),l=e("inherits"),u=e("./sign"),h=e("./verify"),d=e("./algorithms.json");Object.keys(d).forEach(function(e){d[e].id=new n(d[e].id,"hex"),d[e.toLowerCase()]=d[e]}),l(r,c.Writable),r.prototype._write=function(e,t,n){this._hash.update(e),n()},r.prototype.update=function(e,t){return"string"==typeof e&&(e=new n(e,t)),this._hash.update(e),this},r.prototype.sign=function(e,t){this.end();var n=this._hash.digest(),r=u(n,e,this._hashType,this._signType,this._tag);return t?r.toString(t):r},l(i,c.Writable),i.prototype._write=function(e,t,n){this._hash.update(e),n()},i.prototype.update=function(e,t){return"string"==typeof e&&(e=new n(e,t)),this._hash.update(e),this},i.prototype.verify=function(e,t,r){"string"==typeof t&&(t=new n(t,r)),this.end();var i=this._hash.digest();return h(t,i,e,this._signType,this._tag)},t.exports={Sign:o,Verify:a,createSign:o,createVerify:a}}).call(this,e("buffer").Buffer)},{"./algorithms.json":122,"./sign":125,"./verify":126,buffer:131,"create-hash":209,inherits:299,stream:416}],125:[function(e,t,n){(function(n){function r(e,t,r,a,s){var c=g(t);if(c.curve){if("ecdsa"!==a&&"ecdsa/rsa"!==a)throw new Error("wrong private key type");return i(e,c)}if("dsa"===c.type){if("dsa"!==a)throw new Error("wrong private key type");return o(e,c,r)}if("rsa"!==a&&"ecdsa/rsa"!==a)throw new Error("wrong private key type");e=n.concat([s,e]);for(var l=c.modulus.byteLength(),u=[0,1];e.length+u.length+1<l;)u.push(255);u.push(0);for(var h=-1;++h<e.length;)u.push(e[h]);var d=f(u,c);return d}function i(e,t){var r=v[t.curve.join(".")];if(!r)throw new Error("unknown curve "+t.curve.join("."));var i=new p(r),o=i.keyFromPrivate(t.privateKey),a=o.sign(e);return new n(a.toDER())}function o(e,t,n){for(var r,i=t.params.priv_key,o=t.params.p,l=t.params.q,d=t.params.g,f=new m(0),p=c(e,l).mod(l),g=!1,v=s(i,l,e,n);g===!1;)r=u(l,v,n),f=h(d,r,o,l),g=r.invm(l).imul(p.add(i.mul(f))).mod(l),0===g.cmpn(0)&&(g=!1,f=new m(0));return a(f,g)}function a(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e)),128&t[0]&&(t=[0].concat(t));var r=e.length+t.length+4,i=[48,r,2,e.length];return i=i.concat(e,[2,t.length],t),new n(i)}function s(e,t,r,i){if(e=new n(e.toArray()),e.length<t.byteLength()){var o=new n(t.byteLength()-e.length);o.fill(0),e=n.concat([o,e])}var a=r.length,s=l(r,t),c=new n(a);c.fill(1);var u=new n(a);return u.fill(0),u=d(i,u).update(c).update(new n([0])).update(e).update(s).digest(),c=d(i,u).update(c).digest(),u=d(i,u).update(c).update(new n([1])).update(e).update(s).digest(),c=d(i,u).update(c).digest(),{k:u,v:c}}function c(e,t){var n=new m(e),r=(e.length<<3)-t.bitLength();return r>0&&n.ishrn(r),n}function l(e,t){e=c(e,t),e=e.mod(t);var r=new n(e.toArray());if(r.length<t.byteLength()){var i=new n(t.byteLength()-r.length);i.fill(0),r=n.concat([i,r])}return r}function u(e,t,r){var i,o;do{for(i=new n(0);8*i.length<e.bitLength();)t.v=d(r,t.k).update(t.v).digest(),i=n.concat([i,t.v]);o=c(i,e),t.k=d(r,t.k).update(t.v).update(new n([0])).digest(),t.v=d(r,t.k).update(t.v).digest()}while(o.cmp(e)!==-1);return o}function h(e,t,n,r){return e.toRed(m.mont(n)).redPow(t).fromRed().mod(r)}var d=e("create-hmac"),f=e("browserify-rsa"),p=e("elliptic").ec,m=e("bn.js"),g=e("parse-asn1"),v=e("./curves.json");t.exports=r,t.exports.getKey=s,t.exports.makeKey=u}).call(this,e("buffer").Buffer)},{"./curves.json":123,"bn.js":85,"browserify-rsa":120,buffer:131,"create-hmac":212,elliptic:228,"parse-asn1":342}],126:[function(e,t,n){(function(n){function r(e,t,r,a,c){var u=l(r);if("ec"===u.type){if("ecdsa"!==a&&"ecdsa/rsa"!==a)throw new Error("wrong public key type");return i(e,t,u)}if("dsa"===u.type){if("dsa"!==a)throw new Error("wrong public key type");return o(e,t,u)}if("rsa"!==a&&"ecdsa/rsa"!==a)throw new Error("wrong public key type");t=n.concat([c,t]);for(var h=u.modulus.byteLength(),d=[1],f=0;t.length+d.length+2<h;)d.push(255),f++;d.push(0);for(var p=-1;++p<t.length;)d.push(t[p]);d=new n(d);var m=s.mont(u.modulus);e=new s(e).toRed(m),e=e.redPow(new s(u.publicExponent)),e=new n(e.fromRed().toArray());var g=f<8?1:0;for(h=Math.min(e.length,d.length),e.length!==d.length&&(g=1),p=-1;++p<h;)g|=e[p]^d[p];return 0===g}function i(e,t,n){var r=u[n.data.algorithm.curve.join(".")];if(!r)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var i=new c(r),o=n.data.subjectPrivateKey.data;return i.verify(t,e,o)}function o(e,t,n){var r=n.data.p,i=n.data.q,o=n.data.g,c=n.data.pub_key,u=l.signature.decode(e,"der"),h=u.s,d=u.r;a(h,i),a(d,i);var f=s.mont(r),p=h.invm(i),m=o.toRed(f).redPow(new s(t).mul(p).mod(i)).fromRed().mul(c.toRed(f).redPow(d.mul(p).mod(i)).fromRed()).mod(r).mod(i);return 0===m.cmp(d)}function a(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}var s=e("bn.js"),c=e("elliptic").ec,l=e("parse-asn1"),u=e("./curves.json");t.exports=r}).call(this,e("buffer").Buffer)},{"./curves.json":123,"bn.js":85,buffer:131,elliptic:228,"parse-asn1":342}],127:[function(e,t,n){(function(t,r){function i(e){if(e<n.DEFLATE||e>n.UNZIP)throw new TypeError("Bad argument");this.mode=e,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}function o(e,t){for(var n=0;n<e.length;n++)this[t+n]=e[n]}var a=e("pako/lib/zlib/messages"),s=e("pako/lib/zlib/zstream"),c=e("pako/lib/zlib/deflate.js"),l=e("pako/lib/zlib/inflate.js"),u=e("pako/lib/zlib/constants");for(var h in u)n[h]=u[h];n.NONE=0,n.DEFLATE=1,n.INFLATE=2,n.GZIP=3,n.GUNZIP=4,n.DEFLATERAW=5,n.INFLATERAW=6,n.UNZIP=7,i.prototype.init=function(e,t,r,i,o){switch(this.windowBits=e,this.level=t,this.memLevel=r,this.strategy=i,this.mode!==n.GZIP&&this.mode!==n.GUNZIP||(this.windowBits+=16),this.mode===n.UNZIP&&(this.windowBits+=32),this.mode!==n.DEFLATERAW&&this.mode!==n.INFLATERAW||(this.windowBits=-this.windowBits),this.strm=new s,this.mode){case n.DEFLATE:case n.GZIP:case n.DEFLATERAW:var a=c.deflateInit2(this.strm,this.level,n.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case n.INFLATE:case n.GUNZIP:case n.INFLATERAW:case n.UNZIP:var a=l.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}return a!==n.Z_OK?void this._error(a):(this.write_in_progress=!1,void(this.init_done=!0))},i.prototype.params=function(){throw new Error("deflateParams Not supported")},i.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===n.NONE)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")},i.prototype.write=function(e,n,r,i,o,a,s){this._writeCheck(),this.write_in_progress=!0;var c=this;return t.nextTick(function(){c.write_in_progress=!1;var t=c._write(e,n,r,i,o,a,s);c.callback(t[0],t[1]),c.pending_close&&c.close()}),this},i.prototype.writeSync=function(e,t,n,r,i,o,a){return this._writeCheck(),this._write(e,t,n,r,i,o,a)},i.prototype._write=function(e,t,i,a,s,u,h){if(this.write_in_progress=!0,e!==n.Z_NO_FLUSH&&e!==n.Z_PARTIAL_FLUSH&&e!==n.Z_SYNC_FLUSH&&e!==n.Z_FULL_FLUSH&&e!==n.Z_FINISH&&e!==n.Z_BLOCK)throw new Error("Invalid flush value");null==t&&(t=new r(0),a=0,i=0),s._set?s.set=s._set:s.set=o;var d=this.strm;switch(d.avail_in=a,d.input=t,d.next_in=i,d.avail_out=h,d.output=s,d.next_out=u,this.mode){case n.DEFLATE:case n.GZIP:case n.DEFLATERAW:var f=c.deflate(d,e);break;case n.UNZIP:case n.INFLATE:case n.GUNZIP:case n.INFLATERAW:var f=l.inflate(d,e);break;default:throw new Error("Unknown mode "+this.mode)}return f!==n.Z_STREAM_END&&f!==n.Z_OK&&this._error(f),this.write_in_progress=!1,[d.avail_in,d.avail_out]},i.prototype.close=function(){return this.write_in_progress?void(this.pending_close=!0):(this.pending_close=!1,this.mode===n.DEFLATE||this.mode===n.GZIP||this.mode===n.DEFLATERAW?c.deflateEnd(this.strm):l.inflateEnd(this.strm),void(this.mode=n.NONE))},i.prototype.reset=function(){switch(this.mode){case n.DEFLATE:case n.DEFLATERAW:var e=c.deflateReset(this.strm);break;case n.INFLATE:case n.INFLATERAW:var e=l.inflateReset(this.strm)}e!==n.Z_OK&&this._error(e)},i.prototype._error=function(e){this.onerror(a[e]+": "+this.strm.msg,e),this.write_in_progress=!1,this.pending_close&&this.close()},n.Zlib=i}).call(this,e("_process"),e("buffer").Buffer)},{_process:352,buffer:131,"pako/lib/zlib/constants":329,"pako/lib/zlib/deflate.js":331,"pako/lib/zlib/inflate.js":333,"pako/lib/zlib/messages":335,"pako/lib/zlib/zstream":337}],128:[function(e,t,n){(function(t,r){function i(e,t,n){function i(){for(var t;null!==(t=e.read());)s.push(t),c+=t.length;e.once("readable",i)}function o(t){e.removeListener("end",a),e.removeListener("readable",i),n(t)}function a(){var t=r.concat(s,c);s=[],n(null,t),e.close()}var s=[],c=0;e.on("error",o),e.on("end",a),e.end(t),i()}function o(e,t){if("string"==typeof t&&(t=new r(t)),!r.isBuffer(t))throw new TypeError("Not a string or buffer");var n=m.Z_FINISH;return e._processChunk(t,n)}function a(e){return this instanceof a?void f.call(this,e,m.DEFLATE):new a(e)}function s(e){return this instanceof s?void f.call(this,e,m.INFLATE):new s(e)}function c(e){return this instanceof c?void f.call(this,e,m.GZIP):new c(e)}function l(e){return this instanceof l?void f.call(this,e,m.GUNZIP):new l(e)}function u(e){return this instanceof u?void f.call(this,e,m.DEFLATERAW):new u(e)}function h(e){return this instanceof h?void f.call(this,e,m.INFLATERAW):new h(e)}function d(e){return this instanceof d?void f.call(this,e,m.UNZIP):new d(e)}function f(e,t){if(this._opts=e=e||{},this._chunkSize=e.chunkSize||n.Z_DEFAULT_CHUNK,p.call(this,e),e.flush&&e.flush!==m.Z_NO_FLUSH&&e.flush!==m.Z_PARTIAL_FLUSH&&e.flush!==m.Z_SYNC_FLUSH&&e.flush!==m.Z_FULL_FLUSH&&e.flush!==m.Z_FINISH&&e.flush!==m.Z_BLOCK)throw new Error("Invalid flush flag: "+e.flush);if(this._flushFlag=e.flush||m.Z_NO_FLUSH,e.chunkSize&&(e.chunkSize<n.Z_MIN_CHUNK||e.chunkSize>n.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<n.Z_MIN_WINDOWBITS||e.windowBits>n.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<n.Z_MIN_LEVEL||e.level>n.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<n.Z_MIN_MEMLEVEL||e.memLevel>n.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=n.Z_FILTERED&&e.strategy!=n.Z_HUFFMAN_ONLY&&e.strategy!=n.Z_RLE&&e.strategy!=n.Z_FIXED&&e.strategy!=n.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!r.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new m.Zlib(t);var i=this;this._hadError=!1,this._binding.onerror=function(e,t){i._binding=null,i._hadError=!0;var r=new Error(e);r.errno=t,r.code=n.codes[t],i.emit("error",r)};var o=n.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(o=e.level);var a=n.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(a=e.strategy),this._binding.init(e.windowBits||n.Z_DEFAULT_WINDOWBITS,o,e.memLevel||n.Z_DEFAULT_MEMLEVEL,a,e.dictionary),this._buffer=new r(this._chunkSize),this._offset=0,this._closed=!1,this._level=o,this._strategy=a,this.once("end",this.close)}var p=e("_stream_transform"),m=e("./binding"),g=e("util"),v=e("assert").ok;m.Z_MIN_WINDOWBITS=8,m.Z_MAX_WINDOWBITS=15,m.Z_DEFAULT_WINDOWBITS=15,m.Z_MIN_CHUNK=64,m.Z_MAX_CHUNK=1/0,m.Z_DEFAULT_CHUNK=16384,m.Z_MIN_MEMLEVEL=1,m.Z_MAX_MEMLEVEL=9,m.Z_DEFAULT_MEMLEVEL=8,m.Z_MIN_LEVEL=-1,m.Z_MAX_LEVEL=9,m.Z_DEFAULT_LEVEL=m.Z_DEFAULT_COMPRESSION,Object.keys(m).forEach(function(e){e.match(/^Z/)&&(n[e]=m[e])}),n.codes={Z_OK:m.Z_OK,Z_STREAM_END:m.Z_STREAM_END,Z_NEED_DICT:m.Z_NEED_DICT,Z_ERRNO:m.Z_ERRNO,Z_STREAM_ERROR:m.Z_STREAM_ERROR,Z_DATA_ERROR:m.Z_DATA_ERROR,Z_MEM_ERROR:m.Z_MEM_ERROR,Z_BUF_ERROR:m.Z_BUF_ERROR,Z_VERSION_ERROR:m.Z_VERSION_ERROR},Object.keys(n.codes).forEach(function(e){n.codes[n.codes[e]]=e}),n.Deflate=a,n.Inflate=s,n.Gzip=c,n.Gunzip=l,n.DeflateRaw=u,n.InflateRaw=h,n.Unzip=d,n.createDeflate=function(e){return new a(e)},n.createInflate=function(e){return new s(e)},n.createDeflateRaw=function(e){return new u(e)},n.createInflateRaw=function(e){return new h(e)},n.createGzip=function(e){return new c(e)},n.createGunzip=function(e){return new l(e)},n.createUnzip=function(e){return new d(e)},n.deflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),i(new a(t),e,n)},n.deflateSync=function(e,t){return o(new a(t),e)},n.gzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),i(new c(t),e,n)},n.gzipSync=function(e,t){return o(new c(t),e)},n.deflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),i(new u(t),e,n)},n.deflateRawSync=function(e,t){return o(new u(t),e)},n.unzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),i(new d(t),e,n)},n.unzipSync=function(e,t){return o(new d(t),e)},n.inflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),i(new s(t),e,n)},n.inflateSync=function(e,t){return o(new s(t),e)},n.gunzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),i(new l(t),e,n)},n.gunzipSync=function(e,t){return o(new l(t),e)},n.inflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),i(new h(t),e,n)},n.inflateRawSync=function(e,t){return o(new h(t),e)},g.inherits(f,p),f.prototype.params=function(e,r,i){if(e<n.Z_MIN_LEVEL||e>n.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(r!=n.Z_FILTERED&&r!=n.Z_HUFFMAN_ONLY&&r!=n.Z_RLE&&r!=n.Z_FIXED&&r!=n.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==e||this._strategy!==r){var o=this;this.flush(m.Z_SYNC_FLUSH,function(){o._binding.params(e,r),o._hadError||(o._level=e,o._strategy=r,i&&i())})}else t.nextTick(i)},f.prototype.reset=function(){return this._binding.reset()},f.prototype._flush=function(e){this._transform(new r(0),"",e)},f.prototype.flush=function(e,n){var i=this._writableState;if(("function"==typeof e||void 0===e&&!n)&&(n=e,e=m.Z_FULL_FLUSH),i.ended)n&&t.nextTick(n);else if(i.ending)n&&this.once("end",n);else if(i.needDrain){var o=this;this.once("drain",function(){o.flush(n)})}else this._flushFlag=e,this.write(new r(0),"",n)},f.prototype.close=function(e){if(e&&t.nextTick(e),!this._closed){this._closed=!0,this._binding.close();var n=this;t.nextTick(function(){n.emit("close")})}},f.prototype._transform=function(e,t,n){var i,o=this._writableState,a=o.ending||o.ended,s=a&&(!e||o.length===e.length);if(null===!e&&!r.isBuffer(e))return n(new Error("invalid input"));s?i=m.Z_FINISH:(i=this._flushFlag,e.length>=o.length&&(this._flushFlag=this._opts.flush||m.Z_NO_FLUSH));this._processChunk(e,i,n)},f.prototype._processChunk=function(e,t,n){function i(u,f){if(!c._hadError){var p=a-f;if(v(p>=0,"have should not go down"),p>0){var m=c._buffer.slice(c._offset,c._offset+p);c._offset+=p,l?c.push(m):(h.push(m),d+=m.length)}if((0===f||c._offset>=c._chunkSize)&&(a=c._chunkSize,c._offset=0,c._buffer=new r(c._chunkSize)),0===f){if(s+=o-u,o=u,!l)return!0;var g=c._binding.write(t,e,s,o,c._buffer,c._offset,c._chunkSize);return g.callback=i,void(g.buffer=e)}return!!l&&void n()}}var o=e&&e.length,a=this._chunkSize-this._offset,s=0,c=this,l="function"==typeof n;if(!l){var u,h=[],d=0;this.on("error",function(e){u=e});do var f=this._binding.writeSync(t,e,s,o,this._buffer,this._offset,a);while(!this._hadError&&i(f[0],f[1]));if(this._hadError)throw u;var p=r.concat(h,d);return this.close(),p}var m=this._binding.write(t,e,s,o,this._buffer,this._offset,a);m.buffer=e,m.callback=i},g.inherits(a,f),g.inherits(s,f),g.inherits(c,f),g.inherits(l,f),g.inherits(u,f),g.inherits(h,f),g.inherits(d,f)}).call(this,e("_process"),e("buffer").Buffer)},{"./binding":127,_process:352,_stream_transform:141,assert:79,buffer:131,util:451}],129:[function(e,t,n){arguments[4][100][0].apply(n,arguments)},{dup:100}],130:[function(e,t,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===a||t===h?62:t===s||t===d?63:t<c?-1:t<c+10?t-c+26+26:t<u+26?t-u:t<l+26?t-l+26:void 0}function n(e){function n(e){l[h++]=e}var r,i,a,s,c,l;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=e.length;c="="===e.charAt(u-2)?2:"="===e.charAt(u-1)?1:0,l=new o(3*e.length/4-c),a=c>0?e.length-4:e.length;var h=0;for(r=0,i=0;r<a;r+=4,i+=3)s=t(e.charAt(r))<<18|t(e.charAt(r+1))<<12|t(e.charAt(r+2))<<6|t(e.charAt(r+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===c?(s=t(e.charAt(r))<<2|t(e.charAt(r+1))>>4,n(255&s)):1===c&&(s=t(e.charAt(r))<<10|t(e.charAt(r+1))<<4|t(e.charAt(r+2))>>2,n(s>>8&255),n(255&s)),l}function i(e){function t(e){return r.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var i,o,a,s=e.length%3,c="";for(i=0,a=e.length-s;i<a;i+=3)o=(e[i]<<16)+(e[i+1]<<8)+e[i+2],c+=n(o);switch(s){case 1:o=e[e.length-1],c+=t(o>>2),c+=t(o<<4&63),c+="==";break;case 2:o=(e[e.length-2]<<8)+e[e.length-1],c+=t(o>>10),c+=t(o>>4&63),c+=t(o<<2&63),c+="="}return c}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),c="0".charCodeAt(0),l="a".charCodeAt(0),u="A".charCodeAt(0),h="-".charCodeAt(0),d="_".charCodeAt(0);e.toByteArray=n,e.fromByteArray=i}("undefined"==typeof n?this.base64js={}:n)},{}],131:[function(e,t,n){(function(t){"use strict";function r(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(n){return!1}}function i(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e){return this instanceof o?(o.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof e?a(this,e):"string"==typeof e?s(this,e,arguments.length>1?arguments[1]:"utf8"):c(this,e)):arguments.length>1?new o(e,arguments[1]):new o(e)}function a(e,t){if(e=m(e,t<0?0:0|g(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;n++)e[n]=0;return e}function s(e,t,n){"string"==typeof n&&""!==n||(n="utf8");var r=0|b(t,n);return e=m(e,r),e.write(t,n),e}function c(e,t){if(o.isBuffer(t))return l(e,t);if(X(t))return u(e,t);if(null==t)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(t.buffer instanceof ArrayBuffer)return h(e,t);if(t instanceof ArrayBuffer)return d(e,t)}return t.length?f(e,t):p(e,t)}function l(e,t){var n=0|g(t.length);return e=m(e,n),t.copy(e,0,0,n),e}function u(e,t){var n=0|g(t.length);e=m(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e,t){var n=0|g(t.length);e=m(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e,t){return o.TYPED_ARRAY_SUPPORT?(t.byteLength,e=o._augment(new Uint8Array(t))):e=h(e,new Uint8Array(t)),e}function f(e,t){var n=0|g(t.length);e=m(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e,t){var n,r=0;"Buffer"===t.type&&X(t.data)&&(n=t.data,r=0|g(n.length)),e=m(e,r);for(var i=0;i<r;i+=1)e[i]=255&n[i];return e}function m(e,t){o.TYPED_ARRAY_SUPPORT?(e=o._augment(new Uint8Array(t)),e.__proto__=o.prototype):(e.length=t,e._isBuffer=!0);var n=0!==t&&t<=o.poolSize>>>1;return n&&(e.parent=Q),e}function g(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function v(e,t){if(!(this instanceof v))return new v(e,t);var n=new o(e,t);return delete n.parent,n}function b(e,t){"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(e).length;default:if(r)return q(e).length;t=(""+t).toLowerCase(),r=!0}}function y(e,t,n){var r=!1;if(t=0|t,n=void 0===n||n===1/0?this.length:0|n,e||(e="utf8"),t<0&&(t=0),n>this.length&&(n=this.length),n<=t)return"";for(;;)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return T(this,t,n);case"binary":return C(this,t,n);case"base64":return P(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function w(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;if(o%2!==0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;a++){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[n+a]=s}return a}function _(e,t,n,r){return G(q(t,e.length-n),e,n,r)}function x(e,t,n,r){return G(V(t),e,n,r)}function k(e,t,n,r){return x(e,t,n,r)}function S(e,t,n,r){return G(W(t),e,n,r)}function j(e,t,n,r){return G(H(t,e.length-n),e,n,r)}function P(e,t,n){return 0===t&&n===e.length?Y.fromByteArray(e):Y.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var c,l,u,h;switch(s){case 1:o<128&&(a=o);break;case 2:c=e[i+1],128===(192&c)&&(h=(31&o)<<6|63&c,h>127&&(a=h));break;case 3:c=e[i+1],l=e[i+2],128===(192&c)&&128===(192&l)&&(h=(15&o)<<12|(63&c)<<6|63&l,h>2047&&(h<55296||h>57343)&&(a=h));break;case 4:c=e[i+1],l=e[i+2],u=e[i+3],128===(192&c)&&128===(192&l)&&128===(192&u)&&(h=(15&o)<<18|(63&c)<<12|(63&l)<<6|63&u,h>65535&&h<1114112&&(a=h))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return A(r)}function A(e){var t=e.length;if(t<=Z)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Z));return n}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;i++)r+=String.fromCharCode(127&e[i]);return r}function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;i++)r+=String.fromCharCode(e[i]);return r}function M(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;o++)i+=B(e[o]);return i}function O(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,n,r,i,a){if(!o.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>i||t<a)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range")}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;i++)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;i++)e[n+i]=t>>>8*(r?i:3-i)&255}function R(e,t,n,r,i,o){if(t>i||t<o)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range");if(n<0)throw new RangeError("index out of range")}function N(e,t,n,r,i){return i||R(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,i){return i||R(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(e,t,n,r,52,8),n+8}function $(e){if(e=z(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function z(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;a++){if(n=e.charCodeAt(a),n>55295&&n<57344){
if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function H(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);a++)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function W(e){return Y.toByteArray($(e))}function G(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}var Y=e("base64-js"),K=e("ieee754"),X=e("isarray");n.Buffer=o,n.SlowBuffer=v,n.INSPECT_MAX_BYTES=50,o.poolSize=8192;var Q={};o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:r(),o.TYPED_ARRAY_SUPPORT?(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array):(o.prototype.length=void 0,o.prototype.parent=void 0),o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a&&e[i]===t[i];)++i;return i!==a&&(n=e[i],r=t[i]),n<r?-1:r<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!X(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new o(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var r=new o(t),i=0;for(n=0;n<e.length;n++){var a=e[n];a.copy(r,i),i+=a.length}return r},o.byteLength=b,o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):y.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:o.compare(this,e)},o.prototype.indexOf=function(e,t){function n(e,t,n){for(var r=-1,i=0;n+i<e.length;i++)if(e[n+i]===t[r===-1?0:i-r]){if(r===-1&&(r=i),i-r+1===t.length)return n+r}else r=-1;return-1}if(t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(t<0&&(t=Math.max(this.length+t,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,t);if(o.isBuffer(e))return n(this,e,t);if("number"==typeof e)return o.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):n(this,[e],t);throw new TypeError("val must be string, number or Buffer")},o.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},o.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var i=r;r=t,t=0|n,n=i}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return x(this,e,t,n);case"binary":return k(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var r;if(o.TYPED_ARRAY_SUPPORT)r=o._augment(this.subarray(e,t));else{var i=t-e;r=new o(i,(void 0));for(var a=0;a<i;a++)r[a]=this[a+e]}return r.length&&(r.parent=this.parent||this),r},o.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||I(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||I(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},o.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),K.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),K.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),K.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),K.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||F(this,e,t,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||F(this,e,t,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t=0|t,n||F(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=0|t,n||F(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=0|t,n||F(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=0|t,n||F(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=0|t,n||F(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var o=0,a=1,s=e<0?1:0;for(this[t]=255&e;++o<n&&(a*=256);)this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=e<0?1:0;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t=0|t,n||F(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t=0|t,n||F(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t=0|t,n||F(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t=0|t,n||F(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t=0|t,n||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;i--)e[i+t]=this[i+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;i++)e[i+t]=this[i+n];else e._set(this.subarray(n,n+a),t);return a},o.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),n<t)throw new RangeError("end < start");if(n!==t&&0!==this.length){if(t<0||t>=this.length)throw new RangeError("start out of bounds");if(n<0||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof e)for(r=t;r<n;r++)this[r]=e;else{var i=q(e.toString()),o=i.length;for(r=t;r<n;r++)this[r]=i[r%o]}return this}},o.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(o.TYPED_ARRAY_SUPPORT)return new o(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var J=o.prototype;o._augment=function(e){return e.constructor=o,e._isBuffer=!0,e._set=e.set,e.get=J.get,e.set=J.set,e.write=J.write,e.toString=J.toString,e.toLocaleString=J.toString,e.toJSON=J.toJSON,e.equals=J.equals,e.compare=J.compare,e.indexOf=J.indexOf,e.copy=J.copy,e.slice=J.slice,e.readUIntLE=J.readUIntLE,e.readUIntBE=J.readUIntBE,e.readUInt8=J.readUInt8,e.readUInt16LE=J.readUInt16LE,e.readUInt16BE=J.readUInt16BE,e.readUInt32LE=J.readUInt32LE,e.readUInt32BE=J.readUInt32BE,e.readIntLE=J.readIntLE,e.readIntBE=J.readIntBE,e.readInt8=J.readInt8,e.readInt16LE=J.readInt16LE,e.readInt16BE=J.readInt16BE,e.readInt32LE=J.readInt32LE,e.readInt32BE=J.readInt32BE,e.readFloatLE=J.readFloatLE,e.readFloatBE=J.readFloatBE,e.readDoubleLE=J.readDoubleLE,e.readDoubleBE=J.readDoubleBE,e.writeUInt8=J.writeUInt8,e.writeUIntLE=J.writeUIntLE,e.writeUIntBE=J.writeUIntBE,e.writeUInt16LE=J.writeUInt16LE,e.writeUInt16BE=J.writeUInt16BE,e.writeUInt32LE=J.writeUInt32LE,e.writeUInt32BE=J.writeUInt32BE,e.writeIntLE=J.writeIntLE,e.writeIntBE=J.writeIntBE,e.writeInt8=J.writeInt8,e.writeInt16LE=J.writeInt16LE,e.writeInt16BE=J.writeInt16BE,e.writeInt32LE=J.writeInt32LE,e.writeInt32BE=J.writeInt32BE,e.writeFloatLE=J.writeFloatLE,e.writeFloatBE=J.writeFloatBE,e.writeDoubleLE=J.writeDoubleLE,e.writeDoubleBE=J.writeDoubleBE,e.fill=J.fill,e.inspect=J.inspect,e.toArrayBuffer=J.toArrayBuffer,e};var ee=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":130,ieee754:297,isarray:132}],132:[function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],133:[function(e,t,n){"use strict";n.randomBytes=n.rng=n.pseudoRandomBytes=n.prng=e("randombytes"),n.createHash=n.Hash=e("create-hash"),n.createHmac=n.Hmac=e("create-hmac");var r=e("browserify-sign/algos"),i=Object.keys(r),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);n.getHashes=function(){return o};var a=e("pbkdf2");n.pbkdf2=a.pbkdf2,n.pbkdf2Sync=a.pbkdf2Sync;var s=e("browserify-cipher");n.Cipher=s.Cipher,n.createCipher=s.createCipher,n.Cipheriv=s.Cipheriv,n.createCipheriv=s.createCipheriv,n.Decipher=s.Decipher,n.createDecipher=s.createDecipher,n.Decipheriv=s.Decipheriv,n.createDecipheriv=s.createDecipheriv,n.getCiphers=s.getCiphers,n.listCiphers=s.listCiphers;var c=e("diffie-hellman");n.DiffieHellmanGroup=c.DiffieHellmanGroup,n.createDiffieHellmanGroup=c.createDiffieHellmanGroup,n.getDiffieHellman=c.getDiffieHellman,n.createDiffieHellman=c.createDiffieHellman,n.DiffieHellman=c.DiffieHellman;var l=e("browserify-sign");n.createSign=l.createSign,n.Sign=l.Sign,n.createVerify=l.createVerify,n.Verify=l.Verify,n.createECDH=e("create-ecdh");var u=e("public-encrypt");n.publicEncrypt=u.publicEncrypt,n.privateEncrypt=u.privateEncrypt,n.publicDecrypt=u.publicDecrypt,n.privateDecrypt=u.privateDecrypt,n.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},n.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":117,"browserify-sign":124,"browserify-sign/algos":121,"create-ecdh":208,"create-hash":209,"create-hmac":212,"diffie-hellman":221,pbkdf2:345,"public-encrypt":353,randombytes:368}],134:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,c,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),c=1;c<r;c++)o[c-1]=arguments[c];n.apply(this,o)}else if(a(n)){for(r=arguments.length,o=new Array(r-1),c=1;c<r;c++)o[c-1]=arguments[c];for(l=n.slice(),r=l.length,c=0;c<r;c++)l[c].apply(this,o)}return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned){var n;n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,o,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0}},{}],135:[function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],136:[function(e,t,n){(function(e){!function(r){function i(e){throw RangeError(I[e])}function o(e,t){for(var n=e.length;n--;)e[n]=t(e[n]);return e}function a(e,t){return o(e.split(O),t).join(".")}function s(e){for(var t,n,r=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function c(e){return o(e,function(e){var t="";return e>65535&&(e-=65536,t+=L(e>>>10&1023|55296),e=56320|1023&e),t+=L(e)}).join("")}function l(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:x}function u(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function h(e,t,n){var r=0;for(e=n?D(e/P):e>>1,e+=D(e/t);e>F*S>>1;r+=x)e=D(e/F);return D(r+(F+1)*e/(e+j))}function d(e){var t,n,r,o,a,s,u,d,f,p,m=[],g=e.length,v=0,b=A,y=E;for(n=e.lastIndexOf(T),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&i("not-basic"),m.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<g;){for(a=v,s=1,u=x;o>=g&&i("invalid-input"),d=l(e.charCodeAt(o++)),(d>=x||d>D((_-v)/s))&&i("overflow"),v+=d*s,f=u<=y?k:u>=y+S?S:u-y,!(d<f);u+=x)p=x-f,s>D(_/p)&&i("overflow"),s*=p;t=m.length+1,y=h(v-a,t,0==a),D(v/t)>_-b&&i("overflow"),b+=D(v/t),v%=t,m.splice(v++,0,b)}return c(m)}function f(e){var t,n,r,o,a,c,l,d,f,p,m,g,v,b,y,w=[];for(e=s(e),g=e.length,t=A,n=0,a=E,c=0;c<g;++c)m=e[c],m<128&&w.push(L(m));for(r=o=w.length,o&&w.push(T);r<g;){for(l=_,c=0;c<g;++c)m=e[c],m>=t&&m<l&&(l=m);for(v=r+1,l-t>D((_-n)/v)&&i("overflow"),n+=(l-t)*v,t=l,c=0;c<g;++c)if(m=e[c],m<t&&++n>_&&i("overflow"),m==t){for(d=n,f=x;p=f<=a?k:f>=a+S?S:f-a,!(d<p);f+=x)y=d-p,b=x-p,w.push(L(u(p+y%b,0))),d=D(y/b);w.push(L(u(d,0))),a=h(n,v,r==o),n=0,++r}++n,++t}return w.join("")}function p(e){return a(e,function(e){return C.test(e)?d(e.slice(4).toLowerCase()):e})}function m(e){return a(e,function(e){return M.test(e)?"xn--"+f(e):e})}var g="object"==typeof n&&n,v="object"==typeof t&&t&&t.exports==g&&t,b="object"==typeof e&&e;b.global!==b&&b.window!==b||(r=b);var y,w,_=2147483647,x=36,k=1,S=26,j=38,P=700,E=72,A=128,T="-",C=/^xn--/,M=/[^ -~]/,O=/\x2E|\u3002|\uFF0E|\uFF61/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},F=x-k,D=Math.floor,L=String.fromCharCode;if(y={version:"1.2.4",ucs2:{decode:s,encode:c},decode:d,encode:f,toASCII:m,toUnicode:p},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return y});else if(g&&!g.nodeType)if(v)v.exports=y;else for(w in y)y.hasOwnProperty(w)&&(g[w]=y[w]);else r.punycode=y}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],137:[function(e,t,n){(function(n){function r(e){return this instanceof r?(c.call(this,e),l.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(e)}function i(){this.allowHalfOpen||this._writableState.ended||n.nextTick(this.end.bind(this))}function o(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}t.exports=r;var a=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},s=e("core-util-is");s.inherits=e("inherits");var c=e("./_stream_readable"),l=e("./_stream_writable");s.inherits(r,c),o(a(l.prototype),function(e){r.prototype[e]||(r.prototype[e]=l.prototype[e])})}).call(this,e("_process"))},{"./_stream_readable":138,"./_stream_writable":140,_process:352,"core-util-is":207,inherits:299}],138:[function(e,t,n){(function(n){function r(t,n){var r=e("./_stream_duplex");t=t||{};var i=t.highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,n instanceof r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(A||(A=e("string_decoder/").StringDecoder),this.decoder=new A(t.encoding),this.encoding=t.encoding)}function i(t){e("./_stream_duplex");return this instanceof i?(this._readableState=new r(t,this),this.readable=!0,void P.call(this)):new i(t)}function o(e,t,n,r,i){var o=l(t,n);if(o)e.emit("error",o);else if(E.isNullOrUndefined(n))t.reading=!1,t.ended||u(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&i){var s=new Error("stream.unshift() after end event");e.emit("error",s)}else!t.decoder||i||r||(n=t.decoder.write(n)),i||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&h(e)),f(e,t);else i||(t.reading=!1);return a(t)}function a(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function s(e){if(e>=C)e=C;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}function c(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||E.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=s(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function l(e,t){var n=null;return E.isBuffer(t)||E.isString(t)||E.isNullOrUndefined(t)||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function u(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,h(e)}function h(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(T("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(function(){d(e)}):d(e))}function d(e){T("emit readable"),e.emit("readable"),b(e)}function f(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(function(){p(e,t)}))}function p(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(T("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function m(e){return function(){var t=e._readableState;T("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&j.listenerCount(e,"data")&&(t.flowing=!0,b(e))}}function g(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(function(){v(e,t)}))}function v(e,t){t.resumeScheduled=!1,e.emit("resume"),b(e),t.flowing&&!t.reading&&e.read(0)}function b(e){var t=e._readableState;if(T("flow",t.flowing),t.flowing)do var n=e.read();while(null!==n&&t.flowing)}function y(e,t){var n,r=t.buffer,i=t.length,o=!!t.decoder,a=!!t.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(a)n=r.shift();else if(!e||e>=i)n=o?r.join(""):S.concat(r,i),r.length=0;else if(e<r[0].length){var s=r[0];n=s.slice(0,e),r[0]=s.slice(e)}else if(e===r[0].length)n=r.shift();else{n=o?"":new S(e);for(var c=0,l=0,u=r.length;l<u&&c<e;l++){var s=r[0],h=Math.min(e-c,s.length);o?n+=s.slice(0,h):s.copy(n,c,0,h),h<s.length?r[0]=s.slice(h):r.shift(),c+=h}}return n}function w(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,n.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function _(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function x(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}t.exports=i;var k=e("isarray"),S=e("buffer").Buffer;i.ReadableState=r;var j=e("events").EventEmitter;j.listenerCount||(j.listenerCount=function(e,t){return e.listeners(t).length});var P=e("stream"),E=e("core-util-is");E.inherits=e("inherits");var A,T=e("util");T=T&&T.debuglog?T.debuglog("stream"):function(){},E.inherits(i,P),i.prototype.push=function(e,t){var n=this._readableState;return E.isString(e)&&!n.objectMode&&(t=t||n.defaultEncoding,t!==n.encoding&&(e=new S(e,t),t="")),o(this,n,e,t,!1)},i.prototype.unshift=function(e){var t=this._readableState;return o(this,t,e,"",!0)},i.prototype.setEncoding=function(t){return A||(A=e("string_decoder/").StringDecoder),this._readableState.decoder=new A(t),this._readableState.encoding=t,this};var C=8388608;i.prototype.read=function(e){T("read",e);var t=this._readableState,n=e;if((!E.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return T("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?w(this):h(this),null;if(e=c(e,t),0===e&&t.ended)return 0===t.length&&w(this),null;var r=t.needReadable;T("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,T("length less than watermark",r)),(t.ended||t.reading)&&(r=!1,T("reading or ended",r)),r&&(T("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=c(n,t));var i;return i=e>0?y(e,t):null,E.isNull(i)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),n!==e&&t.ended&&0===t.length&&w(this),E.isNull(i)||this.emit("data",i),i},i.prototype._read=function(e){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(e,t){function r(e){T("onunpipe"),e===h&&o()}function i(){T("onend"),e.end()}function o(){T("cleanup"),e.removeListener("close",c),e.removeListener("finish",l),e.removeListener("drain",g),e.removeListener("error",s),e.removeListener("unpipe",r),h.removeListener("end",i),h.removeListener("end",o),h.removeListener("data",a),!d.awaitDrain||e._writableState&&!e._writableState.needDrain||g()}function a(t){T("ondata");var n=e.write(t);!1===n&&(T("false write response, pause",h._readableState.awaitDrain),h._readableState.awaitDrain++,h.pause())}function s(t){T("onerror",t),u(),e.removeListener("error",s),0===j.listenerCount(e,"error")&&e.emit("error",t)}function c(){e.removeListener("finish",l),u()}function l(){T("onfinish"),e.removeListener("close",c),u()}function u(){T("unpipe"),h.unpipe(e)}var h=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=e;break;case 1:d.pipes=[d.pipes,e];break;default:d.pipes.push(e)}d.pipesCount+=1,T("pipe count=%d opts=%j",d.pipesCount,t);var f=(!t||t.end!==!1)&&e!==n.stdout&&e!==n.stderr,p=f?i:o;d.endEmitted?n.nextTick(p):h.once("end",p),e.on("unpipe",r);var g=m(h);return e.on("drain",g),h.on("data",a),e._events&&e._events.error?k(e._events.error)?e._events.error.unshift(s):e._events.error=[s,e._events.error]:e.on("error",s),e.once("close",c),e.once("finish",l),e.emit("pipe",h),d.flowing||(T("pipe resume"),h.resume()),e},i.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}var i=x(t.pipes,e);return i===-1?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},i.prototype.on=function(e,t){var r=P.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var i=this._readableState;if(!i.readableListening)if(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading)i.length&&h(this,i);else{var o=this;n.nextTick(function(){T("readable nexttick read 0"),o.read(0)})}}return r},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var e=this._readableState;return e.flowing||(T("resume"),e.flowing=!0,e.reading||(T("resume read 0"),this.read(0)),g(this,e)),this},i.prototype.pause=function(){return T("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(T("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(T("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(T("wrapped data"),t.decoder&&(i=t.decoder.write(i)),i&&(t.objectMode||i.length)){var o=r.push(i);o||(n=!0,e.pause())}});for(var i in e)E.isFunction(e[i])&&E.isUndefined(this[i])&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return _(o,function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){T("wrapped _read",t),n&&(n=!1,e.resume())},r},i._fromList=y}).call(this,e("_process"))},{"./_stream_duplex":137,_process:352,buffer:131,"core-util-is":207,events:134,inherits:299,isarray:135,stream:416,"string_decoder/":142,util:100}],139:[function(e,t,n){function r(e,t){this.afterTransform=function(e,n){return i(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function i(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,c.isNullOrUndefined(n)||e.push(n),i&&i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);s.call(this,e),this._transformState=new r(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){c.isFunction(this._flush)?this._flush(function(e){a(t,e)}):a(t)})}function a(e,t){if(t)return e.emit("error",t);var n=e._writableState,r=e._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");
if(r.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}t.exports=o;var s=e("./_stream_duplex"),c=e("core-util-is");c.inherits=e("inherits"),c.inherits(o,s),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;c.isNull(t.writechunk)||!t.writecb||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))}},{"./_stream_duplex":137,"core-util-is":207,inherits:299}],140:[function(e,t,n){(function(n){function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n}function i(t,n){var r=e("./_stream_duplex");t=t||{};var i=t.highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.objectMode=!!t.objectMode,n instanceof r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var a=t.decodeStrings===!1;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){f(n,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function o(t){var n=e("./_stream_duplex");return this instanceof o||this instanceof n?(this._writableState=new i(t,this),this.writable=!0,void k.call(this)):new o(t)}function a(e,t,r){var i=new Error("write after end");e.emit("error",i),n.nextTick(function(){r(i)})}function s(e,t,r,i){var o=!0;if(!(x.isBuffer(r)||x.isString(r)||x.isNullOrUndefined(r)||t.objectMode)){var a=new TypeError("Invalid non-string/buffer chunk");e.emit("error",a),n.nextTick(function(){i(a)}),o=!1}return o}function c(e,t,n){return!e.objectMode&&e.decodeStrings!==!1&&x.isString(t)&&(t=new _(t,n)),t}function l(e,t,n,i,o){n=c(t,n,i),x.isBuffer(n)&&(i="buffer");var a=t.objectMode?1:n.length;t.length+=a;var s=t.length<t.highWaterMark;return s||(t.needDrain=!0),t.writing||t.corked?t.buffer.push(new r(n,i,o)):u(e,t,!1,a,n,i,o),s}function u(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function h(e,t,r,i,o){r?n.nextTick(function(){t.pendingcb--,o(i)}):(t.pendingcb--,o(i)),e._writableState.errorEmitted=!0,e.emit("error",i)}function d(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function f(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if(d(r),t)h(e,r,i,t,o);else{var a=v(e,r);a||r.corked||r.bufferProcessing||!r.buffer.length||g(e,r),i?n.nextTick(function(){p(e,r,a,o)}):p(e,r,a,o)}}function p(e,t,n,r){n||m(e,t),t.pendingcb--,r(),y(e,t)}function m(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function g(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var n=[],r=0;r<t.buffer.length;r++)n.push(t.buffer[r].callback);t.pendingcb++,u(e,t,!0,t.length,t.buffer,"",function(e){for(var r=0;r<n.length;r++)t.pendingcb--,n[r](e)}),t.buffer=[]}else{for(var r=0;r<t.buffer.length;r++){var i=t.buffer[r],o=i.chunk,a=i.encoding,s=i.callback,c=t.objectMode?1:o.length;if(u(e,t,!1,c,o,a,s),t.writing){r++;break}}r<t.buffer.length?t.buffer=t.buffer.slice(r):t.buffer.length=0}t.bufferProcessing=!1}function v(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function b(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function y(e,t){var n=v(e,t);return n&&(0===t.pendingcb?(b(e,t),t.finished=!0,e.emit("finish")):b(e,t)),n}function w(e,t,r){t.ending=!0,y(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0}t.exports=o;var _=e("buffer").Buffer;o.WritableState=i;var x=e("core-util-is");x.inherits=e("inherits");var k=e("stream");x.inherits(o,k),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(e,t,n){var r=this._writableState,i=!1;return x.isFunction(t)&&(n=t,t=null),x.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),x.isFunction(n)||(n=function(){}),r.ended?a(this,r,n):s(this,r,e,n)&&(r.pendingcb++,i=l(this,r,e,t,n)),i},o.prototype.cork=function(){var e=this._writableState;e.corked++},o.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||g(this,e))},o.prototype._write=function(e,t,n){n(new Error("not implemented"))},o.prototype._writev=null,o.prototype.end=function(e,t,n){var r=this._writableState;x.isFunction(e)?(n=e,e=null,t=null):x.isFunction(t)&&(n=t,t=null),x.isNullOrUndefined(e)||this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||w(this,r,n)}}).call(this,e("_process"))},{"./_stream_duplex":137,_process:352,buffer:131,"core-util-is":207,inherits:299,stream:416}],141:[function(e,t,n){t.exports=e("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":139}],142:[function(e,t,n){function r(e){if(e&&!c(e))throw new Error("Unknown encoding: "+e)}function i(e){return e.toString(this.encoding)}function o(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function a(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var s=e("buffer").Buffer,c=s.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},l=n.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),r(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return void(this.write=i)}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0};l.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";e=e.slice(n,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=t.charCodeAt(t.length-1);if(!(r>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),t+=e.toString(this.encoding,0,i);var i=t.length-1,r=t.charCodeAt(i);if(r>=55296&&r<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,i)}return t},l.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(t<=2&&n>>4==14){this.charLength=3;break}if(t<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=t},l.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;t+=r.slice(0,n).toString(i)}return t}},{buffer:131}],143:[function(e,t,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,n){if(e&&l(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}function o(e){return c(e)&&(e=i(e)),e instanceof r?e.format():r.prototype.format.call(e)}function a(e,t){return i(e,!1,!0).resolve(t)}function s(e,t){return e?i(e,!1,!0).resolveObject(t):t}function c(e){return"string"==typeof e}function l(e){return"object"==typeof e&&null!==e}function u(e){return null===e}function h(e){return null==e}var d=e("punycode");n.parse=i,n.resolve=a,n.resolveObject=s,n.format=o,n.Url=r;var f=/^([a-z0-9.+-]+:)/i,p=/:[0-9]*$/,m=["<",">",'"',"`"," ","\r","\n","\t"],g=["{","}","|","\\","^","`"].concat(m),v=["'"].concat(g),b=["%","/","?",";","#"].concat(v),y=["/","?","#"],w=255,_=/^[a-z0-9A-Z_-]{0,63}$/,x=/^([a-z0-9A-Z_-]{0,63})(.*)$/,k={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},j={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},P=e("querystring");r.prototype.parse=function(e,t,n){if(!c(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e;r=r.trim();var i=f.exec(r);if(i){i=i[0];var o=i.toLowerCase();this.protocol=o,r=r.substr(i.length)}if(n||i||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var a="//"===r.substr(0,2);!a||i&&S[i]||(r=r.substr(2),this.slashes=!0)}if(!S[i]&&(a||i&&!j[i])){for(var s=-1,l=0;l<y.length;l++){var u=r.indexOf(y[l]);u!==-1&&(s===-1||u<s)&&(s=u)}var h,p;p=s===-1?r.lastIndexOf("@"):r.lastIndexOf("@",s),p!==-1&&(h=r.slice(0,p),r=r.slice(p+1),this.auth=decodeURIComponent(h)),s=-1;for(var l=0;l<b.length;l++){var u=r.indexOf(b[l]);u!==-1&&(s===-1||u<s)&&(s=u)}s===-1&&(s=r.length),this.host=r.slice(0,s),r=r.slice(s),this.parseHost(),this.hostname=this.hostname||"";var m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m)for(var g=this.hostname.split(/\./),l=0,E=g.length;l<E;l++){var A=g[l];if(A&&!A.match(_)){for(var T="",C=0,M=A.length;C<M;C++)T+=A.charCodeAt(C)>127?"x":A[C];if(!T.match(_)){var O=g.slice(0,l),I=g.slice(l+1),F=A.match(x);F&&(O.push(F[1]),I.unshift(F[2])),I.length&&(r="/"+I.join(".")+r),this.hostname=O.join(".");break}}}if(this.hostname.length>w?this.hostname="":this.hostname=this.hostname.toLowerCase(),!m){for(var D=this.hostname.split("."),L=[],l=0;l<D.length;++l){var R=D[l];L.push(R.match(/[^A-Za-z0-9_-]/)?"xn--"+d.encode(R):R)}this.hostname=L.join(".")}var N=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+N,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!k[o])for(var l=0,E=v.length;l<E;l++){var $=v[l],z=encodeURIComponent($);z===$&&(z=escape($)),r=r.split($).join(z)}var B=r.indexOf("#");B!==-1&&(this.hash=r.substr(B),r=r.slice(0,B));var q=r.indexOf("?");if(q!==-1?(this.search=r.substr(q),this.query=r.substr(q+1),t&&(this.query=P.parse(this.query)),r=r.slice(0,q)):t&&(this.search="",this.query={}),r&&(this.pathname=r),j[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var N=this.pathname||"",R=this.search||"";this.path=N+R}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&l(this.query)&&Object.keys(this.query).length&&(o=P.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||j[t])&&i!==!1?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),t+i+n+a+r},r.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(c(e)){var t=new r;t.parse(e,!1,!0),e=t}var n=new r;if(Object.keys(this).forEach(function(e){n[e]=this[e]},this),n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol)return Object.keys(e).forEach(function(t){"protocol"!==t&&(n[t]=e[t])}),j[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(e.protocol&&e.protocol!==n.protocol){if(!j[e.protocol])return Object.keys(e).forEach(function(t){n[t]=e[t]}),n.href=n.format(),n;if(n.protocol=e.protocol,e.host||S[e.protocol])n.pathname=e.pathname;else{for(var i=(e.pathname||"").split("/");i.length&&!(e.host=i.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),n.pathname=i.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var o=n.pathname||"",a=n.search||"";n.path=o+a}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var s=n.pathname&&"/"===n.pathname.charAt(0),l=e.host||e.pathname&&"/"===e.pathname.charAt(0),d=l||s||n.host&&e.pathname,f=d,p=n.pathname&&n.pathname.split("/")||[],i=e.pathname&&e.pathname.split("/")||[],m=n.protocol&&!j[n.protocol];if(m&&(n.hostname="",n.port=null,n.host&&(""===p[0]?p[0]=n.host:p.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===i[0]?i[0]=e.host:i.unshift(e.host)),e.host=null),d=d&&(""===i[0]||""===p[0])),l)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,p=i;else if(i.length)p||(p=[]),p.pop(),p=p.concat(i),n.search=e.search,n.query=e.query;else if(!h(e.search)){if(m){n.hostname=n.host=p.shift();var g=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");g&&(n.auth=g.shift(),n.host=n.hostname=g.shift())}return n.search=e.search,n.query=e.query,u(n.pathname)&&u(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!p.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var v=p.slice(-1)[0],b=(n.host||e.host)&&("."===v||".."===v)||""===v,y=0,w=p.length;w>=0;w--)v=p[w],"."==v?p.splice(w,1):".."===v?(p.splice(w,1),y++):y&&(p.splice(w,1),y--);if(!d&&!f)for(;y--;y)p.unshift("..");!d||""===p[0]||p[0]&&"/"===p[0].charAt(0)||p.unshift(""),b&&"/"!==p.join("/").substr(-1)&&p.push("");var _=""===p[0]||p[0]&&"/"===p[0].charAt(0);if(m){n.hostname=n.host=_?"":p.length?p.shift():"";var g=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");g&&(n.auth=g.shift(),n.host=n.hostname=g.shift())}return d=d||n.host&&p.length,d&&!_&&p.unshift(""),p.length?n.pathname=p.join("/"):(n.pathname=null,n.path=null),u(n.pathname)&&u(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=p.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{punycode:136,querystring:367}],144:[function(e,t,n){(function(e){t.exports=function(t,n){for(var r=Math.min(t.length,n.length),i=new e(r),o=0;o<r;++o)i[o]=t[o]^n[o];return i}}).call(this,e("buffer").Buffer)},{buffer:131}],145:[function(e,t,n){function r(e){this.dict=e||{}}r.prototype.set=function(e,t,n){if("object"!=typeof e){"undefined"==typeof n&&(n=!0);var r=this.has(e);return!n&&r?this.dict[r]=this.dict[r]+","+t:this.dict[r||e]=t,r}for(var i in e)this.set(i,e[i],t)},r.prototype.has=function(e){for(var t=Object.keys(this.dict),e=e.toLowerCase(),n=0;n<t.length;n++)if(t[n].toLowerCase()===e)return t[n];return!1},r.prototype.get=function(e){e=e.toLowerCase();var t,n,r=this.dict;return Object.keys(r).forEach(function(i){n=i.toLowerCase(),e===n&&(t=r[i])}),t},r.prototype.swap=function(e){var t=this.has(e);if(t!==e){if(!t)throw new Error('There is no header than matches "'+e+'"');this.dict[e]=this.dict[t],delete this.dict[t]}},r.prototype.del=function(e){var t=this.has(e);return delete this.dict[t||e]},t.exports=function(e){return new r(e)},t.exports.httpify=function(e,t){var n=new r(t);return e.setHeader=function(e,t,r){if("undefined"!=typeof t)return n.set(e,t,r)},e.hasHeader=function(e){return n.has(e)},e.getHeader=function(e){return n.get(e)},e.removeHeader=function(e){return n.del(e)},e.headers=n.dict,n}},{}],146:[function(e,t,n){!function(e,r){"object"==typeof n&&"undefined"!=typeof t?t.exports=r():"function"==typeof define&&define.amd?define(r):e.moment=r()}(this,function(){"use strict";function n(){return _r.apply(null,arguments)}function r(e){_r=e}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e){var t;for(t in e)return!1;return!0}function s(e){return void 0===e}function c(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function l(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){for(var n in t)h(t,n)&&(e[n]=t[n]);return h(t,"toString")&&(e.toString=t.toString),h(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t,n,r){return wt(e,t,n,r,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(e){return null==e._pf&&(e._pf=p()),e._pf}function g(e){if(null==e._isValid){var t=m(e),n=kr.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function v(e){var t=f(NaN);return null!=e?d(m(t),e):m(t).userInvalidated=!0,t}function b(e,t){var n,r,i;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=m(t)),s(t._locale)||(e._locale=t._locale),Sr.length>0)for(n=0;n<Sr.length;n++)r=Sr[n],i=t[r],s(i)||(e[r]=i);return e}function y(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),jr===!1&&(jr=!0,n.updateOffset(this),jr=!1)}function w(e){return e instanceof y||null!=e&&null!=e._isAMomentObject}function _(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function x(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=_(t)),n}function k(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&x(e[r])!==x(t[r]))&&a++;return a+o}function S(e){n.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function j(e,t){var r=!0;return d(function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),r){for(var i,o=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){i+="\n["+a+"] ";for(var s in arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[a];o.push(i)}S(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)},t)}function P(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),Pr[e]||(S(t),Pr[e]=!0)}function E(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(e){var t,n;for(n in e)t=e[n],E(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function T(e,t){var n,r=d({},e);for(n in t)h(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},d(r[n],e[n]),d(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)h(e,n)&&!h(t,n)&&o(e[n])&&(r[n]=d({},r[n]));return r}function C(e){null!=e&&this.set(e)}function M(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return E(r)?r.call(t,n):r}function O(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function I(){return this._invalidDate}function F(e){return this._ordinal.replace("%d",e)}function D(e,t,n,r){var i=this._relativeTime[n];return E(i)?i(e,t,n,r):i.replace(/%d/i,e)}function L(e,t){var n=this._relativeTime[e>0?"future":"past"];return E(n)?n(t):n.replace(/%s/i,t)}function R(e,t){var n=e.toLowerCase();Lr[n]=Lr[n+"s"]=Lr[t]=e}function N(e){return"string"==typeof e?Lr[e]||Lr[e.toLowerCase()]:void 0}function U(e){var t,n,r={};for(n in e)h(e,n)&&(t=N(n),t&&(r[t]=e[n]));return r}function $(e,t){Rr[e]=t}function z(e){var t=[];for(var n in e)t.push({unit:n,priority:Rr[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function B(e,t){return function(r){return null!=r?(V(this,e,r),n.updateOffset(this,t),this):q(this,e)}}function q(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function V(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function H(e){return e=N(e),E(this[e])?this[e]():this}function W(e,t){if("object"==typeof e){e=U(e);for(var n=z(e),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=N(e),E(this[e]))return this[e](t);return this}function G(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function Y(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(zr[e]=i),t&&(zr[t[0]]=function(){return G(i.apply(this,arguments),t[1],t[2])}),n&&(zr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function K(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function X(e){var t,n,r=e.match(Nr);for(t=0,n=r.length;t<n;t++)zr[r[t]]?r[t]=zr[r[t]]:r[t]=K(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=E(r[i])?r[i].call(t,e):r[i];return o}}function Q(e,t){return e.isValid()?(t=Z(t,e.localeData()),$r[t]=$r[t]||X(t),$r[t](e)):e.localeData().invalidDate()}function Z(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Ur.lastIndex=0;r>=0&&Ur.test(e);)e=e.replace(Ur,n),Ur.lastIndex=0,r-=1;return e}function J(e,t,n){oi[e]=E(t)?t:function(e,r){return e&&n?n:t}}function ee(e,t){return h(oi,e)?oi[e](t._strict,t._locale):new RegExp(te(e))}function te(e){return ne(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function ne(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function re(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),c(t)&&(r=function(e,n){n[t]=x(e)}),n=0;n<e.length;n++)ai[e[n]]=r}function ie(e,t){re(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function oe(e,t,n){null!=t&&h(ai,e)&&ai[e](t,n._a,n,e)}function ae(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function se(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||vi).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone}function ce(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[vi.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function le(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=f([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(i=gi.call(this._shortMonthsParse,a),i!==-1?i:null):(i=gi.call(this._longMonthsParse,a),i!==-1?i:null):"MMM"===t?(i=gi.call(this._shortMonthsParse,a),i!==-1?i:(i=gi.call(this._longMonthsParse,a),i!==-1?i:null)):(i=gi.call(this._longMonthsParse,a),i!==-1?i:(i=gi.call(this._shortMonthsParse,a),i!==-1?i:null))}function ue(e,t,n){var r,i,o;if(this._monthsParseExact)return le.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=f([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function he(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=x(t);else if(t=e.localeData().monthsParse(t),!c(t))return e;return n=Math.min(e.date(),ae(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function de(e){return null!=e?(he(this,e),n.updateOffset(this,!0),this):q(this,"Month")}function fe(){return ae(this.year(),this.month())}function pe(e){return this._monthsParseExact?(h(this,"_monthsRegex")||ge.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=wi),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function me(e){return this._monthsParseExact?(h(this,"_monthsRegex")||ge.call(this),e?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=_i),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ge(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=f([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=ne(r[t]),i[t]=ne(i[t]);for(t=0;t<24;t++)o[t]=ne(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function ve(e){return be(e)?366:365}function be(e){return e%4===0&&e%100!==0||e%400===0}function ye(){return be(this.year())}function we(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function _e(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function xe(e,t,n){var r=7+t-n,i=(7+_e(e,0,r).getUTCDay()-t)%7;return-i+r-1}function ke(e,t,n,r,i){var o,a,s=(7+n-r)%7,c=xe(e,r,i),l=1+7*(t-1)+s+c;return l<=0?(o=e-1,a=ve(o)+l):l>ve(e)?(o=e+1,a=l-ve(e)):(o=e,a=l),{year:o,dayOfYear:a}}function Se(e,t,n){var r,i,o=xe(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?(i=e.year()-1,r=a+je(i,t,n)):a>je(e.year(),t,n)?(r=a-je(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function je(e,t,n){var r=xe(e,t,n),i=xe(e+1,t,n);return(ve(e)-r+i)/7}function Pe(e){return Se(e,this._week.dow,this._week.doy).week}function Ee(){return this._week.dow}function Ae(){return this._week.doy}function Te(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Ce(e){var t=Se(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Me(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Oe(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ie(e,t){return e?i(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:i(this._weekdays)?this._weekdays:this._weekdays.standalone}function Fe(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function De(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Le(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=f([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(i=gi.call(this._weekdaysParse,a),i!==-1?i:null):"ddd"===t?(i=gi.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=gi.call(this._minWeekdaysParse,a),i!==-1?i:null):"dddd"===t?(i=gi.call(this._weekdaysParse,a),i!==-1?i:(i=gi.call(this._shortWeekdaysParse,a),i!==-1?i:(i=gi.call(this._minWeekdaysParse,a),i!==-1?i:null))):"ddd"===t?(i=gi.call(this._shortWeekdaysParse,a),i!==-1?i:(i=gi.call(this._weekdaysParse,a),i!==-1?i:(i=gi.call(this._minWeekdaysParse,a),i!==-1?i:null))):(i=gi.call(this._minWeekdaysParse,a),i!==-1?i:(i=gi.call(this._weekdaysParse,a),i!==-1?i:(i=gi.call(this._shortWeekdaysParse,a),i!==-1?i:null)))}function Re(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Le.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=f([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Ne(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Me(e,this.localeData()),this.add(e-t,"d")):t}function Ue(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function $e(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Oe(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function ze(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Ve.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=Ei),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Be(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Ve.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ai),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function qe(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Ve.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ti),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ve(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],c=[],l=[];for(t=0;t<7;t++)n=f([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),c.push(o),l.push(r),l.push(i),l.push(o);for(a.sort(e),s.sort(e),c.sort(e),l.sort(e),t=0;t<7;t++)s[t]=ne(s[t]),c[t]=ne(c[t]),l[t]=ne(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i");
}function He(){return this.hours()%12||12}function We(){return this.hours()||24}function Ge(e,t){Y(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ye(e,t){return t._meridiemParse}function Ke(e){return"p"===(e+"").toLowerCase().charAt(0)}function Xe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Qe(e){return e?e.toLowerCase().replace("_","-"):e}function Ze(e){for(var t,n,r,i,o=0;o<e.length;){for(i=Qe(e[o]).split("-"),t=i.length,n=Qe(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=Je(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&k(i,n,!0)>=t-1)break;t--}o++}return null}function Je(n){var r=null;if(!Fi[n]&&"undefined"!=typeof t&&t&&t.exports)try{r=Ci._abbr,e("./locale/"+n),et(r)}catch(i){}return Fi[n]}function et(e,t){var n;return e&&(n=s(t)?rt(e):tt(e,t),n&&(Ci=n)),Ci._abbr}function tt(e,t){if(null!==t){var n=Ii;if(t.abbr=e,null!=Fi[e])P("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Fi[e]._config;else if(null!=t.parentLocale){if(null==Fi[t.parentLocale])return Di[t.parentLocale]||(Di[t.parentLocale]=[]),Di[t.parentLocale].push({name:e,config:t}),null;n=Fi[t.parentLocale]._config}return Fi[e]=new C(T(n,t)),Di[e]&&Di[e].forEach(function(e){tt(e.name,e.config)}),et(e),Fi[e]}return delete Fi[e],null}function nt(e,t){if(null!=t){var n,r=Ii;null!=Fi[e]&&(r=Fi[e]._config),t=T(r,t),n=new C(t),n.parentLocale=Fi[e],Fi[e]=n,et(e)}else null!=Fi[e]&&(null!=Fi[e].parentLocale?Fi[e]=Fi[e].parentLocale:null!=Fi[e]&&delete Fi[e]);return Fi[e]}function rt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ci;if(!i(e)){if(t=Je(e))return t;e=[e]}return Ze(e)}function it(){return Tr(Fi)}function ot(e){var t,n=e._a;return n&&m(e).overflow===-2&&(t=n[ci]<0||n[ci]>11?ci:n[li]<1||n[li]>ae(n[si],n[ci])?li:n[ui]<0||n[ui]>24||24===n[ui]&&(0!==n[hi]||0!==n[di]||0!==n[fi])?ui:n[hi]<0||n[hi]>59?hi:n[di]<0||n[di]>59?di:n[fi]<0||n[fi]>999?fi:-1,m(e)._overflowDayOfYear&&(t<si||t>li)&&(t=li),m(e)._overflowWeeks&&t===-1&&(t=pi),m(e)._overflowWeekday&&t===-1&&(t=mi),m(e).overflow=t),e}function at(e){var t,n,r,i,o,a,s=e._i,c=Li.exec(s)||Ri.exec(s);if(c){for(m(e).iso=!0,t=0,n=Ui.length;t<n;t++)if(Ui[t][1].exec(c[1])){i=Ui[t][0],r=Ui[t][2]!==!1;break}if(null==i)return void(e._isValid=!1);if(c[3]){for(t=0,n=$i.length;t<n;t++)if($i[t][1].exec(c[3])){o=(c[2]||" ")+$i[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(c[4]){if(!Ni.exec(c[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),ft(e)}else e._isValid=!1}function st(e){var t,n,r,i,o,a,s,c,l={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},u="YXWVUTSRQPONZABCDEFGHIKLM";if(t=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),n=Bi.exec(t)){if(r=n[1]?"ddd"+(5===n[1].length?", ":" "):"",i="D MMM "+(n[2].length>10?"YYYY ":"YY "),o="HH:mm"+(n[4]?":ss":""),n[1]){var h=new Date(n[2]),d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][h.getDay()];if(n[1].substr(0,3)!==d)return m(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(n[5].length){case 2:0===c?s=" +0000":(c=u.indexOf(n[5][1].toUpperCase())-12,s=(c<0?" -":" +")+(""+c).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:s=l[n[5]];break;default:s=l[" GMT"]}n[5]=s,e._i=n.splice(1).join(""),a=" ZZ",e._f=r+i+o+a,ft(e),m(e).rfc2822=!0}else e._isValid=!1}function ct(e){var t=zi.exec(e._i);return null!==t?void(e._d=new Date((+t[1]))):(at(e),void(e._isValid===!1&&(delete e._isValid,st(e),e._isValid===!1&&(delete e._isValid,n.createFromInputFallback(e)))))}function lt(e,t,n){return null!=e?e:null!=t?t:n}function ut(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function ht(e){var t,n,r,i,o=[];if(!e._d){for(r=ut(e),e._w&&null==e._a[li]&&null==e._a[ci]&&dt(e),null!=e._dayOfYear&&(i=lt(e._a[si],r[si]),(e._dayOfYear>ve(i)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),n=_e(i,0,e._dayOfYear),e._a[ci]=n.getUTCMonth(),e._a[li]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ui]&&0===e._a[hi]&&0===e._a[di]&&0===e._a[fi]&&(e._nextDay=!0,e._a[ui]=0),e._d=(e._useUTC?_e:we).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ui]=24)}}function dt(e){var t,n,r,i,o,a,s,c;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)o=1,a=4,n=lt(t.GG,e._a[si],Se(_t(),1,4).year),r=lt(t.W,1),i=lt(t.E,1),(i<1||i>7)&&(c=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var l=Se(_t(),o,a);n=lt(t.gg,e._a[si],l.year),r=lt(t.w,l.week),null!=t.d?(i=t.d,(i<0||i>6)&&(c=!0)):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(c=!0)):i=o}r<1||r>je(n,o,a)?m(e)._overflowWeeks=!0:null!=c?m(e)._overflowWeekday=!0:(s=ke(n,r,i,o,a),e._a[si]=s.year,e._dayOfYear=s.dayOfYear)}function ft(e){if(e._f===n.ISO_8601)return void at(e);if(e._f===n.RFC_2822)return void st(e);e._a=[],m(e).empty=!0;var t,r,i,o,a,s=""+e._i,c=s.length,l=0;for(i=Z(e._f,e._locale).match(Nr)||[],t=0;t<i.length;t++)o=i[t],r=(s.match(ee(o,e))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&m(e).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),l+=r.length),zr[o]?(r?m(e).empty=!1:m(e).unusedTokens.push(o),oe(o,r,e)):e._strict&&!r&&m(e).unusedTokens.push(o);m(e).charsLeftOver=c-l,s.length>0&&m(e).unusedInput.push(s),e._a[ui]<=12&&m(e).bigHour===!0&&e._a[ui]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[ui]=pt(e._locale,e._a[ui],e._meridiem),ht(e),ot(e)}function pt(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function mt(e){var t,n,r,i,o;if(0===e._f.length)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],ft(t),g(t)&&(o+=m(t).charsLeftOver,o+=10*m(t).unusedTokens.length,m(t).score=o,(null==r||o<r)&&(r=o,n=t));d(e,n||t)}function gt(e){if(!e._d){var t=U(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ht(e)}}function vt(e){var t=new y(ot(bt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function bt(e){var t=e._i,n=e._f;return e._locale=e._locale||rt(e._l),null===t||void 0===n&&""===t?v({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),w(t)?new y(ot(t)):(l(t)?e._d=t:i(n)?mt(e):n?ft(e):yt(e),g(e)||(e._d=null),e))}function yt(e){var t=e._i;s(t)?e._d=new Date(n.now()):l(t)?e._d=new Date(t.valueOf()):"string"==typeof t?ct(e):i(t)?(e._a=u(t.slice(0),function(e){return parseInt(e,10)}),ht(e)):o(t)?gt(e):c(t)?e._d=new Date(t):n.createFromInputFallback(e)}function wt(e,t,n,r,s){var c={};return n!==!0&&n!==!1||(r=n,n=void 0),(o(e)&&a(e)||i(e)&&0===e.length)&&(e=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=s,c._l=n,c._i=e,c._f=t,c._strict=r,vt(c)}function _t(e,t,n,r){return wt(e,t,n,r,!1)}function xt(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return _t();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function kt(){var e=[].slice.call(arguments,0);return xt("isBefore",e)}function St(){var e=[].slice.call(arguments,0);return xt("isAfter",e)}function jt(e){for(var t in e)if(Wi.indexOf(t)===-1||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<Wi.length;++r)if(e[Wi[r]]){if(n)return!1;parseFloat(e[Wi[r]])!==x(e[Wi[r]])&&(n=!0)}return!0}function Pt(){return this._isValid}function Et(){return Wt(NaN)}function At(e){var t=U(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,c=t.minute||0,l=t.second||0,u=t.millisecond||0;this._isValid=jt(t),this._milliseconds=+u+1e3*l+6e4*c+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=rt(),this._bubble()}function Tt(e){return e instanceof At}function Ct(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Mt(e,t){Y(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+G(~~(e/60),2)+t+G(~~e%60,2)})}function Ot(e,t){var n=(t||"").match(e);if(null===n)return null;var r=n[n.length-1]||[],i=(r+"").match(Gi)||["-",0,0],o=+(60*i[1])+x(i[2]);return 0===o?0:"+"===i[0]?o:-o}function It(e,t){var r,i;return t._isUTC?(r=t.clone(),i=(w(e)||l(e)?e.valueOf():_t(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),n.updateOffset(r,!1),r):_t(e).local()}function Ft(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Dt(e,t,r){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(e=Ot(ni,e),null===e)return this}else Math.abs(e)<16&&!r&&(e=60*e);return!this._isUTC&&t&&(i=Ft(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?Qt(this,Wt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Ft(this)}function Lt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Rt(e){return this.utcOffset(0,e)}function Nt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ft(this),"m")),this}function Ut(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ot(ti,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function $t(e){return!!this.isValid()&&(e=e?_t(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function zt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Bt(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e={};if(b(e,this),e=bt(e),e._a){var t=e._isUTC?f(e._a):_t(e._a);this._isDSTShifted=this.isValid()&&k(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function qt(){return!!this.isValid()&&!this._isUTC}function Vt(){return!!this.isValid()&&this._isUTC}function Ht(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Wt(e,t){var n,r,i,o=e,a=null;return Tt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:c(e)?(o={},t?o[t]=e:o.milliseconds=e):(a=Yi.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:x(a[li])*n,h:x(a[ui])*n,m:x(a[hi])*n,s:x(a[di])*n,ms:x(Ct(1e3*a[fi]))*n}):(a=Ki.exec(e))?(n="-"===a[1]?-1:1,o={y:Gt(a[2],n),M:Gt(a[3],n),w:Gt(a[4],n),d:Gt(a[5],n),h:Gt(a[6],n),m:Gt(a[7],n),s:Gt(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=Kt(_t(o.from),_t(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new At(o),Tt(e)&&h(e,"_locale")&&(r._locale=e._locale),r}function Gt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Yt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Kt(e,t){var n;return e.isValid()&&t.isValid()?(t=It(t,e),e.isBefore(t)?n=Yt(e,t):(n=Yt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Xt(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(P(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=Wt(n,r),Qt(this,i,e),this}}function Qt(e,t,r,i){var o=t._milliseconds,a=Ct(t._days),s=Ct(t._months);e.isValid()&&(i=null==i||i,o&&e._d.setTime(e._d.valueOf()+o*r),a&&V(e,"Date",q(e,"Date")+a*r),s&&he(e,q(e,"Month")+s*r),i&&n.updateOffset(e,a||s))}function Zt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Jt(e,t){var r=e||_t(),i=It(r,this).startOf("day"),o=n.calendarFormat(this,i)||"sameElse",a=t&&(E(t[o])?t[o].call(this,r):t[o]);return this.format(a||this.localeData().calendar(o,this,_t(r)))}function en(){return new y(this)}function tn(e,t){var n=w(e)?e:_t(e);return!(!this.isValid()||!n.isValid())&&(t=N(s(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function nn(e,t){var n=w(e)?e:_t(e);return!(!this.isValid()||!n.isValid())&&(t=N(s(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function rn(e,t,n,r){return r=r||"()",("("===r[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function on(e,t){var n,r=w(e)?e:_t(e);return!(!this.isValid()||!r.isValid())&&(t=N(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function an(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function sn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function cn(e,t,n){var r,i,o,a;return this.isValid()?(r=It(e,this),r.isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),t=N(t),"year"===t||"month"===t||"quarter"===t?(a=ln(this,r),"quarter"===t?a/=3:"year"===t&&(a/=12)):(o=this-r,a="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-i)/864e5:"week"===t?(o-i)/6048e5:o),n?a:_(a)):NaN):NaN}function ln(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return t-o<0?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)||0}function un(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function hn(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?Q(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):E(Date.prototype.toISOString)?this.toDate().toISOString():Q(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function dn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]';return this.format(n+r+i+o)}function fn(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=Q(this,e);return this.localeData().postformat(t)}function pn(e,t){return this.isValid()&&(w(e)&&e.isValid()||_t(e).isValid())?Wt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function mn(e){return this.from(_t(),e)}function gn(e,t){return this.isValid()&&(w(e)&&e.isValid()||_t(e).isValid())?Wt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function vn(e){return this.to(_t(),e)}function bn(e){var t;return void 0===e?this._locale._abbr:(t=rt(e),null!=t&&(this._locale=t),this)}function yn(){return this._locale}function wn(e){switch(e=N(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function _n(e){return e=N(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function xn(){return this._d.valueOf()-6e4*(this._offset||0)}function kn(){return Math.floor(this.valueOf()/1e3)}function Sn(){return new Date(this.valueOf())}function jn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Pn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function En(){return this.isValid()?this.toISOString():null}function An(){return g(this)}function Tn(){return d({},m(this))}function Cn(){return m(this).overflow}function Mn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function On(e,t){Y(0,[e,e.length],0,t)}function In(e){return Rn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Fn(e){return Rn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Dn(){return je(this.year(),1,4)}function Ln(){var e=this.localeData()._week;return je(this.year(),e.dow,e.doy)}function Rn(e,t,n,r,i){var o;return null==e?Se(this,r,i).year:(o=je(e,r,i),t>o&&(t=o),Nn.call(this,e,t,n,r,i))}function Nn(e,t,n,r,i){var o=ke(e,t,n,r,i),a=_e(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Un(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function $n(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function zn(e,t){t[fi]=x(1e3*("0."+e))}function Bn(){return this._isUTC?"UTC":""}function qn(){return this._isUTC?"Coordinated Universal Time":""}function Vn(e){return _t(1e3*e)}function Hn(){return _t.apply(null,arguments).parseZone()}function Wn(e){return e}function Gn(e,t,n,r){var i=rt(),o=f().set(r,t);return i[n](o,e)}function Yn(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return Gn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Gn(e,r,n,"month");return i}function Kn(e,t,n,r){"boolean"==typeof e?(c(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,c(t)&&(n=t,t=void 0),t=t||"");var i=rt(),o=e?i._week.dow:0;if(null!=n)return Gn(t,(n+o)%7,r,"day");var a,s=[];for(a=0;a<7;a++)s[a]=Gn(t,(a+o)%7,r,"day");return s}function Xn(e,t){return Yn(e,t,"months")}function Qn(e,t){return Yn(e,t,"monthsShort")}function Zn(e,t,n){return Kn(e,t,n,"weekdays")}function Jn(e,t,n){return Kn(e,t,n,"weekdaysShort")}function er(e,t,n){return Kn(e,t,n,"weekdaysMin")}function tr(){var e=this._data;return this._milliseconds=ao(this._milliseconds),this._days=ao(this._days),this._months=ao(this._months),e.milliseconds=ao(e.milliseconds),e.seconds=ao(e.seconds),e.minutes=ao(e.minutes),e.hours=ao(e.hours),e.months=ao(e.months),e.years=ao(e.years),this}function nr(e,t,n,r){var i=Wt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function rr(e,t){return nr(this,e,t,1)}function ir(e,t){return nr(this,e,t,-1)}function or(e){return e<0?Math.floor(e):Math.ceil(e)}function ar(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,c=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*or(cr(s)+a),a=0,s=0),c.milliseconds=o%1e3,e=_(o/1e3),c.seconds=e%60,t=_(e/60),c.minutes=t%60,n=_(t/60),c.hours=n%24,a+=_(n/24),i=_(sr(a)),s+=i,a-=or(cr(i)),r=_(s/12),s%=12,c.days=a,c.months=s,c.years=r,this}function sr(e){return 4800*e/146097}function cr(e){return 146097*e/4800}function lr(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=N(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+sr(t),"month"===e?n:n/12;switch(t=this._days+Math.round(cr(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function ur(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12):NaN}function hr(e){return function(){return this.as(e)}}function dr(e){return e=N(e),this.isValid()?this[e+"s"]():NaN}function fr(e){return function(){return this.isValid()?this._data[e]:NaN}}function pr(){return _(this.days()/7)}function mr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function gr(e,t,n){var r=Wt(e).abs(),i=ko(r.as("s")),o=ko(r.as("m")),a=ko(r.as("h")),s=ko(r.as("d")),c=ko(r.as("M")),l=ko(r.as("y")),u=i<=So.ss&&["s",i]||i<So.s&&["ss",i]||o<=1&&["m"]||o<So.m&&["mm",o]||a<=1&&["h"]||a<So.h&&["hh",a]||s<=1&&["d"]||s<So.d&&["dd",s]||c<=1&&["M"]||c<So.M&&["MM",c]||l<=1&&["y"]||["yy",l];return u[2]=t,u[3]=+e>0,u[4]=n,mr.apply(null,u)}function vr(e){return void 0===e?ko:"function"==typeof e&&(ko=e,!0)}function br(e,t){return void 0!==So[e]&&(void 0===t?So[e]:(So[e]=t,"s"===e&&(So.ss=t-1),!0))}function yr(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=gr(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function wr(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r=jo(this._milliseconds)/1e3,i=jo(this._days),o=jo(this._months);e=_(r/60),t=_(e/60),r%=60,e%=60,n=_(o/12),o%=12;var a=n,s=o,c=i,l=t,u=e,h=r,d=this.asSeconds();return d?(d<0?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(c?c+"D":"")+(l||u||h?"T":"")+(l?l+"H":"")+(u?u+"M":"")+(h?h+"S":""):"P0D"}var _r,xr;xr=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var kr=xr,Sr=n.momentProperties=[],jr=!1,Pr={};n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;var Er;Er=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)h(e,t)&&n.push(t);return n};var Ar,Tr=Er,Cr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Mr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Or="Invalid date",Ir="%d",Fr=/\d{1,2}/,Dr={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Lr={},Rr={},Nr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ur=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,$r={},zr={},Br=/\d/,qr=/\d\d/,Vr=/\d{3}/,Hr=/\d{4}/,Wr=/[+-]?\d{6}/,Gr=/\d\d?/,Yr=/\d\d\d\d?/,Kr=/\d\d\d\d\d\d?/,Xr=/\d{1,3}/,Qr=/\d{1,4}/,Zr=/[+-]?\d{1,6}/,Jr=/\d+/,ei=/[+-]?\d+/,ti=/Z|[+-]\d\d:?\d\d/gi,ni=/Z|[+-]\d\d(?::?\d\d)?/gi,ri=/[+-]?\d+(\.\d{1,3})?/,ii=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,oi={},ai={},si=0,ci=1,li=2,ui=3,hi=4,di=5,fi=6,pi=7,mi=8;Ar=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};var gi=Ar;Y("M",["MM",2],"Mo",function(){return this.month()+1}),Y("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),Y("MMMM",0,0,function(e){return this.localeData().months(this,e)}),R("month","M"),$("month",8),J("M",Gr),J("MM",Gr,qr),J("MMM",function(e,t){return t.monthsShortRegex(e)}),J("MMMM",function(e,t){return t.monthsRegex(e)}),re(["M","MM"],function(e,t){t[ci]=x(e)-1}),re(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[ci]=i:m(n).invalidMonth=e});var vi=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,bi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),yi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),wi=ii,_i=ii;Y("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),Y(0,["YY",2],0,function(){return this.year()%100}),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),R("year","y"),$("year",1),J("Y",ei),J("YY",Gr,qr),J("YYYY",Qr,Hr),J("YYYYY",Zr,Wr),J("YYYYYY",Zr,Wr),re(["YYYYY","YYYYYY"],si),re("YYYY",function(e,t){t[si]=2===e.length?n.parseTwoDigitYear(e):x(e)}),re("YY",function(e,t){t[si]=n.parseTwoDigitYear(e)}),re("Y",function(e,t){t[si]=parseInt(e,10)}),n.parseTwoDigitYear=function(e){return x(e)+(x(e)>68?1900:2e3)};var xi=B("FullYear",!0);Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),R("week","w"),R("isoWeek","W"),$("week",5),$("isoWeek",5),J("w",Gr),J("ww",Gr,qr),J("W",Gr),J("WW",Gr,qr),ie(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=x(e)});var ki={dow:0,doy:6};Y("d",0,"do","day"),Y("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),Y("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),Y("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),R("day","d"),R("weekday","e"),R("isoWeekday","E"),$("day",11),$("weekday",11),$("isoWeekday",11),J("d",Gr),J("e",Gr),J("E",Gr),J("dd",function(e,t){return t.weekdaysMinRegex(e)}),J("ddd",function(e,t){return t.weekdaysShortRegex(e)}),J("dddd",function(e,t){return t.weekdaysRegex(e)}),ie(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:m(n).invalidWeekday=e}),ie(["d","e","E"],function(e,t,n,r){t[r]=x(e)});var Si="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ji="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Pi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ei=ii,Ai=ii,Ti=ii;Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,He),Y("k",["kk",2],0,We),Y("hmm",0,0,function(){return""+He.apply(this)+G(this.minutes(),2)}),Y("hmmss",0,0,function(){return""+He.apply(this)+G(this.minutes(),2)+G(this.seconds(),2)}),Y("Hmm",0,0,function(){return""+this.hours()+G(this.minutes(),2)}),Y("Hmmss",0,0,function(){return""+this.hours()+G(this.minutes(),2)+G(this.seconds(),2)}),Ge("a",!0),Ge("A",!1),R("hour","h"),$("hour",13),J("a",Ye),J("A",Ye),J("H",Gr),J("h",Gr),J("k",Gr),J("HH",Gr,qr),J("hh",Gr,qr),J("kk",Gr,qr),J("hmm",Yr),J("hmmss",Kr),J("Hmm",Yr),J("Hmmss",Kr),re(["H","HH"],ui),re(["k","kk"],function(e,t,n){var r=x(e);t[ui]=24===r?0:r}),re(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),re(["h","hh"],function(e,t,n){t[ui]=x(e),m(n).bigHour=!0}),re("hmm",function(e,t,n){var r=e.length-2;t[ui]=x(e.substr(0,r)),t[hi]=x(e.substr(r)),m(n).bigHour=!0}),re("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ui]=x(e.substr(0,r)),t[hi]=x(e.substr(r,2)),t[di]=x(e.substr(i)),m(n).bigHour=!0}),re("Hmm",function(e,t,n){var r=e.length-2;t[ui]=x(e.substr(0,r)),t[hi]=x(e.substr(r))}),re("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ui]=x(e.substr(0,r)),t[hi]=x(e.substr(r,2)),t[di]=x(e.substr(i))});var Ci,Mi=/[ap]\.?m?\.?/i,Oi=B("Hours",!0),Ii={calendar:Cr,longDateFormat:Mr,invalidDate:Or,ordinal:Ir,dayOfMonthOrdinalParse:Fr,relativeTime:Dr,months:bi,monthsShort:yi,week:ki,weekdays:Si,weekdaysMin:Pi,weekdaysShort:ji,meridiemParse:Mi},Fi={},Di={},Li=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ri=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ni=/Z|[+-]\d\d(?::?\d\d)?/,Ui=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],$i=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],zi=/^\/?Date\((\-?\d+)/i,Bi=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;n.createFromInputFallback=j("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){};var qi=j("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=_t.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:v()}),Vi=j("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=_t.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:v()}),Hi=function(){return Date.now?Date.now():+new Date},Wi=["year","quarter","month","week","day","hour","minute","second","millisecond"];Mt("Z",":"),Mt("ZZ",""),J("Z",ni),J("ZZ",ni),re(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ot(ni,e)});var Gi=/([\+\-]|\d\d)/gi;n.updateOffset=function(){};var Yi=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ki=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Wt.fn=At.prototype,Wt.invalid=Et;var Xi=Xt(1,"add"),Qi=Xt(-1,"subtract");n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Zi=j("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});Y(0,["gg",2],0,function(){return this.weekYear()%100}),Y(0,["GG",2],0,function(){return this.isoWeekYear()%100}),On("gggg","weekYear"),On("ggggg","weekYear"),On("GGGG","isoWeekYear"),On("GGGGG","isoWeekYear"),R("weekYear","gg"),R("isoWeekYear","GG"),$("weekYear",1),$("isoWeekYear",1),J("G",ei),J("g",ei),J("GG",Gr,qr),J("gg",Gr,qr),J("GGGG",Qr,Hr),J("gggg",Qr,Hr),J("GGGGG",Zr,Wr),J("ggggg",Zr,Wr),ie(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=x(e)}),ie(["gg","GG"],function(e,t,r,i){t[i]=n.parseTwoDigitYear(e)}),Y("Q",0,"Qo","quarter"),R("quarter","Q"),$("quarter",7),J("Q",Br),re("Q",function(e,t){t[ci]=3*(x(e)-1)}),Y("D",["DD",2],"Do","date"),R("date","D"),$("date",9),J("D",Gr),J("DD",Gr,qr),J("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),re(["D","DD"],li),re("Do",function(e,t){t[li]=x(e.match(Gr)[0],10)});var Ji=B("Date",!0);Y("DDD",["DDDD",3],"DDDo","dayOfYear"),R("dayOfYear","DDD"),$("dayOfYear",4),J("DDD",Xr),J("DDDD",Vr),re(["DDD","DDDD"],function(e,t,n){n._dayOfYear=x(e)}),Y("m",["mm",2],0,"minute"),R("minute","m"),$("minute",14),J("m",Gr),J("mm",Gr,qr),re(["m","mm"],hi);var eo=B("Minutes",!1);Y("s",["ss",2],0,"second"),R("second","s"),$("second",15),J("s",Gr),J("ss",Gr,qr),re(["s","ss"],di);var to=B("Seconds",!1);Y("S",0,0,function(){return~~(this.millisecond()/100)}),Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Y(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Y(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Y(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Y(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Y(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),R("millisecond","ms"),$("millisecond",16),J("S",Xr,Br),J("SS",Xr,qr),J("SSS",Xr,Vr);var no;for(no="SSSS";no.length<=9;no+="S")J(no,Jr);for(no="S";no.length<=9;no+="S")re(no,zn);var ro=B("Milliseconds",!1);Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");var io=y.prototype;io.add=Xi,io.calendar=Jt,io.clone=en,io.diff=cn,io.endOf=_n,io.format=fn,io.from=pn,io.fromNow=mn,io.to=gn,io.toNow=vn,io.get=H,io.invalidAt=Cn,io.isAfter=tn,io.isBefore=nn,io.isBetween=rn,io.isSame=on,io.isSameOrAfter=an,io.isSameOrBefore=sn,io.isValid=An,io.lang=Zi,io.locale=bn,io.localeData=yn,io.max=Vi,io.min=qi,io.parsingFlags=Tn,
io.set=W,io.startOf=wn,io.subtract=Qi,io.toArray=jn,io.toObject=Pn,io.toDate=Sn,io.toISOString=hn,io.inspect=dn,io.toJSON=En,io.toString=un,io.unix=kn,io.valueOf=xn,io.creationData=Mn,io.year=xi,io.isLeapYear=ye,io.weekYear=In,io.isoWeekYear=Fn,io.quarter=io.quarters=Un,io.month=de,io.daysInMonth=fe,io.week=io.weeks=Te,io.isoWeek=io.isoWeeks=Ce,io.weeksInYear=Ln,io.isoWeeksInYear=Dn,io.date=Ji,io.day=io.days=Ne,io.weekday=Ue,io.isoWeekday=$e,io.dayOfYear=$n,io.hour=io.hours=Oi,io.minute=io.minutes=eo,io.second=io.seconds=to,io.millisecond=io.milliseconds=ro,io.utcOffset=Dt,io.utc=Rt,io.local=Nt,io.parseZone=Ut,io.hasAlignedHourOffset=$t,io.isDST=zt,io.isLocal=qt,io.isUtcOffset=Vt,io.isUtc=Ht,io.isUTC=Ht,io.zoneAbbr=Bn,io.zoneName=qn,io.dates=j("dates accessor is deprecated. Use date instead.",Ji),io.months=j("months accessor is deprecated. Use month instead",de),io.years=j("years accessor is deprecated. Use year instead",xi),io.zone=j("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Lt),io.isDSTShifted=j("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Bt);var oo=C.prototype;oo.calendar=M,oo.longDateFormat=O,oo.invalidDate=I,oo.ordinal=F,oo.preparse=Wn,oo.postformat=Wn,oo.relativeTime=D,oo.pastFuture=L,oo.set=A,oo.months=se,oo.monthsShort=ce,oo.monthsParse=ue,oo.monthsRegex=me,oo.monthsShortRegex=pe,oo.week=Pe,oo.firstDayOfYear=Ae,oo.firstDayOfWeek=Ee,oo.weekdays=Ie,oo.weekdaysMin=De,oo.weekdaysShort=Fe,oo.weekdaysParse=Re,oo.weekdaysRegex=ze,oo.weekdaysShortRegex=Be,oo.weekdaysMinRegex=qe,oo.isPM=Ke,oo.meridiem=Xe,et("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===x(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),n.lang=j("moment.lang is deprecated. Use moment.locale instead.",et),n.langData=j("moment.langData is deprecated. Use moment.localeData instead.",rt);var ao=Math.abs,so=hr("ms"),co=hr("s"),lo=hr("m"),uo=hr("h"),ho=hr("d"),fo=hr("w"),po=hr("M"),mo=hr("y"),go=fr("milliseconds"),vo=fr("seconds"),bo=fr("minutes"),yo=fr("hours"),wo=fr("days"),_o=fr("months"),xo=fr("years"),ko=Math.round,So={ss:44,s:45,m:45,h:22,d:26,M:11},jo=Math.abs,Po=At.prototype;return Po.isValid=Pt,Po.abs=tr,Po.add=rr,Po.subtract=ir,Po.as=lr,Po.asMilliseconds=so,Po.asSeconds=co,Po.asMinutes=lo,Po.asHours=uo,Po.asDays=ho,Po.asWeeks=fo,Po.asMonths=po,Po.asYears=mo,Po.valueOf=ur,Po._bubble=ar,Po.get=dr,Po.milliseconds=go,Po.seconds=vo,Po.minutes=bo,Po.hours=yo,Po.days=wo,Po.weeks=pr,Po.months=_o,Po.years=xo,Po.humanize=yr,Po.toISOString=wr,Po.toString=wr,Po.toJSON=wr,Po.locale=bn,Po.localeData=yn,Po.toIsoString=j("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",wr),Po.lang=Zi,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),J("x",ei),J("X",ri),re("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),re("x",function(e,t,n){n._d=new Date(x(e))}),n.version="2.18.1",r(_t),n.fn=io,n.min=kt,n.max=St,n.now=Hi,n.utc=f,n.unix=Vn,n.months=Xn,n.isDate=l,n.locale=et,n.invalid=v,n.duration=Wt,n.isMoment=w,n.weekdays=Zn,n.parseZone=Hn,n.localeData=rt,n.isDuration=Tt,n.monthsShort=Qn,n.weekdaysMin=er,n.defineLocale=tt,n.updateLocale=nt,n.locales=it,n.weekdaysShort=Jn,n.normalizeUnits=N,n.relativeTimeRounding=vr,n.relativeTimeThreshold=br,n.calendarFormat=Zt,n.prototype=io,n})},{}],147:[function(e,t,n){var r=e("./core/core")();r.helpers=e("./helpers/index"),e("./core/core.helpers")(r),r.defaults=e("./core/core.defaults"),r.Element=e("./core/core.element"),r.elements=e("./elements/index"),r.Interaction=e("./core/core.interaction"),r.platform=e("./platforms/platform"),e("./core/core.plugin")(r),e("./core/core.animation")(r),e("./core/core.controller")(r),e("./core/core.datasetController")(r),e("./core/core.layoutService")(r),e("./core/core.scaleService")(r),e("./core/core.scale")(r),e("./core/core.tooltip")(r),e("./scales/scale.linearbase")(r),e("./scales/scale.category")(r),e("./scales/scale.linear")(r),e("./scales/scale.logarithmic")(r),e("./scales/scale.radialLinear")(r),e("./scales/scale.time")(r),e("./controllers/controller.bar")(r),e("./controllers/controller.bubble")(r),e("./controllers/controller.doughnut")(r),e("./controllers/controller.line")(r),e("./controllers/controller.polarArea")(r),e("./controllers/controller.radar")(r),e("./controllers/controller.scatter")(r),e("./charts/Chart.Bar")(r),e("./charts/Chart.Bubble")(r),e("./charts/Chart.Doughnut")(r),e("./charts/Chart.Line")(r),e("./charts/Chart.PolarArea")(r),e("./charts/Chart.Radar")(r),e("./charts/Chart.Scatter")(r);var i=[];i.push(e("./plugins/plugin.filler")(r),e("./plugins/plugin.legend")(r),e("./plugins/plugin.title")(r)),r.plugins.register(i),r.platform.initialize(),t.exports=r,"undefined"!=typeof window&&(window.Chart=r),r.canvasHelpers=r.helpers.canvas},{"./charts/Chart.Bar":148,"./charts/Chart.Bubble":149,"./charts/Chart.Doughnut":150,"./charts/Chart.Line":151,"./charts/Chart.PolarArea":152,"./charts/Chart.Radar":153,"./charts/Chart.Scatter":154,"./controllers/controller.bar":155,"./controllers/controller.bubble":156,"./controllers/controller.doughnut":157,"./controllers/controller.line":158,"./controllers/controller.polarArea":159,"./controllers/controller.radar":160,"./controllers/controller.scatter":161,"./core/core":169,"./core/core.animation":162,"./core/core.controller":163,"./core/core.datasetController":164,"./core/core.defaults":165,"./core/core.element":166,"./core/core.helpers":167,"./core/core.interaction":168,"./core/core.layoutService":170,"./core/core.plugin":171,"./core/core.scale":172,"./core/core.scaleService":173,"./core/core.tooltip":175,"./elements/index":180,"./helpers/index":185,"./platforms/platform":188,"./plugins/plugin.filler":189,"./plugins/plugin.legend":190,"./plugins/plugin.title":191,"./scales/scale.category":192,"./scales/scale.linear":193,"./scales/scale.linearbase":194,"./scales/scale.logarithmic":195,"./scales/scale.radialLinear":196,"./scales/scale.time":197}],148:[function(e,t,n){"use strict";t.exports=function(e){e.Bar=function(t,n){return n.type="bar",new e(t,n)}}},{}],149:[function(e,t,n){"use strict";t.exports=function(e){e.Bubble=function(t,n){return n.type="bubble",new e(t,n)}}},{}],150:[function(e,t,n){"use strict";t.exports=function(e){e.Doughnut=function(t,n){return n.type="doughnut",new e(t,n)}}},{}],151:[function(e,t,n){"use strict";t.exports=function(e){e.Line=function(t,n){return n.type="line",new e(t,n)}}},{}],152:[function(e,t,n){"use strict";t.exports=function(e){e.PolarArea=function(t,n){return n.type="polarArea",new e(t,n)}}},{}],153:[function(e,t,n){"use strict";t.exports=function(e){e.Radar=function(t,n){return n.type="radar",new e(t,n)}}},{}],154:[function(e,t,n){"use strict";t.exports=function(e){e.Scatter=function(t,n){return n.type="scatter",new e(t,n)}}},{}],155:[function(e,t,n){"use strict";var r=e("../core/core.defaults"),i=e("../elements/index"),o=e("../helpers/index");r._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),r._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(e,t){var n="";return e.length>0&&(e[0].yLabel?n=e[0].yLabel:t.labels.length>0&&e[0].index<t.labels.length&&(n=t.labels[e[0].index])),n},label:function(e,t){var n=t.datasets[e.datasetIndex].label||"";return n+": "+e.xLabel}},mode:"index",axis:"y"}}),t.exports=function(e){e.controllers.bar=e.DatasetController.extend({dataElementType:i.Rectangle,initialize:function(){var t,n=this;e.DatasetController.prototype.initialize.apply(n,arguments),t=n.getMeta(),t.stack=n.getDataset().stack,t.bar=!0},update:function(e){var t,n,r=this,i=r.getMeta().data;for(r._ruler=r.getRuler(),t=0,n=i.length;t<n;++t)r.updateElement(i[t],t,e)},updateElement:function(e,t,n){var r=this,i=r.chart,a=r.getMeta(),s=r.getDataset(),c=e.custom||{},l=i.options.elements.rectangle;e._xScale=r.getScaleForId(a.xAxisID),e._yScale=r.getScaleForId(a.yAxisID),e._datasetIndex=r.index,e._index=t,e._model={datasetLabel:s.label,label:i.data.labels[t],borderSkipped:c.borderSkipped?c.borderSkipped:l.borderSkipped,backgroundColor:c.backgroundColor?c.backgroundColor:o.valueAtIndexOrDefault(s.backgroundColor,t,l.backgroundColor),borderColor:c.borderColor?c.borderColor:o.valueAtIndexOrDefault(s.borderColor,t,l.borderColor),borderWidth:c.borderWidth?c.borderWidth:o.valueAtIndexOrDefault(s.borderWidth,t,l.borderWidth)},r.updateElementGeometry(e,t,n),e.pivot()},updateElementGeometry:function(e,t,n){var r=this,i=e._model,o=r.getValueScale(),a=o.getBasePixel(),s=o.isHorizontal(),c=r._ruler||r.getRuler(),l=r.calculateBarValuePixels(r.index,t),u=r.calculateBarIndexPixels(r.index,t,c);i.horizontal=s,i.base=n?a:l.base,i.x=s?n?a:l.head:u.center,i.y=s?u.center:n?a:l.head,i.height=s?u.size:void 0,i.width=s?void 0:u.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},getStackCount:function(e){var t,n,r=this,i=r.chart,o=r.getIndexScale(),a=o.options.stacked,s=void 0===e?i.data.datasets.length:e+1,c=[];for(t=0;t<s;++t)n=i.getDatasetMeta(t),n.bar&&i.isDatasetVisible(t)&&(a===!1||a===!0&&c.indexOf(n.stack)===-1||void 0===a&&(void 0===n.stack||c.indexOf(n.stack)===-1))&&c.push(n.stack);return c.length},getStackIndex:function(e){return this.getStackCount(e)-1},getRuler:function(){var e,t,n=this,r=n.getIndexScale(),i=n.getStackCount(),o=n.index,a=[],s=r.isHorizontal(),c=s?r.left:r.top,l=c+(s?r.width:r.height);for(e=0,t=n.getMeta().data.length;e<t;++e)a.push(r.getPixelForValue(null,e,o));return{pixels:a,start:c,end:l,stackCount:i,scale:r}},calculateBarValuePixels:function(e,t){var n,r,i,o,a,s,c=this,l=c.chart,u=c.getMeta(),h=c.getValueScale(),d=l.data.datasets,f=h.getRightValue(d[e].data[t]),p=h.options.stacked,m=u.stack,g=0;if(p||void 0===p&&void 0!==m)for(n=0;n<e;++n)r=l.getDatasetMeta(n),r.bar&&r.stack===m&&r.controller.getValueScaleId()===h.id&&l.isDatasetVisible(n)&&(i=h.getRightValue(d[n].data[t]),(f<0&&i<0||f>=0&&i>0)&&(g+=i));return o=h.getPixelForValue(g),a=h.getPixelForValue(g+f),s=(a-o)/2,{size:s,base:o,head:a,center:a+s/2}},calculateBarIndexPixels:function(e,t,n){var r,i,a,s,c,l,u=this,h=n.scale.options,d=u.getStackIndex(e),f=n.pixels,p=f[t],m=f.length,g=n.start,v=n.end;return 1===m?(r=p>g?p-g:v-p,i=p<v?v-p:p-g):(t>0&&(r=(p-f[t-1])/2,t===m-1&&(i=r)),t<m-1&&(i=(f[t+1]-p)/2,0===t&&(r=i))),a=r*h.categoryPercentage,s=i*h.categoryPercentage,c=(a+s)/n.stackCount,l=c*h.barPercentage,l=Math.min(o.valueOrDefault(h.barThickness,l),o.valueOrDefault(h.maxBarThickness,1/0)),p-=a,p+=c*d,p+=(c-l)/2,{size:l,base:p,head:p+l,center:p+l/2}},draw:function(){var e=this,t=e.chart,n=e.getValueScale(),r=e.getMeta().data,i=e.getDataset(),a=r.length,s=0;for(o.canvas.clipArea(t.ctx,t.chartArea);s<a;++s)isNaN(n.getRightValue(i.data[s]))||r[s].draw();o.canvas.unclipArea(t.ctx)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,r=e.custom||{},i=e._model;i.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:o.valueAtIndexOrDefault(t.hoverBackgroundColor,n,o.getHoverColor(i.backgroundColor)),i.borderColor=r.hoverBorderColor?r.hoverBorderColor:o.valueAtIndexOrDefault(t.hoverBorderColor,n,o.getHoverColor(i.borderColor)),i.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:o.valueAtIndexOrDefault(t.hoverBorderWidth,n,i.borderWidth)},removeHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,r=e.custom||{},i=e._model,a=this.chart.options.elements.rectangle;i.backgroundColor=r.backgroundColor?r.backgroundColor:o.valueAtIndexOrDefault(t.backgroundColor,n,a.backgroundColor),i.borderColor=r.borderColor?r.borderColor:o.valueAtIndexOrDefault(t.borderColor,n,a.borderColor),i.borderWidth=r.borderWidth?r.borderWidth:o.valueAtIndexOrDefault(t.borderWidth,n,a.borderWidth)}}),e.controllers.horizontalBar=e.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},{"../core/core.defaults":165,"../elements/index":180,"../helpers/index":185}],156:[function(e,t,n){"use strict";var r=e("../core/core.defaults"),i=e("../elements/index"),o=e("../helpers/index");r._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.datasets[e.datasetIndex].label||"",r=t.datasets[e.datasetIndex].data[e.index];return n+": ("+e.xLabel+", "+e.yLabel+", "+r.r+")"}}}}),t.exports=function(e){e.controllers.bubble=e.DatasetController.extend({dataElementType:i.Point,update:function(e){var t=this,n=t.getMeta(),r=n.data;o.each(r,function(n,r){t.updateElement(n,r,e)})},updateElement:function(e,t,n){var r=this,i=r.getMeta(),o=e.custom||{},a=r.getScaleForId(i.xAxisID),s=r.getScaleForId(i.yAxisID),c=r._resolveElementOptions(e,t),l=r.getDataset().data[t],u=r.index,h=n?a.getPixelForDecimal(.5):a.getPixelForValue("object"==typeof l?l:NaN,t,u),d=n?s.getBasePixel():s.getPixelForValue(l,t,u);e._xScale=a,e._yScale=s,e._options=c,e._datasetIndex=u,e._index=t,e._model={backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth,hitRadius:c.hitRadius,pointStyle:c.pointStyle,radius:n?0:c.radius,skip:o.skip||isNaN(h)||isNaN(d),x:h,y:d},e.pivot()},setHoverStyle:function(e){var t=e._model,n=e._options;t.backgroundColor=o.valueOrDefault(n.hoverBackgroundColor,o.getHoverColor(n.backgroundColor)),t.borderColor=o.valueOrDefault(n.hoverBorderColor,o.getHoverColor(n.borderColor)),t.borderWidth=o.valueOrDefault(n.hoverBorderWidth,n.borderWidth),t.radius=n.radius+n.hoverRadius},removeHoverStyle:function(e){var t=e._model,n=e._options;t.backgroundColor=n.backgroundColor,t.borderColor=n.borderColor,t.borderWidth=n.borderWidth,t.radius=n.radius},_resolveElementOptions:function(e,t){var n,r,i,a=this,s=a.chart,c=s.data.datasets,l=c[a.index],u=e.custom||{},h=s.options.elements.point,d=o.options.resolve,f=l.data[t],p={},m={chart:s,dataIndex:t,dataset:l,datasetIndex:a.index},g=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle"];for(n=0,r=g.length;n<r;++n)i=g[n],p[i]=d([u[i],l[i],h[i]],m,t);return p.radius=d([u.radius,f?f.r:void 0,l.radius,h.radius],m,t),p}})}},{"../core/core.defaults":165,"../elements/index":180,"../helpers/index":185}],157:[function(e,t,n){"use strict";var r=e("../core/core.defaults"),i=e("../elements/index"),o=e("../helpers/index");r._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var n=e.data,r=n.datasets,i=n.labels;if(r.length)for(var o=0;o<r[0].data.length;++o)t.push('<li><span style="background-color:'+r[0].backgroundColor[o]+'"></span>'),i[o]&&t.push(i[o]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map(function(n,r){var i=e.getDatasetMeta(0),a=t.datasets[0],s=i.data[r],c=s&&s.custom||{},l=o.valueAtIndexOrDefault,u=e.options.elements.arc,h=c.backgroundColor?c.backgroundColor:l(a.backgroundColor,r,u.backgroundColor),d=c.borderColor?c.borderColor:l(a.borderColor,r,u.borderColor),f=c.borderWidth?c.borderWidth:l(a.borderWidth,r,u.borderWidth);return{text:n,fillStyle:h,strokeStyle:d,lineWidth:f,hidden:isNaN(a.data[r])||i.data[r].hidden,index:r}}):[]}},onClick:function(e,t){var n,r,i,o=t.index,a=this.chart;for(n=0,r=(a.data.datasets||[]).length;n<r;++n)i=a.getDatasetMeta(n),i.data[o]&&(i.data[o].hidden=!i.data[o].hidden);a.update()}},cutoutPercentage:50,rotation:Math.PI*-.5,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.labels[e.index],r=": "+t.datasets[e.datasetIndex].data[e.index];return o.isArray(n)?(n=n.slice(),n[0]+=r):n+=r,n}}}}),r._set("pie",o.clone(r.doughnut)),r._set("pie",{cutoutPercentage:0}),t.exports=function(e){e.controllers.doughnut=e.controllers.pie=e.DatasetController.extend({dataElementType:i.Arc,linkScales:o.noop,getRingIndex:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&++t;return t},update:function(e){var t=this,n=t.chart,r=n.chartArea,i=n.options,a=i.elements.arc,s=r.right-r.left-a.borderWidth,c=r.bottom-r.top-a.borderWidth,l=Math.min(s,c),u={x:0,y:0},h=t.getMeta(),d=i.cutoutPercentage,f=i.circumference;if(f<2*Math.PI){var p=i.rotation%(2*Math.PI);p+=2*Math.PI*(p>=Math.PI?-1:p<-Math.PI?1:0);var m=p+f,g={x:Math.cos(p),y:Math.sin(p)},v={x:Math.cos(m),y:Math.sin(m)},b=p<=0&&m>=0||p<=2*Math.PI&&2*Math.PI<=m,y=p<=.5*Math.PI&&.5*Math.PI<=m||p<=2.5*Math.PI&&2.5*Math.PI<=m,w=p<=-Math.PI&&-Math.PI<=m||p<=Math.PI&&Math.PI<=m,_=p<=.5*-Math.PI&&.5*-Math.PI<=m||p<=1.5*Math.PI&&1.5*Math.PI<=m,x=d/100,k={x:w?-1:Math.min(g.x*(g.x<0?1:x),v.x*(v.x<0?1:x)),y:_?-1:Math.min(g.y*(g.y<0?1:x),v.y*(v.y<0?1:x))},S={x:b?1:Math.max(g.x*(g.x>0?1:x),v.x*(v.x>0?1:x)),y:y?1:Math.max(g.y*(g.y>0?1:x),v.y*(v.y>0?1:x))},j={width:.5*(S.x-k.x),height:.5*(S.y-k.y)};l=Math.min(s/j.width,c/j.height),u={x:(S.x+k.x)*-.5,y:(S.y+k.y)*-.5}}n.borderWidth=t.getMaxBorderWidth(h.data),n.outerRadius=Math.max((l-n.borderWidth)/2,0),n.innerRadius=Math.max(d?n.outerRadius/100*d:0,0),n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount(),n.offsetX=u.x*n.outerRadius,n.offsetY=u.y*n.outerRadius,h.total=t.calculateTotal(),t.outerRadius=n.outerRadius-n.radiusLength*t.getRingIndex(t.index),t.innerRadius=Math.max(t.outerRadius-n.radiusLength,0),o.each(h.data,function(n,r){t.updateElement(n,r,e)})},updateElement:function(e,t,n){var r=this,i=r.chart,a=i.chartArea,s=i.options,c=s.animation,l=(a.left+a.right)/2,u=(a.top+a.bottom)/2,h=s.rotation,d=s.rotation,f=r.getDataset(),p=n&&c.animateRotate?0:e.hidden?0:r.calculateCircumference(f.data[t])*(s.circumference/(2*Math.PI)),m=n&&c.animateScale?0:r.innerRadius,g=n&&c.animateScale?0:r.outerRadius,v=o.valueAtIndexOrDefault;o.extend(e,{_datasetIndex:r.index,_index:t,_model:{x:l+i.offsetX,y:u+i.offsetY,startAngle:h,endAngle:d,circumference:p,outerRadius:g,innerRadius:m,label:v(f.label,t,i.data.labels[t])}});var b=e._model;this.removeHoverStyle(e),n&&c.animateRotate||(0===t?b.startAngle=s.rotation:b.startAngle=r.getMeta().data[t-1]._model.endAngle,b.endAngle=b.startAngle+b.circumference),e.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},calculateTotal:function(){var e,t=this.getDataset(),n=this.getMeta(),r=0;return o.each(n.data,function(n,i){e=t.data[i],isNaN(e)||n.hidden||(r+=Math.abs(e))}),r},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?2*Math.PI*(e/t):0},getMaxBorderWidth:function(e){for(var t,n,r=0,i=this.index,o=e.length,a=0;a<o;a++)t=e[a]._model?e[a]._model.borderWidth:0,n=e[a]._chart?e[a]._chart.config.data.datasets[i].hoverBorderWidth:0,r=t>r?t:r,r=n>r?n:r;return r}})}},{"../core/core.defaults":165,"../elements/index":180,"../helpers/index":185}],158:[function(e,t,n){"use strict";var r=e("../core/core.defaults"),i=e("../elements/index"),o=e("../helpers/index");r._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}}),t.exports=function(e){function t(e,t){return o.valueOrDefault(e.showLine,t.showLines)}e.controllers.line=e.DatasetController.extend({datasetElementType:i.Line,dataElementType:i.Point,update:function(e){var n,r,i,a=this,s=a.getMeta(),c=s.dataset,l=s.data||[],u=a.chart.options,h=u.elements.line,d=a.getScaleForId(s.yAxisID),f=a.getDataset(),p=t(f,u);for(p&&(i=c.custom||{},void 0!==f.tension&&void 0===f.lineTension&&(f.lineTension=f.tension),c._scale=d,c._datasetIndex=a.index,c._children=l,c._model={spanGaps:f.spanGaps?f.spanGaps:u.spanGaps,tension:i.tension?i.tension:o.valueOrDefault(f.lineTension,h.tension),backgroundColor:i.backgroundColor?i.backgroundColor:f.backgroundColor||h.backgroundColor,borderWidth:i.borderWidth?i.borderWidth:f.borderWidth||h.borderWidth,borderColor:i.borderColor?i.borderColor:f.borderColor||h.borderColor,borderCapStyle:i.borderCapStyle?i.borderCapStyle:f.borderCapStyle||h.borderCapStyle,borderDash:i.borderDash?i.borderDash:f.borderDash||h.borderDash,borderDashOffset:i.borderDashOffset?i.borderDashOffset:f.borderDashOffset||h.borderDashOffset,borderJoinStyle:i.borderJoinStyle?i.borderJoinStyle:f.borderJoinStyle||h.borderJoinStyle,fill:i.fill?i.fill:void 0!==f.fill?f.fill:h.fill,steppedLine:i.steppedLine?i.steppedLine:o.valueOrDefault(f.steppedLine,h.stepped),cubicInterpolationMode:i.cubicInterpolationMode?i.cubicInterpolationMode:o.valueOrDefault(f.cubicInterpolationMode,h.cubicInterpolationMode)},c.pivot()),n=0,r=l.length;n<r;++n)a.updateElement(l[n],n,e);for(p&&0!==c._model.tension&&a.updateBezierControlPoints(),n=0,r=l.length;n<r;++n)l[n].pivot()},getPointBackgroundColor:function(e,t){var n=this.chart.options.elements.point.backgroundColor,r=this.getDataset(),i=e.custom||{};return i.backgroundColor?n=i.backgroundColor:r.pointBackgroundColor?n=o.valueAtIndexOrDefault(r.pointBackgroundColor,t,n):r.backgroundColor&&(n=r.backgroundColor),n},getPointBorderColor:function(e,t){var n=this.chart.options.elements.point.borderColor,r=this.getDataset(),i=e.custom||{};return i.borderColor?n=i.borderColor:r.pointBorderColor?n=o.valueAtIndexOrDefault(r.pointBorderColor,t,n):r.borderColor&&(n=r.borderColor),n},getPointBorderWidth:function(e,t){var n=this.chart.options.elements.point.borderWidth,r=this.getDataset(),i=e.custom||{};return isNaN(i.borderWidth)?!isNaN(r.pointBorderWidth)||o.isArray(r.pointBorderWidth)?n=o.valueAtIndexOrDefault(r.pointBorderWidth,t,n):isNaN(r.borderWidth)||(n=r.borderWidth):n=i.borderWidth,n},updateElement:function(e,t,n){var r,i,a=this,s=a.getMeta(),c=e.custom||{},l=a.getDataset(),u=a.index,h=l.data[t],d=a.getScaleForId(s.yAxisID),f=a.getScaleForId(s.xAxisID),p=a.chart.options.elements.point;void 0!==l.radius&&void 0===l.pointRadius&&(l.pointRadius=l.radius),void 0!==l.hitRadius&&void 0===l.pointHitRadius&&(l.pointHitRadius=l.hitRadius),r=f.getPixelForValue("object"==typeof h?h:NaN,t,u),i=n?d.getBasePixel():a.calculatePointY(h,t,u),e._xScale=f,e._yScale=d,e._datasetIndex=u,e._index=t,e._model={x:r,y:i,skip:c.skip||isNaN(r)||isNaN(i),radius:c.radius||o.valueAtIndexOrDefault(l.pointRadius,t,p.radius),pointStyle:c.pointStyle||o.valueAtIndexOrDefault(l.pointStyle,t,p.pointStyle),backgroundColor:a.getPointBackgroundColor(e,t),borderColor:a.getPointBorderColor(e,t),borderWidth:a.getPointBorderWidth(e,t),tension:s.dataset._model?s.dataset._model.tension:0,steppedLine:!!s.dataset._model&&s.dataset._model.steppedLine,hitRadius:c.hitRadius||o.valueAtIndexOrDefault(l.pointHitRadius,t,p.hitRadius)}},calculatePointY:function(e,t,n){var r,i,o,a=this,s=a.chart,c=a.getMeta(),l=a.getScaleForId(c.yAxisID),u=0,h=0;if(l.options.stacked){for(r=0;r<n;r++)if(i=s.data.datasets[r],o=s.getDatasetMeta(r),"line"===o.type&&o.yAxisID===l.id&&s.isDatasetVisible(r)){var d=Number(l.getRightValue(i.data[t]));d<0?h+=d||0:u+=d||0}var f=Number(l.getRightValue(e));return f<0?l.getPixelForValue(h+f):l.getPixelForValue(u+f)}return l.getPixelForValue(e)},updateBezierControlPoints:function(){function e(e,t,n){return Math.max(Math.min(e,n),t)}var t,n,r,i,a,s=this,c=s.getMeta(),l=s.chart.chartArea,u=c.data||[];if(c.dataset._model.spanGaps&&(u=u.filter(function(e){return!e._model.skip})),"monotone"===c.dataset._model.cubicInterpolationMode)o.splineCurveMonotone(u);else for(t=0,n=u.length;t<n;++t)r=u[t],i=r._model,a=o.splineCurve(o.previousItem(u,t)._model,i,o.nextItem(u,t)._model,c.dataset._model.tension),i.controlPointPreviousX=a.previous.x,i.controlPointPreviousY=a.previous.y,i.controlPointNextX=a.next.x,i.controlPointNextY=a.next.y;if(s.chart.options.elements.line.capBezierPoints)for(t=0,n=u.length;t<n;++t)i=u[t]._model,i.controlPointPreviousX=e(i.controlPointPreviousX,l.left,l.right),i.controlPointPreviousY=e(i.controlPointPreviousY,l.top,l.bottom),i.controlPointNextX=e(i.controlPointNextX,l.left,l.right),i.controlPointNextY=e(i.controlPointNextY,l.top,l.bottom)},draw:function(){var e=this,n=e.chart,r=e.getMeta(),i=r.data||[],a=n.chartArea,s=i.length,c=0;for(o.canvas.clipArea(n.ctx,a),t(e.getDataset(),n.options)&&r.dataset.draw(),o.canvas.unclipArea(n.ctx);c<s;++c)i[c].draw(a)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,r=e.custom||{},i=e._model;i.radius=r.hoverRadius||o.valueAtIndexOrDefault(t.pointHoverRadius,n,this.chart.options.elements.point.hoverRadius),i.backgroundColor=r.hoverBackgroundColor||o.valueAtIndexOrDefault(t.pointHoverBackgroundColor,n,o.getHoverColor(i.backgroundColor)),i.borderColor=r.hoverBorderColor||o.valueAtIndexOrDefault(t.pointHoverBorderColor,n,o.getHoverColor(i.borderColor)),i.borderWidth=r.hoverBorderWidth||o.valueAtIndexOrDefault(t.pointHoverBorderWidth,n,i.borderWidth)},removeHoverStyle:function(e){var t=this,n=t.chart.data.datasets[e._datasetIndex],r=e._index,i=e.custom||{},a=e._model;void 0!==n.radius&&void 0===n.pointRadius&&(n.pointRadius=n.radius),a.radius=i.radius||o.valueAtIndexOrDefault(n.pointRadius,r,t.chart.options.elements.point.radius),a.backgroundColor=t.getPointBackgroundColor(e,r),a.borderColor=t.getPointBorderColor(e,r),a.borderWidth=t.getPointBorderWidth(e,r)}})}},{"../core/core.defaults":165,"../elements/index":180,"../helpers/index":185}],159:[function(e,t,n){"use strict";var r=e("../core/core.defaults"),i=e("../elements/index"),o=e("../helpers/index");r._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var n=e.data,r=n.datasets,i=n.labels;if(r.length)for(var o=0;o<r[0].data.length;++o)t.push('<li><span style="background-color:'+r[0].backgroundColor[o]+'"></span>'),i[o]&&t.push(i[o]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map(function(n,r){var i=e.getDatasetMeta(0),a=t.datasets[0],s=i.data[r],c=s.custom||{},l=o.valueAtIndexOrDefault,u=e.options.elements.arc,h=c.backgroundColor?c.backgroundColor:l(a.backgroundColor,r,u.backgroundColor),d=c.borderColor?c.borderColor:l(a.borderColor,r,u.borderColor),f=c.borderWidth?c.borderWidth:l(a.borderWidth,r,u.borderWidth);return{text:n,fillStyle:h,strokeStyle:d,lineWidth:f,hidden:isNaN(a.data[r])||i.data[r].hidden,index:r}}):[]}},onClick:function(e,t){var n,r,i,o=t.index,a=this.chart;for(n=0,r=(a.data.datasets||[]).length;n<r;++n)i=a.getDatasetMeta(n),i.data[o].hidden=!i.data[o].hidden;a.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}}),t.exports=function(e){e.controllers.polarArea=e.DatasetController.extend({dataElementType:i.Arc,linkScales:o.noop,update:function(e){var t=this,n=t.chart,r=n.chartArea,i=t.getMeta(),a=n.options,s=a.elements.arc,c=Math.min(r.right-r.left,r.bottom-r.top);n.outerRadius=Math.max((c-s.borderWidth/2)/2,0),n.innerRadius=Math.max(a.cutoutPercentage?n.outerRadius/100*a.cutoutPercentage:1,0),n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount(),t.outerRadius=n.outerRadius-n.radiusLength*t.index,t.innerRadius=t.outerRadius-n.radiusLength,i.count=t.countVisibleElements(),o.each(i.data,function(n,r){t.updateElement(n,r,e)})},updateElement:function(e,t,n){for(var r=this,i=r.chart,a=r.getDataset(),s=i.options,c=s.animation,l=i.scale,u=i.data.labels,h=r.calculateCircumference(a.data[t]),d=l.xCenter,f=l.yCenter,p=0,m=r.getMeta(),g=0;g<t;++g)isNaN(a.data[g])||m.data[g].hidden||++p;var v=s.startAngle,b=e.hidden?0:l.getDistanceFromCenterForValue(a.data[t]),y=v+h*p,w=y+(e.hidden?0:h),_=c.animateScale?0:l.getDistanceFromCenterForValue(a.data[t]);o.extend(e,{_datasetIndex:r.index,_index:t,_scale:l,_model:{x:d,y:f,innerRadius:0,outerRadius:n?_:b,startAngle:n&&c.animateRotate?v:y,endAngle:n&&c.animateRotate?v:w,label:o.valueAtIndexOrDefault(u,t,u[t])}}),r.removeHoverStyle(e),e.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},countVisibleElements:function(){var e=this.getDataset(),t=this.getMeta(),n=0;return o.each(t.data,function(t,r){isNaN(e.data[r])||t.hidden||n++}),n},calculateCircumference:function(e){var t=this.getMeta().count;return t>0&&!isNaN(e)?2*Math.PI/t:0}})}},{"../core/core.defaults":165,"../elements/index":180,"../helpers/index":185}],160:[function(e,t,n){"use strict";var r=e("../core/core.defaults"),i=e("../elements/index"),o=e("../helpers/index");r._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}}),t.exports=function(e){e.controllers.radar=e.DatasetController.extend({datasetElementType:i.Line,dataElementType:i.Point,linkScales:o.noop,update:function(e){var t=this,n=t.getMeta(),r=n.dataset,i=n.data,a=r.custom||{},s=t.getDataset(),c=t.chart.options.elements.line,l=t.chart.scale;void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension),o.extend(n.dataset,{_datasetIndex:t.index,_scale:l,_children:i,_loop:!0,_model:{tension:a.tension?a.tension:o.valueOrDefault(s.lineTension,c.tension),backgroundColor:a.backgroundColor?a.backgroundColor:s.backgroundColor||c.backgroundColor,borderWidth:a.borderWidth?a.borderWidth:s.borderWidth||c.borderWidth,borderColor:a.borderColor?a.borderColor:s.borderColor||c.borderColor,fill:a.fill?a.fill:void 0!==s.fill?s.fill:c.fill,borderCapStyle:a.borderCapStyle?a.borderCapStyle:s.borderCapStyle||c.borderCapStyle,borderDash:a.borderDash?a.borderDash:s.borderDash||c.borderDash,borderDashOffset:a.borderDashOffset?a.borderDashOffset:s.borderDashOffset||c.borderDashOffset,borderJoinStyle:a.borderJoinStyle?a.borderJoinStyle:s.borderJoinStyle||c.borderJoinStyle}}),n.dataset.pivot(),o.each(i,function(n,r){t.updateElement(n,r,e)},t),t.updateBezierControlPoints()},updateElement:function(e,t,n){var r=this,i=e.custom||{},a=r.getDataset(),s=r.chart.scale,c=r.chart.options.elements.point,l=s.getPointPositionForValue(t,a.data[t]);void 0!==a.radius&&void 0===a.pointRadius&&(a.pointRadius=a.radius),void 0!==a.hitRadius&&void 0===a.pointHitRadius&&(a.pointHitRadius=a.hitRadius),o.extend(e,{_datasetIndex:r.index,_index:t,_scale:s,_model:{x:n?s.xCenter:l.x,y:n?s.yCenter:l.y,tension:i.tension?i.tension:o.valueOrDefault(a.lineTension,r.chart.options.elements.line.tension),radius:i.radius?i.radius:o.valueAtIndexOrDefault(a.pointRadius,t,c.radius),backgroundColor:i.backgroundColor?i.backgroundColor:o.valueAtIndexOrDefault(a.pointBackgroundColor,t,c.backgroundColor),borderColor:i.borderColor?i.borderColor:o.valueAtIndexOrDefault(a.pointBorderColor,t,c.borderColor),borderWidth:i.borderWidth?i.borderWidth:o.valueAtIndexOrDefault(a.pointBorderWidth,t,c.borderWidth),pointStyle:i.pointStyle?i.pointStyle:o.valueAtIndexOrDefault(a.pointStyle,t,c.pointStyle),hitRadius:i.hitRadius?i.hitRadius:o.valueAtIndexOrDefault(a.pointHitRadius,t,c.hitRadius)}}),e._model.skip=i.skip?i.skip:isNaN(e._model.x)||isNaN(e._model.y)},updateBezierControlPoints:function(){var e=this.chart.chartArea,t=this.getMeta();o.each(t.data,function(n,r){var i=n._model,a=o.splineCurve(o.previousItem(t.data,r,!0)._model,i,o.nextItem(t.data,r,!0)._model,i.tension);
i.controlPointPreviousX=Math.max(Math.min(a.previous.x,e.right),e.left),i.controlPointPreviousY=Math.max(Math.min(a.previous.y,e.bottom),e.top),i.controlPointNextX=Math.max(Math.min(a.next.x,e.right),e.left),i.controlPointNextY=Math.max(Math.min(a.next.y,e.bottom),e.top),n.pivot()})},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e.custom||{},r=e._index,i=e._model;i.radius=n.hoverRadius?n.hoverRadius:o.valueAtIndexOrDefault(t.pointHoverRadius,r,this.chart.options.elements.point.hoverRadius),i.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:o.valueAtIndexOrDefault(t.pointHoverBackgroundColor,r,o.getHoverColor(i.backgroundColor)),i.borderColor=n.hoverBorderColor?n.hoverBorderColor:o.valueAtIndexOrDefault(t.pointHoverBorderColor,r,o.getHoverColor(i.borderColor)),i.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:o.valueAtIndexOrDefault(t.pointHoverBorderWidth,r,i.borderWidth)},removeHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e.custom||{},r=e._index,i=e._model,a=this.chart.options.elements.point;i.radius=n.radius?n.radius:o.valueAtIndexOrDefault(t.pointRadius,r,a.radius),i.backgroundColor=n.backgroundColor?n.backgroundColor:o.valueAtIndexOrDefault(t.pointBackgroundColor,r,a.backgroundColor),i.borderColor=n.borderColor?n.borderColor:o.valueAtIndexOrDefault(t.pointBorderColor,r,a.borderColor),i.borderWidth=n.borderWidth?n.borderWidth:o.valueAtIndexOrDefault(t.pointBorderWidth,r,a.borderWidth)}})}},{"../core/core.defaults":165,"../elements/index":180,"../helpers/index":185}],161:[function(e,t,n){"use strict";var r=e("../core/core.defaults");r._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}}),t.exports=function(e){e.controllers.scatter=e.controllers.line}},{"../core/core.defaults":165}],162:[function(e,t,n){"use strict";var r=e("./core.defaults"),i=e("./core.element"),o=e("../helpers/index");r._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:o.noop,onComplete:o.noop}}),t.exports=function(e){e.Animation=i.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),e.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(e,t,n,r){var i,o,a=this.animations;for(t.chart=e,r||(e.animating=!0),i=0,o=a.length;i<o;++i)if(a[i].chart===e)return void(a[i]=t);a.push(t),1===a.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var t=o.findIndex(this.animations,function(t){return t.chart===e});t!==-1&&(this.animations.splice(t,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=o.requestAnimFrame.call(window,function(){e.request=null,e.startDigest()}))},startDigest:function(){var e=this,t=Date.now(),n=0;e.dropFrames>1&&(n=Math.floor(e.dropFrames),e.dropFrames=e.dropFrames%1),e.advance(1+n);var r=Date.now();e.dropFrames+=(r-t)/e.frameDuration,e.animations.length>0&&e.requestAnimationFrame()},advance:function(e){for(var t,n,r=this.animations,i=0;i<r.length;)t=r[i],n=t.chart,t.currentStep=(t.currentStep||0)+e,t.currentStep=Math.min(t.currentStep,t.numSteps),o.callback(t.render,[n,t],n),o.callback(t.onAnimationProgress,[t],n),t.currentStep>=t.numSteps?(o.callback(t.onAnimationComplete,[t],n),n.animating=!1,r.splice(i,1)):++i}},Object.defineProperty(e.Animation.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(e.Animation.prototype,"chartInstance",{get:function(){return this.chart},set:function(e){this.chart=e}})}},{"../helpers/index":185,"./core.defaults":165,"./core.element":166}],163:[function(e,t,n){"use strict";var r=e("./core.defaults"),i=e("../helpers/index"),o=e("./core.interaction"),a=e("../platforms/platform");t.exports=function(e){function t(e){e=e||{};var t=e.data=e.data||{};return t.datasets=t.datasets||[],t.labels=t.labels||[],e.options=i.configMerge(r.global,r[e.type],e.options||{}),e}function n(e){var t=e.options;t.scale?e.scale.options=t.scale:t.scales&&t.scales.xAxes.concat(t.scales.yAxes).forEach(function(t){e.scales[t.id].options=t}),e.tooltip._options=t.tooltips}function s(e){return"top"===e||"bottom"===e}var c=e.plugins;e.types={},e.instances={},e.controllers={},i.extend(e.prototype,{construct:function(n,r){var o=this;r=t(r);var s=a.acquireContext(n,r),c=s&&s.canvas,l=c&&c.height,u=c&&c.width;return o.id=i.uid(),o.ctx=s,o.canvas=c,o.config=r,o.width=u,o.height=l,o.aspectRatio=l?u/l:null,o.options=r.options,o._bufferedRender=!1,o.chart=o,o.controller=o,e.instances[o.id]=o,Object.defineProperty(o,"data",{get:function(){return o.config.data},set:function(e){o.config.data=e}}),s&&c?(o.initialize(),void o.update()):void console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var e=this;return c.notify(e,"beforeInit"),i.retinaScale(e,e.options.devicePixelRatio),e.bindEvents(),e.options.responsive&&e.resize(!0),e.ensureScalesHaveIDs(),e.buildScales(),e.initToolTip(),c.notify(e,"afterInit"),e},clear:function(){return i.canvas.clear(this),this},stop:function(){return e.animationService.cancelAnimation(this),this},resize:function(e){var t=this,n=t.options,r=t.canvas,o=n.maintainAspectRatio&&t.aspectRatio||null,a=Math.max(0,Math.floor(i.getMaximumWidth(r))),s=Math.max(0,Math.floor(o?a/o:i.getMaximumHeight(r)));if((t.width!==a||t.height!==s)&&(r.width=t.width=a,r.height=t.height=s,r.style.width=a+"px",r.style.height=s+"px",i.retinaScale(t,n.devicePixelRatio),!e)){var l={width:a,height:s};c.notify(t,"resize",[l]),t.options.onResize&&t.options.onResize(t,l),t.stop(),t.update(t.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var e=this.options,t=e.scales||{},n=e.scale;i.each(t.xAxes,function(e,t){e.id=e.id||"x-axis-"+t}),i.each(t.yAxes,function(e,t){e.id=e.id||"y-axis-"+t}),n&&(n.id=n.id||"scale")},buildScales:function(){var t=this,n=t.options,r=t.scales={},o=[];n.scales&&(o=o.concat((n.scales.xAxes||[]).map(function(e){return{options:e,dtype:"category",dposition:"bottom"}}),(n.scales.yAxes||[]).map(function(e){return{options:e,dtype:"linear",dposition:"left"}}))),n.scale&&o.push({options:n.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),i.each(o,function(n){var o=n.options,a=i.valueOrDefault(o.type,n.dtype),c=e.scaleService.getScaleConstructor(a);if(c){s(o.position)!==s(n.dposition)&&(o.position=n.dposition);var l=new c({id:o.id,options:o,ctx:t.ctx,chart:t});r[l.id]=l,l.mergeTicksOptions(),n.isDefault&&(t.scale=l)}}),e.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var t=this,n=[],r=[];return i.each(t.data.datasets,function(i,o){var a=t.getDatasetMeta(o),s=i.type||t.config.type;if(a.type&&a.type!==s&&(t.destroyDatasetMeta(o),a=t.getDatasetMeta(o)),a.type=s,n.push(a.type),a.controller)a.controller.updateIndex(o);else{var c=e.controllers[a.type];if(void 0===c)throw new Error('"'+a.type+'" is not a chart type.');a.controller=new c(t,o),r.push(a.controller)}},t),r},resetElements:function(){var e=this;i.each(e.data.datasets,function(t,n){e.getDatasetMeta(n).controller.reset()},e)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(e){var t=this;if(e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]}),n(t),c.notify(t,"beforeUpdate")!==!1){t.tooltip._data=t.data;var r=t.buildOrUpdateControllers();i.each(t.data.datasets,function(e,n){t.getDatasetMeta(n).controller.buildOrUpdateElements()},t),t.updateLayout(),i.each(r,function(e){e.reset()}),t.updateDatasets(),c.notify(t,"afterUpdate"),t._bufferedRender?t._bufferedRequest={duration:e.duration,easing:e.easing,lazy:e.lazy}:t.render(e)}},updateLayout:function(){var t=this;c.notify(t,"beforeLayout")!==!1&&(e.layoutService.update(this,this.width,this.height),c.notify(t,"afterScaleUpdate"),c.notify(t,"afterLayout"))},updateDatasets:function(){var e=this;if(c.notify(e,"beforeDatasetsUpdate")!==!1){for(var t=0,n=e.data.datasets.length;t<n;++t)e.updateDataset(t);c.notify(e,"afterDatasetsUpdate")}},updateDataset:function(e){var t=this,n=t.getDatasetMeta(e),r={meta:n,index:e};c.notify(t,"beforeDatasetUpdate",[r])!==!1&&(n.controller.update(),c.notify(t,"afterDatasetUpdate",[r]))},render:function(t){var n=this;t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]});var r=t.duration,o=t.lazy;if(c.notify(n,"beforeRender")!==!1){var a=n.options.animation,s=function(e){c.notify(n,"afterRender"),i.callback(a&&a.onComplete,[e],n)};if(a&&("undefined"!=typeof r&&0!==r||"undefined"==typeof r&&0!==a.duration)){var l=new e.Animation({numSteps:(r||a.duration)/16.66,easing:t.easing||a.easing,render:function(e,t){var n=i.easing.effects[t.easing],r=t.currentStep,o=r/t.numSteps;e.draw(n(o),o,r)},onAnimationProgress:a.onProgress,onAnimationComplete:s});e.animationService.addAnimation(n,l,r,o)}else n.draw(),s(new e.Animation({numSteps:0,chart:n}));return n}},draw:function(e){var t=this;t.clear(),i.isNullOrUndef(e)&&(e=1),t.transition(e),c.notify(t,"beforeDraw",[e])!==!1&&(i.each(t.boxes,function(e){e.draw(t.chartArea)},t),t.scale&&t.scale.draw(),t.drawDatasets(e),t.tooltip.draw(),c.notify(t,"afterDraw",[e]))},transition:function(e){for(var t=this,n=0,r=(t.data.datasets||[]).length;n<r;++n)t.isDatasetVisible(n)&&t.getDatasetMeta(n).controller.transition(e);t.tooltip.transition(e)},drawDatasets:function(e){var t=this;if(c.notify(t,"beforeDatasetsDraw",[e])!==!1){for(var n=(t.data.datasets||[]).length-1;n>=0;--n)t.isDatasetVisible(n)&&t.drawDataset(n,e);c.notify(t,"afterDatasetsDraw",[e])}},drawDataset:function(e,t){var n=this,r=n.getDatasetMeta(e),i={meta:r,index:e,easingValue:t};c.notify(n,"beforeDatasetDraw",[i])!==!1&&(r.controller.draw(t),c.notify(n,"afterDatasetDraw",[i]))},getElementAtEvent:function(e){return o.modes.single(this,e)},getElementsAtEvent:function(e){return o.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return o.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,t,n){var r=o.modes[t];return"function"==typeof r?r(this,e,n):[]},getDatasetAtEvent:function(e){return o.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(e){var t=this,n=t.data.datasets[e];n._meta||(n._meta={});var r=n._meta[t.id];return r||(r=n._meta[t.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),r},getVisibleDatasetCount:function(){for(var e=0,t=0,n=this.data.datasets.length;t<n;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(e){var t=this.id,n=this.data.datasets[e],r=n._meta&&n._meta[t];r&&(r.controller.destroy(),delete n._meta[t])},destroy:function(){var t,n,r=this,o=r.canvas;for(r.stop(),t=0,n=r.data.datasets.length;t<n;++t)r.destroyDatasetMeta(t);o&&(r.unbindEvents(),i.canvas.clear(r),a.releaseContext(r.ctx),r.canvas=null,r.ctx=null),c.notify(r,"destroy"),delete e.instances[r.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new e.Tooltip({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var e=this,t=e._listeners={},n=function(){e.eventHandler.apply(e,arguments)};i.each(e.options.events,function(r){a.addEventListener(e,r,n),t[r]=n}),e.options.responsive&&(n=function(){e.resize()},a.addEventListener(e,"resize",n),t.resize=n)},unbindEvents:function(){var e=this,t=e._listeners;t&&(delete e._listeners,i.each(t,function(t,n){a.removeEventListener(e,n,t)}))},updateHoverStyle:function(e,t,n){var r,i,o,a=n?"setHoverStyle":"removeHoverStyle";for(i=0,o=e.length;i<o;++i)r=e[i],r&&this.getDatasetMeta(r._datasetIndex).controller[a](r)},eventHandler:function(e){var t=this,n=t.tooltip;if(c.notify(t,"beforeEvent",[e])!==!1){t._bufferedRender=!0,t._bufferedRequest=null;var r=t.handleEvent(e);r|=n&&n.handleEvent(e),c.notify(t,"afterEvent",[e]);var i=t._bufferedRequest;return i?t.render(i):r&&!t.animating&&(t.stop(),t.render(t.options.hover.animationDuration,!0)),t._bufferedRender=!1,t._bufferedRequest=null,t}},handleEvent:function(e){var t=this,n=t.options||{},r=n.hover,o=!1;return t.lastActive=t.lastActive||[],"mouseout"===e.type?t.active=[]:t.active=t.getElementsAtEventForMode(e,r.mode,r),i.callback(n.onHover||n.hover.onHover,[e["native"],t.active],t),"mouseup"!==e.type&&"click"!==e.type||n.onClick&&n.onClick.call(t,e["native"],t.active),t.lastActive.length&&t.updateHoverStyle(t.lastActive,r.mode,!1),t.active.length&&r.mode&&t.updateHoverStyle(t.active,r.mode,!0),o=!i.arrayEquals(t.active,t.lastActive),t.lastActive=t.active,o}}),e.Controller=e}},{"../helpers/index":185,"../platforms/platform":188,"./core.defaults":165,"./core.interaction":168}],164:[function(e,t,n){"use strict";var r=e("../helpers/index");t.exports=function(e){function t(e,t){return e._chartjs?void e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),void i.forEach(function(t){var n="onData"+t.charAt(0).toUpperCase()+t.slice(1),i=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){var t=Array.prototype.slice.call(arguments),o=i.apply(this,t);return r.each(e._chartjs.listeners,function(e){"function"==typeof e[n]&&e[n].apply(e,t)}),o}})}))}function n(e,t){var n=e._chartjs;if(n){var r=n.listeners,o=r.indexOf(t);o!==-1&&r.splice(o,1),r.length>0||(i.forEach(function(t){delete e[t]}),delete e._chartjs)}}var i=["push","pop","shift","splice","unshift"];e.DatasetController=function(e,t){this.initialize(e,t)},r.extend(e.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(e,t){var n=this;n.chart=e,n.index=t,n.linkScales(),n.addElements()},updateIndex:function(e){this.index=e},linkScales:function(){var e=this,t=e.getMeta(),n=e.getDataset();null===t.xAxisID&&(t.xAxisID=n.xAxisID||e.chart.options.scales.xAxes[0].id),null===t.yAxisID&&(t.yAxisID=n.yAxisID||e.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},reset:function(){this.update(!0)},destroy:function(){this._data&&n(this._data,this)},createMetaDataset:function(){var e=this,t=e.datasetElementType;return t&&new t({_chart:e.chart,_datasetIndex:e.index})},createMetaData:function(e){var t=this,n=t.dataElementType;return n&&new n({_chart:t.chart,_datasetIndex:t.index,_index:e})},addElements:function(){var e,t,n=this,r=n.getMeta(),i=n.getDataset().data||[],o=r.data;for(e=0,t=i.length;e<t;++e)o[e]=o[e]||n.createMetaData(e);r.dataset=r.dataset||n.createMetaDataset()},addElementAndReset:function(e){var t=this.createMetaData(e);this.getMeta().data.splice(e,0,t),this.updateElement(t,e,!0)},buildOrUpdateElements:function(){var e=this,r=e.getDataset(),i=r.data||(r.data=[]);e._data!==i&&(e._data&&n(e._data,e),t(i,e),e._data=i),e.resyncElements()},update:r.noop,transition:function(e){for(var t=this.getMeta(),n=t.data||[],r=n.length,i=0;i<r;++i)n[i].transition(e);t.dataset&&t.dataset.transition(e)},draw:function(){var e=this.getMeta(),t=e.data||[],n=t.length,r=0;for(e.dataset&&e.dataset.draw();r<n;++r)t[r].draw()},removeHoverStyle:function(e,t){var n=this.chart.data.datasets[e._datasetIndex],i=e._index,o=e.custom||{},a=r.valueAtIndexOrDefault,s=e._model;s.backgroundColor=o.backgroundColor?o.backgroundColor:a(n.backgroundColor,i,t.backgroundColor),s.borderColor=o.borderColor?o.borderColor:a(n.borderColor,i,t.borderColor),s.borderWidth=o.borderWidth?o.borderWidth:a(n.borderWidth,i,t.borderWidth)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,i=e.custom||{},o=r.valueAtIndexOrDefault,a=r.getHoverColor,s=e._model;s.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:o(t.hoverBackgroundColor,n,a(s.backgroundColor)),s.borderColor=i.hoverBorderColor?i.hoverBorderColor:o(t.hoverBorderColor,n,a(s.borderColor)),s.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:o(t.hoverBorderWidth,n,s.borderWidth)},resyncElements:function(){var e=this,t=e.getMeta(),n=e.getDataset().data,r=t.data.length,i=n.length;i<r?t.data.splice(i,r-i):i>r&&e.insertElements(r,i-r)},insertElements:function(e,t){for(var n=0;n<t;++n)this.addElementAndReset(e+n)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,t){this.getMeta().data.splice(e,t),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),e.DatasetController.extend=r.inherits}},{"../helpers/index":185}],165:[function(e,t,n){"use strict";var r=e("../helpers/index");t.exports={_set:function(e,t){return r.merge(this[e]||(this[e]={}),t)}}},{"../helpers/index":185}],166:[function(e,t,n){"use strict";function r(e,t,n,r){var o,a,s,c,l,u,h,d,f,p=Object.keys(n);for(o=0,a=p.length;o<a;++o)if(s=p[o],u=n[s],t.hasOwnProperty(s)||(t[s]=u),c=t[s],c!==u&&"_"!==s[0]){if(e.hasOwnProperty(s)||(e[s]=c),l=e[s],h=typeof u,h===typeof l)if("string"===h){if(d=i(l),d.valid&&(f=i(u),f.valid)){t[s]=f.mix(d,r).rgbString();continue}}else if("number"===h&&isFinite(l)&&isFinite(u)){t[s]=l+(u-l)*r;continue}t[s]=u}}var i=e("chartjs-color"),o=e("../helpers/index"),a=function(e){o.extend(this,e),this.initialize.apply(this,arguments)};o.extend(a.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=o.clone(e._model)),e._start={},e},transition:function(e){var t=this,n=t._model,i=t._start,o=t._view;return n&&1!==e?(o||(o=t._view={}),i||(i=t._start={}),r(i,o,n,e),t):(t._view=n,t._start=null,t)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return o.isNumber(this._model.x)&&o.isNumber(this._model.y)}}),a.extend=o.inherits,t.exports=a},{"../helpers/index":185,"chartjs-color":199}],167:[function(e,t,n){"use strict";var r=e("chartjs-color"),i=e("./core.defaults"),o=e("../helpers/index");t.exports=function(e){function t(e,t,n){var r;return"string"==typeof e?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}function n(e){return void 0!==e&&null!==e&&"none"!==e}function a(e,r,i){var o=document.defaultView,a=e.parentNode,s=o.getComputedStyle(e)[r],c=o.getComputedStyle(a)[r],l=n(s),u=n(c),h=Number.POSITIVE_INFINITY;return l||u?Math.min(l?t(s,e,i):h,u?t(c,a,i):h):"none"}o.extend=function(e){for(var t=function(t,n){e[n]=t},n=1,r=arguments.length;n<r;n++)o.each(arguments[n],t);return e},o.configMerge=function(){return o.merge(o.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(t,n,r,i){var a=n[t]||{},s=r[t];"scales"===t?n[t]=o.scaleMerge(a,s):"scale"===t?n[t]=o.merge(a,[e.scaleService.getScaleDefaults(s.type),s]):o._merger(t,n,r,i)}})},o.scaleMerge=function(){return o.merge(o.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(t,n,r,i){if("xAxes"===t||"yAxes"===t){var a,s,c,l=r[t].length;for(n[t]||(n[t]=[]),a=0;a<l;++a)c=r[t][a],s=o.valueOrDefault(c.type,"xAxes"===t?"category":"linear"),a>=n[t].length&&n[t].push({}),!n[t][a].type||c.type&&c.type!==n[t][a].type?o.merge(n[t][a],[e.scaleService.getScaleDefaults(s),c]):o.merge(n[t][a],c)}else o._merger(t,n,r,i)}})},o.where=function(e,t){if(o.isArray(e)&&Array.prototype.filter)return e.filter(t);var n=[];return o.each(e,function(e){t(e)&&n.push(e)}),n},o.findIndex=Array.prototype.findIndex?function(e,t,n){return e.findIndex(t,n)}:function(e,t,n){n=void 0===n?e:n;for(var r=0,i=e.length;r<i;++r)if(t.call(n,e[r],r,e))return r;return-1},o.findNextWhere=function(e,t,n){o.isNullOrUndef(n)&&(n=-1);for(var r=n+1;r<e.length;r++){var i=e[r];if(t(i))return i}},o.findPreviousWhere=function(e,t,n){o.isNullOrUndef(n)&&(n=e.length);for(var r=n-1;r>=0;r--){var i=e[r];if(t(i))return i}},o.inherits=function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},r=function(){this.constructor=n};return r.prototype=t.prototype,n.prototype=new r,n.extend=o.inherits,e&&o.extend(n.prototype,e),n.__super__=t.prototype,n},o.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},o.almostEquals=function(e,t,n){return Math.abs(e-t)<n},o.almostWhole=function(e,t){var n=Math.round(e);return n-t<e&&n+t>e},o.max=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.max(e,t)},Number.NEGATIVE_INFINITY)},o.min=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.min(e,t)},Number.POSITIVE_INFINITY)},o.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return e=+e,0===e||isNaN(e)?e:e>0?1:-1},o.log10=Math.log10?function(e){return Math.log10(e)}:function(e){return Math.log(e)/Math.LN10},o.toRadians=function(e){return e*(Math.PI/180)},o.toDegrees=function(e){return e*(180/Math.PI)},o.getAngleFromPoint=function(e,t){var n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r),o=Math.atan2(r,n);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:i}},o.distanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},o.aliasPixel=function(e){return e%2===0?0:.5},o.splineCurve=function(e,t,n,r){var i=e.skip?t:e,o=t,a=n.skip?t:n,s=Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2)),c=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),l=s/(s+c),u=c/(s+c);l=isNaN(l)?0:l,u=isNaN(u)?0:u;var h=r*l,d=r*u;return{previous:{x:o.x-h*(a.x-i.x),y:o.y-h*(a.y-i.y)},next:{x:o.x+d*(a.x-i.x),y:o.y+d*(a.y-i.y)}}},o.EPSILON=Number.EPSILON||1e-14,o.splineCurveMonotone=function(e){var t,n,r,i,a=(e||[]).map(function(e){return{model:e._model,deltaK:0,mK:0}}),s=a.length;for(t=0;t<s;++t)if(r=a[t],!r.model.skip){if(n=t>0?a[t-1]:null,i=t<s-1?a[t+1]:null,i&&!i.model.skip){var c=i.model.x-r.model.x;r.deltaK=0!==c?(i.model.y-r.model.y)/c:0}!n||n.model.skip?r.mK=r.deltaK:!i||i.model.skip?r.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(r.deltaK)?r.mK=0:r.mK=(n.deltaK+r.deltaK)/2}var l,u,h,d;for(t=0;t<s-1;++t)r=a[t],i=a[t+1],r.model.skip||i.model.skip||(o.almostEquals(r.deltaK,0,this.EPSILON)?r.mK=i.mK=0:(l=r.mK/r.deltaK,u=i.mK/r.deltaK,d=Math.pow(l,2)+Math.pow(u,2),d<=9||(h=3/Math.sqrt(d),r.mK=l*h*r.deltaK,i.mK=u*h*r.deltaK)));var f;for(t=0;t<s;++t)r=a[t],r.model.skip||(n=t>0?a[t-1]:null,i=t<s-1?a[t+1]:null,n&&!n.model.skip&&(f=(r.model.x-n.model.x)/3,r.model.controlPointPreviousX=r.model.x-f,r.model.controlPointPreviousY=r.model.y-f*r.mK),i&&!i.model.skip&&(f=(i.model.x-r.model.x)/3,r.model.controlPointNextX=r.model.x+f,r.model.controlPointNextY=r.model.y+f*r.mK))},o.nextItem=function(e,t,n){return n?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},o.previousItem=function(e,t,n){return n?t<=0?e[e.length-1]:e[t-1]:t<=0?e[0]:e[t-1]},o.niceNum=function(e,t){var n,r=Math.floor(o.log10(e)),i=e/Math.pow(10,r);return n=t?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10,n*Math.pow(10,r)},o.requestAnimFrame=function(){return"undefined"==typeof window?function(e){e()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),o.getRelativePosition=function(e,t){var n,r,i=e.originalEvent||e,a=e.currentTarget||e.srcElement,s=a.getBoundingClientRect(),c=i.touches;c&&c.length>0?(n=c[0].clientX,r=c[0].clientY):(n=i.clientX,r=i.clientY);var l=parseFloat(o.getStyle(a,"padding-left")),u=parseFloat(o.getStyle(a,"padding-top")),h=parseFloat(o.getStyle(a,"padding-right")),d=parseFloat(o.getStyle(a,"padding-bottom")),f=s.right-s.left-l-h,p=s.bottom-s.top-u-d;return n=Math.round((n-s.left-l)/f*a.width/t.currentDevicePixelRatio),r=Math.round((r-s.top-u)/p*a.height/t.currentDevicePixelRatio),{x:n,y:r}},o.getConstraintWidth=function(e){return a(e,"max-width","clientWidth")},o.getConstraintHeight=function(e){return a(e,"max-height","clientHeight")},o.getMaximumWidth=function(e){var t=e.parentNode;if(!t)return e.clientWidth;var n=parseInt(o.getStyle(t,"padding-left"),10),r=parseInt(o.getStyle(t,"padding-right"),10),i=t.clientWidth-n-r,a=o.getConstraintWidth(e);return isNaN(a)?i:Math.min(i,a)},o.getMaximumHeight=function(e){var t=e.parentNode;if(!t)return e.clientHeight;var n=parseInt(o.getStyle(t,"padding-top"),10),r=parseInt(o.getStyle(t,"padding-bottom"),10),i=t.clientHeight-n-r,a=o.getConstraintHeight(e);return isNaN(a)?i:Math.min(i,a)},o.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},o.retinaScale=function(e,t){var n=e.currentDevicePixelRatio=t||window.devicePixelRatio||1;if(1!==n){var r=e.canvas,i=e.height,o=e.width;r.height=i*n,r.width=o*n,e.ctx.scale(n,n),r.style.height=i+"px",r.style.width=o+"px"}},o.fontString=function(e,t,n){return t+" "+e+"px "+n},o.longestText=function(e,t,n,r){r=r||{};var i=r.data=r.data||{},a=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},a=r.garbageCollect=[],r.font=t),e.font=t;var s=0;o.each(n,function(t){void 0!==t&&null!==t&&o.isArray(t)!==!0?s=o.measureText(e,i,a,s,t):o.isArray(t)&&o.each(t,function(t){void 0===t||null===t||o.isArray(t)||(s=o.measureText(e,i,a,s,t))})});var c=a.length/2;if(c>n.length){for(var l=0;l<c;l++)delete i[a[l]];a.splice(0,c)}return s},o.measureText=function(e,t,n,r,i){var o=t[i];return o||(o=t[i]=e.measureText(i).width,n.push(i)),o>r&&(r=o),r},o.numberOfLabelLines=function(e){var t=1;return o.each(e,function(e){o.isArray(e)&&e.length>t&&(t=e.length)}),t},o.color=r?function(e){return e instanceof CanvasGradient&&(e=i.global.defaultColor),r(e)}:function(e){return console.error("Color.js not found!"),e},o.getHoverColor=function(e){return e instanceof CanvasPattern?e:o.color(e).saturate(.5).darken(.1).rgbString()}}},{"../helpers/index":185,"./core.defaults":165,"chartjs-color":199}],168:[function(e,t,n){"use strict";function r(e,t){return e["native"]?{x:e.x,y:e.y}:l.getRelativePosition(e,t)}function i(e,t){var n,r,i,o,a,s=e.data.datasets;for(r=0,o=s.length;r<o;++r)if(e.isDatasetVisible(r))for(n=e.getDatasetMeta(r),i=0,a=n.data.length;i<a;++i){var c=n.data[i];c._view.skip||t(c)}}function o(e,t){var n=[];return i(e,function(e){e.inRange(t.x,t.y)&&n.push(e)}),n}function a(e,t,n,r){var o=Number.POSITIVE_INFINITY,a=[];return i(e,function(e){if(!n||e.inRange(t.x,t.y)){var i=e.getCenterPoint(),s=r(t,i);s<o?(a=[e],o=s):s===o&&a.push(e)}}),a}function s(e){var t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(e,r){var i=t?Math.abs(e.x-r.x):0,o=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function c(e,t,n){var i=r(t,e);n.axis=n.axis||"x";var c=s(n.axis),l=n.intersect?o(e,i):a(e,i,!1,c),u=[];return l.length?(e.data.datasets.forEach(function(t,n){if(e.isDatasetVisible(n)){var r=e.getDatasetMeta(n),i=r.data[l[0]._index];i&&!i._view.skip&&u.push(i)}}),u):[]}var l=e("../helpers/index");t.exports={modes:{single:function(e,t){var n=r(t,e),o=[];return i(e,function(e){if(e.inRange(n.x,n.y))return o.push(e),o}),o.slice(0,1)},label:c,index:c,dataset:function(e,t,n){var i=r(t,e);n.axis=n.axis||"xy";var c=s(n.axis),l=n.intersect?o(e,i):a(e,i,!1,c);return l.length>0&&(l=e.getDatasetMeta(l[0]._datasetIndex).data),l},"x-axis":function(e,t){return c(e,t,{intersect:!0})},point:function(e,t){var n=r(t,e);return o(e,n)},nearest:function(e,t,n){var i=r(t,e);n.axis=n.axis||"xy";var o=s(n.axis),c=a(e,i,n.intersect,o);return c.length>1&&c.sort(function(e,t){var n=e.getArea(),r=t.getArea(),i=n-r;return 0===i&&(i=e._datasetIndex-t._datasetIndex),i}),c.slice(0,1)},x:function(e,t,n){var o=r(t,e),a=[],s=!1;return i(e,function(e){e.inXRange(o.x)&&a.push(e),e.inRange(o.x,o.y)&&(s=!0)}),n.intersect&&!s&&(a=[]),a},y:function(e,t,n){var o=r(t,e),a=[],s=!1;return i(e,function(e){e.inYRange(o.y)&&a.push(e),e.inRange(o.x,o.y)&&(s=!0)}),n.intersect&&!s&&(a=[]),a}}}},{"../helpers/index":185}],169:[function(e,t,n){"use strict";var r=e("./core.defaults");r._set("global",{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},layout:{padding:{top:0,right:0,bottom:0,left:0}}}),t.exports=function(){var e=function(e,t){return this.construct(e,t),this};return e.Chart=e,e}},{"./core.defaults":165}],170:[function(e,t,n){"use strict";var r=e("../helpers/index");t.exports=function(e){function t(e,t){return r.where(e,function(e){return e.position===t})}function n(e,t){e.forEach(function(e,t){return e._tmpIndex_=t,e}),e.sort(function(e,n){var r=t?n:e,i=t?e:n;return r.weight===i.weight?r._tmpIndex_-i._tmpIndex_:r.weight-i.weight}),e.forEach(function(e){delete e._tmpIndex_})}e.layoutService={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),t.fullWidth=t.fullWidth||!1,t.position=t.position||"top",t.weight=t.weight||0,e.boxes.push(t)},removeBox:function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure:function(e,t,n){for(var r,i=["fullWidth","position","weight"],o=i.length,a=0;a<o;++a)r=i[a],n.hasOwnProperty(r)&&(t[r]=n[r])},update:function(e,i,o){function a(e){var t,n=e.isHorizontal();n?(t=e.update(e.fullWidth?_:E,P),A-=t.height):(t=e.update(j,S),E-=t.width),T.push({horizontal:n,minSize:t,box:e})}function s(e){var t=r.findNextWhere(T,function(t){return t.box===e});if(t)if(e.isHorizontal()){var n={left:Math.max(F,C),right:Math.max(D,M),top:0,bottom:0};e.update(e.fullWidth?_:E,x/2,n)}else e.update(t.minSize.width,A)}function c(e){var t=r.findNextWhere(T,function(t){return t.box===e}),n={left:0,right:0,top:L,bottom:R};t&&e.update(t.minSize.width,A,n)}function l(e){e.isHorizontal()?(e.left=e.fullWidth?d:F,e.right=e.fullWidth?i-f:F+E,e.top=q,e.bottom=q+e.height,q=e.bottom):(e.left=B,e.right=B+e.width,e.top=L,e.bottom=L+A,B=e.right)}if(e){var u=e.options.layout||{},h=r.options.toPadding(u.padding),d=h.left,f=h.right,p=h.top,m=h.bottom,g=t(e.boxes,"left"),v=t(e.boxes,"right"),b=t(e.boxes,"top"),y=t(e.boxes,"bottom"),w=t(e.boxes,"chartArea");n(g,!0),n(v,!1),n(b,!0),n(y,!1);var _=i-d-f,x=o-p-m,k=_/2,S=x/2,j=(i-k)/(g.length+v.length),P=(o-S)/(b.length+y.length),E=_,A=x,T=[];r.each(g.concat(v,b,y),a);var C=0,M=0,O=0,I=0;r.each(b.concat(y),function(e){if(e.getPadding){var t=e.getPadding();C=Math.max(C,t.left),M=Math.max(M,t.right)}}),r.each(g.concat(v),function(e){if(e.getPadding){var t=e.getPadding();O=Math.max(O,t.top),I=Math.max(I,t.bottom)}});var F=d,D=f,L=p,R=m;r.each(g.concat(v),s),r.each(g,function(e){F+=e.width}),r.each(v,function(e){D+=e.width}),r.each(b.concat(y),s),r.each(b,function(e){L+=e.height}),r.each(y,function(e){R+=e.height}),r.each(g.concat(v),c),F=d,D=f,L=p,R=m,r.each(g,function(e){F+=e.width}),r.each(v,function(e){D+=e.width}),r.each(b,function(e){L+=e.height}),r.each(y,function(e){R+=e.height});var N=Math.max(C-F,0);F+=N,D+=Math.max(M-D,0);var U=Math.max(O-L,0);L+=U,R+=Math.max(I-R,0);var $=o-L-R,z=i-F-D;z===E&&$===A||(r.each(g,function(e){e.height=$}),r.each(v,function(e){e.height=$}),r.each(b,function(e){e.fullWidth||(e.width=z)}),r.each(y,function(e){e.fullWidth||(e.width=z)}),A=$,E=z);var B=d+N,q=p+U;r.each(g.concat(b),l),B+=E,q+=A,r.each(v,l),r.each(y,l),e.chartArea={left:F,top:L,right:F+E,bottom:L+A},r.each(w,function(t){t.left=e.chartArea.left,t.top=e.chartArea.top,t.right=e.chartArea.right,t.bottom=e.chartArea.bottom,t.update(E,A)})}}}}},{"../helpers/index":185}],171:[function(e,t,n){"use strict";var r=e("./core.defaults"),i=e("./core.element"),o=e("../helpers/index");
r._set("global",{plugins:{}}),t.exports=function(e){e.plugins={_plugins:[],_cacheId:0,register:function(e){var t=this._plugins;[].concat(e).forEach(function(e){t.indexOf(e)===-1&&t.push(e)}),this._cacheId++},unregister:function(e){var t=this._plugins;[].concat(e).forEach(function(e){var n=t.indexOf(e);n!==-1&&t.splice(n,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t,n){var r,i,o,a,s,c=this.descriptors(e),l=c.length;for(r=0;r<l;++r)if(i=c[r],o=i.plugin,s=o[t],"function"==typeof s&&(a=[e].concat(n||[]),a.push(i.options),s.apply(o,a)===!1))return!1;return!0},descriptors:function(e){var t=e._plugins||(e._plugins={});if(t.id===this._cacheId)return t.descriptors;var n=[],i=[],a=e&&e.config||{},s=a.options&&a.options.plugins||{};return this._plugins.concat(a.plugins||[]).forEach(function(e){var t=n.indexOf(e);if(t===-1){var a=e.id,c=s[a];c!==!1&&(c===!0&&(c=o.clone(r.global.plugins[a])),n.push(e),i.push({plugin:e,options:c||{}}))}}),t.descriptors=i,t.id=this._cacheId,i}},e.pluginService=e.plugins,e.PluginBase=i.extend({})}},{"../helpers/index":185,"./core.defaults":165,"./core.element":166}],172:[function(e,t,n){"use strict";function r(e){var t,n,r=[];for(t=0,n=e.length;t<n;++t)r.push(e[t].label);return r}function i(e,t,n){var r=e.getPixelForTick(t);return n&&(r-=0===t?(e.getPixelForTick(1)-r)/2:(r-e.getPixelForTick(t-1))/2),r}var o=e("./core.defaults"),a=e("./core.element"),s=e("../helpers/index"),c=e("./core.ticks");o._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",lineHeight:1.2,padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:c.formatters.values,minor:{},major:{}}}),t.exports=function(e){function t(e,t,n){return s.isArray(t)?s.longestText(e,n,t):e.measureText(t).width}function n(e){var t=s.valueOrDefault,n=o.global,r=t(e.fontSize,n.defaultFontSize),i=t(e.fontStyle,n.defaultFontStyle),a=t(e.fontFamily,n.defaultFontFamily);return{size:r,style:i,family:a,font:s.fontString(r,i,a)}}function c(e){return s.options.toLineHeight(s.valueOrDefault(e.lineHeight,1.2),s.valueOrDefault(e.fontSize,o.global.defaultFontSize))}e.Scale=a.extend({getPadding:function(){var e=this;return{left:e.paddingLeft||0,top:e.paddingTop||0,right:e.paddingRight||0,bottom:e.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var e=this.options.ticks;e.minor===!1&&(e.minor={display:!1}),e.major===!1&&(e.major={display:!1});for(var t in e)"major"!==t&&"minor"!==t&&("undefined"==typeof e.minor[t]&&(e.minor[t]=e[t]),"undefined"==typeof e.major[t]&&(e.major[t]=e[t]))},beforeUpdate:function(){s.callback(this.options.beforeUpdate,[this])},update:function(e,t,n){var r,i,o,a,c,l,u=this;for(u.beforeUpdate(),u.maxWidth=e,u.maxHeight=t,u.margins=s.extend({left:0,right:0,top:0,bottom:0},n),u.longestTextCache=u.longestTextCache||{},u.beforeSetDimensions(),u.setDimensions(),u.afterSetDimensions(),u.beforeDataLimits(),u.determineDataLimits(),u.afterDataLimits(),u.beforeBuildTicks(),c=u.buildTicks()||[],u.afterBuildTicks(),u.beforeTickToLabelConversion(),o=u.convertTicksToLabels(c)||u.ticks,u.afterTickToLabelConversion(),u.ticks=o,r=0,i=o.length;r<i;++r)a=o[r],l=c[r],l?l.label=a:c.push(l={label:a,major:!1});return u._ticks=c,u.beforeCalculateTickRotation(),u.calculateTickRotation(),u.afterCalculateTickRotation(),u.beforeFit(),u.fit(),u.afterFit(),u.afterUpdate(),u.minSize},afterUpdate:function(){s.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){s.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){s.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){s.callback(this.options.beforeDataLimits,[this])},determineDataLimits:s.noop,afterDataLimits:function(){s.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){s.callback(this.options.beforeBuildTicks,[this])},buildTicks:s.noop,afterBuildTicks:function(){s.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){s.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this,t=e.options.ticks;e.ticks=e.ticks.map(t.userCallback||t.callback,this)},afterTickToLabelConversion:function(){s.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){s.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var e=this,t=e.ctx,i=e.options.ticks,o=r(e._ticks),a=n(i);t.font=a.font;var c=i.minRotation||0;if(o.length&&e.options.display&&e.isHorizontal())for(var l,u,h=s.longestText(t,a.font,o,e.longestTextCache),d=h,f=e.getPixelForTick(1)-e.getPixelForTick(0)-6;d>f&&c<i.maxRotation;){var p=s.toRadians(c);if(l=Math.cos(p),u=Math.sin(p),u*h>e.maxHeight){c--;break}c++,d=l*h}e.labelRotation=c},afterCalculateTickRotation:function(){s.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){s.callback(this.options.beforeFit,[this])},fit:function(){var e=this,i=e.minSize={width:0,height:0},o=r(e._ticks),a=e.options,l=a.ticks,u=a.scaleLabel,h=a.gridLines,d=a.display,f=e.isHorizontal(),p=n(l),m=a.gridLines.tickMarkLength;if(f?i.width=e.isFullWidth()?e.maxWidth-e.margins.left-e.margins.right:e.maxWidth:i.width=d&&h.drawTicks?m:0,f?i.height=d&&h.drawTicks?m:0:i.height=e.maxHeight,u.display&&d){var g=c(u),v=s.options.toPadding(u.padding),b=g+v.height;f?i.height+=b:i.width+=b}if(l.display&&d){var y=s.longestText(e.ctx,p.font,o,e.longestTextCache),w=s.numberOfLabelLines(o),_=.5*p.size,x=e.options.ticks.padding;if(f){e.longestLabelWidth=y;var k=s.toRadians(e.labelRotation),S=Math.cos(k),j=Math.sin(k),P=j*y+p.size*w+_*(w-1)+_;i.height=Math.min(e.maxHeight,i.height+P+x),e.ctx.font=p.font;var E=t(e.ctx,o[0],p.font),A=t(e.ctx,o[o.length-1],p.font);0!==e.labelRotation?(e.paddingLeft="bottom"===a.position?S*E+3:S*_+3,e.paddingRight="bottom"===a.position?S*_+3:S*A+3):(e.paddingLeft=E/2+3,e.paddingRight=A/2+3)}else l.mirror?y=0:y+=x+_,i.width=Math.min(e.maxWidth,i.width+y),e.paddingTop=p.size/2,e.paddingBottom=p.size/2}e.handleMargins(),e.width=i.width,e.height=i.height},handleMargins:function(){var e=this;e.margins&&(e.paddingLeft=Math.max(e.paddingLeft-e.margins.left,0),e.paddingTop=Math.max(e.paddingTop-e.margins.top,0),e.paddingRight=Math.max(e.paddingRight-e.margins.right,0),e.paddingBottom=Math.max(e.paddingBottom-e.margins.bottom,0))},afterFit:function(){s.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){if(s.isNullOrUndef(e))return NaN;if("number"==typeof e&&!isFinite(e))return NaN;if(e)if(this.isHorizontal()){if(void 0!==e.x)return this.getRightValue(e.x)}else if(void 0!==e.y)return this.getRightValue(e.y);return e},getLabelForIndex:s.noop,getPixelForValue:s.noop,getValueForPixel:s.noop,getPixelForTick:function(e){var t=this,n=t.options.offset;if(t.isHorizontal()){var r=t.width-(t.paddingLeft+t.paddingRight),i=r/Math.max(t._ticks.length-(n?0:1),1),o=i*e+t.paddingLeft;n&&(o+=i/2);var a=t.left+Math.round(o);return a+=t.isFullWidth()?t.margins.left:0}var s=t.height-(t.paddingTop+t.paddingBottom);return t.top+e*(s/(t._ticks.length-1))},getPixelForDecimal:function(e){var t=this;if(t.isHorizontal()){var n=t.width-(t.paddingLeft+t.paddingRight),r=n*e+t.paddingLeft,i=t.left+Math.round(r);return i+=t.isFullWidth()?t.margins.left:0}return t.top+e*t.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var e=this,t=e.min,n=e.max;return e.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0},_autoSkip:function(e){var t,n,r,i,o,a=this,c=a.isHorizontal(),l=a.options.ticks.minor,u=e.length,h=s.toRadians(a.labelRotation),d=Math.cos(h),f=a.longestLabelWidth*d,p=[];for(l.maxTicksLimit&&(o=l.maxTicksLimit),c&&(t=!1,(f+l.autoSkipPadding)*u>a.width-(a.paddingLeft+a.paddingRight)&&(t=1+Math.floor((f+l.autoSkipPadding)*u/(a.width-(a.paddingLeft+a.paddingRight)))),o&&u>o&&(t=Math.max(t,Math.floor(u/o)))),n=0;n<u;n++)r=e[n],i=t>1&&n%t>0||n%t===0&&n+t>=u,(i&&n!==u-1||s.isNullOrUndef(r.label))&&delete r.label,p.push(r);return p},draw:function(e){var t=this,r=t.options;if(r.display){var a=t.ctx,l=o.global,u=r.ticks.minor,h=r.ticks.major||u,d=r.gridLines,f=r.scaleLabel,p=0!==t.labelRotation,m=t.isHorizontal(),g=u.autoSkip?t._autoSkip(t.getTicks()):t.getTicks(),v=s.valueOrDefault(u.fontColor,l.defaultFontColor),b=n(u),y=s.valueOrDefault(h.fontColor,l.defaultFontColor),w=n(h),_=d.drawTicks?d.tickMarkLength:0,x=s.valueOrDefault(f.fontColor,l.defaultFontColor),k=n(f),S=s.options.toPadding(f.padding),j=s.toRadians(t.labelRotation),P=[],E="right"===r.position?t.left:t.right-_,A="right"===r.position?t.left+_:t.right,T="bottom"===r.position?t.top:t.bottom-_,C="bottom"===r.position?t.top+_:t.bottom;if(s.each(g,function(n,o){if(void 0!==n.label){var a,c,h,f,v=n.label;o===t.zeroLineIndex&&r.offset===d.offsetGridLines?(a=d.zeroLineWidth,c=d.zeroLineColor,h=d.zeroLineBorderDash,f=d.zeroLineBorderDashOffset):(a=s.valueAtIndexOrDefault(d.lineWidth,o),c=s.valueAtIndexOrDefault(d.color,o),h=s.valueOrDefault(d.borderDash,l.borderDash),f=s.valueOrDefault(d.borderDashOffset,l.borderDashOffset));var b,y,w,x,k,S,M,O,I,F,D="middle",L="middle",R=u.padding;if(m){var N=_+R;"bottom"===r.position?(L=p?"middle":"top",D=p?"right":"center",F=t.top+N):(L=p?"middle":"bottom",D=p?"left":"center",F=t.bottom-N);var U=i(t,o,d.offsetGridLines&&g.length>1);U<t.left&&(c="rgba(0,0,0,0)"),U+=s.aliasPixel(a),I=t.getPixelForTick(o)+u.labelOffset,b=w=k=M=U,y=T,x=C,S=e.top,O=e.bottom}else{var $,z="left"===r.position;u.mirror?(D=z?"left":"right",$=R):(D=z?"right":"left",$=_+R),I=z?t.right-$:t.left+$;var B=i(t,o,d.offsetGridLines&&g.length>1);B<t.top&&(c="rgba(0,0,0,0)"),B+=s.aliasPixel(a),F=t.getPixelForTick(o)+u.labelOffset,b=E,w=A,k=e.left,M=e.right,y=x=S=O=B}P.push({tx1:b,ty1:y,tx2:w,ty2:x,x1:k,y1:S,x2:M,y2:O,labelX:I,labelY:F,glWidth:a,glColor:c,glBorderDash:h,glBorderDashOffset:f,rotation:-1*j,label:v,major:n.major,textBaseline:L,textAlign:D})}}),s.each(P,function(e){if(d.display&&(a.save(),a.lineWidth=e.glWidth,a.strokeStyle=e.glColor,a.setLineDash&&(a.setLineDash(e.glBorderDash),a.lineDashOffset=e.glBorderDashOffset),a.beginPath(),d.drawTicks&&(a.moveTo(e.tx1,e.ty1),a.lineTo(e.tx2,e.ty2)),d.drawOnChartArea&&(a.moveTo(e.x1,e.y1),a.lineTo(e.x2,e.y2)),a.stroke(),a.restore()),u.display){a.save(),a.translate(e.labelX,e.labelY),a.rotate(e.rotation),a.font=e.major?w.font:b.font,a.fillStyle=e.major?y:v,a.textBaseline=e.textBaseline,a.textAlign=e.textAlign;var t=e.label;if(s.isArray(t))for(var n=0,r=0;n<t.length;++n)a.fillText(""+t[n],0,r),r+=1.5*b.size;else a.fillText(t,0,0);a.restore()}}),f.display){var M,O,I=0,F=c(f)/2;if(m)M=t.left+(t.right-t.left)/2,O="bottom"===r.position?t.bottom-F-S.bottom:t.top+F+S.top;else{var D="left"===r.position;M=D?t.left+F+S.top:t.right-F-S.top,O=t.top+(t.bottom-t.top)/2,I=D?-.5*Math.PI:.5*Math.PI}a.save(),a.translate(M,O),a.rotate(I),a.textAlign="center",a.textBaseline="middle",a.fillStyle=x,a.font=k.font,a.fillText(f.labelString,0,0),a.restore()}if(d.drawBorder){a.lineWidth=s.valueAtIndexOrDefault(d.lineWidth,0),a.strokeStyle=s.valueAtIndexOrDefault(d.color,0);var L=t.left,R=t.right,N=t.top,U=t.bottom,$=s.aliasPixel(a.lineWidth);m?(N=U="top"===r.position?t.bottom:t.top,N+=$,U+=$):(L=R="left"===r.position?t.right:t.left,L+=$,R+=$),a.beginPath(),a.moveTo(L,N),a.lineTo(R,U),a.stroke()}}}})}},{"../helpers/index":185,"./core.defaults":165,"./core.element":166,"./core.ticks":174}],173:[function(e,t,n){"use strict";var r=e("./core.defaults"),i=e("../helpers/index");t.exports=function(e){e.scaleService={constructors:{},defaults:{},registerScaleType:function(e,t,n){this.constructors[e]=t,this.defaults[e]=i.clone(n)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?i.merge({},[r.scale,this.defaults[e]]):{}},updateScaleDefaults:function(e,t){var n=this;n.defaults.hasOwnProperty(e)&&(n.defaults[e]=i.extend(n.defaults[e],t))},addScalesToLayout:function(t){i.each(t.scales,function(n){n.fullWidth=n.options.fullWidth,n.position=n.options.position,n.weight=n.options.weight,e.layoutService.addBox(t,n)})}}}},{"../helpers/index":185,"./core.defaults":165}],174:[function(e,t,n){"use strict";var r=e("../helpers/index");t.exports={generators:{linear:function(e,t){var n,i=[];if(e.stepSize&&e.stepSize>0)n=e.stepSize;else{var o=r.niceNum(t.max-t.min,!1);n=r.niceNum(o/(e.maxTicks-1),!0)}var a=Math.floor(t.min/n)*n,s=Math.ceil(t.max/n)*n;e.min&&e.max&&e.stepSize&&r.almostWhole((e.max-e.min)/e.stepSize,n/1e3)&&(a=e.min,s=e.max);var c=(s-a)/n;c=r.almostEquals(c,Math.round(c),n/1e3)?Math.round(c):Math.ceil(c),i.push(void 0!==e.min?e.min:a);for(var l=1;l<c;++l)i.push(a+l*n);return i.push(void 0!==e.max?e.max:s),i},logarithmic:function(e,t){var n,i,o=[],a=r.valueOrDefault,s=a(e.min,Math.pow(10,Math.floor(r.log10(t.min)))),c=Math.floor(r.log10(t.max)),l=Math.ceil(t.max/Math.pow(10,c));0===s?(n=Math.floor(r.log10(t.minNotZero)),i=Math.floor(t.minNotZero/Math.pow(10,n)),o.push(s),s=i*Math.pow(10,n)):(n=Math.floor(r.log10(s)),i=Math.floor(s/Math.pow(10,n)));do o.push(s),++i,10===i&&(i=1,++n),s=i*Math.pow(10,n);while(n<c||n===c&&i<l);var u=a(e.max,s);return o.push(u),o}},formatters:{values:function(e){return r.isArray(e)?e:""+e},linear:function(e,t,n){var i=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(i)>1&&e!==Math.floor(e)&&(i=e-Math.floor(e));var o=r.log10(Math.abs(i)),a="";if(0!==e){var s=-1*Math.floor(o);s=Math.max(Math.min(s,20),0),a=e.toFixed(s)}else a="0";return a},logarithmic:function(e,t,n){var i=e/Math.pow(10,Math.floor(r.log10(e)));return 0===e?"0":1===i||2===i||5===i||0===t||t===n.length-1?e.toExponential():""}}}},{"../helpers/index":185}],175:[function(e,t,n){"use strict";var r=e("./core.defaults"),i=e("./core.element"),o=e("../helpers/index");r._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:o.noop,title:function(e,t){var n="",r=t.labels,i=r?r.length:0;if(e.length>0){var o=e[0];o.xLabel?n=o.xLabel:i>0&&o.index<i&&(n=r[o.index])}return n},afterTitle:o.noop,beforeBody:o.noop,beforeLabel:o.noop,label:function(e,t){var n=t.datasets[e.datasetIndex].label||"";return n&&(n+=": "),n+=e.yLabel},labelColor:function(e,t){var n=t.getDatasetMeta(e.datasetIndex),r=n.data[e.index],i=r._view;return{borderColor:i.borderColor,backgroundColor:i.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:o.noop,afterBody:o.noop,beforeFooter:o.noop,footer:o.noop,afterFooter:o.noop}}}),t.exports=function(e){function t(e,t){var n=o.color(e);return n.alpha(t*n.alpha()).rgbaString()}function n(e,t){return t&&(o.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function a(e){var t=e._xScale,n=e._yScale||e._scale,r=e._index,i=e._datasetIndex;return{xLabel:t?t.getLabelForIndex(r,i):"",yLabel:n?n.getLabelForIndex(r,i):"",index:r,datasetIndex:i,x:e._model.x,y:e._model.y}}function s(e){var t=r.global,n=o.valueOrDefault;return{xPadding:e.xPadding,yPadding:e.yPadding,xAlign:e.xAlign,yAlign:e.yAlign,bodyFontColor:e.bodyFontColor,_bodyFontFamily:n(e.bodyFontFamily,t.defaultFontFamily),_bodyFontStyle:n(e.bodyFontStyle,t.defaultFontStyle),_bodyAlign:e.bodyAlign,bodyFontSize:n(e.bodyFontSize,t.defaultFontSize),bodySpacing:e.bodySpacing,titleFontColor:e.titleFontColor,_titleFontFamily:n(e.titleFontFamily,t.defaultFontFamily),_titleFontStyle:n(e.titleFontStyle,t.defaultFontStyle),titleFontSize:n(e.titleFontSize,t.defaultFontSize),_titleAlign:e.titleAlign,titleSpacing:e.titleSpacing,titleMarginBottom:e.titleMarginBottom,footerFontColor:e.footerFontColor,_footerFontFamily:n(e.footerFontFamily,t.defaultFontFamily),_footerFontStyle:n(e.footerFontStyle,t.defaultFontStyle),footerFontSize:n(e.footerFontSize,t.defaultFontSize),_footerAlign:e.footerAlign,footerSpacing:e.footerSpacing,footerMarginTop:e.footerMarginTop,caretSize:e.caretSize,cornerRadius:e.cornerRadius,backgroundColor:e.backgroundColor,opacity:0,legendColorBackground:e.multiKeyBackground,displayColors:e.displayColors,borderColor:e.borderColor,borderWidth:e.borderWidth}}function c(e,t){var n=e._chart.ctx,r=2*t.yPadding,i=0,a=t.body,s=a.reduce(function(e,t){return e+t.before.length+t.lines.length+t.after.length},0);s+=t.beforeBody.length+t.afterBody.length;var c=t.title.length,l=t.footer.length,u=t.titleFontSize,h=t.bodyFontSize,d=t.footerFontSize;r+=c*u,r+=c?(c-1)*t.titleSpacing:0,r+=c?t.titleMarginBottom:0,r+=s*h,r+=s?(s-1)*t.bodySpacing:0,r+=l?t.footerMarginTop:0,r+=l*d,r+=l?(l-1)*t.footerSpacing:0;var f=0,p=function(e){i=Math.max(i,n.measureText(e).width+f)};return n.font=o.fontString(u,t._titleFontStyle,t._titleFontFamily),o.each(t.title,p),n.font=o.fontString(h,t._bodyFontStyle,t._bodyFontFamily),o.each(t.beforeBody.concat(t.afterBody),p),f=t.displayColors?h+2:0,o.each(a,function(e){o.each(e.before,p),o.each(e.lines,p),o.each(e.after,p)}),f=0,n.font=o.fontString(d,t._footerFontStyle,t._footerFontFamily),o.each(t.footer,p),i+=2*t.xPadding,{width:i,height:r}}function l(e,t){var n=e._model,r=e._chart,i=e._chart.chartArea,o="center",a="center";n.y<t.height?a="top":n.y>r.height-t.height&&(a="bottom");var s,c,l,u,h,d=(i.left+i.right)/2,f=(i.top+i.bottom)/2;"center"===a?(s=function(e){return e<=d},c=function(e){return e>d}):(s=function(e){return e<=t.width/2},c=function(e){return e>=r.width-t.width/2}),l=function(e){return e+t.width>r.width},u=function(e){return e-t.width<0},h=function(e){return e<=f?"top":"bottom"},s(n.x)?(o="left",l(n.x)&&(o="center",a=h(n.y))):c(n.x)&&(o="right",u(n.x)&&(o="center",a=h(n.y)));var p=e._options;return{xAlign:p.xAlign?p.xAlign:o,yAlign:p.yAlign?p.yAlign:a}}function u(e,t,n){var r=e.x,i=e.y,o=e.caretSize,a=e.caretPadding,s=e.cornerRadius,c=n.xAlign,l=n.yAlign,u=o+a,h=s+a;return"right"===c?r-=t.width:"center"===c&&(r-=t.width/2),"top"===l?i+=u:i-="bottom"===l?t.height+u:t.height/2,"center"===l?"left"===c?r+=u:"right"===c&&(r-=u):"left"===c?r-=h:"right"===c&&(r+=h),{x:r,y:i}}e.Tooltip=i.extend({initialize:function(){this._model=s(this._options)},getTitle:function(){var e=this,t=e._options,r=t.callbacks,i=r.beforeTitle.apply(e,arguments),o=r.title.apply(e,arguments),a=r.afterTitle.apply(e,arguments),s=[];return s=n(s,i),s=n(s,o),s=n(s,a)},getBeforeBody:function(){var e=this._options.callbacks.beforeBody.apply(this,arguments);return o.isArray(e)?e:void 0!==e?[e]:[]},getBody:function(e,t){var r=this,i=r._options.callbacks,a=[];return o.each(e,function(e){var o={before:[],lines:[],after:[]};n(o.before,i.beforeLabel.call(r,e,t)),n(o.lines,i.label.call(r,e,t)),n(o.after,i.afterLabel.call(r,e,t)),a.push(o)}),a},getAfterBody:function(){var e=this._options.callbacks.afterBody.apply(this,arguments);return o.isArray(e)?e:void 0!==e?[e]:[]},getFooter:function(){var e=this,t=e._options.callbacks,r=t.beforeFooter.apply(e,arguments),i=t.footer.apply(e,arguments),o=t.afterFooter.apply(e,arguments),a=[];return a=n(a,r),a=n(a,i),a=n(a,o)},update:function(t){var n,r,i=this,h=i._options,d=i._model,f=i._model=s(h),p=i._active,m=i._data,g={xAlign:d.xAlign,yAlign:d.yAlign},v={x:d.x,y:d.y},b={width:d.width,height:d.height},y={x:d.caretX,y:d.caretY};if(p.length){f.opacity=1;var w=[],_=[];y=e.Tooltip.positioners[h.position](p,i._eventPosition);var x=[];for(n=0,r=p.length;n<r;++n)x.push(a(p[n]));h.filter&&(x=x.filter(function(e){return h.filter(e,m)})),h.itemSort&&(x=x.sort(function(e,t){return h.itemSort(e,t,m)})),o.each(x,function(e){w.push(h.callbacks.labelColor.call(i,e,i._chart)),_.push(h.callbacks.labelTextColor.call(i,e,i._chart))}),f.title=i.getTitle(x,m),f.beforeBody=i.getBeforeBody(x,m),f.body=i.getBody(x,m),f.afterBody=i.getAfterBody(x,m),f.footer=i.getFooter(x,m),f.x=Math.round(y.x),f.y=Math.round(y.y),f.caretPadding=h.caretPadding,f.labelColors=w,f.labelTextColors=_,f.dataPoints=x,b=c(this,f),g=l(this,b),v=u(f,b,g)}else f.opacity=0;return f.xAlign=g.xAlign,f.yAlign=g.yAlign,f.x=v.x,f.y=v.y,f.width=b.width,f.height=b.height,f.caretX=y.x,f.caretY=y.y,i._model=f,t&&h.custom&&h.custom.call(i,f),i},drawCaret:function(e,t){var n=this._chart.ctx,r=this._view,i=this.getCaretPosition(e,t,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)},getCaretPosition:function(e,t,n){var r,i,o,a,s,c,l=n.caretSize,u=n.cornerRadius,h=n.xAlign,d=n.yAlign,f=e.x,p=e.y,m=t.width,g=t.height;if("center"===d)s=p+g/2,"left"===h?(r=f,i=r-l,o=r,a=s+l,c=s-l):(r=f+m,i=r+l,o=r,a=s-l,c=s+l);else if("left"===h?(i=f+u+l,r=i-l,o=i+l):"right"===h?(i=f+m-u-l,r=i-l,o=i+l):(i=f+m/2,r=i-l,o=i+l),"top"===d)a=p,s=a-l,c=a;else{a=p+g,s=a+l,c=a;var v=o;o=r,r=v}return{x1:r,x2:i,x3:o,y1:a,y2:s,y3:c}},drawTitle:function(e,n,r,i){var a=n.title;if(a.length){r.textAlign=n._titleAlign,r.textBaseline="top";var s=n.titleFontSize,c=n.titleSpacing;r.fillStyle=t(n.titleFontColor,i),r.font=o.fontString(s,n._titleFontStyle,n._titleFontFamily);var l,u;for(l=0,u=a.length;l<u;++l)r.fillText(a[l],e.x,e.y),e.y+=s+c,l+1===a.length&&(e.y+=n.titleMarginBottom-c)}},drawBody:function(e,n,r,i){var a=n.bodyFontSize,s=n.bodySpacing,c=n.body;r.textAlign=n._bodyAlign,r.textBaseline="top",r.font=o.fontString(a,n._bodyFontStyle,n._bodyFontFamily);var l=0,u=function(t){r.fillText(t,e.x+l,e.y),e.y+=a+s};o.each(n.beforeBody,u);var h=n.displayColors;l=h?a+2:0,o.each(c,function(s,c){o.each(s.before,u),o.each(s.lines,function(o){if(h){r.fillStyle=t(n.legendColorBackground,i),r.fillRect(e.x,e.y,a,a),r.lineWidth=1,r.strokeStyle=t(n.labelColors[c].borderColor,i),r.strokeRect(e.x,e.y,a,a),r.fillStyle=t(n.labelColors[c].backgroundColor,i),r.fillRect(e.x+1,e.y+1,a-2,a-2);var s=t(n.labelTextColors[c],i);r.fillStyle=s}u(o)}),o.each(s.after,u)}),l=0,o.each(n.afterBody,u),e.y-=s},drawFooter:function(e,n,r,i){var a=n.footer;a.length&&(e.y+=n.footerMarginTop,r.textAlign=n._footerAlign,r.textBaseline="top",r.fillStyle=t(n.footerFontColor,i),r.font=o.fontString(n.footerFontSize,n._footerFontStyle,n._footerFontFamily),o.each(a,function(t){r.fillText(t,e.x,e.y),e.y+=n.footerFontSize+n.footerSpacing}))},drawBackground:function(e,n,r,i,o){r.fillStyle=t(n.backgroundColor,o),r.strokeStyle=t(n.borderColor,o),r.lineWidth=n.borderWidth;var a=n.xAlign,s=n.yAlign,c=e.x,l=e.y,u=i.width,h=i.height,d=n.cornerRadius;r.beginPath(),r.moveTo(c+d,l),"top"===s&&this.drawCaret(e,i),r.lineTo(c+u-d,l),r.quadraticCurveTo(c+u,l,c+u,l+d),"center"===s&&"right"===a&&this.drawCaret(e,i),r.lineTo(c+u,l+h-d),r.quadraticCurveTo(c+u,l+h,c+u-d,l+h),"bottom"===s&&this.drawCaret(e,i),r.lineTo(c+d,l+h),r.quadraticCurveTo(c,l+h,c,l+h-d),"center"===s&&"left"===a&&this.drawCaret(e,i),r.lineTo(c,l+d),r.quadraticCurveTo(c,l,c+d,l),r.closePath(),r.fill(),n.borderWidth>0&&r.stroke()},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var n={width:t.width,height:t.height},r={x:t.x,y:t.y},i=Math.abs(t.opacity<.001)?0:t.opacity,o=t.title.length||t.beforeBody.length||t.body.length||t.afterBody.length||t.footer.length;this._options.enabled&&o&&(this.drawBackground(r,t,e,n,i),r.x+=t.xPadding,r.y+=t.yPadding,this.drawTitle(r,t,e,i),this.drawBody(r,t,e,i),this.drawFooter(r,t,e,i))}},handleEvent:function(e){var t=this,n=t._options,r=!1;if(t._lastActive=t._lastActive||[],"mouseout"===e.type?t._active=[]:t._active=t._chart.getElementsAtEventForMode(e,n.mode,n),r=!o.arrayEquals(t._active,t._lastActive),!r)return!1;if(t._lastActive=t._active,n.enabled||n.custom){t._eventPosition={x:e.x,y:e.y};var i=t._model;t.update(!0),t.pivot(),r|=i.x!==t._model.x||i.y!==t._model.y}return r}}),e.Tooltip.positioners={average:function(e){if(!e.length)return!1;var t,n,r=0,i=0,o=0;for(t=0,n=e.length;t<n;++t){var a=e[t];if(a&&a.hasValue()){var s=a.tooltipPosition();r+=s.x,i+=s.y,++o}}return{x:Math.round(r/o),y:Math.round(i/o)}},nearest:function(e,t){var n,r,i,a=t.x,s=t.y,c=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){var l=e[n];if(l&&l.hasValue()){var u=l.getCenterPoint(),h=o.distanceBetweenPoints(t,u);h<c&&(c=h,i=l)}}if(i){var d=i.tooltipPosition();a=d.x,s=d.y}return{x:a,y:s}}}}},{"../helpers/index":185,"./core.defaults":165,"./core.element":166}],176:[function(e,t,n){"use strict";var r=e("../core/core.defaults"),i=e("../core/core.element"),o=e("../helpers/index");r._set("global",{elements:{arc:{backgroundColor:r.global.defaultColor,borderColor:"#fff",borderWidth:2}}}),t.exports=i.extend({inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,t){var n=this._view;if(n){for(var r=o.getAngleFromPoint(n,{x:e,y:t}),i=r.angle,a=r.distance,s=n.startAngle,c=n.endAngle;c<s;)c+=2*Math.PI;for(;i>c;)i-=2*Math.PI;for(;i<s;)i+=2*Math.PI;var l=i>=s&&i<=c,u=a>=n.innerRadius&&a<=n.outerRadius;return l&&u}return!1},getCenterPoint:function(){var e=this._view,t=(e.startAngle+e.endAngle)/2,n=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,n=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},draw:function(){var e=this._chart.ctx,t=this._view,n=t.startAngle,r=t.endAngle;e.beginPath(),e.arc(t.x,t.y,t.outerRadius,n,r),e.arc(t.x,t.y,t.innerRadius,r,n,!0),e.closePath(),e.strokeStyle=t.borderColor,e.lineWidth=t.borderWidth,e.fillStyle=t.backgroundColor,e.fill(),e.lineJoin="bevel",t.borderWidth&&e.stroke()}})},{"../core/core.defaults":165,"../core/core.element":166,"../helpers/index":185}],177:[function(e,t,n){"use strict";var r=e("../core/core.defaults"),i=e("../core/core.element"),o=e("../helpers/index"),a=r.global;r._set("global",{elements:{line:{tension:.4,backgroundColor:a.defaultColor,borderWidth:3,borderColor:a.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}}),t.exports=i.extend({draw:function(){var e,t,n,r,i=this,s=i._view,c=i._chart.ctx,l=s.spanGaps,u=i._children.slice(),h=a.elements.line,d=-1;for(i._loop&&u.length&&u.push(u[0]),c.save(),c.lineCap=s.borderCapStyle||h.borderCapStyle,c.setLineDash&&c.setLineDash(s.borderDash||h.borderDash),c.lineDashOffset=s.borderDashOffset||h.borderDashOffset,c.lineJoin=s.borderJoinStyle||h.borderJoinStyle,c.lineWidth=s.borderWidth||h.borderWidth,c.strokeStyle=s.borderColor||a.defaultColor,c.beginPath(),d=-1,e=0;e<u.length;++e)t=u[e],n=o.previousItem(u,e),r=t._view,0===e?r.skip||(c.moveTo(r.x,r.y),d=e):(n=d===-1?n:u[d],r.skip||(d!==e-1&&!l||d===-1?c.moveTo(r.x,r.y):o.canvas.lineTo(c,n._view,t._view),d=e));c.stroke(),c.restore()}})},{"../core/core.defaults":165,"../core/core.element":166,"../helpers/index":185}],178:[function(e,t,n){"use strict";function r(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hitRadius,2)}function i(e){var t=this._view;return!!t&&Math.pow(e-t.y,2)<Math.pow(t.radius+t.hitRadius,2)}var o=e("../core/core.defaults"),a=e("../core/core.element"),s=e("../helpers/index"),c=o.global.defaultColor;o._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:c,borderColor:c,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}}),t.exports=a.extend({inRange:function(e,t){var n=this._view;return!!n&&Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:r,inXRange:r,inYRange:i,getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(e){var t=this._view,n=this._model,r=this._chart.ctx,i=t.pointStyle,a=t.radius,l=t.x,u=t.y,h=s.color,d=1.01,f=0;t.skip||(r.strokeStyle=t.borderColor||c,r.lineWidth=s.valueOrDefault(t.borderWidth,o.global.elements.point.borderWidth),r.fillStyle=t.backgroundColor||c,void 0!==e&&(n.x<e.left||e.right*d<n.x||n.y<e.top||e.bottom*d<n.y)&&(n.x<e.left?f=(l-n.x)/(e.left-n.x):e.right*d<n.x?f=(n.x-l)/(n.x-e.right):n.y<e.top?f=(u-n.y)/(e.top-n.y):e.bottom*d<n.y&&(f=(n.y-u)/(n.y-e.bottom)),f=Math.round(100*f)/100,r.strokeStyle=h(r.strokeStyle).alpha(f).rgbString(),r.fillStyle=h(r.fillStyle).alpha(f).rgbString()),s.canvas.drawPoint(r,i,a,l,u))}})},{"../core/core.defaults":165,"../core/core.element":166,"../helpers/index":185}],179:[function(e,t,n){"use strict";function r(e){return void 0!==e._view.width}function i(e){var t,n,i,o,a=e._view;if(r(e)){var s=a.width/2;t=a.x-s,n=a.x+s,i=Math.min(a.y,a.base),o=Math.max(a.y,a.base)}else{var c=a.height/2;t=Math.min(a.x,a.base),n=Math.max(a.x,a.base),i=a.y-c,o=a.y+c}return{left:t,top:i,right:n,bottom:o}}var o=e("../core/core.defaults"),a=e("../core/core.element");o._set("global",{elements:{rectangle:{backgroundColor:o.global.defaultColor,borderColor:o.global.defaultColor,borderSkipped:"bottom",borderWidth:0}}}),t.exports=a.extend({draw:function(){function e(e){return v[(y+e)%4]}var t,n,r,i,o,a,s,c=this._chart.ctx,l=this._view,u=l.borderWidth;if(l.horizontal?(t=l.base,n=l.x,r=l.y-l.height/2,i=l.y+l.height/2,o=n>t?1:-1,a=1,s=l.borderSkipped||"left"):(t=l.x-l.width/2,n=l.x+l.width/2,r=l.y,i=l.base,o=1,a=i>r?1:-1,s=l.borderSkipped||"bottom"),u){var h=Math.min(Math.abs(t-n),Math.abs(r-i));u=u>h?h:u;var d=u/2,f=t+("left"!==s?d*o:0),p=n+("right"!==s?-d*o:0),m=r+("top"!==s?d*a:0),g=i+("bottom"!==s?-d*a:0);f!==p&&(r=m,i=g),m!==g&&(t=f,n=p)}c.beginPath(),c.fillStyle=l.backgroundColor,c.strokeStyle=l.borderColor,c.lineWidth=u;var v=[[t,i],[t,r],[n,r],[n,i]],b=["bottom","left","top","right"],y=b.indexOf(s,0);y===-1&&(y=0);var w=e(0);c.moveTo(w[0],w[1]);for(var _=1;_<4;_++)w=e(_),c.lineTo(w[0],w[1]);c.fill(),u&&c.stroke()},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){var n=!1;if(this._view){var r=i(this);n=e>=r.left&&e<=r.right&&t>=r.top&&t<=r.bottom}return n},inLabelRange:function(e,t){var n=this;if(!n._view)return!1;var o=!1,a=i(n);return o=r(n)?e>=a.left&&e<=a.right:t>=a.top&&t<=a.bottom},inXRange:function(e){var t=i(this);return e>=t.left&&e<=t.right},inYRange:function(e){var t=i(this);return e>=t.top&&e<=t.bottom},getCenterPoint:function(){var e,t,n=this._view;return r(this)?(e=n.x,t=(n.y+n.base)/2):(e=(n.x+n.base)/2,t=n.y),{x:e,y:t}},getArea:function(){var e=this._view;return e.width*Math.abs(e.y-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}})},{"../core/core.defaults":165,"../core/core.element":166}],180:[function(e,t,n){"use strict";t.exports={},t.exports.Arc=e("./element.arc"),t.exports.Line=e("./element.line"),t.exports.Point=e("./element.point"),t.exports.Rectangle=e("./element.rectangle")},{"./element.arc":176,"./element.line":177,"./element.point":178,
"./element.rectangle":179}],181:[function(e,t,n){"use strict";var r=e("./helpers.core"),n=t.exports={clear:function(e){e.ctx.clearRect(0,0,e.width,e.height)},roundedRect:function(e,t,n,r,i,o){if(o){var a=Math.min(o,r/2),s=Math.min(o,i/2);e.moveTo(t+a,n),e.lineTo(t+r-a,n),e.quadraticCurveTo(t+r,n,t+r,n+s),e.lineTo(t+r,n+i-s),e.quadraticCurveTo(t+r,n+i,t+r-a,n+i),e.lineTo(t+a,n+i),e.quadraticCurveTo(t,n+i,t,n+i-s),e.lineTo(t,n+s),e.quadraticCurveTo(t,n,t+a,n)}else e.rect(t,n,r,i)},drawPoint:function(e,t,n,r,i){var o,a,s,c,l,u;if("object"==typeof t&&(o=t.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return void e.drawImage(t,r-t.width/2,i-t.height/2,t.width,t.height);if(!(isNaN(n)||n<=0)){switch(t){default:e.beginPath(),e.arc(r,i,n,0,2*Math.PI),e.closePath(),e.fill();break;case"triangle":e.beginPath(),a=3*n/Math.sqrt(3),l=a*Math.sqrt(3)/2,e.moveTo(r-a/2,i+l/3),e.lineTo(r+a/2,i+l/3),e.lineTo(r,i-2*l/3),e.closePath(),e.fill();break;case"rect":u=1/Math.SQRT2*n,e.beginPath(),e.fillRect(r-u,i-u,2*u,2*u),e.strokeRect(r-u,i-u,2*u,2*u);break;case"rectRounded":var h=n/Math.SQRT2,d=r-h,f=i-h,p=Math.SQRT2*n;e.beginPath(),this.roundedRect(e,d,f,p,p,n/2),e.closePath(),e.fill();break;case"rectRot":u=1/Math.SQRT2*n,e.beginPath(),e.moveTo(r-u,i),e.lineTo(r,i+u),e.lineTo(r+u,i),e.lineTo(r,i-u),e.closePath(),e.fill();break;case"cross":e.beginPath(),e.moveTo(r,i+n),e.lineTo(r,i-n),e.moveTo(r-n,i),e.lineTo(r+n,i),e.closePath();break;case"crossRot":e.beginPath(),s=Math.cos(Math.PI/4)*n,c=Math.sin(Math.PI/4)*n,e.moveTo(r-s,i-c),e.lineTo(r+s,i+c),e.moveTo(r-s,i+c),e.lineTo(r+s,i-c),e.closePath();break;case"star":e.beginPath(),e.moveTo(r,i+n),e.lineTo(r,i-n),e.moveTo(r-n,i),e.lineTo(r+n,i),s=Math.cos(Math.PI/4)*n,c=Math.sin(Math.PI/4)*n,e.moveTo(r-s,i-c),e.lineTo(r+s,i+c),e.moveTo(r-s,i+c),e.lineTo(r+s,i-c),e.closePath();break;case"line":e.beginPath(),e.moveTo(r-n,i),e.lineTo(r+n,i),e.closePath();break;case"dash":e.beginPath(),e.moveTo(r,i),e.lineTo(r+n,i),e.closePath()}e.stroke()}},clipArea:function(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()},unclipArea:function(e){e.restore()},lineTo:function(e,t,n,r){return n.steppedLine?("after"===n.steppedLine&&!r||"after"!==n.steppedLine&&r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y),void e.lineTo(n.x,n.y)):n.tension?void e.bezierCurveTo(r?t.controlPointPreviousX:t.controlPointNextX,r?t.controlPointPreviousY:t.controlPointNextY,r?n.controlPointNextX:n.controlPointPreviousX,r?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):void e.lineTo(n.x,n.y)}};r.clear=n.clear,r.drawRoundedRectangle=function(e){e.beginPath(),n.roundedRect.apply(n,arguments),e.closePath()}},{"./helpers.core":182}],182:[function(e,t,n){"use strict";var r={noop:function(){},uid:function(){var e=0;return function(){return e++}}(),isNullOrUndef:function(e){return null===e||"undefined"==typeof e},isArray:Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isObject:function(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)},valueOrDefault:function(e,t){return"undefined"==typeof e?t:e},valueAtIndexOrDefault:function(e,t,n){return r.valueOrDefault(r.isArray(e)?e[t]:e,n)},callback:function(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)},each:function(e,t,n,i){var o,a,s;if(r.isArray(e))if(a=e.length,i)for(o=a-1;o>=0;o--)t.call(n,e[o],o);else for(o=0;o<a;o++)t.call(n,e[o],o);else if(r.isObject(e))for(s=Object.keys(e),a=s.length,o=0;o<a;o++)t.call(n,e[s[o]],s[o])},arrayEquals:function(e,t){var n,i,o,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(o=e[n],a=t[n],o instanceof Array&&a instanceof Array){if(!r.arrayEquals(o,a))return!1}else if(o!==a)return!1;return!0},clone:function(e){if(r.isArray(e))return e.map(r.clone);if(r.isObject(e)){for(var t={},n=Object.keys(e),i=n.length,o=0;o<i;++o)t[n[o]]=r.clone(e[n[o]]);return t}return e},_merger:function(e,t,n,i){var o=t[e],a=n[e];r.isObject(o)&&r.isObject(a)?r.merge(o,a,i):t[e]=r.clone(a)},_mergerIf:function(e,t,n){var i=t[e],o=n[e];r.isObject(i)&&r.isObject(o)?r.mergeIf(i,o):t.hasOwnProperty(e)||(t[e]=r.clone(o))},merge:function(e,t,n){var i,o,a,s,c,l=r.isArray(t)?t:[t],u=l.length;if(!r.isObject(e))return e;for(n=n||{},i=n.merger||r._merger,o=0;o<u;++o)if(t=l[o],r.isObject(t))for(a=Object.keys(t),c=0,s=a.length;c<s;++c)i(a[c],e,t,n);return e},mergeIf:function(e,t){return r.merge(e,t,{merger:r._mergerIf})}};t.exports=r,r.callCallback=r.callback,r.indexOf=function(e,t,n){return Array.prototype.indexOf.call(e,t,n)},r.getValueOrDefault=r.valueOrDefault,r.getValueAtIndexOrDefault=r.valueAtIndexOrDefault},{}],183:[function(e,t,n){"use strict";var r=e("./helpers.core"),i={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-Math.cos(e*(Math.PI/2))+1},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:-Math.pow(2,-10*e)+1},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:1===e?1:(n||(n=.3),r<1?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),-(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)))},easeOutElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:1===e?1:(n||(n=.3),r<1?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:2===(e/=.5)?1:(n||(n=.45),r<1?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),e<1?-.5*(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)):r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:function(e){return 1-i.easeOutBounce(1-e)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*i.easeInBounce(2*e):.5*i.easeOutBounce(2*e-1)+.5}};t.exports={effects:i},r.easingEffects=i},{"./helpers.core":182}],184:[function(e,t,n){"use strict";var r=e("./helpers.core");t.exports={toLineHeight:function(e,t){var n=(""+e).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e},toPadding:function(e){var t,n,i,o;return r.isObject(e)?(t=+e.top||0,n=+e.right||0,i=+e.bottom||0,o=+e.left||0):t=n=i=o=+e||0,{top:t,right:n,bottom:i,left:o,height:t+i,width:o+n}},resolve:function(e,t,n){var i,o,a;for(i=0,o=e.length;i<o;++i)if(a=e[i],void 0!==a&&(void 0!==t&&"function"==typeof a&&(a=a(t)),void 0!==n&&r.isArray(a)&&(a=a[n]),void 0!==a))return a}}},{"./helpers.core":182}],185:[function(e,t,n){"use strict";t.exports=e("./helpers.core"),t.exports.easing=e("./helpers.easing"),t.exports.canvas=e("./helpers.canvas"),t.exports.options=e("./helpers.options")},{"./helpers.canvas":181,"./helpers.core":182,"./helpers.easing":183,"./helpers.options":184}],186:[function(e,t,n){t.exports={acquireContext:function(e){return e&&e.canvas&&(e=e.canvas),e&&e.getContext("2d")||null}}},{}],187:[function(e,t,n){"use strict";function r(e,t){var n=g.getStyle(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?Number(r[1]):void 0}function i(e,t){var n=e.style,i=e.getAttribute("height"),o=e.getAttribute("width");if(e[v]={initial:{height:i,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===o||""===o){var a=r(e,"width");void 0!==a&&(e.width=a)}if(null===i||""===i)if(""===e.style.height)e.height=e.width/(t.options.aspectRatio||2);else{var s=r(e,"height");void 0!==a&&(e.height=s)}return e}function o(e,t,n){e.addEventListener(t,n,S)}function a(e,t,n){e.removeEventListener(t,n,S)}function s(e,t,n,r,i){return{type:e,chart:t,"native":i||null,x:void 0!==n?n:null,y:void 0!==r?r:null}}function c(e,t){var n=x[e.type]||e.type,r=g.getRelativePosition(e,t);return s(n,t,r.x,r.y,e)}function l(e,t){var n=!1,r=[];return function(){r=Array.prototype.slice.call(arguments),t=t||this,n||(n=!0,g.requestAnimFrame.call(window,function(){n=!1,e.apply(t,r)}))}}function u(e){var t=document.createElement("div"),n=b+"size-monitor",r=1e6,i="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;";t.style.cssText=i,t.className=n,t.innerHTML='<div class="'+n+'-expand" style="'+i+'"><div style="position:absolute;width:'+r+"px;height:"+r+'px;left:0;top:0"></div></div><div class="'+n+'-shrink" style="'+i+'"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div>';var a=t.childNodes[0],s=t.childNodes[1];t._reset=function(){a.scrollLeft=r,a.scrollTop=r,s.scrollLeft=r,s.scrollTop=r};var c=function(){t._reset(),e()};return o(a,"scroll",c.bind(a,"expand")),o(s,"scroll",c.bind(s,"shrink")),t}function h(e,t){var n=e[v]||(e[v]={}),r=n.renderProxy=function(e){e.animationName===w&&t()};g.each(_,function(t){o(e,t,r)}),e.classList.add(y)}function d(e){var t=e[v]||{},n=t.renderProxy;n&&(g.each(_,function(t){a(e,t,n)}),delete t.renderProxy),e.classList.remove(y)}function f(e,t,n){var r=e[v]||(e[v]={}),i=r.resizer=u(l(function(){if(r.resizer)return t(s("resize",n))}));h(e,function(){if(r.resizer){var t=e.parentNode;t&&t!==i.parentNode&&t.insertBefore(i,t.firstChild),i._reset()}})}function p(e){var t=e[v]||{},n=t.resizer;delete t.resizer,d(e),n&&n.parentNode&&n.parentNode.removeChild(n)}function m(e,t){var n=e._style||document.createElement("style");e._style||(e._style=n,t="/* Chart.js */\n"+t,n.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(n)),n.appendChild(document.createTextNode(t))}var g=e("../helpers/index"),v="$chartjs",b="chartjs-",y=b+"render-monitor",w=b+"render-animation",_=["animationstart","webkitAnimationStart"],x={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},k=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("e",null,t)}catch(n){}return e}(),S=!!k&&{passive:!0};t.exports={_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,initialize:function(){var e="from{opacity:0.99}to{opacity:1}";m(this,"@-webkit-keyframes "+w+"{"+e+"}@keyframes "+w+"{"+e+"}."+y+"{-webkit-animation:"+w+" 0.001s;animation:"+w+" 0.001s;}")},acquireContext:function(e,t){"string"==typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(i(e,t),n):null},releaseContext:function(e){var t=e.canvas;if(t[v]){var n=t[v].initial;["height","width"].forEach(function(e){var r=n[e];g.isNullOrUndef(r)?t.removeAttribute(e):t.setAttribute(e,r)}),g.each(n.style||{},function(e,n){t.style[n]=e}),t.width=t.width,delete t[v]}},addEventListener:function(e,t,n){var r=e.canvas;if("resize"===t)return void f(r,n,e);var i=n[v]||(n[v]={}),a=i.proxies||(i.proxies={}),s=a[e.id+"_"+t]=function(t){n(c(t,e))};o(r,t,s)},removeEventListener:function(e,t,n){var r=e.canvas;if("resize"===t)return void p(r,n);var i=n[v]||{},o=i.proxies||{},s=o[e.id+"_"+t];s&&a(r,t,s)}},g.addEvent=o,g.removeEvent=a},{"../helpers/index":185}],188:[function(e,t,n){"use strict";var r=e("../helpers/index"),i=e("./platform.basic"),o=e("./platform.dom"),a=o._enabled?o:i;t.exports=r.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},a)},{"../helpers/index":185,"./platform.basic":186,"./platform.dom":187}],189:[function(e,t,n){"use strict";var r=e("../core/core.defaults"),i=e("../elements/index"),o=e("../helpers/index");r._set("global",{plugins:{filler:{propagate:!0}}}),t.exports=function(){function e(e,t,n){var r,i=e._model||{},o=i.fill;if(void 0===o&&(o=!!i.backgroundColor),o===!1||null===o)return!1;if(o===!0)return"origin";if(r=parseFloat(o,10),isFinite(r)&&Math.floor(r)===r)return"-"!==o[0]&&"+"!==o[0]||(r=t+r),!(r===t||r<0||r>=n)&&r;switch(o){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return o;default:return!1}}function t(e){var t,n=e.el._model||{},r=e.el._scale||{},i=e.fill,o=null;if(isFinite(i))return null;if("start"===i?o=void 0===n.scaleBottom?r.bottom:n.scaleBottom:"end"===i?o=void 0===n.scaleTop?r.top:n.scaleTop:void 0!==n.scaleZero?o=n.scaleZero:r.getBasePosition?o=r.getBasePosition():r.getBasePixel&&(o=r.getBasePixel()),void 0!==o&&null!==o){if(void 0!==o.x&&void 0!==o.y)return o;if("number"==typeof o&&isFinite(o))return t=r.isHorizontal(),{x:t?o:null,y:t?null:o}}return null}function n(e,t,n){var r,i=e[t],o=i.fill,a=[t];if(!n)return o;for(;o!==!1&&a.indexOf(o)===-1;){if(!isFinite(o))return o;if(r=e[o],!r)return!1;if(r.visible)return o;a.push(o),o=r.fill}return!1}function a(e){var t=e.fill,n="dataset";return t===!1?null:(isFinite(t)||(n="boundary"),u[n](e))}function s(e){return e&&!e.skip}function c(e,t,n,r,i){var a;if(r&&i){for(e.moveTo(t[0].x,t[0].y),a=1;a<r;++a)o.canvas.lineTo(e,t[a-1],t[a]);for(e.lineTo(n[i-1].x,n[i-1].y),a=i-1;a>0;--a)o.canvas.lineTo(e,n[a],n[a-1],!0)}}function l(e,t,n,r,i,o){var a,l,u,h,d,f,p,m=t.length,g=r.spanGaps,v=[],b=[],y=0,w=0;for(e.beginPath(),a=0,l=m+!!o;a<l;++a)u=a%m,h=t[u]._view,d=n(h,u,r),f=s(h),p=s(d),f&&p?(y=v.push(h),w=b.push(d)):y&&w&&(g?(f&&v.push(h),p&&b.push(d)):(c(e,v,b,y,w),y=w=0,v=[],b=[]));c(e,v,b,y,w),e.closePath(),e.fillStyle=i,e.fill()}var u={dataset:function(e){var t=e.fill,n=e.chart,r=n.getDatasetMeta(t),i=r&&n.isDatasetVisible(t),o=i&&r.dataset._children||[],a=o.length||0;return a?function(e,t){return t<a&&o[t]._view||null}:null},boundary:function(e){var t=e.boundary,n=t?t.x:null,r=t?t.y:null;return function(e){return{x:null===n?e.x:n,y:null===r?e.y:r}}}};return{id:"filler",afterDatasetsUpdate:function(r,o){var s,c,l,u,h=(r.data.datasets||[]).length,d=o.propagate,f=[];for(c=0;c<h;++c)s=r.getDatasetMeta(c),l=s.dataset,u=null,l&&l._model&&l instanceof i.Line&&(u={visible:r.isDatasetVisible(c),fill:e(l,c,h),chart:r,el:l}),s.$filler=u,f.push(u);for(c=0;c<h;++c)u=f[c],u&&(u.fill=n(f,c,d),u.boundary=t(u),u.mapper=a(u))},beforeDatasetDraw:function(e,t){var n=t.meta.$filler;if(n){var i=e.ctx,a=n.el,s=a._view,c=a._children||[],u=n.mapper,h=s.backgroundColor||r.global.defaultColor;u&&h&&c.length&&(o.canvas.clipArea(i,e.chartArea),l(i,c,u,s,h,a._loop),o.canvas.unclipArea(i))}}}}},{"../core/core.defaults":165,"../elements/index":180,"../helpers/index":185}],190:[function(e,t,n){"use strict";var r=e("../core/core.defaults"),i=e("../core/core.element"),o=e("../helpers/index");r._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,t){var n=t.datasetIndex,r=this.chart,i=r.getDatasetMeta(n);i.hidden=null===i.hidden?!r.data.datasets[n].hidden:null,r.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(e){var t=e.data;return o.isArray(t.datasets)?t.datasets.map(function(t,n){return{text:t.label,fillStyle:o.isArray(t.backgroundColor)?t.backgroundColor[0]:t.backgroundColor,hidden:!e.isDatasetVisible(n),lineCap:t.borderCapStyle,lineDash:t.borderDash,lineDashOffset:t.borderDashOffset,lineJoin:t.borderJoinStyle,lineWidth:t.borderWidth,strokeStyle:t.borderColor,pointStyle:t.pointStyle,datasetIndex:n}},this):[]}}},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');for(var n=0;n<e.data.datasets.length;n++)t.push('<li><span style="background-color:'+e.data.datasets[n].backgroundColor+'"></span>'),e.data.datasets[n].label&&t.push(e.data.datasets[n].label),t.push("</li>");return t.push("</ul>"),t.join("")}}),t.exports=function(e){function t(e,t){return e.usePointStyle?t*Math.SQRT2:e.boxWidth}function n(t,n){var r=new e.Legend({ctx:t.ctx,options:n,chart:t});a.configure(t,r,n),a.addBox(t,r),t.legend=r}var a=e.layoutService,s=o.noop;return e.Legend=i.extend({initialize:function(e){o.extend(this,e),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:s,update:function(e,t,n){var r=this;return r.beforeUpdate(),r.maxWidth=e,r.maxHeight=t,r.margins=n,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:s,beforeSetDimensions:s,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:s,beforeBuildLabels:s,buildLabels:function(){var e=this,t=e.options.labels||{},n=o.callback(t.generateLabels,[e.chart],e)||[];t.filter&&(n=n.filter(function(n){return t.filter(n,e.chart.data)})),e.options.reverse&&n.reverse(),e.legendItems=n},afterBuildLabels:s,beforeFit:s,fit:function(){var e=this,n=e.options,i=n.labels,a=n.display,s=e.ctx,c=r.global,l=o.valueOrDefault,u=l(i.fontSize,c.defaultFontSize),h=l(i.fontStyle,c.defaultFontStyle),d=l(i.fontFamily,c.defaultFontFamily),f=o.fontString(u,h,d),p=e.legendHitBoxes=[],m=e.minSize,g=e.isHorizontal();if(g?(m.width=e.maxWidth,m.height=a?10:0):(m.width=a?10:0,m.height=e.maxHeight),a)if(s.font=f,g){var v=e.lineWidths=[0],b=e.legendItems.length?u+i.padding:0;s.textAlign="left",s.textBaseline="top",o.each(e.legendItems,function(n,r){var o=t(i,u),a=o+u/2+s.measureText(n.text).width;v[v.length-1]+a+i.padding>=e.width&&(b+=u+i.padding,v[v.length]=e.left),p[r]={left:0,top:0,width:a,height:u},v[v.length-1]+=a+i.padding}),m.height+=b}else{var y=i.padding,w=e.columnWidths=[],_=i.padding,x=0,k=0,S=u+y;o.each(e.legendItems,function(e,n){var r=t(i,u),o=r+u/2+s.measureText(e.text).width;k+S>m.height&&(_+=x+i.padding,w.push(x),x=0,k=0),x=Math.max(x,o),k+=S,p[n]={left:0,top:0,width:o,height:u}}),_+=x,w.push(x),m.width+=_}e.width=m.width,e.height=m.height},afterFit:s,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var e=this,n=e.options,i=n.labels,a=r.global,s=a.elements.line,c=e.width,l=e.lineWidths;if(n.display){var u,h=e.ctx,d=o.valueOrDefault,f=d(i.fontColor,a.defaultFontColor),p=d(i.fontSize,a.defaultFontSize),m=d(i.fontStyle,a.defaultFontStyle),g=d(i.fontFamily,a.defaultFontFamily),v=o.fontString(p,m,g);h.textAlign="left",h.textBaseline="middle",h.lineWidth=.5,h.strokeStyle=f,h.fillStyle=f,h.font=v;var b=t(i,p),y=e.legendHitBoxes,w=function(e,t,r){if(!(isNaN(b)||b<=0)){h.save(),h.fillStyle=d(r.fillStyle,a.defaultColor),h.lineCap=d(r.lineCap,s.borderCapStyle),h.lineDashOffset=d(r.lineDashOffset,s.borderDashOffset),h.lineJoin=d(r.lineJoin,s.borderJoinStyle),h.lineWidth=d(r.lineWidth,s.borderWidth),h.strokeStyle=d(r.strokeStyle,a.defaultColor);var i=0===d(r.lineWidth,s.borderWidth);if(h.setLineDash&&h.setLineDash(d(r.lineDash,s.borderDash)),n.labels&&n.labels.usePointStyle){var c=p*Math.SQRT2/2,l=c/Math.SQRT2,u=e+l,f=t+l;o.canvas.drawPoint(h,r.pointStyle,c,u,f)}else i||h.strokeRect(e,t,b,p),h.fillRect(e,t,b,p);h.restore()}},_=function(e,t,n,r){var i=p/2,o=b+i+e,a=t+i;h.fillText(n.text,o,a),n.hidden&&(h.beginPath(),h.lineWidth=2,h.moveTo(o,a),h.lineTo(o+r,a),h.stroke())},x=e.isHorizontal();u=x?{x:e.left+(c-l[0])/2,y:e.top+i.padding,line:0}:{x:e.left+i.padding,y:e.top+i.padding,line:0};var k=p+i.padding;o.each(e.legendItems,function(t,n){var r=h.measureText(t.text).width,o=b+p/2+r,a=u.x,s=u.y;x?a+o>=c&&(s=u.y+=k,u.line++,a=u.x=e.left+(c-l[u.line])/2):s+k>e.bottom&&(a=u.x=a+e.columnWidths[u.line]+i.padding,s=u.y=e.top+i.padding,u.line++),w(a,s,t),y[n].left=a,y[n].top=s,_(a,s,t,r),x?u.x+=o+i.padding:u.y+=k})}},handleEvent:function(e){var t=this,n=t.options,r="mouseup"===e.type?"click":e.type,i=!1;if("mousemove"===r){if(!n.onHover)return}else{if("click"!==r)return;if(!n.onClick)return}var o=e.x,a=e.y;if(o>=t.left&&o<=t.right&&a>=t.top&&a<=t.bottom)for(var s=t.legendHitBoxes,c=0;c<s.length;++c){var l=s[c];if(o>=l.left&&o<=l.left+l.width&&a>=l.top&&a<=l.top+l.height){if("click"===r){n.onClick.call(t,e["native"],t.legendItems[c]),i=!0;break}if("mousemove"===r){n.onHover.call(t,e["native"],t.legendItems[c]),i=!0;break}}}return i}}),{id:"legend",beforeInit:function(e){var t=e.options.legend;t&&n(e,t)},beforeUpdate:function(e){var t=e.options.legend,i=e.legend;t?(o.mergeIf(t,r.global.legend),i?(a.configure(e,i,t),i.options=t):n(e,t)):i&&(a.removeBox(e,i),delete e.legend)},afterEvent:function(e,t){var n=e.legend;n&&n.handleEvent(t)}}}},{"../core/core.defaults":165,"../core/core.element":166,"../helpers/index":185}],191:[function(e,t,n){"use strict";var r=e("../core/core.defaults"),i=e("../core/core.element"),o=e("../helpers/index");r._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,lineHeight:1.2,padding:10,position:"top",text:"",weight:2e3}}),t.exports=function(e){function t(t,r){var i=new e.Title({ctx:t.ctx,options:r,chart:t});n.configure(t,i,r),n.addBox(t,i),t.titleBlock=i}var n=e.layoutService,a=o.noop;return e.Title=i.extend({initialize:function(e){var t=this;o.extend(t,e),t.legendHitBoxes=[]},beforeUpdate:a,update:function(e,t,n){var r=this;return r.beforeUpdate(),r.maxWidth=e,r.maxHeight=t,r.margins=n,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:a,beforeSetDimensions:a,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:a,beforeBuildLabels:a,buildLabels:a,afterBuildLabels:a,beforeFit:a,fit:function(){var e=this,t=o.valueOrDefault,n=e.options,i=n.display,a=t(n.fontSize,r.global.defaultFontSize),s=e.minSize,c=o.isArray(n.text)?n.text.length:1,l=o.options.toLineHeight(n.lineHeight,a),u=i?c*l+2*n.padding:0;e.isHorizontal()?(s.width=e.maxWidth,s.height=u):(s.width=u,s.height=e.maxHeight),e.width=s.width,e.height=s.height},afterFit:a,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var e=this,t=e.ctx,n=o.valueOrDefault,i=e.options,a=r.global;if(i.display){var s,c,l,u=n(i.fontSize,a.defaultFontSize),h=n(i.fontStyle,a.defaultFontStyle),d=n(i.fontFamily,a.defaultFontFamily),f=o.fontString(u,h,d),p=o.options.toLineHeight(i.lineHeight,u),m=p/2+i.padding,g=0,v=e.top,b=e.left,y=e.bottom,w=e.right;t.fillStyle=n(i.fontColor,a.defaultFontColor),t.font=f,e.isHorizontal()?(c=b+(w-b)/2,l=v+m,s=w-b):(c="left"===i.position?b+m:w-m,l=v+(y-v)/2,s=y-v,g=Math.PI*("left"===i.position?-.5:.5)),t.save(),t.translate(c,l),t.rotate(g),t.textAlign="center",t.textBaseline="middle";var _=i.text;if(o.isArray(_))for(var x=0,k=0;k<_.length;++k)t.fillText(_[k],0,x,s),x+=p;else t.fillText(_,0,0,s);t.restore()}}}),{id:"title",beforeInit:function(e){var n=e.options.title;n&&t(e,n)},beforeUpdate:function(i){var a=i.options.title,s=i.titleBlock;a?(o.mergeIf(a,r.global.title),s?(n.configure(i,s,a),s.options=a):t(i,a)):s&&(e.layoutService.removeBox(i,s),delete i.titleBlock)}}}},{"../core/core.defaults":165,"../core/core.element":166,"../helpers/index":185}],192:[function(e,t,n){"use strict";t.exports=function(e){var t={position:"bottom"},n=e.Scale.extend({getLabels:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels},determineDataLimits:function(){var e=this,t=e.getLabels();e.minIndex=0,e.maxIndex=t.length-1;var n;void 0!==e.options.ticks.min&&(n=t.indexOf(e.options.ticks.min),e.minIndex=n!==-1?n:e.minIndex),void 0!==e.options.ticks.max&&(n=t.indexOf(e.options.ticks.max),e.maxIndex=n!==-1?n:e.maxIndex),e.min=t[e.minIndex],e.max=t[e.maxIndex]},buildTicks:function(){var e=this,t=e.getLabels();e.ticks=0===e.minIndex&&e.maxIndex===t.length-1?t:t.slice(e.minIndex,e.maxIndex+1)},getLabelForIndex:function(e,t){var n=this,r=n.chart.data,i=n.isHorizontal();return r.yLabels&&!i?n.getRightValue(r.datasets[t].data[e]):n.ticks[e-n.minIndex]},getPixelForValue:function(e,t){var n,r=this,i=r.options.offset,o=Math.max(r.maxIndex+1-r.minIndex-(i?0:1),1);if(void 0!==e&&null!==e&&(n=r.isHorizontal()?e.x:e.y),void 0!==n||void 0!==e&&isNaN(t)){var a=r.getLabels();e=n||e;var s=a.indexOf(e);t=s!==-1?s:t}if(r.isHorizontal()){var c=r.width/o,l=c*(t-r.minIndex);return i&&(l+=c/2),r.left+Math.round(l)}var u=r.height/o,h=u*(t-r.minIndex);return i&&(h+=u/2),r.top+Math.round(h)},getPixelForTick:function(e){return this.getPixelForValue(this.ticks[e],e+this.minIndex,null)},getValueForPixel:function(e){var t,n=this,r=n.options.offset,i=Math.max(n._ticks.length-(r?0:1),1),o=n.isHorizontal(),a=(o?n.width:n.height)/i;return e-=o?n.left:n.top,r&&(e-=a/2),t=e<=0?0:Math.round(e/a),t+n.minIndex},getBasePixel:function(){return this.bottom}});e.scaleService.registerScaleType("category",n,t)}},{}],193:[function(e,t,n){"use strict";var r=e("../core/core.defaults"),i=e("../helpers/index"),o=e("../core/core.ticks");t.exports=function(e){var t={position:"left",ticks:{callback:o.formatters.linear}},n=e.LinearScaleBase.extend({determineDataLimits:function(){function e(e){return s?e.xAxisID===t.id:e.yAxisID===t.id}var t=this,n=t.options,r=t.chart,o=r.data,a=o.datasets,s=t.isHorizontal(),c=0,l=1;t.min=null,t.max=null;var u=n.stacked;if(void 0===u&&i.each(a,function(t,n){if(!u){var i=r.getDatasetMeta(n);r.isDatasetVisible(n)&&e(i)&&void 0!==i.stack&&(u=!0)}}),n.stacked||u){var h={};i.each(a,function(o,a){var s=r.getDatasetMeta(a),c=[s.type,void 0===n.stacked&&void 0===s.stack?a:"",s.stack].join(".");void 0===h[c]&&(h[c]={positiveValues:[],negativeValues:[]});var l=h[c].positiveValues,u=h[c].negativeValues;r.isDatasetVisible(a)&&e(s)&&i.each(o.data,function(e,r){var i=+t.getRightValue(e);isNaN(i)||s.data[r].hidden||(l[r]=l[r]||0,u[r]=u[r]||0,n.relativePoints?l[r]=100:i<0?u[r]+=i:l[r]+=i)})}),i.each(h,function(e){var n=e.positiveValues.concat(e.negativeValues),r=i.min(n),o=i.max(n);t.min=null===t.min?r:Math.min(t.min,r),t.max=null===t.max?o:Math.max(t.max,o)})}else i.each(a,function(n,o){var a=r.getDatasetMeta(o);r.isDatasetVisible(o)&&e(a)&&i.each(n.data,function(e,n){var r=+t.getRightValue(e);isNaN(r)||a.data[n].hidden||(null===t.min?t.min=r:r<t.min&&(t.min=r),null===t.max?t.max=r:r>t.max&&(t.max=r))})});t.min=isFinite(t.min)&&!isNaN(t.min)?t.min:c,t.max=isFinite(t.max)&&!isNaN(t.max)?t.max:l,this.handleTickRangeOptions()},getTickLimit:function(){var e,t=this,n=t.options.ticks;if(t.isHorizontal())e=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(t.width/50));else{var o=i.valueOrDefault(n.fontSize,r.global.defaultFontSize);e=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(t.height/(2*o)))}return e},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e){var t,n=this,r=n.start,i=+n.getRightValue(e),o=n.end-r;return n.isHorizontal()?(t=n.left+n.width/o*(i-r),Math.round(t)):(t=n.bottom-n.height/o*(i-r),Math.round(t))},getValueForPixel:function(e){var t=this,n=t.isHorizontal(),r=n?t.width:t.height,i=(n?e-t.left:t.bottom-e)/r;return t.start+(t.end-t.start)*i},getPixelForTick:function(e){return this.getPixelForValue(this.ticksAsNumbers[e])}});e.scaleService.registerScaleType("linear",n,t)}},{"../core/core.defaults":165,"../core/core.ticks":174,"../helpers/index":185}],194:[function(e,t,n){"use strict";var r=e("../helpers/index"),i=e("../core/core.ticks");t.exports=function(e){var t=r.noop;e.LinearScaleBase=e.Scale.extend({getRightValue:function(t){return"string"==typeof t?+t:e.Scale.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var e=this,t=e.options,n=t.ticks;if(n.beginAtZero){var i=r.sign(e.min),o=r.sign(e.max);i<0&&o<0?e.max=0:i>0&&o>0&&(e.min=0)}var a=void 0!==n.min||void 0!==n.suggestedMin,s=void 0!==n.max||void 0!==n.suggestedMax;void 0!==n.min?e.min=n.min:void 0!==n.suggestedMin&&(null===e.min?e.min=n.suggestedMin:e.min=Math.min(e.min,n.suggestedMin)),void 0!==n.max?e.max=n.max:void 0!==n.suggestedMax&&(null===e.max?e.max=n.suggestedMax:e.max=Math.max(e.max,n.suggestedMax)),a!==s&&e.min>=e.max&&(a?e.max=e.min+1:e.min=e.max-1),e.min===e.max&&(e.max++,n.beginAtZero||e.min--)},getTickLimit:t,handleDirectionalChanges:t,buildTicks:function(){var e=this,t=e.options,n=t.ticks,o=e.getTickLimit();o=Math.max(2,o);var a={maxTicks:o,min:n.min,max:n.max,stepSize:r.valueOrDefault(n.fixedStepSize,n.stepSize)},s=e.ticks=i.generators.linear(a,e);e.handleDirectionalChanges(),e.max=r.max(s),e.min=r.min(s),n.reverse?(s.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),e.Scale.prototype.convertTicksToLabels.call(t)}})}},{"../core/core.ticks":174,"../helpers/index":185}],195:[function(e,t,n){"use strict";var r=e("../helpers/index"),i=e("../core/core.ticks");t.exports=function(e){var t={position:"left",ticks:{callback:i.formatters.logarithmic}},n=e.Scale.extend({determineDataLimits:function(){function e(e){return l?e.xAxisID===t.id:e.yAxisID===t.id}var t=this,n=t.options,i=n.ticks,o=t.chart,a=o.data,s=a.datasets,c=r.valueOrDefault,l=t.isHorizontal();t.min=null,t.max=null,t.minNotZero=null;var u=n.stacked;if(void 0===u&&r.each(s,function(t,n){if(!u){var r=o.getDatasetMeta(n);o.isDatasetVisible(n)&&e(r)&&void 0!==r.stack&&(u=!0)}}),n.stacked||u){var h={};r.each(s,function(i,a){var s=o.getDatasetMeta(a),c=[s.type,void 0===n.stacked&&void 0===s.stack?a:"",s.stack].join(".");o.isDatasetVisible(a)&&e(s)&&(void 0===h[c]&&(h[c]=[]),r.each(i.data,function(e,r){var i=h[c],o=+t.getRightValue(e);isNaN(o)||s.data[r].hidden||(i[r]=i[r]||0,n.relativePoints?i[r]=100:i[r]+=o)}))}),r.each(h,function(e){var n=r.min(e),i=r.max(e);t.min=null===t.min?n:Math.min(t.min,n),t.max=null===t.max?i:Math.max(t.max,i)})}else r.each(s,function(n,i){var a=o.getDatasetMeta(i);o.isDatasetVisible(i)&&e(a)&&r.each(n.data,function(e,n){var r=+t.getRightValue(e);isNaN(r)||a.data[n].hidden||(null===t.min?t.min=r:r<t.min&&(t.min=r),null===t.max?t.max=r:r>t.max&&(t.max=r),0!==r&&(null===t.minNotZero||r<t.minNotZero)&&(t.minNotZero=r))})});t.min=c(i.min,t.min),t.max=c(i.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(r.log10(t.min))-1),t.max=Math.pow(10,Math.floor(r.log10(t.max))+1)):(t.min=1,t.max=10))},buildTicks:function(){var e=this,t=e.options,n=t.ticks,o={min:n.min,max:n.max},a=e.ticks=i.generators.logarithmic(o,e);e.isHorizontal()||a.reverse(),e.max=r.max(a),e.min=r.min(a),
n.reverse?(a.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),e.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){return this.getPixelForValue(this.tickValues[e])},getPixelForValue:function(e){var t,n,i,o=this,a=o.start,s=+o.getRightValue(e),c=o.options,l=c.ticks;return o.isHorizontal()?(i=r.log10(o.end)-r.log10(a),0===s?n=o.left:(t=o.width,n=o.left+t/i*(r.log10(s)-r.log10(a)))):(t=o.height,0!==a||l.reverse?0===o.end&&l.reverse?(i=r.log10(o.start)-r.log10(o.minNotZero),n=s===o.end?o.top:s===o.minNotZero?o.top+.02*t:o.top+.02*t+.98*t/i*(r.log10(s)-r.log10(o.minNotZero))):0===s?n=l.reverse?o.top:o.bottom:(i=r.log10(o.end)-r.log10(a),t=o.height,n=o.bottom-t/i*(r.log10(s)-r.log10(a))):(i=r.log10(o.end)-r.log10(o.minNotZero),n=s===a?o.bottom:s===o.minNotZero?o.bottom-.02*t:o.bottom-.02*t-.98*t/i*(r.log10(s)-r.log10(o.minNotZero)))),n},getValueForPixel:function(e){var t,n,i=this,o=r.log10(i.end)-r.log10(i.start);return i.isHorizontal()?(n=i.width,t=i.start*Math.pow(10,(e-i.left)*o/n)):(n=i.height,t=Math.pow(10,(i.bottom-e)*o/n)/i.start),t}});e.scaleService.registerScaleType("logarithmic",n,t)}},{"../core/core.ticks":174,"../helpers/index":185}],196:[function(e,t,n){"use strict";var r=e("../core/core.defaults"),i=e("../helpers/index"),o=e("../core/core.ticks");t.exports=function(e){function t(e){var t=e.options;return t.angleLines.display||t.pointLabels.display?e.chart.data.labels.length:0}function n(e){var t=e.options.pointLabels,n=i.valueOrDefault(t.fontSize,g.defaultFontSize),r=i.valueOrDefault(t.fontStyle,g.defaultFontStyle),o=i.valueOrDefault(t.fontFamily,g.defaultFontFamily),a=i.fontString(n,r,o);return{size:n,style:r,family:o,font:a}}function a(e,t,n){return i.isArray(n)?{w:i.longestText(e,e.font,n),h:n.length*t+1.5*(n.length-1)*t}:{w:e.measureText(n).width,h:t}}function s(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n-5,end:t}:{start:t,end:t+n+5}}function c(e){var r,o,c,l=n(e),u=Math.min(e.height/2,e.width/2),h={r:e.width,l:0,t:e.height,b:0},d={};e.ctx.font=l.font,e._pointLabelSizes=[];var f=t(e);for(r=0;r<f;r++){c=e.getPointPosition(r,u),o=a(e.ctx,l.size,e.pointLabels[r]||""),e._pointLabelSizes[r]=o;var p=e.getIndexAngle(r),m=i.toDegrees(p)%360,g=s(m,c.x,o.w,0,180),v=s(m,c.y,o.h,90,270);g.start<h.l&&(h.l=g.start,d.l=p),g.end>h.r&&(h.r=g.end,d.r=p),v.start<h.t&&(h.t=v.start,d.t=p),v.end>h.b&&(h.b=v.end,d.b=p)}e.setReductions(u,h,d)}function l(e){var t=Math.min(e.height/2,e.width/2);e.drawingArea=Math.round(t),e.setCenterPoint(0,0,0,0)}function u(e){return 0===e||180===e?"center":e<180?"left":"right"}function h(e,t,n,r){if(i.isArray(t))for(var o=n.y,a=1.5*r,s=0;s<t.length;++s)e.fillText(t[s],n.x,o),o+=a;else e.fillText(t,n.x,n.y)}function d(e,t,n){90===e||270===e?n.y-=t.h/2:(e>270||e<90)&&(n.y-=t.h)}function f(e){var r=e.ctx,o=i.valueOrDefault,a=e.options,s=a.angleLines,c=a.pointLabels;r.lineWidth=s.lineWidth,r.strokeStyle=s.color;var l=e.getDistanceFromCenterForValue(a.ticks.reverse?e.min:e.max),f=n(e);r.textBaseline="top";for(var p=t(e)-1;p>=0;p--){if(s.display){var m=e.getPointPosition(p,l);r.beginPath(),r.moveTo(e.xCenter,e.yCenter),r.lineTo(m.x,m.y),r.stroke(),r.closePath()}if(c.display){var v=e.getPointPosition(p,l+5),b=o(c.fontColor,g.defaultFontColor);r.font=f.font,r.fillStyle=b;var y=e.getIndexAngle(p),w=i.toDegrees(y);r.textAlign=u(w),d(w,e._pointLabelSizes[p],v),h(r,e.pointLabels[p]||"",v,f.size)}}}function p(e,n,r,o){var a=e.ctx;if(a.strokeStyle=i.valueAtIndexOrDefault(n.color,o-1),a.lineWidth=i.valueAtIndexOrDefault(n.lineWidth,o-1),e.options.gridLines.circular)a.beginPath(),a.arc(e.xCenter,e.yCenter,r,0,2*Math.PI),a.closePath(),a.stroke();else{var s=t(e);if(0===s)return;a.beginPath();var c=e.getPointPosition(0,r);a.moveTo(c.x,c.y);for(var l=1;l<s;l++)c=e.getPointPosition(l,r),a.lineTo(c.x,c.y);a.closePath(),a.stroke()}}function m(e){return i.isNumber(e)?e:0}var g=r.global,v={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:o.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(e){return e}}},b=e.LinearScaleBase.extend({setDimensions:function(){var e=this,t=e.options,n=t.ticks;e.width=e.maxWidth,e.height=e.maxHeight,e.xCenter=Math.round(e.width/2),e.yCenter=Math.round(e.height/2);var r=i.min([e.height,e.width]),o=i.valueOrDefault(n.fontSize,g.defaultFontSize);e.drawingArea=t.display?r/2-(o/2+n.backdropPaddingY):r/2},determineDataLimits:function(){var e=this,t=e.chart,n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;i.each(t.data.datasets,function(o,a){if(t.isDatasetVisible(a)){var s=t.getDatasetMeta(a);i.each(o.data,function(t,i){var o=+e.getRightValue(t);isNaN(o)||s.data[i].hidden||(n=Math.min(o,n),r=Math.max(o,r))})}}),e.min=n===Number.POSITIVE_INFINITY?0:n,e.max=r===Number.NEGATIVE_INFINITY?0:r,e.handleTickRangeOptions()},getTickLimit:function(){var e=this.options.ticks,t=i.valueOrDefault(e.fontSize,g.defaultFontSize);return Math.min(e.maxTicksLimit?e.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*t)))},convertTicksToLabels:function(){var t=this;e.LinearScaleBase.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map(t.options.pointLabels.callback,t)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){this.options.pointLabels.display?c(this):l(this)},setReductions:function(e,t,n){var r=this,i=t.l/Math.sin(n.l),o=Math.max(t.r-r.width,0)/Math.sin(n.r),a=-t.t/Math.cos(n.t),s=-Math.max(t.b-r.height,0)/Math.cos(n.b);i=m(i),o=m(o),a=m(a),s=m(s),r.drawingArea=Math.min(Math.round(e-(i+o)/2),Math.round(e-(a+s)/2)),r.setCenterPoint(i,o,a,s)},setCenterPoint:function(e,t,n,r){var i=this,o=i.width-t-i.drawingArea,a=e+i.drawingArea,s=n+i.drawingArea,c=i.height-r-i.drawingArea;i.xCenter=Math.round((a+o)/2+i.left),i.yCenter=Math.round((s+c)/2+i.top)},getIndexAngle:function(e){var n=2*Math.PI/t(this),r=this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0,i=r*Math.PI*2/360;return e*n+i},getDistanceFromCenterForValue:function(e){var t=this;if(null===e)return 0;var n=t.drawingArea/(t.max-t.min);return t.options.ticks.reverse?(t.max-e)*n:(e-t.min)*n},getPointPosition:function(e,t){var n=this,r=n.getIndexAngle(e)-Math.PI/2;return{x:Math.round(Math.cos(r)*t)+n.xCenter,y:Math.round(Math.sin(r)*t)+n.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(){var e=this,t=e.min,n=e.max;return e.getPointPositionForValue(0,e.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0)},draw:function(){var e=this,t=e.options,n=t.gridLines,r=t.ticks,o=i.valueOrDefault;if(t.display){var a=e.ctx,s=this.getIndexAngle(0),c=o(r.fontSize,g.defaultFontSize),l=o(r.fontStyle,g.defaultFontStyle),u=o(r.fontFamily,g.defaultFontFamily),h=i.fontString(c,l,u);i.each(e.ticks,function(t,i){if(i>0||r.reverse){var l=e.getDistanceFromCenterForValue(e.ticksAsNumbers[i]);if(n.display&&0!==i&&p(e,n,l,i),r.display){var u=o(r.fontColor,g.defaultFontColor);if(a.font=h,a.save(),a.translate(e.xCenter,e.yCenter),a.rotate(s),r.showLabelBackdrop){var d=a.measureText(t).width;a.fillStyle=r.backdropColor,a.fillRect(-d/2-r.backdropPaddingX,-l-c/2-r.backdropPaddingY,d+2*r.backdropPaddingX,c+2*r.backdropPaddingY)}a.textAlign="center",a.textBaseline="middle",a.fillStyle=u,a.fillText(t,0,-l),a.restore()}}}),(t.angleLines.display||t.pointLabels.display)&&f(e)}}});e.scaleService.registerScaleType("radialLinear",b,v)}},{"../core/core.defaults":165,"../core/core.ticks":174,"../helpers/index":185}],197:[function(e,t,n){"use strict";function r(e,t){return e-t}function i(e){var t,n,r,i={},o=[];for(t=0,n=e.length;t<n;++t)r=e[t],i[r]||(i[r]=!0,o.push(r));return o}function o(e,t,n,r){if("linear"===r||!e.length)return[{time:t,pos:0},{time:n,pos:1}];var i,o,a,s,c,l=[],u=[t];for(i=0,o=e.length;i<o;++i)s=e[i],s>t&&s<n&&u.push(s);for(u.push(n),i=0,o=u.length;i<o;++i)c=u[i+1],a=u[i-1],s=u[i],void 0!==a&&void 0!==c&&Math.round((c+a)/2)===s||l.push({time:s,pos:i/(o-1)});return l}function a(e,t,n){for(var r,i,o,a=0,s=e.length-1;a>=0&&a<=s;){if(r=a+s>>1,i=e[r-1]||null,o=e[r],!i)return{lo:null,hi:o};if(o[t]<n)a=r+1;else{if(!(i[t]>n))return{lo:i,hi:o};s=r-1}}return{lo:o,hi:null}}function s(e,t,n,r){var i=a(e,t,n),o=i.lo?i.hi?i.lo:e[e.length-2]:e[0],s=i.lo?i.hi?i.hi:e[e.length-1]:e[1],c=s[t]-o[t],l=c?(n-o[t])/c:0,u=(s[r]-o[r])*l;return o[r]+u}function c(e,t){var n=t.parser,r=t.parser||t.format;return"function"==typeof n?n(e):"string"==typeof e&&"string"==typeof r?g(e,r):(e instanceof g||(e=g(e)),e.isValid()?e:"function"==typeof r?r(e):e)}function l(e,t){if(b.isNullOrUndef(e))return null;var n=t.options.time,r=c(t.getRightValue(e),n);return r.isValid()?(n.round&&r.startOf(n.round),r.valueOf()):null}function u(e,t,n,r){var i,o,a,s=t-e,c=_[n],l=c.size,u=c.steps;if(!u)return Math.ceil(s/((r||1)*l));for(i=0,o=u.length;i<o&&(a=u[i],!(Math.ceil(s/(l*a))<=r));++i);return a}function h(e,t,n,r){var i,o,a,s=x.length;for(i=x.indexOf(e);i<s-1;++i)if(o=_[x[i]],a=o.steps?o.steps[o.steps.length-1]:w,Math.ceil((n-t)/(a*o.size))<=r)return x[i];return x[s-1]}function d(e){for(var t=x.indexOf(e)+1,n=x.length;t<n;++t)if(_[x[t]].major)return x[t]}function f(e,t,n,r,i,o){var a,s=o.time,c=b.valueOrDefault(s.stepSize,s.unitStepSize),l="week"===n&&s.isoWeekday,h=o.ticks.major.enabled,d=_[n],f=g(e),p=g(t),m=[];for(c||(c=u(e,t,n,i)),l&&(f=f.isoWeekday(l),p=p.isoWeekday(l)),f=f.startOf(l?"day":n),p=p.startOf(l?"day":n),p<t&&p.add(1,n),a=g(f),h&&r&&!l&&!s.round&&(a.startOf(r),a.add(~~((f-a)/(d.size*c))*c,n));a<p;a.add(c,n))m.push(+a);return m.push(+a),m}function p(e,t,n,r,i){var o,a,c=0,l=0;return i.offset&&t.length&&(i.time.min||(o=t.length>1?t[1]:r,a=t[0],c=(s(e,"time",o,"pos")-s(e,"time",a,"pos"))/2),i.time.max||(o=t[t.length-1],a=t.length>1?t[t.length-2]:n,l=(s(e,"time",o,"pos")-s(e,"time",a,"pos"))/2)),{left:c,right:l}}function m(e,t){var n,r,i,o,a=[];for(n=0,r=e.length;n<r;++n)i=e[n],o=!!t&&i===+g(i).startOf(t),a.push({value:i,major:o});return a}var g=e("moment");g="function"==typeof g?g:window.moment;var v=e("../core/core.defaults"),b=e("../helpers/index"),y=Number.MIN_SAFE_INTEGER||-9007199254740991,w=Number.MAX_SAFE_INTEGER||9007199254740991,_={millisecond:{major:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{major:!0,size:1e3,steps:[1,2,5,10,30]},minute:{major:!0,size:6e4,steps:[1,2,5,10,30]},hour:{major:!0,size:36e5,steps:[1,2,3,6,12]},day:{major:!0,size:864e5,steps:[1,2,5]},week:{major:!1,size:6048e5,steps:[1,2,3,4]},month:{major:!0,size:2628e6,steps:[1,2,3]},quarter:{major:!1,size:7884e6,steps:[1,2,3,4]},year:{major:!0,size:3154e7}},x=Object.keys(_);t.exports=function(e){var t={position:"bottom",distribution:"linear",bounds:"data",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}},n=e.Scale.extend({initialize:function(){if(!g)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");this.mergeTicksOptions(),e.Scale.prototype.initialize.call(this)},update:function(){var t=this,n=t.options;return n.time&&n.time.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),e.Scale.prototype.update.apply(t,arguments)},getRightValue:function(t){return t&&void 0!==t.t&&(t=t.t),e.Scale.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var e,t,n,o,a,s,c=this,u=c.chart,h=c.options.time,d=l(h.min,c)||w,f=l(h.max,c)||y,p=[],m=[],v=[];for(e=0,n=u.data.labels.length;e<n;++e)v.push(l(u.data.labels[e],c));for(e=0,n=(u.data.datasets||[]).length;e<n;++e)if(u.isDatasetVisible(e))if(a=u.data.datasets[e].data,b.isObject(a[0]))for(m[e]=[],t=0,o=a.length;t<o;++t)s=l(a[t],c),p.push(s),m[e][t]=s;else p.push.apply(p,v),m[e]=v.slice(0);else m[e]=[];v.length&&(v=i(v).sort(r),d=Math.min(d,v[0]),f=Math.max(f,v[v.length-1])),p.length&&(p=i(p).sort(r),d=Math.min(d,p[0]),f=Math.max(f,p[p.length-1])),d=d===w?+g().startOf("day"):d,f=f===y?+g().endOf("day")+1:f,c.min=Math.min(d,f),c.max=Math.max(d+1,f),c._horizontal=c.isHorizontal(),c._table=[],c._timestamps={data:p,datasets:m,labels:v}},buildTicks:function(){var e,t,n,r=this,i=r.min,a=r.max,s=r.options,c=s.time,u=c.displayFormats,g=r.getLabelCapacity(i),v=c.unit||h(c.minUnit,i,a,g),b=d(v),y=[],w=[];switch(s.ticks.source){case"data":y=r._timestamps.data;break;case"labels":y=r._timestamps.labels;break;case"auto":default:y=f(i,a,v,b,g,s)}for("ticks"===s.bounds&&y.length&&(i=y[0],a=y[y.length-1]),i=l(c.min,r)||i,a=l(c.max,r)||a,e=0,t=y.length;e<t;++e)n=y[e],n>=i&&n<=a&&w.push(n);return r.min=i,r.max=a,r._unit=v,r._majorUnit=b,r._minorFormat=u[v],r._majorFormat=u[b],r._table=o(r._timestamps.data,i,a,s.distribution),r._offsets=p(r._table,w,i,a,s),m(w,b)},getLabelForIndex:function(e,t){var n=this,r=n.chart.data,i=n.options.time,o=r.labels&&e<r.labels.length?r.labels[e]:"",a=r.datasets[t].data[e];return b.isObject(a)&&(o=n.getRightValue(a)),i.tooltipFormat&&(o=c(o,i).format(i.tooltipFormat)),o},tickFormatFunction:function(e,t,n){var r=this,i=r.options,o=e.valueOf(),a=r._majorUnit,s=r._majorFormat,c=e.clone().startOf(r._majorUnit).valueOf(),l=i.ticks.major,u=l.enabled&&a&&s&&o===c,h=e.format(u?s:r._minorFormat),d=u?l:i.ticks.minor,f=b.valueOrDefault(d.callback,d.userCallback);return f?f(h,t,n):h},convertTicksToLabels:function(e){var t,n,r=[];for(t=0,n=e.length;t<n;++t)r.push(this.tickFormatFunction(g(e[t].value),t,e));return r},getPixelForOffset:function(e){var t=this,n=t._horizontal?t.width:t.height,r=t._horizontal?t.left:t.top,i=s(t._table,"time",e,"pos");return r+n*(t._offsets.left+i)/(t._offsets.left+1+t._offsets.right)},getPixelForValue:function(e,t,n){var r=this,i=null;if(void 0!==t&&void 0!==n&&(i=r._timestamps.datasets[n][t]),null===i&&(i=l(e,r)),null!==i)return r.getPixelForOffset(i)},getPixelForTick:function(e){var t=this.getTicks();return e>=0&&e<t.length?this.getPixelForOffset(t[e].value):null},getValueForPixel:function(e){var t=this,n=t._horizontal?t.width:t.height,r=t._horizontal?t.left:t.top,i=(n?(e-r)/n:0)*(t._offsets.left+1+t._offsets.left)-t._offsets.right,o=s(t._table,"pos",i,"time");return g(o)},getLabelWidth:function(e){var t=this,n=t.options.ticks,r=t.ctx.measureText(e).width,i=b.toRadians(n.maxRotation),o=Math.cos(i),a=Math.sin(i),s=b.valueOrDefault(n.fontSize,v.global.defaultFontSize);return r*o+s*a},getLabelCapacity:function(e){var t=this;t._minorFormat=t.options.time.displayFormats.millisecond;var n=t.tickFormatFunction(g(e),0,[]),r=t.getLabelWidth(n),i=t.isHorizontal()?t.width:t.height;return Math.floor(i/r)}});e.scaleService.registerScaleType("time",n,t)}},{"../core/core.defaults":165,"../helpers/index":185,moment:146}],198:[function(e,t,n){function r(e){if(e){var t=/^#([a-fA-F0-9]{3})$/i,n=/^#([a-fA-F0-9]{6})$/i,r=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,o=/(\w+)/,a=[0,0,0],s=1,c=e.match(t);if(c){c=c[1];for(var l=0;l<a.length;l++)a[l]=parseInt(c[l]+c[l],16)}else if(c=e.match(n)){c=c[1];for(var l=0;l<a.length;l++)a[l]=parseInt(c.slice(2*l,2*l+2),16)}else if(c=e.match(r)){for(var l=0;l<a.length;l++)a[l]=parseInt(c[l+1]);s=parseFloat(c[4])}else if(c=e.match(i)){for(var l=0;l<a.length;l++)a[l]=Math.round(2.55*parseFloat(c[l+1]));s=parseFloat(c[4])}else if(c=e.match(o)){if("transparent"==c[1])return[0,0,0,0];if(a=w[c[1]],!a)return}for(var l=0;l<a.length;l++)a[l]=b(a[l],0,255);return s=s||0==s?b(s,0,1):1,a[3]=s,a}}function i(e){if(e){var t=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=e.match(t);if(n){var r=parseFloat(n[4]),i=b(parseInt(n[1]),0,360),o=b(parseFloat(n[2]),0,100),a=b(parseFloat(n[3]),0,100),s=b(isNaN(r)?1:r,0,1);return[i,o,a,s]}}}function o(e){if(e){var t=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=e.match(t);if(n){var r=parseFloat(n[4]),i=b(parseInt(n[1]),0,360),o=b(parseFloat(n[2]),0,100),a=b(parseFloat(n[3]),0,100),s=b(isNaN(r)?1:r,0,1);return[i,o,a,s]}}}function a(e){var t=r(e);return t&&t.slice(0,3)}function s(e){var t=i(e);return t&&t.slice(0,3)}function c(e){var t=r(e);return t?t[3]:(t=i(e))?t[3]:(t=o(e))?t[3]:void 0}function l(e){return"#"+y(e[0])+y(e[1])+y(e[2])}function u(e,t){return t<1||e[3]&&e[3]<1?h(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"}function h(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function d(e,t){if(t<1||e[3]&&e[3]<1)return f(e,t);var n=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),i=Math.round(e[2]/255*100);return"rgb("+n+"%, "+r+"%, "+i+"%)"}function f(e,t){var n=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),i=Math.round(e[2]/255*100);return"rgba("+n+"%, "+r+"%, "+i+"%, "+(t||e[3]||1)+")"}function p(e,t){return t<1||e[3]&&e[3]<1?m(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"}function m(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function g(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"}function v(e){return _[e.slice(0,3)]}function b(e,t,n){return Math.min(Math.max(t,e),n)}function y(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}var w=e("color-name");t.exports={getRgba:r,getHsla:i,getRgb:a,getHsl:s,getHwb:o,getAlpha:c,hexString:l,rgbString:u,rgbaString:h,percentString:d,percentaString:f,hslString:p,hslaString:m,hwbString:g,keyword:v};var _={};for(var x in w)_[w[x]]=x},{"color-name":204}],199:[function(e,t,n){var r=e("color-convert"),i=e("chartjs-color-string"),o=function(e){if(e instanceof o)return e;if(!(this instanceof o))return new o(e);this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var t;"string"==typeof e?(t=i.getRgba(e),t?this.setValues("rgb",t):(t=i.getHsla(e))?this.setValues("hsl",t):(t=i.getHwb(e))&&this.setValues("hwb",t)):"object"==typeof e&&(t=e,void 0!==t.r||void 0!==t.red?this.setValues("rgb",t):void 0!==t.l||void 0!==t.lightness?this.setValues("hsl",t):void 0!==t.v||void 0!==t.value?this.setValues("hsv",t):void 0!==t.w||void 0!==t.whiteness?this.setValues("hwb",t):void 0===t.c&&void 0===t.cyan||this.setValues("cmyk",t))};o.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e%=360,e=e<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return i.hexString(this.values.rgb)},rgbString:function(){return i.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return i.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return i.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return i.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return i.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return i.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return i.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb,t=(299*e[0]+587*e[1]+114*e[2])/1e3;return t<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,n=(t[0]+e)%360;return t[0]=n<0?360+n:n,this.setValues("hsl",t),this},mix:function(e,t){var n=this,r=e,i=void 0===t?.5:t,o=2*i-1,a=n.alpha()-r.alpha(),s=((o*a===-1?o:(o+a)/(1+o*a))+1)/2,c=1-s;return this.rgb(s*n.red()+c*r.red(),s*n.green()+c*r.green(),s*n.blue()+c*r.blue()).alpha(n.alpha()*i+r.alpha()*(1-i))},toJSON:function(){return this.rgb()},clone:function(){var e,t,n=new o,r=this.values,i=n.values;for(var a in r)r.hasOwnProperty(a)&&(e=r[a],t={}.toString.call(e),"[object Array]"===t?i[a]=e.slice(0):"[object Number]"===t?i[a]=e:console.error("unexpected color value:",e));return n}},o.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},o.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o.prototype.getValues=function(e){for(var t=this.values,n={},r=0;r<e.length;r++)n[e.charAt(r)]=t[e][r];return 1!==t.alpha&&(n.a=t.alpha),n},o.prototype.setValues=function(e,t){var n,i=this.values,o=this.spaces,a=this.maxes,s=1;if(this.valid=!0,"alpha"===e)s=t;else if(t.length)i[e]=t.slice(0,e.length),s=t[e.length];else if(void 0!==t[e.charAt(0)]){for(n=0;n<e.length;n++)i[e][n]=t[e.charAt(n)];s=t.a}else if(void 0!==t[o[e][0]]){var c=o[e];for(n=0;n<e.length;n++)i[e][n]=t[c[n]];s=t.alpha}if(i.alpha=Math.max(0,Math.min(1,void 0===s?i.alpha:s)),"alpha"===e)return!1;var l;for(n=0;n<e.length;n++)l=Math.max(0,Math.min(a[e][n],i[e][n])),i[e][n]=Math.round(l);for(var u in o)u!==e&&(i[u]=r[e][u](i[e]));return!0},o.prototype.setSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},o.prototype.setChannel=function(e,t,n){var r=this.values[e];return void 0===n?r[t]:n===r[t]?this:(r[t]=n,this.setValues(e,r),this)},"undefined"!=typeof window&&(window.Color=o),t.exports=o},{"chartjs-color-string":198,"color-convert":203}],200:[function(e,t,n){function r(e){o.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this["final"]=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}var i=e("safe-buffer").Buffer,o=e("stream").Transform,a=e("string_decoder").StringDecoder,s=e("inherits");s(r,o),r.prototype.update=function(e,t,n){"string"==typeof e&&(e=i.from(e,t));var r=this._update(e);return this.hashMode?this:(n&&(r=this._toString(r,n)),r)},r.prototype.setAutoPadding=function(){},r.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},r.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},r.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},r.prototype._transform=function(e,t,n){var r;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(i){r=i}finally{n(r)}},r.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(n){t=n}e(t)},r.prototype._finalOrDigest=function(e){var t=this.__final()||i.alloc(0);return e&&(t=this._toString(t,e,!0)),t},r.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new a(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var r=this._decoder.write(e);return n&&(r+=this._decoder.end()),r},t.exports=r},{inherits:299,"safe-buffer":383,stream:416,string_decoder:142}],201:[function(e,t,n){function r(e){var t=this,n=d.call(arguments,1);return new Promise(function(r,o){function a(t){var n;try{n=e.next(t)}catch(r){return o(r)}l(n)}function s(t){var n;try{n=e["throw"](t)}catch(r){return o(r)}l(n)}function l(e){if(e.done)return r(e.value);var n=i.call(t,e.value);return n&&c(n)?n.then(a,s):s(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(e.value)+'"'))}return"function"==typeof e&&(e=e.apply(t,n)),e&&"function"==typeof e.next?void a():r(e)})}function i(e){return e?c(e)?e:u(e)||l(e)?r.call(this,e):"function"==typeof e?o.call(this,e):Array.isArray(e)?a.call(this,e):h(e)?s.call(this,e):e:e}function o(e){var t=this;return new Promise(function(n,r){e.call(t,function(e,t){return e?r(e):(arguments.length>2&&(t=d.call(arguments,1)),void n(t))})})}function a(e){return Promise.all(e.map(i,this))}function s(e){function t(e,t){n[t]=void 0,o.push(e.then(function(e){n[t]=e}))}for(var n=new e.constructor,r=Object.keys(e),o=[],a=0;a<r.length;a++){var s=r[a],l=i.call(this,e[s]);l&&c(l)?t(l,s):n[s]=e[s]}return Promise.all(o).then(function(){return n})}function c(e){return"function"==typeof e.then}function l(e){return"function"==typeof e.next&&"function"==typeof e["throw"]}function u(e){var t=e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName||l(t.prototype))}function h(e){return Object==e.constructor}var d=Array.prototype.slice;t.exports=r["default"]=r.co=r,r.wrap=function(e){function t(){return r.call(this,e.apply(this,arguments))}return t.__generatorFunction__=e,t}},{}],202:[function(e,t,n){function i(e){var t,n,r,i=e[0]/255,o=e[1]/255,a=e[2]/255,s=Math.min(i,o,a),c=Math.max(i,o,a),l=c-s;return c==s?t=0:i==c?t=(o-a)/l:o==c?t=2+(a-i)/l:a==c&&(t=4+(i-o)/l),t=Math.min(60*t,360),t<0&&(t+=360),r=(s+c)/2,n=c==s?0:r<=.5?l/(c+s):l/(2-c-s),[t,100*n,100*r]}function o(e){var t,n,r,i=e[0],o=e[1],a=e[2],s=Math.min(i,o,a),c=Math.max(i,o,a),l=c-s;return n=0==c?0:l/c*1e3/10,c==s?t=0:i==c?t=(o-a)/l:o==c?t=2+(a-i)/l:a==c&&(t=4+(i-o)/l),t=Math.min(60*t,360),t<0&&(t+=360),r=c/255*1e3/10,[t,n,r]}function a(e){var t=e[0],n=e[1],r=e[2],o=i(e)[0],a=1/255*Math.min(t,Math.min(n,r)),r=1-1/255*Math.max(t,Math.max(n,r));return[o,100*a,100*r]}function s(e){var t,n,r,i,o=e[0]/255,a=e[1]/255,s=e[2]/255;return i=Math.min(1-o,1-a,1-s),t=(1-o-i)/(1-i)||0,n=(1-a-i)/(1-i)||0,r=(1-s-i)/(1-i)||0,[100*t,100*n,100*r,100*i]}function c(e){return Q[JSON.stringify(e)]}function l(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var i=.4124*t+.3576*n+.1805*r,o=.2126*t+.7152*n+.0722*r,a=.0193*t+.1192*n+.9505*r;return[100*i,100*o,100*a]}function u(e){var t,n,r,i=l(e),o=i[0],a=i[1],s=i[2];return o/=95.047,a/=100,s/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,t=116*a-16,n=500*(o-a),r=200*(a-s),[t,n,r]}function h(e){return N(u(e))}function d(e){var t,n,r,i,o,a=e[0]/360,s=e[1]/100,c=e[2]/100;if(0==s)return o=255*c,[o,o,o];n=c<.5?c*(1+s):c+s-c*s,t=2*c-n,i=[0,0,0];for(var l=0;l<3;l++)r=a+1/3*-(l-1),r<0&&r++,r>1&&r--,o=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,i[l]=255*o;return i}function f(e){var t,n,r=e[0],i=e[1]/100,o=e[2]/100;return 0===o?[0,0,0]:(o*=2,i*=o<=1?o:2-o,n=(o+i)/2,t=2*i/(o+i),[r,100*t,100*n])}function p(e){return a(d(e))}function m(e){return s(d(e))}function v(e){return c(d(e))}function y(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),a=255*r*(1-n),s=255*r*(1-n*o),c=255*r*(1-n*(1-o)),r=255*r;switch(i){case 0:return[r,c,a];case 1:return[s,r,a];case 2:return[a,r,c];case 3:return[a,s,r];case 4:return[c,a,r];case 5:return[r,a,s]}}function w(e){var t,n,r=e[0],i=e[1]/100,o=e[2]/100;return n=(2-i)*o,t=i*o,t/=n<=1?n:2-n,t=t||0,n/=2,[r,100*t,100*n]}function _(e){return a(y(e))}function x(e){return s(y(e))}function k(e){return c(y(e))}function S(e){var t,n,i,o,a=e[0]/360,s=e[1]/100,c=e[2]/100,l=s+c;switch(l>1&&(s/=l,c/=l),t=Math.floor(6*a),n=1-c,i=6*a-t,0!=(1&t)&&(i=1-i),o=s+i*(n-s),t){default:case 6:case 0:r=n,g=o,b=s;break;case 1:r=o,g=n,b=s;break;case 2:r=s,g=n,b=o;break;case 3:r=s,g=o,b=n;break;case 4:r=o,g=s,b=n;break;case 5:r=n,g=s,b=o}return[255*r,255*g,255*b]}function j(e){return i(S(e))}function P(e){return o(S(e))}function E(e){return s(S(e))}function A(e){return c(S(e))}function T(e){var t,n,r,i=e[0]/100,o=e[1]/100,a=e[2]/100,s=e[3]/100;return t=1-Math.min(1,i*(1-s)+s),n=1-Math.min(1,o*(1-s)+s),r=1-Math.min(1,a*(1-s)+s),[255*t,255*n,255*r]}function C(e){return i(T(e))}function M(e){return o(T(e))}function O(e){return a(T(e))}function I(e){return c(T(e))}function F(e){var t,n,r,i=e[0]/100,o=e[1]/100,a=e[2]/100;return t=3.2406*i+o*-1.5372+a*-.4986,n=i*-.9689+1.8758*o+.0415*a,r=.0557*i+o*-.204+1.057*a,t=t>.0031308?1.055*Math.pow(t,1/2.4)-.055:t=12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n=12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r=12.92*r,t=Math.min(Math.max(0,t),1),n=Math.min(Math.max(0,n),1),r=Math.min(Math.max(0,r),1),[255*t,255*n,255*r]}function D(e){var t,n,r,i=e[0],o=e[1],a=e[2];return i/=95.047,o/=100,a/=108.883,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,t=116*o-16,n=500*(i-o),r=200*(o-a),[t,n,r]}function L(e){return N(D(e))}function R(e){var t,n,r,i,o=e[0],a=e[1],s=e[2];return o<=8?(n=100*o/903.3,i=7.787*(n/100)+16/116):(n=100*Math.pow((o+16)/116,3),i=Math.pow(n/100,1/3)),t=t/95.047<=.008856?t=95.047*(a/500+i-16/116)/7.787:95.047*Math.pow(a/500+i,3),r=r/108.883<=.008859?r=108.883*(i-s/200-16/116)/7.787:108.883*Math.pow(i-s/200,3),[t,n,r];
}function N(e){var t,n,r,i=e[0],o=e[1],a=e[2];return t=Math.atan2(a,o),n=360*t/2/Math.PI,n<0&&(n+=360),r=Math.sqrt(o*o+a*a),[i,r,n]}function U(e){return F(R(e))}function $(e){var t,n,r,i=e[0],o=e[1],a=e[2];return r=a/360*2*Math.PI,t=o*Math.cos(r),n=o*Math.sin(r),[i,t,n]}function z(e){return R($(e))}function B(e){return U($(e))}function q(e){return X[e]}function V(e){return i(q(e))}function H(e){return o(q(e))}function W(e){return a(q(e))}function G(e){return s(q(e))}function Y(e){return u(q(e))}function K(e){return l(q(e))}t.exports={rgb2hsl:i,rgb2hsv:o,rgb2hwb:a,rgb2cmyk:s,rgb2keyword:c,rgb2xyz:l,rgb2lab:u,rgb2lch:h,hsl2rgb:d,hsl2hsv:f,hsl2hwb:p,hsl2cmyk:m,hsl2keyword:v,hsv2rgb:y,hsv2hsl:w,hsv2hwb:_,hsv2cmyk:x,hsv2keyword:k,hwb2rgb:S,hwb2hsl:j,hwb2hsv:P,hwb2cmyk:E,hwb2keyword:A,cmyk2rgb:T,cmyk2hsl:C,cmyk2hsv:M,cmyk2hwb:O,cmyk2keyword:I,keyword2rgb:q,keyword2hsl:V,keyword2hsv:H,keyword2hwb:W,keyword2cmyk:G,keyword2lab:Y,keyword2xyz:K,xyz2rgb:F,xyz2lab:D,xyz2lch:L,lab2xyz:R,lab2rgb:U,lab2lch:N,lch2lab:$,lch2xyz:z,lch2rgb:B};var X={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Q={};for(var Z in X)Q[JSON.stringify(X[Z])]=Z},{}],203:[function(e,t,n){var r=e("./conversions"),i=function(){return new l};for(var o in r){i[o+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),r[e](t)}}(o);var a=/(\w+)2(\w+)/.exec(o),s=a[1],c=a[2];i[s]=i[s]||{},i[s][c]=i[o]=function(e){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var n=r[e](t);if("string"==typeof n||void 0===n)return n;for(var i=0;i<n.length;i++)n[i]=Math.round(n[i]);return n}}(o)}var l=function(){this.convs={}};l.prototype.routeSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n))},l.prototype.setValues=function(e,t){return this.space=e,this.convs={},this.convs[e]=t,this},l.prototype.getValues=function(e){var t=this.convs[e];if(!t){var n=this.space,r=this.convs[n];t=i[n][e](r),this.convs[e]=t}return t},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(e){l.prototype[e]=function(t){return this.routeSpace(e,arguments)}}),t.exports=i},{"./conversions":202}],204:[function(e,t,n){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],205:[function(e,t,n){(function(n){function r(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null}var i=e("util"),o=e("stream").Stream,a=e("delayed-stream");t.exports=r,i.inherits(r,o),r.create=function(e){var t=new this;e=e||{};for(var n in e)t[n]=e[n];return t},r.isStreamLike=function(e){return"function"!=typeof e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e&&!n.isBuffer(e)},r.prototype.append=function(e){var t=r.isStreamLike(e);if(t){if(!(e instanceof a)){var n=a.create(e,{maxDataSize:1/0,pauseStream:this.pauseStreams});e.on("data",this._checkDataSize.bind(this)),e=n}this._handleErrors(e),this.pauseStreams&&e.pause()}return this._streams.push(e),this},r.prototype.pipe=function(e,t){return o.prototype.pipe.call(this,e,t),this.resume(),e},r.prototype._getNext=function(){this._currentStream=null;var e=this._streams.shift();if("undefined"==typeof e)return void this.end();if("function"!=typeof e)return void this._pipeNext(e);var t=e;t(function(e){var t=r.isStreamLike(e);t&&(e.on("data",this._checkDataSize.bind(this)),this._handleErrors(e)),this._pipeNext(e)}.bind(this))},r.prototype._pipeNext=function(e){this._currentStream=e;var t=r.isStreamLike(e);if(t)return e.on("end",this._getNext.bind(this)),void e.pipe(this,{end:!1});var n=e;this.write(n),this._getNext()},r.prototype._handleErrors=function(e){var t=this;e.on("error",function(e){t._emitError(e)})},r.prototype.write=function(e){this.emit("data",e)},r.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit("pause"))},r.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit("resume")},r.prototype.end=function(){this._reset(),this.emit("end")},r.prototype.destroy=function(){this._reset(),this.emit("close")},r.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},r.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(e))}},r.prototype._updateDataSize=function(){this.dataSize=0;var e=this;this._streams.forEach(function(t){t.dataSize&&(e.dataSize+=t.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},r.prototype._emitError=function(e){this._reset(),this.emit("error",e)}}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":300,"delayed-stream":214,stream:416,util:451}],206:[function(e,t,n){"use strict";function r(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function i(e,t){var n,i,s,c,l,u,h=!1;t||(t={}),n=t.debug||!1;try{s=o(),c=document.createRange(),l=document.getSelection(),u=document.createElement("span"),u.textContent=e,u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",document.body.appendChild(u),c.selectNode(u),l.addRange(c);var d=document.execCommand("copy");if(!d)throw new Error("copy command was unsuccessful");h=!0}catch(f){n&&console.error("unable to copy using execCommand: ",f),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData("text",e),h=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),i=r("message"in t?t.message:a),window.prompt(i,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(c):l.removeAllRanges()),u&&document.body.removeChild(u),s()}return h}var o=e("toggle-selection"),a="Copy to clipboard: #{key}, Enter";t.exports=i},{"toggle-selection":431}],207:[function(e,t,n){(function(e){function t(e){return Array.isArray?Array.isArray(e):"[object Array]"===g(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function a(e){return"number"==typeof e}function s(e){return"string"==typeof e}function c(e){return"symbol"==typeof e}function l(e){return void 0===e}function u(e){return"[object RegExp]"===g(e)}function h(e){return"object"==typeof e&&null!==e}function d(e){return"[object Date]"===g(e)}function f(e){return"[object Error]"===g(e)||e instanceof Error}function p(e){return"function"==typeof e}function m(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function g(e){return Object.prototype.toString.call(e)}n.isArray=t,n.isBoolean=r,n.isNull=i,n.isNullOrUndefined=o,n.isNumber=a,n.isString=s,n.isSymbol=c,n.isUndefined=l,n.isRegExp=u,n.isObject=h,n.isDate=d,n.isError=f,n.isFunction=p,n.isPrimitive=m,n.isBuffer=e.isBuffer}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":300}],208:[function(e,t,n){(function(n){function r(e){this.curveType=s[e],this.curveType||(this.curveType={name:e}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function i(e,t,r){Array.isArray(e)||(e=e.toArray());var i=new n(e);if(r&&i.length<r){var o=new n(r-i.length);o.fill(0),i=n.concat([o,i])}return t?i.toString(t):i}var o=e("elliptic"),a=e("bn.js");t.exports=function(e){return new r(e)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1,r.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},r.prototype.computeSecret=function(e,t,r){t=t||"utf8",n.isBuffer(e)||(e=new n(e,t));var o=this.curve.keyFromPublic(e).getPublic(),a=o.mul(this.keys.getPrivate()).getX();return i(a,r,this.curveType.byteLength)},r.prototype.getPublicKey=function(e,t){var n=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(n[n.length-1]%2?n[0]=7:n[0]=6),i(n,e)},r.prototype.getPrivateKey=function(e){return i(this.keys.getPrivate(),e)},r.prototype.setPublicKey=function(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this.keys._importPublic(e),this},r.prototype.setPrivateKey=function(e,t){t=t||"utf8",n.isBuffer(e)||(e=new n(e,t));var r=new a(e);return r=r.toString(16),this.keys._importPrivate(r),this}}).call(this,e("buffer").Buffer)},{"bn.js":85,buffer:131,elliptic:228}],209:[function(e,t,n){(function(n){"use strict";function r(e){l.call(this,"digest"),this._hash=e,this.buffers=[]}function i(e){l.call(this,"digest"),this._hash=e}var o=e("inherits"),a=e("./md5"),s=e("ripemd160"),c=e("sha.js"),l=e("cipher-base");o(r,l),r.prototype._update=function(e){this.buffers.push(e)},r.prototype._final=function(){var e=n.concat(this.buffers),t=this._hash(e);return this.buffers=null,t},o(i,l),i.prototype._update=function(e){this._hash.update(e)},i.prototype._final=function(){return this._hash.digest()},t.exports=function(e){return e=e.toLowerCase(),"md5"===e?new r(a):new i("rmd160"===e||"ripemd160"===e?new s:c(e))}}).call(this,e("buffer").Buffer)},{"./md5":211,buffer:131,"cipher-base":200,inherits:299,ripemd160:382,"sha.js":386}],210:[function(e,t,n){(function(e){"use strict";function n(t){if(t.length%r!==0){var n=t.length+(r-t.length%r);t=e.concat([t,i],n)}for(var o=new Array(t.length>>>2),a=0,s=0;a<t.length;a+=r,s++)o[s]=t.readInt32LE(a);return o}var r=4,i=new e(r);i.fill(0);var o=8,a=16;t.exports=function(t,r){var i=r(n(t),t.length*o);t=new e(a);for(var s=0;s<i.length;s++)t.writeInt32LE(i[s],s<<2,!0);return t}}).call(this,e("buffer").Buffer)},{buffer:131}],211:[function(e,t,n){"use strict";function r(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var n=1732584193,r=-271733879,i=-1732584194,u=271733878,h=0;h<e.length;h+=16){var d=n,f=r,p=i,m=u;n=o(n,r,i,u,e[h+0],7,-680876936),u=o(u,n,r,i,e[h+1],12,-389564586),i=o(i,u,n,r,e[h+2],17,606105819),r=o(r,i,u,n,e[h+3],22,-1044525330),n=o(n,r,i,u,e[h+4],7,-176418897),u=o(u,n,r,i,e[h+5],12,1200080426),i=o(i,u,n,r,e[h+6],17,-1473231341),r=o(r,i,u,n,e[h+7],22,-45705983),n=o(n,r,i,u,e[h+8],7,1770035416),u=o(u,n,r,i,e[h+9],12,-1958414417),i=o(i,u,n,r,e[h+10],17,-42063),r=o(r,i,u,n,e[h+11],22,-1990404162),n=o(n,r,i,u,e[h+12],7,1804603682),u=o(u,n,r,i,e[h+13],12,-40341101),i=o(i,u,n,r,e[h+14],17,-1502002290),r=o(r,i,u,n,e[h+15],22,1236535329),n=a(n,r,i,u,e[h+1],5,-165796510),u=a(u,n,r,i,e[h+6],9,-1069501632),i=a(i,u,n,r,e[h+11],14,643717713),r=a(r,i,u,n,e[h+0],20,-373897302),n=a(n,r,i,u,e[h+5],5,-701558691),u=a(u,n,r,i,e[h+10],9,38016083),i=a(i,u,n,r,e[h+15],14,-660478335),r=a(r,i,u,n,e[h+4],20,-405537848),n=a(n,r,i,u,e[h+9],5,568446438),u=a(u,n,r,i,e[h+14],9,-1019803690),i=a(i,u,n,r,e[h+3],14,-187363961),r=a(r,i,u,n,e[h+8],20,1163531501),n=a(n,r,i,u,e[h+13],5,-1444681467),u=a(u,n,r,i,e[h+2],9,-51403784),i=a(i,u,n,r,e[h+7],14,1735328473),r=a(r,i,u,n,e[h+12],20,-1926607734),n=s(n,r,i,u,e[h+5],4,-378558),u=s(u,n,r,i,e[h+8],11,-2022574463),i=s(i,u,n,r,e[h+11],16,1839030562),r=s(r,i,u,n,e[h+14],23,-35309556),n=s(n,r,i,u,e[h+1],4,-1530992060),u=s(u,n,r,i,e[h+4],11,1272893353),i=s(i,u,n,r,e[h+7],16,-155497632),r=s(r,i,u,n,e[h+10],23,-1094730640),n=s(n,r,i,u,e[h+13],4,681279174),u=s(u,n,r,i,e[h+0],11,-358537222),i=s(i,u,n,r,e[h+3],16,-722521979),r=s(r,i,u,n,e[h+6],23,76029189),n=s(n,r,i,u,e[h+9],4,-640364487),u=s(u,n,r,i,e[h+12],11,-421815835),i=s(i,u,n,r,e[h+15],16,530742520),r=s(r,i,u,n,e[h+2],23,-995338651),n=c(n,r,i,u,e[h+0],6,-198630844),u=c(u,n,r,i,e[h+7],10,1126891415),i=c(i,u,n,r,e[h+14],15,-1416354905),r=c(r,i,u,n,e[h+5],21,-57434055),n=c(n,r,i,u,e[h+12],6,1700485571),u=c(u,n,r,i,e[h+3],10,-1894986606),i=c(i,u,n,r,e[h+10],15,-1051523),r=c(r,i,u,n,e[h+1],21,-2054922799),n=c(n,r,i,u,e[h+8],6,1873313359),u=c(u,n,r,i,e[h+15],10,-30611744),i=c(i,u,n,r,e[h+6],15,-1560198380),r=c(r,i,u,n,e[h+13],21,1309151649),n=c(n,r,i,u,e[h+4],6,-145523070),u=c(u,n,r,i,e[h+11],10,-1120210379),i=c(i,u,n,r,e[h+2],15,718787259),r=c(r,i,u,n,e[h+9],21,-343485551),n=l(n,d),r=l(r,f),i=l(i,p),u=l(u,m)}return[n,r,i,u]}function i(e,t,n,r,i,o){return l(u(l(l(t,e),l(r,o)),i),n)}function o(e,t,n,r,o,a,s){return i(t&n|~t&r,e,t,o,a,s)}function a(e,t,n,r,o,a,s){return i(t&r|n&~r,e,t,o,a,s)}function s(e,t,n,r,o,a,s){return i(t^n^r,e,t,o,a,s)}function c(e,t,n,r,o,a,s){return i(n^(t|~r),e,t,o,a,s)}function l(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function u(e,t){return e<<t|e>>>32-t}var h=e("./make-hash");t.exports=function(e){return h(e,r)}},{"./make-hash":210}],212:[function(e,t,n){"use strict";function r(e,t){a.call(this,"digest"),"string"==typeof t&&(t=s.from(t));var n="sha512"===e||"sha384"===e?128:64;if(this._alg=e,this._key=t,t.length>n){var r="rmd160"===e?new l:u(e);t=r.update(t).digest()}else t.length<n&&(t=s.concat([t,h],n));for(var i=this._ipad=s.allocUnsafe(n),o=this._opad=s.allocUnsafe(n),c=0;c<n;c++)i[c]=54^t[c],o[c]=92^t[c];this._hash="rmd160"===e?new l:u(e),this._hash.update(i)}var i=e("inherits"),o=e("./legacy"),a=e("cipher-base"),s=e("safe-buffer").Buffer,c=e("create-hash/md5"),l=e("ripemd160"),u=e("sha.js"),h=s.alloc(128);i(r,a),r.prototype._update=function(e){this._hash.update(e)},r.prototype._final=function(){var e=this._hash.digest(),t="rmd160"===this._alg?new l:u(this._alg);return t.update(this._opad).update(e).digest()},t.exports=function(e,t){return e=e.toLowerCase(),"rmd160"===e||"ripemd160"===e?new r("rmd160",t):"md5"===e?new o(c,t):new r(e,t)}},{"./legacy":213,"cipher-base":200,"create-hash/md5":211,inherits:299,ripemd160:382,"safe-buffer":383,"sha.js":386}],213:[function(e,t,n){"use strict";function r(e,t){a.call(this,"digest"),"string"==typeof t&&(t=o.from(t)),this._alg=e,this._key=t,t.length>c?t=e(t):t.length<c&&(t=o.concat([t,s],c));for(var n=this._ipad=o.allocUnsafe(c),r=this._opad=o.allocUnsafe(c),i=0;i<c;i++)n[i]=54^t[i],r[i]=92^t[i];this._hash=[n]}var i=e("inherits"),o=e("safe-buffer").Buffer,a=e("cipher-base"),s=o.alloc(128),c=64;i(r,a),r.prototype._update=function(e){this._hash.push(e)},r.prototype._final=function(){var e=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,e]))},t.exports=r},{"cipher-base":200,inherits:299,"safe-buffer":383}],214:[function(e,t,n){function r(){this.source=null,this.dataSize=0,this.maxDataSize=1048576,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}var i=e("stream").Stream,o=e("util");t.exports=r,o.inherits(r,i),r.create=function(e,t){var n=new this;t=t||{};for(var r in t)n[r]=t[r];n.source=e;var i=e.emit;return e.emit=function(){return n._handleEmit(arguments),i.apply(e,arguments)},e.on("error",function(){}),n.pauseStream&&e.pause(),n},Object.defineProperty(r.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}}),r.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)},r.prototype.resume=function(){this._released||this.release(),this.source.resume()},r.prototype.pause=function(){this.source.pause()},r.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(e){this.emit.apply(this,e)}.bind(this)),this._bufferedEvents=[]},r.prototype.pipe=function(){var e=i.prototype.pipe.apply(this,arguments);return this.resume(),e},r.prototype._handleEmit=function(e){return this._released?void this.emit.apply(this,e):("data"===e[0]&&(this.dataSize+=e[1].length,this._checkIfMaxDataSizeExceeded()),void this._bufferedEvents.push(e))},r.prototype._checkIfMaxDataSizeExceeded=function(){if(!(this._maxDataSizeExceeded||this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(e))}}},{stream:416,util:451}],215:[function(e,t,n){"use strict";n.utils=e("./des/utils"),n.Cipher=e("./des/cipher"),n.DES=e("./des/des"),n.CBC=e("./des/cbc"),n.EDE=e("./des/ede")},{"./des/cbc":216,"./des/cipher":217,"./des/des":218,"./des/ede":219,"./des/utils":220}],216:[function(e,t,n){"use strict";function r(e){o.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}function i(e){function t(t){e.call(this,t),this._cbcInit()}a(t,e);for(var n=Object.keys(s),r=0;r<n.length;r++){var i=n[r];t.prototype[i]=s[i]}return t.create=function(e){return new t(e)},t}var o=e("minimalistic-assert"),a=e("inherits"),s={};n.instantiate=i,s._cbcInit=function(){var e=new r(this.options.iv);this._cbcState=e},s._update=function(e,t,n,r){var i=this._cbcState,o=this.constructor.super_.prototype,a=i.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=e[t+s];o._update.call(this,a,0,n,r);for(var s=0;s<this.blockSize;s++)a[s]=n[r+s]}else{o._update.call(this,e,t,n,r);for(var s=0;s<this.blockSize;s++)n[r+s]^=a[s];for(var s=0;s<this.blockSize;s++)a[s]=e[t+s]}}},{inherits:299,"minimalistic-assert":320}],217:[function(e,t,n){"use strict";function r(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}var i=e("minimalistic-assert");t.exports=r,r.prototype._init=function(){},r.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},r.prototype._buffer=function(e,t){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-t),r=0;r<n;r++)this.buffer[this.bufferOff+r]=e[t+r];return this.bufferOff+=n,n},r.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},r.prototype._updateEncrypt=function(e){var t=0,n=0,r=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(r*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,i,n),n+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},r.prototype._updateDecrypt=function(e){for(var t=0,n=0,r=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(r*this.blockSize);r>0;r--)t+=this._buffer(e,t),n+=this._flushBuffer(i,n);return t+=this._buffer(e,t),i},r.prototype["final"]=function(e){var t;e&&(t=this.update(e));var n;return n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(n):n},r.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},r.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},r.prototype._unpad=function(e){return e},r.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},{"minimalistic-assert":320}],218:[function(e,t,n){"use strict";function r(){this.tmp=new Array(2),this.keys=null}function i(e){l.call(this,e);var t=new r;this._desState=t,this.deriveKeys(t,e.key)}var o=e("minimalistic-assert"),a=e("inherits"),s=e("../des"),c=s.utils,l=s.Cipher;a(i,l),t.exports=i,i.create=function(e){return new i(e)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];i.prototype.deriveKeys=function(e,t){e.keys=new Array(32),o.equal(t.length,this.blockSize,"Invalid key length");var n=c.readUInt32BE(t,0),r=c.readUInt32BE(t,4);c.pc1(n,r,e.tmp,0),n=e.tmp[0],r=e.tmp[1];for(var i=0;i<e.keys.length;i+=2){var a=u[i>>>1];n=c.r28shl(n,a),r=c.r28shl(r,a),c.pc2(n,r,e.keys,i)}},i.prototype._update=function(e,t,n,r){var i=this._desState,o=c.readUInt32BE(e,t),a=c.readUInt32BE(e,t+4);c.ip(o,a,i.tmp,0),o=i.tmp[0],a=i.tmp[1],"encrypt"===this.type?this._encrypt(i,o,a,i.tmp,0):this._decrypt(i,o,a,i.tmp,0),o=i.tmp[0],a=i.tmp[1],c.writeUInt32BE(n,o,r),c.writeUInt32BE(n,a,r+4)},i.prototype._pad=function(e,t){for(var n=e.length-t,r=t;r<e.length;r++)e[r]=n;return!0},i.prototype._unpad=function(e){for(var t=e[e.length-1],n=e.length-t;n<e.length;n++)o.equal(e[n],t);return e.slice(0,e.length-t)},i.prototype._encrypt=function(e,t,n,r,i){for(var o=t,a=n,s=0;s<e.keys.length;s+=2){var l=e.keys[s],u=e.keys[s+1];c.expand(a,e.tmp,0),l^=e.tmp[0],u^=e.tmp[1];var h=c.substitute(l,u),d=c.permute(h),f=a;a=(o^d)>>>0,o=f}c.rip(a,o,r,i)},i.prototype._decrypt=function(e,t,n,r,i){for(var o=n,a=t,s=e.keys.length-2;s>=0;s-=2){var l=e.keys[s],u=e.keys[s+1];c.expand(o,e.tmp,0),l^=e.tmp[0],u^=e.tmp[1];var h=c.substitute(l,u),d=c.permute(h),f=o;o=(a^d)>>>0,a=f}c.rip(o,a,r,i)}},{"../des":215,inherits:299,"minimalistic-assert":320}],219:[function(e,t,n){"use strict";function r(e,t){o.equal(t.length,24,"Invalid key length");var n=t.slice(0,8),r=t.slice(8,16),i=t.slice(16,24);"encrypt"===e?this.ciphers=[l.create({type:"encrypt",key:n}),l.create({type:"decrypt",key:r}),l.create({type:"encrypt",key:i})]:this.ciphers=[l.create({type:"decrypt",key:i}),l.create({type:"encrypt",key:r}),l.create({type:"decrypt",key:n})]}function i(e){c.call(this,e);var t=new r(this.type,this.options.key);this._edeState=t}var o=e("minimalistic-assert"),a=e("inherits"),s=e("../des"),c=s.Cipher,l=s.DES;a(i,c),t.exports=i,i.create=function(e){return new i(e)},i.prototype._update=function(e,t,n,r){var i=this._edeState;i.ciphers[0]._update(e,t,n,r),i.ciphers[1]._update(n,r,n,r),i.ciphers[2]._update(n,r,n,r)},i.prototype._pad=l.prototype._pad,i.prototype._unpad=l.prototype._unpad},{"../des":215,inherits:299,"minimalistic-assert":320}],220:[function(e,t,n){"use strict";n.readUInt32BE=function(e,t){var n=e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t];return n>>>0},n.writeUInt32BE=function(e,t,n){e[0+n]=t>>>24,e[1+n]=t>>>16&255,e[2+n]=t>>>8&255,e[3+n]=255&t},n.ip=function(e,t,n,r){for(var i=0,o=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>>s+a&1;for(var s=0;s<=24;s+=8)i<<=1,i|=e>>>s+a&1}for(var a=6;a>=0;a-=2){for(var s=1;s<=25;s+=8)o<<=1,o|=t>>>s+a&1;for(var s=1;s<=25;s+=8)o<<=1,o|=e>>>s+a&1}n[r+0]=i>>>0,n[r+1]=o>>>0},n.rip=function(e,t,n,r){for(var i=0,o=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)i<<=1,i|=t>>>s+a&1,i<<=1,i|=e>>>s+a&1;for(var a=4;a<8;a++)for(var s=24;s>=0;s-=8)o<<=1,o|=t>>>s+a&1,o<<=1,o|=e>>>s+a&1;n[r+0]=i>>>0,n[r+1]=o>>>0},n.pc1=function(e,t,n,r){for(var i=0,o=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1;for(var s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1}for(var s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1;for(var a=1;a<=3;a++){for(var s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;for(var s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1}for(var s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1;n[r+0]=i>>>0,n[r+1]=o>>>0},n.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];n.pc2=function(e,t,n,i){for(var o=0,a=0,s=r.length>>>1,c=0;c<s;c++)o<<=1,o|=e>>>r[c]&1;for(var c=s;c<r.length;c++)a<<=1,a|=t>>>r[c]&1;n[i+0]=o>>>0,n[i+1]=a>>>0},n.expand=function(e,t,n){var r=0,i=0;r=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)r<<=6,r|=e>>>o&63;for(var o=11;o>=3;o-=4)i|=e>>>o&63,i<<=6;i|=(31&e)<<1|e>>>31,t[n+0]=r>>>0,t[n+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];n.substitute=function(e,t){for(var n=0,r=0;r<4;r++){var o=e>>>18-6*r&63,a=i[64*r+o];n<<=4,n|=a}for(var r=0;r<4;r++){var o=t>>>18-6*r&63,a=i[256+64*r+o];n<<=4,n|=a}return n>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];n.permute=function(e){for(var t=0,n=0;n<o.length;n++)t<<=1,
t|=e>>>o[n]&1;return t>>>0},n.padSplit=function(e,t,n){for(var r=e.toString(2);r.length<t;)r="0"+r;for(var i=[],o=0;o<t;o+=n)i.push(r.slice(o,o+n));return i.join(" ")}},{}],221:[function(e,t,n){(function(t){function r(e){var n=new t(a[e].prime,"hex"),r=new t(a[e].gen,"hex");return new s(n,r)}function i(e,n,r,a){return t.isBuffer(n)||void 0===c[n]?i(e,"binary",n,r):(n=n||"binary",a=a||"binary",r=r||new t([2]),t.isBuffer(r)||(r=new t(r,a)),"number"==typeof e?new s(o(e,r),r,(!0)):(t.isBuffer(e)||(e=new t(e,n)),new s(e,r,(!0))))}var o=e("./lib/generatePrime"),a=e("./lib/primes.json"),s=e("./lib/dh"),c={binary:!0,hex:!0,base64:!0};n.DiffieHellmanGroup=n.createDiffieHellmanGroup=n.getDiffieHellman=r,n.createDiffieHellman=n.DiffieHellman=i}).call(this,e("buffer").Buffer)},{"./lib/dh":222,"./lib/generatePrime":223,"./lib/primes.json":224,buffer:131}],222:[function(e,t,n){(function(n){function r(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this._pub=new c(e),this}function i(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this._priv=new c(e),this}function o(e,t){var n=t.toString("hex"),r=[n,e.toString(16)].join("_");if(r in b)return b[r];var i=0;if(e.isEven()||!g.simpleSieve||!g.fermatTest(e)||!u.test(e))return i+=1,i+="02"===n||"05"===n?8:4,b[r]=i,i;u.test(e.shrn(1))||(i+=2);var o;switch(n){case"02":e.mod(h).cmp(d)&&(i+=8);break;case"05":o=e.mod(f),o.cmp(p)&&o.cmp(m)&&(i+=8);break;default:i+=4}return b[r]=i,i}function a(e,t,n){this.setGenerator(t),this.__prime=new c(e),this._prime=c.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=r,this.setPrivateKey=i):this._primeCode=8}function s(e,t){var r=new n(e.toArray());return t?r.toString(t):r}var c=e("bn.js"),l=e("miller-rabin"),u=new l,h=new c(24),d=new c(11),f=new c(10),p=new c(3),m=new c(7),g=e("./generatePrime"),v=e("randombytes");t.exports=a;var b={};Object.defineProperty(a.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=o(this.__prime,this.__gen)),this._primeCode}}),a.prototype.generateKeys=function(){return this._priv||(this._priv=new c(v(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},a.prototype.computeSecret=function(e){e=new c(e),e=e.toRed(this._prime);var t=e.redPow(this._priv).fromRed(),r=new n(t.toArray()),i=this.getPrime();if(r.length<i.length){var o=new n(i.length-r.length);o.fill(0),r=n.concat([o,r])}return r},a.prototype.getPublicKey=function(e){return s(this._pub,e)},a.prototype.getPrivateKey=function(e){return s(this._priv,e)},a.prototype.getPrime=function(e){return s(this.__prime,e)},a.prototype.getGenerator=function(e){return s(this._gen,e)},a.prototype.setGenerator=function(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this.__gen=e,this._gen=new c(e),this}}).call(this,e("buffer").Buffer)},{"./generatePrime":223,"bn.js":85,buffer:131,"miller-rabin":316,randombytes:368}],223:[function(e,t,n){function r(){if(null!==y)return y;var e=1048576,t=[];t[0]=2;for(var n=1,r=3;r<e;r+=2){for(var i=Math.ceil(Math.sqrt(r)),o=0;o<n&&t[o]<=i&&r%t[o]!==0;o++);n!==o&&t[o]<=i||(t[n++]=r)}return y=t,t}function i(e){for(var t=r(),n=0;n<t.length;n++)if(0===e.modn(t[n]))return 0===e.cmpn(t[n]);return!0}function o(e){var t=c.mont(e);return 0===f.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function a(e,t){if(e<16)return new c(2===t||5===t?[140,123]:[140,39]);t=new c(t);for(var n,r;;){for(n=new c(s(Math.ceil(e/8)));n.bitLength()>e;)n.ishrn(1);if(n.isEven()&&n.iadd(d),n.testn(1)||n.iadd(f),t.cmp(f)){if(!t.cmp(p))for(;n.mod(m).cmp(g);)n.iadd(b)}else for(;n.mod(l).cmp(v);)n.iadd(b);if(r=n.shrn(1),i(r)&&i(n)&&o(r)&&o(n)&&h.test(r)&&h.test(n))return n}}var s=e("randombytes");t.exports=a,a.simpleSieve=i,a.fermatTest=o;var c=e("bn.js"),l=new c(24),u=e("miller-rabin"),h=new u,d=new c(1),f=new c(2),p=new c(5),m=(new c(16),new c(8),new c(10)),g=new c(3),v=(new c(7),new c(11)),b=new c(4),y=(new c(12),null)},{"bn.js":85,"miller-rabin":316,randombytes:368}],224:[function(e,t,n){t.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],225:[function(e,t,n){(function(t){function r(e,t){return e.length>=t?e:r("0"+e,t)}var i=e("crypto"),o=e("jsbn").BigInteger;e("./lib/ec.js").ECPointFp;n.ECCurves=e("./lib/sec.js"),n.ECKey=function(e,n,a){var s,c=e(),l=c.getN(),u=Math.floor(l.bitLength()/8);if(n)if(a){var e=c.getCurve();this.P=e.decodePointHex(n.toString("hex"))}else{if(n.length!=u)return!1;s=new o(n.toString("hex"),16)}else{var h=l.subtract(o.ONE),d=new o(i.randomBytes(l.bitLength()));s=d.mod(h).add(o.ONE),this.P=c.getG().multiply(s)}this.P&&(this.PublicKey=new t(c.getCurve().encodeCompressedPointHex(this.P),"hex")),s&&(this.PrivateKey=new t(r(s.toString(16),2*u),"hex"),this.deriveSharedSecret=function(e){if(!e||!e.P)return!1;var n=e.P.multiply(s);return new t(r(n.getX().toBigInteger().toString(16),2*u),"hex")})}}).call(this,e("buffer").Buffer)},{"./lib/ec.js":226,"./lib/sec.js":227,buffer:131,crypto:133,jsbn:305}],226:[function(e,t,n){function r(e,t){this.x=t,this.q=e}function i(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)}function o(){return this.x}function a(){return new r(this.q,this.x.negate().mod(this.q))}function s(e){return new r(this.q,this.x.add(e.toBigInteger()).mod(this.q))}function c(e){return new r(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))}function l(e){return new r(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))}function u(){return new r(this.q,this.x.square().mod(this.q))}function h(e){return new r(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))}function d(e,t,n,r){this.curve=e,this.x=t,this.y=n,null==r?this.z=M.ONE:this.z=r,this.zinv=null}function f(){null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q));var e=this.x.toBigInteger().multiply(this.zinv);return this.curve.reduce(e),this.curve.fromBigInteger(e)}function p(){null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q));var e=this.y.toBigInteger().multiply(this.zinv);return this.curve.reduce(e),this.curve.fromBigInteger(e)}function m(e){if(e==this)return!0;if(this.isInfinity())return e.isInfinity();if(e.isInfinity())return this.isInfinity();var t,n;return t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),!!t.equals(M.ZERO)&&(n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q),n.equals(M.ZERO))}function g(){return null==this.x&&null==this.y||this.z.equals(M.ZERO)&&!this.y.toBigInteger().equals(M.ZERO)}function v(){return new d(this.curve,this.x,this.y.negate(),this.z)}function b(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(M.ZERO.equals(n))return M.ZERO.equals(t)?this.twice():this.curve.getInfinity();var r=new M("3"),i=this.x.toBigInteger(),o=this.y.toBigInteger(),a=(e.x.toBigInteger(),e.y.toBigInteger(),n.square()),s=a.multiply(n),c=i.multiply(a),l=t.square().multiply(this.z),u=l.subtract(c.shiftLeft(1)).multiply(e.z).subtract(s).multiply(n).mod(this.curve.q),h=c.multiply(r).multiply(t).subtract(o.multiply(s)).subtract(l.multiply(t)).multiply(e.z).add(t.multiply(s)).mod(this.curve.q),f=s.multiply(this.z).multiply(e.z).mod(this.curve.q);return new d(this.curve,this.curve.fromBigInteger(u),this.curve.fromBigInteger(h),f)}function y(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new M("3"),t=this.x.toBigInteger(),n=this.y.toBigInteger(),r=n.multiply(this.z),i=r.multiply(n).mod(this.curve.q),o=this.curve.a.toBigInteger(),a=t.square().multiply(e);M.ZERO.equals(o)||(a=a.add(this.z.square().multiply(o))),a=a.mod(this.curve.q);var s=a.square().subtract(t.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(r).mod(this.curve.q),c=a.multiply(e).multiply(t).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(a.square().multiply(a)).mod(this.curve.q),l=r.square().multiply(r).shiftLeft(3).mod(this.curve.q);return new d(this.curve,this.curve.fromBigInteger(s),this.curve.fromBigInteger(c),l)}function w(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new M("3")),i=this.negate(),o=this;for(t=r.bitLength()-2;t>0;--t){o=o.twice();var a=r.testBit(t),s=n.testBit(t);a!=s&&(o=o.add(a?this:i))}return o}function _(e,t,n){var r;r=e.bitLength()>n.bitLength()?e.bitLength()-1:n.bitLength()-1;for(var i=this.curve.getInfinity(),o=this.add(t);r>=0;)i=i.twice(),e.testBit(r)?i=n.testBit(r)?i.add(o):i.add(this):n.testBit(r)&&(i=i.add(t)),--r;return i}function x(e,t,n){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(n),this.infinity=new d(this,null,null),this.reducer=new O(this.q)}function k(){return this.q}function S(){return this.a}function j(){return this.b}function P(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)}function E(){return this.infinity}function A(e){return new r(this.q,e)}function T(e){this.reducer.reduce(e)}function C(e){if(e.isInfinity())return"00";var t=e.getX().toBigInteger().toString(16),n=e.getY().toBigInteger().toString(16),r=this.getQ().toString(16).length;for(r%2!=0&&r++;t.length<r;)t="0"+t;for(;n.length<r;)n="0"+n;return"04"+t+n}var M=e("jsbn").BigInteger,O=M.prototype.Barrett;r.prototype.equals=i,r.prototype.toBigInteger=o,r.prototype.negate=a,r.prototype.add=s,r.prototype.subtract=c,r.prototype.multiply=l,r.prototype.square=u,r.prototype.divide=h,d.prototype.getX=f,d.prototype.getY=p,d.prototype.equals=m,d.prototype.isInfinity=g,d.prototype.negate=v,d.prototype.add=b,d.prototype.twice=y,d.prototype.multiply=w,d.prototype.multiplyTwo=_,x.prototype.getQ=k,x.prototype.getA=S,x.prototype.getB=j,x.prototype.equals=P,x.prototype.getInfinity=E,x.prototype.fromBigInteger=A,x.prototype.reduce=T,x.prototype.encodePointHex=C,x.prototype.decodePointHex=function(e){var t;switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:t=!1;case 3:void 0==t&&(t=!0);var n=e.length-2,r=e.substr(2,n),i=this.fromBigInteger(new M(r,16)),o=i.multiply(i.square().add(this.getA())).add(this.getB()),a=o.sqrt();if(null==a)throw"Invalid point compression";var s=a.toBigInteger();return s.testBit(0)!=t&&(a=this.fromBigInteger(this.getQ().subtract(s))),new d(this,i,a);case 4:case 6:case 7:var n=(e.length-2)/2,r=e.substr(2,n),c=e.substr(n+2,n);return new d(this,this.fromBigInteger(new M(r,16)),this.fromBigInteger(new M(c,16)));default:return null}},x.prototype.encodeCompressedPointHex=function(e){if(e.isInfinity())return"00";var t=e.getX().toBigInteger().toString(16),n=this.getQ().toString(16).length;for(n%2!=0&&n++;t.length<n;)t="0"+t;var r;return r=e.getY().toBigInteger().isEven()?"02":"03",r+t},r.prototype.getR=function(){if(void 0!=this.r)return this.r;this.r=null;var e=this.q.bitLength();if(e>128){var t=this.q.shiftRight(e-64);t.intValue()==-1&&(this.r=M.ONE.shiftLeft(e).subtract(this.q))}return this.r},r.prototype.modMult=function(e,t){return this.modReduce(e.multiply(t))},r.prototype.modReduce=function(e){if(null!=this.getR()){for(var t=q.bitLength();e.bitLength()>t+1;){var n=e.shiftRight(t),r=e.subtract(n.shiftLeft(t));this.getR().equals(M.ONE)||(n=n.multiply(this.getR())),e=n.add(r)}for(;e.compareTo(q)>=0;)e=e.subtract(q)}else e=e.mod(q);return e},r.prototype.sqrt=function(){if(!this.q.testBit(0))throw"unsupported";if(this.q.testBit(1)){var e=new r(this.q,this.x.modPow(this.q.shiftRight(2).add(M.ONE),this.q));return e.square().equals(this)?e:null}var t=this.q.subtract(M.ONE),n=t.shiftRight(1);if(!this.x.modPow(n,this.q).equals(M.ONE))return null;var i,o,a=t.shiftRight(2),s=a.shiftLeft(1).add(M.ONE),c=this.x,l=modDouble(modDouble(c));do{var u;do u=new M(this.q.bitLength(),new SecureRandom);while(u.compareTo(this.q)>=0||!u.multiply(u).subtract(l).modPow(n,this.q).equals(t));var h=this.lucasSequence(u,c,s);if(i=h[0],o=h[1],this.modMult(o,o).equals(l))return o.testBit(0)&&(o=o.add(q)),o=o.shiftRight(1),new r(q,o)}while(i.equals(M.ONE)||i.equals(t));return null},r.prototype.lucasSequence=function(e,t,n){for(var r=n.bitLength(),i=n.getLowestSetBit(),o=M.ONE,a=M.TWO,s=e,c=M.ONE,l=M.ONE,u=r-1;u>=i+1;--u)c=this.modMult(c,l),n.testBit(u)?(l=this.modMult(c,t),o=this.modMult(o,s),a=this.modReduce(s.multiply(a).subtract(e.multiply(c))),s=this.modReduce(s.multiply(s).subtract(l.shiftLeft(1)))):(l=c,o=this.modReduce(o.multiply(a).subtract(c)),s=this.modReduce(s.multiply(a).subtract(e.multiply(c))),a=this.modReduce(a.multiply(a).subtract(c.shiftLeft(1))));c=this.modMult(c,l),l=this.modMult(c,t),o=this.modReduce(o.multiply(a).subtract(c)),a=this.modReduce(s.multiply(a).subtract(e.multiply(c))),c=this.modMult(c,l);for(var u=1;u<=i;++u)o=this.modMult(o,a),a=this.modReduce(a.multiply(a).subtract(c.shiftLeft(1))),c=this.modMult(c,c);return[o,a]};var n={ECCurveFp:x,ECPointFp:d,ECFieldElementFp:r};t.exports=n},{jsbn:305}],227:[function(e,t,n){function r(e,t,n,r){this.curve=e,this.g=t,this.n=n,this.h=r}function i(){return this.curve}function o(){return this.g}function a(){return this.n}function s(){return this.h}function c(e){return new g(e,16)}function l(){var e=c("FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF"),t=c("FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC"),n=c("E87579C11079F43DD824993C2CEE5ED3"),i=c("FFFFFFFE0000000075A30D1B9038A115"),o=g.ONE,a=new v(e,t,n),s=a.decodePointHex("04161FF7528B899B2D0C28607CA52C5B86CF5AC8395BAFEB13C02DA292DDED7A83");return new r(a,s,i,o)}function u(){var e=c("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73"),t=g.ZERO,n=c("7"),i=c("0100000000000000000001B8FA16DFAB9ACA16B6B3"),o=g.ONE,a=new v(e,t,n),s=a.decodePointHex("043B4C382CE37AA192A4019E763036F4F5DD4D7EBB938CF935318FDCED6BC28286531733C3F03C4FEE");return new r(a,s,i,o)}function h(){var e=c("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF"),t=c("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC"),n=c("1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45"),i=c("0100000000000000000001F4C8F927AED3CA752257"),o=g.ONE,a=new v(e,t,n),s=a.decodePointHex("044A96B5688EF573284664698968C38BB913CBFC8223A628553168947D59DCC912042351377AC5FB32");return new r(a,s,i,o)}function d(){var e=c("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37"),t=g.ZERO,n=c("3"),i=c("FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D"),o=g.ONE,a=new v(e,t,n),s=a.decodePointHex("04DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D");return new r(a,s,i,o)}function f(){var e=c("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF"),t=c("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC"),n=c("64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1"),i=c("FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831"),o=g.ONE,a=new v(e,t,n),s=a.decodePointHex("04188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF101207192B95FFC8DA78631011ED6B24CDD573F977A11E794811");return new r(a,s,i,o)}function p(){var e=c("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001"),t=c("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE"),n=c("B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4"),i=c("FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D"),o=g.ONE,a=new v(e,t,n),s=a.decodePointHex("04B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34");return new r(a,s,i,o)}function m(){var e=c("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF"),t=c("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC"),n=c("5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B"),i=c("FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551"),o=g.ONE,a=new v(e,t,n),s=a.decodePointHex("046B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C2964FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5");return new r(a,s,i,o)}var g=e("jsbn").BigInteger,v=e("./ec.js").ECCurveFp;r.prototype.getCurve=i,r.prototype.getG=o,r.prototype.getN=a,r.prototype.getH=s,t.exports={secp128r1:l,secp160k1:u,secp160r1:h,secp192k1:d,secp192r1:f,secp224r1:p,secp256r1:m}},{"./ec.js":226,jsbn:305}],228:[function(e,t,n){"use strict";var r=n;r.version=e("../package.json").version,r.utils=e("./elliptic/utils"),r.rand=e("brorand"),r.curve=e("./elliptic/curve"),r.curves=e("./elliptic/curves"),r.ec=e("./elliptic/ec"),r.eddsa=e("./elliptic/eddsa")},{"../package.json":243,"./elliptic/curve":231,"./elliptic/curves":234,"./elliptic/ec":235,"./elliptic/eddsa":238,"./elliptic/utils":242,brorand:99}],229:[function(e,t,n){"use strict";function r(e,t){this.type=e,this.p=new o(t.p,16),this.red=t.prime?o.red(t.prime):o.mont(this.p),this.zero=new o(0).toRed(this.red),this.one=new o(1).toRed(this.red),this.two=new o(2).toRed(this.red),this.n=t.n&&new o(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function i(e,t){this.curve=e,this.type=t,this.precomputed=null}var o=e("bn.js"),a=e("../../elliptic"),s=a.utils,c=s.getNAF,l=s.getJSF,u=s.assert;t.exports=r,r.prototype.point=function(){throw new Error("Not implemented")},r.prototype.validate=function(){throw new Error("Not implemented")},r.prototype._fixedNafMul=function(e,t){u(e.precomputed);var n=e._getDoubles(),r=c(t,1),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;for(var o=[],a=0;a<r.length;a+=n.step){for(var s=0,t=a+n.step-1;t>=a;t--)s=(s<<1)+r[t];o.push(s)}for(var l=this.jpoint(null,null,null),h=this.jpoint(null,null,null),d=i;d>0;d--){for(var a=0;a<o.length;a++){var s=o[a];s===d?h=h.mixedAdd(n.points[a]):s===-d&&(h=h.mixedAdd(n.points[a].neg()))}l=l.add(h)}return l.toP()},r.prototype._wnafMul=function(e,t){var n=4,r=e._getNAFPoints(n);n=r.wnd;for(var i=r.points,o=c(t,n),a=this.jpoint(null,null,null),s=o.length-1;s>=0;s--){for(var t=0;s>=0&&0===o[s];s--)t++;if(s>=0&&t++,a=a.dblp(t),s<0)break;var l=o[s];u(0!==l),a="affine"===e.type?l>0?a.mixedAdd(i[l-1>>1]):a.mixedAdd(i[-l-1>>1].neg()):l>0?a.add(i[l-1>>1]):a.add(i[-l-1>>1].neg())}return"affine"===e.type?a.toP():a},r.prototype._wnafMulAdd=function(e,t,n,r,i){for(var o=this._wnafT1,a=this._wnafT2,s=this._wnafT3,u=0,h=0;h<r;h++){var d=t[h],f=d._getNAFPoints(e);o[h]=f.wnd,a[h]=f.points}for(var h=r-1;h>=1;h-=2){var p=h-1,m=h;if(1===o[p]&&1===o[m]){var g=[t[p],null,null,t[m]];0===t[p].y.cmp(t[m].y)?(g[1]=t[p].add(t[m]),g[2]=t[p].toJ().mixedAdd(t[m].neg())):0===t[p].y.cmp(t[m].y.redNeg())?(g[1]=t[p].toJ().mixedAdd(t[m]),g[2]=t[p].add(t[m].neg())):(g[1]=t[p].toJ().mixedAdd(t[m]),g[2]=t[p].toJ().mixedAdd(t[m].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],b=l(n[p],n[m]);u=Math.max(b[0].length,u),s[p]=new Array(u),s[m]=new Array(u);for(var y=0;y<u;y++){var w=0|b[0][y],_=0|b[1][y];s[p][y]=v[3*(w+1)+(_+1)],s[m][y]=0,a[p]=g}}else s[p]=c(n[p],o[p]),s[m]=c(n[m],o[m]),u=Math.max(s[p].length,u),u=Math.max(s[m].length,u)}for(var x=this.jpoint(null,null,null),k=this._wnafT4,h=u;h>=0;h--){for(var S=0;h>=0;){for(var j=!0,y=0;y<r;y++)k[y]=0|s[y][h],0!==k[y]&&(j=!1);if(!j)break;S++,h--}if(h>=0&&S++,x=x.dblp(S),h<0)break;for(var y=0;y<r;y++){var d,P=k[y];0!==P&&(P>0?d=a[y][P-1>>1]:P<0&&(d=a[y][-P-1>>1].neg()),x="affine"===d.type?x.mixedAdd(d):x.add(d))}}for(var h=0;h<r;h++)a[h]=null;return i?x:x.toP()},r.BasePoint=i,i.prototype.eq=function(){throw new Error("Not implemented")},i.prototype.validate=function(){return this.curve.validate(this)},r.prototype.decodePoint=function(e,t){e=s.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*n){6===e[0]?u(e[e.length-1]%2===0):7===e[0]&&u(e[e.length-1]%2===1);var r=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return r}if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},i.prototype.encodeCompressed=function(e){return this.encode(e,!0)},i.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},i.prototype.encode=function(e,t){return s.encode(this._encode(t),e)},i.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},i.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},i.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)r=r.dbl();n.push(r)}return{step:e,points:n}},i.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(r);return{wnd:e,points:t}},i.prototype._getBeta=function(){return null},i.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}},{"../../elliptic":228,"bn.js":85}],230:[function(e,t,n){"use strict";function r(e){this.twisted=1!==(0|e.a),this.mOneA=this.twisted&&(0|e.a)===-1,this.extended=this.mOneA,l.call(this,"edwards",e),this.a=new s(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),u(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|e.c)}function i(e,t,n,r,i){l.BasePoint.call(this,e,"projective"),null===t&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(t,16),this.y=new s(n,16),this.z=r?new s(r,16):this.curve.one,this.t=i&&new s(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}var o=e("../curve"),a=e("../../elliptic"),s=e("bn.js"),c=e("inherits"),l=o.base,u=a.utils.assert;c(r,l),t.exports=r,r.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},r.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},r.prototype.jpoint=function(e,t,n,r){return this.point(e,t,n,r)},r.prototype.pointFromX=function(e,t){e=new s(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),r=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=r.redMul(i.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var c=a.fromRed().isOdd();return(t&&!c||!t&&c)&&(a=a.redNeg()),this.point(e,a)},r.prototype.pointFromY=function(e,t){e=new s(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),r=n.redSub(this.one),i=n.redMul(this.d).redAdd(this.one),o=r.redMul(i.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},r.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),r=t.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return 0===r.cmp(i)},c(i,l.BasePoint),r.prototype.pointFromJSON=function(e){return i.fromJSON(this,e)},r.prototype.point=function(e,t,n,r){return new i(this,e,t,n,r)},i.fromJSON=function(e,t){return new i(e,t[0],t[1],t[2])},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},i.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var r=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=r.redAdd(t),a=o.redSub(n),s=r.redSub(t),c=i.redMul(a),l=o.redMul(s),u=i.redMul(s),h=a.redMul(o);return this.curve.point(c,l,h,u)},i.prototype._projDbl=function(){var e,t,n,r=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),o=this.y.redSqr();if(this.curve.twisted){var a=this.curve._mulA(i),s=a.redAdd(o);if(this.zOne)e=r.redSub(i).redSub(o).redMul(s.redSub(this.curve.two)),t=s.redMul(a.redSub(o)),n=s.redSqr().redSub(s).redSub(s);else{var c=this.z.redSqr(),l=s.redSub(c).redISub(c);e=r.redSub(i).redISub(o).redMul(l),t=s.redMul(a.redSub(o)),n=s.redMul(l)}}else{var a=i.redAdd(o),c=this.curve._mulC(this.c.redMul(this.z)).redSqr(),l=a.redSub(c).redSub(c);e=this.curve._mulC(r.redISub(a)).redMul(l),t=this.curve._mulC(a).redMul(i.redISub(o)),n=a.redMul(l);
}return this.curve.point(e,t,n)},i.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},i.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),r=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(t),a=i.redSub(r),s=i.redAdd(r),c=n.redAdd(t),l=o.redMul(a),u=s.redMul(c),h=o.redMul(c),d=a.redMul(s);return this.curve.point(l,u,d,h)},i.prototype._projAdd=function(e){var t,n,r=this.z.redMul(e.z),i=r.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),c=i.redSub(s),l=i.redAdd(s),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),h=r.redMul(c).redMul(u);return this.curve.twisted?(t=r.redMul(l).redMul(a.redSub(this.curve._mulA(o))),n=c.redMul(l)):(t=r.redMul(l).redMul(a.redSub(o)),n=this.curve._mulC(c).redMul(l)),this.curve.point(h,t,n)},i.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},i.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},i.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)},i.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)},i.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},i.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},i.prototype.getX=function(){return this.normalize(),this.x.fromRed()},i.prototype.getY=function(){return this.normalize(),this.y.fromRed()},i.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},i.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),r=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}return!1},i.prototype.toP=i.prototype.normalize,i.prototype.mixedAdd=i.prototype.add},{"../../elliptic":228,"../curve":231,"bn.js":85,inherits:299}],231:[function(e,t,n){"use strict";var r=n;r.base=e("./base"),r["short"]=e("./short"),r.mont=e("./mont"),r.edwards=e("./edwards")},{"./base":229,"./edwards":230,"./mont":232,"./short":233}],232:[function(e,t,n){"use strict";function r(e){c.call(this,"mont",e),this.a=new a(e.a,16).toRed(this.red),this.b=new a(e.b,16).toRed(this.red),this.i4=new a(4).toRed(this.red).redInvm(),this.two=new a(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function i(e,t,n){c.BasePoint.call(this,e,"projective"),null===t&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new a(t,16),this.z=new a(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}var o=e("../curve"),a=e("bn.js"),s=e("inherits"),c=o.base,l=e("../../elliptic"),u=l.utils;s(r,c),t.exports=r,r.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),r=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t),i=r.redSqrt();return 0===i.redSqr().cmp(r)},s(i,c.BasePoint),r.prototype.decodePoint=function(e,t){return this.point(u.toArray(e,t),1)},r.prototype.point=function(e,t){return new i(this,e,t)},r.prototype.pointFromJSON=function(e){return i.fromJSON(this,e)},i.prototype.precompute=function(){},i.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},i.fromJSON=function(e,t){return new i(e,t[0],t[1]||e.one)},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},i.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),n=this.x.redSub(this.z),r=n.redSqr(),i=t.redSub(r),o=t.redMul(r),a=i.redMul(r.redAdd(this.curve.a24.redMul(i)));return this.curve.point(o,a)},i.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),r=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z),a=o.redMul(n),s=i.redMul(r),c=t.z.redMul(a.redAdd(s).redSqr()),l=t.x.redMul(a.redISub(s).redSqr());return this.curve.point(c,l)},i.prototype.mul=function(e){for(var t=e.clone(),n=this,r=this.curve.point(null,null),i=this,o=[];0!==t.cmpn(0);t.iushrn(1))o.push(t.andln(1));for(var a=o.length-1;a>=0;a--)0===o[a]?(n=n.diffAdd(r,i),r=r.dbl()):(r=n.diffAdd(r,i),n=n.dbl());return r},i.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},i.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},i.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../../elliptic":228,"../curve":231,"bn.js":85,inherits:299}],233:[function(e,t,n){"use strict";function r(e){u.call(this,"short",e),this.a=new c(e.a,16).toRed(this.red),this.b=new c(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function i(e,t,n,r){u.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new c(t,16),this.y=new c(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function o(e,t,n,r){u.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new c(0)):(this.x=new c(t,16),this.y=new c(n,16),this.z=new c(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var a=e("../curve"),s=e("../../elliptic"),c=e("bn.js"),l=e("inherits"),u=a.base,h=s.utils.assert;l(r,u),t.exports=r,r.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new c(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=r[0].cmp(r[1])<0?r[0]:r[1],t=t.toRed(this.red)}if(e.lambda)n=new c(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?n=i[0]:(n=i[1],h(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}var o;return o=e.basis?e.basis.map(function(e){return{a:new c(e.a,16),b:new c(e.b,16)}}):this._getEndoBasis(n),{beta:t,lambda:n,basis:o}}},r.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:c.mont(e),n=new c(2).toRed(t).redInvm(),r=n.redNeg(),i=new c(3).toRed(t).redNeg().redSqrt().redMul(n),o=r.redAdd(i).fromRed(),a=r.redSub(i).fromRed();return[o,a]},r.prototype._getEndoBasis=function(e){for(var t,n,r,i,o,a,s,l,u,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,f=this.n.clone(),p=new c(1),m=new c(0),g=new c(0),v=new c(1),b=0;0!==d.cmpn(0);){var y=f.div(d);l=f.sub(y.mul(d)),u=g.sub(y.mul(p));var w=v.sub(y.mul(m));if(!r&&l.cmp(h)<0)t=s.neg(),n=p,r=l.neg(),i=u;else if(r&&2===++b)break;s=l,f=d,d=l,g=p,p=u,v=m,m=w}o=l.neg(),a=u;var _=r.sqr().add(i.sqr()),x=o.sqr().add(a.sqr());return x.cmp(_)>=0&&(o=t,a=n),r.negative&&(r=r.neg(),i=i.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:r,b:i},{a:o,b:a}]},r.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],r=t[1],i=r.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=i.mul(n.a),s=o.mul(r.a),c=i.mul(n.b),l=o.mul(r.b),u=e.sub(a).sub(s),h=c.add(l).neg();return{k1:u,k2:h}},r.prototype.pointFromX=function(e,t){e=new c(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var i=r.fromRed().isOdd();return(t&&!i||!t&&i)&&(r=r.redNeg()),this.point(e,r)},r.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,r=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},r.prototype._endoWnafMulAdd=function(e,t,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],c=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),r[2*o]=s,r[2*o+1]=c,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var l=this._wnafMulAdd(1,r,i,2*o,n),u=0;u<2*o;u++)r[u]=null,i[u]=null;return l},l(i,u.BasePoint),r.prototype.point=function(e,t,n){return new i(this,e,t,n)},r.prototype.pointFromJSON=function(e,t){return i.fromJSON(this,e,t)},i.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,r=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},i.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},i.fromJSON=function(e,t,n){function r(t){return e.point(t[0],t[1],n)}"string"==typeof t&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);if(!t[2])return i;var o=t[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(r))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(r))}},i},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return this.inf},i.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},i.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),r=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(r),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},i.prototype.getX=function(){return this.x.fromRed()},i.prototype.getY=function(){return this.y.fromRed()},i.prototype.mul=function(e){return e=new c(e,16),this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},i.prototype.mulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},i.prototype.jmulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},i.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},i.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return t},i.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e},l(o,u.BasePoint),r.prototype.jpoint=function(e,t,n){return new o(this,e,t,n)},o.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(n,r)},o.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},o.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(t),i=e.x.redMul(n),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),s=r.redSub(i),c=o.redSub(a);if(0===s.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),u=l.redMul(s),h=r.redMul(l),d=c.redSqr().redIAdd(u).redISub(h).redISub(h),f=c.redMul(h.redISub(d)).redISub(o.redMul(u)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(d,f,p)},o.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,r=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),a=n.redSub(r),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),l=c.redMul(a),u=n.redMul(c),h=s.redSqr().redIAdd(l).redISub(u).redISub(u),d=s.redMul(u.redISub(h)).redISub(i.redMul(l)),f=this.z.redMul(a);return this.curve.jpoint(h,d,f)},o.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}for(var r=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,c=s.redSqr().redSqr(),l=a.redAdd(a),n=0;n<e;n++){var u=o.redSqr(),h=l.redSqr(),d=h.redSqr(),f=u.redAdd(u).redIAdd(u).redIAdd(r.redMul(c)),p=o.redMul(h),m=f.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),v=f.redMul(g);v=v.redIAdd(v).redISub(d);var b=l.redMul(s);n+1<e&&(c=c.redMul(d)),o=m,s=b,l=v}return this.curve.jpoint(o,l.redMul(i),s)},o.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},o.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r),c=s.redSqr().redISub(a).redISub(a),l=o.redIAdd(o);l=l.redIAdd(l),l=l.redIAdd(l),e=c,t=s.redMul(a.redISub(c)).redISub(l),n=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),h=this.y.redSqr(),d=h.redSqr(),f=this.x.redAdd(h).redSqr().redISub(u).redISub(d);f=f.redIAdd(f);var p=u.redAdd(u).redIAdd(u),m=p.redSqr(),g=d.redIAdd(d);g=g.redIAdd(g),g=g.redIAdd(g),e=m.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(g),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)},o.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),c=s.redSqr().redISub(a).redISub(a);e=c;var l=o.redIAdd(o);l=l.redIAdd(l),l=l.redIAdd(l),t=s.redMul(a.redISub(c)).redISub(l),n=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),h=this.y.redSqr(),d=this.x.redMul(h),f=this.x.redSub(u).redMul(this.x.redAdd(u));f=f.redAdd(f).redIAdd(f);var p=d.redIAdd(d);p=p.redIAdd(p);var m=p.redAdd(p);e=f.redSqr().redISub(m),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(u);var g=h.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g),t=f.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,n)},o.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),o=t.redSqr(),a=n.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),c=t.redAdd(t);c=c.redIAdd(c);var l=c.redMul(a),u=s.redSqr().redISub(l.redAdd(l)),h=l.redISub(u),d=a.redSqr();d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var f=s.redMul(h).redISub(d),p=n.redAdd(n).redMul(r);return this.curve.jpoint(u,f,p)},o.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),r=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(r);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var s=a.redSqr(),c=r.redIAdd(r);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var l=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(c),u=t.redMul(l);u=u.redIAdd(u),u=u.redIAdd(u);var h=this.x.redMul(s).redISub(u);h=h.redIAdd(h),h=h.redIAdd(h);var d=this.y.redMul(l.redMul(c.redISub(l)).redISub(a.redMul(s)));d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var f=this.z.redAdd(a).redSqr().redISub(n).redISub(s);return this.curve.jpoint(h,d,f)},o.prototype.mul=function(e,t){return e=new c(e,t),this.curve._wnafMul(this,e)},o.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),i=n.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(r)).cmpn(0)},o.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}return!1},o.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},o.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../../elliptic":228,"../curve":231,"bn.js":85,inherits:299}],234:[function(e,t,n){"use strict";function r(e){"short"===e.type?this.curve=new s.curve["short"](e):"edwards"===e.type?this.curve=new s.curve.edwards(e):this.curve=new s.curve.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,c(this.g.validate(),"Invalid curve"),c(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function i(e,t){Object.defineProperty(o,e,{configurable:!0,enumerable:!0,get:function(){var n=new r(t);return Object.defineProperty(o,e,{configurable:!0,enumerable:!0,value:n}),n}})}var o=n,a=e("hash.js"),s=e("../elliptic"),c=s.utils.assert;o.PresetCurve=r,i("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),i("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),i("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),i("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),i("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),i("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),i("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var l;try{l=e("./precomputed/secp256k1")}catch(u){l=void 0}i("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",l]})},{"../elliptic":228,"./precomputed/secp256k1":241,"hash.js":274}],235:[function(e,t,n){"use strict";function r(e){return this instanceof r?("string"==typeof e&&(c(a.curves.hasOwnProperty(e),"Unknown curve "+e),e=a.curves[e]),e instanceof a.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),void(this.hash=e.hash||e.curve.hash)):new r(e)}var i=e("bn.js"),o=e("hmac-drbg"),a=e("../../elliptic"),s=a.utils,c=s.assert,l=e("./key"),u=e("./signature");t.exports=r,r.prototype.keyPair=function(e){return new l(this,e)},r.prototype.keyFromPrivate=function(e,t){return l.fromPrivate(this,e,t)},r.prototype.keyFromPublic=function(e,t){return l.fromPublic(this,e,t)},r.prototype.genKeyPair=function(e){e||(e={});for(var t=new o({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||a.rand(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),r=this.n.sub(new i(2));;){var s=new i(t.generate(n));if(!(s.cmp(r)>0))return s.iaddn(1),this.keyFromPrivate(s)}},r.prototype._truncateToN=function(e,t){var n=8*e.byteLength()-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},r.prototype.sign=function(e,t,n,r){"object"==typeof n&&(r=n,n=null),r||(r={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new i(e,16));for(var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),c=e.toArray("be",a),l=new o({hash:this.hash,entropy:s,nonce:c,pers:r.pers,persEnc:r.persEnc||"utf8"}),h=this.n.sub(new i(1)),d=0;!0;d++){var f=r.k?r.k(d):new i(l.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(h)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var m=p.getX(),g=m.umod(this.n);if(0!==g.cmpn(0)){var v=f.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(v=v.umod(this.n),0!==v.cmpn(0)){var b=(p.getY().isOdd()?1:0)|(0!==m.cmp(g)?2:0);return r.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),b^=1),new u({r:g,s:v,recoveryParam:b})}}}}}},r.prototype.verify=function(e,t,n,r){e=this._truncateToN(new i(e,16)),n=this.keyFromPublic(n,r),t=new u(t,"hex");var o=t.r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s=a.invm(this.n),c=s.mul(e).umod(this.n),l=s.mul(o).umod(this.n);if(!this.curve._maxwellTrick){var h=this.g.mulAdd(c,n.getPublic(),l);return!h.isInfinity()&&0===h.getX().umod(this.n).cmp(o)}var h=this.g.jmulAdd(c,n.getPublic(),l);return!h.isInfinity()&&h.eqXToP(o)},r.prototype.recoverPubKey=function(e,t,n,r){c((3&n)===n,"The recovery param is more than two bits"),t=new u(t,r);var o=this.n,a=new i(e),s=t.r,l=t.s,h=1&n,d=n>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");s=d?this.curve.pointFromX(s.add(this.curve.n),h):this.curve.pointFromX(s,h);var f=t.r.invm(o),p=o.sub(a).mul(f).umod(o),m=l.mul(f).umod(o);return this.g.mulAdd(p,s,m)},r.prototype.getKeyRecoveryParam=function(e,t,n,r){if(t=new u(t,r),null!==t.recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(n))return i}throw new Error("Unable to find valid recovery factor")}},{"../../elliptic":228,"./key":236,"./signature":237,"bn.js":85,"hmac-drbg":287}],236:[function(e,t,n){"use strict";function r(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var i=e("bn.js"),o=e("../../elliptic"),a=o.utils,s=a.assert;t.exports=r,r.fromPublic=function(e,t,n){return t instanceof r?t:new r(e,{pub:t,pubEnc:n})},r.fromPrivate=function(e,t,n){return t instanceof r?t:new r(e,{priv:t,privEnc:n})},r.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},r.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},r.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},r.prototype._importPrivate=function(e,t){this.priv=new i(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},r.prototype._importPublic=function(e,t){return e.x||e.y?("mont"===this.ec.curve.type?s(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||s(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y))):void(this.pub=this.ec.curve.decodePoint(e,t))},r.prototype.derive=function(e){return e.mul(this.priv).getX()},r.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},r.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},r.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../../elliptic":228,"bn.js":85}],237:[function(e,t,n){"use strict";function r(e,t){return e instanceof r?e:void(this._importDER(e,t)||(h(e.r&&e.s,"Signature without r or s"),this.r=new c(e.r,16),this.s=new c(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam))}function i(){this.place=0}function o(e,t){var n=e[t.place++];if(!(128&n))return n;for(var r=15&n,i=0,o=0,a=t.place;o<r;o++,a++)i<<=8,i|=e[a];return t.place=a,i}function a(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function s(e,t){if(t<128)return void e.push(t);var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}var c=e("bn.js"),l=e("../../elliptic"),u=l.utils,h=u.assert;t.exports=r,r.prototype._importDER=function(e,t){e=u.toArray(e,t);var n=new i;if(48!==e[n.place++])return!1;var r=o(e,n);if(r+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var a=o(e,n),s=e.slice(n.place,a+n.place);if(n.place+=a,2!==e[n.place++])return!1;var l=o(e,n);if(e.length!==l+n.place)return!1;var h=e.slice(n.place,l+n.place);return 0===s[0]&&128&s[1]&&(s=s.slice(1)),0===h[0]&&128&h[1]&&(h=h.slice(1)),this.r=new c(s),this.s=new c(h),this.recoveryParam=null,!0},r.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=a(t),n=a(n);!(n[0]||128&n[1]);)n=n.slice(1);var r=[2];s(r,t.length),r=r.concat(t),r.push(2),s(r,n.length);var i=r.concat(n),o=[48];return s(o,i.length),o=o.concat(i),u.encode(o,e)}},{"../../elliptic":228,"bn.js":85}],238:[function(e,t,n){"use strict";function r(e){if(s("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof r))return new r(e);var e=o.curves[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=i.sha512}var i=e("hash.js"),o=e("../../elliptic"),a=o.utils,s=a.assert,c=a.parseBytes,l=e("./key"),u=e("./signature");t.exports=r,r.prototype.sign=function(e,t){e=c(e);var n=this.keyFromSecret(t),r=this.hashInt(n.messagePrefix(),e),i=this.g.mul(r),o=this.encodePoint(i),a=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),s=r.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:s,Rencoded:o})},r.prototype.verify=function(e,t,n){e=c(e),t=this.makeSignature(t);var r=this.keyFromPublic(n),i=this.hashInt(t.Rencoded(),r.pubBytes(),e),o=this.g.mul(t.S()),a=t.R().add(r.pub().mul(i));return a.eq(o)},r.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return a.intFromLE(e.digest()).umod(this.curve.n)},r.prototype.keyFromPublic=function(e){return l.fromPublic(this,e)},r.prototype.keyFromSecret=function(e){return l.fromSecret(this,e)},r.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},r.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},r.prototype.decodePoint=function(e){e=a.parseBytes(e);var t=e.length-1,n=e.slice(0,t).concat(e[t]&-129),r=0!==(128&e[t]),i=a.intFromLE(n);return this.curve.pointFromY(i,r)},r.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},r.prototype.decodeInt=function(e){return a.intFromLE(e)},r.prototype.isPoint=function(e){return e instanceof this.pointClass}},{"../../elliptic":228,"./key":239,"./signature":240,"hash.js":274}],239:[function(e,t,n){"use strict";function r(e,t){this.eddsa=e,this._secret=s(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=s(t.pub)}var i=e("../../elliptic"),o=i.utils,a=o.assert,s=o.parseBytes,c=o.cachedProperty;r.fromPublic=function(e,t){return t instanceof r?t:new r(e,{pub:t})},r.fromSecret=function(e,t){return t instanceof r?t:new r(e,{secret:t})},r.prototype.secret=function(){return this._secret;
},c(r,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),c(r,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),c(r,"privBytes",function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[n]&=127,r[n]|=64,r}),c(r,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),c(r,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),c(r,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),r.prototype.sign=function(e){return a(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},r.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},r.prototype.getSecret=function(e){return a(this._secret,"KeyPair is public only"),o.encode(this.secret(),e)},r.prototype.getPublic=function(e){return o.encode(this.pubBytes(),e)},t.exports=r},{"../../elliptic":228}],240:[function(e,t,n){"use strict";function r(e,t){this.eddsa=e,"object"!=typeof t&&(t=l(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),s(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof i&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}var i=e("bn.js"),o=e("../../elliptic"),a=o.utils,s=a.assert,c=a.cachedProperty,l=a.parseBytes;c(r,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),c(r,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),c(r,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),c(r,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),r.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},r.prototype.toHex=function(){return a.encode(this.toBytes(),"hex").toUpperCase()},t.exports=r},{"../../elliptic":228,"bn.js":85}],241:[function(e,t,n){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],242:[function(e,t,n){"use strict";function r(e,t){for(var n=[],r=1<<t+1,i=e.clone();i.cmpn(1)>=0;){var o;if(i.isOdd()){var a=i.andln(r-1);o=a>(r>>1)-1?(r>>1)-a:a,i.isubn(o)}else o=0;n.push(o);for(var s=0!==i.cmpn(0)&&0===i.andln(r-1)?t+1:1,c=1;c<s;c++)n.push(0);i.iushrn(s)}return n}function i(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var r=0,i=0;e.cmpn(-r)>0||t.cmpn(-i)>0;){var o=e.andln(3)+r&3,a=t.andln(3)+i&3;3===o&&(o=-1),3===a&&(a=-1);var s;if(0===(1&o))s=0;else{var c=e.andln(7)+r&7;s=3!==c&&5!==c||2!==a?o:-o}n[0].push(s);var l;if(0===(1&a))l=0;else{var c=t.andln(7)+i&7;l=3!==c&&5!==c||2!==o?a:-a}n[1].push(l),2*r===s+1&&(r=1-r),2*i===l+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return n}function o(e,t,n){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}}function a(e){return"string"==typeof e?c.toArray(e,"hex"):e}function s(e){return new l(e,"hex","le")}var c=n,l=e("bn.js"),u=e("minimalistic-assert"),h=e("minimalistic-crypto-utils");c.assert=u,c.toArray=h.toArray,c.zero2=h.zero2,c.toHex=h.toHex,c.encode=h.encode,c.getNAF=r,c.getJSF=i,c.cachedProperty=o,c.parseBytes=a,c.intFromLE=s},{"bn.js":85,"minimalistic-assert":320,"minimalistic-crypto-utils":321}],243:[function(e,t,n){t.exports={_args:[[{name:"elliptic",raw:"elliptic@^6.0.0",rawSpec:"^6.0.0",scope:null,spec:">=6.0.0 <7.0.0",type:"range"},"/var/www/production/node_modules/browserify-sign"]],_from:"elliptic@>=6.0.0 <7.0.0",_id:"elliptic@6.4.0",_inCache:!0,_installable:!0,_location:"/elliptic",_nodeVersion:"7.0.0",_npmOperationalInternal:{host:"packages-18-east.internal.npmjs.com",tmp:"tmp/elliptic-6.4.0.tgz_1487798866428_0.30510620190761983"},_npmUser:{email:"fedor@indutny.com",name:"indutny"},_npmVersion:"3.10.8",_phantomChildren:{},_requested:{name:"elliptic",raw:"elliptic@^6.0.0",rawSpec:"^6.0.0",scope:null,spec:">=6.0.0 <7.0.0",type:"range"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz",_shasum:"cac9af8762c85836187003c8dfe193e5e2eae5df",_shrinkwrap:null,_spec:"elliptic@^6.0.0",_where:"/var/www/production/node_modules/browserify-sign",author:{email:"fedor@indutny.com",name:"Fedor Indutny"},bugs:{url:"https://github.com/indutny/elliptic/issues"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},directories:{},dist:{shasum:"cac9af8762c85836187003c8dfe193e5e2eae5df",tarball:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz"},files:["lib"],gitHead:"6b0d2b76caae91471649c8e21f0b1d3ba0f96090",homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",maintainers:[{email:"fedor@indutny.com",name:"indutny"}],name:"elliptic",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.4.0"}},{}],244:[function(e,t,n){(function(e){!function(e,r){"function"==typeof define&&define.amd?define(r):"object"==typeof n?t.exports=r():e.returnExports=r()}(this,function(){"use strict";var t,n=function(e){try{e()}catch(t){return!1}return!0},r=function(e,t){
try{var n=function(){e.apply(this,arguments)};return!!n.__proto__&&(Object.setPrototypeOf(n,e),n.prototype=Object.create(e.prototype,{constructor:{value:e}}),t(n))}catch(r){return!1}},i=function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}},o=function(){var e=!1;if(String.prototype.startsWith)try{"/a/".startsWith(/a/)}catch(t){e=!0}return e},a=new Function("return this;"),s=a(),c=s.isFinite,l=!!Object.defineProperty&&i(),u=o(),h=Function.call.bind(String.prototype.indexOf),d=Function.call.bind(Object.prototype.toString),f=Function.call.bind(Object.prototype.hasOwnProperty),p=function(){},m=s.Symbol||{},g={string:function(e){return"[object String]"===d(e)},regex:function(e){return"[object RegExp]"===d(e)},symbol:function(e){return"function"==typeof s.Symbol&&"symbol"==typeof e}},v=function(e,t,n,r){!r&&t in e||(l?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n}):e[t]=n)},b={getter:function(e,t,n){if(!l)throw new TypeError("getters require true ES5 support");Object.defineProperty(e,t,{configurable:!0,enumerable:!1,get:n})},proxy:function(e,t,n){if(!l)throw new TypeError("getters require true ES5 support");var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,{configurable:r.configurable,enumerable:r.enumerable,get:function(){return e[t]},set:function(n){e[t]=n}})},redefine:function(e,t,n){if(l){var r=Object.getOwnPropertyDescriptor(e,t);r.value=n,Object.defineProperty(e,t,r)}else e[t]=n}},y=function(e,t){Object.keys(t).forEach(function(n){var r=t[n];v(e,n,r,!1)})},w=Object.create||function(e,t){function n(){}n.prototype=e;var r=new n;return"undefined"!=typeof t&&y(r,t),r},_=g.symbol(m.iterator)?m.iterator:"_es6-shim iterator_";s.Set&&"function"==typeof(new s.Set)["@@iterator"]&&(_="@@iterator");var x=function(e,t){t||(t=function(){return this});var n={};n[_]=t,y(e,n),!e[_]&&g.symbol(_)&&(e[_]=t)},k=function(e){var t=d(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===d(e.callee)),n},S={CheckObjectCoercible:function(e,t){if(null==e)throw new TypeError(t||"Cannot call method on "+e);return e},TypeIsObject:function(e){return null!=e&&Object(e)===e},ToObject:function(e,t){return Object(S.CheckObjectCoercible(e,t))},IsCallable:function(e){return"function"==typeof e&&"[object Function]"===d(e)},ToInt32:function(e){return S.ToNumber(e)>>0},ToUint32:function(e){return S.ToNumber(e)>>>0},ToNumber:function(e){if("[object Symbol]"===d(e))throw new TypeError("Cannot convert a Symbol value to a number");return+e},ToInteger:function(e){var t=S.ToNumber(e);return Number.isNaN(t)?0:0!==t&&Number.isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t},ToLength:function(e){var t=S.ToInteger(e);return t<=0?0:t>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t},SameValue:function(e,t){return e===t?0!==e||1/e===1/t:Number.isNaN(e)&&Number.isNaN(t)},SameValueZero:function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)},IsIterable:function(e){return S.TypeIsObject(e)&&("undefined"!=typeof e[_]||k(e))},GetIterator:function(e){if(k(e))return new t(e,"value");var n=e[_];if(!S.IsCallable(n))throw new TypeError("value is not an iterable");var r=n.call(e);if(!S.TypeIsObject(r))throw new TypeError("bad iterator");return r},IteratorNext:function(e){var t=arguments.length>1?e.next(arguments[1]):e.next();if(!S.TypeIsObject(t))throw new TypeError("bad iterator");return t},Construct:function(e,t){var n;n=S.IsCallable(e["@@create"])?e["@@create"]():w(e.prototype||null),y(n,{_es6construct:!0});var r=e.apply(n,t);return S.TypeIsObject(r)?r:n}},j=function(e){if(!S.TypeIsObject(e))throw new TypeError("bad object");return e._es6construct||(e.constructor&&S.IsCallable(e.constructor["@@create"])&&(e=e.constructor["@@create"](e)),y(e,{_es6construct:!0})),e},P=function(){function e(e){var t=Math.floor(e),n=e-t;return n<.5?t:n>.5?t+1:t%2?t+1:t}function t(t,n,r){var i,o,a,s,c,l,u,h=(1<<n-1)-1;for(t!==t?(o=(1<<n)-1,a=Math.pow(2,r-1),i=0):t===1/0||t===-(1/0)?(o=(1<<n)-1,a=0,i=t<0?1:0):0===t?(o=0,a=0,i=1/t===-(1/0)?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-h)?(o=Math.min(Math.floor(Math.log(t)/Math.LN2),1023),a=e(t/Math.pow(2,o)*Math.pow(2,r)),a/Math.pow(2,r)>=2&&(o+=1,a=1),o>h?(o=(1<<n)-1,a=0):(o+=h,a-=Math.pow(2,r))):(o=0,a=e(t/Math.pow(2,1-h-r)))),c=[],s=r;s;s-=1)c.push(a%2?1:0),a=Math.floor(a/2);for(s=n;s;s-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(c.push(i?1:0),c.reverse(),l=c.join(""),u=[];l.length;)u.push(parseInt(l.slice(0,8),2)),l=l.slice(8);return u}function n(e,t,n){var r,i,o,a,s,c,l,u,h=[];for(r=e.length;r;r-=1)for(o=e[r-1],i=8;i;i-=1)h.push(o%2?1:0),o>>=1;return h.reverse(),a=h.join(""),s=(1<<t-1)-1,c=parseInt(a.slice(0,1),2)?-1:1,l=parseInt(a.slice(1,1+t),2),u=parseInt(a.slice(1+t),2),l===(1<<t)-1?0!==u?NaN:c*(1/0):l>0?c*Math.pow(2,l-s)*(1+u/Math.pow(2,n)):0!==u?c*Math.pow(2,-(s-1))*(u/Math.pow(2,n)):c<0?-0:0}function r(e){return n(e,8,23)}function i(e){return t(e,8,23)}var o={toFloat32:function(e){return r(i(e))}};if("undefined"!=typeof Float32Array){var a=new Float32Array(1);o.toFloat32=function(e){return a[0]=e,a[0]}}return o}();if(y(String,{fromCodePoint:function(e){for(var t,n=[],r=0,i=arguments.length;r<i;r++){if(t=Number(arguments[r]),!S.SameValue(t,S.ToInteger(t))||t<0||t>1114111)throw new RangeError("Invalid code point "+t);t<65536?n.push(String.fromCharCode(t)):(t-=65536,n.push(String.fromCharCode((t>>10)+55296)),n.push(String.fromCharCode(t%1024+56320)))}return n.join("")},raw:function(e){var t=S.ToObject(e,"bad callSite"),n=t.raw,r=S.ToObject(n,"bad raw value"),i=r.length,o=S.ToLength(i);if(o<=0)return"";for(var a,s,c,l,u=[],h=0;h<o&&(a=String(h),s=r[a],c=String(s),u.push(c),!(h+1>=o));)s=h+1<arguments.length?arguments[h+1]:"",l=String(s),u.push(l),h++;return u.join("")}}),1!==String.fromCodePoint.length){var E=Function.apply.bind(String.fromCodePoint);v(String,"fromCodePoint",function(e){return E(this,arguments)},!0)}var A={repeat:function(){var e=function(t,n){if(n<1)return"";if(n%2)return e(t,n-1)+t;var r=e(t,n/2);return r+r};return function(t){var n=String(S.CheckObjectCoercible(this));if(t=S.ToInteger(t),t<0||t===1/0)throw new RangeError("Invalid String#repeat value");return e(n,t)}}(),startsWith:function(e){var t=String(S.CheckObjectCoercible(this));if(g.regex(e))throw new TypeError('Cannot call method "startsWith" with a regex');e=String(e);var n=arguments.length>1?arguments[1]:void 0,r=Math.max(S.ToInteger(n),0);return t.slice(r,r+e.length)===e},endsWith:function(e){var t=String(S.CheckObjectCoercible(this));if(g.regex(e))throw new TypeError('Cannot call method "endsWith" with a regex');e=String(e);var n=t.length,r=arguments.length>1?arguments[1]:void 0,i="undefined"==typeof r?n:S.ToInteger(r),o=Math.min(Math.max(i,0),n);return t.slice(o-e.length,o)===e},includes:function(e){var t=arguments.length>1?arguments[1]:void 0;return h(this,e,t)!==-1},codePointAt:function(e){var t=String(S.CheckObjectCoercible(this)),n=S.ToInteger(e),r=t.length;if(n>=0&&n<r){var i=t.charCodeAt(n),o=n+1===r;if(i<55296||i>56319||o)return i;var a=t.charCodeAt(n+1);return a<56320||a>57343?i:1024*(i-55296)+(a-56320)+65536}}};y(String.prototype,A);var T=1!=="".trim().length;if(T){delete String.prototype.trim;var C=["\t\n\x0B\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),M=new RegExp("(^["+C+"]+)|(["+C+"]+$)","g");y(String.prototype,{trim:function(){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(M,"")}})}var O=function(e){this._s=String(S.CheckObjectCoercible(e)),this._i=0};O.prototype.next=function(){var e=this._s,t=this._i;if("undefined"==typeof e||t>=e.length)return this._s=void 0,{value:void 0,done:!0};var n,r,i=e.charCodeAt(t);return i<55296||i>56319||t+1===e.length?r=1:(n=e.charCodeAt(t+1),r=n<56320||n>57343?1:2),this._i=t+r,{value:e.substr(t,r),done:!1}},x(O.prototype),x(String.prototype,function(){return new O(this)}),u||y(String.prototype,{startsWith:A.startsWith,endsWith:A.endsWith});var I={from:function(e){var t=arguments.length>1?arguments[1]:void 0,n=S.ToObject(e,"bad iterable");if("undefined"!=typeof t&&!S.IsCallable(t))throw new TypeError("Array.from: when provided, the second argument must be a function");var r,i,o,a,s=arguments.length>2,c=s?arguments[2]:void 0,l=S.IsIterable(n);if(l){o=0,i=S.IsCallable(this)?Object(new this):[];var u,h=l?S.GetIterator(n):null;do u=S.IteratorNext(h),u.done||(a=u.value,t?i[o]=s?t.call(c,a,o):t(a,o):i[o]=a,o+=1);while(!u.done);r=o}else for(r=S.ToLength(n.length),i=S.IsCallable(this)?Object(new this(r)):new Array(r),o=0;o<r;++o)a=n[o],t?i[o]=s?t.call(c,a,o):t(a,o):i[o]=a;return i.length=r,i},of:function(){return Array.from(arguments)}};y(Array,I);var F=function(){try{return 0===Array.from({length:-1}).length}catch(e){return!1}};F()||v(Array,"from",I.from,!0),t=function(e,t){this.i=0,this.array=e,this.kind=t},y(t.prototype,{next:function(){var e=this.i,n=this.array;if(!(this instanceof t))throw new TypeError("Not an ArrayIterator");if("undefined"!=typeof n)for(var r=S.ToLength(n.length);e<r;e++){var i,o=this.kind;return"key"===o?i=e:"value"===o?i=n[e]:"entry"===o&&(i=[e,n[e]]),this.i=e+1,{value:i,done:!1}}return this.array=void 0,{value:void 0,done:!0}}}),x(t.prototype);var D={copyWithin:function(e,t){var n=arguments[2],r=S.ToObject(this),i=S.ToLength(r.length);e=S.ToInteger(e),t=S.ToInteger(t);var o=e<0?Math.max(i+e,0):Math.min(e,i),a=t<0?Math.max(i+t,0):Math.min(t,i);n="undefined"==typeof n?i:S.ToInteger(n);var s=n<0?Math.max(i+n,0):Math.min(n,i),c=Math.min(s-a,i-o),l=1;for(a<o&&o<a+c&&(l=-1,a+=c-1,o+=c-1);c>0;)f(r,a)?r[o]=r[a]:delete r[a],a+=l,o+=l,c-=1;return r},fill:function(e){var t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=S.ToObject(this),i=S.ToLength(r.length);t=S.ToInteger("undefined"==typeof t?0:t),n=S.ToInteger("undefined"==typeof n?i:n);for(var o=t<0?Math.max(i+t,0):Math.min(t,i),a=n<0?i+n:n,s=o;s<i&&s<a;++s)r[s]=e;return r},find:function(e){var t=S.ToObject(this),n=S.ToLength(t.length);if(!S.IsCallable(e))throw new TypeError("Array#find: predicate must be a function");for(var r,i=arguments.length>1?arguments[1]:null,o=0;o<n;o++)if(r=t[o],i){if(e.call(i,r,o,t))return r}else if(e(r,o,t))return r},findIndex:function(e){var t=S.ToObject(this),n=S.ToLength(t.length);if(!S.IsCallable(e))throw new TypeError("Array#findIndex: predicate must be a function");for(var r=arguments.length>1?arguments[1]:null,i=0;i<n;i++)if(r){if(e.call(r,t[i],i,t))return i}else if(e(t[i],i,t))return i;return-1},keys:function(){return new t(this,"key")},values:function(){return new t(this,"value")},entries:function(){return new t(this,"entry")}};Array.prototype.keys&&!S.IsCallable([1].keys().next)&&delete Array.prototype.keys,Array.prototype.entries&&!S.IsCallable([1].entries().next)&&delete Array.prototype.entries,Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[_]&&(y(Array.prototype,{values:Array.prototype[_]}),g.symbol(m.unscopables)&&(Array.prototype[m.unscopables].values=!0)),y(Array.prototype,D),x(Array.prototype,function(){return this.values()}),Object.getPrototypeOf&&x(Object.getPrototypeOf([].values()));var L=Math.pow(2,53)-1;y(Number,{MAX_SAFE_INTEGER:L,MIN_SAFE_INTEGER:-L,EPSILON:2.220446049250313e-16,parseInt:s.parseInt,parseFloat:s.parseFloat,isFinite:function(e){return"number"==typeof e&&c(e)},isInteger:function(e){return Number.isFinite(e)&&S.ToInteger(e)===e},isSafeInteger:function(e){return Number.isInteger(e)&&Math.abs(e)<=Number.MAX_SAFE_INTEGER},isNaN:function(e){return e!==e}}),[,1].find(function(e,t){return 0===t})||v(Array.prototype,"find",D.find,!0),0!==[,1].findIndex(function(e,t){return 0===t})&&v(Array.prototype,"findIndex",D.findIndex,!0),l&&y(Object,{assign:function(e,t){if(!S.TypeIsObject(e))throw new TypeError("target must be an object");return Array.prototype.reduce.call(arguments,function(e,t){return Object.keys(Object(t)).reduce(function(e,n){return e[n]=t[n],e},e)})},is:function(e,t){return S.SameValue(e,t)},setPrototypeOf:function(e,t){var n,r=function(e,t){if(!S.TypeIsObject(e))throw new TypeError("cannot set prototype on a non-object");if(null!==t&&!S.TypeIsObject(t))throw new TypeError("can only set prototype to an object or null"+t)},i=function(e,t){return r(e,t),n.call(e,t),e};try{n=e.getOwnPropertyDescriptor(e.prototype,t).set,n.call({},null)}catch(o){if(e.prototype!=={}[t])return;n=function(e){this[t]=e},i.polyfill=i(i({},null),e.prototype)instanceof e}return i}(Object,"__proto__")}),Object.setPrototypeOf&&Object.getPrototypeOf&&null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&&null===Object.getPrototypeOf(Object.create(null))&&!function(){var e=Object.create(null),t=Object.getPrototypeOf,n=Object.setPrototypeOf;Object.getPrototypeOf=function(n){var r=t(n);return r===e?null:r},Object.setPrototypeOf=function(t,r){return null===r&&(r=e),n(t,r)},Object.setPrototypeOf.polyfill=!1}();try{Object.keys("foo")}catch(R){var N=Object.keys;Object.keys=function(e){return N(S.ToObject(e))}}if(!RegExp.prototype.flags&&l){var U=function(){if(!S.TypeIsObject(this))throw new TypeError("Method called on incompatible type: must be an object.");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e};b.getter(RegExp.prototype,"flags",U)}var $=function(){try{return"/a/i"===String(new RegExp(/a/g,"i"))}catch(e){return!1}}();if(!$&&l){var z=RegExp,B=function ee(e,t){return g.regex(e)&&g.string(t)?new ee(e.source,t):new z(e,t)};v(B,"toString",z.toString.bind(z),!0),Object.setPrototypeOf&&Object.setPrototypeOf(z,B),Object.getOwnPropertyNames(z).forEach(function(e){"$input"!==e&&(e in p||b.proxy(z,e,B))}),B.prototype=z.prototype,b.redefine(z.prototype,"constructor",B),RegExp=B,b.redefine(s,"RegExp",B)}var q={acosh:function(e){return e=Number(e),Number.isNaN(e)||e<1?NaN:1===e?0:e===1/0?e:Math.log(e+Math.sqrt(e*e-1))},asinh:function(e){return e=Number(e),0!==e&&c(e)?e<0?-Math.asinh(-e):Math.log(e+Math.sqrt(e*e+1)):e},atanh:function(e){return e=Number(e),Number.isNaN(e)||e<-1||e>1?NaN:e===-1?-(1/0):1===e?1/0:0===e?e:.5*Math.log((1+e)/(1-e))},cbrt:function(e){if(e=Number(e),0===e)return e;var t,n=e<0;return n&&(e=-e),t=Math.pow(e,1/3),n?-t:t},clz32:function(e){e=Number(e);var t=S.ToUint32(e);return 0===t?32:32-t.toString(2).length},cosh:function(e){return e=Number(e),0===e?1:Number.isNaN(e)?NaN:c(e)?(e<0&&(e=-e),e>21?Math.exp(e)/2:(Math.exp(e)+Math.exp(-e))/2):1/0},expm1:function(e){return e=Number(e),e===-(1/0)?-1:c(e)&&0!==e?Math.exp(e)-1:e},hypot:function(e,t){var n=!1,r=!0,i=!1,o=[];if(Array.prototype.every.call(arguments,function(e){var t=Number(e);return Number.isNaN(t)?n=!0:t===1/0||t===-(1/0)?i=!0:0!==t&&(r=!1),!i&&(n||o.push(Math.abs(t)),!0)}),i)return 1/0;if(n)return NaN;if(r)return 0;o.sort(function(e,t){return t-e});var a=o[0],s=o.map(function(e){return e/a}),c=s.reduce(function(e,t){return e+t*t},0);return a*Math.sqrt(c)},log2:function(e){return Math.log(e)*Math.LOG2E},log10:function(e){return Math.log(e)*Math.LOG10E},log1p:function(e){if(e=Number(e),e<-1||Number.isNaN(e))return NaN;if(0===e||e===1/0)return e;if(e===-1)return-(1/0);var t=0,n=50;if(e<0||e>1)return Math.log(1+e);for(var r=1;r<n;r++)r%2===0?t-=Math.pow(e,r)/r:t+=Math.pow(e,r)/r;return t},sign:function(e){var t=+e;return 0===t?t:Number.isNaN(t)?t:t<0?-1:1},sinh:function(e){return e=Number(e),c(e)&&0!==e?(Math.exp(e)-Math.exp(-e))/2:e},tanh:function(e){return e=Number(e),Number.isNaN(e)||0===e?e:e===1/0?1:e===-(1/0)?-1:(Math.exp(e)-Math.exp(-e))/(Math.exp(e)+Math.exp(-e))},trunc:function(e){var t=Number(e);return t<0?-Math.floor(-t):Math.floor(t)},imul:function(e,t){e=S.ToUint32(e),t=S.ToUint32(t);var n=e>>>16&65535,r=65535&e,i=t>>>16&65535,o=65535&t;return r*o+(n*o+r*i<<16>>>0)|0},fround:function(e){if(0===e||e===1/0||e===-(1/0)||Number.isNaN(e))return e;var t=Number(e);return P.toFloat32(t)}};y(Math,q),Math.imul(4294967295,5)!==-5&&(Math.imul=q.imul);var V=function(){var t,n;S.IsPromise=function(e){return!!S.TypeIsObject(e)&&(!!e._promiseConstructor&&"undefined"!=typeof e._status)};var r,i=function(e){if(!S.IsCallable(e))throw new TypeError("bad promise constructor");var t=this,n=function(e,n){t.resolve=e,t.reject=n};if(t.promise=S.Construct(e,[n]),!t.promise._es6construct)throw new TypeError("bad promise constructor");if(!S.IsCallable(t.resolve)||!S.IsCallable(t.reject))throw new TypeError("bad promise constructor")},o=s.setTimeout;"undefined"!=typeof window&&S.IsCallable(window.postMessage)&&(r=function(){var e=[],t="zero-timeout-message",n=function(n){e.push(n),window.postMessage(t,"*")},r=function(n){if(n.source===window&&n.data===t){if(n.stopPropagation(),0===e.length)return;var r=e.shift();r()}};return window.addEventListener("message",r,!0),n});var a=function(){var e=s.Promise;return e&&e.resolve&&function(t){return e.resolve().then(t)}},c=S.IsCallable(s.setImmediate)?s.setImmediate.bind(s):"object"==typeof e&&e.nextTick?e.nextTick:a()||(S.IsCallable(r)?r():function(e){o(e,0)}),l=function(e,t){if(!S.TypeIsObject(e))return!1;var n=t.resolve,r=t.reject;try{var i=e.then;if(!S.IsCallable(i))return!1;i.call(e,n,r)}catch(o){r(o)}return!0},u=function(e,t){e.forEach(function(e){c(function(){var n=e.handler,r=e.capability,i=r.resolve,o=r.reject;try{var a=n(t);if(a===r.promise)throw new TypeError("self resolution");var s=l(a,r);s||i(a)}catch(c){o(c)}})})},h=function(e,t,n){return function(r){if(r===e)return n(new TypeError("self resolution"));var o=e._promiseConstructor,a=new i(o),s=l(r,a);return s?a.promise.then(t,n):t(r)}};t=function(e){var t=this;if(t=j(t),!t._promiseConstructor)throw new TypeError("bad promise");if("undefined"!=typeof t._status)throw new TypeError("promise already initialized");if(!S.IsCallable(e))throw new TypeError("not a valid resolver");t._status="unresolved",t._resolveReactions=[],t._rejectReactions=[];var n=function(e){if("unresolved"===t._status){var n=t._resolveReactions;t._result=e,t._resolveReactions=void 0,t._rejectReactions=void 0,t._status="has-resolution",u(n,e)}},r=function(e){if("unresolved"===t._status){var n=t._rejectReactions;t._result=e,t._resolveReactions=void 0,t._rejectReactions=void 0,t._status="has-rejection",u(n,e)}};try{e(n,r)}catch(i){r(i)}return t},n=t.prototype;var d=function(e,t,n,r){var i=!1;return function(o){if(!i&&(i=!0,t[e]=o,0===--r.count)){var a=n.resolve;a(t)}}};return y(t,{"@@create":function(e){var t=this,r=t.prototype||n;return e=e||w(r),y(e,{_status:void 0,_result:void 0,_resolveReactions:void 0,_rejectReactions:void 0,_promiseConstructor:void 0}),e._promiseConstructor=t,e},all:function(e){var t=this,n=new i(t),r=n.resolve,o=n.reject;try{if(!S.IsIterable(e))throw new TypeError("bad iterable");for(var a=S.GetIterator(e),s=[],c={count:1},l=0;;l++){var u=S.IteratorNext(a);if(u.done)break;var h=t.resolve(u.value),f=d(l,s,n,c);c.count++,h.then(f,n.reject)}0===--c.count&&r(s)}catch(p){o(p)}return n.promise},race:function(e){var t=this,n=new i(t),r=n.resolve,o=n.reject;try{if(!S.IsIterable(e))throw new TypeError("bad iterable");for(var a=S.GetIterator(e);;){var s=S.IteratorNext(a);if(s.done)break;var c=t.resolve(s.value);c.then(r,o)}}catch(l){o(l)}return n.promise},reject:function(e){var t=this,n=new i(t),r=n.reject;return r(e),n.promise},resolve:function(e){var t=this;if(S.IsPromise(e)){var n=e._promiseConstructor;if(n===t)return e}var r=new i(t),o=r.resolve;return o(e),r.promise}}),y(n,{"catch":function(e){return this.then(void 0,e)},then:function(e,t){var n=this;if(!S.IsPromise(n))throw new TypeError("not a promise");var r=this.constructor,o=new i(r);S.IsCallable(t)||(t=function(e){throw e}),S.IsCallable(e)||(e=function(e){return e});var a=h(n,e,t),s={capability:o,handler:a},c={capability:o,handler:t};switch(n._status){case"unresolved":n._resolveReactions.push(s),n._rejectReactions.push(c);break;case"has-resolution":u([s],n._result);break;case"has-rejection":u([c],n._result);break;default:throw new TypeError("unexpected")}return o.promise}}),t}();s.Promise&&(delete s.Promise.accept,delete s.Promise.defer,delete s.Promise.prototype.chain),y(s,{Promise:V});var H=r(s.Promise,function(e){return e.resolve(42)instanceof e}),W=function(){try{return s.Promise.reject(42).then(null,5).then(null,p),!0}catch(e){return!1}}(),G=function(){try{Promise.call(3,p)}catch(e){return!0}return!1}();H&&W&&G||(Promise=V,v(s,"Promise",V,!0));var Y=function(e){var t=Object.keys(e.reduce(function(e,t){return e[t]=!0,e},{}));return e.join(":")===t.join(":")},K=Y(["z","a","bb"]),X=Y(["z",1,"a","3",2]);if(l){var Q=function(e){if(!K)return null;var t=typeof e;return"string"===t?"$"+e:"number"===t?X?e:"n"+e:null},Z=function(){return Object.create?Object.create(null):{}},J={Map:function(){function e(e,t){this.key=e,this.value=t,this.next=null,this.prev=null}function t(e,t){this.head=e._head,this.i=this.head,this.kind=t}function n(t){var n=this;if(!S.TypeIsObject(n))throw new TypeError("Map does not accept arguments when called as a function");if(n=j(n),!n._es6map)throw new TypeError("bad map");var r=new e(null,null);if(r.next=r.prev=r,y(n,{_head:r,_storage:Z(),_size:0}),"undefined"!=typeof t&&null!==t){var i=S.GetIterator(t),o=n.set;if(!S.IsCallable(o))throw new TypeError("bad map");for(;;){var a=S.IteratorNext(i);if(a.done)break;var s=a.value;if(!S.TypeIsObject(s))throw new TypeError("expected iterable of pairs");o.call(n,s[0],s[1])}}return n}var r={};e.prototype.isRemoved=function(){return this.key===r},t.prototype={next:function(){var e,t=this.i,n=this.kind,r=this.head;if("undefined"==typeof this.i)return{value:void 0,done:!0};for(;t.isRemoved()&&t!==r;)t=t.prev;for(;t.next!==r;)if(t=t.next,!t.isRemoved())return e="key"===n?t.key:"value"===n?t.value:[t.key,t.value],this.i=t,{value:e,done:!1};return this.i=void 0,{value:void 0,done:!0}}},x(t.prototype);var i=n.prototype;return y(n,{"@@create":function(e){var t=this,n=t.prototype||i;return e=e||w(n),y(e,{_es6map:!0}),e}}),b.getter(n.prototype,"size",function(){if("undefined"==typeof this._size)throw new TypeError("size method called on incompatible Map");return this._size}),y(n.prototype,{get:function(e){var t=Q(e);if(null!==t){var n=this._storage[t];return n?n.value:void 0}for(var r=this._head,i=r;(i=i.next)!==r;)if(S.SameValueZero(i.key,e))return i.value},has:function(e){var t=Q(e);if(null!==t)return"undefined"!=typeof this._storage[t];for(var n=this._head,r=n;(r=r.next)!==n;)if(S.SameValueZero(r.key,e))return!0;return!1},set:function(t,n){var r,i=this._head,o=i,a=Q(t);if(null!==a){if("undefined"!=typeof this._storage[a])return this._storage[a].value=n,this;r=this._storage[a]=new e(t,n),o=i.prev}for(;(o=o.next)!==i;)if(S.SameValueZero(o.key,t))return o.value=n,this;return r=r||new e(t,n),S.SameValue(-0,t)&&(r.key=0),r.next=this._head,r.prev=this._head.prev,r.prev.next=r,r.next.prev=r,this._size+=1,this},"delete":function(e){var t=this._head,n=t,i=Q(e);if(null!==i){if("undefined"==typeof this._storage[i])return!1;n=this._storage[i].prev,delete this._storage[i]}for(;(n=n.next)!==t;)if(S.SameValueZero(n.key,e))return n.key=n.value=r,n.prev.next=n.next,n.next.prev=n.prev,this._size-=1,!0;return!1},clear:function(){this._size=0,this._storage=Z();for(var e=this._head,t=e,n=t.next;(t=n)!==e;)t.key=t.value=r,n=t.next,t.next=t.prev=e;e.next=e.prev=e},keys:function(){return new t(this,"key")},values:function(){return new t(this,"value")},entries:function(){return new t(this,"key+value")},forEach:function(e){for(var t=arguments.length>1?arguments[1]:null,n=this.entries(),r=n.next();!r.done;r=n.next())t?e.call(t,r.value[1],r.value[0],this):e(r.value[1],r.value[0],this)}}),x(n.prototype,function(){return this.entries()}),n}(),Set:function(){var e=function(e){var t=this;if(!S.TypeIsObject(t))throw new TypeError("Set does not accept arguments when called as a function");if(t=j(t),!t._es6set)throw new TypeError("bad set");if(y(t,{"[[SetData]]":null,_storage:Z()}),"undefined"!=typeof e&&null!==e){var n=S.GetIterator(e),r=t.add;if(!S.IsCallable(r))throw new TypeError("bad set");for(;;){var i=S.IteratorNext(n);if(i.done)break;var o=i.value;r.call(t,o)}}return t},t=e.prototype;y(e,{"@@create":function(e){var n=this,r=n.prototype||t;return e=e||w(r),y(e,{_es6set:!0}),e}});var n=function(e){if(!e["[[SetData]]"]){var t=e["[[SetData]]"]=new J.Map;Object.keys(e._storage).forEach(function(e){e=36===e.charCodeAt(0)?e.slice(1):"n"===e.charAt(0)?+e.slice(1):+e,t.set(e,e)}),e._storage=null}};return b.getter(e.prototype,"size",function(){if("undefined"==typeof this._storage)throw new TypeError("size method called on incompatible Set");return n(this),this["[[SetData]]"].size}),y(e.prototype,{has:function(e){var t;return this._storage&&null!==(t=Q(e))?!!this._storage[t]:(n(this),this["[[SetData]]"].has(e))},add:function(e){var t;return this._storage&&null!==(t=Q(e))?(this._storage[t]=!0,this):(n(this),this["[[SetData]]"].set(e,e),this)},"delete":function(e){var t;if(this._storage&&null!==(t=Q(e))){var r=f(this._storage,t);return delete this._storage[t]&&r}return n(this),this["[[SetData]]"]["delete"](e)},clear:function(){this._storage?this._storage=Z():this["[[SetData]]"].clear()},values:function(){return n(this),this["[[SetData]]"].values()},entries:function(){return n(this),this["[[SetData]]"].entries()},forEach:function(e){var t=arguments.length>1?arguments[1]:null,r=this;n(r),this["[[SetData]]"].forEach(function(n,i){t?e.call(t,i,i,r):e(i,i,r)})}}),v(e,"keys",e.values,!0),x(e.prototype,function(){return this.values()}),e}()};y(s,J),(s.Map||s.Set)&&("function"!=typeof s.Map.prototype.clear||0!==(new s.Set).size||0!==(new s.Map).size||"function"!=typeof s.Map.prototype.keys||"function"!=typeof s.Set.prototype.keys||"function"!=typeof s.Map.prototype.forEach||"function"!=typeof s.Set.prototype.forEach||n(s.Map)||n(s.Set)||!r(s.Map,function(e){var t=new e([]);return t.set(42,42),t instanceof e}))&&(s.Map=J.Map,s.Set=J.Set),s.Set.prototype.keys!==s.Set.prototype.values&&v(s.Set.prototype,"keys",s.Set.prototype.values,!0),x(Object.getPrototypeOf((new s.Map).keys())),x(Object.getPrototypeOf((new s.Set).keys()))}return s})}).call(this,e("_process"))},{_process:352}],245:[function(e,t,n){function r(e,t,n,r){if(i.isBuffer(e)||(e=i.from(e,"binary")),t&&(i.isBuffer(t)||(t=i.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=n/8,s=i.alloc(a),c=i.alloc(r||0),l=i.alloc(0);a>0||r>0;){var u=new o;u.update(l),u.update(e),t&&u.update(t),l=u.digest();var h=0;if(a>0){var d=s.length-a;h=Math.min(a,l.length),l.copy(s,d,0,h),a-=h}if(h<l.length&&r>0){var f=c.length-r,p=Math.min(r,l.length-h);l.copy(c,f,h,h+p),r-=p}}return l.fill(0),{key:s,iv:c}}var i=e("safe-buffer").Buffer,o=e("md5.js");t.exports=r},{"md5.js":314,"safe-buffer":383}],246:[function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},a=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t=r.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!n)return!1;var o;for(o in e);return"undefined"==typeof o||r.call(e,o)};t.exports=function s(){var e,t,n,r,i,c,l=arguments[0],u=1,h=arguments.length,d=!1;for("boolean"==typeof l&&(d=l,l=arguments[1]||{},u=2),(null==l||"object"!=typeof l&&"function"!=typeof l)&&(l={});u<h;++u)if(e=arguments[u],null!=e)for(t in e)n=l[t],r=e[t],l!==r&&(d&&r&&(a(r)||(i=o(r)))?(i?(i=!1,c=n&&o(n)?n:[]):c=n&&a(n)?n:{},l[t]=s(d,c,r)):"undefined"!=typeof r&&(l[t]=r));return l}},{}],247:[function(e,t,n){(function(t){function r(e){var t,n,r,i,o,u,h,d,f,p=["([^%]*)","%","(['\\-+ #0]*?)","([1-9]\\d*)?","(\\.([1-9]\\d*))?","[lhjztL]*?","([diouxXfFeEgGaAcCsSp%jr])"].join(""),m=new RegExp(p),g=Array.prototype.slice.call(arguments,1),v="",b=1;for(c.equal("string",typeof e);null!==(f=m.exec(e));)if(v+=f[1],e=e.substring(f[0].length),t=f[2]||"",n=f[3]||0,r=f[4]||"",i=f[6],o=!1,h=!1,u=" ","%"!=i){if(0===g.length)throw new Error("too few args to sprintf");if(d=g.shift(),b++,t.match(/[\' #]/))throw new Error("unsupported flags: "+t);if(r.length>0)throw new Error("non-zero precision not supported");switch(t.match(/-/)&&(o=!0),t.match(/0/)&&(u="0"),t.match(/\+/)&&(h=!0),i){case"s":if(void 0===d||null===d)throw new Error("argument "+b+": attempted to print undefined or null as a string");v+=a(u,n,o,d.toString());break;case"d":d=Math.floor(d);case"f":h=h&&d>0?"+":"",v+=h+a(u,n,o,d.toString());break;case"x":v+=a(u,n,o,d.toString(16));break;case"j":0===n&&(n=10),v+=l.inspect(d,!1,n);break;case"r":v+=s(d);break;default:throw new Error("unsupported conversion: "+i)}}else v+="%";return v+=e}function i(){var e=Array.prototype.slice.call(arguments);e.unshift(t.stdout),o.apply(null,e)}function o(e){var t=Array.prototype.slice.call(arguments,1);return e.write(r.apply(this,t))}function a(e,t,n,r){for(var i=r;i.length<t;)n?i+=e:i=e+i;return i}function s(e){var t;if(!(e instanceof Error))throw new Error(r("invalid type for %%r: %j",e));if(t="EXCEPTION: "+e.constructor.name+": "+e.stack,e.cause&&"function"==typeof e.cause){var n=e.cause();n&&(t+="\nCaused by: "+s(n))}return t}var c=e("assert"),l=e("util");n.sprintf=r,n.printf=i,n.fprintf=o}).call(this,e("_process"))},{_process:352,assert:79,util:451}],248:[function(e,t,n){"use strict";t.exports=function r(e,t){if(e===t)return!0;var n,i=Array.isArray(e),o=Array.isArray(t);if(i&&o){if(e.length!=t.length)return!1;for(n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1;return!0}if(i!=o)return!1;if(e&&t&&"object"==typeof e&&"object"==typeof t){var a=Object.keys(e);if(a.length!==Object.keys(t).length)return!1;var s=e instanceof Date,c=t instanceof Date;if(s&&c)return e.getTime()==t.getTime();if(s!=c)return!1;var l=e instanceof RegExp,u=t instanceof RegExp;if(l&&u)return e.toString()==t.toString();if(l!=u)return!1;for(n=0;n<a.length;n++)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;for(n=0;n<a.length;n++)if(!r(e[a[n]],t[a[n]]))return!1;return!0}return!1}},{}],249:[function(e,t,n){function r(e,t){function n(e,s,c){c=c?c:1,Object.keys(e).forEach(function(l){var u=e[l],h=t.safe&&Array.isArray(u),d=Object.prototype.toString.call(u),f=o(u),p="[object Object]"===d||"[object Array]"===d,m=s?s+r+l:l;return!h&&!f&&p&&Object.keys(u).length&&(!t.maxDepth||c<i)?n(u,m,c+1):void(a[m]=u)})}t=t||{};var r=t.delimiter||".",i=t.maxDepth,a={};return n(e),a}function i(e,t){function n(e){var t=Number(e);return isNaN(t)||e.indexOf(".")!==-1?e:t}t=t||{};var r=t.delimiter||".",a=t.overwrite||!1,s={},c=o(e);return c||"[object Object]"!==Object.prototype.toString.call(e)?e:(Object.keys(e).forEach(function(o){for(var c=o.split(r),l=n(c.shift()),u=n(c[0]),h=s;void 0!==u;){var d=Object.prototype.toString.call(h[l]),f="[object Object]"===d||"[object Array]"===d;if(!a&&!f&&"undefined"!=typeof h[l])return;(a&&!f||!a&&null==h[l])&&(h[l]="number"!=typeof u||t.object?{}:[]),h=h[l],c.length>0&&(l=n(c.shift()),u=n(c[0]))}h[l]=i(e[o],t)}),s)}var o=e("is-buffer");t.exports=r;r.flatten=r,r.unflatten=i},{"is-buffer":300}],250:[function(e,t,n){function r(e,t){var n="";return n="string"==typeof e?e+":"+t:e.host+":"+e.port+":"+(e.localAddress?e.localAddress+":":":")}function i(e){var t=this;t.options=e||{},t.requests={},t.sockets={},t.freeSockets={},t.maxSockets=t.options.maxSockets||c.defaultMaxSockets,t.minSockets=t.options.minSockets||i.defaultMinSockets,t.on("free",function(e,n,i){var o=r(n,i);if(t.requests[o]&&t.requests[o].length)t.requests[o].shift().onSocket(e);else if(t.sockets[o].length<t.minSockets){t.freeSockets[o]||(t.freeSockets[o]=[]),t.freeSockets[o].push(e);var a=function(){e.destroy()};e._onIdleError=a,e.on("error",a)}else e.destroy()})}function o(e){i.call(this,e)}function a(e,t,n){return n="object"==typeof e?e:"object"==typeof t?t:"object"==typeof n?n:{},"number"==typeof e&&(n.port=e),"string"==typeof t&&(n.host=t),u.connect(n);
}t.exports=i,i.SSL=o;var s=e("util"),c=e("http").Agent,l=e("net"),u=e("tls"),h=e("https").Agent;s.inherits(i,c),i.defaultMinSockets=5,i.prototype.createConnection=l.createConnection,i.prototype.addRequestNoreuse=c.prototype.addRequest,i.prototype.addRequest=function(e,t,n){var i=r(t,n);if("string"!=typeof t){var o=t;n=o.port,t=o.host}if(this.freeSockets[i]&&this.freeSockets[i].length>0&&!e.useChunkedEncodingByDefault){var a=this.freeSockets[i].pop();a.removeListener("error",a._onIdleError),delete a._onIdleError,e._reusedSocket=!0,e.onSocket(a)}else this.addRequestNoreuse(e,t,n)},i.prototype.removeSocket=function(e,t,n,r){if(this.sockets[t]){var i=this.sockets[t].indexOf(e);i!==-1&&this.sockets[t].splice(i,1)}else this.sockets[t]&&0===this.sockets[t].length&&(delete this.sockets[t],delete this.requests[t]);if(this.freeSockets[t]){var i=this.freeSockets[t].indexOf(e);i!==-1&&(this.freeSockets[t].splice(i,1),0===this.freeSockets[t].length&&delete this.freeSockets[t])}this.requests[t]&&this.requests[t].length&&this.createSocket(t,n,r).emit("free")},s.inherits(o,i),o.prototype.createConnection=a,o.prototype.addRequestNoreuse=h.prototype.addRequest},{http:288,https:296,net:129,tls:129,util:451}],251:[function(e,t,n){t.exports="object"==typeof self?self.FormData:window.FormData},{}],252:[function(e,t,n){t.exports={$id:"afterRequest.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",optional:!0,required:["lastAccess","eTag","hitCount"],properties:{expires:{type:"string",pattern:"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))?"},lastAccess:{type:"string",pattern:"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))?"},eTag:{type:"string"},hitCount:{type:"integer"},comment:{type:"string"}}}},{}],253:[function(e,t,n){t.exports={$id:"beforeRequest.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",optional:!0,required:["lastAccess","eTag","hitCount"],properties:{expires:{type:"string",pattern:"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))?"},lastAccess:{type:"string",pattern:"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))?"},eTag:{type:"string"},hitCount:{type:"integer"},comment:{type:"string"}}}},{}],254:[function(e,t,n){t.exports={$id:"browser.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",required:["name","version"],properties:{name:{type:"string"},version:{type:"string"},comment:{type:"string"}}}},{}],255:[function(e,t,n){t.exports={$id:"cache.json#",$schema:"http://json-schema.org/draft-06/schema#",properties:{beforeRequest:{oneOf:[{type:"null"},{$ref:"beforeRequest.json#"}]},afterRequest:{oneOf:[{type:"null"},{$ref:"afterRequest.json#"}]},comment:{type:"string"}}}},{}],256:[function(e,t,n){t.exports={$id:"content.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",required:["size","mimeType"],properties:{size:{type:"integer"},compression:{type:"integer"},mimeType:{type:"string"},text:{type:"string"},encoding:{type:"string"},comment:{type:"string"}}}},{}],257:[function(e,t,n){t.exports={$id:"cookie.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",required:["name","value"],properties:{name:{type:"string"},value:{type:"string"},path:{type:"string"},domain:{type:"string"},expires:{type:["string","null"],format:"date-time"},httpOnly:{type:"boolean"},secure:{type:"boolean"},comment:{type:"string"}}}},{}],258:[function(e,t,n){t.exports={$id:"creator.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",required:["name","version"],properties:{name:{type:"string"},version:{type:"string"},comment:{type:"string"}}}},{}],259:[function(e,t,n){t.exports={$id:"entry.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",optional:!0,required:["startedDateTime","time","request","response","cache","timings"],properties:{pageref:{type:"string"},startedDateTime:{type:"string",format:"date-time",pattern:"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))"},time:{type:"number",min:0},request:{$ref:"request.json#"},response:{$ref:"response.json#"},cache:{$ref:"cache.json#"},timings:{$ref:"timings.json#"},serverIPAddress:{type:"string",oneOf:[{format:"ipv4"},{format:"ipv6"}]},connection:{type:"string"},comment:{type:"string"}}}},{}],260:[function(e,t,n){t.exports={$id:"har.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",required:["log"],properties:{log:{$ref:"log.json#"}}}},{}],261:[function(e,t,n){t.exports={$id:"header.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",required:["name","value"],properties:{name:{type:"string"},value:{type:"string"},comment:{type:"string"}}}},{}],262:[function(e,t,n){"use strict";t.exports={afterRequest:e("./afterRequest.json"),beforeRequest:e("./beforeRequest.json"),browser:e("./browser.json"),cache:e("./cache.json"),content:e("./content.json"),cookie:e("./cookie.json"),creator:e("./creator.json"),entry:e("./entry.json"),har:e("./har.json"),header:e("./header.json"),log:e("./log.json"),page:e("./page.json"),pageTimings:e("./pageTimings.json"),postData:e("./postData.json"),query:e("./query.json"),request:e("./request.json"),response:e("./response.json"),timings:e("./timings.json")}},{"./afterRequest.json":252,"./beforeRequest.json":253,"./browser.json":254,"./cache.json":255,"./content.json":256,"./cookie.json":257,"./creator.json":258,"./entry.json":259,"./har.json":260,"./header.json":261,"./log.json":263,"./page.json":264,"./pageTimings.json":265,"./postData.json":266,"./query.json":267,"./request.json":268,"./response.json":269,"./timings.json":270}],263:[function(e,t,n){t.exports={$id:"log.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",required:["version","creator","entries"],properties:{version:{type:"string"},creator:{$ref:"creator.json#"},browser:{$ref:"browser.json#"},pages:{type:"array",items:{$ref:"page.json#"}},entries:{type:"array",items:{$ref:"entry.json#"}},comment:{type:"string"}}}},{}],264:[function(e,t,n){t.exports={$id:"page.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",optional:!0,required:["startedDateTime","id","title","pageTimings"],properties:{startedDateTime:{type:"string",format:"date-time",pattern:"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))"},id:{type:"string",unique:!0},title:{type:"string"},pageTimings:{$ref:"pageTimings.json#"},comment:{type:"string"}}}},{}],265:[function(e,t,n){t.exports={$id:"pageTimings.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",properties:{onContentLoad:{type:"number",min:-1},onLoad:{type:"number",min:-1},comment:{type:"string"}}}},{}],266:[function(e,t,n){t.exports={$id:"postData.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",optional:!0,required:["mimeType"],properties:{mimeType:{type:"string"},text:{type:"string"},params:{type:"array",required:["name"],properties:{name:{type:"string"},value:{type:"string"},fileName:{type:"string"},contentType:{type:"string"},comment:{type:"string"}}},comment:{type:"string"}}}},{}],267:[function(e,t,n){t.exports={$id:"query.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",required:["name","value"],properties:{name:{type:"string"},value:{type:"string"},comment:{type:"string"}}}},{}],268:[function(e,t,n){t.exports={$id:"request.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",required:["method","url","httpVersion","cookies","headers","queryString","headersSize","bodySize"],properties:{method:{type:"string"},url:{type:"string",format:"uri"},httpVersion:{type:"string"},cookies:{type:"array",items:{$ref:"cookie.json#"}},headers:{type:"array",items:{$ref:"header.json#"}},queryString:{type:"array",items:{$ref:"query.json#"}},postData:{$ref:"postData.json#"},headersSize:{type:"integer"},bodySize:{type:"integer"},comment:{type:"string"}}}},{}],269:[function(e,t,n){t.exports={$id:"response.json#",$schema:"http://json-schema.org/draft-06/schema#",type:"object",required:["status","statusText","httpVersion","cookies","headers","content","redirectURL","headersSize","bodySize"],properties:{status:{type:"integer"},statusText:{type:"string"},httpVersion:{type:"string"},cookies:{type:"array",items:{$ref:"cookie.json#"}},headers:{type:"array",items:{$ref:"header.json#"}},content:{$ref:"content.json#"},redirectURL:{type:"string"},headersSize:{type:"integer"},bodySize:{type:"integer"},comment:{type:"string"}}}},{}],270:[function(e,t,n){t.exports={$id:"timings.json#",$schema:"http://json-schema.org/draft-06/schema#",required:["send","wait","receive"],properties:{dns:{type:"number",min:-1},connect:{type:"number",min:-1},blocked:{type:"number",min:-1},send:{type:"number",min:-1},wait:{type:"number",min:-1},receive:{type:"number",min:-1},ssl:{type:"number",min:-1},comment:{type:"string"}}}},{}],271:[function(e,t,n){function r(e){var t="validation failed";this.name="HARError",this.message=t,this.errors=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(t).stack}r.prototype=Error.prototype,t.exports=r},{}],272:[function(e,t,n){function r(e,t){t=t||{},i=i||new o({allErrors:!0,schemas:s});var n=i.getSchema(e+".json");return new Promise(function(e,r){var i=n(t);i?e(t):r(new a(n.errors))})}var i,o=e("ajv"),a=e("./error"),s=e("har-schema");n.afterRequest=function(e){return r("afterRequest",e)},n.beforeRequest=function(e){return r("beforeRequest",e)},n.browser=function(e){return r("browser",e)},n.cache=function(e){return r("cache",e)},n.content=function(e){return r("content",e)},n.cookie=function(e){return r("cookie",e)},n.creator=function(e){return r("creator",e)},n.entry=function(e){return r("entry",e)},n.har=function(e){return r("har",e)},n.header=function(e){return r("header",e)},n.log=function(e){return r("log",e)},n.page=function(e){return r("page",e)},n.pageTimings=function(e){return r("pageTimings",e)},n.postData=function(e){return r("postData",e)},n.query=function(e){return r("query",e)},n.request=function(e){return r("request",e)},n.response=function(e){return r("response",e)},n.timings=function(e){return r("timings",e)}},{"./error":271,ajv:8,"har-schema":262}],273:[function(e,t,n){(function(n){"use strict";function r(e){i.call(this),this._block=new n(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var i=e("stream").Transform,o=e("inherits");o(r,i),r.prototype._transform=function(e,t,r){var i=null;try{"buffer"!==t&&(e=new n(e,t)),this.update(e)}catch(o){i=o}r(i)},r.prototype._flush=function(e){var t=null;try{this.push(this._digest())}catch(n){t=n}e(t)},r.prototype.update=function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");n.isBuffer(e)||(e=new n(e,t||"binary"));for(var r=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)r[this._blockOffset++]=e[i++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,s=this._length[a]/4294967296|0,s>0&&(this._length[a]-=4294967296*s);return this},r.prototype._update=function(e){throw new Error("_update is not implemented")},r.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();return void 0!==e&&(t=t.toString(e)),t},r.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=r}).call(this,e("buffer").Buffer)},{buffer:131,inherits:299,stream:416}],274:[function(e,t,n){var r=n;r.utils=e("./hash/utils"),r.common=e("./hash/common"),r.sha=e("./hash/sha"),r.ripemd=e("./hash/ripemd"),r.hmac=e("./hash/hmac"),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},{"./hash/common":275,"./hash/hmac":276,"./hash/ripemd":277,"./hash/sha":278,"./hash/utils":285}],275:[function(e,t,n){"use strict";function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var i=e("./utils"),o=e("minimalistic-assert");n.BlockHash=r,r.prototype.update=function(e,t){if(e=i.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=i.join32(e,0,e.length-n,this.endian);for(var r=0;r<e.length;r+=this._delta32)this._update(e,r,r+this._delta32)}return this},r.prototype.digest=function(e){return this.update(this._pad()),o(null===this.pending),this._digest(e)},r.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=e>>>24&255,r[i++]=e>>>16&255,r[i++]=e>>>8&255,r[i++]=255&e}else for(r[i++]=255&e,r[i++]=e>>>8&255,r[i++]=e>>>16&255,r[i++]=e>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,o=8;o<this.padLength;o++)r[i++]=0;return r}},{"./utils":285,"minimalistic-assert":320}],276:[function(e,t,n){"use strict";function r(e,t,n){return this instanceof r?(this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,void this._init(i.toArray(t,n))):new r(e,t,n)}var i=e("./utils"),o=e("minimalistic-assert");t.exports=r,r.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),o(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},r.prototype.update=function(e,t){return this.inner.update(e,t),this},r.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},{"./utils":285,"minimalistic-assert":320}],277:[function(e,t,n){"use strict";function r(){return this instanceof r?(f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.endian="little")):new r}function i(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function o(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function a(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var s=e("./utils"),c=e("./common"),l=s.rotl32,u=s.sum32,h=s.sum32_3,d=s.sum32_4,f=c.BlockHash;s.inherits(r,f),n.ripemd160=r,r.blockSize=512,r.outSize=160,r.hmacStrength=192,r.padLength=64,r.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],s=this.h[2],c=this.h[3],f=this.h[4],b=n,y=r,w=s,_=c,x=f,k=0;k<80;k++){var S=u(l(d(n,i(k,r,s,c),e[p[k]+t],o(k)),g[k]),f);n=f,f=c,c=l(s,10),s=r,r=S,S=u(l(d(b,i(79-k,y,w,_),e[m[k]+t],a(k)),v[k]),x),b=x,x=_,_=l(w,10),w=y,y=S}S=h(this.h[1],s,_),this.h[1]=h(this.h[2],c,x),this.h[2]=h(this.h[3],f,b),this.h[3]=h(this.h[4],n,y),this.h[4]=h(this.h[0],r,w),this.h[0]=S},r.prototype._digest=function(e){return"hex"===e?s.toHex32(this.h,"little"):s.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":275,"./utils":285}],278:[function(e,t,n){"use strict";n.sha1=e("./sha/1"),n.sha224=e("./sha/224"),n.sha256=e("./sha/256"),n.sha384=e("./sha/384"),n.sha512=e("./sha/512")},{"./sha/1":279,"./sha/224":280,"./sha/256":281,"./sha/384":282,"./sha/512":283}],279:[function(e,t,n){"use strict";function r(){return this instanceof r?(h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.W=new Array(80))):new r}var i=e("../utils"),o=e("../common"),a=e("./common"),s=i.rotl32,c=i.sum32,l=i.sum32_5,u=a.ft_1,h=o.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];i.inherits(r,h),t.exports=r,r.blockSize=512,r.outSize=160,r.hmacStrength=80,r.padLength=64,r.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=s(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],o=this.h[1],a=this.h[2],h=this.h[3],f=this.h[4];for(r=0;r<n.length;r++){var p=~~(r/20),m=l(s(i,5),u(p,o,a,h),f,n[r],d[p]);f=h,h=a,a=s(o,30),o=i,i=m}this.h[0]=c(this.h[0],i),this.h[1]=c(this.h[1],o),this.h[2]=c(this.h[2],a),this.h[3]=c(this.h[3],h),this.h[4]=c(this.h[4],f)},r.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":275,"../utils":285,"./common":284}],280:[function(e,t,n){"use strict";function r(){return this instanceof r?(o.call(this),void(this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])):new r}var i=e("../utils"),o=e("./256");i.inherits(r,o),t.exports=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},{"../utils":285,"./256":281}],281:[function(e,t,n){"use strict";function r(){return this instanceof r?(v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,void(this.W=new Array(64))):new r}var i=e("../utils"),o=e("../common"),a=e("./common"),s=e("minimalistic-assert"),c=i.sum32,l=i.sum32_4,u=i.sum32_5,h=a.ch32,d=a.maj32,f=a.s0_256,p=a.s1_256,m=a.g0_256,g=a.g1_256,v=o.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];i.inherits(r,v),t.exports=r,r.blockSize=512,r.outSize=256,r.hmacStrength=192,r.padLength=64,r.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=l(g(n[r-2]),n[r-7],m(n[r-15]),n[r-16]);var i=this.h[0],o=this.h[1],a=this.h[2],v=this.h[3],b=this.h[4],y=this.h[5],w=this.h[6],_=this.h[7];for(s(this.k.length===n.length),r=0;r<n.length;r++){var x=u(_,p(b),h(b,y,w),this.k[r],n[r]),k=c(f(i),d(i,o,a));_=w,w=y,y=b,b=c(v,x),v=a,a=o,o=i,i=c(x,k)}this.h[0]=c(this.h[0],i),this.h[1]=c(this.h[1],o),this.h[2]=c(this.h[2],a),this.h[3]=c(this.h[3],v),this.h[4]=c(this.h[4],b),this.h[5]=c(this.h[5],y),this.h[6]=c(this.h[6],w),this.h[7]=c(this.h[7],_)},r.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":275,"../utils":285,"./common":284,"minimalistic-assert":320}],282:[function(e,t,n){"use strict";function r(){return this instanceof r?(o.call(this),void(this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428])):new r}var i=e("../utils"),o=e("./512");i.inherits(r,o),t.exports=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},{"../utils":285,"./512":283}],283:[function(e,t,n){"use strict";function r(){return this instanceof r?(C.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=M,void(this.W=new Array(160))):new r}function i(e,t,n,r,i){var o=e&n^~e&i;return o<0&&(o+=4294967296),o}function o(e,t,n,r,i,o){var a=t&r^~t&o;return a<0&&(a+=4294967296),a}function a(e,t,n,r,i){var o=e&n^e&i^n&i;return o<0&&(o+=4294967296),o}function s(e,t,n,r,i,o){var a=t&r^t&o^r&o;return a<0&&(a+=4294967296),a}function c(e,t){var n=y(e,t,28),r=y(t,e,2),i=y(t,e,7),o=n^r^i;return o<0&&(o+=4294967296),o}function l(e,t){var n=w(e,t,28),r=w(t,e,2),i=w(t,e,7),o=n^r^i;return o<0&&(o+=4294967296),o}function u(e,t){var n=y(e,t,14),r=y(e,t,18),i=y(t,e,9),o=n^r^i;return o<0&&(o+=4294967296),o}function h(e,t){var n=w(e,t,14),r=w(e,t,18),i=w(t,e,9),o=n^r^i;return o<0&&(o+=4294967296),o}function d(e,t){var n=y(e,t,1),r=y(e,t,8),i=_(e,t,7),o=n^r^i;return o<0&&(o+=4294967296),o}function f(e,t){var n=w(e,t,1),r=w(e,t,8),i=x(e,t,7),o=n^r^i;return o<0&&(o+=4294967296),o}function p(e,t){var n=y(e,t,19),r=y(t,e,29),i=_(e,t,6),o=n^r^i;return o<0&&(o+=4294967296),o}function m(e,t){var n=w(e,t,19),r=w(t,e,29),i=x(e,t,6),o=n^r^i;return o<0&&(o+=4294967296),o}var g=e("../utils"),v=e("../common"),b=e("minimalistic-assert"),y=g.rotr64_hi,w=g.rotr64_lo,_=g.shr64_hi,x=g.shr64_lo,k=g.sum64,S=g.sum64_hi,j=g.sum64_lo,P=g.sum64_4_hi,E=g.sum64_4_lo,A=g.sum64_5_hi,T=g.sum64_5_lo,C=v.BlockHash,M=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];g.inherits(r,C),t.exports=r,r.blockSize=1024,r.outSize=512,r.hmacStrength=192,r.padLength=128,r.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var i=p(n[r-4],n[r-3]),o=m(n[r-4],n[r-3]),a=n[r-14],s=n[r-13],c=d(n[r-30],n[r-29]),l=f(n[r-30],n[r-29]),u=n[r-32],h=n[r-31];n[r]=P(i,o,a,s,c,l,u,h),n[r+1]=E(i,o,a,s,c,l,u,h)}},r.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,r=this.h[0],d=this.h[1],f=this.h[2],p=this.h[3],m=this.h[4],g=this.h[5],v=this.h[6],y=this.h[7],w=this.h[8],_=this.h[9],x=this.h[10],P=this.h[11],E=this.h[12],C=this.h[13],M=this.h[14],O=this.h[15];b(this.k.length===n.length);for(var I=0;I<n.length;I+=2){var F=M,D=O,L=u(w,_),R=h(w,_),N=i(w,_,x,P,E,C),U=o(w,_,x,P,E,C),$=this.k[I],z=this.k[I+1],B=n[I],q=n[I+1],V=A(F,D,L,R,N,U,$,z,B,q),H=T(F,D,L,R,N,U,$,z,B,q);F=c(r,d),D=l(r,d),L=a(r,d,f,p,m,g),R=s(r,d,f,p,m,g);var W=S(F,D,L,R),G=j(F,D,L,R);M=E,O=C,E=x,C=P,x=w,P=_,w=S(v,y,V,H),_=j(y,y,V,H),v=m,y=g,m=f,g=p,f=r,p=d,r=S(V,H,W,G),d=j(V,H,W,G)}k(this.h,0,r,d),k(this.h,2,f,p),k(this.h,4,m,g),k(this.h,6,v,y),k(this.h,8,w,_),k(this.h,10,x,P),k(this.h,12,E,C),k(this.h,14,M,O)},r.prototype._digest=function(e){return"hex"===e?g.toHex32(this.h,"big"):g.split32(this.h,"big")}},{"../common":275,"../utils":285,"minimalistic-assert":320}],284:[function(e,t,n){"use strict";function r(e,t,n,r){return 0===e?i(t,n,r):1===e||3===e?a(t,n,r):2===e?o(t,n,r):void 0}function i(e,t,n){return e&t^~e&n}function o(e,t,n){return e&t^e&n^t&n}function a(e,t,n){return e^t^n}function s(e){return d(e,2)^d(e,13)^d(e,22)}function c(e){return d(e,6)^d(e,11)^d(e,25)}function l(e){return d(e,7)^d(e,18)^e>>>3}function u(e){return d(e,17)^d(e,19)^e>>>10}var h=e("../utils"),d=h.rotr32;n.ft_1=r,n.ch32=i,n.maj32=o,n.p32=a,n.s0_256=s,n.s1_256=c,n.g0_256=l,n.g1_256=u},{"../utils":285}],285:[function(e,t,n){"use strict";function r(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"==typeof e)if(t){if("hex"===t)for(e=e.replace(/[^a-z0-9]+/gi,""),e.length%2!==0&&(e="0"+e),r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16))}else for(var r=0;r<e.length;r++){var i=e.charCodeAt(r),o=i>>8,a=255&i;o?n.push(o,a):n.push(a)}else for(r=0;r<e.length;r++)n[r]=0|e[r];return n}function i(e){for(var t="",n=0;n<e.length;n++)t+=s(e[n].toString(16));return t}function o(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24;return t>>>0}function a(e,t){for(var n="",r=0;r<e.length;r++){var i=e[r];"little"===t&&(i=o(i)),n+=c(i.toString(16))}return n}function s(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}function l(e,t,n,r){var i=n-t;A(i%4===0);for(var o=new Array(i/4),a=0,s=t;a<o.length;a++,s+=4){var c;c="big"===r?e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3]:e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s],o[a]=c>>>0}return o}function u(e,t){for(var n=new Array(4*e.length),r=0,i=0;r<e.length;r++,i+=4){var o=e[r];"big"===t?(n[i]=o>>>24,n[i+1]=o>>>16&255,n[i+2]=o>>>8&255,n[i+3]=255&o):(n[i+3]=o>>>24,n[i+2]=o>>>16&255,n[i+1]=o>>>8&255,n[i]=255&o)}return n}function h(e,t){return e>>>t|e<<32-t}function d(e,t){return e<<t|e>>>32-t}function f(e,t){return e+t>>>0}function p(e,t,n){return e+t+n>>>0}function m(e,t,n,r){return e+t+n+r>>>0}function g(e,t,n,r,i){return e+t+n+r+i>>>0}function v(e,t,n,r){var i=e[t],o=e[t+1],a=r+o>>>0,s=(a<r?1:0)+n+i;e[t]=s>>>0,e[t+1]=a}function b(e,t,n,r){var i=t+r>>>0,o=(i<t?1:0)+e+n;return o>>>0}function y(e,t,n,r){var i=t+r;return i>>>0}function w(e,t,n,r,i,o,a,s){var c=0,l=t;l=l+r>>>0,c+=l<t?1:0,l=l+o>>>0,c+=l<o?1:0,l=l+s>>>0,c+=l<s?1:0;var u=e+n+i+a+c;return u>>>0}function _(e,t,n,r,i,o,a,s){var c=t+r+o+s;return c>>>0}function x(e,t,n,r,i,o,a,s,c,l){var u=0,h=t;h=h+r>>>0,u+=h<t?1:0,h=h+o>>>0,u+=h<o?1:0,h=h+s>>>0,u+=h<s?1:0,h=h+l>>>0,u+=h<l?1:0;var d=e+n+i+a+c+u;return d>>>0}function k(e,t,n,r,i,o,a,s,c,l){var u=t+r+o+s+l;return u>>>0}function S(e,t,n){var r=t<<32-n|e>>>n;return r>>>0}function j(e,t,n){var r=e<<32-n|t>>>n;return r>>>0}function P(e,t,n){return e>>>n}function E(e,t,n){var r=e<<32-n|t>>>n;return r>>>0}var A=e("minimalistic-assert"),T=e("inherits");n.inherits=T,n.toArray=r,n.toHex=i,n.htonl=o,n.toHex32=a,n.zero2=s,n.zero8=c,n.join32=l,n.split32=u,n.rotr32=h,n.rotl32=d,n.sum32=f,n.sum32_3=p,n.sum32_4=m,n.sum32_5=g,n.sum64=v,n.sum64_hi=b,n.sum64_lo=y,n.sum64_4_hi=w,n.sum64_4_lo=_,n.sum64_5_hi=x,n.sum64_5_lo=k,n.rotr64_hi=S,n.rotr64_lo=j,n.shr64_hi=P,n.shr64_lo=E},{inherits:299,"minimalistic-assert":320}],286:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i={internals:{}};i.client={header:function a(e,t,n){var o={field:"",artifacts:{}};if(!e||"string"!=typeof e&&"object"!==("undefined"==typeof e?"undefined":r(e))||!t||"string"!=typeof t||!n||"object"!==("undefined"==typeof n?"undefined":r(n)))return o.err="Invalid argument type",o;var s=n.timestamp||i.utils.nowSec(n.localtimeOffsetMsec),c=n.credentials;if(!(c&&c.id&&c.key&&c.algorithm))return o.err="Invalid credentials object",o;if(i.crypto.algorithms.indexOf(c.algorithm)===-1)return o.err="Unknown algorithm",o;"string"==typeof e&&(e=i.utils.parseUri(e));var l={ts:s,nonce:n.nonce||i.utils.randomString(6),method:t,resource:e.resource,host:e.host,port:e.port,hash:n.hash,ext:n.ext,app:n.app,dlg:n.dlg};o.artifacts=l,l.hash||!n.payload&&""!==n.payload||(l.hash=i.crypto.calculatePayloadHash(n.payload,c.algorithm,n.contentType));var u=i.crypto.calculateMac("header",c,l),h=null!==l.ext&&void 0!==l.ext&&""!==l.ext,a='Hawk id="'+c.id+'", ts="'+l.ts+'", nonce="'+l.nonce+(l.hash?'", hash="'+l.hash:"")+(h?'", ext="'+i.utils.escapeHeaderAttribute(l.ext):"")+'", mac="'+u+'"';return l.app&&(a+=', app="'+l.app+(l.dlg?'", dlg="'+l.dlg:"")+'"'),o.field=a,o},bewit:function s(e,t){if(!e||"string"!=typeof e||!t||"object"!==("undefined"==typeof t?"undefined":r(t))||!t.ttlSec)return"";t.ext=null===t.ext||void 0===t.ext?"":t.ext;var n=i.utils.nowSec(t.localtimeOffsetMsec),o=t.credentials;if(!(o&&o.id&&o.key&&o.algorithm))return"";if(i.crypto.algorithms.indexOf(o.algorithm)===-1)return"";e=i.utils.parseUri(e);var a=n+t.ttlSec,c=i.crypto.calculateMac("bewit",o,{ts:a,nonce:"",method:"GET",resource:e.resource,host:e.host,port:e.port,ext:t.ext}),s=o.id+"\\"+a+"\\"+c+"\\"+t.ext;return i.utils.base64urlEncode(s)},authenticate:function(e,t,n,r){r=r||{};var o=function(t){return e.headers?"function"==typeof e.headers.get?e.headers.get(t):e.headers[t]:e.getResponseHeader?e.getResponseHeader(t):e.getHeader(t)},a=o("www-authenticate");if(a){var s=i.utils.parseAuthorizationHeader(a,["ts","tsm","error"]);if(!s)return!1;if(s.ts){var c=i.crypto.calculateTsMac(s.ts,t);if(c!==s.tsm)return!1;i.utils.setNtpSecOffset(s.ts-Math.floor(Date.now()/1e3))}}var l=o("server-authorization");if(!l&&!r.required)return!0;var u=i.utils.parseAuthorizationHeader(l,["mac","ext","hash"]);if(!u)return!1;var h={ts:n.ts,nonce:n.nonce,method:n.method,resource:n.resource,host:n.host,port:n.port,hash:u.hash,ext:u.ext,app:n.app,dlg:n.dlg},d=i.crypto.calculateMac("response",t,h);if(d!==u.mac)return!1;if(!r.payload&&""!==r.payload)return!0;if(!u.hash)return!1;var f=i.crypto.calculatePayloadHash(r.payload,t.algorithm,o("content-type"));return f===u.hash},message:function(e,t,n,o){if(!e||"string"!=typeof e||!t||"number"!=typeof t||null===n||void 0===n||"string"!=typeof n||!o||"object"!==("undefined"==typeof o?"undefined":r(o)))return null;var a=o.timestamp||i.utils.nowSec(o.localtimeOffsetMsec),s=o.credentials;if(!(s&&s.id&&s.key&&s.algorithm))return null;if(i.crypto.algorithms.indexOf(s.algorithm)===-1)return null;var c={ts:a,nonce:o.nonce||i.utils.randomString(6),host:e,port:t,hash:i.crypto.calculatePayloadHash(n,s.algorithm)
},l={id:s.id,ts:c.ts,nonce:c.nonce,hash:c.hash,mac:i.crypto.calculateMac("message",s,c)};return l},authenticateTimestamp:function(e,t,n){var r=i.crypto.calculateTsMac(e.ts,t);return r===e.tsm&&(n!==!1&&i.utils.setNtpSecOffset(e.ts-Math.floor(Date.now()/1e3)),!0)}},i.crypto={headerVersion:"1",algorithms:["sha1","sha256"],calculateMac:function(e,t,n){var r=i.crypto.generateNormalizedString(e,n),a=o["Hmac"+t.algorithm.toUpperCase()](r,t.key);return a.toString(o.enc.Base64)},generateNormalizedString:function(e,t){var n="hawk."+i.crypto.headerVersion+"."+e+"\n"+t.ts+"\n"+t.nonce+"\n"+(t.method||"").toUpperCase()+"\n"+(t.resource||"")+"\n"+t.host.toLowerCase()+"\n"+t.port+"\n"+(t.hash||"")+"\n";return t.ext&&(n+=t.ext.replace("\\","\\\\").replace("\n","\\n")),n+="\n",t.app&&(n+=t.app+"\n"+(t.dlg||"")+"\n"),n},calculatePayloadHash:function(e,t,n){var r=o.algo[t.toUpperCase()].create();return r.update("hawk."+i.crypto.headerVersion+".payload\n"),r.update(i.utils.parseContentType(n)+"\n"),r.update(e),r.update("\n"),r.finalize().toString(o.enc.Base64)},calculateTsMac:function(e,t){var n=o["Hmac"+t.algorithm.toUpperCase()]("hawk."+i.crypto.headerVersion+".ts\n"+e+"\n",t.key);return n.toString(o.enc.Base64)}},i.internals.LocalStorage=function(){this._cache={},this.length=0,this.getItem=function(e){return this._cache.hasOwnProperty(e)?String(this._cache[e]):null},this.setItem=function(e,t){this._cache[e]=String(t),this.length=Object.keys(this._cache).length},this.removeItem=function(e){delete this._cache[e],this.length=Object.keys(this._cache).length},this.clear=function(){this._cache={},this.length=0},this.key=function(e){return Object.keys(this._cache)[e||0]}},i.utils={storage:new i.internals.LocalStorage,setStorage:function(e){var t=i.utils.storage.getItem("hawk_ntp_offset");i.utils.storage=e,t&&i.utils.setNtpSecOffset(t)},setNtpSecOffset:function(e){try{i.utils.storage.setItem("hawk_ntp_offset",e)}catch(t){console.error("[hawk] could not write to storage."),console.error(t)}},getNtpSecOffset:function(){var e=i.utils.storage.getItem("hawk_ntp_offset");return e?parseInt(e,10):0},now:function(e){return Date.now()+(e||0)+1e3*i.utils.getNtpSecOffset()},nowSec:function(e){return Math.floor(i.utils.now(e)/1e3)},escapeHeaderAttribute:function(e){return e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')},parseContentType:function(e){return e?e.split(";")[0].replace(/^\s+|\s+$/g,"").toLowerCase():""},parseAuthorizationHeader:function(e,t){if(!e)return null;var n=e.match(/^(\w+)(?:\s+(.*))?$/);if(!n)return null;var r=n[1];if("hawk"!==r.toLowerCase())return null;var i=n[2];if(!i)return null;var o={},a=i.replace(/(\w+)="([^"\\]*)"\s*(?:,\s*|$)/g,function(e,n,r){if(t.indexOf(n)!==-1&&null!==r.match(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~]+$/)&&!o.hasOwnProperty(n))return o[n]=r,""});return""!==a?null:o},randomString:function(e){for(var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n=t.length,r=[],i=0;i<e;++i)r[i]=t[Math.floor(Math.random()*n)];return r.join("")},uriRegex:/^([^:]+)\:\/\/(?:[^@\/]*@)?([^\/:]+)(?:\:(\d+))?([^#]*)(?:#.*)?$/,parseUri:function(e){var t=e.match(i.utils.uriRegex);if(!t)return{host:"",port:"",resource:""};var n=t[1].toLowerCase(),r={host:t[2],port:t[3]||("http"===n?"80":"https"===n?"443":""),resource:t[4]};return r},base64urlEncode:function(e){var t=o.enc.Utf8.parse(e),n=o.enc.Base64.stringify(t);return n.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}};var o=o||function(e,t){var n={},r=n.lib={},i=function(){},o=r.Base={extend:function(e){i.prototype=this;var t=new i;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=r.WordArray=o.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes;if(e=e.sigBytes,this.clamp(),r%4)for(var i=0;i<e;i++)t[r+i>>>2]|=(n[i>>>2]>>>24-8*(i%4)&255)<<24-8*((r+i)%4);else if(65535<n.length)for(var o=0;o<e;o+=4)t[r+o>>>2]=n[o>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-8*(n%4),t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;r<t;r+=4)n.push(4294967296*e.random()|0);return new a.init(b,t)}}),s=n.enc={},c=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++){var i=t[r>>>2]>>>24-8*(r%4)&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-4*(r%8);return new a.init(n,t/2)}},l=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++)n.push(String.fromCharCode(t[r>>>2]>>>24-8*(r%4)&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-8*(r%4);return new a.init(n,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},h=r.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,s=i/(4*o),s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0);if(t=s*o,i=e.min(4*t,i),t){for(var c=0;c<t;c+=o)this._doProcessBlock(r,c);c=r.splice(0,t),n.sigBytes-=i}return new a.init(c,i)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});r.Hasher=h.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new d.HMAC.init(e,n).finalize(t)}}});var d=n.algo={};return n}(Math);!function(){var e=o,t=e.lib,n=t.WordArray,r=t.Hasher,i=[],t=e.algo.SHA1=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],a=n[2],s=n[3],c=n[4],l=0;80>l;l++){if(16>l)i[l]=0|e[t+l];else{var u=i[l-3]^i[l-8]^i[l-14]^i[l-16];i[l]=u<<1|u>>>31}u=(r<<5|r>>>27)+c+i[l],u=20>l?u+((o&a|~o&s)+1518500249):40>l?u+((o^a^s)+1859775393):60>l?u+((o&a|o&s|a&s)-1894007588):u+((o^a^s)-899497514),c=s,s=a,a=o<<30|o>>>2,o=r,r=u}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+a|0,n[3]=n[3]+s|0,n[4]=n[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[(r+64>>>9<<4)+14]=Math.floor(n/4294967296),t[(r+64>>>9<<4)+15]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=r._createHelper(t),e.HmacSHA1=r._createHmacHelper(t)}(),function(e){for(var t=o,n=t.lib,r=n.WordArray,i=n.Hasher,n=t.algo,a=[],s=[],c=function(e){return 4294967296*(e-(0|e))|0},l=2,u=0;64>u;){var h;e:{h=l;for(var d=e.sqrt(h),f=2;f<=d;f++)if(!(h%f)){h=!1;break e}h=!0}h&&(8>u&&(a[u]=c(e.pow(l,.5))),s[u]=c(e.pow(l,1/3)),u++),l++}var p=[],n=n.SHA256=i.extend({_doReset:function(){this._hash=new r.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],c=n[4],l=n[5],u=n[6],h=n[7],d=0;64>d;d++){if(16>d)p[d]=0|e[t+d];else{var f=p[d-15],m=p[d-2];p[d]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+p[d-7]+((m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10)+p[d-16]}f=h+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&l^~c&u)+s[d]+p[d],m=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&o^i&o),h=u,u=l,l=c,c=a+f|0,a=o,o=i,i=r,r=f+m|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+c|0,n[5]=n[5]+l|0,n[6]=n[6]+u|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[(i+64>>>9<<4)+14]=e.floor(r/4294967296),n[(i+64>>>9<<4)+15]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(n),t.HmacSHA256=i._createHmacHelper(n)}(Math),function(){var e=o,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,n){e=this._hasher=new e.init,"string"==typeof n&&(n=t.parse(n));var r=e.blockSize,i=4*r;n.sigBytes>i&&(n=e.finalize(n)),n.clamp();for(var o=this._oKey=n.clone(),a=this._iKey=n.clone(),s=o.words,c=a.words,l=0;l<r;l++)s[l]^=1549556828,c[l]^=909522486;o.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),function(){var e=o,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var i=0;i<n;i+=3)for(var o=(t[i>>>2]>>>24-8*(i%4)&255)<<16|(t[i+1>>>2]>>>24-8*((i+1)%4)&255)<<8|t[i+2>>>2]>>>24-8*((i+2)%4)&255,a=0;4>a&&i+.75*a<n;a++)e.push(r.charAt(o>>>6*(3-a)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,r=this._map,i=r.charAt(64);i&&(i=e.indexOf(i),-1!=i&&(n=i));for(var i=[],o=0,a=0;a<n;a++)if(a%4){var s=r.indexOf(e.charAt(a-1))<<2*(a%4),c=r.indexOf(e.charAt(a))>>>6-2*(a%4);i[o>>>2]|=(s|c)<<24-8*(o%4),o++}return t.create(i,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),i.crypto.utils=o,"undefined"!=typeof t&&t.exports&&(t.exports=i)},{}],287:[function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=o.toArray(e.entropy,e.entropyEnc||"hex"),n=o.toArray(e.nonce,e.nonceEnc||"hex"),i=o.toArray(e.pers,e.persEnc||"hex");a(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,i)}var i=e("hash.js"),o=e("minimalistic-crypto-utils"),a=e("minimalistic-assert");t.exports=r,r.prototype._init=function(e,t,n){var r=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},r.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},r.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},r.prototype.reseed=function(e,t,n,r){"string"!=typeof t&&(r=n,n=t,t=null),e=o.toArray(e,t),n=o.toArray(n,r),a(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},r.prototype.generate=function(e,t,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(r=n,n=t,t=null),n&&(n=o.toArray(n,r||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(n),this._reseed++,o.encode(a,t)}},{"hash.js":274,"minimalistic-assert":320,"minimalistic-crypto-utils":321}],288:[function(e,t,n){var r=t.exports,i=(e("events").EventEmitter,e("./lib/request")),o=e("url");r.request=function(e,t){"string"==typeof e&&(e=o.parse(e)),e||(e={}),e.host||e.port||(e.port=parseInt(window.location.port,10)),!e.host&&e.hostname&&(e.host=e.hostname),e.protocol||(e.scheme?e.protocol=e.scheme+":":e.protocol=window.location.protocol),e.host||(e.host=window.location.hostname||window.location.host),/:/.test(e.host)&&(e.port||(e.port=e.host.split(":")[1]),e.host=e.host.split(":")[0]),e.port||(e.port="https:"==e.protocol?443:80);var n=new i(new a,e);return t&&n.on("response",t),n},r.get=function(e,t){e.method="GET";var n=r.request(e,t);return n.end(),n},r.Agent=function(){},r.Agent.defaultMaxSockets=4;var a=function(){if("undefined"==typeof window)throw new Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject){for(var e=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],t=0;t<e.length;t++)try{var n=new window.ActiveXObject(e[t]);return function(){if(n){var r=n;return n=null,r}return new window.ActiveXObject(e[t])}}catch(r){}throw new Error("ajax not supported in this browser")}throw new Error("ajax not supported in this browser")}();r.STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{"./lib/request":289,events:134,url:143}],289:[function(e,t,n){var r=e("stream"),i=e("./response"),o=e("Base64"),a=e("inherits"),s=t.exports=function(e,t){var n=this;n.writable=!0,n.xhr=e,n.body=[],n.uri=(t.protocol||"http:")+"//"+t.host+(t.port?":"+t.port:"")+(t.path||"/"),"undefined"==typeof t.withCredentials&&(t.withCredentials=!0);try{e.withCredentials=t.withCredentials}catch(r){}if(t.responseType)try{e.responseType=t.responseType}catch(r){}if(e.open(t.method||"GET",n.uri,!0),e.onerror=function(e){n.emit("error",new Error("Network error"))},n._headers={},t.headers)for(var a=c(t.headers),s=0;s<a.length;s++){var l=a[s];if(n.isSafeRequestHeader(l)){var u=t.headers[l];n.setHeader(l,u)}}t.auth&&this.setHeader("Authorization","Basic "+o.btoa(t.auth));var h=new i;h.on("close",function(){n.emit("close")}),h.on("ready",function(){n.emit("response",h)}),h.on("error",function(e){n.emit("error",e)}),e.onreadystatechange=function(){e.__aborted||h.handle(e)}};a(s,r),s.prototype.setHeader=function(e,t){this._headers[e.toLowerCase()]=t},s.prototype.getHeader=function(e){return this._headers[e.toLowerCase()]},s.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},s.prototype.write=function(e){this.body.push(e)},s.prototype.destroy=function(e){this.xhr.__aborted=!0,this.xhr.abort(),this.emit("close")},s.prototype.end=function(e){void 0!==e&&this.body.push(e);for(var t=c(this._headers),n=0;n<t.length;n++){var r=t[n],i=this._headers[r];if(l(i))for(var o=0;o<i.length;o++)this.xhr.setRequestHeader(r,i[o]);else this.xhr.setRequestHeader(r,i)}if(0===this.body.length)this.xhr.send("");else if("string"==typeof this.body[0])this.xhr.send(this.body.join(""));else if(l(this.body[0])){for(var a=[],n=0;n<this.body.length;n++)a.push.apply(a,this.body[n]);this.xhr.send(a)}else if(/Array/.test(Object.prototype.toString.call(this.body[0]))){for(var s=0,n=0;n<this.body.length;n++)s+=this.body[n].length;for(var a=new this.body[0].constructor(s),u=0,n=0;n<this.body.length;n++)for(var d=this.body[n],o=0;o<d.length;o++)a[u++]=d[o];this.xhr.send(a)}else if(h(this.body[0]))this.xhr.send(this.body[0]);else{for(var a="",n=0;n<this.body.length;n++)a+=this.body[n].toString();this.xhr.send(a)}},s.unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"],s.prototype.isSafeRequestHeader=function(e){return!!e&&u(s.unsafeHeaders,e.toLowerCase())===-1};var c=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},l=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},u=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},h=function(e){return"undefined"!=typeof Blob&&e instanceof Blob||("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||("undefined"!=typeof FormData&&e instanceof FormData||void 0))}},{"./response":290,Base64:6,inherits:299,stream:416}],290:[function(e,t,n){function r(e){for(var t=e.getAllResponseHeaders().split(/\r?\n/),n={},r=0;r<t.length;r++){var i=t[r];if(""!==i){var o=i.match(/^([^:]+):\s*(.*)/);if(o){var a=o[1].toLowerCase(),s=o[2];void 0!==n[a]?c(n[a])?n[a].push(s):n[a]=[n[a],s]:n[a]=s}else n[i]=!0}}return n}var i=e("stream"),o=e("util"),a=t.exports=function(e){this.offset=0,this.readable=!0};o.inherits(a,i);var s={streaming:!0,status2:!0};a.prototype.getResponse=function(e){var t=String(e.responseType).toLowerCase();return"blob"===t?e.responseBlob||e.response:"arraybuffer"===t?e.response:e.responseText},a.prototype.getHeader=function(e){return this.headers[e.toLowerCase()]},a.prototype.handle=function(e){if(2===e.readyState&&s.status2){try{this.statusCode=e.status,this.headers=r(e)}catch(t){s.status2=!1}s.status2&&this.emit("ready")}else if(s.streaming&&3===e.readyState){try{this.statusCode||(this.statusCode=e.status,this.headers=r(e),this.emit("ready"))}catch(t){}try{this._emitData(e)}catch(t){s.streaming=!1}}else 4===e.readyState&&(this.statusCode||(this.statusCode=e.status,this.emit("ready")),this._emitData(e),e.error?this.emit("error",this.getResponse(e)):this.emit("end"),this.emit("close"))},a.prototype._emitData=function(e){var t=this.getResponse(e);return t.toString().match(/ArrayBuffer/)?(this.emit("data",new Uint8Array(t,this.offset)),void(this.offset=t.byteLength)):void(t.length>this.offset&&(this.emit("data",t.slice(this.offset)),this.offset=t.length))};var c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{stream:416,util:451}],291:[function(e,t,n){var r=e("./parser"),i=e("./signer"),o=e("./verify"),a=e("./utils");t.exports={parse:r.parseRequest,parseRequest:r.parseRequest,sign:i.signRequest,signRequest:i.signRequest,createSigner:i.createSigner,isSigner:i.isSigner,sshKeyToPEM:a.sshKeyToPEM,sshKeyFingerprint:a.fingerprint,pemToRsaSSHKey:a.pemToRsaSSHKey,verify:o.verifySignature,verifySignature:o.verifySignature,verifyHMAC:o.verifyHMAC}},{"./parser":292,"./signer":293,"./utils":294,"./verify":295}],292:[function(e,t,n){function r(e){h.call(this,e,r)}function i(e){h.call(this,e,i)}function o(e){h.call(this,e,o)}function a(e){h.call(this,e,a)}function s(e){h.call(this,e,s)}var c=e("assert-plus"),l=e("util"),u=e("./utils"),h=(u.HASH_ALGOS,u.PK_ALGOS,u.HttpSignatureError),d=u.InvalidAlgorithmError,f=u.validateAlgorithm,p={New:0,Params:1},m={Name:0,Quote:1,Value:2,Comma:3};l.inherits(r,h),l.inherits(i,h),l.inherits(o,h),l.inherits(a,h),l.inherits(s,h),t.exports={parseRequest:function(e,t){c.object(e,"request"),c.object(e.headers,"request.headers"),void 0===t&&(t={}),void 0===t.headers&&(t.headers=[e.headers["x-date"]?"x-date":"date"]),c.object(t,"options"),c.arrayOfString(t.headers,"options.headers"),c.optionalFinite(t.clockSkew,"options.clockSkew");var n=t.authorizationHeaderName||"authorization";if(!e.headers[n])throw new a("no "+n+" header present in the request");t.clockSkew=t.clockSkew||300;var l=0,u=p.New,h=m.Name,g="",v="",b={scheme:"",params:{},signingString:""},y=e.headers[n];for(l=0;l<y.length;l++){var w=y.charAt(l);switch(Number(u)){case p.New:" "!==w?b.scheme+=w:u=p.Params;break;case p.Params:switch(Number(h)){case m.Name:var _=w.charCodeAt(0);if(_>=65&&_<=90||_>=97&&_<=122)g+=w;else{if("="!==w)throw new i("bad param format");if(0===g.length)throw new i("bad param format");h=m.Quote}break;case m.Quote:if('"'!==w)throw new i("bad param format");v="",h=m.Value;break;case m.Value:'"'===w?(b.params[g]=v,h=m.Comma):v+=w;break;case m.Comma:if(","!==w)throw new i("bad param format");g="",h=m.Name;break;default:throw new Error("Invalid substate")}break;default:throw new Error("Invalid substate")}}if(b.params.headers&&""!==b.params.headers?b.params.headers=b.params.headers.split(" "):e.headers["x-date"]?b.params.headers=["x-date"]:b.params.headers=["date"],!b.scheme||"Signature"!==b.scheme)throw new i('scheme was not "Signature"');if(!b.params.keyId)throw new i("keyId was not specified");if(!b.params.algorithm)throw new i("algorithm was not specified");if(!b.params.signature)throw new i("signature was not specified");b.params.algorithm=b.params.algorithm.toLowerCase();try{f(b.params.algorithm)}catch(x){throw x instanceof d?new o(b.params.algorithm+" is not supported"):x}for(l=0;l<b.params.headers.length;l++){var k=b.params.headers[l].toLowerCase();if(b.params.headers[l]=k,"request-line"===k){if(t.strict)throw new s("request-line is not a valid header with strict parsing enabled.");b.signingString+=e.method+" "+e.url+" HTTP/"+e.httpVersion}else if("(request-target)"===k)b.signingString+="(request-target): "+e.method.toLowerCase()+" "+e.url;else{var S=e.headers[k];if(void 0===S)throw new a(k+" was not in the request");b.signingString+=k+": "+S}l+1<b.params.headers.length&&(b.signingString+="\n")}var j;if(e.headers.date||e.headers["x-date"]){j=e.headers["x-date"]?new Date(e.headers["x-date"]):new Date(e.headers.date);var P=new Date,E=Math.abs(P.getTime()-j.getTime());if(E>1e3*t.clockSkew)throw new r("clock skew of "+E/1e3+"s was greater than "+t.clockSkew+"s")}if(t.headers.forEach(function(e){if(b.params.headers.indexOf(e.toLowerCase())<0)throw new a(e+" was not a signed header")}),t.algorithms&&t.algorithms.indexOf(b.params.algorithm)===-1)throw new o(b.params.algorithm+" is not a supported algorithm");return b.algorithm=b.params.algorithm.toUpperCase(),b.keyId=b.params.keyId,b}}},{"./utils":294,"assert-plus":78,util:451}],293:[function(e,t,n){(function(n){function r(e){g.call(this,e,r)}function i(e){g.call(this,e,i)}function o(e){a.object(e,"options");var t=[];if(void 0!==e.algorithm&&(a.string(e.algorithm,"options.algorithm"),t=v(e.algorithm)),this.rs_alg=t,void 0!==e.sign)a.func(e.sign,"options.sign"),this.rs_signFunc=e.sign;else if("hmac"===t[0]&&void 0!==e.key){if(a.string(e.keyId,"options.keyId"),this.rs_keyId=e.keyId,"string"!=typeof e.key&&!n.isBuffer(e.key))throw new TypeError("options.key for HMAC must be a string or Buffer");this.rs_signer=s.createHmac(t[1].toUpperCase(),e.key),this.rs_signer.sign=function(){var e=this.digest("base64");return{hashAlgorithm:t[1],toString:function(){return e}}}}else{if(void 0===e.key)throw new TypeError("options.sign (func) or options.key is required");var r=e.key;if(("string"==typeof r||n.isBuffer(r))&&(r=l.parsePrivateKey(r)),a.ok(l.PrivateKey.isPrivateKey(r,[1,2]),"options.key must be a sshpk.PrivateKey"),this.rs_key=r,a.string(e.keyId,"options.keyId"),this.rs_keyId=e.keyId,!p[r.type])throw new m(r.type.toUpperCase()+" type keys are not supported");if(void 0!==t[0]&&r.type!==t[0])throw new m("options.key must be a "+t[0].toUpperCase()+" key, was given a "+r.type.toUpperCase()+" key instead");this.rs_signer=r.createSign(t[1])}this.rs_headers=[],this.rs_lines=[]}var a=e("assert-plus"),s=e("crypto"),c=(e("http"),e("util")),l=e("sshpk"),u=e("jsprim"),h=e("./utils"),d=e("util").format,f=h.HASH_ALGOS,p=h.PK_ALGOS,m=h.InvalidAlgorithmError,g=h.HttpSignatureError,v=h.validateAlgorithm,b='Signature keyId="%s",algorithm="%s",headers="%s",signature="%s"';c.inherits(r,g),c.inherits(i,g),o.prototype.writeHeader=function(e,t){if(a.string(e,"header"),e=e.toLowerCase(),a.string(t,"value"),this.rs_headers.push(e),this.rs_signFunc)this.rs_lines.push(e+": "+t);else{var n=e+": "+t;this.rs_headers.length>0&&(n="\n"+n),this.rs_signer.update(n)}return t},o.prototype.writeDateHeader=function(){return this.writeHeader("date",u.rfc1123(new Date))},o.prototype.writeTarget=function(e,t){a.string(e,"method"),a.string(t,"path"),e=e.toLowerCase(),this.writeHeader("(request-target)",e+" "+t)},o.prototype.sign=function(e){if(a.func(e,"callback"),this.rs_headers.length<1)throw new Error("At least one header must be signed");var t,n;if(this.rs_signFunc){var r=this.rs_lines.join("\n"),i=this;this.rs_signFunc(r,function(r,o){if(r)return void e(r);try{a.object(o,"signature"),a.string(o.keyId,"signature.keyId"),a.string(o.algorithm,"signature.algorithm"),a.string(o.signature,"signature.signature"),t=v(o.algorithm),n=d(b,o.keyId,o.algorithm,i.rs_headers.join(" "),o.signature)}catch(s){return void e(s)}e(null,n)})}else{try{var o=this.rs_signer.sign()}catch(s){return void e(s)}t=(this.rs_alg[0]||this.rs_key.type)+"-"+o.hashAlgorithm;var c=o.toString();n=d(b,this.rs_keyId,t,this.rs_headers.join(" "),c),e(null,n)}},t.exports={isSigner:function(e){return"object"==typeof e&&e instanceof o},createSigner:function(e){return new o(e)},signRequest:function(e,t){a.object(e,"request"),a.object(t,"options"),a.optionalString(t.algorithm,"options.algorithm"),a.string(t.keyId,"options.keyId"),a.optionalArrayOfString(t.headers,"options.headers"),a.optionalString(t.httpVersion,"options.httpVersion"),e.getHeader("Date")||e.setHeader("Date",u.rfc1123(new Date)),t.headers||(t.headers=["date"]),t.httpVersion||(t.httpVersion="1.1");var o=[];t.algorithm&&(t.algorithm=t.algorithm.toLowerCase(),o=v(t.algorithm));var c,h="";for(c=0;c<t.headers.length;c++){if("string"!=typeof t.headers[c])throw new TypeError("options.headers must be an array of Strings");var g=t.headers[c].toLowerCase();if("request-line"===g){if(t.strict)throw new i("request-line is not a valid header with strict parsing enabled.");h+=e.method+" "+e.path+" HTTP/"+t.httpVersion}else if("(request-target)"===g)h+="(request-target): "+e.method.toLowerCase()+" "+e.path;else{var y=e.getHeader(g);if(void 0===y||""===y)throw new r(g+" was not in the request");h+=g+": "+y}c+1<t.headers.length&&(h+="\n")}e.hasOwnProperty("_stringToSign")&&(e._stringToSign=h);var w;if("hmac"===o[0]){if("string"!=typeof t.key&&!n.isBuffer(t.key))throw new TypeError("options.key must be a string or Buffer");var _=s.createHmac(o[1].toUpperCase(),t.key);_.update(h),w=_.digest("base64")}else{var x=t.key;if(("string"==typeof x||n.isBuffer(x))&&(x=l.parsePrivateKey(t.key)),a.ok(l.PrivateKey.isPrivateKey(x,[1,2]),"options.key must be a sshpk.PrivateKey"),!p[x.type])throw new m(x.type.toUpperCase()+" type keys are not supported");if(void 0!==o[0]&&x.type!==o[0])throw new m("options.key must be a "+o[0].toUpperCase()+" key, was given a "+x.type.toUpperCase()+" key instead");var k=x.createSign(o[1]);k.update(h);var S=k.sign();if(!f[S.hashAlgorithm])throw new m(S.hashAlgorithm.toUpperCase()+" is not a supported hash algorithm");t.algorithm=x.type+"-"+S.hashAlgorithm,w=S.toString(),a.notStrictEqual(w,"","empty signature produced")}var j=t.authorizationHeaderName||"Authorization";return e.setHeader(j,d(b,t.keyId,t.algorithm,t.headers.join(" "),w)),!0}}}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":300,"./utils":294,"assert-plus":78,crypto:133,http:288,jsprim:313,sshpk:410,util:451}],294:[function(e,t,n){function r(e,t){Error.captureStackTrace&&Error.captureStackTrace(this,t||r),this.message=e,this.name=t.name}function i(e){r.call(this,e,i)}function o(e){var t=e.toLowerCase().split("-");if(2!==t.length)throw new i(t[0].toUpperCase()+" is not a valid algorithm");if("hmac"!==t[0]&&!u[t[0]])throw new i(t[0].toUpperCase()+" type keys are not supported");if(!l[t[1]])throw new i(t[1].toUpperCase()+" is not a supported hash algorithm");return t}var a=e("assert-plus"),s=e("sshpk"),c=e("util"),l={sha1:!0,sha256:!0,sha512:!0},u={rsa:!0,dsa:!0,ecdsa:!0};c.inherits(r,Error),c.inherits(i,r),t.exports={HASH_ALGOS:l,PK_ALGOS:u,HttpSignatureError:r,InvalidAlgorithmError:i,validateAlgorithm:o,sshKeyToPEM:function(e){a.string(e,"ssh_key");var t=s.parseKey(e,"ssh");return t.toString("pem")},fingerprint:function(e){a.string(e,"ssh_key");var t=s.parseKey(e,"ssh");return t.fingerprint("md5").toString("hex")},pemToRsaSSHKey:function(e,t){a.equal("string",typeof e,"typeof pem");var n=s.parseKey(e,"pem");return n.comment=t,n.toString("ssh")}}},{"assert-plus":78,sshpk:410,util:451}],295:[function(e,t,n){(function(n){var r=e("assert-plus"),i=e("crypto"),o=e("sshpk"),a=e("./utils"),s=(a.HASH_ALGOS,a.PK_ALGOS,a.InvalidAlgorithmError,a.HttpSignatureError,a.validateAlgorithm);t.exports={verifySignature:function(e,t){r.object(e,"parsedSignature"),("string"==typeof t||n.isBuffer(t))&&(t=o.parseKey(t)),r.ok(o.Key.isKey(t,[1,1]),"pubkey must be a sshpk.Key");var i=s(e.algorithm);if("hmac"===i[0]||i[0]!==t.type)return!1;var a=t.createVerify(i[1]);return a.update(e.signingString),a.verify(e.params.signature,"base64")},verifyHMAC:function(e,t){r.object(e,"parsedHMAC"),r.string(t,"secret");var o=s(e.algorithm);if("hmac"!==o[0])return!1;var a=o[1].toUpperCase(),c=i.createHmac(a,t);c.update(e.signingString);var l=i.createHmac(a,t);l.update(c.digest()),l=l.digest();var u=i.createHmac(a,t);return u.update(new n(e.params.signature,"base64")),u=u.digest(),"string"==typeof l?l===u:n.isBuffer(l)&&!l.equals?l.toString("binary")===u.toString("binary"):l.equals(u)}}}).call(this,e("buffer").Buffer)},{"./utils":294,"assert-plus":78,buffer:131,crypto:133,sshpk:410}],296:[function(e,t,n){var r=e("http"),i=t.exports;for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);i.request=function(e,t){return e||(e={}),e.scheme="https",e.protocol="https:",r.request.call(this,e,t)}},{http:288}],297:[function(e,t,n){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,l=c>>1,u=-7,h=n?i-1:0,d=n?-1:1,f=e[t+h];for(h+=d,o=f&(1<<-u)-1,f>>=-u,u+=s;u>0;o=256*o+e[t+h],h+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+e[t+h],h+=d,u-=8);if(0===o)o=1-l;else{if(o===c)return a?NaN:(f?-1:1)*(1/0);a+=Math.pow(2,r),o-=l}return(f?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,c,l=8*o-i-1,u=(1<<l)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),t+=a+h>=1?d/c:d*Math.pow(2,1-h),t*c>=2&&(a++,c/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(t*c-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+f]=255&s,f+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+f]=255&a,f+=p,a/=256,l-=8);e[n+f-p]|=128*m}},{}],298:[function(e,t,n){var r=[].indexOf;t.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],299:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{
constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],300:[function(e,t,n){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function i(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}t.exports=function(e){return null!=e&&(r(e)||i(e)||!!e._isBuffer)}},{}],301:[function(e,t,n){function r(e){return i(e)||o(e)}function i(e){return e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function o(e){return s[a.call(e)]}t.exports=r,r.strict=i,r.loose=o;var a=Object.prototype.toString,s={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0}},{}],302:[function(e,t,n){function r(e){return e instanceof s.Stream}function i(e){return r(e)&&"function"==typeof e._read&&"object"==typeof e._readableState}function o(e){return r(e)&&"function"==typeof e._write&&"object"==typeof e._writableState}function a(e){return i(e)&&o(e)}var s=e("stream");t.exports=r,t.exports.isReadable=i,t.exports.isWritable=o,t.exports.isDuplex=a},{stream:416}],303:[function(e,t,n){!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof n?t.exports=e:e(jQuery)}(function(e){function t(t){var a=t||window.event,s=c.call(arguments,1),l=0,h=0,d=0,f=0,p=0,m=0;if(t=e.event.fix(a),t.type="mousewheel","detail"in a&&(d=a.detail*-1),"wheelDelta"in a&&(d=a.wheelDelta),"wheelDeltaY"in a&&(d=a.wheelDeltaY),"wheelDeltaX"in a&&(h=a.wheelDeltaX*-1),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(h=d*-1,d=0),l=0===d?h:d,"deltaY"in a&&(d=a.deltaY*-1,l=d),"deltaX"in a&&(h=a.deltaX,0===d&&(l=h*-1)),0!==d||0!==h){if(1===a.deltaMode){var g=e.data(this,"mousewheel-line-height");l*=g,d*=g,h*=g}else if(2===a.deltaMode){var v=e.data(this,"mousewheel-page-height");l*=v,d*=v,h*=v}if(f=Math.max(Math.abs(d),Math.abs(h)),(!o||f<o)&&(o=f,r(a,f)&&(o/=40)),r(a,f)&&(l/=40,h/=40,d/=40),l=Math[l>=1?"floor":"ceil"](l/o),h=Math[h>=1?"floor":"ceil"](h/o),d=Math[d>=1?"floor":"ceil"](d/o),u.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();p=t.clientX-b.left,m=t.clientY-b.top}return t.deltaX=h,t.deltaY=d,t.deltaFactor=o,t.offsetX=p,t.offsetY=m,t.deltaMode=0,s.unshift(t,l,h,d),i&&clearTimeout(i),i=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function n(){o=null}function r(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var i,o,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],c=Array.prototype.slice;if(e.event.fixHooks)for(var l=a.length;l;)e.event.fixHooks[a[--l]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),r=n["offsetParent"in e.fn?"offsetParent":"parent"]();return r.length||(r=e("body")),parseInt(r.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})},{}],304:[function(e,t,n){!function(e,n){"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=oe.type(e);return"function"!==n&&!oe.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e,t,n){if(oe.isFunction(t))return oe.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return oe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(me.test(t))return oe.filter(t,e,n);t=oe.filter(t,e)}return oe.grep(e,function(e){return J.call(t,e)>-1!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t={};return oe.each(e.match(_e)||[],function(e,n){t[n]=!0}),t}function a(){K.removeEventListener("DOMContentLoaded",a),e.removeEventListener("load",a),oe.ready()}function s(){this.expando=oe.expando+s.uid++}function c(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Ae,"-$&").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Ee.test(n)?oe.parseJSON(n):n)}catch(i){}Pe.set(e,t,n)}else n=void 0;return n}function l(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return oe.css(e,t,"")},c=s(),l=n&&n[3]||(oe.cssNumber[t]?"":"px"),u=(oe.cssNumber[t]||"px"!==l&&+c)&&Ce.exec(oe.css(e,t));if(u&&u[3]!==l){l=l||u[3],n=n||[],u=+c||1;do o=o||".5",u/=o,oe.style(e,t,u+l);while(o!==(o=s()/c)&&1!==o&&--a)}return n&&(u=+u||+c||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=u,r.end=i)),i}function u(e,t){var n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&oe.nodeName(e,t)?oe.merge([e],n):n}function h(e,t){for(var n=0,r=e.length;n<r;n++)je.set(e[n],"globalEval",!t||je.get(t[n],"globalEval"))}function d(e,t,n,r,i){for(var o,a,s,c,l,d,f=t.createDocumentFragment(),p=[],m=0,g=e.length;m<g;m++)if(o=e[m],o||0===o)if("object"===oe.type(o))oe.merge(p,o.nodeType?[o]:o);else if(Re.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(Fe.exec(o)||["",""])[1].toLowerCase(),c=Le[s]||Le._default,a.innerHTML=c[1]+oe.htmlPrefilter(o)+c[2],d=c[0];d--;)a=a.lastChild;oe.merge(p,a.childNodes),a=f.firstChild,a.textContent=""}else p.push(t.createTextNode(o));for(f.textContent="",m=0;o=p[m++];)if(r&&oe.inArray(o,r)>-1)i&&i.push(o);else if(l=oe.contains(o.ownerDocument,o),a=u(f.appendChild(o),"script"),l&&h(a),n)for(d=0;o=a[d++];)De.test(o.type||"")&&n.push(o);return f}function f(){return!0}function p(){return!1}function m(){try{return K.activeElement}catch(e){}}function g(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)g(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=p;else if(!i)return e;return 1===o&&(a=i,i=function(e){return oe().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=oe.guid++)),e.each(function(){oe.event.add(this,t,i,r,n)})}function v(e,t){return oe.nodeName(e,"table")&&oe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function y(e){var t=Ve.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){var n,r,i,o,a,s,c,l;if(1===t.nodeType){if(je.hasData(e)&&(o=je.access(e),a=je.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)oe.event.add(t,i,l[i][n])}Pe.hasData(e)&&(s=Pe.access(e),c=oe.extend({},s),Pe.set(t,c))}}function _(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ie.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function x(e,t,n,r){t=Q.apply([],t);var i,o,a,s,c,l,h=0,f=e.length,p=f-1,m=t[0],g=oe.isFunction(m);if(g||f>1&&"string"==typeof m&&!re.checkClone&&qe.test(m))return e.each(function(i){var o=e.eq(i);g&&(t[0]=m.call(this,i,o.html())),x(o,t,n,r)});if(f&&(i=d(t,e[0].ownerDocument,!1,e,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=oe.map(u(i,"script"),b),s=a.length;h<f;h++)c=i,h!==p&&(c=oe.clone(c,!0,!0),s&&oe.merge(a,u(c,"script"))),n.call(e[h],c,h);if(s)for(l=a[a.length-1].ownerDocument,oe.map(a,y),h=0;h<s;h++)c=a[h],De.test(c.type||"")&&!je.access(c,"globalEval")&&oe.contains(l,c)&&(c.src?oe._evalUrl&&oe._evalUrl(c.src):oe.globalEval(c.textContent.replace(He,"")))}return e}function k(e,t,n){for(var r,i=t?oe.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||oe.cleanData(u(r)),r.parentNode&&(n&&oe.contains(r.ownerDocument,r)&&h(u(r,"script")),r.parentNode.removeChild(r));return e}function S(e,t){var n=oe(t.createElement(e)).appendTo(t.body),r=oe.css(n[0],"display");return n.detach(),r}function j(e){var t=K,n=Ge[e];return n||(n=S(e,t),"none"!==n&&n||(We=(We||oe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=We[0].contentDocument,t.write(),t.close(),n=S(e,t),We.detach()),Ge[e]=n),n}function P(e,t,n){var r,i,o,a,s=e.style;return n=n||Xe(e),a=n?n.getPropertyValue(t)||n[t]:void 0,""!==a&&void 0!==a||oe.contains(e.ownerDocument,e)||(a=oe.style(e,t)),n&&!re.pixelMarginRight()&&Ke.test(a)&&Ye.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o),void 0!==a?a+"":a}function E(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function A(e){if(e in rt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=nt.length;n--;)if(e=nt[n]+t,e in rt)return e}function T(e,t,n){var r=Ce.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function C(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=oe.css(e,n+Me[o],!0,i)),r?("content"===n&&(a-=oe.css(e,"padding"+Me[o],!0,i)),"margin"!==n&&(a-=oe.css(e,"border"+Me[o]+"Width",!0,i))):(a+=oe.css(e,"padding"+Me[o],!0,i),"padding"!==n&&(a+=oe.css(e,"border"+Me[o]+"Width",!0,i)));return a}function M(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Xe(e),a="border-box"===oe.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(i=P(e,t,o),(i<0||null==i)&&(i=e.style[t]),Ke.test(i))return i;r=a&&(re.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+C(e,t,n||(a?"border":"content"),r,o)+"px"}function O(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)r=e[a],r.style&&(o[a]=je.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Oe(r)&&(o[a]=je.access(r,"olddisplay",j(r.nodeName)))):(i=Oe(r),"none"===n&&i||je.set(r,"olddisplay",i?n:oe.css(r,"display"))));for(a=0;a<s;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function I(e,t,n,r,i){return new I.prototype.init(e,t,n,r,i)}function F(){return e.setTimeout(function(){it=void 0}),it=oe.now()}function D(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=Me[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function L(e,t,n){for(var r,i=(U.tweeners[t]||[]).concat(U.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function R(e,t,n){var r,i,o,a,s,c,l,u,h=this,d={},f=e.style,p=e.nodeType&&Oe(e),m=je.get(e,"fxshow");n.queue||(s=oe._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,c=s.empty.fire,s.empty.fire=function(){s.unqueued||c()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,oe.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],l=oe.css(e,"display"),u="none"===l?je.get(e,"olddisplay")||j(e.nodeName):l,"inline"===u&&"none"===oe.css(e,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],at.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;p=!0}d[r]=m&&m[r]||oe.style(e,r)}else l=void 0;if(oe.isEmptyObject(d))"inline"===("none"===l?j(e.nodeName):l)&&(f.display=l);else{m?"hidden"in m&&(p=m.hidden):m=je.access(e,"fxshow",{}),o&&(m.hidden=!p),p?oe(e).show():h.done(function(){oe(e).hide()}),h.done(function(){var t;je.remove(e,"fxshow");for(t in d)oe.style(e,t,d[t])});for(r in d)a=L(p?m[r]:0,r,h),r in m||(m[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function N(e,t){var n,r,i,o,a;for(n in e)if(r=oe.camelCase(n),i=t[r],o=e[n],oe.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=oe.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function U(e,t,n){var r,i,o=0,a=U.prefilters.length,s=oe.Deferred().always(function(){delete c.elem}),c=function(){if(i)return!1;for(var t=it||F(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,c=l.tweens.length;a<c;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),o<1&&c?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:oe.extend({},t),opts:oe.extend(!0,{specialEasing:{},easing:oe.easing._default},n),originalProperties:t,originalOptions:n,startTime:it||F(),duration:n.duration,tweens:[],createTween:function(t,n){var r=oe.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),u=l.props;for(N(u,l.opts.specialEasing);o<a;o++)if(r=U.prefilters[o].call(l,e,u,l.opts))return oe.isFunction(r.stop)&&(oe._queueHooks(l.elem,l.opts.queue).stop=oe.proxy(r.stop,r)),r;return oe.map(u,L,l),oe.isFunction(l.opts.start)&&l.opts.start.call(e,l),oe.fx.timer(oe.extend(c,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function $(e){return e.getAttribute&&e.getAttribute("class")||""}function z(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(_e)||[];if(oe.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function B(e,t,n,r){function i(s){var c;return o[s]=!0,oe.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(c=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),c}var o={},a=e===Pt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function q(e,t){var n,r,i=oe.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&oe.extend(!0,e,r),e}function V(e,t,n){for(var r,i,o,a,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){c.unshift(i);break}if(c[0]in n)o=c[0];else{for(i in n){if(!c[0]||e.converters[i+" "+c[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==c[0]&&c.unshift(o),n[o]}function H(e,t,n,r){var i,o,a,s,c,l={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=o,o=u.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(a=l[c+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[c+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+c+" to "+o}}}return{state:"success",data:t}}function W(e,t,n,r){var i;if(oe.isArray(t))oe.each(t,function(t,i){n||Ct.test(e)?r(e,i):W(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==oe.type(t))r(e,t);else for(i in t)W(e+"["+i+"]",t[i],n,r)}function G(e){return oe.isWindow(e)?e:9===e.nodeType&&e.defaultView}var Y=[],K=e.document,X=Y.slice,Q=Y.concat,Z=Y.push,J=Y.indexOf,ee={},te=ee.toString,ne=ee.hasOwnProperty,re={},ie="2.2.4",oe=function(e,t){return new oe.fn.init(e,t)},ae=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,ce=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};oe.fn=oe.prototype={jquery:ie,constructor:oe,selector:"",length:0,toArray:function(){return X.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:X.call(this)},pushStack:function(e){var t=oe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return oe.each(this,e)},map:function(e){return this.pushStack(oe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:Z,sort:Y.sort,splice:Y.splice},oe.extend=oe.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||oe.isFunction(a)||(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(l&&r&&(oe.isPlainObject(r)||(i=oe.isArray(r)))?(i?(i=!1,o=n&&oe.isArray(n)?n:[]):o=n&&oe.isPlainObject(n)?n:{},a[t]=oe.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},oe.extend({expando:"jQuery"+(ie+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===oe.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!oe.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==oe.type(e)||e.nodeType||oe.isWindow(e))return!1;if(e.constructor&&!ne.call(e,"constructor")&&!ne.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||ne.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ee[te.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=oe.trim(e),e&&(1===e.indexOf("use strict")?(t=K.createElement("script"),t.text=e,K.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(se,"ms-").replace(ce,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var r,i=0;if(n(e))for(r=e.length;i<r&&t.call(e[i],i,e[i])!==!1;i++);else for(i in e)if(t.call(e[i],i,e[i])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ae,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?oe.merge(r,"string"==typeof e?[e]:e):Z.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:J.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o,a=0,s=[];if(n(e))for(i=e.length;a<i;a++)o=t(e[a],a,r),null!=o&&s.push(o);else for(a in e)o=t(e[a],a,r),null!=o&&s.push(o);return Q.apply([],s)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),oe.isFunction(e))return r=X.call(arguments,2),i=function(){return e.apply(t||this,r.concat(X.call(arguments)))},i.guid=e.guid=e.guid||oe.guid++,i},now:Date.now,support:re}),"function"==typeof Symbol&&(oe.fn[Symbol.iterator]=Y[Symbol.iterator]),oe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()});var ue=function(e){function t(e,t,n,r){var i,o,a,s,c,l,h,f,p=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!r&&((t?t.ownerDocument||t:$)!==O&&M(t),t=t||O,F)){if(11!==m&&(l=ve.exec(e)))if(i=l[1]){if(9===m){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(p&&(a=p.getElementById(i))&&N(t,a)&&a.id===i)return n.push(a),n}else{if(l[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((i=l[3])&&_.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(i)),n}if(_.qsa&&!H[e+" "]&&(!D||!D.test(e))){if(1!==m)p=t,f=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(ye,"\\$&"):t.setAttribute("id",s=U),h=j(e),o=h.length,c=de.test(s)?"#"+s:"[id='"+s+"']";o--;)h[o]=c+" "+d(h[o]);f=h.join(","),p=be.test(e)&&u(t.parentNode)||t}if(f)try{return Z.apply(n,p.querySelectorAll(f)),n}catch(g){}finally{s===U&&t.removeAttribute("id")}}}return E(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[U]=!0,e}function i(e){var t=O.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)x.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function h(){}function d(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function f(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=B++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,c,l,u=[z,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(l=t[U]||(t[U]={}),c=l[t.uniqueID]||(l[t.uniqueID]={}),(s=c[r])&&s[0]===z&&s[1]===o)return u[2]=s[2];if(c[r]=u,u[2]=e(t,n,a))return!0}}}function p(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,c=e.length,l=null!=t;s<c;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function v(e,t,n,i,o,a){return i&&!i[U]&&(i=v(i)),o&&!o[U]&&(o=v(o,a)),r(function(r,a,s,c){var l,u,h,d=[],f=[],p=a.length,v=r||m(t||"*",s.nodeType?[s]:s,[]),b=!e||!r&&t?v:g(v,d,e,s,c),y=n?o||(r?e:p||i)?[]:a:b;if(n&&n(b,y,s,c),i)for(l=g(y,f),i(l,[],s,c),u=l.length;u--;)(h=l[u])&&(y[f[u]]=!(b[f[u]]=h));if(r){if(o||e){if(o){for(l=[],u=y.length;u--;)(h=y[u])&&l.push(b[u]=h);o(null,y=[],l,c)}for(u=y.length;u--;)(h=y[u])&&(l=o?ee(r,h):d[u])>-1&&(r[l]=!(a[l]=h))}}else y=g(y===a?y.splice(p,y.length):y),o?o(null,a,y,c):Z.apply(a,y)})}function b(e){for(var t,n,r,i=e.length,o=x.relative[e[0].type],a=o||x.relative[" "],s=o?1:0,c=f(function(e){return e===t},a,!0),l=f(function(e){return ee(t,e)>-1},a,!0),u=[function(e,n,r){var i=!o&&(r||n!==A)||((t=n).nodeType?c(e,n,r):l(e,n,r));return t=null,i}];s<i;s++)if(n=x.relative[e[s].type])u=[f(p(u),n)];else{if(n=x.filter[e[s].type].apply(null,e[s].matches),n[U]){for(r=++s;r<i&&!x.relative[e[r].type];r++);return v(s>1&&p(u),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,s<r&&b(e.slice(s,r)),r<i&&b(e=e.slice(r)),r<i&&d(e))}u.push(n)}return p(u)}function y(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,c,l){var u,h,d,f=0,p="0",m=r&&[],v=[],b=A,y=r||o&&x.find.TAG("*",l),w=z+=null==b?1:Math.random()||.1,_=y.length;for(l&&(A=a===O||a||l);p!==_&&null!=(u=y[p]);p++){if(o&&u){for(h=0,a||u.ownerDocument===O||(M(u),s=!F);d=e[h++];)if(d(u,a||O,s)){c.push(u);break}l&&(z=w)}i&&((u=!d&&u)&&f--,r&&m.push(u))}if(f+=p,i&&p!==f){for(h=0;d=n[h++];)d(m,v,a,s);if(r){if(f>0)for(;p--;)m[p]||v[p]||(v[p]=X.call(c));v=g(v)}Z.apply(c,v),l&&!r&&v.length>0&&f+n.length>1&&t.uniqueSort(c)}return l&&(z=w,A=b),m};return i?r(a):a}var w,_,x,k,S,j,P,E,A,T,C,M,O,I,F,D,L,R,N,U="sizzle"+1*new Date,$=e.document,z=0,B=0,q=n(),V=n(),H=n(),W=function(e,t){return e===t&&(C=!0),0},G=1<<31,Y={}.hasOwnProperty,K=[],X=K.pop,Q=K.push,Z=K.push,J=K.slice,ee=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",oe=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),le=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ue=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(oe),de=new RegExp("^"+re+"$"),fe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,ye=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),_e=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},xe=function(){M()};try{Z.apply(K=J.call($.childNodes),$.childNodes),K[$.childNodes.length].nodeType}catch(ke){Z={apply:K.length?function(e,t){Q.apply(e,J.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}_=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},M=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:$;return r!==O&&9===r.nodeType&&r.documentElement?(O=r,I=O.documentElement,F=!S(O),(n=O.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xe,!1):n.attachEvent&&n.attachEvent("onunload",xe)),_.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),_.getElementsByTagName=i(function(e){return e.appendChild(O.createComment("")),!e.getElementsByTagName("*").length}),_.getElementsByClassName=ge.test(O.getElementsByClassName),_.getById=i(function(e){return I.appendChild(e).id=U,!O.getElementsByName||!O.getElementsByName(U).length}),_.getById?(x.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&F){var n=t.getElementById(e);return n?[n]:[]}},x.filter.ID=function(e){var t=e.replace(we,_e);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(we,_e);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=_.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):_.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},x.find.CLASS=_.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&F)return t.getElementsByClassName(e)},L=[],D=[],(_.qsa=ge.test(O.querySelectorAll))&&(i(function(e){I.appendChild(e).innerHTML="<a id='"+U+"'></a><select id='"+U+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||D.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+U+"-]").length||D.push("~="),e.querySelectorAll(":checked").length||D.push(":checked"),e.querySelectorAll("a#"+U+"+*").length||D.push(".#.+[+~]")}),i(function(e){var t=O.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&D.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||D.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),D.push(",.*:")})),(_.matchesSelector=ge.test(R=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&i(function(e){_.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),L.push("!=",oe)}),D=D.length&&new RegExp(D.join("|")),L=L.length&&new RegExp(L.join("|")),t=ge.test(I.compareDocumentPosition),N=t||ge.test(I.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return C=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!_.sortDetached&&t.compareDocumentPosition(e)===n?e===O||e.ownerDocument===$&&N($,e)?-1:t===O||t.ownerDocument===$&&N($,t)?1:T?ee(T,e)-ee(T,t):0:4&n?-1:1)}:function(e,t){if(e===t)return C=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],c=[t];if(!i||!o)return e===O?-1:t===O?1:i?-1:o?1:T?ee(T,e)-ee(T,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;s[r]===c[r];)r++;return r?a(s[r],c[r]):s[r]===$?-1:c[r]===$?1:0},O):O},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==O&&M(e),n=n.replace(ue,"='$1']"),_.matchesSelector&&F&&!H[n+" "]&&(!L||!L.test(n))&&(!D||!D.test(n)))try{var r=R.call(e,n);if(r||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,O,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==O&&M(e),N(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==O&&M(e);var n=x.attrHandle[t.toLowerCase()],r=n&&Y.call(x.attrHandle,t.toLowerCase())?n(e,t,!F):void 0;return void 0!==r?r:_.attributes||!F?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(C=!_.detectDuplicates,T=!_.sortStable&&e.slice(0),e.sort(W),C){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return T=null,e},k=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=k(t);return n},x=t.selectors={cacheLength:50,createPseudo:r,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,_e),e[3]=(e[3]||e[4]||e[5]||"").replace(we,_e),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),
e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&he.test(n)&&(t=j(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,_e).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,c){var l,u,h,d,f,p,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!c&&!s,y=!1;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&b){for(d=g,h=d[U]||(d[U]={}),u=h[d.uniqueID]||(h[d.uniqueID]={}),l=u[e]||[],f=l[0]===z&&l[1],y=f&&l[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(y=f=0)||p.pop();)if(1===d.nodeType&&++y&&d===t){u[e]=[z,f,y];break}}else if(b&&(d=t,h=d[U]||(d[U]={}),u=h[d.uniqueID]||(h[d.uniqueID]={}),l=u[e]||[],f=l[0]===z&&l[1],y=f),y===!1)for(;(d=++f&&d&&d[m]||(y=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++y||(b&&(h=d[U]||(d[U]={}),u=h[d.uniqueID]||(h[d.uniqueID]={}),u[e]=[z,y]),d!==t)););return y-=i,y===r||y%r===0&&y/r>=0}}},PSEUDO:function(e,n){var i,o=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[U]?o(n):o.length>1?(i=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=P(e.replace(se,"$1"));return i[U]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(we,_e),function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:r(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,_e).toLowerCase(),function(t){var n;do if(n=F?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===I},focus:function(e){return e===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[n<0?n+t:n]}),even:l(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},x.pseudos.nth=x.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=c(w);return h.prototype=x.filters=x.pseudos,x.setFilters=new h,j=t.tokenize=function(e,n){var r,i,o,a,s,c,l,u=V[e+" "];if(u)return n?0:u.slice(0);for(s=e,c=[],l=x.preFilter;s;){r&&!(i=ce.exec(s))||(i&&(s=s.slice(i[0].length)||s),c.push(o=[])),r=!1,(i=le.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(se," ")}),s=s.slice(r.length));for(a in x.filter)!(i=fe[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):V(e,c).slice(0)},P=t.compile=function(e,t){var n,r=[],i=[],o=H[e+" "];if(!o){for(t||(t=j(e)),n=t.length;n--;)o=b(t[n]),o[U]?r.push(o):i.push(o);o=H(e,y(i,r)),o.selector=e}return o},E=t.select=function(e,t,n,r){var i,o,a,s,c,l="function"==typeof e&&e,h=!r&&j(e=l.selector||e);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&_.getById&&9===t.nodeType&&F&&x.relative[o[1].type]){if(t=(x.find.ID(a.matches[0].replace(we,_e),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=fe.needsContext.test(e)?0:o.length;i--&&(a=o[i],!x.relative[s=a.type]);)if((c=x.find[s])&&(r=c(a.matches[0].replace(we,_e),be.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&d(o),!e)return Z.apply(n,r),n;break}}return(l||P(e,h))(r,t,!F,n,!t||be.test(e)&&u(t.parentNode)||t),n},_.sortStable=U.split("").sort(W).join("")===U,_.detectDuplicates=!!C,M(),_.sortDetached=i(function(e){return 1&e.compareDocumentPosition(O.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),_.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);oe.find=ue,oe.expr=ue.selectors,oe.expr[":"]=oe.expr.pseudos,oe.uniqueSort=oe.unique=ue.uniqueSort,oe.text=ue.getText,oe.isXMLDoc=ue.isXML,oe.contains=ue.contains;var he=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&oe(e).is(n))break;r.push(e)}return r},de=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},fe=oe.expr.match.needsContext,pe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,me=/^.[^:#\[\.,]*$/;oe.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?oe.find.matchesSelector(r,e)?[r]:[]:oe.find.matches(e,oe.grep(t,function(e){return 1===e.nodeType}))},oe.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(oe(e).filter(function(){for(t=0;t<n;t++)if(oe.contains(i[t],this))return!0}));for(t=0;t<n;t++)oe.find(e,i[t],r);return r=this.pushStack(n>1?oe.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&fe.test(e)?oe(e):e||[],!1).length}});var ge,ve=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,be=oe.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||ge,"string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ve.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof oe?t[0]:t,oe.merge(this,oe.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:K,!0)),pe.test(r[1])&&oe.isPlainObject(t))for(r in t)oe.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=K.getElementById(r[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=K,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):oe.isFunction(e)?void 0!==n.ready?n.ready(e):e(oe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),oe.makeArray(e,this))};be.prototype=oe.fn,ge=oe(K);var ye=/^(?:parents|prev(?:Until|All))/,we={children:!0,contents:!0,next:!0,prev:!0};oe.fn.extend({has:function(e){var t=oe(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(oe.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=fe.test(e)||"string"!=typeof e?oe(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&oe.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?oe.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?J.call(oe(e),this[0]):J.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(oe.uniqueSort(oe.merge(this.get(),oe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),oe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return he(e,"parentNode")},parentsUntil:function(e,t,n){return he(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return he(e,"nextSibling")},prevAll:function(e){return he(e,"previousSibling")},nextUntil:function(e,t,n){return he(e,"nextSibling",n)},prevUntil:function(e,t,n){return he(e,"previousSibling",n)},siblings:function(e){return de((e.parentNode||{}).firstChild,e)},children:function(e){return de(e.firstChild)},contents:function(e){return e.contentDocument||oe.merge([],e.childNodes)}},function(e,t){oe.fn[e]=function(n,r){var i=oe.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=oe.filter(r,i)),this.length>1&&(we[e]||oe.uniqueSort(i),ye.test(e)&&i.reverse()),this.pushStack(i)}});var _e=/\S+/g;oe.Callbacks=function(e){e="string"==typeof e?o(e):oe.extend({},e);var t,n,r,i,a=[],s=[],c=-1,l=function(){for(i=e.once,r=t=!0;s.length;c=-1)for(n=s.shift();++c<a.length;)a[c].apply(n[0],n[1])===!1&&e.stopOnFalse&&(c=a.length,n=!1);e.memory||(n=!1),t=!1,i&&(a=n?[]:"")},u={add:function(){return a&&(n&&!t&&(c=a.length-1,s.push(n)),function r(t){oe.each(t,function(t,n){oe.isFunction(n)?e.unique&&u.has(n)||a.push(n):n&&n.length&&"string"!==oe.type(n)&&r(n)})}(arguments),n&&!t&&l()),this},remove:function(){return oe.each(arguments,function(e,t){for(var n;(n=oe.inArray(t,a,n))>-1;)a.splice(n,1),n<=c&&c--}),this},has:function(e){return e?oe.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return i=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return i=s=[],n||(a=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},oe.extend({Deferred:function(e){var t=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return oe.Deferred(function(n){oe.each(t,function(t,o){var a=oe.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&oe.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?oe.extend(e,r):r}},i={};return r.pipe=r.then,oe.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=X.call(arguments),a=o.length,s=1!==a||e&&oe.isFunction(e.promise)?a:0,c=1===s?e:oe.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?X.call(arguments):i,r===t?c.notifyWith(n,r):--s||c.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);i<a;i++)o[i]&&oe.isFunction(o[i].promise)?o[i].promise().progress(l(i,n,t)).done(l(i,r,o)).fail(c.reject):--s;return s||c.resolveWith(r,o),c.promise()}});var xe;oe.fn.ready=function(e){return oe.ready.promise().done(e),this},oe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?oe.readyWait++:oe.ready(!0)},ready:function(e){(e===!0?--oe.readyWait:oe.isReady)||(oe.isReady=!0,e!==!0&&--oe.readyWait>0||(xe.resolveWith(K,[oe]),oe.fn.triggerHandler&&(oe(K).triggerHandler("ready"),oe(K).off("ready"))))}}),oe.ready.promise=function(t){return xe||(xe=oe.Deferred(),"complete"===K.readyState||"loading"!==K.readyState&&!K.documentElement.doScroll?e.setTimeout(oe.ready):(K.addEventListener("DOMContentLoaded",a),e.addEventListener("load",a))),xe.promise(t)},oe.ready.promise();var ke=function(e,t,n,r,i,o,a){var s=0,c=e.length,l=null==n;if("object"===oe.type(n)){i=!0;for(s in n)ke(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,oe.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(oe(e),n)})),t))for(;s<c;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):c?t(e[0],n):o},Se=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};s.uid=1,s.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!Se(e))return{};var t=e[this.expando];return t||(t={},Se(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[t]=n;else for(r in t)i[r]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,oe.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=e[this.expando];if(void 0!==o){if(void 0===t)this.register(e);else{oe.isArray(t)?r=t.concat(t.map(oe.camelCase)):(i=oe.camelCase(t),t in o?r=[t,i]:(r=i,r=r in o?[r]:r.match(_e)||[])),n=r.length;for(;n--;)delete o[r[n]]}(void 0===t||oe.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!oe.isEmptyObject(t)}};var je=new s,Pe=new s,Ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ae=/[A-Z]/g;oe.extend({hasData:function(e){return Pe.hasData(e)||je.hasData(e)},data:function(e,t,n){return Pe.access(e,t,n)},removeData:function(e,t){Pe.remove(e,t)},_data:function(e,t,n){return je.access(e,t,n)},_removeData:function(e,t){je.remove(e,t)}}),oe.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=Pe.get(o),1===o.nodeType&&!je.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=oe.camelCase(r.slice(5)),c(o,r,i[r])));je.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Pe.set(this,e)}):ke(this,function(t){var n,r;if(o&&void 0===t){if(n=Pe.get(o,e)||Pe.get(o,e.replace(Ae,"-$&").toLowerCase()),void 0!==n)return n;if(r=oe.camelCase(e),n=Pe.get(o,r),void 0!==n)return n;if(n=c(o,r,void 0),void 0!==n)return n}else r=oe.camelCase(e),this.each(function(){var n=Pe.get(this,r);Pe.set(this,r,t),e.indexOf("-")>-1&&void 0!==n&&Pe.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Pe.remove(this,e)})}}),oe.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=je.get(e,t),n&&(!r||oe.isArray(n)?r=je.access(e,t,oe.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=oe.queue(e,t),r=n.length,i=n.shift(),o=oe._queueHooks(e,t),a=function(){oe.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return je.get(e,n)||je.access(e,n,{empty:oe.Callbacks("once memory").add(function(){je.remove(e,[t+"queue",n])})})}}),oe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?oe.queue(this[0],e):void 0===t?this:this.each(function(){var n=oe.queue(this,e,t);oe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&oe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){oe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=oe.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=je.get(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ce=new RegExp("^(?:([+-])=|)("+Te+")([a-z%]*)$","i"),Me=["Top","Right","Bottom","Left"],Oe=function(e,t){return e=t||e,"none"===oe.css(e,"display")||!oe.contains(e.ownerDocument,e)},Ie=/^(?:checkbox|radio)$/i,Fe=/<([\w:-]+)/,De=/^$|\/(?:java|ecma)script/i,Le={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Le.optgroup=Le.option,Le.tbody=Le.tfoot=Le.colgroup=Le.caption=Le.thead,Le.th=Le.td;var Re=/<|&#?\w+;/;!function(){var e=K.createDocumentFragment(),t=e.appendChild(K.createElement("div")),n=K.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),re.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",re.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ne=/^key/,Ue=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,$e=/^([^.]*)(?:\.(.+)|)/;oe.event={global:{},add:function(e,t,n,r,i){var o,a,s,c,l,u,h,d,f,p,m,g=je.get(e);if(g)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=oe.guid++),(c=g.events)||(c=g.events={}),(a=g.handle)||(a=g.handle=function(t){return"undefined"!=typeof oe&&oe.event.triggered!==t.type?oe.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(_e)||[""],l=t.length;l--;)s=$e.exec(t[l])||[],f=m=s[1],p=(s[2]||"").split(".").sort(),f&&(h=oe.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,h=oe.event.special[f]||{},u=oe.extend({type:f,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&oe.expr.match.needsContext.test(i),namespace:p.join(".")},o),(d=c[f])||(d=c[f]=[],d.delegateCount=0,h.setup&&h.setup.call(e,r,p,a)!==!1||e.addEventListener&&e.addEventListener(f,a)),h.add&&(h.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,u):d.push(u),oe.event.global[f]=!0)},remove:function(e,t,n,r,i){var o,a,s,c,l,u,h,d,f,p,m,g=je.hasData(e)&&je.get(e);if(g&&(c=g.events)){for(t=(t||"").match(_e)||[""],l=t.length;l--;)if(s=$e.exec(t[l])||[],f=m=s[1],p=(s[2]||"").split(".").sort(),f){for(h=oe.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,d=c[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)u=d[o],!i&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(e,u));a&&!d.length&&(h.teardown&&h.teardown.call(e,p,g.handle)!==!1||oe.removeEvent(e,f,g.handle),delete c[f])}else for(f in c)oe.event.remove(e,f+t[l],n,r,!0);oe.isEmptyObject(c)&&je.remove(e,"handle events")}},dispatch:function(e){e=oe.event.fix(e);var t,n,r,i,o,a=[],s=X.call(arguments),c=(je.get(this,"events")||{})[e.type]||[],l=oe.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=oe.event.handlers.call(this,e,c),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,r=((oe.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(r=[],n=0;n<s;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?oe(i,this).index(c)>-1:oe.find(i,this,null,[c]).length),r[i]&&r.push(o);r.length&&a.push({elem:c,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||K,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[oe.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Ue.test(i)?this.mouseHooks:Ne.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new oe.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=K),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==m()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===m()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&oe.nodeName(this,"input"))return this.click(),!1},_default:function(e){return oe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},oe.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},oe.Event=function(e,t){return this instanceof oe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?f:p):this.type=e,t&&oe.extend(this,t),this.timeStamp=e&&e.timeStamp||oe.now(),void(this[oe.expando]=!0)):new oe.Event(e,t)},oe.Event.prototype={constructor:oe.Event,isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},oe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){oe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||oe.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),oe.fn.extend({on:function(e,t,n,r){return g(this,e,t,n,r)},one:function(e,t,n,r){return g(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,oe(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=p),this.each(function(){oe.event.remove(this,e,n,t)})}});var ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Be=/<script|<style|<link/i,qe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ve=/^true\/(.*)/,He=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;oe.extend({htmlPrefilter:function(e){return e.replace(ze,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),c=oe.contains(e.ownerDocument,e);if(!(re.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||oe.isXMLDoc(e)))for(a=u(s),o=u(e),r=0,i=o.length;r<i;r++)_(o[r],a[r]);if(t)if(n)for(o=o||u(e),a=a||u(s),r=0,i=o.length;r<i;r++)w(o[r],a[r]);else w(e,s);return a=u(s,"script"),a.length>0&&h(a,!c&&u(e,"script")),s},cleanData:function(e){for(var t,n,r,i=oe.event.special,o=0;void 0!==(n=e[o]);o++)if(Se(n)){if(t=n[je.expando]){if(t.events)for(r in t.events)i[r]?oe.event.remove(n,r):oe.removeEvent(n,r,t.handle);n[je.expando]=void 0}n[Pe.expando]&&(n[Pe.expando]=void 0)}}}),oe.fn.extend({domManip:x,detach:function(e){return k(this,e,!0)},remove:function(e){return k(this,e)},text:function(e){return ke(this,function(e){return void 0===e?oe.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return x(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.appendChild(e)}})},prepend:function(){return x(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return x(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return x(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(oe.cleanData(u(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return oe.clone(this,e,t)})},html:function(e){return ke(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Be.test(e)&&!Le[(Fe.exec(e)||["",""])[1].toLowerCase()]){e=oe.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(oe.cleanData(u(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return x(this,arguments,function(t){var n=this.parentNode;oe.inArray(this,e)<0&&(oe.cleanData(u(this)),n&&n.replaceChild(t,this))},e)}}),oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){oe.fn[e]=function(e){for(var n,r=[],i=oe(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),oe(i[a])[t](n),Z.apply(r,n.get());return this.pushStack(r)}});var We,Ge={HTML:"block",BODY:"block"},Ye=/^margin/,Ke=new RegExp("^("+Te+")(?!px)[a-z%]+$","i"),Xe=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Qe=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},Ze=K.documentElement;!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Ze.appendChild(a);var t=e.getComputedStyle(s);n="1%"!==t.top,o="2px"===t.marginLeft,r="4px"===t.width,s.style.marginRight="50%",i="4px"===t.marginRight,Ze.removeChild(a)}var n,r,i,o,a=K.createElement("div"),s=K.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",re.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),oe.extend(re,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},pixelMarginRight:function(){return null==r&&t(),i},reliableMarginLeft:function(){return null==r&&t(),o},reliableMarginRight:function(){var t,n=s.appendChild(K.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",Ze.appendChild(a),t=!parseFloat(e.getComputedStyle(n).marginRight),Ze.removeChild(a),s.removeChild(n),t}}))}();var Je=/^(none|table(?!-c[ea]).+)/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"},nt=["Webkit","O","Moz","ms"],rt=K.createElement("div").style;oe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=P(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=oe.camelCase(t),c=e.style;return t=oe.cssProps[s]||(oe.cssProps[s]=A(s)||s),a=oe.cssHooks[t]||oe.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:c[t]:(o=typeof n,"string"===o&&(i=Ce.exec(n))&&i[1]&&(n=l(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(oe.cssNumber[s]?"":"px")),re.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(c[t]=n)),void 0)}},css:function(e,t,n,r){var i,o,a,s=oe.camelCase(t);return t=oe.cssProps[s]||(oe.cssProps[s]=A(s)||s),a=oe.cssHooks[t]||oe.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=P(e,t,r)),"normal"===i&&t in tt&&(i=tt[t]),""===n||n?(o=parseFloat(i),n===!0||isFinite(o)?o||0:i):i}}),oe.each(["height","width"],function(e,t){oe.cssHooks[t]={get:function(e,n,r){if(n)return Je.test(oe.css(e,"display"))&&0===e.offsetWidth?Qe(e,et,function(){return M(e,t,r)}):M(e,t,r)},set:function(e,n,r){var i,o=r&&Xe(e),a=r&&C(e,t,r,"border-box"===oe.css(e,"boxSizing",!1,o),o);return a&&(i=Ce.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=oe.css(e,t)),T(e,n,a)}}}),oe.cssHooks.marginLeft=E(re.reliableMarginLeft,function(e,t){if(t)return(parseFloat(P(e,"marginLeft"))||e.getBoundingClientRect().left-Qe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),oe.cssHooks.marginRight=E(re.reliableMarginRight,function(e,t){if(t)return Qe(e,{display:"inline-block"},P,[e,"marginRight"])}),oe.each({margin:"",padding:"",border:"Width"},function(e,t){oe.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Me[r]+t]=o[r]||o[r-2]||o[0];return i}},Ye.test(e)||(oe.cssHooks[e+t].set=T)}),oe.fn.extend({css:function(e,t){return ke(this,function(e,t,n){var r,i,o={},a=0;if(oe.isArray(t)){for(r=Xe(e),i=t.length;a<i;a++)o[t[a]]=oe.css(e,t[a],!1,r);return o}return void 0!==n?oe.style(e,t,n):oe.css(e,t)},e,t,arguments.length>1)},show:function(){return O(this,!0)},hide:function(){return O(this);
},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Oe(this)?oe(this).show():oe(this).hide()})}}),oe.Tween=I,I.prototype={constructor:I,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||oe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(oe.cssNumber[n]?"":"px")},cur:function(){var e=I.propHooks[this.prop];return e&&e.get?e.get(this):I.propHooks._default.get(this)},run:function(e){var t,n=I.propHooks[this.prop];return this.options.duration?this.pos=t=oe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=oe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){oe.fx.step[e.prop]?oe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[oe.cssProps[e.prop]]&&!oe.cssHooks[e.prop]?e.elem[e.prop]=e.now:oe.style(e.elem,e.prop,e.now+e.unit)}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},oe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},oe.fx=I.prototype.init,oe.fx.step={};var it,ot,at=/^(?:toggle|show|hide)$/,st=/queueHooks$/;oe.Animation=oe.extend(U,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return l(n.elem,e,Ce.exec(t),n),n}]},tweener:function(e,t){oe.isFunction(e)?(t=e,e=["*"]):e=e.match(_e);for(var n,r=0,i=e.length;r<i;r++)n=e[r],U.tweeners[n]=U.tweeners[n]||[],U.tweeners[n].unshift(t)},prefilters:[R],prefilter:function(e,t){t?U.prefilters.unshift(e):U.prefilters.push(e)}}),oe.speed=function(e,t,n){var r=e&&"object"==typeof e?oe.extend({},e):{complete:n||!n&&t||oe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!oe.isFunction(t)&&t};return r.duration=oe.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in oe.fx.speeds?oe.fx.speeds[r.duration]:oe.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){oe.isFunction(r.old)&&r.old.call(this),r.queue&&oe.dequeue(this,r.queue)},r},oe.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Oe).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=oe.isEmptyObject(e),o=oe.speed(t,n,r),a=function(){var t=U(this,oe.extend({},e),o);(i||je.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=oe.timers,a=je.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&st.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||oe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=je.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=oe.timers,a=r?r.length:0;for(n.finish=!0,oe.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),oe.each(["toggle","show","hide"],function(e,t){var n=oe.fn[t];oe.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(D(t,!0),e,r,i)}}),oe.each({slideDown:D("show"),slideUp:D("hide"),slideToggle:D("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){oe.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),oe.timers=[],oe.fx.tick=function(){var e,t=0,n=oe.timers;for(it=oe.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||oe.fx.stop(),it=void 0},oe.fx.timer=function(e){oe.timers.push(e),e()?oe.fx.start():oe.timers.pop()},oe.fx.interval=13,oe.fx.start=function(){ot||(ot=e.setInterval(oe.fx.tick,oe.fx.interval))},oe.fx.stop=function(){e.clearInterval(ot),ot=null},oe.fx.speeds={slow:600,fast:200,_default:400},oe.fn.delay=function(t,n){return t=oe.fx?oe.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=K.createElement("input"),t=K.createElement("select"),n=t.appendChild(K.createElement("option"));e.type="checkbox",re.checkOn=""!==e.value,re.optSelected=n.selected,t.disabled=!0,re.optDisabled=!n.disabled,e=K.createElement("input"),e.value="t",e.type="radio",re.radioValue="t"===e.value}();var ct,lt=oe.expr.attrHandle;oe.fn.extend({attr:function(e,t){return ke(this,oe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){oe.removeAttr(this,e)})}}),oe.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?oe.prop(e,t,n):(1===o&&oe.isXMLDoc(e)||(t=t.toLowerCase(),i=oe.attrHooks[t]||(oe.expr.match.bool.test(t)?ct:void 0)),void 0!==n?null===n?void oe.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=oe.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!re.radioValue&&"radio"===t&&oe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(_e);if(o&&1===e.nodeType)for(;n=o[i++];)r=oe.propFix[n]||n,oe.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)}}),ct={set:function(e,t,n){return t===!1?oe.removeAttr(e,n):e.setAttribute(n,n),n}},oe.each(oe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=lt[t]||oe.find.attr;lt[t]=function(e,t,r){var i,o;return r||(o=lt[t],lt[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,lt[t]=o),i}});var ut=/^(?:input|select|textarea|button)$/i,ht=/^(?:a|area)$/i;oe.fn.extend({prop:function(e,t){return ke(this,oe.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[oe.propFix[e]||e]})}}),oe.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&oe.isXMLDoc(e)||(t=oe.propFix[t]||t,i=oe.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=oe.find.attr(e,"tabindex");return t?parseInt(t,10):ut.test(e.nodeName)||ht.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),re.optSelected||(oe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oe.propFix[this.toLowerCase()]=this});var dt=/[\t\r\n\f]/g;oe.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,c=0;if(oe.isFunction(e))return this.each(function(t){oe(this).addClass(e.call(this,t,$(this)))});if("string"==typeof e&&e)for(t=e.match(_e)||[];n=this[c++];)if(i=$(n),r=1===n.nodeType&&(" "+i+" ").replace(dt," ")){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=oe.trim(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,c=0;if(oe.isFunction(e))return this.each(function(t){oe(this).removeClass(e.call(this,t,$(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(_e)||[];n=this[c++];)if(i=$(n),r=1===n.nodeType&&(" "+i+" ").replace(dt," ")){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=oe.trim(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):oe.isFunction(e)?this.each(function(n){oe(this).toggleClass(e.call(this,n,$(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=oe(this),o=e.match(_e)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||(t=$(this),t&&je.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":je.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+$(n)+" ").replace(dt," ").indexOf(t)>-1)return!0;return!1}});var ft=/\r/g,pt=/[\x20\t\r\n\f]+/g;oe.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=oe.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,oe(this).val()):e,null==i?i="":"number"==typeof i?i+="":oe.isArray(i)&&(i=oe.map(i,function(e){return null==e?"":e+""})),t=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=oe.valHooks[i.type]||oe.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ft,""):null==n?"":n)}}}),oe.extend({valHooks:{option:{get:function(e){var t=oe.find.attr(e,"value");return null!=t?t:oe.trim(oe.text(e)).replace(pt," ")}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,c=i<0?s:o?i:0;c<s;c++)if(n=r[c],(n.selected||c===i)&&(re.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!oe.nodeName(n.parentNode,"optgroup"))){if(t=oe(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=oe.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=oe.inArray(oe.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),oe.each(["radio","checkbox"],function(){oe.valHooks[this]={set:function(e,t){if(oe.isArray(t))return e.checked=oe.inArray(oe(e).val(),t)>-1}},re.checkOn||(oe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var mt=/^(?:focusinfocus|focusoutblur)$/;oe.extend(oe.event,{trigger:function(t,n,r,i){var o,a,s,c,l,u,h,d=[r||K],f=ne.call(t,"type")?t.type:t,p=ne.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||K,3!==r.nodeType&&8!==r.nodeType&&!mt.test(f+oe.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),f=p.shift(),p.sort()),l=f.indexOf(":")<0&&"on"+f,t=t[oe.expando]?t:new oe.Event(f,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:oe.makeArray(n,[t]),h=oe.event.special[f]||{},i||!h.trigger||h.trigger.apply(r,n)!==!1)){if(!i&&!h.noBubble&&!oe.isWindow(r)){for(c=h.delegateType||f,mt.test(c+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),s=a;s===(r.ownerDocument||K)&&d.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=d[o++])&&!t.isPropagationStopped();)t.type=o>1?c:h.bindType||f,u=(je.get(a,"events")||{})[t.type]&&je.get(a,"handle"),u&&u.apply(a,n),u=l&&a[l],u&&u.apply&&Se(a)&&(t.result=u.apply(a,n),t.result===!1&&t.preventDefault());return t.type=f,i||t.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),n)!==!1||!Se(r)||l&&oe.isFunction(r[f])&&!oe.isWindow(r)&&(s=r[l],s&&(r[l]=null),oe.event.triggered=f,r[f](),oe.event.triggered=void 0,s&&(r[l]=s)),t.result}},simulate:function(e,t,n){var r=oe.extend(new oe.Event,n,{type:e,isSimulated:!0});oe.event.trigger(r,null,t)}}),oe.fn.extend({trigger:function(e,t){return this.each(function(){oe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return oe.event.trigger(e,t,n,!0)}}),oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){oe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),oe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),re.focusin="onfocusin"in e,re.focusin||oe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){oe.event.simulate(t,e.target,oe.event.fix(e))};oe.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=je.access(r,t);i||r.addEventListener(e,n,!0),je.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=je.access(r,t)-1;i?je.access(r,t,i):(r.removeEventListener(e,n,!0),je.remove(r,t))}}});var gt=e.location,vt=oe.now(),bt=/\?/;oe.parseJSON=function(e){return JSON.parse(e+"")},oe.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(r){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||oe.error("Invalid XML: "+t),n};var yt=/#.*$/,wt=/([?&])_=[^&]*/,_t=/^(.*?):[ \t]*([^\r\n]*)$/gm,xt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,kt=/^(?:GET|HEAD)$/,St=/^\/\//,jt={},Pt={},Et="*/".concat("*"),At=K.createElement("a");At.href=gt.href,oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gt.href,type:"GET",isLocal:xt.test(gt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Et,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?q(q(e,oe.ajaxSettings),t):q(oe.ajaxSettings,e)},ajaxPrefilter:z(jt),ajaxTransport:z(Pt),ajax:function(t,n){function r(t,n,r,s){var l,h,b,y,_,k=n;2!==w&&(w=2,c&&e.clearTimeout(c),i=void 0,a=s||"",x.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(y=V(d,x,r)),y=H(d,y,x,l),l?(d.ifModified&&(_=x.getResponseHeader("Last-Modified"),_&&(oe.lastModified[o]=_),_=x.getResponseHeader("etag"),_&&(oe.etag[o]=_)),204===t||"HEAD"===d.type?k="nocontent":304===t?k="notmodified":(k=y.state,h=y.data,b=y.error,l=!b)):(b=k,!t&&k||(k="error",t<0&&(t=0))),x.status=t,x.statusText=(n||k)+"",l?m.resolveWith(f,[h,k,x]):m.rejectWith(f,[x,k,b]),x.statusCode(v),v=void 0,u&&p.trigger(l?"ajaxSuccess":"ajaxError",[x,d,l?h:b]),g.fireWith(f,[x,k]),u&&(p.trigger("ajaxComplete",[x,d]),--oe.active||oe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,c,l,u,h,d=oe.ajaxSetup({},n),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?oe(f):oe.event,m=oe.Deferred(),g=oe.Callbacks("once memory"),v=d.statusCode||{},b={},y={},w=0,_="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!s)for(s={};t=_t.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=y[n]=y[n]||e,b[e]=t),this},overrideMimeType:function(e){return w||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)v[t]=[v[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||_;return i&&i.abort(t),r(0,t),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,d.url=((t||d.url||gt.href)+"").replace(yt,"").replace(St,gt.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=oe.trim(d.dataType||"*").toLowerCase().match(_e)||[""],null==d.crossDomain){l=K.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=At.protocol+"//"+At.host!=l.protocol+"//"+l.host}catch(k){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=oe.param(d.data,d.traditional)),B(jt,d,n,x),2===w)return x;u=oe.event&&d.global,u&&0===oe.active++&&oe.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!kt.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(bt.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=wt.test(o)?o.replace(wt,"$1_="+vt++):o+(bt.test(o)?"&":"?")+"_="+vt++)),d.ifModified&&(oe.lastModified[o]&&x.setRequestHeader("If-Modified-Since",oe.lastModified[o]),oe.etag[o]&&x.setRequestHeader("If-None-Match",oe.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",d.contentType),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Et+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)x.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(d.beforeSend.call(f,x,d)===!1||2===w))return x.abort();_="abort";for(h in{success:1,error:1,complete:1})x[h](d[h]);if(i=B(Pt,d,n,x)){if(x.readyState=1,u&&p.trigger("ajaxSend",[x,d]),2===w)return x;d.async&&d.timeout>0&&(c=e.setTimeout(function(){x.abort("timeout")},d.timeout));try{w=1,i.send(b,r)}catch(k){if(!(w<2))throw k;r(-1,k)}}else r(-1,"No Transport");return x},getJSON:function(e,t,n){return oe.get(e,t,n,"json")},getScript:function(e,t){return oe.get(e,void 0,t,"script")}}),oe.each(["get","post"],function(e,t){oe[t]=function(e,n,r,i){return oe.isFunction(n)&&(i=i||r,r=n,n=void 0),oe.ajax(oe.extend({url:e,type:t,dataType:i,data:n,success:r},oe.isPlainObject(e)&&e))}}),oe._evalUrl=function(e){return oe.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},oe.fn.extend({wrapAll:function(e){var t;return oe.isFunction(e)?this.each(function(t){oe(this).wrapAll(e.call(this,t))}):(this[0]&&(t=oe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return oe.isFunction(e)?this.each(function(t){oe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=oe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=oe.isFunction(e);return this.each(function(n){oe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)}).end()}}),oe.expr.filters.hidden=function(e){return!oe.expr.filters.visible(e)},oe.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var Tt=/%20/g,Ct=/\[\]$/,Mt=/\r?\n/g,Ot=/^(?:submit|button|image|reset|file)$/i,It=/^(?:input|select|textarea|keygen)/i;oe.param=function(e,t){var n,r=[],i=function(e,t){t=oe.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=oe.ajaxSettings&&oe.ajaxSettings.traditional),oe.isArray(e)||e.jquery&&!oe.isPlainObject(e))oe.each(e,function(){i(this.name,this.value)});else for(n in e)W(n,e[n],t,i);return r.join("&").replace(Tt,"+")},oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=oe.prop(this,"elements");return e?oe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!oe(this).is(":disabled")&&It.test(this.nodeName)&&!Ot.test(e)&&(this.checked||!Ie.test(e))}).map(function(e,t){var n=oe(this).val();return null==n?null:oe.isArray(n)?oe.map(n,function(e){return{name:t.name,value:e.replace(Mt,"\r\n")}}):{name:t.name,value:n.replace(Mt,"\r\n")}}).get()}}),oe.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Ft={0:200,1223:204},Dt=oe.ajaxSettings.xhr();re.cors=!!Dt&&"withCredentials"in Dt,re.ajax=Dt=!!Dt,oe.ajaxTransport(function(t){var n,r;if(re.cors||Dt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Ft[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(c){if(n)throw c}},abort:function(){n&&n()}}}),oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return oe.globalEval(e),e}}}),oe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),oe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=oe("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),K.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Lt=[],Rt=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Lt.pop()||oe.expando+"_"+vt++;return this[e]=!0,e}}),oe.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(Rt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=oe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Rt,"$1"+i):t.jsonp!==!1&&(t.url+=(bt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||oe.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?oe(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Lt.push(i)),a&&oe.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),oe.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||K;var r=pe.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=d([e],t,i),i&&i.length&&oe(i).remove(),oe.merge([],r.childNodes))};var Nt=oe.fn.load;oe.fn.load=function(e,t,n){if("string"!=typeof e&&Nt)return Nt.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=oe.trim(e.slice(s)),e=e.slice(0,s)),oe.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&oe.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?oe("<div>").append(oe.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){oe.fn[t]=function(e){return this.on(t,e)}}),oe.expr.filters.animated=function(e){return oe.grep(oe.timers,function(t){return e===t.elem}).length},oe.offset={setOffset:function(e,t,n){var r,i,o,a,s,c,l,u=oe.css(e,"position"),h=oe(e),d={};"static"===u&&(e.style.position="relative"),s=h.offset(),o=oe.css(e,"top"),c=oe.css(e,"left"),l=("absolute"===u||"fixed"===u)&&(o+c).indexOf("auto")>-1,l?(r=h.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(c)||0),oe.isFunction(t)&&(t=t.call(e,n,oe.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):h.css(d)}},oe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){oe.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return t=o.documentElement,oe.contains(t,r)?(i=r.getBoundingClientRect(),n=G(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===oe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),oe.nodeName(e[0],"html")||(r=e.offset()),r.top+=oe.css(e[0],"borderTopWidth",!0),r.left+=oe.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-oe.css(n,"marginTop",!0),left:t.left-r.left-oe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===oe.css(e,"position");)e=e.offsetParent;return e||Ze})}}),oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;oe.fn[e]=function(r){return ke(this,function(e,r,i){var o=G(e);return void 0===i?o?o[t]:e[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i)},e,r,arguments.length)}}),oe.each(["top","left"],function(e,t){oe.cssHooks[t]=E(re.pixelPosition,function(e,n){if(n)return n=P(e,t),Ke.test(n)?oe(e).position()[t]+"px":n})}),oe.each({Height:"height",Width:"width"},function(e,t){oe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){oe.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return ke(this,function(t,n,r){var i;return oe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?oe.css(t,n,a):oe.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),oe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),oe.fn.andSelf=oe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return oe});var Ut=e.jQuery,$t=e.$;return oe.noConflict=function(t){return e.$===oe&&(e.$=$t),t&&e.jQuery===oe&&(e.jQuery=Ut),oe},t||(e.jQuery=e.$=oe),oe})},{}],305:[function(e,t,n){(function(){function e(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function r(){return new e(null)}function i(e,t,n,r,i,o){for(;--o>=0;){var a=t*this[e++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i}function o(e,t,n,r,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var c=32767&this[e],l=this[e++]>>15,u=s*c+l*a;c=a*c+((32767&u)<<15)+n[r]+(1073741823&i),i=(c>>>30)+(u>>>15)+s*l+(i>>>30),n[r++]=1073741823&c}return i}function a(e,t,n,r,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var c=16383&this[e],l=this[e++]>>14,u=s*c+l*a;c=a*c+((16383&u)<<14)+n[r]+i,i=(c>>28)+(u>>14)+s*l,n[r++]=268435455&c}return i}function s(e){return gt.charAt(e)}function c(e,t){var n=vt[e.charCodeAt(t)];return null==n?-1:n}function l(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function u(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0}function h(e){var t=r();return t.fromInt(e),t}function d(t,n){var r;if(16==n)r=4;else if(8==n)r=3;else if(256==n)r=8;else if(2==n)r=1;else if(32==n)r=5;else{if(4!=n)return void this.fromRadix(t,n);r=2}this.t=0,this.s=0;for(var i=t.length,o=!1,a=0;--i>=0;){var s=8==r?255&t[i]:c(t,i);s<0?"-"==t.charAt(i)&&(o=!0):(o=!1,0==a?this[this.t++]=s:a+r>this.DB?(this[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this[this.t++]=s>>this.DB-a):this[this.t-1]|=s<<a,a+=r,a>=this.DB&&(a-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),o&&e.ZERO.subTo(this,this)}function f(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function p(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,o="",a=this.t,c=this.DB-a*this.DB%t;if(a-- >0)for(c<this.DB&&(n=this[a]>>c)>0&&(i=!0,o=s(n));a>=0;)c<t?(n=(this[a]&(1<<c)-1)<<t-c,n|=this[--a]>>(c+=this.DB-t)):(n=this[a]>>(c-=t)&r,c<=0&&(c+=this.DB,--a)),n>0&&(i=!0),i&&(o+=s(n));return i?o:"0"}function m(){var t=r();return e.ZERO.subTo(this,t),t}function g(){return this.s<0?this.negate():this}function v(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(t=n-e.t,0!=t)return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0}function b(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function y(){return this.t<=0?0:this.DB*(this.t-1)+b(this[this.t-1]^this.s&this.DM)}function w(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s}function _(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s}function x(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>i|s,s=(this[n]&o)<<r;for(n=a-1;n>=0;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()}function k(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)return void(t.t=0);var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&o)<<i,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}function S(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()}function j(t,n){var r=this.abs(),i=t.abs(),o=r.t;for(n.t=o+i.t;--o>=0;)n[o]=0;for(o=0;o<i.t;++o)n[o+r.t]=r.am(0,i[o],n,o,0,r.t);n.s=0,n.clamp(),this.s!=t.s&&e.ZERO.subTo(n,n)}function P(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()}function E(t,n,i){var o=t.abs();if(!(o.t<=0)){var a=this.abs();if(a.t<o.t)return null!=n&&n.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=r());var s=r(),c=this.s,l=t.s,u=this.DB-b(o[o.t-1]);u>0?(o.lShiftTo(u,s),a.lShiftTo(u,i)):(o.copyTo(s),a.copyTo(i));var h=s.t,d=s[h-1];if(0!=d){var f=d*(1<<this.F1)+(h>1?s[h-2]>>this.F2:0),p=this.FV/f,m=(1<<this.F1)/f,g=1<<this.F2,v=i.t,y=v-h,w=null==n?r():n;for(s.dlShiftTo(y,w),i.compareTo(w)>=0&&(i[i.t++]=1,i.subTo(w,i)),e.ONE.dlShiftTo(h,w),w.subTo(s,s);s.t<h;)s[s.t++]=0;for(;--y>=0;){var _=i[--v]==d?this.DM:Math.floor(i[v]*p+(i[v-1]+g)*m);if((i[v]+=s.am(0,_,i,y,0,h))<_)for(s.dlShiftTo(y,w),i.subTo(w,i);i[v]<--_;)i.subTo(w,i)}null!=n&&(i.drShiftTo(h,n),c!=l&&e.ZERO.subTo(n,n)),i.t=h,i.clamp(),u>0&&i.rShiftTo(u,i),c<0&&e.ZERO.subTo(i,i)}}}function A(t){var n=r();return this.abs().divRemTo(t,null,n),this.s<0&&n.compareTo(e.ZERO)>0&&t.subTo(n,n),n}function T(e){this.m=e}function C(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function M(e){return e}function O(e){e.divRemTo(this.m,null,e)}function I(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function F(e,t){e.squareTo(t),this.reduce(t)}function D(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function L(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function R(t){var n=r();return t.abs().dlShiftTo(this.m.t,n),n.divRemTo(this.m,null,n),t.s<0&&n.compareTo(e.ZERO)>0&&this.m.subTo(n,n),n}function N(e){var t=r();return e.copyTo(t),this.reduce(t),t}function U(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,
e[n]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function $(e,t){e.squareTo(t),this.reduce(t)}function z(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function B(){return 0==(this.t>0?1&this[0]:this.s)}function q(t,n){if(t>4294967295||t<1)return e.ONE;var i=r(),o=r(),a=n.convert(this),s=b(t)-1;for(a.copyTo(i);--s>=0;)if(n.sqrTo(i,o),(t&1<<s)>0)n.mulTo(o,a,i);else{var c=i;i=o,o=c}return n.revert(i)}function V(e,t){var n;return n=e<256||t.isEven()?new T(t):new L(t),this.exp(e,n)}function H(){var e=r();return this.copyTo(e),e}function W(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function G(){return 0==this.t?this.s:this[0]<<24>>24}function Y(){return 0==this.t?this.s:this[0]<<16>>16}function K(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function X(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function Q(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),i=h(n),o=r(),a=r(),s="";for(this.divRemTo(i,o,a);o.signum()>0;)s=(n+a.intValue()).toString(e).substr(1)+s,o.divRemTo(i,o,a);return a.intValue().toString(e)+s}function Z(t,n){this.fromInt(0),null==n&&(n=10);for(var r=this.chunkSize(n),i=Math.pow(n,r),o=!1,a=0,s=0,l=0;l<t.length;++l){var u=c(t,l);u<0?"-"==t.charAt(l)&&0==this.signum()&&(o=!0):(s=n*s+u,++a>=r&&(this.dMultiply(i),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(n,a)),this.dAddOffset(s,0)),o&&e.ZERO.subTo(this,this)}function J(t,n,r){if("number"==typeof n)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),se,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(e.ONE.shiftLeft(t-1),this);else{var i=new Array,o=7&t;i.length=(t>>3)+1,n.nextBytes(i),o>0?i[0]&=(1<<o)-1:i[0]=0,this.fromString(i,256)}}function ee(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-- >0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}function te(e){return 0==this.compareTo(e)}function ne(e){return this.compareTo(e)<0?this:e}function re(e){return this.compareTo(e)>0?this:e}function ie(e,t,n){var r,i,o=Math.min(e.t,this.t);for(r=0;r<o;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(i=e.s&this.DM,r=o;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()}function oe(e,t){return e&t}function ae(e){var t=r();return this.bitwiseTo(e,oe,t),t}function se(e,t){return e|t}function ce(e){var t=r();return this.bitwiseTo(e,se,t),t}function le(e,t){return e^t}function ue(e){var t=r();return this.bitwiseTo(e,le,t),t}function he(e,t){return e&~t}function de(e){var t=r();return this.bitwiseTo(e,he,t),t}function fe(){for(var e=r(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e}function pe(e){var t=r();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function me(e){var t=r();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function ge(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function ve(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+ge(this[e]);return this.s<0?this.t*this.DB:-1}function be(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function ye(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=be(this[n]^t);return e}function we(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)}function _e(t,n){var r=e.ONE.shiftLeft(t);return this.bitwiseTo(r,n,r),r}function xe(e){return this.changeBit(e,se)}function ke(e){return this.changeBit(e,he)}function Se(e){return this.changeBit(e,le)}function je(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()}function Pe(e){var t=r();return this.addTo(e,t),t}function Ee(e){var t=r();return this.subTo(e,t),t}function Ae(e){var t=r();return this.multiplyTo(e,t),t}function Te(){var e=r();return this.squareTo(e),e}function Ce(e){var t=r();return this.divRemTo(e,t,null),t}function Me(e){var t=r();return this.divRemTo(e,null,t),t}function Oe(e){var t=r(),n=r();return this.divRemTo(e,t,n),new Array(t,n)}function Ie(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function Fe(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}}function De(){}function Le(e){return e}function Re(e,t,n){e.multiplyTo(t,n)}function Ne(e,t){e.squareTo(t)}function Ue(e){return this.exp(e,new De)}function $e(e,t,n){var r=Math.min(this.t+e.t,t);for(n.s=0,n.t=r;r>0;)n[--r]=0;var i;for(i=n.t-this.t;r<i;++r)n[r+this.t]=this.am(0,e[r],n,r,0,this.t);for(i=Math.min(e.t,t);r<i;++r)this.am(0,e[r],n,r,0,t-r);n.clamp()}function ze(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)}function Be(t){this.r2=r(),this.q3=r(),e.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function qe(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=r();return e.copyTo(t),this.reduce(t),t}function Ve(e){return e}function He(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function We(e,t){e.squareTo(t),this.reduce(t)}function Ge(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function Ye(e,t){var n,i,o=e.bitLength(),a=h(1);if(o<=0)return a;n=o<18?1:o<48?3:o<144?4:o<768?5:6,i=o<8?new T(t):t.isEven()?new Be(t):new L(t);var s=new Array,c=3,l=n-1,u=(1<<n)-1;if(s[1]=i.convert(this),n>1){var d=r();for(i.sqrTo(s[1],d);c<=u;)s[c]=r(),i.mulTo(d,s[c-2],s[c]),c+=2}var f,p,m=e.t-1,g=!0,v=r();for(o=b(e[m])-1;m>=0;){for(o>=l?f=e[m]>>o-l&u:(f=(e[m]&(1<<o+1)-1)<<l-o,m>0&&(f|=e[m-1]>>this.DB+o-l)),c=n;0==(1&f);)f>>=1,--c;if((o-=c)<0&&(o+=this.DB,--m),g)s[f].copyTo(a),g=!1;else{for(;c>1;)i.sqrTo(a,v),i.sqrTo(v,a),c-=2;c>0?i.sqrTo(a,v):(p=a,a=v,v=p),i.mulTo(v,s[f],a)}for(;m>=0&&0==(e[m]&1<<o);)i.sqrTo(a,v),p=a,a=v,v=p,--o<0&&(o=this.DB-1,--m)}return i.revert(a)}function Ke(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),n.rShiftTo(o,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n}function Xe(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n}function Qe(t){var n=t.isEven();if(this.isEven()&&n||0==t.signum())return e.ZERO;for(var r=t.clone(),i=this.clone(),o=h(1),a=h(0),s=h(0),c=h(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),n?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(t,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);for(;i.isEven();)i.rShiftTo(1,i),n?(s.isEven()&&c.isEven()||(s.addTo(this,s),c.subTo(t,c)),s.rShiftTo(1,s)):c.isEven()||c.subTo(t,c),c.rShiftTo(1,c);r.compareTo(i)>=0?(r.subTo(i,r),n&&o.subTo(s,o),a.subTo(c,a)):(i.subTo(r,i),n&&s.subTo(o,s),c.subTo(a,c))}return 0!=i.compareTo(e.ONE)?e.ZERO:c.compareTo(t)>=0?c.subtract(t):c.signum()<0?(c.addTo(t,c),c.signum()<0?c.add(t):c):c}function Ze(e){var t,n=this.abs();if(1==n.t&&n[0]<=bt[bt.length-1]){for(t=0;t<bt.length;++t)if(n[0]==bt[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<bt.length;){for(var r=bt[t],i=t+1;i<bt.length&&r<yt;)r*=bt[i++];for(r=n.modInt(r);t<i;)if(r%bt[t++]==0)return!1}return n.millerRabin(e)}function Je(t){var n=this.subtract(e.ONE),i=n.getLowestSetBit();if(i<=0)return!1;var o=n.shiftRight(i);t=t+1>>1,t>bt.length&&(t=bt.length);for(var a=r(),s=0;s<t;++s){a.fromInt(bt[Math.floor(Math.random()*bt.length)]);var c=a.modPow(o,this);if(0!=c.compareTo(e.ONE)&&0!=c.compareTo(n)){for(var l=1;l++<i&&0!=c.compareTo(n);)if(c=c.modPowInt(2,this),0==c.compareTo(e.ONE))return!1;if(0!=c.compareTo(n))return!1}}return!0}function et(e){_t[xt++]^=255&e,_t[xt++]^=e>>8&255,_t[xt++]^=e>>16&255,_t[xt++]^=e>>24&255,xt>=Pt&&(xt-=Pt)}function tt(){et((new Date).getTime())}function nt(){if(null==wt){for(tt(),wt=ct(),wt.init(_t),xt=0;xt<_t.length;++xt)_t[xt]=0;xt=0}return wt.next()}function rt(e){var t;for(t=0;t<e.length;++t)e[t]=nt()}function it(){}function ot(){this.i=0,this.j=0,this.S=new Array}function at(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0}function st(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]}function ct(){return new ot}var lt,ut=0xdeadbeefcafe,ht=15715070==(16777215&ut),dt="undefined"!=typeof navigator;dt&&ht&&"Microsoft Internet Explorer"==navigator.appName?(e.prototype.am=o,lt=30):dt&&ht&&"Netscape"!=navigator.appName?(e.prototype.am=i,lt=26):(e.prototype.am=a,lt=28),e.prototype.DB=lt,e.prototype.DM=(1<<lt)-1,e.prototype.DV=1<<lt;var ft=52;e.prototype.FV=Math.pow(2,ft),e.prototype.F1=ft-lt,e.prototype.F2=2*lt-ft;var pt,mt,gt="0123456789abcdefghijklmnopqrstuvwxyz",vt=new Array;for(pt="0".charCodeAt(0),mt=0;mt<=9;++mt)vt[pt++]=mt;for(pt="a".charCodeAt(0),mt=10;mt<36;++mt)vt[pt++]=mt;for(pt="A".charCodeAt(0),mt=10;mt<36;++mt)vt[pt++]=mt;T.prototype.convert=C,T.prototype.revert=M,T.prototype.reduce=O,T.prototype.mulTo=I,T.prototype.sqrTo=F,L.prototype.convert=R,L.prototype.revert=N,L.prototype.reduce=U,L.prototype.mulTo=z,L.prototype.sqrTo=$,e.prototype.copyTo=l,e.prototype.fromInt=u,e.prototype.fromString=d,e.prototype.clamp=f,e.prototype.dlShiftTo=w,e.prototype.drShiftTo=_,e.prototype.lShiftTo=x,e.prototype.rShiftTo=k,e.prototype.subTo=S,e.prototype.multiplyTo=j,e.prototype.squareTo=P,e.prototype.divRemTo=E,e.prototype.invDigit=D,e.prototype.isEven=B,e.prototype.exp=q,e.prototype.toString=p,e.prototype.negate=m,e.prototype.abs=g,e.prototype.compareTo=v,e.prototype.bitLength=y,e.prototype.mod=A,e.prototype.modPowInt=V,e.ZERO=h(0),e.ONE=h(1),De.prototype.convert=Le,De.prototype.revert=Le,De.prototype.mulTo=Re,De.prototype.sqrTo=Ne,Be.prototype.convert=qe,Be.prototype.revert=Ve,Be.prototype.reduce=He,Be.prototype.mulTo=Ge,Be.prototype.sqrTo=We;var bt=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],yt=(1<<26)/bt[bt.length-1];e.prototype.chunkSize=K,e.prototype.toRadix=Q,e.prototype.fromRadix=Z,e.prototype.fromNumber=J,e.prototype.bitwiseTo=ie,e.prototype.changeBit=_e,e.prototype.addTo=je,e.prototype.dMultiply=Ie,e.prototype.dAddOffset=Fe,e.prototype.multiplyLowerTo=$e,e.prototype.multiplyUpperTo=ze,e.prototype.modInt=Xe,e.prototype.millerRabin=Je,e.prototype.clone=H,e.prototype.intValue=W,e.prototype.byteValue=G,e.prototype.shortValue=Y,e.prototype.signum=X,e.prototype.toByteArray=ee,e.prototype.equals=te,e.prototype.min=ne,e.prototype.max=re,e.prototype.and=ae,e.prototype.or=ce,e.prototype.xor=ue,e.prototype.andNot=de,e.prototype.not=fe,e.prototype.shiftLeft=pe,e.prototype.shiftRight=me,e.prototype.getLowestSetBit=ve,e.prototype.bitCount=ye,e.prototype.testBit=we,e.prototype.setBit=xe,e.prototype.clearBit=ke,e.prototype.flipBit=Se,e.prototype.add=Pe,e.prototype.subtract=Ee,e.prototype.multiply=Ae,e.prototype.divide=Ce,e.prototype.remainder=Me,e.prototype.divideAndRemainder=Oe,e.prototype.modPow=Ye,e.prototype.modInverse=Qe,e.prototype.pow=Ue,e.prototype.gcd=Ke,e.prototype.isProbablePrime=Ze,e.prototype.square=Te,e.prototype.Barrett=Be;var wt,_t,xt;if(null==_t){_t=new Array,xt=0;var kt;if("undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var St=new Uint8Array(32);for(window.crypto.getRandomValues(St),kt=0;kt<32;++kt)_t[xt++]=St[kt]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var jt=window.crypto.random(32);for(kt=0;kt<jt.length;++kt)_t[xt++]=255&jt.charCodeAt(kt)}for(;xt<Pt;)kt=Math.floor(65536*Math.random()),_t[xt++]=kt>>>8,_t[xt++]=255&kt;xt=0,tt()}it.prototype.nextBytes=rt,ot.prototype.init=at,ot.prototype.next=st;var Pt=256;e.SecureRandom=it,e.BigInteger=e,"undefined"!=typeof n?n=t.exports=e:(this.BigInteger=e,this.SecureRandom=it)}).call(this)},{}],306:[function(e,t,n){"use strict";function r(e,t,n,a,s,c,l,u,h){if(n&&"object"==typeof n&&!Array.isArray(n)){t(n,a,s,c,l,u,h);for(var d in n){var f=n[d];if(Array.isArray(f)){if(d in o.arrayKeywords)for(var p=0;p<f.length;p++)r(e,t,f[p],a+"/"+d+"/"+p,s,a,d,n,p)}else if(d in o.propsKeywords){if(f&&"object"==typeof f)for(var m in f)r(e,t,f[m],a+"/"+d+"/"+i(m),s,a,d,n,m)}else(d in o.keywords||e.allKeys&&!(d in o.skipKeywords))&&r(e,t,f,a+"/"+d,s,a,d,n)}}}function i(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var o=t.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),r(t,n,e,"",e)};o.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},o.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},o.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},o.skipKeywords={"enum":!0,"const":!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},{}],307:[function(e,t,n){!function(e,n){"function"==typeof define&&define.amd?define([],function(){return n()}):"object"==typeof t&&t.exports?t.exports=n():e.jsonSchema=n()}(this,function(){function e(t,n){return e(t,n,{changing:!1})}var t=e;t.Integer={type:"integer"};var n={String:String,Boolean:Boolean,Number:Number,Object:Object,Array:Array,Date:Date};t.validate=e,t.checkPropertyChange=function(t,n,r){return e(t,n,{changing:r||"property"})};var e=t._validate=function(e,t,r){function i(e){return e.type||n[e.name]==e&&e.name.toLowerCase()}function o(e,t,n,l){function u(e){c.push({property:n,message:e})}function h(e,t){if(e){if(!("string"!=typeof e||"any"==e||("null"==e?null===t:typeof t==e)||t instanceof Array&&"array"==e||t instanceof Date&&"date"==e||"integer"==e&&t%1===0))return[{property:n,message:typeof t+" value found, but a "+e+" is required"}];if(e instanceof Array){for(var r=[],i=0;i<e.length&&(r=h(e[i],t)).length;i++);if(r.length)return r}else if("object"==typeof e){var a=c;c=[],o(t,e,n);var s=c;return c=a,s}}return[]}var d;if(n+=n?"number"==typeof l?"["+l+"]":"undefined"==typeof l?"":"."+l:l,("object"!=typeof t||t instanceof Array)&&(n||"function"!=typeof t)&&(!t||!i(t)))return"function"==typeof t?e instanceof t||u("is not an instance of the class/constructor "+t.name):t&&u("Invalid schema/property definition "+t),null;if(s&&t.readonly&&u("is a readonly field, it can not be changed"),t["extends"]&&o(e,t["extends"],n,l),void 0===e)t.required&&u("is missing and it is required");else if(c=c.concat(h(i(t),e)),t.disallow&&!h(t.disallow,e).length&&u(" disallowed value was matched"),null!==e){if(e instanceof Array){if(t.items){var f=t.items instanceof Array,p=t.items;for(l=0,d=e.length;l<d;l+=1)f&&(p=t.items[l]),r.coerce&&(e[l]=r.coerce(e[l],p)),c.concat(o(e[l],p,n,l))}t.minItems&&e.length<t.minItems&&u("There must be a minimum of "+t.minItems+" in the array"),t.maxItems&&e.length>t.maxItems&&u("There must be a maximum of "+t.maxItems+" in the array")}else(t.properties||t.additionalProperties)&&c.concat(a(e,t.properties,n,t.additionalProperties));if(t.pattern&&"string"==typeof e&&!e.match(t.pattern)&&u("does not match the regex pattern "+t.pattern),t.maxLength&&"string"==typeof e&&e.length>t.maxLength&&u("may only be "+t.maxLength+" characters long"),t.minLength&&"string"==typeof e&&e.length<t.minLength&&u("must be at least "+t.minLength+" characters long"),void 0!==typeof t.minimum&&typeof e==typeof t.minimum&&t.minimum>e&&u("must have a minimum value of "+t.minimum),void 0!==typeof t.maximum&&typeof e==typeof t.maximum&&t.maximum<e&&u("must have a maximum value of "+t.maximum),t["enum"]){var m=t["enum"];d=m.length;for(var g,v=0;v<d;v++)if(m[v]===e){g=1;break}g||u("does not have a value in the enumeration "+m.join(", "))}"number"==typeof t.maxDecimal&&e.toString().match(new RegExp("\\.[0-9]{"+(t.maxDecimal+1)+",}"))&&u("may only have "+t.maxDecimal+" digits of decimal places")}return null}function a(e,t,n,i){if("object"==typeof t){("object"!=typeof e||e instanceof Array)&&c.push({property:n,message:"an object is required"});for(var a in t)if(t.hasOwnProperty(a)){var l=e[a];if(void 0===l&&r.existingOnly)continue;var u=t[a];void 0===l&&u["default"]&&(l=e[a]=u["default"]),r.coerce&&a in e&&(l=e[a]=r.coerce(l,u)),o(l,u,n,a)}}for(a in e){if(e.hasOwnProperty(a)&&("_"!=a.charAt(0)||"_"!=a.charAt(1))&&t&&!t[a]&&i===!1){if(r.filter){delete e[a];continue}c.push({property:n,message:typeof l+"The property "+a+" is not defined in the schema and the schema does not allow additional properties"})}var h=t&&t[a]&&t[a].requires;!h||h in e||c.push({property:n,message:"the presence of the property "+a+" requires that "+h+" also be present"}),l=e[a],!i||t&&"object"==typeof t&&a in t||(r.coerce&&(l=e[a]=r.coerce(l,i)),o(l,i,n,a)),!s&&l&&l.$schema&&(c=c.concat(o(l,l.$schema,n,a)))}return c}r||(r={});var s=r.changing,c=[];return t&&o(e,t,"",s||""),!s&&e&&e.$schema&&o(e,e.$schema,"",""),{valid:!c.length,errors:c}};return t.mustBeValid=function(e){if(!e.valid)throw new TypeError(e.errors.map(function(e){return"for property "+e.property+": "+e.message}).join(", \n"))},t})},{}],308:[function(e,t,n){var r="undefined"!=typeof JSON?JSON:e("jsonify");t.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n=t.space||"";"number"==typeof n&&(n=Array(n+1).join(" "));var a="boolean"==typeof t.cycles&&t.cycles,s=t.replacer||function(e,t){return t},c=t.cmp&&function(e){return function(t){return function(n,r){var i={key:n,value:t[n]},o={key:r,value:t[r]};return e(i,o)}}}(t.cmp),l=[];return function u(e,t,h,d){var f=n?"\n"+new Array(d+1).join(n):"",p=n?": ":":";if(h&&h.toJSON&&"function"==typeof h.toJSON&&(h=h.toJSON()),h=s.call(e,t,h),void 0!==h){if("object"!=typeof h||null===h)return r.stringify(h);if(i(h)){for(var m=[],g=0;g<h.length;g++){var v=u(h,g,h[g],d+1)||r.stringify(null);m.push(f+n+v)}return"["+m.join(",")+f+"]"}if(l.indexOf(h)!==-1){if(a)return r.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}l.push(h);for(var b=o(h).sort(c&&c(h)),m=[],g=0;g<b.length;g++){var t=b[g],y=u(h,t,h[t],d+1);if(y){var w=r.stringify(t)+p+y;m.push(f+n+w)}}return l.splice(l.indexOf(h),1),"{"+m.join(",")+f+"}"}}({"":e},"",e,0)};var i=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},o=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(var r in e)t.call(e,r)&&n.push(r);return n}},{jsonify:310}],309:[function(e,t,n){function r(e,t,n,r){return JSON.stringify(e,i(t,r),n)}function i(e,t){var n=[],r=[];return null==t&&(t=function(e,t){return n[0]===t?"[Circular ~]":"[Circular ~."+r.slice(0,n.indexOf(t)).join(".")+"]"}),function(i,o){if(n.length>0){var a=n.indexOf(this);~a?n.splice(a+1):n.push(this),~a?r.splice(a,1/0,i):r.push(i),~n.indexOf(o)&&(o=t.call(this,i,o))}else n.push(o);return null==e?o:e.call(this,i,o)}}n=t.exports=r,n.getSerialize=i},{}],310:[function(e,t,n){n.parse=e("./lib/parse"),n.stringify=e("./lib/stringify")},{"./lib/parse":311,"./lib/stringify":312}],311:[function(e,t,n){var r,i,o,a,s={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},c=function(e){throw{name:"SyntaxError",message:e,at:r,text:o}},l=function(e){return e&&e!==i&&c("Expected '"+e+"' instead of '"+i+"'"),i=o.charAt(r),r+=1,i},u=function(){var e,t="";for("-"===i&&(t="-",l("-"));i>="0"&&i<="9";)t+=i,l();if("."===i)for(t+=".";l()&&i>="0"&&i<="9";)t+=i;if("e"===i||"E"===i)for(t+=i,l(),"-"!==i&&"+"!==i||(t+=i,l());i>="0"&&i<="9";)t+=i,l();return e=+t,isFinite(e)?e:void c("Bad number")},h=function(){var e,t,n,r="";if('"'===i)for(;l();){if('"'===i)return l(),r;if("\\"===i)if(l(),"u"===i){for(n=0,t=0;t<4&&(e=parseInt(l(),16),isFinite(e));t+=1)n=16*n+e;r+=String.fromCharCode(n)}else{if("string"!=typeof s[i])break;r+=s[i]}else r+=i}c("Bad string")},d=function(){for(;i&&i<=" ";)l()},f=function(){switch(i){case"t":return l("t"),l("r"),l("u"),l("e"),!0;case"f":return l("f"),l("a"),l("l"),l("s"),l("e"),!1;case"n":return l("n"),l("u"),l("l"),l("l"),null}c("Unexpected '"+i+"'")},p=function(){var e=[];if("["===i){if(l("["),d(),"]"===i)return l("]"),e;for(;i;){if(e.push(a()),d(),"]"===i)return l("]"),e;l(","),d()}}c("Bad array")},m=function(){var e,t={};if("{"===i){if(l("{"),d(),"}"===i)return l("}"),t;for(;i;){if(e=h(),d(),l(":"),Object.hasOwnProperty.call(t,e)&&c('Duplicate key "'+e+'"'),t[e]=a(),d(),"}"===i)return l("}"),t;l(","),d()}}c("Bad object")};a=function(){switch(d(),i){case"{":return m();case"[":return p();case'"':return h();case"-":return u();default:return i>="0"&&i<="9"?u():f()}},t.exports=function(e,t){var n;return o=e,r=0,i=" ",n=a(),d(),i&&c("Syntax error"),"function"==typeof t?function s(e,n){var r,i,o=e[n];if(o&&"object"==typeof o)for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i=s(o,r),void 0!==i?o[r]=i:delete o[r]);return t.call(e,n,o)}({"":n},""):n}},{}],312:[function(e,t,n){function r(e){return c.lastIndex=0,c.test(e)?'"'+e.replace(c,function(e){var t=l[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function i(e,t){var n,c,l,u,h,d=o,f=t[e];switch(f&&"object"==typeof f&&"function"==typeof f.toJSON&&(f=f.toJSON(e)),"function"==typeof s&&(f=s.call(t,e,f)),typeof f){case"string":return r(f);case"number":return isFinite(f)?String(f):"null";case"boolean":case"null":return String(f);case"object":if(!f)return"null";if(o+=a,h=[],"[object Array]"===Object.prototype.toString.apply(f)){for(u=f.length,n=0;n<u;n+=1)h[n]=i(n,f)||"null";return l=0===h.length?"[]":o?"[\n"+o+h.join(",\n"+o)+"\n"+d+"]":"["+h.join(",")+"]",o=d,l}if(s&&"object"==typeof s)for(u=s.length,n=0;n<u;n+=1)c=s[n],"string"==typeof c&&(l=i(c,f),l&&h.push(r(c)+(o?": ":":")+l));else for(c in f)Object.prototype.hasOwnProperty.call(f,c)&&(l=i(c,f),l&&h.push(r(c)+(o?": ":":")+l));return l=0===h.length?"{}":o?"{\n"+o+h.join(",\n"+o)+"\n"+d+"}":"{"+h.join(",")+"}",o=d,l}}var o,a,s,c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};t.exports=function(e,t,n){var r;if(o="",a="","number"==typeof n)for(r=0;r<n;r+=1)a+=" ";else"string"==typeof n&&(a=n);if(s=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return i("",{"":e})}},{}],313:[function(e,t,n){function r(e){var t,n,i="__deepCopy";if(e&&e[i])throw new Error("attempted deep copy of cyclic object");if(e&&e.constructor==Object){t={},e[i]=!0;for(n in e)n!=i&&(t[n]=r(e[n]));return delete e[i],t}if(e&&e.constructor==Array){for(t=[],e[i]=!0,n=0;n<e.length;n++)t.push(r(e[n]));return delete e[i],t}return e}function i(e,t){if(typeof e!=typeof t)return!1;if(null===e||null===t||"object"!=typeof e)return e===t;if(e.constructor!=t.constructor)return!1;var n;for(n in e){if(!t.hasOwnProperty(n))return!1;if(!i(e[n],t[n]))return!1}for(n in t)if(!e.hasOwnProperty(n))return!1;return!0}function o(e){var t;for(t in e)return!1;return!0}function a(e,t){return I.equal(typeof t,"string"),Object.prototype.hasOwnProperty.call(e,t)}function s(e,t){for(var n in e)a(e,n)&&t(n,e[n])}function c(e,t){return I.equal(typeof t,"string"),l(e,t)}function l(e,t){if(null!==e&&"object"==typeof e){if(e.hasOwnProperty(t))return e[t];var n=t.indexOf(".");if(n!=-1){var r=t.substr(0,n);if(e.hasOwnProperty(r))return l(e[r],t.substr(n+1))}}}function u(e,t,n){h(e,t,[],n)}function h(e,t,n,r){var i,o;if(0===t)return i=n.slice(0),i.push(e),void r(i);I.ok(null!==e),I.equal(typeof e,"object"),I.equal(typeof t,"number"),I.ok(t>=0);for(o in e)i=n.slice(0),i.push(o),h(e[o],t-1,i,r)}function d(e,t){if(0===t)return[e];I.ok(null!==e),I.equal(typeof e,"object"),I.equal(typeof t,"number"),I.ok(t>=0);var n,r=[];for(n in e)d(e[n],t-1).forEach(function(e){r.push([n].concat(e))});return r}function f(e,t){return e.substr(0,t.length)==t}function p(e,t){return e.substr(e.length-t.length,t.length)==t}function m(e){return"number"==typeof e&&(e=new Date(e)),I.ok(e.constructor===Date),F.sprintf("%4d-%02d-%02dT%02d:%02d:%02d.%03dZ",e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function g(e){return F.sprintf("%s, %02d %s %04d %02d:%02d:%02d GMT",N[e.getUTCDay()],e.getUTCDate(),R[e.getUTCMonth()],e.getUTCFullYear(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())}function v(e){var t=+e;return isNaN(t)?new Date(e):new Date(t)}function b(e,t){I.string(e,"str"),I.optionalObject(t,"options");var n=!1,r=z;t&&(n=a(t,"base"),r=O(r,t),I.number(r.base,"options.base"),I.ok(r.base>=2,"options.base >= 2"),I.ok(r.base<=36,"options.base <= 36"),I.bool(r.allowSign,"options.allowSign"),I.bool(r.allowPrefix,"options.allowPrefix"),I.bool(r.allowTrailing,"options.allowTrailing"),I.bool(r.allowImprecise,"options.allowImprecise"),I.bool(r.trimWhitespace,"options.trimWhitespace"),I.bool(r.leadingZeroIsOctal,"options.leadingZeroIsOctal"),r.leadingZeroIsOctal&&I.ok(!n,'"base" and "leadingZeroIsOctal" are mutually exclusive'));var i,o,s=-1,c=r.base,l=1,u=0,h=0,d=e.length;if(r.trimWhitespace)for(;h<d&&w(e.charCodeAt(h));)++h;for(r.allowSign&&("-"===e[h]?(h+=1,l=-1):"+"===e[h]&&(h+=1)),"0"===e[h]&&(r.allowPrefix&&(s=_(e.charCodeAt(h+1)),s===-1||n&&s!==c||(c=s,h+=2)),s===-1&&r.leadingZeroIsOctal&&(c=8)),o=h;h<d&&(i=y(e.charCodeAt(h)),i!==-1&&i<c);++h)u*=c,u+=i;if(o===h)return new Error("invalid number: "+JSON.stringify(e));if(r.trimWhitespace)for(;h<d&&w(e.charCodeAt(h));)++h;if(h<d&&!r.allowTrailing)return new Error("trailing characters after number: "+JSON.stringify(e.slice(h)));if(0===u)return 0;var f=u*l;return!r.allowImprecise&&(u>U||f<$)?new Error("number is outside of the supported range: "+JSON.stringify(e.slice(o,h))):f}function y(e){return e>=B&&e<=q?e-ne:e>=V&&e<=K?e-re:e>=X&&e<=te?e-ie:-1}function w(e){return 32===e||e>=9&&e<=13||160===e||5760===e||6158===e||e>=8192&&e<=8202||8232===e||8233===e||8239===e||8287===e||12288===e||65279===e}function _(e){return e===Q||e===H?2:e===Z||e===W?8:e===J||e===G?10:e===ee||e===Y?16:-1}function x(e,t){var n=L.validate(t,e);if(0===n.errors.length)return null;var r,i,o=n.errors[0],a=o.property,s=o.message.toLowerCase();(r=s.indexOf("the property "))!=-1&&(i=s.indexOf(" is not defined in the schema and the schema does not allow additional properties"))!=-1&&(r+="the property ".length,a=""===a?s.substr(r,i-r):a+"."+s.substr(r,i-r),s="unsupported property");var c=new D.VError('property "%s": %s',a,s);return c.jsv_details=o,c}function k(e){return I.ok(Array.isArray(e)&&e.length>0,"randElt argument must be a non-empty array"),e[Math.floor(Math.random()*e.length)]}function S(e){I.ok(e[0]>=0&&e[1]>=0,"negative numbers not allowed in hrtimes"),I.ok(e[1]<1e9,"nanoseconds column overflow")}function j(e,t){S(e),S(t),I.ok(e[0]>t[0]||e[0]==t[0]&&e[1]>=t[1],"negative differences not allowed");var n=[e[0]-t[0],0];return e[1]>=t[1]?n[1]=e[1]-t[1]:(n[0]--,n[1]=1e9-(t[1]-e[1])),n}function P(e){return S(e),Math.floor(1e9*e[0]+e[1])}function E(e){return S(e),Math.floor(1e6*e[0]+e[1]/1e3)}function A(e){return S(e),Math.floor(1e3*e[0]+e[1]/1e6)}function T(e,t){return S(e),S(t),e[1]+=t[1],e[1]>=1e9&&(e[0]++,e[1]-=1e9),e[0]+=t[0],e}function C(e,t){S(e);var n=[e[0],e[1]];return T(n,t)}function M(e,t){I.ok("object"==typeof e&&null!==e,"obj argument must be a non-null object"),I.ok(Array.isArray(t),"allowed argument must be an array of strings");for(var n=0;n<t.length;n++)I.ok("string"==typeof t[n],"allowed argument must be an array of strings");return Object.keys(e).filter(function(e){return t.indexOf(e)===-1})}function O(e,t,n){var r,i;if(r={},n)for(i in n)r[i]=n[i];if(e)for(i in e)r[i]=e[i];if(t)for(i in t)r[i]=t[i];return r}var I=e("assert-plus"),F=(e("util"),e("extsprintf")),D=e("verror"),L=e("json-schema");n.deepCopy=r,n.deepEqual=i,n.isEmpty=o,n.hasKey=a,n.forEachKey=s,n.pluck=c,n.flattenObject=d,n.flattenIter=u,n.validateJsonObject=x,n.validateJsonObjectJS=x,n.randElt=k,n.extraProperties=M,n.mergeObjects=O,n.startsWith=f,n.endsWith=p,n.parseInteger=b,n.iso8601=m,n.rfc1123=g,n.parseDateTime=v,n.hrtimediff=j,n.hrtimeDiff=j,n.hrtimeAccum=T,n.hrtimeAdd=C,n.hrtimeNanosec=P,n.hrtimeMicrosec=E,n.hrtimeMillisec=A;var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],N=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],U=Number.MAX_SAFE_INTEGER||9007199254740991,$=Number.MIN_SAFE_INTEGER||-9007199254740991,z={base:10,allowSign:!0,allowPrefix:!1,allowTrailing:!1,allowImprecise:!1,trimWhitespace:!1,leadingZeroIsOctal:!1},B=48,q=57,V=65,H=66,W=79,G=84,Y=88,K=90,X=97,Q=98,Z=111,J=116,ee=120,te=122,ne=48,re=55,ie=87},{"assert-plus":78,extsprintf:247,"json-schema":307,util:451,verror:457}],314:[function(e,t,n){(function(n){"use strict";function r(){u.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function i(e,t){return e<<t|e>>>32-t}function o(e,t,n,r,o,a,s){return i(e+(t&n|~t&r)+o+a|0,s)+t|0}function a(e,t,n,r,o,a,s){return i(e+(t&r|n&~r)+o+a|0,s)+t|0}function s(e,t,n,r,o,a,s){return i(e+(t^n^r)+o+a|0,s)+t|0}function c(e,t,n,r,o,a,s){return i(e+(n^(t|~r))+o+a|0,s)+t|0}var l=e("inherits"),u=e("hash-base"),h=new Array(16);l(r,u),r.prototype._update=function(){for(var e=h,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,r=this._b,i=this._c,l=this._d;n=o(n,r,i,l,e[0],3614090360,7),l=o(l,n,r,i,e[1],3905402710,12),i=o(i,l,n,r,e[2],606105819,17),r=o(r,i,l,n,e[3],3250441966,22),n=o(n,r,i,l,e[4],4118548399,7),l=o(l,n,r,i,e[5],1200080426,12),i=o(i,l,n,r,e[6],2821735955,17),r=o(r,i,l,n,e[7],4249261313,22),n=o(n,r,i,l,e[8],1770035416,7),l=o(l,n,r,i,e[9],2336552879,12),i=o(i,l,n,r,e[10],4294925233,17),r=o(r,i,l,n,e[11],2304563134,22),n=o(n,r,i,l,e[12],1804603682,7),l=o(l,n,r,i,e[13],4254626195,12),i=o(i,l,n,r,e[14],2792965006,17),r=o(r,i,l,n,e[15],1236535329,22),n=a(n,r,i,l,e[1],4129170786,5),l=a(l,n,r,i,e[6],3225465664,9),i=a(i,l,n,r,e[11],643717713,14),r=a(r,i,l,n,e[0],3921069994,20),n=a(n,r,i,l,e[5],3593408605,5),l=a(l,n,r,i,e[10],38016083,9),i=a(i,l,n,r,e[15],3634488961,14),r=a(r,i,l,n,e[4],3889429448,20),
n=a(n,r,i,l,e[9],568446438,5),l=a(l,n,r,i,e[14],3275163606,9),i=a(i,l,n,r,e[3],4107603335,14),r=a(r,i,l,n,e[8],1163531501,20),n=a(n,r,i,l,e[13],2850285829,5),l=a(l,n,r,i,e[2],4243563512,9),i=a(i,l,n,r,e[7],1735328473,14),r=a(r,i,l,n,e[12],2368359562,20),n=s(n,r,i,l,e[5],4294588738,4),l=s(l,n,r,i,e[8],2272392833,11),i=s(i,l,n,r,e[11],1839030562,16),r=s(r,i,l,n,e[14],4259657740,23),n=s(n,r,i,l,e[1],2763975236,4),l=s(l,n,r,i,e[4],1272893353,11),i=s(i,l,n,r,e[7],4139469664,16),r=s(r,i,l,n,e[10],3200236656,23),n=s(n,r,i,l,e[13],681279174,4),l=s(l,n,r,i,e[0],3936430074,11),i=s(i,l,n,r,e[3],3572445317,16),r=s(r,i,l,n,e[6],76029189,23),n=s(n,r,i,l,e[9],3654602809,4),l=s(l,n,r,i,e[12],3873151461,11),i=s(i,l,n,r,e[15],530742520,16),r=s(r,i,l,n,e[2],3299628645,23),n=c(n,r,i,l,e[0],4096336452,6),l=c(l,n,r,i,e[7],1126891415,10),i=c(i,l,n,r,e[14],2878612391,15),r=c(r,i,l,n,e[5],4237533241,21),n=c(n,r,i,l,e[12],1700485571,6),l=c(l,n,r,i,e[3],2399980690,10),i=c(i,l,n,r,e[10],4293915773,15),r=c(r,i,l,n,e[1],2240044497,21),n=c(n,r,i,l,e[8],1873313359,6),l=c(l,n,r,i,e[15],4264355552,10),i=c(i,l,n,r,e[6],2734768916,15),r=c(r,i,l,n,e[13],1309151649,21),n=c(n,r,i,l,e[4],4149444226,6),l=c(l,n,r,i,e[11],3174756917,10),i=c(i,l,n,r,e[2],718787259,15),r=c(r,i,l,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+l|0},r.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=new n(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},t.exports=r}).call(this,e("buffer").Buffer)},{buffer:131,"hash-base":315,inherits:299}],315:[function(e,t,n){"use strict";function r(e,t){if(!o.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}function i(e){a.call(this),this._block=o.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var o=e("safe-buffer").Buffer,a=e("stream").Transform,s=e("inherits");s(i,a),i.prototype._transform=function(e,t,n){var r=null;try{this.update(e,t)}catch(i){r=i}n(r)},i.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(n){t=n}e(t)},i.prototype.update=function(e,t){if(r(e,"Data"),this._finalized)throw new Error("Digest already called");o.isBuffer(e)||(e=o.from(e,t));for(var n=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var a=this._blockOffset;a<this._blockSize;)n[a++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)n[this._blockOffset++]=e[i++];for(var s=0,c=8*e.length;c>0;++s)this._length[s]+=c,c=this._length[s]/4294967296|0,c>0&&(this._length[s]-=4294967296*c);return this},i.prototype._update=function(){throw new Error("_update is not implemented")},i.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},i.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=i},{inherits:299,"safe-buffer":383,stream:416}],316:[function(e,t,n){function r(e){this.rand=e||new o.Rand}var i=e("bn.js"),o=e("brorand");t.exports=r,r.create=function(e){return new r(e)},r.prototype._randbelow=function(e){var t=e.bitLength(),n=Math.ceil(t/8);do var r=new i(this.rand.generate(n));while(r.cmp(e)>=0);return r},r.prototype._randrange=function(e,t){var n=t.sub(e);return e.add(this._randbelow(n))},r.prototype.test=function(e,t,n){var r=e.bitLength(),o=i.mont(e),a=new i(1).toRed(o);t||(t=Math.max(1,r/48|0));for(var s=e.subn(1),c=0;!s.testn(c);c++);for(var l=e.shrn(c),u=s.toRed(o),h=!0;t>0;t--){var d=this._randrange(new i(2),s);n&&n(d);var f=d.toRed(o).redPow(l);if(0!==f.cmp(a)&&0!==f.cmp(u)){for(var p=1;p<c;p++){if(f=f.redSqr(),0===f.cmp(a))return!1;if(0===f.cmp(u))break}if(p===c)return!1}}return h},r.prototype.getDivisor=function(e,t){var n=e.bitLength(),r=i.mont(e),o=new i(1).toRed(r);t||(t=Math.max(1,n/48|0));for(var a=e.subn(1),s=0;!a.testn(s);s++);for(var c=e.shrn(s),l=a.toRed(r);t>0;t--){var u=this._randrange(new i(2),a),h=e.gcd(u);if(0!==h.cmpn(1))return h;var d=u.toRed(r).redPow(c);if(0!==d.cmp(o)&&0!==d.cmp(l)){for(var f=1;f<s;f++){if(d=d.redSqr(),0===d.cmp(o))return d.fromRed().subn(1).gcd(e);if(0===d.cmp(l))break}if(f===s)return d=d.redSqr(),d.fromRed().subn(1).gcd(e)}}return!1}},{"bn.js":85,brorand:99}],317:[function(e,t,n){t.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana"},"application/3gpp-ims+xml":{source:"iana"},"application/a2l":{source:"iana"},"application/activemessage":{source:"iana"},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana"},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",extensions:["atomsvc"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana"},"application/bacnet-xdd+zip":{source:"iana"},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana"},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana"},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/cbor":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana"},"application/ccxml+xml":{source:"iana",extensions:["ccxml"]},"application/cdfx+xml":{source:"iana"},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana"},"application/cellml+xml":{source:"iana"},"application/cfw":{source:"iana"},"application/clue_info+xml":{source:"iana"},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana"},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana"},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana"},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana"},"application/cstadata+xml":{source:"iana"},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",extensions:["mpd"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana"},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana"},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/docbook+xml":{source:"apache",extensions:["dbk"]},"application/dskpp+xml":{source:"iana"},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/emergencycalldata.comment+xml":{source:"iana"},"application/emergencycalldata.control+xml":{source:"iana"},"application/emergencycalldata.deviceinfo+xml":{source:"iana"},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana"},"application/emergencycalldata.serviceinfo+xml":{source:"iana"},"application/emergencycalldata.subscriberinfo+xml":{source:"iana"},"application/emergencycalldata.veds+xml":{source:"iana"},"application/emma+xml":{source:"iana",extensions:["emma"]},"application/emotionml+xml":{source:"iana"},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana"},"application/epub+zip":{source:"iana",extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana"},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1,extensions:["woff"]},"application/font-woff2":{compressible:!1,extensions:["woff2"]},"application/framework-attributes+xml":{source:"iana"},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geoxacml+xml":{source:"iana"},"application/gml+xml":{source:"iana",extensions:["gml"]},"application/gpx+xml":{source:"apache",extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana"},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana"},"application/ibe-pkg-reply+xml":{source:"iana"},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana"},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana"},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana"},"application/kpml-response+xml":{source:"iana"},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana"},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana"},"application/lost+xml":{source:"iana",extensions:["lostxml"]},"application/lostsync+xml":{source:"iana"},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",extensions:["mads"]},"application/manifest+json":{charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",extensions:["mathml"]},"application/mathml-content+xml":{source:"iana"},"application/mathml-presentation+xml":{source:"iana"},"application/mbms-associated-procedure-description+xml":{source:"iana"},"application/mbms-deregister+xml":{source:"iana"},"application/mbms-envelope+xml":{source:"iana"},"application/mbms-msk+xml":{source:"iana"},"application/mbms-msk-response+xml":{source:"iana"},"application/mbms-protection-description+xml":{source:"iana"},"application/mbms-reception-report+xml":{source:"iana"},"application/mbms-register+xml":{source:"iana"},"application/mbms-register-response+xml":{source:"iana"},"application/mbms-schedule+xml":{source:"iana"},"application/mbms-user-service-description+xml":{source:"iana"},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana"},"application/media_control+xml":{source:"iana"},"application/mediaservercontrol+xml":{source:"iana",extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",extensions:["metalink"]},"application/metalink4+xml":{source:"iana",extensions:["meta4"]},"application/mets+xml":{source:"iana",extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mmt-usd+xml":{source:"iana"},"application/mods+xml":{source:"iana",extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana"},"application/mrb-publish+xml":{source:"iana"},"application/msc-ivr+xml":{source:"iana"},"application/msc-mixer+xml":{source:"iana"},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana"},"application/n-triples":{source:"iana"},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana"},"application/news-groupinfo":{source:"iana"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana"},"application/nss":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p2p-overlay+xml":{source:"iana"},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana"},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana"},"application/pidf-diff+xml":{source:"iana"},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",extensions:["pls"]},"application/poc-settings+xml":{source:"iana"},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana"},"application/provenance+xml":{source:"iana"},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.hpub+zip":{source:"iana"},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana"},"application/pskc+xml":{source:"iana",extensions:["pskcxml"]},"application/qsig":{source:"iana"},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf"]},"application/reginfo+xml":{source:"iana",extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",extensions:["rld"]},"application/rfc+xml":{source:"iana"},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana"},"application/rls-services+xml":{source:"iana",extensions:["rs"]},"application/route-apd+xml":{source:"iana"},"application/route-s-tsid+xml":{source:"iana"},"application/route-usd+xml":{source:"iana"},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana"},"application/samlmetadata+xml":{source:"iana"},"application/sbml+xml":{source:"iana",extensions:["sbml"]},"application/scaip+xml":{source:"iana"},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/sep+xml":{source:"iana"},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",extensions:["shf"]},"application/sieve":{source:"iana"},"application/simple-filter+xml":{source:"iana"},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",extensions:["srx"]},"application/spirits-event+xml":{source:"iana"},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",extensions:["grxml"]},"application/sru+xml":{source:"iana",extensions:["sru"]},"application/ssdl+xml":{source:"apache",extensions:["ssdl"]},"application/ssml+xml":{source:"iana",extensions:["ssml"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/tei+xml":{source:"iana",extensions:["tei","teicorpus"]},"application/thraud+xml":{source:"iana",extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/trig":{source:"iana"},"application/ttml+xml":{source:"iana"},"application/tve-trigger":{source:"iana"},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana"},"application/urc-ressheet+xml":{source:"iana"},"application/urc-targetdesc+xml":{source:"iana"},"application/urc-uisocketdesc+xml":{source:"iana"},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana"},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana"},"application/vnd.3gpp-prose+xml":{source:"iana"},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana"},"application/vnd.3gpp.bsf+xml":{source:"iana"},"application/vnd.3gpp.gmop+xml":{source:"iana"},"application/vnd.3gpp.mcptt-info+xml":{source:"iana"},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana"},"application/vnd.3gpp.mid-call+xml":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana"},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana"},"application/vnd.3gpp.srvcc-info+xml":{source:"iana"},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana"},"application/vnd.3gpp.ussd+xml":{source:"iana"},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana"},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",extensions:["mpkg"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avistar+xml":{source:"iana"},"application/vnd.balsamiq.bmml+xml":{source:"iana"},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana"},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana"},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",extensions:["wbs"]},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana"},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana"},"application/vnd.cybank":{source:"iana"},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",
extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume-movie":{source:"iana"},"application/vnd.desmume.movie":{source:"apache"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana"},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana"},"application/vnd.dvb.notif-container+xml":{source:"iana"},"application/vnd.dvb.notif-generic+xml":{source:"iana"},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana"},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana"},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana"},"application/vnd.dvb.notif-init+xml":{source:"iana"},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana"},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana"},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana"},"application/vnd.eszigno3+xml":{source:"iana",extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana"},"application/vnd.etsi.asic-e+zip":{source:"iana"},"application/vnd.etsi.asic-s+zip":{source:"iana"},"application/vnd.etsi.cug+xml":{source:"iana"},"application/vnd.etsi.iptvcommand+xml":{source:"iana"},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana"},"application/vnd.etsi.iptvprofile+xml":{source:"iana"},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana"},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana"},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana"},"application/vnd.etsi.iptvservice+xml":{source:"iana"},"application/vnd.etsi.iptvsync+xml":{source:"iana"},"application/vnd.etsi.iptvueprofile+xml":{source:"iana"},"application/vnd.etsi.mcid+xml":{source:"iana"},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana"},"application/vnd.etsi.pstn+xml":{source:"iana"},"application/vnd.etsi.sci+xml":{source:"iana"},"application/vnd.etsi.simservs+xml":{source:"iana"},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana"},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana"},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana"},"application/vnd.gov.sk.e-form+zip":{source:"iana"},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana"},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana"},"application/vnd.imagemeter.image+zip":{source:"iana"},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana"},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana"},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana"},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana"},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana"},"application/vnd.iptc.g2.newsitem+xml":{source:"iana"},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana"},"application/vnd.iptc.g2.packageitem+xml":{source:"iana"},"application/vnd.iptc.g2.planningitem+xml":{source:"iana"},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",extensions:["lasxml"]},"application/vnd.liberty-request+xml":{source:"iana"},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",extensions:["lbe"]},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana"},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana"},"application/vnd.marlin.drm.conftoken+xml":{source:"iana"},"application/vnd.marlin.drm.license+xml":{source:"iana"},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana"},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana"},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana"},"application/vnd.ms-printing.printticket+xml":{source:"apache"},"application/vnd.ms-printschematicket+xml":{source:"iana"},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana"},"application/vnd.nokia.iptv.config+xml":{source:"iana"},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana"},"application/vnd.nokia.landmarkcollection+xml":{source:"iana"},"application/vnd.nokia.n-gage.ac+xml":{source:"iana"},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana"},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana"},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana"},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana"},"application/vnd.oipf.dae.xhtml+xml":{source:"iana"},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana"},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana"},"application/vnd.oipf.spdlist+xml":{source:"iana"},"application/vnd.oipf.ueprofile+xml":{source:"iana"},"application/vnd.oipf.userprofile+xml":{source:"iana"},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana"},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana"},"application/vnd.oma.bcast.imd+xml":{source:"iana"},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana"},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana"},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana"},"application/vnd.oma.bcast.sprov+xml":{source:"iana"},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana"},"application/vnd.oma.cab-feature-handler+xml":{source:"iana"},"application/vnd.oma.cab-pcc+xml":{source:"iana"},"application/vnd.oma.cab-subs-invite+xml":{source:"iana"},"application/vnd.oma.cab-user-prefs+xml":{source:"iana"},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana"},"application/vnd.oma.group-usage-list+xml":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana"},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana"},"application/vnd.oma.poc.final-report+xml":{source:"iana"},"application/vnd.oma.poc.groups+xml":{source:"iana"},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana"},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana"},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana"},"application/vnd.oma.xcap-directory+xml":{source:"iana"},"application/vnd.omads-email+xml":{source:"iana"},"application/vnd.omads-file+xml":{source:"iana"},"application/vnd.omads-folder+xml":{source:"iana"},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana"},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml-template":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"apache",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml-template":{
source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"apache",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml-template":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"apache",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana"},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana"},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana"},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana"},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana"},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos+xml":{source:"iana"},"application/vnd.paos.xml":{source:"apache"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana"},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana"},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana"},"application/vnd.radisys.msml+xml":{source:"iana"},"application/vnd.radisys.msml-audit+xml":{source:"iana"},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana"},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana"},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana"},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana"},"application/vnd.radisys.msml-conf+xml":{source:"iana"},"application/vnd.radisys.msml-dialog+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana"},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana"},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.software602.filler.form+xml":{source:"iana"},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana"},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana"},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.tmd.mediaflex.api+xml":{source:"iana"},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana"},"application/vnd.wv.ssp+xml":{source:"iana"},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana"},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",extensions:["zaz"]},"application/voicexml+xml":{source:"iana",extensions:["vxml"]},"application/vq-rtcpxr":{source:"iana"},"application/watcherinfo+xml":{source:"iana"},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-otf":{source:"apache",compressible:!0,extensions:["otf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-ttf":{source:"apache",compressible:!0,extensions:["ttf","ttc"]},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"apache",extensions:["der","crt","pem"]},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana"},"application/xaml+xml":{source:"apache",extensions:["xaml"]},"application/xcap-att+xml":{source:"iana"},"application/xcap-caps+xml":{source:"iana"},"application/xcap-diff+xml":{source:"iana",extensions:["xdf"]},"application/xcap-el+xml":{source:"iana"},"application/xcap-error+xml":{source:"iana"},"application/xcap-ns+xml":{source:"iana"},"application/xcon-conference-info+xml":{source:"iana"},"application/xcon-conference-info-diff+xml":{source:"iana"},"application/xenc+xml":{source:"iana",extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache"},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana"},"application/xmpp+xml":{source:"iana"},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",extensions:["xpl"]},"application/xslt+xml":{source:"iana",extensions:["xslt"]},"application/xspf+xml":{source:"apache",extensions:["xspf"]},"application/xv+xml":{source:"iana",extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana"},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana"},"application/yin+xml":{source:"iana",extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana"},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana"},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{
source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tone":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/otf":{compressible:!0,extensions:["otf"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana"},"image/emf":{source:"iana"},"image/fits":{source:"iana"},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana"},"image/jp2":{source:"iana"},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jpm":{source:"iana"},"image/jpx":{source:"iana"},"image/ktx":{source:"iana",extensions:["ktx"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana"},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana"},"image/tiff":{source:"iana",compressible:!1,extensions:["tiff","tif"]},"image/tiff-fx":{source:"iana"},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana"},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana"},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana"},"image/vnd.valve.source.texture":{source:"iana"},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana"},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana"},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana"},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana"},"message/global-delivery-status":{source:"iana"},"message/global-disposition-notification":{source:"iana"},"message/global-headers":{source:"iana"},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana"},"model/3mf":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/vnd.collada+xml":{source:"iana",extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana"},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana"},"model/vnd.parasolid.transmit.binary":{source:"iana"},"model/vnd.parasolid.transmit.text":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.valve.source.compiled-map":{source:"iana"},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana"},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana"},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana",compressible:!1},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fwdred":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/hjson":{extensions:["hjson"]},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/slim":{extensions:["slim","slm"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana"},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vp8":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}},{}],318:[function(e,t,n){t.exports=e("./db.json")},{"./db.json":317}],319:[function(e,t,n){"use strict";function r(e){if(!e||"string"!=typeof e)return!1;var t=u.exec(e),n=t&&c[t[1].toLowerCase()];return n&&n.charset?n.charset:!(!t||!h.test(t[1]))&&"UTF-8"}function i(e){if(!e||"string"!=typeof e)return!1;var t=e.indexOf("/")===-1?n.lookup(e):e;if(!t)return!1;if(t.indexOf("charset")===-1){var r=n.charset(t);r&&(t+="; charset="+r.toLowerCase())}return t}function o(e){if(!e||"string"!=typeof e)return!1;var t=u.exec(e),r=t&&n.extensions[t[1].toLowerCase()];return!(!r||!r.length)&&r[0]}function a(e){if(!e||"string"!=typeof e)return!1;var t=l("x."+e).toLowerCase().substr(1);return!!t&&(n.types[t]||!1)}function s(e,t){var n=["nginx","apache",void 0,"iana"];Object.keys(c).forEach(function(r){var i=c[r],o=i.extensions;if(o&&o.length){e[r]=o;for(var a=0;a<o.length;a++){var s=o[a];if(t[s]){var l=n.indexOf(c[t[s]].source),u=n.indexOf(i.source);if("application/octet-stream"!==t[s]&&(l>u||l===u&&"application/"===t[s].substr(0,12)))continue}t[s]=r}}})}var c=e("mime-db"),l=e("path").extname,u=/^\s*([^;\s]*)(?:;|\s|$)/,h=/^text\//i;n.charset=r,n.charsets={lookup:r},n.contentType=i,n.extension=o,n.extensions=Object.create(null),n.lookup=a,n.types=Object.create(null),s(n.extensions,n.types)},{"mime-db":318,path:344}],320:[function(e,t,n){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}t.exports=r,r.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},{}],321:[function(e,t,n){"use strict";function r(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!=typeof e){for(var r=0;r<e.length;r++)n[r]=0|e[r];return n}if("hex"===t){e=e.replace(/[^a-z0-9]+/gi,""),e.length%2!==0&&(e="0"+e);for(var r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16))}else for(var r=0;r<e.length;r++){var i=e.charCodeAt(r),o=i>>8,a=255&i;o?n.push(o,a):n.push(a)}return n}function i(e){return 1===e.length?"0"+e:e}function o(e){for(var t="",n=0;n<e.length;n++)t+=i(e[n].toString(16));return t}var a=n;a.toArray=r,a.zero2=i,a.toHex=o,a.encode=function(e,t){return"hex"===t?o(e):e}},{}],322:[function(e,t,n){!function(e,r){"object"==typeof n&&"undefined"!=typeof t?t.exports=r():"function"==typeof define&&define.amd?define(r):e.moment=r()}(this,function(){"use strict";function n(){return Tr.apply(null,arguments)}function r(e){Tr=e}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function s(e){return void 0===e}function c(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function l(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){for(var n in t)h(t,n)&&(e[n]=t[n]);return h(t,"toString")&&(e.toString=t.toString),h(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t,n,r){return Pt(e,t,n,r,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(e){return null==e._pf&&(e._pf=p()),e._pf}function g(e){if(null==e._isValid){var t=m(e),n=Cr.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function v(e){var t=f(NaN);return null!=e?d(m(t),e):m(t).userInvalidated=!0,t}function b(e,t){var n,r,i;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=m(t)),s(t._locale)||(e._locale=t._locale),Mr.length>0)for(n=0;n<Mr.length;n++)r=Mr[n],i=t[r],s(i)||(e[r]=i);return e}function y(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Or===!1&&(Or=!0,n.updateOffset(this),Or=!1)}function w(e){return e instanceof y||null!=e&&null!=e._isAMomentObject}function _(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function x(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=_(t)),n}function k(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&x(e[r])!==x(t[r]))&&a++;return a+o}function S(e){n.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function j(e,t){var r=!0;return d(function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),r){for(var i,o=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){i+="\n["+a+"] ";for(var s in arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[a];o.push(i)}S(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)},t)}function P(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),Ir[e]||(S(t),Ir[e]=!0)}function E(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(e){var t,n;for(n in e)t=e[n],E(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function T(e,t){var n,r=d({},e);for(n in t)h(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},d(r[n],e[n]),d(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)h(e,n)&&!h(t,n)&&o(e[n])&&(r[n]=d({},r[n]));return r}function C(e){null!=e&&this.set(e)}function M(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return E(r)?r.call(t,n):r}function O(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function I(){return this._invalidDate}function F(e){return this._ordinal.replace("%d",e)}function D(e,t,n,r){var i=this._relativeTime[n];return E(i)?i(e,t,n,r):i.replace(/%d/i,e)}function L(e,t){var n=this._relativeTime[e>0?"future":"past"];return E(n)?n(t):n.replace(/%s/i,t)}function R(e,t){var n=e.toLowerCase();zr[n]=zr[n+"s"]=zr[t]=e}function N(e){return"string"==typeof e?zr[e]||zr[e.toLowerCase()]:void 0}function U(e){var t,n,r={};for(n in e)h(e,n)&&(t=N(n),t&&(r[t]=e[n]));return r}function $(e,t){Br[e]=t}function z(e){var t=[];for(var n in e)t.push({unit:n,priority:Br[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function B(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function q(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(Wr[e]=i),t&&(Wr[t[0]]=function(){return B(i.apply(this,arguments),t[1],t[2])}),n&&(Wr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function V(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function H(e){var t,n,r=e.match(qr);for(t=0,n=r.length;t<n;t++)Wr[r[t]]?r[t]=Wr[r[t]]:r[t]=V(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=E(r[i])?r[i].call(t,e):r[i];return o}}function W(e,t){return e.isValid()?(t=G(t,e.localeData()),Hr[t]=Hr[t]||H(t),Hr[t](e)):e.localeData().invalidDate()}function G(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Vr.lastIndex=0;r>=0&&Vr.test(e);)e=e.replace(Vr,n),Vr.lastIndex=0,r-=1;return e}function Y(e,t,n){ui[e]=E(t)?t:function(e,r){return e&&n?n:t}}function K(e,t){return h(ui,e)?ui[e](t._strict,t._locale):new RegExp(X(e))}function X(e){return Q(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function Q(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),c(t)&&(r=function(e,n){n[t]=x(e)}),n=0;n<e.length;n++)hi[e[n]]=r}function J(e,t){Z(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function ee(e,t,n){null!=t&&h(hi,e)&&hi[e](t,n._a,n,e)}function te(e){return ne(e)?366:365}function ne(e){return e%4===0&&e%100!==0||e%400===0}function re(){return ne(this.year())}function ie(e,t){return function(r){return null!=r?(ae(this,e,r),n.updateOffset(this,t),this):oe(this,e)}}function oe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function ae(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ne(e.year())?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),ue(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function se(e){return e=N(e),E(this[e])?this[e]():this}function ce(e,t){if("object"==typeof e){e=U(e);for(var n=z(e),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=N(e),E(this[e]))return this[e](t);return this}function le(e,t){return(e%t+t)%t}function ue(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=le(t,12);return e+=(t-n)/12,1===n?ne(e)?29:28:31-n%7%2}function he(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||ki).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone}function de(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ki.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function fe(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=f([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(i=_i.call(this._shortMonthsParse,a),i!==-1?i:null):(i=_i.call(this._longMonthsParse,a),i!==-1?i:null):"MMM"===t?(i=_i.call(this._shortMonthsParse,a),i!==-1?i:(i=_i.call(this._longMonthsParse,a),i!==-1?i:null)):(i=_i.call(this._longMonthsParse,a),i!==-1?i:(i=_i.call(this._shortMonthsParse,a),i!==-1?i:null))}function pe(e,t,n){var r,i,o;if(this._monthsParseExact)return fe.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=f([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),
this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function me(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=x(t);else if(t=e.localeData().monthsParse(t),!c(t))return e;return n=Math.min(e.date(),ue(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ge(e){return null!=e?(me(this,e),n.updateOffset(this,!0),this):oe(this,"Month")}function ve(){return ue(this.year(),this.month())}function be(e){return this._monthsParseExact?(h(this,"_monthsRegex")||we.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=Pi),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ye(e){return this._monthsParseExact?(h(this,"_monthsRegex")||we.call(this),e?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=Ei),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function we(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=f([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=Q(r[t]),i[t]=Q(i[t]);for(t=0;t<24;t++)o[t]=Q(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function _e(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function xe(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function ke(e,t,n){var r=7+t-n,i=(7+xe(e,0,r).getUTCDay()-t)%7;return-i+r-1}function Se(e,t,n,r,i){var o,a,s=(7+n-r)%7,c=ke(e,r,i),l=1+7*(t-1)+s+c;return l<=0?(o=e-1,a=te(o)+l):l>te(e)?(o=e+1,a=l-te(e)):(o=e,a=l),{year:o,dayOfYear:a}}function je(e,t,n){var r,i,o=ke(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?(i=e.year()-1,r=a+Pe(i,t,n)):a>Pe(e.year(),t,n)?(r=a-Pe(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Pe(e,t,n){var r=ke(e,t,n),i=ke(e+1,t,n);return(te(e)-r+i)/7}function Ee(e){return je(e,this._week.dow,this._week.doy).week}function Ae(){return this._week.dow}function Te(){return this._week.doy}function Ce(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Me(e){var t=je(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Oe(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Ie(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Fe(e,t){return e?i(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:i(this._weekdays)?this._weekdays:this._weekdays.standalone}function De(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Le(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Re(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=f([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(i=_i.call(this._weekdaysParse,a),i!==-1?i:null):"ddd"===t?(i=_i.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=_i.call(this._minWeekdaysParse,a),i!==-1?i:null):"dddd"===t?(i=_i.call(this._weekdaysParse,a),i!==-1?i:(i=_i.call(this._shortWeekdaysParse,a),i!==-1?i:(i=_i.call(this._minWeekdaysParse,a),i!==-1?i:null))):"ddd"===t?(i=_i.call(this._shortWeekdaysParse,a),i!==-1?i:(i=_i.call(this._weekdaysParse,a),i!==-1?i:(i=_i.call(this._minWeekdaysParse,a),i!==-1?i:null))):(i=_i.call(this._minWeekdaysParse,a),i!==-1?i:(i=_i.call(this._weekdaysParse,a),i!==-1?i:(i=_i.call(this._shortWeekdaysParse,a),i!==-1?i:null)))}function Ne(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Re.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=f([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Ue(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Oe(e,this.localeData()),this.add(e-t,"d")):t}function $e(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function ze(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ie(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Be(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=Oi),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function qe(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ii),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ve(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Fi),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function He(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],c=[],l=[];for(t=0;t<7;t++)n=f([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),c.push(o),l.push(r),l.push(i),l.push(o);for(a.sort(e),s.sort(e),c.sort(e),l.sort(e),t=0;t<7;t++)s[t]=Q(s[t]),c[t]=Q(c[t]),l[t]=Q(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function We(){return this.hours()%12||12}function Ge(){return this.hours()||24}function Ye(e,t){q(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ke(e,t){return t._meridiemParse}function Xe(e){return"p"===(e+"").toLowerCase().charAt(0)}function Qe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ze(e){return e?e.toLowerCase().replace("_","-"):e}function Je(e){for(var t,n,r,i,o=0;o<e.length;){for(i=Ze(e[o]).split("-"),t=i.length,n=Ze(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=et(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&k(i,n,!0)>=t-1)break;t--}o++}return null}function et(n){var r=null;if(!Ui[n]&&"undefined"!=typeof t&&t&&t.exports)try{r=Di._abbr;var i=e;i("./locale/"+n),tt(r)}catch(o){}return Ui[n]}function tt(e,t){var n;return e&&(n=s(t)?it(e):nt(e,t),n&&(Di=n)),Di._abbr}function nt(e,t){if(null!==t){var n=Ni;if(t.abbr=e,null!=Ui[e])P("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Ui[e]._config;else if(null!=t.parentLocale){if(null==Ui[t.parentLocale])return $i[t.parentLocale]||($i[t.parentLocale]=[]),$i[t.parentLocale].push({name:e,config:t}),null;n=Ui[t.parentLocale]._config}return Ui[e]=new C(T(n,t)),$i[e]&&$i[e].forEach(function(e){nt(e.name,e.config)}),tt(e),Ui[e]}return delete Ui[e],null}function rt(e,t){if(null!=t){var n,r=Ni;null!=Ui[e]&&(r=Ui[e]._config),t=T(r,t),n=new C(t),n.parentLocale=Ui[e],Ui[e]=n,tt(e)}else null!=Ui[e]&&(null!=Ui[e].parentLocale?Ui[e]=Ui[e].parentLocale:null!=Ui[e]&&delete Ui[e]);return Ui[e]}function it(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Di;if(!i(e)){if(t=et(e))return t;e=[e]}return Je(e)}function ot(){return Fr(Ui)}function at(e){var t,n=e._a;return n&&m(e).overflow===-2&&(t=n[fi]<0||n[fi]>11?fi:n[pi]<1||n[pi]>ue(n[di],n[fi])?pi:n[mi]<0||n[mi]>24||24===n[mi]&&(0!==n[gi]||0!==n[vi]||0!==n[bi])?mi:n[gi]<0||n[gi]>59?gi:n[vi]<0||n[vi]>59?vi:n[bi]<0||n[bi]>999?bi:-1,m(e)._overflowDayOfYear&&(t<di||t>pi)&&(t=pi),m(e)._overflowWeeks&&t===-1&&(t=yi),m(e)._overflowWeekday&&t===-1&&(t=wi),m(e).overflow=t),e}function st(e,t,n){return null!=e?e:null!=t?t:n}function ct(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function lt(e){var t,n,r,i,o=[];if(!e._d){for(r=ct(e),e._w&&null==e._a[pi]&&null==e._a[fi]&&ut(e),null!=e._dayOfYear&&(i=st(e._a[di],r[di]),(e._dayOfYear>te(i)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),n=xe(i,0,e._dayOfYear),e._a[fi]=n.getUTCMonth(),e._a[pi]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[mi]&&0===e._a[gi]&&0===e._a[vi]&&0===e._a[bi]&&(e._nextDay=!0,e._a[mi]=0),e._d=(e._useUTC?xe:_e).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[mi]=24),e._w&&"undefined"!=typeof e._w.d&&e._w.d!==e._d.getDay()&&(m(e).weekdayMismatch=!0)}}function ut(e){var t,n,r,i,o,a,s,c;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)o=1,a=4,n=st(t.GG,e._a[di],je(Et(),1,4).year),r=st(t.W,1),i=st(t.E,1),(i<1||i>7)&&(c=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var l=je(Et(),o,a);n=st(t.gg,e._a[di],l.year),r=st(t.w,l.week),null!=t.d?(i=t.d,(i<0||i>6)&&(c=!0)):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(c=!0)):i=o}r<1||r>Pe(n,o,a)?m(e)._overflowWeeks=!0:null!=c?m(e)._overflowWeekday=!0:(s=Se(n,r,i,o,a),e._a[di]=s.year,e._dayOfYear=s.dayOfYear)}function ht(e){var t,n,r,i,o,a,s=e._i,c=zi.exec(s)||Bi.exec(s);if(c){for(m(e).iso=!0,t=0,n=Vi.length;t<n;t++)if(Vi[t][1].exec(c[1])){i=Vi[t][0],r=Vi[t][2]!==!1;break}if(null==i)return void(e._isValid=!1);if(c[3]){for(t=0,n=Hi.length;t<n;t++)if(Hi[t][1].exec(c[3])){o=(c[2]||" ")+Hi[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(c[4]){if(!qi.exec(c[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),yt(e)}else e._isValid=!1}function dt(e,t,n,r,i,o){var a=[ft(e),ji.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function ft(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function pt(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function mt(e,t,n){if(e){var r=Ci.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return m(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function gt(e,t,n){if(e)return Yi[e];if(t)return 0;var r=parseInt(n,10),i=r%100,o=(r-i)/100;return 60*o+i}function vt(e){var t=Gi.exec(pt(e._i));if(t){var n=dt(t[4],t[3],t[2],t[5],t[6],t[7]);if(!mt(t[1],n,e))return;e._a=n,e._tzm=gt(t[8],t[9],t[10]),e._d=xe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function bt(e){var t=Wi.exec(e._i);return null!==t?void(e._d=new Date((+t[1]))):(ht(e),void(e._isValid===!1&&(delete e._isValid,vt(e),e._isValid===!1&&(delete e._isValid,n.createFromInputFallback(e)))))}function yt(e){if(e._f===n.ISO_8601)return void ht(e);if(e._f===n.RFC_2822)return void vt(e);e._a=[],m(e).empty=!0;var t,r,i,o,a,s=""+e._i,c=s.length,l=0;for(i=G(e._f,e._locale).match(qr)||[],t=0;t<i.length;t++)o=i[t],r=(s.match(K(o,e))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&m(e).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),l+=r.length),Wr[o]?(r?m(e).empty=!1:m(e).unusedTokens.push(o),ee(o,r,e)):e._strict&&!r&&m(e).unusedTokens.push(o);m(e).charsLeftOver=c-l,s.length>0&&m(e).unusedInput.push(s),e._a[mi]<=12&&m(e).bigHour===!0&&e._a[mi]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[mi]=wt(e._locale,e._a[mi],e._meridiem),lt(e),at(e)}function wt(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function _t(e){var t,n,r,i,o;if(0===e._f.length)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],yt(t),g(t)&&(o+=m(t).charsLeftOver,o+=10*m(t).unusedTokens.length,m(t).score=o,(null==r||o<r)&&(r=o,n=t));d(e,n||t)}function xt(e){if(!e._d){var t=U(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),lt(e)}}function kt(e){var t=new y(at(St(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function St(e){var t=e._i,n=e._f;return e._locale=e._locale||it(e._l),null===t||void 0===n&&""===t?v({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),w(t)?new y(at(t)):(l(t)?e._d=t:i(n)?_t(e):n?yt(e):jt(e),g(e)||(e._d=null),e))}function jt(e){var t=e._i;s(t)?e._d=new Date(n.now()):l(t)?e._d=new Date(t.valueOf()):"string"==typeof t?bt(e):i(t)?(e._a=u(t.slice(0),function(e){return parseInt(e,10)}),lt(e)):o(t)?xt(e):c(t)?e._d=new Date(t):n.createFromInputFallback(e)}function Pt(e,t,n,r,s){var c={};return n!==!0&&n!==!1||(r=n,n=void 0),(o(e)&&a(e)||i(e)&&0===e.length)&&(e=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=s,c._l=n,c._i=e,c._f=t,c._strict=r,kt(c)}function Et(e,t,n,r){return Pt(e,t,n,r,!1)}function At(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return Et();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Tt(){var e=[].slice.call(arguments,0);return At("isBefore",e)}function Ct(){var e=[].slice.call(arguments,0);return At("isAfter",e)}function Mt(e){for(var t in e)if(_i.call(Zi,t)===-1||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<Zi.length;++r)if(e[Zi[r]]){if(n)return!1;parseFloat(e[Zi[r]])!==x(e[Zi[r]])&&(n=!0)}return!0}function Ot(){return this._isValid}function It(){return Zt(NaN)}function Ft(e){var t=U(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,c=t.minute||0,l=t.second||0,u=t.millisecond||0;this._isValid=Mt(t),this._milliseconds=+u+1e3*l+6e4*c+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=it(),this._bubble()}function Dt(e){return e instanceof Ft}function Lt(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Rt(e,t){q(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+B(~~(e/60),2)+t+B(~~e%60,2)})}function Nt(e,t){var n=(t||"").match(e);if(null===n)return null;var r=n[n.length-1]||[],i=(r+"").match(Ji)||["-",0,0],o=+(60*i[1])+x(i[2]);return 0===o?0:"+"===i[0]?o:-o}function Ut(e,t){var r,i;return t._isUTC?(r=t.clone(),i=(w(e)||l(e)?e.valueOf():Et(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),n.updateOffset(r,!1),r):Et(e).local()}function $t(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function zt(e,t,r){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(e=Nt(si,e),null===e)return this}else Math.abs(e)<16&&!r&&(e=60*e);return!this._isUTC&&t&&(i=$t(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?rn(this,Zt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:$t(this)}function Bt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function qt(e){return this.utcOffset(0,e)}function Vt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract($t(this),"m")),this}function Ht(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Nt(ai,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Wt(e){return!!this.isValid()&&(e=e?Et(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Gt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Yt(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e={};if(b(e,this),e=St(e),e._a){var t=e._isUTC?f(e._a):Et(e._a);this._isDSTShifted=this.isValid()&&k(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Kt(){return!!this.isValid()&&!this._isUTC}function Xt(){return!!this.isValid()&&this._isUTC}function Qt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Zt(e,t){var n,r,i,o=e,a=null;return Dt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:c(e)?(o={},t?o[t]=e:o.milliseconds=e):(a=eo.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:x(a[pi])*n,h:x(a[mi])*n,m:x(a[gi])*n,s:x(a[vi])*n,ms:x(Lt(1e3*a[bi]))*n}):(a=to.exec(e))?(n="-"===a[1]?-1:("+"===a[1],1),o={y:Jt(a[2],n),M:Jt(a[3],n),w:Jt(a[4],n),d:Jt(a[5],n),h:Jt(a[6],n),m:Jt(a[7],n),s:Jt(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=tn(Et(o.from),Et(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new Ft(o),Dt(e)&&h(e,"_locale")&&(r._locale=e._locale),r}function Jt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function en(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function tn(e,t){var n;return e.isValid()&&t.isValid()?(t=Ut(t,e),e.isBefore(t)?n=en(e,t):(n=en(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function nn(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(P(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=Zt(n,r),rn(this,i,e),this}}function rn(e,t,r,i){var o=t._milliseconds,a=Lt(t._days),s=Lt(t._months);e.isValid()&&(i=null==i||i,s&&me(e,oe(e,"Month")+s*r),a&&ae(e,"Date",oe(e,"Date")+a*r),o&&e._d.setTime(e._d.valueOf()+o*r),i&&n.updateOffset(e,a||s))}function on(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function an(e,t){var r=e||Et(),i=Ut(r,this).startOf("day"),o=n.calendarFormat(this,i)||"sameElse",a=t&&(E(t[o])?t[o].call(this,r):t[o]);return this.format(a||this.localeData().calendar(o,this,Et(r)))}function sn(){return new y(this)}function cn(e,t){var n=w(e)?e:Et(e);return!(!this.isValid()||!n.isValid())&&(t=N(s(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function ln(e,t){var n=w(e)?e:Et(e);return!(!this.isValid()||!n.isValid())&&(t=N(s(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function un(e,t,n,r){return r=r||"()",("("===r[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function hn(e,t){var n,r=w(e)?e:Et(e);return!(!this.isValid()||!r.isValid())&&(t=N(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function dn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function fn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function pn(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(r=Ut(e,this),!r.isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=N(t)){case"year":o=mn(this,r)/12;break;case"month":o=mn(this,r);break;case"quarter":o=mn(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:_(o)}function mn(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return t-o<0?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)||0}function gn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function vn(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?W(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):E(Date.prototype.toISOString)?this.toDate().toISOString():W(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function bn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]';return this.format(n+r+i+o)}function yn(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=W(this,e);return this.localeData().postformat(t)}function wn(e,t){return this.isValid()&&(w(e)&&e.isValid()||Et(e).isValid())?Zt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function _n(e){return this.from(Et(),e)}function xn(e,t){return this.isValid()&&(w(e)&&e.isValid()||Et(e).isValid())?Zt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function kn(e){return this.to(Et(),e)}function Sn(e){var t;return void 0===e?this._locale._abbr:(t=it(e),null!=t&&(this._locale=t),this)}function jn(){return this._locale}function Pn(e){switch(e=N(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function En(e){return e=N(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function An(){return this._d.valueOf()-6e4*(this._offset||0)}function Tn(){return Math.floor(this.valueOf()/1e3)}function Cn(){return new Date(this.valueOf())}function Mn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function On(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function In(){return this.isValid()?this.toISOString():null}function Fn(){return g(this)}function Dn(){return d({},m(this))}function Ln(){return m(this).overflow}function Rn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Nn(e,t){q(0,[e,e.length],0,t)}function Un(e){return qn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function $n(e){return qn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function zn(){return Pe(this.year(),1,4)}function Bn(){var e=this.localeData()._week;return Pe(this.year(),e.dow,e.doy)}function qn(e,t,n,r,i){var o;return null==e?je(this,r,i).year:(o=Pe(e,r,i),t>o&&(t=o),Vn.call(this,e,t,n,r,i))}function Vn(e,t,n,r,i){var o=Se(e,t,n,r,i),a=xe(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Hn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Wn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Gn(e,t){t[bi]=x(1e3*("0."+e))}function Yn(){return this._isUTC?"UTC":""}function Kn(){return this._isUTC?"Coordinated Universal Time":""}function Xn(e){return Et(1e3*e)}function Qn(){return Et.apply(null,arguments).parseZone()}function Zn(e){return e}function Jn(e,t,n,r){var i=it(),o=f().set(r,t);return i[n](o,e)}function er(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return Jn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Jn(e,r,n,"month");return i}function tr(e,t,n,r){"boolean"==typeof e?(c(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,c(t)&&(n=t,t=void 0),t=t||"");var i=it(),o=e?i._week.dow:0;if(null!=n)return Jn(t,(n+o)%7,r,"day");var a,s=[];for(a=0;a<7;a++)s[a]=Jn(t,(a+o)%7,r,"day");return s}function nr(e,t){return er(e,t,"months")}function rr(e,t){return er(e,t,"monthsShort")}function ir(e,t,n){return tr(e,t,n,"weekdays")}function or(e,t,n){return tr(e,t,n,"weekdaysShort")}function ar(e,t,n){return tr(e,t,n,"weekdaysMin")}function sr(){var e=this._data;return this._milliseconds=fo(this._milliseconds),this._days=fo(this._days),this._months=fo(this._months),e.milliseconds=fo(e.milliseconds),e.seconds=fo(e.seconds),e.minutes=fo(e.minutes),e.hours=fo(e.hours),e.months=fo(e.months),e.years=fo(e.years),this}function cr(e,t,n,r){var i=Zt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function lr(e,t){return cr(this,e,t,1)}function ur(e,t){return cr(this,e,t,-1)}function hr(e){return e<0?Math.floor(e):Math.ceil(e)}function dr(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,c=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*hr(pr(s)+a),a=0,s=0),c.milliseconds=o%1e3,e=_(o/1e3),c.seconds=e%60,t=_(e/60),c.minutes=t%60,n=_(t/60),c.hours=n%24,a+=_(n/24),i=_(fr(a)),s+=i,a-=hr(pr(i)),r=_(s/12),s%=12,c.days=a,c.months=s,c.years=r,this}function fr(e){return 4800*e/146097}function pr(e){return 146097*e/4800}function mr(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=N(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+fr(t),"month"===e?n:n/12;switch(t=this._days+Math.round(pr(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function gr(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12):NaN}function vr(e){return function(){return this.as(e)}}function br(){return Zt(this)}function yr(e){return e=N(e),this.isValid()?this[e+"s"]():NaN}function wr(e){return function(){return this.isValid()?this._data[e]:NaN}}function _r(){return _(this.days()/7)}function xr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function kr(e,t,n){var r=Zt(e).abs(),i=To(r.as("s")),o=To(r.as("m")),a=To(r.as("h")),s=To(r.as("d")),c=To(r.as("M")),l=To(r.as("y")),u=i<=Co.ss&&["s",i]||i<Co.s&&["ss",i]||o<=1&&["m"]||o<Co.m&&["mm",o]||a<=1&&["h"]||a<Co.h&&["hh",a]||s<=1&&["d"]||s<Co.d&&["dd",s]||c<=1&&["M"]||c<Co.M&&["MM",c]||l<=1&&["y"]||["yy",l];return u[2]=t,u[3]=+e>0,u[4]=n,xr.apply(null,u)}function Sr(e){return void 0===e?To:"function"==typeof e&&(To=e,!0)}function jr(e,t){return void 0!==Co[e]&&(void 0===t?Co[e]:(Co[e]=t,"s"===e&&(Co.ss=t-1),!0))}function Pr(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=kr(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Er(e){return(e>0)-(e<0)||+e}function Ar(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r=Mo(this._milliseconds)/1e3,i=Mo(this._days),o=Mo(this._months);e=_(r/60),t=_(e/60),r%=60,e%=60,n=_(o/12),o%=12;var a=n,s=o,c=i,l=t,u=e,h=r?r.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var f=d<0?"-":"",p=Er(this._months)!==Er(d)?"-":"",m=Er(this._days)!==Er(d)?"-":"",g=Er(this._milliseconds)!==Er(d)?"-":"";return f+"P"+(a?p+a+"Y":"")+(s?p+s+"M":"")+(c?m+c+"D":"")+(l||u||h?"T":"")+(l?g+l+"H":"")+(u?g+u+"M":"")+(h?g+h+"S":"")}var Tr,Cr;Cr=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var Mr=n.momentProperties=[],Or=!1,Ir={};n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;var Fr;Fr=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)h(e,t)&&n.push(t);return n};var Dr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Lr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Rr="Invalid date",Nr="%d",Ur=/\d{1,2}/,$r={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},zr={},Br={},qr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Vr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Hr={},Wr={},Gr=/\d/,Yr=/\d\d/,Kr=/\d{3}/,Xr=/\d{4}/,Qr=/[+-]?\d{6}/,Zr=/\d\d?/,Jr=/\d\d\d\d?/,ei=/\d\d\d\d\d\d?/,ti=/\d{1,3}/,ni=/\d{1,4}/,ri=/[+-]?\d{1,6}/,ii=/\d+/,oi=/[+-]?\d+/,ai=/Z|[+-]\d\d:?\d\d/gi,si=/Z|[+-]\d\d(?::?\d\d)?/gi,ci=/[+-]?\d+(\.\d{1,3})?/,li=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ui={},hi={},di=0,fi=1,pi=2,mi=3,gi=4,vi=5,bi=6,yi=7,wi=8;q("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),q(0,["YY",2],0,function(){return this.year()%100}),q(0,["YYYY",4],0,"year"),q(0,["YYYYY",5],0,"year"),q(0,["YYYYYY",6,!0],0,"year"),R("year","y"),$("year",1),Y("Y",oi),Y("YY",Zr,Yr),Y("YYYY",ni,Xr),Y("YYYYY",ri,Qr),Y("YYYYYY",ri,Qr),Z(["YYYYY","YYYYYY"],di),Z("YYYY",function(e,t){t[di]=2===e.length?n.parseTwoDigitYear(e):x(e)}),Z("YY",function(e,t){t[di]=n.parseTwoDigitYear(e)}),Z("Y",function(e,t){t[di]=parseInt(e,10)}),n.parseTwoDigitYear=function(e){return x(e)+(x(e)>68?1900:2e3)};var _i,xi=ie("FullYear",!0);_i=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},q("M",["MM",2],"Mo",function(){return this.month()+1}),q("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),q("MMMM",0,0,function(e){return this.localeData().months(this,e)}),R("month","M"),$("month",8),Y("M",Zr),Y("MM",Zr,Yr),Y("MMM",function(e,t){return t.monthsShortRegex(e)}),Y("MMMM",function(e,t){return t.monthsRegex(e)}),Z(["M","MM"],function(e,t){t[fi]=x(e)-1}),Z(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[fi]=i:m(n).invalidMonth=e});var ki=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Si="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ji="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Pi=li,Ei=li;q("w",["ww",2],"wo","week"),q("W",["WW",2],"Wo","isoWeek"),R("week","w"),R("isoWeek","W"),$("week",5),$("isoWeek",5),Y("w",Zr),Y("ww",Zr,Yr),Y("W",Zr),Y("WW",Zr,Yr),J(["w","ww","W","WW"],function(e,t,n,r){
t[r.substr(0,1)]=x(e)});var Ai={dow:0,doy:6};q("d",0,"do","day"),q("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),q("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),q("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),q("e",0,0,"weekday"),q("E",0,0,"isoWeekday"),R("day","d"),R("weekday","e"),R("isoWeekday","E"),$("day",11),$("weekday",11),$("isoWeekday",11),Y("d",Zr),Y("e",Zr),Y("E",Zr),Y("dd",function(e,t){return t.weekdaysMinRegex(e)}),Y("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Y("dddd",function(e,t){return t.weekdaysRegex(e)}),J(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:m(n).invalidWeekday=e}),J(["d","e","E"],function(e,t,n,r){t[r]=x(e)});var Ti="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ci="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Mi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Oi=li,Ii=li,Fi=li;q("H",["HH",2],0,"hour"),q("h",["hh",2],0,We),q("k",["kk",2],0,Ge),q("hmm",0,0,function(){return""+We.apply(this)+B(this.minutes(),2)}),q("hmmss",0,0,function(){return""+We.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)}),q("Hmm",0,0,function(){return""+this.hours()+B(this.minutes(),2)}),q("Hmmss",0,0,function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)}),Ye("a",!0),Ye("A",!1),R("hour","h"),$("hour",13),Y("a",Ke),Y("A",Ke),Y("H",Zr),Y("h",Zr),Y("k",Zr),Y("HH",Zr,Yr),Y("hh",Zr,Yr),Y("kk",Zr,Yr),Y("hmm",Jr),Y("hmmss",ei),Y("Hmm",Jr),Y("Hmmss",ei),Z(["H","HH"],mi),Z(["k","kk"],function(e,t,n){var r=x(e);t[mi]=24===r?0:r}),Z(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),Z(["h","hh"],function(e,t,n){t[mi]=x(e),m(n).bigHour=!0}),Z("hmm",function(e,t,n){var r=e.length-2;t[mi]=x(e.substr(0,r)),t[gi]=x(e.substr(r)),m(n).bigHour=!0}),Z("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[mi]=x(e.substr(0,r)),t[gi]=x(e.substr(r,2)),t[vi]=x(e.substr(i)),m(n).bigHour=!0}),Z("Hmm",function(e,t,n){var r=e.length-2;t[mi]=x(e.substr(0,r)),t[gi]=x(e.substr(r))}),Z("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[mi]=x(e.substr(0,r)),t[gi]=x(e.substr(r,2)),t[vi]=x(e.substr(i))});var Di,Li=/[ap]\.?m?\.?/i,Ri=ie("Hours",!0),Ni={calendar:Dr,longDateFormat:Lr,invalidDate:Rr,ordinal:Nr,dayOfMonthOrdinalParse:Ur,relativeTime:$r,months:Si,monthsShort:ji,week:Ai,weekdays:Ti,weekdaysMin:Mi,weekdaysShort:Ci,meridiemParse:Li},Ui={},$i={},zi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Bi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qi=/Z|[+-]\d\d(?::?\d\d)?/,Vi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Hi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Wi=/^\/?Date\((\-?\d+)/i,Gi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Yi={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};n.createFromInputFallback=j("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){};var Ki=j("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Et.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:v()}),Xi=j("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Et.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:v()}),Qi=function(){return Date.now?Date.now():+new Date},Zi=["year","quarter","month","week","day","hour","minute","second","millisecond"];Rt("Z",":"),Rt("ZZ",""),Y("Z",si),Y("ZZ",si),Z(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Nt(si,e)});var Ji=/([\+\-]|\d\d)/gi;n.updateOffset=function(){};var eo=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,to=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Zt.fn=Ft.prototype,Zt.invalid=It;var no=nn(1,"add"),ro=nn(-1,"subtract");n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var io=j("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});q(0,["gg",2],0,function(){return this.weekYear()%100}),q(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Nn("gggg","weekYear"),Nn("ggggg","weekYear"),Nn("GGGG","isoWeekYear"),Nn("GGGGG","isoWeekYear"),R("weekYear","gg"),R("isoWeekYear","GG"),$("weekYear",1),$("isoWeekYear",1),Y("G",oi),Y("g",oi),Y("GG",Zr,Yr),Y("gg",Zr,Yr),Y("GGGG",ni,Xr),Y("gggg",ni,Xr),Y("GGGGG",ri,Qr),Y("ggggg",ri,Qr),J(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=x(e)}),J(["gg","GG"],function(e,t,r,i){t[i]=n.parseTwoDigitYear(e)}),q("Q",0,"Qo","quarter"),R("quarter","Q"),$("quarter",7),Y("Q",Gr),Z("Q",function(e,t){t[fi]=3*(x(e)-1)}),q("D",["DD",2],"Do","date"),R("date","D"),$("date",9),Y("D",Zr),Y("DD",Zr,Yr),Y("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),Z(["D","DD"],pi),Z("Do",function(e,t){t[pi]=x(e.match(Zr)[0],10)});var oo=ie("Date",!0);q("DDD",["DDDD",3],"DDDo","dayOfYear"),R("dayOfYear","DDD"),$("dayOfYear",4),Y("DDD",ti),Y("DDDD",Kr),Z(["DDD","DDDD"],function(e,t,n){n._dayOfYear=x(e)}),q("m",["mm",2],0,"minute"),R("minute","m"),$("minute",14),Y("m",Zr),Y("mm",Zr,Yr),Z(["m","mm"],gi);var ao=ie("Minutes",!1);q("s",["ss",2],0,"second"),R("second","s"),$("second",15),Y("s",Zr),Y("ss",Zr,Yr),Z(["s","ss"],vi);var so=ie("Seconds",!1);q("S",0,0,function(){return~~(this.millisecond()/100)}),q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),q(0,["SSS",3],0,"millisecond"),q(0,["SSSS",4],0,function(){return 10*this.millisecond()}),q(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),q(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),q(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),q(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),q(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),R("millisecond","ms"),$("millisecond",16),Y("S",ti,Gr),Y("SS",ti,Yr),Y("SSS",ti,Kr);var co;for(co="SSSS";co.length<=9;co+="S")Y(co,ii);for(co="S";co.length<=9;co+="S")Z(co,Gn);var lo=ie("Milliseconds",!1);q("z",0,0,"zoneAbbr"),q("zz",0,0,"zoneName");var uo=y.prototype;uo.add=no,uo.calendar=an,uo.clone=sn,uo.diff=pn,uo.endOf=En,uo.format=yn,uo.from=wn,uo.fromNow=_n,uo.to=xn,uo.toNow=kn,uo.get=se,uo.invalidAt=Ln,uo.isAfter=cn,uo.isBefore=ln,uo.isBetween=un,uo.isSame=hn,uo.isSameOrAfter=dn,uo.isSameOrBefore=fn,uo.isValid=Fn,uo.lang=io,uo.locale=Sn,uo.localeData=jn,uo.max=Xi,uo.min=Ki,uo.parsingFlags=Dn,uo.set=ce,uo.startOf=Pn,uo.subtract=ro,uo.toArray=Mn,uo.toObject=On,uo.toDate=Cn,uo.toISOString=vn,uo.inspect=bn,uo.toJSON=In,uo.toString=gn,uo.unix=Tn,uo.valueOf=An,uo.creationData=Rn,uo.year=xi,uo.isLeapYear=re,uo.weekYear=Un,uo.isoWeekYear=$n,uo.quarter=uo.quarters=Hn,uo.month=ge,uo.daysInMonth=ve,uo.week=uo.weeks=Ce,uo.isoWeek=uo.isoWeeks=Me,uo.weeksInYear=Bn,uo.isoWeeksInYear=zn,uo.date=oo,uo.day=uo.days=Ue,uo.weekday=$e,uo.isoWeekday=ze,uo.dayOfYear=Wn,uo.hour=uo.hours=Ri,uo.minute=uo.minutes=ao,uo.second=uo.seconds=so,uo.millisecond=uo.milliseconds=lo,uo.utcOffset=zt,uo.utc=qt,uo.local=Vt,uo.parseZone=Ht,uo.hasAlignedHourOffset=Wt,uo.isDST=Gt,uo.isLocal=Kt,uo.isUtcOffset=Xt,uo.isUtc=Qt,uo.isUTC=Qt,uo.zoneAbbr=Yn,uo.zoneName=Kn,uo.dates=j("dates accessor is deprecated. Use date instead.",oo),uo.months=j("months accessor is deprecated. Use month instead",ge),uo.years=j("years accessor is deprecated. Use year instead",xi),uo.zone=j("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Bt),uo.isDSTShifted=j("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Yt);var ho=C.prototype;ho.calendar=M,ho.longDateFormat=O,ho.invalidDate=I,ho.ordinal=F,ho.preparse=Zn,ho.postformat=Zn,ho.relativeTime=D,ho.pastFuture=L,ho.set=A,ho.months=he,ho.monthsShort=de,ho.monthsParse=pe,ho.monthsRegex=ye,ho.monthsShortRegex=be,ho.week=Ee,ho.firstDayOfYear=Te,ho.firstDayOfWeek=Ae,ho.weekdays=Fe,ho.weekdaysMin=Le,ho.weekdaysShort=De,ho.weekdaysParse=Ne,ho.weekdaysRegex=Be,ho.weekdaysShortRegex=qe,ho.weekdaysMinRegex=Ve,ho.isPM=Xe,ho.meridiem=Qe,tt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===x(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),n.lang=j("moment.lang is deprecated. Use moment.locale instead.",tt),n.langData=j("moment.langData is deprecated. Use moment.localeData instead.",it);var fo=Math.abs,po=vr("ms"),mo=vr("s"),go=vr("m"),vo=vr("h"),bo=vr("d"),yo=vr("w"),wo=vr("M"),_o=vr("y"),xo=wr("milliseconds"),ko=wr("seconds"),So=wr("minutes"),jo=wr("hours"),Po=wr("days"),Eo=wr("months"),Ao=wr("years"),To=Math.round,Co={ss:44,s:45,m:45,h:22,d:26,M:11},Mo=Math.abs,Oo=Ft.prototype;return Oo.isValid=Ot,Oo.abs=sr,Oo.add=lr,Oo.subtract=ur,Oo.as=mr,Oo.asMilliseconds=po,Oo.asSeconds=mo,Oo.asMinutes=go,Oo.asHours=vo,Oo.asDays=bo,Oo.asWeeks=yo,Oo.asMonths=wo,Oo.asYears=_o,Oo.valueOf=gr,Oo._bubble=dr,Oo.clone=br,Oo.get=yr,Oo.milliseconds=xo,Oo.seconds=ko,Oo.minutes=So,Oo.hours=jo,Oo.days=Po,Oo.weeks=_r,Oo.months=Eo,Oo.years=Ao,Oo.humanize=Pr,Oo.toISOString=Ar,Oo.toString=Ar,Oo.toJSON=Ar,Oo.locale=Sn,Oo.localeData=jn,Oo.toIsoString=j("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ar),Oo.lang=io,q("X",0,0,"unix"),q("x",0,0,"valueOf"),Y("x",oi),Y("X",ci),Z("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),Z("x",function(e,t,n){n._d=new Date(x(e))}),n.version="2.19.1",r(Et),n.fn=uo,n.min=Tt,n.max=Ct,n.now=Qi,n.utc=f,n.unix=Xn,n.months=nr,n.isDate=l,n.locale=tt,n.invalid=v,n.duration=Zt,n.isMoment=w,n.weekdays=ir,n.parseZone=Qn,n.localeData=it,n.isDuration=Dt,n.monthsShort=rr,n.weekdaysMin=ar,n.defineLocale=nt,n.updateLocale=rt,n.locales=ot,n.weekdaysShort=or,n.normalizeUnits=N,n.relativeTimeRounding=Sr,n.relativeTimeThreshold=jr,n.calendarFormat=on,n.prototype=uo,n})},{}],323:[function(e,t,n){!function(){"use strict";angular.module("as.sortable",[]).constant("sortableConfig",{itemClass:"as-sortable-item",handleClass:"as-sortable-item-handle",placeHolderClass:"as-sortable-placeholder",dragClass:"as-sortable-drag",hiddenClass:"as-sortable-hidden",dragging:"as-sortable-dragging"})}(),function(){"use strict";var e=angular.module("as.sortable");e.factory("$helper",["$document","$window",function(e,t){return{height:function(e){return e[0].getBoundingClientRect().height},width:function(e){return e[0].getBoundingClientRect().width},offset:function(n,r){var i=n[0].getBoundingClientRect();return r||(r=e[0].documentElement),{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||r.scrollTop-r.offsetTop),left:i.left+(t.pageXOffset||r.scrollLeft-r.offsetLeft)}},eventObj:function(e){var t=e;return void 0!==e.targetTouches?t=e.targetTouches.item(0):void 0!==e.originalEvent&&void 0!==e.originalEvent.targetTouches&&(t=e.originalEvent.targetTouches.item(0)),t},isTouchInvalid:function(e){var t=!1;return void 0!==e.touches&&e.touches.length>1?t=!0:void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&e.originalEvent.touches.length>1&&(t=!0),t},positionStarted:function(e,t,n){var r={};return r.offsetX=e.pageX-this.offset(t,n).left,r.offsetY=e.pageY-this.offset(t,n).top,r.startX=r.lastX=e.pageX,r.startY=r.lastY=e.pageY,r.nowX=r.nowY=r.distX=r.distY=r.dirAx=0,r.dirX=r.dirY=r.lastDirX=r.lastDirY=r.distAxX=r.distAxY=0,r},calculatePosition:function(e,t){e.lastX=e.nowX,e.lastY=e.nowY,e.nowX=t.pageX,e.nowY=t.pageY,e.distX=e.nowX-e.lastX,e.distY=e.nowY-e.lastY,e.lastDirX=e.dirX,e.lastDirY=e.dirY,e.dirX=0===e.distX?0:e.distX>0?1:-1,e.dirY=0===e.distY?0:e.distY>0?1:-1;var n=Math.abs(e.distX)>Math.abs(e.distY)?1:0;e.dirAx!==n?(e.distAxX=0,e.distAxY=0):(e.distAxX+=Math.abs(e.distX),0!==e.dirX&&e.dirX!==e.lastDirX&&(e.distAxX=0),e.distAxY+=Math.abs(e.distY),0!==e.dirY&&e.dirY!==e.lastDirY&&(e.distAxY=0)),e.dirAx=n},movePosition:function(e,t,n,r,i,o){var a,s="relative"===i;t.x=e.pageX-n.offsetX,t.y=e.pageY-n.offsetY,r&&(a=this.offset(r,o),s&&(t.x-=a.left,t.y-=a.top,a.left=0,a.top=0),t.x<a.left?t.x=a.left:t.x>=a.width+a.left-this.offset(t).width&&(t.x=a.width+a.left-this.offset(t).width),t.y<a.top?t.y=a.top:t.y>=a.height+a.top-this.offset(t).height&&(t.y=a.height+a.top-this.offset(t).height)),t.css({left:t.x+"px",top:t.y+"px"}),this.calculatePosition(n,e)},dragItem:function(e){return{index:e.index(),parent:e.sortableScope,source:e,targetElement:null,targetElementOffset:null,sourceInfo:{index:e.index(),itemScope:e.itemScope,sortableScope:e.sortableScope},canMove:function(e,t,n){return this.targetElement!==t?(this.targetElement=t,this.targetElementOffset=n,!0):(e.dirX*(n.left-this.targetElementOffset.left)>0||e.dirY*(n.top-this.targetElementOffset.top)>0)&&(this.targetElementOffset=n,!0)},moveTo:function(e,t){this.parent=e,this.isSameParent()&&this.source.index()<t&&!this.sourceInfo.sortableScope.cloning&&(t-=1),this.index=t},isSameParent:function(){return this.parent.element===this.sourceInfo.sortableScope.element},isOrderChanged:function(){return this.index!==this.sourceInfo.index},eventArgs:function(){return{source:this.sourceInfo,dest:{index:this.index,sortableScope:this.parent}}},apply:function(){this.sourceInfo.sortableScope.cloning?this.parent.options.clone||this.parent.insertItem(this.index,angular.copy(this.source.modelValue)):(this.sourceInfo.sortableScope.removeItem(this.sourceInfo.index),(this.parent.options.allowDuplicates||this.parent.modelValue.indexOf(this.source.modelValue)<0)&&this.parent.insertItem(this.index,this.source.modelValue))}}},noDrag:function(e){return void 0!==e.attr("no-drag")||void 0!==e.attr("data-no-drag")},findAncestor:function(e,t){e=e[0];for(var n=Element.matches||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector;(e=e.parentElement)&&!n.call(e,t););return e?angular.element(e):angular.element(document.body)}}}])}(),function(){"use strict";var e=angular.module("as.sortable");e.controller("as.sortable.sortableController",["$scope",function(e){this.scope=e,e.modelValue=null,e.callbacks=null,e.type="sortable",e.options={longTouch:!1},e.isDisabled=!1,e.insertItem=function(t,n){e.options.allowDuplicates?e.modelValue.splice(t,0,angular.copy(n)):e.modelValue.splice(t,0,n)},e.removeItem=function(t){var n=null;return t>-1&&(n=e.modelValue.splice(t,1)[0]),n},e.isEmpty=function(){return e.modelValue&&0===e.modelValue.length},e.accept=function(t,n,r){return e.callbacks.accept(t,n,r)}}]),e.directive("asSortable",function(){return{require:"ngModel",restrict:"A",scope:!0,controller:"as.sortable.sortableController",link:function(e,t,n,r){var i,o;i=r,i&&(i.$render=function(){e.modelValue=i.$modelValue},e.element=t,t.data("_scope",e),o={accept:null,orderChanged:null,itemMoved:null,dragStart:null,dragMove:null,dragCancel:null,dragEnd:null},o.accept=function(e,t,n){return!0},o.orderChanged=function(e){},o.itemMoved=function(e){},o.dragStart=function(e){},o.dragMove=angular.noop,o.dragCancel=function(e){},o.dragEnd=function(e){},e.$watch(n.asSortable,function(t,n){angular.forEach(t,function(t,n){o[n]?"function"==typeof t&&(o[n]=t):e.options[n]=t}),e.callbacks=o},!0),angular.isDefined(n.isDisabled)&&e.$watch(n.isDisabled,function(t,n){angular.isUndefined(t)||(e.isDisabled=t)},!0))}}})}(),function(){"use strict";function e(t,n){return!(!n||"HTML"===n.nodeName)&&(n.parentNode===t||e(t,n.parentNode))}var t=angular.module("as.sortable");t.controller("as.sortable.sortableItemHandleController",["$scope",function(e){this.scope=e,e.itemScope=null,e.type="handle"}]),t.directive("asSortableItemHandle",["sortableConfig","$helper","$window","$document","$timeout",function(t,n,r,i,o){return{require:"^asSortableItem",scope:!0,restrict:"A",controller:"as.sortable.sortableItemHandleController",link:function(a,s,c,l){function u(e,t){"table-row"!==m.css("display")&&m.css("display","block"),t.sortableScope.options.clone||(e[0].parentNode.insertBefore(m[0],e[0]),b.moveTo(t.sortableScope,t.index()))}function h(e,t){"table-row"!==m.css("display")&&m.css("display","block"),t.sortableScope.options.clone||(e.after(m),b.moveTo(t.sortableScope,t.index()+1))}function d(e){for(var t;!t&&e.length;)t=e.data("_scope"),t||(e=e.parent());return t}function f(){a.itemScope.sortableScope.cloning||g.replaceWith(a.itemScope.element),m.remove(),p.remove(),p=null,N=!1,y.css("cursor",""),y.removeClass("as-sortable-un-selectable")}var p,m,g,v,b,y,w,_,x,k,S,j,P,E,A,T,C,M,O,I,F,D,L,R,N,U,$,z,B=!1,q=!1;I="ontouchstart"in r,F=/iPad|iPhone|iPod/.test(r.navigator.userAgent)&&!r.MSStream,t.handleClass&&s.addClass(t.handleClass),a.itemScope=l.scope,s.data("_scope",a),a.$watchGroup(["sortableScope.isDisabled","sortableScope.options.longTouch"],function(e){B!==e[0]?(B=e[0],B?C():T()):q!==e[1]?(q=e[1],C(),T()):T()}),a.$on("$destroy",function(){angular.element(i[0].body).unbind("keydown",z)}),U=function(e){return"function"==typeof a.sortableScope.options.placeholder?angular.element(a.sortableScope.options.placeholder(e)):"string"==typeof a.sortableScope.options.placeholder?angular.element(a.sortableScope.options.placeholder):angular.element(i[0].createElement(e.element.prop("tagName")))},_=function(e){var t,r=function(){angular.element(i).unbind("mousemove",o),angular.element(i).unbind("touchmove",o),s.unbind("mouseup",r),s.unbind("touchend",r),s.unbind("touchcancel",r)},o=function(i){i.preventDefault();var o=n.eventObj(i);t||(t={clientX:o.clientX,clientY:o.clientY}),Math.abs(o.clientX-t.clientX)+Math.abs(o.clientY-t.clientY)>10&&(r(),k(e))};angular.element(i).bind("mousemove",o),angular.element(i).bind("touchmove",o),s.bind("mouseup",r),s.bind("touchend",r),s.bind("touchcancel",r),e.stopPropagation()},k=function(e){var r,o;(I||2!==e.button&&3!==e.which)&&(I&&n.isTouchInvalid(e)||!N&&E(e)&&(N=!0,e.preventDefault(),r=n.eventObj(e),a.sortableScope=a.sortableScope||a.itemScope.sortableScope,a.callbacks=a.callbacks||a.itemScope.callbacks,a.itemScope.sortableScope.options.clone||a.itemScope.sortableScope.options.ctrlClone&&e.ctrlKey?a.itemScope.sortableScope.cloning=!0:a.itemScope.sortableScope.cloning=!1,x=angular.element(i[0].querySelector(a.sortableScope.options.scrollableContainer)).length>0?i[0].querySelector(a.sortableScope.options.scrollableContainer):i[0].documentElement,y=a.sortableScope.options.containment?n.findAncestor(s,a.sortableScope.options.containment):angular.element(i[0].body),y.css("cursor","move"),y.css("cursor","-webkit-grabbing"),y.css("cursor","-moz-grabbing"),y.addClass("as-sortable-un-selectable"),w=a.sortableScope.options.containerPositioning||"absolute",b=n.dragItem(a),o=a.itemScope.element.prop("tagName"),p=angular.element(i[0].createElement(a.sortableScope.element.prop("tagName"))).addClass(a.sortableScope.element.attr("class")).addClass(t.dragClass),p.css("width",n.width(a.itemScope.element)+"px"),p.css("height",n.height(a.itemScope.element)+"px"),m=U(a.itemScope).addClass(t.placeHolderClass).addClass(a.sortableScope.options.additionalPlaceholderClass),m.css("width",n.width(a.itemScope.element)+"px"),m.css("height",n.height(a.itemScope.element)+"px"),g=angular.element(i[0].createElement(o)),t.hiddenClass&&g.addClass(t.hiddenClass),v=n.positionStarted(r,a.itemScope.element,x),a.itemScope.sortableScope.options.clone||a.itemScope.element.after(m),a.itemScope.sortableScope.cloning?p.append(a.itemScope.element.clone()):(a.itemScope.element.after(g),p.append(a.itemScope.element)),y.append(p),n.movePosition(r,p,v,y,w,x),a.sortableScope.$apply(function(){a.callbacks.dragStart(b.eventArgs())}),M()))},E=function(e){var t,r,i;for(t=angular.element(e.target),r=d(t),i=r&&"handle"===r.type;i&&t[0]!==s[0];)n.noDrag(t)&&(i=!1),t=t.parent();return i},S=function(o){var s,c,l,f,g;if((!I||!n.isTouchInvalid(o))&&N&&p){if(o.preventDefault(),s=n.eventObj(o),a.callbacks.dragMove!==angular.noop&&a.sortableScope.$apply(function(){a.callbacks.dragMove(v,y,s)}),c=s.pageX-i[0].documentElement.scrollLeft,l=s.pageY-(r.pageYOffset||i[0].documentElement.scrollTop),p.addClass(t.hiddenClass),g=angular.element(i[0].elementFromPoint(c,l)),p.removeClass(t.hiddenClass),n.movePosition(s,p,v,y,w,x),p.addClass(t.dragging),f=d(g),!f||!f.type)return;if("handle"===f.type&&(f=f.itemScope),"item"!==f.type&&"sortable"!==f.type)return;if("item"===f.type&&f.accept(a,f.sortableScope,f)){g=f.element;var _=n.offset(g,x);if(!b.canMove(v,g,_))return;var k=A(f.sortableScope.element);k<0?u(g,f):k<=f.index()?h(g,f):u(g,f)}"sortable"===f.type&&f.accept(a,f)&&!e(f.element[0],g[0])&&($(g)||f.options.clone||(g[0].appendChild(m[0]),b.moveTo(f,f.modelValue.length)))}},A=function(e){var n,r;if(e.hasClass(t.placeHolderClass))return 0;for(n=e.children(),r=0;r<n.length;r+=1)if(angular.element(n[r]).hasClass(t.placeHolderClass))return r;return-1},$=function(e){return A(e)>=0},j=function(e){N&&(e.preventDefault(),p&&(f(),b.apply(),a.sortableScope.$apply(function(){b.isSameParent()?b.isOrderChanged()&&a.callbacks.orderChanged(b.eventArgs()):a.callbacks.itemMoved(b.eventArgs())}),a.sortableScope.$apply(function(){a.callbacks.dragEnd(b.eventArgs())}),b=null),O())},P=function(e){N&&(e.preventDefault(),p&&(f(),a.sortableScope.$apply(function(){a.callbacks.dragCancel(b.eventArgs())}),b=null),O())},T=function(){I&&(q?F?(s.bind("touchstart",D),s.bind("touchend",L),s.bind("touchmove",L)):s.bind("contextmenu",_):s.bind("touchstart",_)),s.bind("mousedown",_)},C=function(){s.unbind("touchstart",D),s.unbind("touchend",L),s.unbind("touchmove",L),s.unbind("contextmenu",_),s.unbind("touchstart",_),s.unbind("mousedown",_)},D=function(e){R=o(function(){_(e)},500)},L=function(){o.cancel(R)},z=function(e){27===e.keyCode&&P(e)},angular.element(i[0].body).bind("keydown",z),M=function(){angular.element(i).bind("touchmove",S),angular.element(i).bind("touchend",j),angular.element(i).bind("touchcancel",P),angular.element(i).bind("mousemove",S),angular.element(i).bind("mouseup",j)},O=function(){angular.element(i).unbind("touchend",j),angular.element(i).unbind("touchcancel",P),angular.element(i).unbind("touchmove",S),angular.element(i).unbind("mouseup",j),angular.element(i).unbind("mousemove",S)}}}}])}(),function(){"use strict";var e=angular.module("as.sortable");e.controller("as.sortable.sortableItemController",["$scope",function(e){this.scope=e,e.sortableScope=null,e.modelValue=null,e.type="item",e.index=function(){return e.$index},e.itemData=function(){return e.sortableScope.modelValue[e.$index]}}]),e.directive("asSortableItem",["sortableConfig",function(e){return{require:["^asSortable","?ngModel"],restrict:"A",controller:"as.sortable.sortableItemController",link:function(t,n,r,i){var o=i[0],a=i[1];e.itemClass&&n.addClass(e.itemClass),t.sortableScope=o.scope,a?a.$render=function(){t.modelValue=a.$modelValue}:t.modelValue=o.scope.modelValue[t.$index],t.element=n,n.data("_scope",t)}}}])}()},{}],324:[function(e,t,n){e("./dist/ng-sortable"),t.exports="as.sortable"},{"./dist/ng-sortable":323}],325:[function(e,t,n){!function(){"use strict";var e={backspace:8,tab:9,enter:13,escape:27,space:32,up:38,down:40,left:37,right:39,"delete":46,comma:188},t=9007199254740991,n=["text","email","url"],r=angular.module("ngTagsInput",[]);r.directive("tagsInput",["$timeout","$document","$window","$q","tagsInputConfig","tiUtil",function(r,i,o,a,s,c){function l(e,t,n,r){var i,o,s,l,u={};return i=function(t){return c.safeToString(t[e.displayProperty])},o=function(t,n){t[e.displayProperty]=n},s=function(t){var r=i(t),o=r&&r.length>=e.minLength&&r.length<=e.maxLength&&e.allowedTagsPattern.test(r)&&!c.findInObjectArray(u.items,t,e.keyProperty||e.displayProperty);return a.when(o&&n({$tag:t})).then(c.promisifyValue)},l=function(e){return a.when(r({$tag:e})).then(c.promisifyValue)},u.items=[],u.addText=function(e){var t={};return o(t,e),u.add(t)},u.add=function(n){var r=i(n);return e.replaceSpacesWithDashes&&(r=c.replaceSpacesWithDashes(r)),o(n,r),s(n).then(function(){u.items.push(n),t.trigger("tag-added",{$tag:n})})["catch"](function(){r&&t.trigger("invalid-tag",{$tag:n})})},u.remove=function(e){var n=u.items[e];return l(n).then(function(){return u.items.splice(e,1),u.clearSelection(),t.trigger("tag-removed",{$tag:n}),n})},u.select=function(e){0>e?e=u.items.length-1:e>=u.items.length&&(e=0),u.index=e,u.selected=u.items[e]},u.selectPrior=function(){u.select(--u.index)},u.selectNext=function(){u.select(++u.index)},u.removeSelected=function(){return u.remove(u.index)},u.clearSelection=function(){u.selected=null,u.index=-1},u.getItems=function(){return e.useStrings?u.items.map(i):u.items},u.clearSelection(),u}function u(e){return-1!==n.indexOf(e)}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",text:"=?",templateScope:"=?",tagClass:"&",onTagAdding:"&",onTagAdded:"&",onInvalidTag:"&",onTagRemoving:"&",onTagRemoved:"&",onTagClicked:"&"},replace:!1,transclude:!0,templateUrl:"ngTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function(e,n,r){e.events=c.simplePubSub(),s.load("tagsInput",e,n,{template:[String,"ngTagsInput/tag-item.html"],type:[String,"text",u],placeholder:[String,"Add a tag"],tabindex:[Number,null],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,3],maxLength:[Number,t],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],addOnPaste:[Boolean,!1],pasteSplitPattern:[RegExp,/,/],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number,0],maxTags:[Number,t],displayProperty:[String,"text"],keyProperty:[String,""],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1],spellcheck:[Boolean,!0],useStrings:[Boolean,!1]}),e.tagList=new l(e.options,e.events,c.handleUndefinedResult(e.onTagAdding,!0),c.handleUndefinedResult(e.onTagRemoving,!0)),this.registerAutocomplete=function(){return r.find("input"),{addTag:function(t){return e.tagList.add(t)},getTags:function(){return e.tagList.items},getCurrentTagText:function(){return e.newTag.text()},getOptions:function(){return e.options},getTemplateScope:function(){return e.templateScope},on:function(t,n){return e.events.on(t,n,!0),this}}},this.registerTagItem=function(){return{getOptions:function(){return e.options},removeTag:function(t){e.disabled||e.tagList.remove(t)}}}}],link:function(t,n,a,s){var l,u,h=[e.enter,e.comma,e.space,e.backspace,e["delete"],e.left,e.right],d=t.tagList,f=t.events,p=t.options,m=n.find("input"),g=["minTags","maxTags","allowLeftoverText"];l=function(){s.$setValidity("maxTags",d.items.length<=p.maxTags),s.$setValidity("minTags",d.items.length>=p.minTags),s.$setValidity("leftoverText",!(!t.hasFocus&&!p.allowLeftoverText)||!t.newTag.text())},u=function(){r(function(){m[0].focus()})},s.$isEmpty=function(e){return!e||!e.length},t.newTag={text:function(e){return angular.isDefined(e)?(t.text=e,void f.trigger("input-change",e)):t.text||""},invalid:null},t.track=function(e){return e[p.keyProperty||p.displayProperty]},t.getTagClass=function(e,n){var r=e===d.selected;return[t.tagClass({$tag:e,$index:n,$selected:r}),{selected:r}]},t.$watch("tags",function(e){if(e){if(d.items=c.makeObjectArray(e,p.displayProperty),p.useStrings)return;t.tags=d.items}else d.items=[]}),t.$watch("tags.length",function(){l(),s.$validate()}),a.$observe("disabled",function(e){t.disabled=e}),t.eventHandlers={input:{keydown:function(e){f.trigger("input-keydown",e)},focus:function(){t.hasFocus||(t.hasFocus=!0,f.trigger("input-focus"))},blur:function(){r(function(){var e=i.prop("activeElement"),r=e===m[0],o=n[0].contains(e);(r||!o)&&(t.hasFocus=!1,f.trigger("input-blur"))})},paste:function(e){e.getTextData=function(){var t=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData;return t?t.getData("text/plain"):o.clipboardData.getData("Text")},f.trigger("input-paste",e)}},host:{click:function(){t.disabled||u()}},tag:{click:function(e){f.trigger("tag-clicked",{$tag:e})}}},f.on("tag-added",t.onTagAdded).on("invalid-tag",t.onInvalidTag).on("tag-removed",t.onTagRemoved).on("tag-clicked",t.onTagClicked).on("tag-added",function(){t.newTag.text("")}).on("tag-added tag-removed",function(){t.tags=d.getItems(),s.$setDirty(),u()}).on("invalid-tag",function(){t.newTag.invalid=!0}).on("option-change",function(e){-1!==g.indexOf(e.name)&&l()}).on("input-change",function(){d.clearSelection(),t.newTag.invalid=null}).on("input-focus",function(){n.triggerHandler("focus"),s.$setValidity("leftoverText",!0)}).on("input-blur",function(){p.addOnBlur&&!p.addFromAutocompleteOnly&&d.addText(t.newTag.text()),n.triggerHandler("blur"),l()}).on("input-keydown",function(n){var r,i,o,a,s=n.keyCode,l={};c.isModifierOn(n)||-1===h.indexOf(s)||(l[e.enter]=p.addOnEnter,l[e.comma]=p.addOnComma,l[e.space]=p.addOnSpace,r=!p.addFromAutocompleteOnly&&l[s],i=(s===e.backspace||s===e["delete"])&&d.selected,a=s===e.backspace&&0===t.newTag.text().length&&p.enableEditingLastTag,o=(s===e.backspace||s===e.left||s===e.right)&&0===t.newTag.text().length&&!p.enableEditingLastTag,r?d.addText(t.newTag.text()):a?(d.selectPrior(),d.removeSelected().then(function(e){e&&t.newTag.text(e[p.displayProperty])})):i?d.removeSelected():o&&(s===e.left||s===e.backspace?d.selectPrior():s===e.right&&d.selectNext()),(r||o||i||a)&&n.preventDefault())}).on("input-paste",function(e){if(p.addOnPaste){var t=e.getTextData(),n=t.split(p.pasteSplitPattern);n.length>1&&(n.forEach(function(e){d.addText(e)}),e.preventDefault())}})}}}]),r.directive("tiTagItem",["tiUtil",function(e){return{restrict:"E",require:"^tagsInput",template:'<ng-include src="$$template"></ng-include>',scope:{$scope:"=scope",data:"="},link:function(t,n,r,i){var o=i.registerTagItem(),a=o.getOptions();t.$$template=a.template,t.$$removeTagSymbol=a.removeTagSymbol,t.$getDisplayText=function(){return e.safeToString(t.data[a.displayProperty])},t.$removeTag=function(){o.removeTag(t.$index)},t.$watch("$parent.$index",function(e){t.$index=e})}}}]),r.directive("autoComplete",["$document","$timeout","$sce","$q","tagsInputConfig","tiUtil",function(t,n,r,i,o,a){function s(e,t,n){var r,o,s,c={};return s=function(){return t.tagsInput.keyProperty||t.tagsInput.displayProperty},r=function(e,n){return e.filter(function(e){return!a.findInObjectArray(n,e,s(),function(e,n){return t.tagsInput.replaceSpacesWithDashes&&(e=a.replaceSpacesWithDashes(e),n=a.replaceSpacesWithDashes(n)),a.defaultComparer(e,n)})})},c.reset=function(){o=null,c.items=[],c.visible=!1,c.index=-1,c.selected=null,c.query=null},c.show=function(){t.selectFirstMatch?c.select(0):c.selected=null,c.visible=!0},c.load=a.debounce(function(n,l){c.query=n;var u=i.when(e({
$query:n}));o=u,u.then(function(e){u===o&&(e=a.makeObjectArray(e.data||e,s()),e=r(e,l),c.items=e.slice(0,t.maxResultsToShow),c.items.length>0?c.show():c.reset())})},t.debounceDelay),c.selectNext=function(){c.select(++c.index)},c.selectPrior=function(){c.select(--c.index)},c.select=function(e){0>e?e=c.items.length-1:e>=c.items.length&&(e=0),c.index=e,c.selected=c.items[e],n.trigger("suggestion-selected",e)},c.reset(),c}function c(e,t){var n=e.find("li").eq(t),r=n.parent(),i=n.prop("offsetTop"),o=n.prop("offsetHeight"),a=r.prop("clientHeight"),s=r.prop("scrollTop");s>i?r.prop("scrollTop",i):i+o>a+s&&r.prop("scrollTop",i+o-a)}return{restrict:"E",require:"^tagsInput",scope:{source:"&",matchClass:"&"},templateUrl:"ngTagsInput/auto-complete.html",controller:["$scope","$element","$attrs",function(e,t,n){e.events=a.simplePubSub(),o.load("autoComplete",e,n,{template:[String,"ngTagsInput/auto-complete-match.html"],debounceDelay:[Number,100],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10],loadOnDownArrow:[Boolean,!1],loadOnEmpty:[Boolean,!1],loadOnFocus:[Boolean,!1],selectFirstMatch:[Boolean,!0],displayProperty:[String,""]}),e.suggestionList=new s(e.source,e.options,e.events),this.registerAutocompleteMatch=function(){return{getOptions:function(){return e.options},getQuery:function(){return e.suggestionList.query}}}}],link:function(t,n,r,i){var o,s=[e.enter,e.tab,e.escape,e.up,e.down],l=t.suggestionList,u=i.registerAutocomplete(),h=t.options,d=t.events;h.tagsInput=u.getOptions(),o=function(e){return e&&e.length>=h.minLength||!e&&h.loadOnEmpty},t.templateScope=u.getTemplateScope(),t.addSuggestionByIndex=function(e){l.select(e),t.addSuggestion()},t.addSuggestion=function(){var e=!1;return l.selected&&(u.addTag(angular.copy(l.selected)),l.reset(),e=!0),e},t.track=function(e){return e[h.tagsInput.keyProperty||h.tagsInput.displayProperty]},t.getSuggestionClass=function(e,n){var r=e===l.selected;return[t.matchClass({$match:e,$index:n,$selected:r}),{selected:r}]},u.on("tag-added tag-removed invalid-tag input-blur",function(){l.reset()}).on("input-change",function(e){o(e)?l.load(e,u.getTags()):l.reset()}).on("input-focus",function(){var e=u.getCurrentTagText();h.loadOnFocus&&o(e)&&l.load(e,u.getTags())}).on("input-keydown",function(n){var r=n.keyCode,i=!1;if(!a.isModifierOn(n)&&-1!==s.indexOf(r))return l.visible?r===e.down?(l.selectNext(),i=!0):r===e.up?(l.selectPrior(),i=!0):r===e.escape?(l.reset(),i=!0):(r===e.enter||r===e.tab)&&(i=t.addSuggestion()):r===e.down&&t.options.loadOnDownArrow&&(l.load(u.getCurrentTagText(),u.getTags()),i=!0),i?(n.preventDefault(),n.stopImmediatePropagation(),!1):void 0}),d.on("suggestion-selected",function(e){c(n,e)})}}}]),r.directive("tiAutocompleteMatch",["$sce","tiUtil",function(e,t){return{restrict:"E",require:"^autoComplete",template:'<ng-include src="$$template"></ng-include>',scope:{$scope:"=scope",data:"="},link:function(n,r,i,o){var a=o.registerAutocompleteMatch(),s=a.getOptions();n.$$template=s.template,n.$index=n.$parent.$index,n.$highlight=function(n){return s.highlightMatchedText&&(n=t.safeHighlight(n,a.getQuery())),e.trustAsHtml(n)},n.$getDisplayText=function(){return t.safeToString(n.data[s.displayProperty||s.tagsInput.displayProperty])}}}}]),r.directive("tiTranscludeAppend",function(){return function(e,t,n,r,i){i(function(e){t.append(e)})}}),r.directive("tiAutosize",["tagsInputConfig",function(e){return{restrict:"A",require:"ngModel",link:function(t,n,r,i){var o,a,s=e.getTextAutosizeThreshold();o=angular.element('<span class="input"></span>'),o.css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),n.parent().append(o),a=function(e){var t,i=e;return angular.isString(i)&&0===i.length&&(i=r.placeholder),i&&(o.text(i),o.css("display",""),t=o.prop("offsetWidth"),o.css("display","none")),n.css("width",t?t+s+"px":""),e},i.$parsers.unshift(a),i.$formatters.unshift(a),r.$observe("placeholder",function(e){i.$modelValue||a(e)})}}}]),r.directive("tiBindAttrs",function(){return function(e,t,n){e.$watch(n.tiBindAttrs,function(e){angular.forEach(e,function(e,t){n.$set(t,e)})},!0)}}),r.provider("tagsInputConfig",function(){var e={},t={},n=3;this.setDefaults=function(t,n){return e[t]=n,this},this.setActiveInterpolation=function(e,n){return t[e]=n,this},this.setTextAutosizeThreshold=function(e){return n=e,this},this.$get=["$interpolate",function(r){var i={};return i[String]=function(e){return e},i[Number]=function(e){return parseInt(e,10)},i[Boolean]=function(e){return"true"===e.toLowerCase()},i[RegExp]=function(e){return new RegExp(e)},{load:function(n,o,a,s){var c=function(){return!0};o.options={},angular.forEach(s,function(s,l){var u,h,d,f,p,m;u=s[0],h=s[1],d=s[2]||c,f=i[u],p=function(){var t=e[n]&&e[n][l];return angular.isDefined(t)?t:h},m=function(e){o.options[l]=e&&d(e)?f(e):p()},t[n]&&t[n][l]?a.$observe(l,function(e){m(e),o.events.trigger("option-change",{name:l,newValue:e})}):m(a[l]&&r(a[l])(o.$parent))})},getTextAutosizeThreshold:function(){return n}}}]}),r.factory("tiUtil",["$timeout","$q",function(e,t){var n={};return n.debounce=function(t,n){var r;return function(){var i=arguments;e.cancel(r),r=e(function(){t.apply(null,i)},n)}},n.makeObjectArray=function(e,t){if(!angular.isArray(e)||0===e.length||angular.isObject(e[0]))return e;var n=[];return e.forEach(function(e){var r={};r[t]=e,n.push(r)}),n},n.findInObjectArray=function(e,t,r,i){var o=null;return i=i||n.defaultComparer,e.some(function(e){return i(e[r],t[r])?(o=e,!0):void 0}),o},n.defaultComparer=function(e,t){return n.safeToString(e).toLowerCase()===n.safeToString(t).toLowerCase()},n.safeHighlight=function(e,t){function r(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}if(e=n.encodeHTML(e),t=n.encodeHTML(t),!t)return e;var i=new RegExp("&[^;]+;|"+r(t),"gi");return e.replace(i,function(e){return e.toLowerCase()===t.toLowerCase()?"<em>"+e+"</em>":e})},n.safeToString=function(e){return angular.isUndefined(e)||null==e?"":e.toString().trim()},n.encodeHTML=function(e){return n.safeToString(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},n.handleUndefinedResult=function(e,t){return function(){var n=e.apply(null,arguments);return angular.isUndefined(n)?t:n}},n.replaceSpacesWithDashes=function(e){return n.safeToString(e).replace(/\s/g,"-")},n.isModifierOn=function(e){return e.shiftKey||e.ctrlKey||e.altKey||e.metaKey},n.promisifyValue=function(e){return e=!!angular.isUndefined(e)||e,t[e?"when":"reject"]()},n.simplePubSub=function(){var e={};return{on:function(t,n,r){return t.split(" ").forEach(function(t){e[t]||(e[t]=[]);var i=r?[].unshift:[].push;i.call(e[t],n)}),this},trigger:function(t,r){var i=e[t]||[];return i.every(function(e){return n.handleUndefinedResult(e,!0)(r)}),this}}},n}]),r.run(["$templateCache",function(e){e.put("ngTagsInput/tags-input.html",'<div class="host" tabindex="-1" ng-click="eventHandlers.host.click()" ti-transclude-append><div class="tags" ng-class="{focused: hasFocus}"><ul class="tag-list"><li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)" ng-class="getTagClass(tag, $index)" ng-click="eventHandlers.tag.click(tag)"><ti-tag-item scope="templateScope" data="::tag"></ti-tag-item></li></ul><input class="input" autocomplete="off" ng-model="newTag.text" ng-model-options="{getterSetter: true}" ng-keydown="eventHandlers.input.keydown($event)" ng-focus="eventHandlers.input.focus($event)" ng-blur="eventHandlers.input.blur($event)" ng-paste="eventHandlers.input.paste($event)" ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}" ng-disabled="disabled" ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}" ti-autosize></div></div>'),e.put("ngTagsInput/tag-item.html",'<span ng-bind="$getDisplayText()"></span> <a class="remove-button" ng-click="$removeTag()" ng-bind="::$$removeTagSymbol"></a>'),e.put("ngTagsInput/auto-complete.html",'<div class="autocomplete" ng-if="suggestionList.visible"><ul class="suggestion-list"><li class="suggestion-item" ng-repeat="item in suggestionList.items track by track(item)" ng-class="getSuggestionClass(item, $index)" ng-click="addSuggestionByIndex($index)" ng-mouseenter="suggestionList.select($index)"><ti-autocomplete-match scope="templateScope" data="::item"></ti-autocomplete-match></li></ul></div>'),e.put("ngTagsInput/auto-complete-match.html",'<span ng-bind-html="$highlight($getDisplayText())"></span>')}])}()},{}],326:[function(e,t,n){function r(e,t){return f.createHmac("sha1",e).update(t).digest("base64")}function i(e,t){return f.createSign("RSA-SHA1").update(t).sign(e,"base64")}function o(e){return encodeURIComponent(e).replace(/!/g,"%21").replace(/\*/g,"%2A").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/'/g,"%27")}function a(e){var t,n,r=[];for(t in e)if(n=e[t],Array.isArray(n))for(var i=0;i<n.length;i++)r.push([t,n[i]]);else if("object"==typeof n)for(var o in n)r.push([t+"["+o+"]",n[o]]);else r.push([t,n]);return r}function s(e,t){return e>t?1:e<t?-1:0}function c(e,t,n){var r=a(n).map(function(e){return[o(e[0]),o(e[1]||"")]}).sort(function(e,t){return s(e[0],t[0])||s(e[1],t[1])}).map(function(e){return e.join("=")}).join("&"),i=[o(e?e.toUpperCase():"GET"),o(t),o(r)].join("&");return i}function l(e,t,n,i,a){var s=c(e,t,n),l=[i||"",a||""].map(o).join("&");return r(l,s)}function u(e,t,n,r,o){var a=c(e,t,n),s=r||"";return i(s,a)}function h(e,t){var n=[e||"",t||""].map(o).join("&");return n}function d(e,t,n,r,i,o){var a,s=1;switch(e){case"RSA-SHA1":a=u;break;case"HMAC-SHA1":a=l;break;case"PLAINTEXT":a=h,s=4;break;default:throw new Error("Signature method not supported: "+e)}return a.apply(null,[].slice.call(arguments,s))}var f=e("crypto");e("querystring");n.hmacsign=l,n.rsasign=u,n.plaintext=h,n.sign=d,n.rfc3986=o,n.generateBase=c},{crypto:133,querystring:367}],327:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)return void e.set(t.subarray(n,n+r),i);for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},o={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],328:[function(e,t,n){"use strict";function r(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){a=n>2e3?2e3:n,n-=a;do i=i+t[r++]|0,o=o+i|0;while(--a);i%=65521,o%=65521}return i|o<<16|0}t.exports=r},{}],329:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],330:[function(e,t,n){"use strict";function r(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}function i(e,t,n,r){var i=o,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^i[255&(e^t[s])];return e^-1}var o=r();t.exports=i},{}],331:[function(e,t,n){"use strict";function r(e,t){return e.msg=F[t],t}function i(e){return(e<<1)-(e>4?9:0)}function o(e){for(var t=e.length;--t>=0;)e[t]=0}function a(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(C.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function s(e,t){M._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,a(e.strm)}function c(e,t){e.pending_buf[e.pending++]=t}function l(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function u(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,C.arraySet(t,e.input,e.next_in,i,n),1===e.state.wrap?e.adler=O(e.adler,t,i,n):2===e.state.wrap&&(e.adler=I(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function h(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-he?e.strstart-(e.w_size-he):0,l=e.window,u=e.w_mask,h=e.prev,d=e.strstart+ue,f=l[o+a-1],p=l[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do if(n=t,l[n+a]===p&&l[n+a-1]===f&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do;while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<d);if(r=ue-(d-o),o=d-ue,r>a){if(e.match_start=t,a=r,r>=s)break;f=l[o+a-1],p=l[o+a]}}while((t=h[t&u])>c&&0!==--i);return a<=e.lookahead?a:e.lookahead}function d(e){var t,n,r,i,o,a=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-he)){C.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,n=e.hash_size,t=n;do r=e.head[--t],e.head[t]=r>=a?r-a:0;while(--n);n=a,t=n;do r=e.prev[--t],e.prev[t]=r>=a?r-a:0;while(--n);i+=a}if(0===e.strm.avail_in)break;if(n=u(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=le)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+le-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<le)););}while(e.lookahead<he&&0!==e.strm.avail_in)}function f(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(d(e),0===e.lookahead&&t===D)return we;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,s(e,!1),0===e.strm.avail_out))return we;if(e.strstart-e.block_start>=e.w_size-he&&(s(e,!1),0===e.strm.avail_out))return we}return e.insert=0,t===N?(s(e,!0),0===e.strm.avail_out?xe:ke):e.strstart>e.block_start&&(s(e,!1),0===e.strm.avail_out)?we:we}function p(e,t){for(var n,r;;){if(e.lookahead<he){if(d(e),e.lookahead<he&&t===D)return we;if(0===e.lookahead)break}if(n=0,e.lookahead>=le&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+le-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-he&&(e.match_length=h(e,n)),e.match_length>=le)if(r=M._tr_tally(e,e.strstart-e.match_start,e.match_length-le),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=le){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+le-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=M._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(s(e,!1),0===e.strm.avail_out))return we}return e.insert=e.strstart<le-1?e.strstart:le-1,t===N?(s(e,!0),0===e.strm.avail_out?xe:ke):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?we:_e}function m(e,t){for(var n,r,i;;){if(e.lookahead<he){if(d(e),e.lookahead<he&&t===D)return we;if(0===e.lookahead)break}if(n=0,e.lookahead>=le&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+le-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=le-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-he&&(e.match_length=h(e,n),e.match_length<=5&&(e.strategy===W||e.match_length===le&&e.strstart-e.match_start>4096)&&(e.match_length=le-1)),e.prev_length>=le&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-le,r=M._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-le),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+le-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!==--e.prev_length);if(e.match_available=0,e.match_length=le-1,e.strstart++,r&&(s(e,!1),0===e.strm.avail_out))return we}else if(e.match_available){if(r=M._tr_tally(e,0,e.window[e.strstart-1]),r&&s(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return we}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=M._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<le-1?e.strstart:le-1,t===N?(s(e,!0),0===e.strm.avail_out?xe:ke):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?we:_e}function g(e,t){for(var n,r,i,o,a=e.window;;){if(e.lookahead<=ue){if(d(e),e.lookahead<=ue&&t===D)return we;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=le&&e.strstart>0&&(i=e.strstart-1,r=a[i],r===a[++i]&&r===a[++i]&&r===a[++i])){o=e.strstart+ue;do;while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);e.match_length=ue-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=le?(n=M._tr_tally(e,1,e.match_length-le),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=M._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(s(e,!1),0===e.strm.avail_out))return we}return e.insert=0,t===N?(s(e,!0),0===e.strm.avail_out?xe:ke):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?we:_e}function v(e,t){for(var n;;){if(0===e.lookahead&&(d(e),0===e.lookahead)){if(t===D)return we;break}if(e.match_length=0,n=M._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(s(e,!1),0===e.strm.avail_out))return we}return e.insert=0,t===N?(s(e,!0),0===e.strm.avail_out?xe:ke):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?we:_e}function b(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function y(e){e.window_size=2*e.w_size,o(e.head),e.max_lazy_match=T[e.level].max_lazy,e.good_match=T[e.level].good_length,e.nice_match=T[e.level].nice_length,e.max_chain_length=T[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=le-1,e.match_available=0,e.ins_h=0}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new C.Buf16(2*se),this.dyn_dtree=new C.Buf16(2*(2*oe+1)),this.bl_tree=new C.Buf16(2*(2*ae+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new C.Buf16(ce+1),this.heap=new C.Buf16(2*ie+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new C.Buf16(2*ie+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=Q,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?fe:be,e.adler=2===t.wrap?0:1,t.last_flush=D,M._tr_init(t),$):r(e,B)}function x(e){var t=_(e);return t===$&&y(e.state),t}function k(e,t){return e&&e.state?2!==e.state.wrap?B:(e.state.gzhead=t,$):B}function S(e,t,n,i,o,a){if(!e)return B;var s=1;if(t===H&&(t=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>J||n!==Z||i<8||i>15||t<0||t>9||a<0||a>K)return r(e,B);8===i&&(i=9);var c=new w;return e.state=c,c.strm=e,c.wrap=s,c.gzhead=null,c.w_bits=i,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+le-1)/le),c.window=new C.Buf8(2*c.w_size),c.head=new C.Buf16(c.hash_size),c.prev=new C.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new C.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=a,c.method=n,x(e)}function j(e,t){return S(e,t,Z,ee,te,X)}function P(e,t){var n,s,u,h;if(!e||!e.state||t>U||t<0)return e?r(e,B):B;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||s.status===ye&&t!==N)return r(e,0===e.avail_out?V:B);if(s.strm=e,n=s.last_flush,s.last_flush=t,s.status===fe)if(2===s.wrap)e.adler=0,c(s,31),c(s,139),c(s,8),s.gzhead?(c(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),c(s,255&s.gzhead.time),c(s,s.gzhead.time>>8&255),c(s,s.gzhead.time>>16&255),c(s,s.gzhead.time>>24&255),c(s,9===s.level?2:s.strategy>=G||s.level<2?4:0),c(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(c(s,255&s.gzhead.extra.length),c(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=I(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=pe):(c(s,0),c(s,0),c(s,0),c(s,0),c(s,0),c(s,9===s.level?2:s.strategy>=G||s.level<2?4:0),c(s,Se),s.status=be);else{var d=Z+(s.w_bits-8<<4)<<8,f=-1;f=s.strategy>=G||s.level<2?0:s.level<6?1:6===s.level?2:3,d|=f<<6,0!==s.strstart&&(d|=de),d+=31-d%31,s.status=be,l(s,d),0!==s.strstart&&(l(s,e.adler>>>16),l(s,65535&e.adler)),e.adler=1}if(s.status===pe)if(s.gzhead.extra){for(u=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>u&&(e.adler=I(e.adler,s.pending_buf,s.pending-u,u)),a(e),u=s.pending,s.pending!==s.pending_buf_size));)c(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>u&&(e.adler=I(e.adler,s.pending_buf,s.pending-u,u)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=me)}else s.status=me;if(s.status===me)if(s.gzhead.name){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(e.adler=I(e.adler,s.pending_buf,s.pending-u,u)),a(e),u=s.pending,s.pending===s.pending_buf_size)){h=1;break}h=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,c(s,h)}while(0!==h);s.gzhead.hcrc&&s.pending>u&&(e.adler=I(e.adler,s.pending_buf,s.pending-u,u)),0===h&&(s.gzindex=0,s.status=ge)}else s.status=ge;if(s.status===ge)if(s.gzhead.comment){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(e.adler=I(e.adler,s.pending_buf,s.pending-u,u)),a(e),u=s.pending,s.pending===s.pending_buf_size)){h=1;break}h=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,c(s,h)}while(0!==h);s.gzhead.hcrc&&s.pending>u&&(e.adler=I(e.adler,s.pending_buf,s.pending-u,u)),0===h&&(s.status=ve)}else s.status=ve;if(s.status===ve&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&a(e),s.pending+2<=s.pending_buf_size&&(c(s,255&e.adler),c(s,e.adler>>8&255),e.adler=0,s.status=be)):s.status=be),0!==s.pending){if(a(e),0===e.avail_out)return s.last_flush=-1,$}else if(0===e.avail_in&&i(t)<=i(n)&&t!==N)return r(e,V);if(s.status===ye&&0!==e.avail_in)return r(e,V);if(0!==e.avail_in||0!==s.lookahead||t!==D&&s.status!==ye){var p=s.strategy===G?v(s,t):s.strategy===Y?g(s,t):T[s.level].func(s,t);if(p!==xe&&p!==ke||(s.status=ye),p===we||p===xe)return 0===e.avail_out&&(s.last_flush=-1),$;if(p===_e&&(t===L?M._tr_align(s):t!==U&&(M._tr_stored_block(s,0,0,!1),t===R&&(o(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),a(e),0===e.avail_out))return s.last_flush=-1,$}return t!==N?$:s.wrap<=0?z:(2===s.wrap?(c(s,255&e.adler),c(s,e.adler>>8&255),c(s,e.adler>>16&255),c(s,e.adler>>24&255),c(s,255&e.total_in),c(s,e.total_in>>8&255),c(s,e.total_in>>16&255),c(s,e.total_in>>24&255)):(l(s,e.adler>>>16),l(s,65535&e.adler)),a(e),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?$:z)}function E(e){var t;return e&&e.state?(t=e.state.status,t!==fe&&t!==pe&&t!==me&&t!==ge&&t!==ve&&t!==be&&t!==ye?r(e,B):(e.state=null,t===be?r(e,q):$)):B}function A(e,t){var n,r,i,a,s,c,l,u,h=t.length;if(!e||!e.state)return B;if(n=e.state,a=n.wrap,2===a||1===a&&n.status!==fe||n.lookahead)return B;for(1===a&&(e.adler=O(e.adler,t,h,0)),n.wrap=0,h>=n.w_size&&(0===a&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new C.Buf8(n.w_size),C.arraySet(u,t,h-n.w_size,n.w_size,0),t=u,h=n.w_size),s=e.avail_in,c=e.next_in,l=e.input,e.avail_in=h,e.next_in=0,e.input=t,d(n);n.lookahead>=le;){r=n.strstart,i=n.lookahead-(le-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+le-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++;while(--i);n.strstart=r,n.lookahead=le-1,d(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=le-1,n.match_available=0,e.next_in=c,e.input=l,e.avail_in=s,n.wrap=a,$}var T,C=e("../utils/common"),M=e("./trees"),O=e("./adler32"),I=e("./crc32"),F=e("./messages"),D=0,L=1,R=3,N=4,U=5,$=0,z=1,B=-2,q=-3,V=-5,H=-1,W=1,G=2,Y=3,K=4,X=0,Q=2,Z=8,J=9,ee=15,te=8,ne=29,re=256,ie=re+1+ne,oe=30,ae=19,se=2*ie+1,ce=15,le=3,ue=258,he=ue+le+1,de=32,fe=42,pe=69,me=73,ge=91,ve=103,be=113,ye=666,we=1,_e=2,xe=3,ke=4,Se=3;T=[new b(0,0,0,0,f),new b(4,4,8,4,p),new b(4,5,16,8,p),new b(4,6,32,32,p),new b(4,4,16,16,m),new b(8,16,32,32,m),new b(8,16,128,128,m),new b(8,32,128,256,m),new b(32,128,258,1024,m),new b(32,258,258,4096,m)],n.deflateInit=j,n.deflateInit2=S,n.deflateReset=x,n.deflateResetKeep=_,n.deflateSetHeader=k,n.deflate=P,n.deflateEnd=E,n.deflateSetDictionary=A,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":327,"./adler32":328,"./crc32":330,"./messages":335,"./trees":336}],332:[function(e,t,n){"use strict";var r=30,i=12;t.exports=function(e,t){var n,o,a,s,c,l,u,h,d,f,p,m,g,v,b,y,w,_,x,k,S,j,P,E,A;n=e.state,o=e.next_in,E=e.input,a=o+(e.avail_in-5),s=e.next_out,A=e.output,c=s-(t-e.avail_out),l=s+(e.avail_out-257),u=n.dmax,h=n.wsize,d=n.whave,f=n.wnext,p=n.window,m=n.hold,g=n.bits,v=n.lencode,b=n.distcode,y=(1<<n.lenbits)-1,w=(1<<n.distbits)-1;e:do{g<15&&(m+=E[o++]<<g,g+=8,m+=E[o++]<<g,g+=8),_=v[m&y];t:for(;;){if(x=_>>>24,m>>>=x,g-=x,x=_>>>16&255,0===x)A[s++]=65535&_;else{if(!(16&x)){if(0===(64&x)){_=v[(65535&_)+(m&(1<<x)-1)];continue t}if(32&x){n.mode=i;break e}e.msg="invalid literal/length code",n.mode=r;break e}k=65535&_,x&=15,x&&(g<x&&(m+=E[o++]<<g,g+=8),k+=m&(1<<x)-1,m>>>=x,g-=x),g<15&&(m+=E[o++]<<g,g+=8,m+=E[o++]<<g,g+=8),_=b[m&w];n:for(;;){if(x=_>>>24,m>>>=x,g-=x,x=_>>>16&255,!(16&x)){if(0===(64&x)){_=b[(65535&_)+(m&(1<<x)-1)];continue n}e.msg="invalid distance code",n.mode=r;break e}if(S=65535&_,x&=15,g<x&&(m+=E[o++]<<g,g+=8,g<x&&(m+=E[o++]<<g,g+=8)),S+=m&(1<<x)-1,S>u){e.msg="invalid distance too far back",n.mode=r;break e}if(m>>>=x,g-=x,x=s-c,S>x){if(x=S-x,x>d&&n.sane){e.msg="invalid distance too far back",n.mode=r;break e}if(j=0,P=p,0===f){if(j+=h-x,x<k){k-=x;do A[s++]=p[j++];while(--x);j=s-S,P=A}}else if(f<x){if(j+=h+f-x,x-=f,x<k){k-=x;do A[s++]=p[j++];while(--x);if(j=0,f<k){x=f,k-=x;do A[s++]=p[j++];while(--x);j=s-S,P=A}}}else if(j+=f-x,x<k){k-=x;do A[s++]=p[j++];while(--x);j=s-S,P=A}for(;k>2;)A[s++]=P[j++],A[s++]=P[j++],A[s++]=P[j++],k-=3;k&&(A[s++]=P[j++],k>1&&(A[s++]=P[j++]))}else{j=s-S;do A[s++]=A[j++],A[s++]=A[j++],A[s++]=A[j++],k-=3;while(k>2);k&&(A[s++]=A[j++],k>1&&(A[s++]=A[j++]))}break}}break}}while(o<a&&s<l);k=g>>3,o-=k,g-=k<<3,m&=(1<<g)-1,e.next_in=o,e.next_out=s,e.avail_in=o<a?5+(a-o):5-(o-a),e.avail_out=s<l?257+(l-s):257-(s-l),n.hold=m,n.bits=g}},{}],333:[function(e,t,n){"use strict";function r(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new b.Buf16(320),this.work=new b.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=R,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new b.Buf32(me),t.distcode=t.distdyn=new b.Buf32(ge),t.sane=1,t.back=-1,T):O}function a(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,o(e)):O}function s(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15)?O:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,a(e))):O}function c(e,t){var n,r;return e?(r=new i,e.state=r,r.window=null,n=s(e,t),n!==T&&(e.state=null),n):O}function l(e){return c(e,be)}function u(e){if(ye){var t;for(g=new b.Buf32(512),v=new b.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(x(S,e.lens,0,288,g,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;x(j,e.lens,0,32,v,0,e.work,{bits:5}),ye=!1}e.lencode=g,e.lenbits=9,e.distcode=v,e.distbits=5}function h(e,t,n,r){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new b.Buf8(o.wsize)),r>=o.wsize?(b.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),b.arraySet(o.window,t,n-r,i,o.wnext),r-=i,r?(b.arraySet(o.window,t,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function d(e,t){var n,i,o,a,s,c,l,d,f,p,m,g,v,me,ge,ve,be,ye,we,_e,xe,ke,Se,je,Pe=0,Ee=new b.Buf8(4),Ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return O;n=e.state,n.mode===Y&&(n.mode=K),s=e.next_out,o=e.output,l=e.avail_out,a=e.next_in,i=e.input,c=e.avail_in,d=n.hold,f=n.bits,p=c,m=l,ke=T;e:for(;;)switch(n.mode){case R:if(0===n.wrap){n.mode=K;break}for(;f<16;){if(0===c)break e;c--,d+=i[a++]<<f,f+=8}if(2&n.wrap&&35615===d){n.check=0,Ee[0]=255&d,Ee[1]=d>>>8&255,n.check=w(n.check,Ee,2,0),d=0,f=0,n.mode=N;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&d)<<8)+(d>>8))%31){e.msg="incorrect header check",n.mode=de;break}if((15&d)!==L){e.msg="unknown compression method",n.mode=de;break}if(d>>>=4,f-=4,xe=(15&d)+8,0===n.wbits)n.wbits=xe;else if(xe>n.wbits){e.msg="invalid window size",n.mode=de;break}n.dmax=1<<xe,e.adler=n.check=1,n.mode=512&d?W:Y,d=0,f=0;break;case N:for(;f<16;){if(0===c)break e;c--,d+=i[a++]<<f,f+=8}if(n.flags=d,(255&n.flags)!==L){e.msg="unknown compression method",n.mode=de;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=de;break}n.head&&(n.head.text=d>>8&1),512&n.flags&&(Ee[0]=255&d,Ee[1]=d>>>8&255,n.check=w(n.check,Ee,2,0)),d=0,f=0,n.mode=U;case U:for(;f<32;){if(0===c)break e;c--,d+=i[a++]<<f,f+=8}n.head&&(n.head.time=d),512&n.flags&&(Ee[0]=255&d,Ee[1]=d>>>8&255,Ee[2]=d>>>16&255,Ee[3]=d>>>24&255,n.check=w(n.check,Ee,4,0)),d=0,f=0,n.mode=$;case $:for(;f<16;){if(0===c)break e;c--,d+=i[a++]<<f,f+=8}n.head&&(n.head.xflags=255&d,n.head.os=d>>8),512&n.flags&&(Ee[0]=255&d,Ee[1]=d>>>8&255,n.check=w(n.check,Ee,2,0)),d=0,f=0,n.mode=z;case z:if(1024&n.flags){for(;f<16;){if(0===c)break e;
c--,d+=i[a++]<<f,f+=8}n.length=d,n.head&&(n.head.extra_len=d),512&n.flags&&(Ee[0]=255&d,Ee[1]=d>>>8&255,n.check=w(n.check,Ee,2,0)),d=0,f=0}else n.head&&(n.head.extra=null);n.mode=B;case B:if(1024&n.flags&&(g=n.length,g>c&&(g=c),g&&(n.head&&(xe=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),b.arraySet(n.head.extra,i,a,g,xe)),512&n.flags&&(n.check=w(n.check,i,g,a)),c-=g,a+=g,n.length-=g),n.length))break e;n.length=0,n.mode=q;case q:if(2048&n.flags){if(0===c)break e;g=0;do xe=i[a+g++],n.head&&xe&&n.length<65536&&(n.head.name+=String.fromCharCode(xe));while(xe&&g<c);if(512&n.flags&&(n.check=w(n.check,i,g,a)),c-=g,a+=g,xe)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=V;case V:if(4096&n.flags){if(0===c)break e;g=0;do xe=i[a+g++],n.head&&xe&&n.length<65536&&(n.head.comment+=String.fromCharCode(xe));while(xe&&g<c);if(512&n.flags&&(n.check=w(n.check,i,g,a)),c-=g,a+=g,xe)break e}else n.head&&(n.head.comment=null);n.mode=H;case H:if(512&n.flags){for(;f<16;){if(0===c)break e;c--,d+=i[a++]<<f,f+=8}if(d!==(65535&n.check)){e.msg="header crc mismatch",n.mode=de;break}d=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Y;break;case W:for(;f<32;){if(0===c)break e;c--,d+=i[a++]<<f,f+=8}e.adler=n.check=r(d),d=0,f=0,n.mode=G;case G:if(0===n.havedict)return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=c,n.hold=d,n.bits=f,M;e.adler=n.check=1,n.mode=Y;case Y:if(t===E||t===A)break e;case K:if(n.last){d>>>=7&f,f-=7&f,n.mode=le;break}for(;f<3;){if(0===c)break e;c--,d+=i[a++]<<f,f+=8}switch(n.last=1&d,d>>>=1,f-=1,3&d){case 0:n.mode=X;break;case 1:if(u(n),n.mode=ne,t===A){d>>>=2,f-=2;break e}break;case 2:n.mode=J;break;case 3:e.msg="invalid block type",n.mode=de}d>>>=2,f-=2;break;case X:for(d>>>=7&f,f-=7&f;f<32;){if(0===c)break e;c--,d+=i[a++]<<f,f+=8}if((65535&d)!==(d>>>16^65535)){e.msg="invalid stored block lengths",n.mode=de;break}if(n.length=65535&d,d=0,f=0,n.mode=Q,t===A)break e;case Q:n.mode=Z;case Z:if(g=n.length){if(g>c&&(g=c),g>l&&(g=l),0===g)break e;b.arraySet(o,i,a,g,s),c-=g,a+=g,l-=g,s+=g,n.length-=g;break}n.mode=Y;break;case J:for(;f<14;){if(0===c)break e;c--,d+=i[a++]<<f,f+=8}if(n.nlen=(31&d)+257,d>>>=5,f-=5,n.ndist=(31&d)+1,d>>>=5,f-=5,n.ncode=(15&d)+4,d>>>=4,f-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=de;break}n.have=0,n.mode=ee;case ee:for(;n.have<n.ncode;){for(;f<3;){if(0===c)break e;c--,d+=i[a++]<<f,f+=8}n.lens[Ae[n.have++]]=7&d,d>>>=3,f-=3}for(;n.have<19;)n.lens[Ae[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Se={bits:n.lenbits},ke=x(k,n.lens,0,19,n.lencode,0,n.work,Se),n.lenbits=Se.bits,ke){e.msg="invalid code lengths set",n.mode=de;break}n.have=0,n.mode=te;case te:for(;n.have<n.nlen+n.ndist;){for(;Pe=n.lencode[d&(1<<n.lenbits)-1],ge=Pe>>>24,ve=Pe>>>16&255,be=65535&Pe,!(ge<=f);){if(0===c)break e;c--,d+=i[a++]<<f,f+=8}if(be<16)d>>>=ge,f-=ge,n.lens[n.have++]=be;else{if(16===be){for(je=ge+2;f<je;){if(0===c)break e;c--,d+=i[a++]<<f,f+=8}if(d>>>=ge,f-=ge,0===n.have){e.msg="invalid bit length repeat",n.mode=de;break}xe=n.lens[n.have-1],g=3+(3&d),d>>>=2,f-=2}else if(17===be){for(je=ge+3;f<je;){if(0===c)break e;c--,d+=i[a++]<<f,f+=8}d>>>=ge,f-=ge,xe=0,g=3+(7&d),d>>>=3,f-=3}else{for(je=ge+7;f<je;){if(0===c)break e;c--,d+=i[a++]<<f,f+=8}d>>>=ge,f-=ge,xe=0,g=11+(127&d),d>>>=7,f-=7}if(n.have+g>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=de;break}for(;g--;)n.lens[n.have++]=xe}}if(n.mode===de)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=de;break}if(n.lenbits=9,Se={bits:n.lenbits},ke=x(S,n.lens,0,n.nlen,n.lencode,0,n.work,Se),n.lenbits=Se.bits,ke){e.msg="invalid literal/lengths set",n.mode=de;break}if(n.distbits=6,n.distcode=n.distdyn,Se={bits:n.distbits},ke=x(j,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Se),n.distbits=Se.bits,ke){e.msg="invalid distances set",n.mode=de;break}if(n.mode=ne,t===A)break e;case ne:n.mode=re;case re:if(c>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=c,n.hold=d,n.bits=f,_(e,m),s=e.next_out,o=e.output,l=e.avail_out,a=e.next_in,i=e.input,c=e.avail_in,d=n.hold,f=n.bits,n.mode===Y&&(n.back=-1);break}for(n.back=0;Pe=n.lencode[d&(1<<n.lenbits)-1],ge=Pe>>>24,ve=Pe>>>16&255,be=65535&Pe,!(ge<=f);){if(0===c)break e;c--,d+=i[a++]<<f,f+=8}if(ve&&0===(240&ve)){for(ye=ge,we=ve,_e=be;Pe=n.lencode[_e+((d&(1<<ye+we)-1)>>ye)],ge=Pe>>>24,ve=Pe>>>16&255,be=65535&Pe,!(ye+ge<=f);){if(0===c)break e;c--,d+=i[a++]<<f,f+=8}d>>>=ye,f-=ye,n.back+=ye}if(d>>>=ge,f-=ge,n.back+=ge,n.length=be,0===ve){n.mode=ce;break}if(32&ve){n.back=-1,n.mode=Y;break}if(64&ve){e.msg="invalid literal/length code",n.mode=de;break}n.extra=15&ve,n.mode=ie;case ie:if(n.extra){for(je=n.extra;f<je;){if(0===c)break e;c--,d+=i[a++]<<f,f+=8}n.length+=d&(1<<n.extra)-1,d>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=oe;case oe:for(;Pe=n.distcode[d&(1<<n.distbits)-1],ge=Pe>>>24,ve=Pe>>>16&255,be=65535&Pe,!(ge<=f);){if(0===c)break e;c--,d+=i[a++]<<f,f+=8}if(0===(240&ve)){for(ye=ge,we=ve,_e=be;Pe=n.distcode[_e+((d&(1<<ye+we)-1)>>ye)],ge=Pe>>>24,ve=Pe>>>16&255,be=65535&Pe,!(ye+ge<=f);){if(0===c)break e;c--,d+=i[a++]<<f,f+=8}d>>>=ye,f-=ye,n.back+=ye}if(d>>>=ge,f-=ge,n.back+=ge,64&ve){e.msg="invalid distance code",n.mode=de;break}n.offset=be,n.extra=15&ve,n.mode=ae;case ae:if(n.extra){for(je=n.extra;f<je;){if(0===c)break e;c--,d+=i[a++]<<f,f+=8}n.offset+=d&(1<<n.extra)-1,d>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=de;break}n.mode=se;case se:if(0===l)break e;if(g=m-l,n.offset>g){if(g=n.offset-g,g>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=de;break}g>n.wnext?(g-=n.wnext,v=n.wsize-g):v=n.wnext-g,g>n.length&&(g=n.length),me=n.window}else me=o,v=s-n.offset,g=n.length;g>l&&(g=l),l-=g,n.length-=g;do o[s++]=me[v++];while(--g);0===n.length&&(n.mode=re);break;case ce:if(0===l)break e;o[s++]=n.length,l--,n.mode=re;break;case le:if(n.wrap){for(;f<32;){if(0===c)break e;c--,d|=i[a++]<<f,f+=8}if(m-=l,e.total_out+=m,n.total+=m,m&&(e.adler=n.check=n.flags?w(n.check,o,m,s-m):y(n.check,o,m,s-m)),m=l,(n.flags?d:r(d))!==n.check){e.msg="incorrect data check",n.mode=de;break}d=0,f=0}n.mode=ue;case ue:if(n.wrap&&n.flags){for(;f<32;){if(0===c)break e;c--,d+=i[a++]<<f,f+=8}if(d!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=de;break}d=0,f=0}n.mode=he;case he:ke=C;break e;case de:ke=I;break e;case fe:return F;case pe:default:return O}return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=c,n.hold=d,n.bits=f,(n.wsize||m!==e.avail_out&&n.mode<de&&(n.mode<le||t!==P))&&h(e,e.output,e.next_out,m-e.avail_out)?(n.mode=fe,F):(p-=e.avail_in,m-=e.avail_out,e.total_in+=p,e.total_out+=m,n.total+=m,n.wrap&&m&&(e.adler=n.check=n.flags?w(n.check,o,m,e.next_out-m):y(n.check,o,m,e.next_out-m)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Y?128:0)+(n.mode===ne||n.mode===Q?256:0),(0===p&&0===m||t===P)&&ke===T&&(ke=D),ke)}function f(e){if(!e||!e.state)return O;var t=e.state;return t.window&&(t.window=null),e.state=null,T}function p(e,t){var n;return e&&e.state?(n=e.state,0===(2&n.wrap)?O:(n.head=t,t.done=!1,T)):O}function m(e,t){var n,r,i,o=t.length;return e&&e.state?(n=e.state,0!==n.wrap&&n.mode!==G?O:n.mode===G&&(r=1,r=y(r,t,o,0),r!==n.check)?I:(i=h(e,t,o,o))?(n.mode=fe,F):(n.havedict=1,T)):O}var g,v,b=e("../utils/common"),y=e("./adler32"),w=e("./crc32"),_=e("./inffast"),x=e("./inftrees"),k=0,S=1,j=2,P=4,E=5,A=6,T=0,C=1,M=2,O=-2,I=-3,F=-4,D=-5,L=8,R=1,N=2,U=3,$=4,z=5,B=6,q=7,V=8,H=9,W=10,G=11,Y=12,K=13,X=14,Q=15,Z=16,J=17,ee=18,te=19,ne=20,re=21,ie=22,oe=23,ae=24,se=25,ce=26,le=27,ue=28,he=29,de=30,fe=31,pe=32,me=852,ge=592,ve=15,be=ve,ye=!0;n.inflateReset=a,n.inflateReset2=s,n.inflateResetKeep=o,n.inflateInit=l,n.inflateInit2=c,n.inflate=d,n.inflateEnd=f,n.inflateGetHeader=p,n.inflateSetDictionary=m,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":327,"./adler32":328,"./crc32":330,"./inffast":332,"./inftrees":334}],334:[function(e,t,n){"use strict";var r=e("../utils/common"),i=15,o=852,a=592,s=0,c=1,l=2,u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,p,m,g,v,b){var y,w,_,x,k,S,j,P,E,A=b.bits,T=0,C=0,M=0,O=0,I=0,F=0,D=0,L=0,R=0,N=0,U=null,$=0,z=new r.Buf16(i+1),B=new r.Buf16(i+1),q=null,V=0;for(T=0;T<=i;T++)z[T]=0;for(C=0;C<p;C++)z[t[n+C]]++;for(I=A,O=i;O>=1&&0===z[O];O--);if(I>O&&(I=O),0===O)return m[g++]=20971520,m[g++]=20971520,b.bits=1,0;for(M=1;M<O&&0===z[M];M++);for(I<M&&(I=M),L=1,T=1;T<=i;T++)if(L<<=1,L-=z[T],L<0)return-1;if(L>0&&(e===s||1!==O))return-1;for(B[1]=0,T=1;T<i;T++)B[T+1]=B[T]+z[T];for(C=0;C<p;C++)0!==t[n+C]&&(v[B[t[n+C]]++]=C);if(e===s?(U=q=v,S=19):e===c?(U=u,$-=257,q=h,V-=257,S=256):(U=d,q=f,S=-1),N=0,C=0,T=M,k=g,F=I,D=0,_=-1,R=1<<I,x=R-1,e===c&&R>o||e===l&&R>a)return 1;for(var H=0;;){H++,j=T-D,v[C]<S?(P=0,E=v[C]):v[C]>S?(P=q[V+v[C]],E=U[$+v[C]]):(P=96,E=0),y=1<<T-D,w=1<<F,M=w;do w-=y,m[k+(N>>D)+w]=j<<24|P<<16|E|0;while(0!==w);for(y=1<<T-1;N&y;)y>>=1;if(0!==y?(N&=y-1,N+=y):N=0,C++,0===--z[T]){if(T===O)break;T=t[n+v[C]]}if(T>I&&(N&x)!==_){for(0===D&&(D=I),k+=M,F=T-D,L=1<<F;F+D<O&&(L-=z[F+D],!(L<=0));)F++,L<<=1;if(R+=1<<F,e===c&&R>o||e===l&&R>a)return 1;_=N&x,m[_]=I<<24|F<<16|k-g|0}}return 0!==N&&(m[k+N]=T-D<<24|64<<16|0),b.bits=I,0}},{"../utils/common":327}],335:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],336:[function(e,t,n){"use strict";function r(e){for(var t=e.length;--t>=0;)e[t]=0}function i(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function o(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function a(e){return e<256?ce[e]:ce[256+(e>>>7)]}function s(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function c(e,t,n){e.bi_valid>K-n?(e.bi_buf|=t<<e.bi_valid&65535,s(e,e.bi_buf),e.bi_buf=t>>K-e.bi_valid,e.bi_valid+=n-K):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function l(e,t,n){c(e,n[2*t],n[2*t+1])}function u(e,t){var n=0;do n|=1&e,e>>>=1,n<<=1;while(--t>0);return n>>>1}function h(e){16===e.bi_valid?(s(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function d(e,t){var n,r,i,o,a,s,c=t.dyn_tree,l=t.max_code,u=t.stat_desc.static_tree,h=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(o=0;o<=Y;o++)e.bl_count[o]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<G;n++)r=e.heap[n],o=c[2*c[2*r+1]+1]+1,o>p&&(o=p,m++),c[2*r+1]=o,r>l||(e.bl_count[o]++,a=0,r>=f&&(a=d[r-f]),s=c[2*r],e.opt_len+=s*(o+a),h&&(e.static_len+=s*(u[2*r+1]+a)));if(0!==m){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(r=e.bl_count[o];0!==r;)i=e.heap[--n],i>l||(c[2*i+1]!==o&&(e.opt_len+=(o-c[2*i+1])*c[2*i],c[2*i+1]=o),r--)}}function f(e,t,n){var r,i,o=new Array(Y+1),a=0;for(r=1;r<=Y;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=u(o[s]++,s))}}function p(){var e,t,n,r,o,a=new Array(Y+1);for(n=0,r=0;r<B-1;r++)for(ue[r]=n,e=0;e<1<<te[r];e++)le[n++]=r;for(le[n-1]=r,o=0,r=0;r<16;r++)for(he[r]=o,e=0;e<1<<ne[r];e++)ce[o++]=r;for(o>>=7;r<H;r++)for(he[r]=o<<7,e=0;e<1<<ne[r]-7;e++)ce[256+o++]=r;for(t=0;t<=Y;t++)a[t]=0;for(e=0;e<=143;)ae[2*e+1]=8,e++,a[8]++;for(;e<=255;)ae[2*e+1]=9,e++,a[9]++;for(;e<=279;)ae[2*e+1]=7,e++,a[7]++;for(;e<=287;)ae[2*e+1]=8,e++,a[8]++;for(f(ae,V+1,a),e=0;e<H;e++)se[2*e+1]=5,se[2*e]=u(e,5);de=new i(ae,te,q+1,V,Y),fe=new i(se,ne,0,H,Y),pe=new i(new Array(0),re,0,W,X)}function m(e){var t;for(t=0;t<V;t++)e.dyn_ltree[2*t]=0;for(t=0;t<H;t++)e.dyn_dtree[2*t]=0;for(t=0;t<W;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*Q]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function g(e){e.bi_valid>8?s(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function v(e,t,n,r){g(e),r&&(s(e,n),s(e,~n)),O.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function b(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function y(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&b(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!b(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function w(e,t,n){var r,i,o,s,u=0;if(0!==e.last_lit)do r=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],i=e.pending_buf[e.l_buf+u],u++,0===r?l(e,i,t):(o=le[i],l(e,o+q+1,t),s=te[o],0!==s&&(i-=ue[o],c(e,i,s)),r--,o=a(r),l(e,o,n),s=ne[o],0!==s&&(r-=he[o],c(e,r,s)));while(u<e.last_lit);l(e,Q,t)}function _(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=G,n=0;n<c;n++)0!==o[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)i=e.heap[++e.heap_len]=l<2?++l:0,o[2*i]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=l,n=e.heap_len>>1;n>=1;n--)y(e,o,n);i=c;do n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],y(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,y(e,o,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],d(e,t),f(o,l,e.bl_count)}function x(e,t,n){var r,i,o=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<c&&i===a||(s<l?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*Z]++):s<=10?e.bl_tree[2*J]++:e.bl_tree[2*ee]++,s=0,o=i,0===a?(c=138,l=3):i===a?(c=6,l=3):(c=7,l=4))}function k(e,t,n){var r,i,o=-1,a=t[1],s=0,u=7,h=4;for(0===a&&(u=138,h=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<u&&i===a)){if(s<h){do l(e,i,e.bl_tree);while(0!==--s)}else 0!==i?(i!==o&&(l(e,i,e.bl_tree),s--),l(e,Z,e.bl_tree),c(e,s-3,2)):s<=10?(l(e,J,e.bl_tree),c(e,s-3,3)):(l(e,ee,e.bl_tree),c(e,s-11,7));s=0,o=i,0===a?(u=138,h=3):i===a?(u=6,h=3):(u=7,h=4)}}function S(e){var t;for(x(e,e.dyn_ltree,e.l_desc.max_code),x(e,e.dyn_dtree,e.d_desc.max_code),_(e,e.bl_desc),t=W-1;t>=3&&0===e.bl_tree[2*ie[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function j(e,t,n,r){var i;for(c(e,t-257,5),c(e,n-1,5),c(e,r-4,4),i=0;i<r;i++)c(e,e.bl_tree[2*ie[i]+1],3);k(e,e.dyn_ltree,t-1),k(e,e.dyn_dtree,n-1)}function P(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return F;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return D;for(t=32;t<q;t++)if(0!==e.dyn_ltree[2*t])return D;return F}function E(e){me||(p(),me=!0),e.l_desc=new o(e.dyn_ltree,de),e.d_desc=new o(e.dyn_dtree,fe),e.bl_desc=new o(e.bl_tree,pe),e.bi_buf=0,e.bi_valid=0,m(e)}function A(e,t,n,r){c(e,(R<<1)+(r?1:0),3),v(e,t,n,!0)}function T(e){c(e,N<<1,3),l(e,Q,ae),h(e)}function C(e,t,n,r){var i,o,a=0;e.level>0?(e.strm.data_type===L&&(e.strm.data_type=P(e)),_(e,e.l_desc),_(e,e.d_desc),a=S(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&t!==-1?A(e,t,n,r):e.strategy===I||o===i?(c(e,(N<<1)+(r?1:0),3),w(e,ae,se)):(c(e,(U<<1)+(r?1:0),3),j(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),w(e,e.dyn_ltree,e.dyn_dtree)),m(e),r&&g(e)}function M(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(le[n]+q+1)]++,e.dyn_dtree[2*a(t)]++),e.last_lit===e.lit_bufsize-1}var O=e("../utils/common"),I=4,F=0,D=1,L=2,R=0,N=1,U=2,$=3,z=258,B=29,q=256,V=q+1+B,H=30,W=19,G=2*V+1,Y=15,K=16,X=7,Q=256,Z=16,J=17,ee=18,te=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ne=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=512,ae=new Array(2*(V+2));r(ae);var se=new Array(2*H);r(se);var ce=new Array(oe);r(ce);var le=new Array(z-$+1);r(le);var ue=new Array(B);r(ue);var he=new Array(H);r(he);var de,fe,pe,me=!1;n._tr_init=E,n._tr_stored_block=A,n._tr_flush_block=C,n._tr_tally=M,n._tr_align=T},{"../utils/common":327}],337:[function(e,t,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},{}],338:[function(e,t,n){t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],339:[function(e,t,n){"use strict";var r=e("asn1.js");n.certificate=e("./certificate");var i=r.define("RSAPrivateKey",function(){this.seq().obj(this.key("version")["int"](),this.key("modulus")["int"](),this.key("publicExponent")["int"](),this.key("privateExponent")["int"](),this.key("prime1")["int"](),this.key("prime2")["int"](),this.key("exponent1")["int"](),this.key("exponent2")["int"](),this.key("coefficient")["int"]())});n.RSAPrivateKey=i;var o=r.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus")["int"](),this.key("publicExponent")["int"]())});n.RSAPublicKey=o;var a=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())});n.PublicKey=a;var s=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p")["int"](),this.key("q")["int"](),this.key("g")["int"]()).optional())}),c=r.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version")["int"](),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())});n.PrivateKey=c;var l=r.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters")["int"]())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});n.EncryptedPrivateKey=l;var u=r.define("DSAPrivateKey",function(){this.seq().obj(this.key("version")["int"](),this.key("p")["int"](),this.key("q")["int"](),this.key("g")["int"](),this.key("pub_key")["int"](),this.key("priv_key")["int"]())});n.DSAPrivateKey=u,n.DSAparam=r.define("DSAparam",function(){this["int"]()});var h=r.define("ECPrivateKey",function(){this.seq().obj(this.key("version")["int"](),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(d),this.key("publicKey").optional().explicit(1).bitstr())});n.ECPrivateKey=h;var d=r.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});n.signature=r.define("signature",function(){this.seq().obj(this.key("r")["int"](),this.key("s")["int"]())})},{"./certificate":340,"asn1.js":58}],340:[function(e,t,n){"use strict";var r=e("asn1.js"),i=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),a=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional())}),s=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}),c=r.define("RelativeDistinguishedName",function(){this.setof(o)}),l=r.define("RDNSequence",function(){this.seqof(c)}),u=r.define("Name",function(){this.choice({rdnSequence:this.use(l)})}),h=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),d=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),f=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0)["int"](),this.key("serialNumber")["int"](),this.key("signature").use(a),this.key("issuer").use(u),this.key("validity").use(h),this.key("subject").use(u),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())}),p=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(f),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())});t.exports=p},{"asn1.js":58}],341:[function(e,t,n){(function(n){var r=/Proc-Type: 4,ENCRYPTED\n\r?DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\n\r?\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?/m,i=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----\n/m,o=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?-----END \1-----$/m,a=e("evp_bytestokey"),s=e("browserify-aes");t.exports=function(e,t){var c,l=e.toString(),u=l.match(r);if(u){var h="aes"+u[1],d=new n(u[2],"hex"),f=new n(u[3].replace(/\r?\n/g,""),"base64"),p=a(t,d.slice(0,8),parseInt(u[1],10)).key,m=[],g=s.createDecipheriv(h,p,d);m.push(g.update(f)),m.push(g["final"]()),c=n.concat(m)}else{var v=l.match(o);c=new n(v[2].replace(/\r?\n/g,""),"base64")}var b=l.match(i)[1];return{tag:b,data:c}}}).call(this,e("buffer").Buffer)},{"browserify-aes":103,buffer:131,evp_bytestokey:245}],342:[function(e,t,n){(function(n){function r(e){var t;"object"!=typeof e||n.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=new n(e));var r,a,c=s(e,t),l=c.tag,u=c.data;switch(l){case"CERTIFICATE":a=o.certificate.decode(u,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(a||(a=o.PublicKey.decode(u,"der")),r=a.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return o.RSAPublicKey.decode(a.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return a.subjectPrivateKey=a.subjectPublicKey,{type:"ec",data:a};case"1.2.840.10040.4.1":return a.algorithm.params.pub_key=o.DSAparam.decode(a.subjectPublicKey.data,"der"),{type:"dsa",data:a.algorithm.params};default:throw new Error("unknown key id "+r)}throw new Error("unknown key type "+l);case"ENCRYPTED PRIVATE KEY":u=o.EncryptedPrivateKey.decode(u,"der"),u=i(u,t);case"PRIVATE KEY":switch(a=o.PrivateKey.decode(u,"der"),r=a.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return o.RSAPrivateKey.decode(a.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:a.algorithm.curve,privateKey:o.ECPrivateKey.decode(a.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return a.algorithm.params.priv_key=o.DSAparam.decode(a.subjectPrivateKey,"der"),{type:"dsa",params:a.algorithm.params};default:throw new Error("unknown key id "+r)}throw new Error("unknown key type "+l);case"RSA PUBLIC KEY":return o.RSAPublicKey.decode(u,"der");case"RSA PRIVATE KEY":return o.RSAPrivateKey.decode(u,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:o.DSAPrivateKey.decode(u,"der")};case"EC PRIVATE KEY":return u=o.ECPrivateKey.decode(u,"der"),{curve:u.parameters.value,privateKey:u.privateKey};default:throw new Error("unknown key type "+l)}}function i(e,t){var r=e.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=a[e.algorithm.decrypt.cipher.algo.join(".")],s=e.algorithm.decrypt.cipher.iv,u=e.subjectPrivateKey,h=parseInt(o.split("-")[1],10)/8,d=l.pbkdf2Sync(t,r,i,h),f=c.createDecipheriv(o,d,s),p=[];return p.push(f.update(u)),p.push(f["final"]()),n.concat(p)}var o=e("./asn1"),a=e("./aesid.json"),s=e("./fixProc"),c=e("browserify-aes"),l=e("pbkdf2");t.exports=r,r.signature=o.signature}).call(this,e("buffer").Buffer)},{"./aesid.json":338,"./asn1":339,"./fixProc":341,"browserify-aes":103,buffer:131,pbkdf2:345}],343:[function(require,module,exports){(function(process){!function(e){e.Parse=e.Parse||{},e.Parse.VERSION="js1.5.0"}(this),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,o=Function.prototype,a=r.push,s=r.slice,c=r.concat,l=i.toString,u=i.hasOwnProperty,h=r.forEach,d=r.map,f=r.reduce,p=r.reduceRight,m=r.filter,g=r.every,v=r.some,b=r.indexOf,y=r.lastIndexOf,w=Array.isArray,_=Object.keys,x=o.bind,k=function(e){return e instanceof k?e:this instanceof k?void(this._wrapped=e):new k(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports._=k):e._=k,k.VERSION="1.4.4";var S=k.each=k.forEach=function(e,t,r){if(null!=e)if(h&&e.forEach===h)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,o=e.length;i<o;i++)if(t.call(r,e[i],i,e)===n)return}else for(var a in e)if(k.has(e,a)&&t.call(r,e[a],a,e)===n)return};k.map=k.collect=function(e,t,n){var r=[];return null==e?r:d&&e.map===d?e.map(t,n):(S(e,function(e,i,o){r[r.length]=t.call(n,e,i,o)}),r)};var j="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),f&&e.reduce===f)return r&&(t=k.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(S(e,function(e,o,a){i?n=t.call(r,n,e,o,a):(n=e,i=!0)}),!i)throw new TypeError(j);return n},k.reduceRight=k.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),p&&e.reduceRight===p)return r&&(t=k.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var o=e.length;if(o!==+o){var a=k.keys(e);o=a.length}if(S(e,function(s,c,l){c=a?a[--o]:--o,i?n=t.call(r,n,e[c],c,l):(n=e[c],i=!0)}),!i)throw new TypeError(j);return n},k.find=k.detect=function(e,t,n){var r;return P(e,function(e,i,o){if(t.call(n,e,i,o))return r=e,!0}),r},k.filter=k.select=function(e,t,n){var r=[];return null==e?r:m&&e.filter===m?e.filter(t,n):(S(e,function(e,i,o){t.call(n,e,i,o)&&(r[r.length]=e)}),r)},k.reject=function(e,t,n){return k.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},k.every=k.all=function(e,t,r){t||(t=k.identity);var i=!0;return null==e?i:g&&e.every===g?e.every(t,r):(S(e,function(e,o,a){if(!(i=i&&t.call(r,e,o,a)))return n}),!!i)};var P=k.some=k.any=function(e,t,r){t||(t=k.identity);var i=!1;return null==e?i:v&&e.some===v?e.some(t,r):(S(e,function(e,o,a){if(i||(i=t.call(r,e,o,a)))return n}),!!i)};k.contains=k.include=function(e,t){return null!=e&&(b&&e.indexOf===b?e.indexOf(t)!=-1:P(e,function(e){return e===t}))},k.invoke=function(e,t){var n=s.call(arguments,2),r=k.isFunction(t);return k.map(e,function(e){return(r?t:e[t]).apply(e,n)})},k.pluck=function(e,t){return k.map(e,function(e){return e[t]})},k.where=function(e,t,n){return k.isEmpty(t)?n?null:[]:k[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},k.findWhere=function(e,t){return k.where(e,t,!0)},k.max=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&k.isEmpty(e))return-(1/0);var r={computed:-(1/0),value:-(1/0)};return S(e,function(e,i,o){var a=t?t.call(n,e,i,o):e;a>=r.computed&&(r={value:e,computed:a})}),r.value},k.min=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&k.isEmpty(e))return 1/0;var r={computed:1/0,value:1/0};return S(e,function(e,i,o){var a=t?t.call(n,e,i,o):e;a<r.computed&&(r={value:e,computed:a})}),r.value},k.shuffle=function(e){var t,n=0,r=[];return S(e,function(e){t=k.random(n++),r[n-1]=r[t],r[t]=e}),r};var E=function(e){return k.isFunction(e)?e:function(t){return t[e]}};k.sortBy=function(e,t,n){var r=E(t);return k.pluck(k.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index<t.index?-1:1}),"value")};var A=function(e,t,n,r){var i={},o=E(t||k.identity);return S(e,function(t,a){var s=o.call(n,t,a,e);r(i,s,t)}),i};k.groupBy=function(e,t,n){return A(e,t,n,function(e,t,n){(k.has(e,t)?e[t]:e[t]=[]).push(n)})},k.countBy=function(e,t,n){return A(e,t,n,function(e,t){k.has(e,t)||(e[t]=0),e[t]++})},k.sortedIndex=function(e,t,n,r){n=null==n?k.identity:E(n);for(var i=n.call(r,t),o=0,a=e.length;o<a;){var s=o+a>>>1;n.call(r,e[s])<i?o=s+1:a=s}return o},k.toArray=function(e){return e?k.isArray(e)?s.call(e):e.length===+e.length?k.map(e,k.identity):k.values(e):[]},k.size=function(e){return null==e?0:e.length===+e.length?e.length:k.keys(e).length},k.first=k.head=k.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:s.call(e,0,t)},k.initial=function(e,t,n){return s.call(e,0,e.length-(null==t||n?1:t))},k.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:s.call(e,Math.max(e.length-t,0))},k.rest=k.tail=k.drop=function(e,t,n){return s.call(e,null==t||n?1:t)},k.compact=function(e){return k.filter(e,k.identity)};var T=function(e,t,n){return S(e,function(e){k.isArray(e)?t?a.apply(n,e):T(e,t,n):n.push(e)}),n};k.flatten=function(e,t){return T(e,t,[])},k.without=function(e){return k.difference(e,s.call(arguments,1))},k.uniq=k.unique=function(e,t,n,r){k.isFunction(t)&&(r=n,n=t,t=!1);var i=n?k.map(e,n,r):e,o=[],a=[];return S(i,function(n,r){(t?r&&a[a.length-1]===n:k.contains(a,n))||(a.push(n),o.push(e[r]))}),o},k.union=function(){return k.uniq(c.apply(r,arguments))},k.intersection=function(e){var t=s.call(arguments,1);return k.filter(k.uniq(e),function(e){return k.every(t,function(t){return k.indexOf(t,e)>=0})})},k.difference=function(e){var t=c.apply(r,s.call(arguments,1));return k.filter(e,function(e){return!k.contains(t,e)})},k.zip=function(){for(var e=s.call(arguments),t=k.max(k.pluck(e,"length")),n=new Array(t),r=0;r<t;r++)n[r]=k.pluck(e,""+r);return n},k.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},k.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return r=k.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(b&&e.indexOf===b)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},k.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(y&&e.lastIndexOf===y)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var i=r?n:e.length;i--;)if(e[i]===t)return i;return-1},k.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,o=new Array(r);i<r;)o[i++]=e,e+=n;return o},k.bind=function(e,t){if(e.bind===x&&x)return x.apply(e,s.call(arguments,1));var n=s.call(arguments,2);return function(){return e.apply(t,n.concat(s.call(arguments)))}},k.partial=function(e){var t=s.call(arguments,1);return function(){return e.apply(this,t.concat(s.call(arguments)))}},k.bindAll=function(e){var t=s.call(arguments,1);return 0===t.length&&(t=k.functions(e)),S(t,function(t){e[t]=k.bind(e[t],e)}),e},k.memoize=function(e,t){var n={};return t||(t=k.identity),function(){var r=t.apply(this,arguments);return k.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},k.delay=function(e,t){var n=s.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},k.defer=function(e){return k.delay.apply(k,[e,1].concat(s.call(arguments,1)))},k.throttle=function(e,t){var n,r,i,o,a=0,s=function(){a=new Date,i=null,o=e.apply(n,r)};return function(){var c=new Date,l=t-(c-a);return n=this,r=arguments,l<=0?(clearTimeout(i),i=null,a=c,o=e.apply(n,r)):i||(i=setTimeout(s,l)),o}},k.debounce=function(e,t,n){var r,i;return function(){
var o=this,a=arguments,s=function(){r=null,n||(i=e.apply(o,a))},c=n&&!r;return clearTimeout(r),r=setTimeout(s,t),c&&(i=e.apply(o,a)),i}},k.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},k.wrap=function(e,t){return function(){var n=[e];return a.apply(n,arguments),t.apply(this,n)}},k.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},k.after=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}},k.keys=_||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)k.has(e,n)&&(t[t.length]=n);return t},k.values=function(e){var t=[];for(var n in e)k.has(e,n)&&t.push(e[n]);return t},k.pairs=function(e){var t=[];for(var n in e)k.has(e,n)&&t.push([n,e[n]]);return t},k.invert=function(e){var t={};for(var n in e)k.has(e,n)&&(t[e[n]]=n);return t},k.functions=k.methods=function(e){var t=[];for(var n in e)k.isFunction(e[n])&&t.push(n);return t.sort()},k.extend=function(e){return S(s.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},k.pick=function(e){var t={},n=c.apply(r,s.call(arguments,1));return S(n,function(n){n in e&&(t[n]=e[n])}),t},k.omit=function(e){var t={},n=c.apply(r,s.call(arguments,1));for(var i in e)k.contains(n,i)||(t[i]=e[i]);return t},k.defaults=function(e){return S(s.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},k.clone=function(e){return k.isObject(e)?k.isArray(e)?e.slice():k.extend({},e):e},k.tap=function(e,t){return t(e),e};var C=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof k&&(e=e._wrapped),t instanceof k&&(t=t._wrapped);var i=l.call(e);if(i!=l.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]==e)return r[o]==t;n.push(e),r.push(t);var a=0,s=!0;if("[object Array]"==i){if(a=e.length,s=a==t.length)for(;a--&&(s=C(e[a],t[a],n,r)););}else{var c=e.constructor,u=t.constructor;if(c!==u&&!(k.isFunction(c)&&c instanceof c&&k.isFunction(u)&&u instanceof u))return!1;for(var h in e)if(k.has(e,h)&&(a++,!(s=k.has(t,h)&&C(e[h],t[h],n,r))))break;if(s){for(h in t)if(k.has(t,h)&&!a--)break;s=!a}}return n.pop(),r.pop(),s};k.isEqual=function(e,t){return C(e,t,[],[])},k.isEmpty=function(e){if(null==e)return!0;if(k.isArray(e)||k.isString(e))return 0===e.length;for(var t in e)if(k.has(e,t))return!1;return!0},k.isElement=function(e){return!(!e||1!==e.nodeType)},k.isArray=w||function(e){return"[object Array]"==l.call(e)},k.isObject=function(e){return e===Object(e)},S(["Arguments","Function","String","Number","Date","RegExp"],function(e){k["is"+e]=function(t){return l.call(t)=="[object "+e+"]"}}),k.isArguments(arguments)||(k.isArguments=function(e){return!(!e||!k.has(e,"callee"))}),"function"!=typeof/./&&(k.isFunction=function(e){return"function"==typeof e}),k.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},k.isNaN=function(e){return k.isNumber(e)&&e!=+e},k.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==l.call(e)},k.isNull=function(e){return null===e},k.isUndefined=function(e){return void 0===e},k.has=function(e,t){return u.call(e,t)},k.noConflict=function(){return e._=t,this},k.identity=function(e){return e},k.times=function(e,t,n){for(var r=Array(e),i=0;i<e;i++)r[i]=t.call(n,i);return r},k.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};M.unescape=k.invert(M.escape);var O={escape:new RegExp("["+k.keys(M.escape).join("")+"]","g"),unescape:new RegExp("("+k.keys(M.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(e){k[e]=function(t){return null==t?"":(""+t).replace(O[e],function(t){return M[e][t]})}}),k.result=function(e,t){if(null==e)return null;var n=e[t];return k.isFunction(n)?n.call(e):n},k.mixin=function(e){S(k.functions(e),function(t){var n=k[t]=e[t];k.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),R.call(this,n.apply(k,e))}})};var I=0;k.uniqueId=function(e){var t=++I+"";return e?e+t:t},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,D={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(e,t,n){var r;n=k.defaults({},n,k.templateSettings);var i=new RegExp([(n.escape||F).source,(n.interpolate||F).source,(n.evaluate||F).source].join("|")+"|$","g"),o=0,a="__p+='";e.replace(i,function(t,n,r,i,s){return a+=e.slice(o,s).replace(L,function(e){return"\\"+D[e]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(a+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(a+="';\n"+i+"\n__p+='"),o=s+t.length,t}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(n.variable||"obj","_",a)}catch(s){throw s.source=a,s}if(t)return r(t,k);var c=function(e){return r.call(this,e,k)};return c.source="function("+(n.variable||"obj")+"){\n"+a+"}",c},k.chain=function(e){return k(e).chain()};var R=function(e){return this._chain?k(e).chain():e};k.mixin(k),S(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];k.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],R.call(this,n)}}),S(["concat","join","slice"],function(e){var t=r[e];k.prototype[e]=function(){return R.call(this,t.apply(this._wrapped,arguments))}}),k.extend(k.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n="function"==typeof require?require:null;"undefined"!=typeof XMLHttpRequest?t.XMLHttpRequest=XMLHttpRequest:"function"==typeof require&&"undefined"==typeof require.ensure&&(t.XMLHttpRequest=n("xmlhttprequest").XMLHttpRequest),"undefined"!=typeof exports&&exports._?(t._=exports._.noConflict(),exports.Parse=t):t._=_.noConflict(),"undefined"!=typeof $&&(t.$=$);var r=function(){},i=function(e,n,i){var o;return o=n&&n.hasOwnProperty("constructor")?n.constructor:function(){e.apply(this,arguments)},t._.extend(o,e),r.prototype=e.prototype,o.prototype=new r,n&&t._.extend(o.prototype,n),i&&t._.extend(o,i),o.prototype.constructor=o,o.__super__=e.prototype,o};t.serverURL="https://api.parse.com","undefined"!=typeof process&&process.versions&&process.versions.node&&(t._isNode=!0),t.initialize=function(e,n,r){if(r)throw"Parse.initialize() was passed a Master Key, which is only allowed from within Node.js.";t._initialize(e,n)},t._initialize=function(e,n,r){t.applicationId=e,t.javaScriptKey=n,t.masterKey=r,t._useMasterKey=!1},t._isNode&&(t.initialize=t._initialize,t.Cloud=t.Cloud||{},t.Cloud.useMasterKey=function(){t._useMasterKey=!0}),t._getParsePath=function(e){if(!t.applicationId)throw"You need to call Parse.initialize before using Parse.";if(e||(e=""),!t._.isString(e))throw"Tried to get a Storage path that wasn't a String.";return"/"===e[0]&&(e=e.substring(1)),"Parse/"+t.applicationId+"/"+e},t._installationId=null,t._getInstallationId=function(){if(t._installationId)return t.Promise.as(t._installationId);var e=t._getParsePath("installationId");return t.Storage.getItemAsync(e).then(function(n){if(t._installationId=n,!t._installationId||""===t._installationId){var r=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return t._installationId=r()+r()+"-"+r()+"-"+r()+"-"+r()+"-"+r()+r()+r(),t.Storage.setItemAsync(e,t._installationId)}return t.Promise.as(t._installationId)})},t._parseDate=function(e){var t=new RegExp("^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,2})T([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})(.([0-9]+))?Z$"),n=t.exec(e);if(!n)return null;var r=n[1]||0,i=(n[2]||1)-1,o=n[3]||0,a=n[4]||0,s=n[5]||0,c=n[6]||0,l=n[8]||0;return new Date(Date.UTC(r,i,o,a,s,c,l))},t._ajaxIE8=function(e,n,r){var i=new t.Promise,o=new XDomainRequest;return o.onload=function(){var e;try{e=JSON.parse(o.responseText)}catch(t){i.reject(t)}e&&i.resolve(e)},o.onerror=o.ontimeout=function(){var e={responseText:JSON.stringify({code:t.Error.X_DOMAIN_REQUEST,error:"IE's XDomainRequest does not supply error info."})};i.reject(e)},o.onprogress=function(){},o.open(e,n),o.send(r),i},t._useXDomainRequest=function(){return"undefined"!=typeof XDomainRequest&&!("withCredentials"in new XMLHttpRequest)},t._ajax=function(e,n,r,i,o){var a={success:i,error:o};if(t._useXDomainRequest())return t._ajaxIE8(e,n,r)._thenRunCallbacks(a);var s=new t.Promise,c=0,l=function(){var i=!1,o=new t.XMLHttpRequest;o.onreadystatechange=function(){if(4===o.readyState){if(i)return;if(i=!0,o.status>=200&&o.status<300){var e;try{e=JSON.parse(o.responseText)}catch(t){s.reject(t)}e&&s.resolve(e,o.status,o)}else if(o.status>=500)if(++c<5){var n=Math.round(125*Math.random()*Math.pow(2,c));setTimeout(l,n)}else s.reject(o);else s.reject(o)}},o.open(e,n,!0),o.setRequestHeader("Content-Type","text/plain"),t._isNode&&o.setRequestHeader("User-Agent","Parse/"+t.VERSION+" (NodeJS "+process.versions.node+")"),o.send(r)};return l(),s._thenRunCallbacks(a)},t._extend=function(e,t){var n=i(this,e,t);return n.extend=this.extend,n},t._request=function(e){var n=e.route,r=e.className,i=e.objectId,o=e.method,a=e.useMasterKey,s=e.sessionToken,c=e.data;if(!t.applicationId)throw"You must specify your applicationId using Parse.initialize.";if(!t.javaScriptKey&&!t.masterKey)throw"You must specify a key using Parse.initialize.";if("batch"!==n&&"classes"!==n&&"events"!==n&&"files"!==n&&"functions"!==n&&"login"!==n&&"logout"!==n&&"push"!==n&&"requestPasswordReset"!==n&&"rest_verify_analytics"!==n&&"users"!==n&&"jobs"!==n&&"config"!==n&&"sessions"!==n&&"upgradeToRevocableSession"!==n)throw"Bad route: '"+n+"'.";var l=t.serverURL;if("/"!==l.charAt(l.length-1)&&(l+="/"),l+="1/"+n,r&&(l+="/"+r),i&&(l+="/"+i),c=t._.clone(c||{}),"POST"!==o&&(c._method=o,o="POST"),t._.isUndefined(a)&&(a=t._useMasterKey),c._ApplicationId=t.applicationId,a){if(!t.masterKey)throw new Error("Cannot use the Master Key, it has not been provided.");c._MasterKey=t.masterKey}else c._JavaScriptKey=t.javaScriptKey;return c._ClientVersion=t.VERSION,t._getInstallationId().then(function(e){return c._InstallationId=e,s?t.Promise.as({_sessionToken:s}):t.User._canUseCurrentUser()?t.User._currentAsync():t.Promise.as(null)}).then(function(e){e&&e._sessionToken&&(c._SessionToken=e._sessionToken),t.User._isRevocableSessionEnabled&&(c._RevocableSession="1");var n=JSON.stringify(c);return t._ajax(o,l,n)}).then(null,function(e){var n;if(e&&e.responseText)try{var r=JSON.parse(e.responseText);n=new t.Error(r.code,r.error)}catch(i){n=new t.Error(t.Error.INVALID_JSON,"Received an error with invalid JSON from Parse: "+e.responseText)}else n=new t.Error(t.Error.CONNECTION_FAILED,"XMLHttpRequest failed: "+JSON.stringify(e));return t.Promise.error(n)})},t._getValue=function(e,n){return e&&e[n]?t._.isFunction(e[n])?e[n]():e[n]:null},t._encode=function(e,n,r){var i=t._;if(e instanceof t.Object){if(r)throw"Parse.Objects not allowed here";if(!n||i.include(n,e)||!e._hasData)return e._toPointer();if(!e.dirty())return n=n.concat(e),t._encode(e._toFullJSON(n),n,r);throw"Tried to save an object with a pointer to a new, unsaved object."}if(e instanceof t.ACL)return e.toJSON();if(i.isDate(e)){if(isNaN(e))throw new Error("Cannot encode invalid Date");return{__type:"Date",iso:e.toJSON()}}if(e instanceof t.GeoPoint)return e.toJSON();if(i.isArray(e))return i.map(e,function(e){return t._encode(e,n,r)});if(i.isRegExp(e))return e.source;if(e instanceof t.Relation)return e.toJSON();if(e instanceof t.Op)return e.toJSON();if(e instanceof t.File){if(!e.url())throw"Tried to save an object containing an unsaved file.";return{__type:"File",name:e.name(),url:e.url()}}if(i.isObject(e)){var o={};return t._objectEach(e,function(e,i){o[i]=t._encode(e,n,r)}),o}return e},t._decode=function(e,n){var r=t._;if(!r.isObject(n))return n;if(r.isArray(n))return t._arrayEach(n,function(e,r){n[r]=t._decode(r,e)}),n;if(n instanceof t.Object)return n;if(n instanceof t.File)return n;if(n instanceof t.Op)return n;if(n.__op)return t.Op._decode(n);if("Pointer"===n.__type&&n.className){var i=t.Object._create(n.className);return i._finishFetch({objectId:n.objectId},!1),i}if("Object"===n.__type&&n.className){var o=n.className;delete n.__type,delete n.className;var a=t.Object._create(o);return a._finishFetch(n,!0),a}if("Date"===n.__type)return t._parseDate(n.iso);if("GeoPoint"===n.__type)return new t.GeoPoint({latitude:n.latitude,longitude:n.longitude});if("ACL"===e)return n instanceof t.ACL?n:new t.ACL(n);if("Relation"===n.__type){var s=new t.Relation(null,e);return s.targetClassName=n.className,s}if("File"===n.__type){var c=new t.File(n.name);return c._url=n.url,c}return t._objectEach(n,function(e,r){n[r]=t._decode(r,e)}),n},t._arrayEach=t._.each,t._traverse=function(e,n,r){if(e instanceof t.Object){if(r=r||[],t._.indexOf(r,e)>=0)return;return r.push(e),t._traverse(e.attributes,n,r),n(e)}return e instanceof t.Relation||e instanceof t.File?n(e):t._.isArray(e)?(t._.each(e,function(i,o){var a=t._traverse(i,n,r);a&&(e[o]=a)}),n(e)):t._.isObject(e)?(t._each(e,function(i,o){var a=t._traverse(i,n,r);a&&(e[o]=a)}),n(e)):n(e)},t._objectEach=t._each=function(e,n){var r=t._;r.isObject(e)?r.each(r.keys(e),function(t){n(e[t],t)}):r.each(e,n)},t._isNullOrUndefined=function(e){return t._.isNull(e)||t._.isUndefined(e)}}(this),function(root){root.Parse=root.Parse||{};var Parse=root.Parse,Storage={async:!1},hasLocalStorage="undefined"!=typeof localStorage;if(hasLocalStorage)try{localStorage.setItem("supported",!0),localStorage.removeItem("supported")}catch(e){hasLocalStorage=!1}if(hasLocalStorage)Storage.getItem=function(e){return localStorage.getItem(e)},Storage.setItem=function(e,t){return localStorage.setItem(e,t)},Storage.removeItem=function(e){return localStorage.removeItem(e)},Storage.clear=function(){return localStorage.clear()};else if("function"==typeof require){var AsyncStorage;try{AsyncStorage=eval("require('AsyncStorage')"),Storage.async=!0,Storage.getItemAsync=function(e){var t=new Parse.Promise;return AsyncStorage.getItem(e,function(e,n){e?t.reject(e):t.resolve(n)}),t},Storage.setItemAsync=function(e,t){var n=new Parse.Promise;return AsyncStorage.setItem(e,t,function(e){e?n.reject(e):n.resolve(t)}),n},Storage.removeItemAsync=function(e){var t=new Parse.Promise;return AsyncStorage.removeItem(e,function(e){e?t.reject(e):t.resolve()}),t},Storage.clear=function(){AsyncStorage.clear()}}catch(e){}}if(!Storage.async&&!Storage.getItem){var memMap=Storage.inMemoryMap={};Storage.getItem=function(e){return memMap.hasOwnProperty(e)?memMap[e]:null},Storage.setItem=function(e,t){memMap[e]=String(t)},Storage.removeItem=function(e){delete memMap[e]},Storage.clear=function(){for(var e in memMap)memMap.hasOwnProperty(e)&&delete memMap[e]}}Storage.async||(Storage.getItemAsync=function(e){return Parse.Promise.as(Storage.getItem(e))},Storage.setItemAsync=function(e,t){return Storage.setItem(e,t),Parse.Promise.as(t)},Storage.removeItemAsync=function(e){return Parse.Promise.as(Storage.removeItem(e))}),Parse.Storage=Storage}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Analytics=t.Analytics||{},n.extend(t.Analytics,{track:function(e,r,i){if(e=e||"",e=e.replace(/^\s*/,""),e=e.replace(/\s*$/,""),0===e.length)throw"A name for the custom event must be provided";return n.each(r,function(e,t){if(!n.isString(t)||!n.isString(e))throw'track() dimensions expects keys and values of type "string".'}),i=i||{},t._request({route:"events",className:e,method:"POST",data:{dimensions:r}})._thenRunCallbacks(i)}})}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Config=function(){this.attributes={},this._escapedAttributes={}},t.Config.current=function(){if(t.Config._currentConfig)return t.Config._currentConfig;var e=new t.Config;if(t.Storage.async)return e;var n=t.Storage.getItem(t._getParsePath(t.Config._CURRENT_CONFIG_KEY));return n&&(e._finishFetch(JSON.parse(n)),t.Config._currentConfig=e),e},t.Config.get=function(e){e=e||{};var n=t._request({route:"config",method:"GET"});return n.then(function(e){if(!e||!e.params){var n=new t.Error(t.Error.INVALID_JSON,"Config JSON response invalid.");return t.Promise.error(n)}var r=new t.Config;return r._finishFetch(e),t.Config._currentConfig=r,r})._thenRunCallbacks(e)},t.Config.prototype={escape:function(e){var r=this._escapedAttributes[e];if(r)return r;var i,o=this.attributes[e];return i=t._isNullOrUndefined(o)?"":n.escape(o.toString()),this._escapedAttributes[e]=i,i},get:function(e){return this.attributes[e]},_finishFetch:function(e){this.attributes=t._decode(null,n.clone(e.params)),t.Storage.async||t.Storage.setItem(t._getParsePath(t.Config._CURRENT_CONFIG_KEY),JSON.stringify(e))}},t.Config._currentConfig=null,t.Config._CURRENT_CONFIG_KEY="currentConfig"}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Error=function(e,t){this.code=e,this.message=t},n.extend(t.Error,{OTHER_CAUSE:-1,INTERNAL_SERVER_ERROR:1,CONNECTION_FAILED:100,OBJECT_NOT_FOUND:101,INVALID_QUERY:102,INVALID_CLASS_NAME:103,MISSING_OBJECT_ID:104,INVALID_KEY_NAME:105,INVALID_POINTER:106,INVALID_JSON:107,COMMAND_UNAVAILABLE:108,NOT_INITIALIZED:109,INCORRECT_TYPE:111,INVALID_CHANNEL_NAME:112,PUSH_MISCONFIGURED:115,OBJECT_TOO_LARGE:116,OPERATION_FORBIDDEN:119,CACHE_MISS:120,INVALID_NESTED_KEY:121,INVALID_FILE_NAME:122,INVALID_ACL:123,TIMEOUT:124,INVALID_EMAIL_ADDRESS:125,MISSING_CONTENT_TYPE:126,MISSING_CONTENT_LENGTH:127,INVALID_CONTENT_LENGTH:128,FILE_TOO_LARGE:129,FILE_SAVE_ERROR:130,DUPLICATE_VALUE:137,INVALID_ROLE_NAME:139,EXCEEDED_QUOTA:140,SCRIPT_FAILED:141,VALIDATION_ERROR:142,INVALID_IMAGE_DATA:150,UNSAVED_FILE_ERROR:151,INVALID_PUSH_TIME_ERROR:152,FILE_DELETE_ERROR:153,REQUEST_LIMIT_EXCEEDED:155,INVALID_EVENT_NAME:160,USERNAME_MISSING:200,PASSWORD_MISSING:201,USERNAME_TAKEN:202,EMAIL_TAKEN:203,EMAIL_MISSING:204,EMAIL_NOT_FOUND:205,SESSION_MISSING:206,MUST_CREATE_USER_THROUGH_SIGNUP:207,ACCOUNT_ALREADY_LINKED:208,INVALID_SESSION_TOKEN:209,LINKED_ID_MISSING:250,INVALID_LINKED_SESSION:251,UNSUPPORTED_SERVICE:252,AGGREGATE_ERROR:600,FILE_READ_ERROR:601,X_DOMAIN_REQUEST:602})}(this),function(){var e=this,t=e.Parse||(e.Parse={}),n=/\s+/,r=Array.prototype.slice;t.Events={on:function(e,t,r){var i,o,a,s,c;if(!t)return this;for(e=e.split(n),i=this._callbacks||(this._callbacks={}),o=e.shift();o;)c=i[o],a=c?c.tail:{},a.next=s={},a.context=r,a.callback=t,i[o]={tail:s,next:c?c.next:a},o=e.shift();return this},off:function(e,t,r){var i,o,a,s,c,l;if(o=this._callbacks){if(!(e||t||r))return delete this._callbacks,this;for(e=e?e.split(n):Object.keys(o),i=e.shift();i;)if(a=o[i],delete o[i],a&&(t||r)){for(s=a.tail,a=a.next;a!==s;)c=a.callback,l=a.context,(t&&c!==t||r&&l!==r)&&this.on(i,c,l),a=a.next;i=e.shift()}else i=e.shift();return this}},trigger:function(e){var t,i,o,a,s,c,l;if(!(o=this._callbacks))return this;for(c=o.all,e=e.split(n),l=r.call(arguments,1),t=e.shift();t;){if(i=o[t])for(a=i.tail;(i=i.next)!==a;)i.callback.apply(i.context||this,l);if(i=c)for(a=i.tail,s=[t].concat(l);(i=i.next)!==a;)i.callback.apply(i.context||this,s);t=e.shift()}return this}},t.Events.bind=t.Events.on,t.Events.unbind=t.Events.off}.call(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.GeoPoint=function(e,r){n.isArray(e)?(t.GeoPoint._validate(e[0],e[1]),this.latitude=e[0],this.longitude=e[1]):n.isObject(e)?(t.GeoPoint._validate(e.latitude,e.longitude),this.latitude=e.latitude,this.longitude=e.longitude):n.isNumber(e)&&n.isNumber(r)?(t.GeoPoint._validate(e,r),this.latitude=e,this.longitude=r):(this.latitude=0,this.longitude=0);var i=this;this.__defineGetter__&&this.__defineSetter__&&(this._latitude=this.latitude,this._longitude=this.longitude,this.__defineGetter__("latitude",function(){return i._latitude}),this.__defineGetter__("longitude",function(){return i._longitude}),this.__defineSetter__("latitude",function(e){t.GeoPoint._validate(e,i.longitude),i._latitude=e}),this.__defineSetter__("longitude",function(e){t.GeoPoint._validate(i.latitude,e),i._longitude=e}))},t.GeoPoint._validate=function(e,t){if(e<-90)throw"Parse.GeoPoint latitude "+e+" < -90.0.";if(e>90)throw"Parse.GeoPoint latitude "+e+" > 90.0.";if(t<-180)throw"Parse.GeoPoint longitude "+t+" < -180.0.";if(t>180)throw"Parse.GeoPoint longitude "+t+" > 180.0."},t.GeoPoint.current=function(e){var n=new t.Promise;return navigator.geolocation.getCurrentPosition(function(e){n.resolve(new t.GeoPoint({latitude:e.coords.latitude,longitude:e.coords.longitude}))},function(e){n.reject(e)}),n._thenRunCallbacks(e)},t.GeoPoint.prototype={toJSON:function(){return t.GeoPoint._validate(this.latitude,this.longitude),{__type:"GeoPoint",latitude:this.latitude,longitude:this.longitude}},radiansTo:function(e){var t=Math.PI/180,n=this.latitude*t,r=this.longitude*t,i=e.latitude*t,o=e.longitude*t,a=n-i,s=r-o,c=Math.sin(a/2),l=Math.sin(s/2),u=c*c+Math.cos(n)*Math.cos(i)*l*l;return u=Math.min(1,u),2*Math.asin(Math.sqrt(u))},kilometersTo:function(e){return 6371*this.radiansTo(e)},milesTo:function(e){return 3958.8*this.radiansTo(e)}}}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._,r="*";t.ACL=function(e){var r=this;if(r.permissionsById={},n.isObject(e))if(e instanceof t.User)r.setReadAccess(e,!0),r.setWriteAccess(e,!0);else{if(n.isFunction(e))throw"Parse.ACL() called with a function.  Did you forget ()?";t._objectEach(e,function(e,i){if(!n.isString(i))throw"Tried to create an ACL with an invalid userId.";r.permissionsById[i]={},t._objectEach(e,function(e,t){if("read"!==t&&"write"!==t)throw"Tried to create an ACL with an invalid permission type.";if(!n.isBoolean(e))throw"Tried to create an ACL with an invalid permission value.";r.permissionsById[i][t]=e})})}},t.ACL.prototype.toJSON=function(){return n.clone(this.permissionsById)},t.ACL.prototype._setAccess=function(e,r,i){if(r instanceof t.User?r=r.id:r instanceof t.Role&&(r="role:"+r.getName()),!n.isString(r))throw"userId must be a string.";if(!n.isBoolean(i))throw"allowed must be either true or false.";var o=this.permissionsById[r];if(!o){if(!i)return;o={},this.permissionsById[r]=o}i?this.permissionsById[r][e]=!0:(delete o[e],n.isEmpty(o)&&delete o[r])},t.ACL.prototype._getAccess=function(e,n){n instanceof t.User?n=n.id:n instanceof t.Role&&(n="role:"+n.getName());var r=this.permissionsById[n];return!!r&&!!r[e]},t.ACL.prototype.setReadAccess=function(e,t){this._setAccess("read",e,t)},t.ACL.prototype.getReadAccess=function(e){return this._getAccess("read",e)},t.ACL.prototype.setWriteAccess=function(e,t){this._setAccess("write",e,t)},t.ACL.prototype.getWriteAccess=function(e){return this._getAccess("write",e)},t.ACL.prototype.setPublicReadAccess=function(e){this.setReadAccess(r,e)},t.ACL.prototype.getPublicReadAccess=function(){return this.getReadAccess(r)},t.ACL.prototype.setPublicWriteAccess=function(e){this.setWriteAccess(r,e)},t.ACL.prototype.getPublicWriteAccess=function(){return this.getWriteAccess(r)},t.ACL.prototype.getRoleReadAccess=function(e){if(e instanceof t.Role&&(e=e.getName()),n.isString(e))return this.getReadAccess("role:"+e);throw"role must be a Parse.Role or a String"},t.ACL.prototype.getRoleWriteAccess=function(e){if(e instanceof t.Role&&(e=e.getName()),n.isString(e))return this.getWriteAccess("role:"+e);throw"role must be a Parse.Role or a String"},t.ACL.prototype.setRoleReadAccess=function(e,r){if(e instanceof t.Role&&(e=e.getName()),n.isString(e))return void this.setReadAccess("role:"+e,r);throw"role must be a Parse.Role or a String"},t.ACL.prototype.setRoleWriteAccess=function(e,r){if(e instanceof t.Role&&(e=e.getName()),n.isString(e))return void this.setWriteAccess("role:"+e,r);throw"role must be a Parse.Role or a String"}}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Op=function(){this._initialize.apply(this,arguments)},t.Op.prototype={_initialize:function(){}},n.extend(t.Op,{_extend:t._extend,_opDecoderMap:{},_registerDecoder:function(e,n){t.Op._opDecoderMap[e]=n},_decode:function(e){var n=t.Op._opDecoderMap[e.__op];return n?n(e):void 0}}),t.Op._registerDecoder("Batch",function(e){var n=null;return t._arrayEach(e.ops,function(e){e=t.Op._decode(e),n=e._mergeWithPrevious(n)}),n}),t.Op.Set=t.Op._extend({_initialize:function(e){this._value=e},value:function(){return this._value},toJSON:function(){return t._encode(this.value())},_mergeWithPrevious:function(e){return this},_estimate:function(e){return this.value()}}),t.Op._UNSET={},t.Op.Unset=t.Op._extend({toJSON:function(){return{__op:"Delete"}},_mergeWithPrevious:function(e){return this},_estimate:function(e){return t.Op._UNSET}}),t.Op._registerDecoder("Delete",function(e){return new t.Op.Unset}),t.Op.Increment=t.Op._extend({_initialize:function(e){this._amount=e},amount:function(){return this._amount},toJSON:function(){return{__op:"Increment",amount:this._amount}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.amount());if(e instanceof t.Op.Set)return new t.Op.Set(e.value()+this.amount());if(e instanceof t.Op.Increment)return new t.Op.Increment(this.amount()+e.amount());throw"Op is invalid after previous op."}return this},_estimate:function(e){return e?e+this.amount():this.amount()}}),t.Op._registerDecoder("Increment",function(e){return new t.Op.Increment(e.amount)}),t.Op.Add=t.Op._extend({_initialize:function(e){this._objects=e},objects:function(){return this._objects},toJSON:function(){return{__op:"Add",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.objects());if(e instanceof t.Op.Set)return new t.Op.Set(this._estimate(e.value()));if(e instanceof t.Op.Add)return new t.Op.Add(e.objects().concat(this.objects()));throw"Op is invalid after previous op."}return this},_estimate:function(e){return e?e.concat(this.objects()):n.clone(this.objects())}}),t.Op._registerDecoder("Add",function(e){return new t.Op.Add(t._decode(void 0,e.objects))}),t.Op.AddUnique=t.Op._extend({_initialize:function(e){this._objects=n.uniq(e)},objects:function(){return this._objects},toJSON:function(){return{__op:"AddUnique",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.objects());if(e instanceof t.Op.Set)return new t.Op.Set(this._estimate(e.value()));if(e instanceof t.Op.AddUnique)return new t.Op.AddUnique(this._estimate(e.objects()));throw"Op is invalid after previous op."}return this},_estimate:function(e){if(e){var r=n.clone(e);return t._arrayEach(this.objects(),function(e){if(e instanceof t.Object&&e.id){var i=n.find(r,function(n){return n instanceof t.Object&&n.id===e.id});if(i){var o=n.indexOf(r,i);r[o]=e}else r.push(e)}else n.contains(r,e)||r.push(e)}),r}return n.clone(this.objects())}}),t.Op._registerDecoder("AddUnique",function(e){return new t.Op.AddUnique(t._decode(void 0,e.objects))}),t.Op.Remove=t.Op._extend({_initialize:function(e){this._objects=n.uniq(e)},objects:function(){return this._objects},toJSON:function(){return{__op:"Remove",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return e;if(e instanceof t.Op.Set)return new t.Op.Set(this._estimate(e.value()));if(e instanceof t.Op.Remove)return new t.Op.Remove(n.union(e.objects(),this.objects()));throw"Op is invalid after previous op."}return this},_estimate:function(e){if(e){var r=n.difference(e,this.objects());return t._arrayEach(this.objects(),function(e){e instanceof t.Object&&e.id&&(r=n.reject(r,function(n){return n instanceof t.Object&&n.id===e.id}))}),r}return[]}}),t.Op._registerDecoder("Remove",function(e){return new t.Op.Remove(t._decode(void 0,e.objects))}),t.Op.Relation=t.Op._extend({_initialize:function(e,r){this._targetClassName=null;var i=this,o=function(e){if(e instanceof t.Object){if(!e.id)throw"You can't add an unsaved Parse.Object to a relation.";if(i._targetClassName||(i._targetClassName=e.className),i._targetClassName!==e.className)throw"Tried to create a Parse.Relation with 2 different types: "+i._targetClassName+" and "+e.className+".";return e.id}return e};this.relationsToAdd=n.uniq(n.map(e,o)),this.relationsToRemove=n.uniq(n.map(r,o))},added:function(){var e=this;return n.map(this.relationsToAdd,function(n){var r=t.Object._create(e._targetClassName);return r.id=n,r})},removed:function(){var e=this;return n.map(this.relationsToRemove,function(n){var r=t.Object._create(e._targetClassName);return r.id=n,r})},toJSON:function(){var e=null,t=null,r=this,i=function(e){return{__type:"Pointer",className:r._targetClassName,objectId:e}},o=null;return this.relationsToAdd.length>0&&(o=n.map(this.relationsToAdd,i),e={__op:"AddRelation",objects:o}),this.relationsToRemove.length>0&&(o=n.map(this.relationsToRemove,i),t={__op:"RemoveRelation",objects:o}),e&&t?{__op:"Batch",ops:[e,t]}:e||t||{}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)throw"You can't modify a relation after deleting it.";if(e instanceof t.Op.Relation){if(e._targetClassName&&e._targetClassName!==this._targetClassName)throw"Related object must be of class "+e._targetClassName+", but "+this._targetClassName+" was passed in.";var r=n.union(n.difference(e.relationsToAdd,this.relationsToRemove),this.relationsToAdd),i=n.union(n.difference(e.relationsToRemove,this.relationsToAdd),this.relationsToRemove),o=new t.Op.Relation(r,i);return o._targetClassName=this._targetClassName,o}throw"Op is invalid after previous op."}return this},_estimate:function(e,n,r){if(e){if(e instanceof t.Relation){if(this._targetClassName)if(e.targetClassName){if(e.targetClassName!==this._targetClassName)throw"Related object must be a "+e.targetClassName+", but a "+this._targetClassName+" was passed in."}else e.targetClassName=this._targetClassName;return e}throw"Op is invalid after previous op."}var i=new t.Relation(n,r);i.targetClassName=this._targetClassName}}),t.Op._registerDecoder("AddRelation",function(e){return new t.Op.Relation(t._decode(void 0,e.objects),[])}),t.Op._registerDecoder("RemoveRelation",function(e){return new t.Op.Relation([],t._decode(void 0,e.objects))})}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Relation=function(e,t){this.parent=e,this.key=t,this.targetClassName=null},t.Relation.prototype={_ensureParentAndKey:function(e,t){if(this.parent=this.parent||e,this.key=this.key||t,this.parent!==e)throw"Internal Error. Relation retrieved from two different Objects.";if(this.key!==t)throw"Internal Error. Relation retrieved from two different keys."},add:function(e){n.isArray(e)||(e=[e]);var r=new t.Op.Relation(e,[]);this.parent.set(this.key,r),this.targetClassName=r._targetClassName},remove:function(e){n.isArray(e)||(e=[e]);var r=new t.Op.Relation([],e);this.parent.set(this.key,r),this.targetClassName=r._targetClassName},toJSON:function(){return{__type:"Relation",className:this.targetClassName}},query:function(){var e,n;return this.targetClassName?(e=t.Object._getSubclass(this.targetClassName),n=new t.Query(e)):(e=t.Object._getSubclass(this.parent.className),n=new t.Query(e),n._extraOptions.redirectClassNameForKey=this.key),n._addCondition("$relatedTo","object",this.parent._toPointer()),n._addCondition("$relatedTo","key",this.key),n}}}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Promise=function(){this._resolved=!1,this._rejected=!1,this._resolvedCallbacks=[],this._rejectedCallbacks=[]},n.extend(t.Promise,{_isPromisesAPlusCompliant:!1,is:function(e){return e&&e.then&&n.isFunction(e.then)},as:function(){var e=new t.Promise;
return e.resolve.apply(e,arguments),e},error:function(){var e=new t.Promise;return e.reject.apply(e,arguments),e},when:function(e){var n;n=e&&t._isNullOrUndefined(e.length)?arguments:e;var r=n.length,i=!1,o=[],a=[];if(o.length=n.length,a.length=n.length,0===r)return t.Promise.as.apply(this,o);var s=new t.Promise,c=function(){r-=1,0===r&&(i?s.reject(a):s.resolve.apply(s,o))};return t._arrayEach(n,function(e,n){t.Promise.is(e)?e.then(function(e){o[n]=e,c()},function(e){a[n]=e,i=!0,c()}):(o[n]=e,c())}),s},_continueWhile:function(e,n){return e()?n().then(function(){return t.Promise._continueWhile(e,n)}):t.Promise.as()}}),n.extend(t.Promise.prototype,{resolve:function(e){if(this._resolved||this._rejected)throw"A promise was resolved even though it had already been "+(this._resolved?"resolved":"rejected")+".";this._resolved=!0,this._result=arguments;var n=arguments;t._arrayEach(this._resolvedCallbacks,function(e){e.apply(this,n)}),this._resolvedCallbacks=[],this._rejectedCallbacks=[]},reject:function(e){if(this._resolved||this._rejected)throw"A promise was rejected even though it had already been "+(this._resolved?"resolved":"rejected")+".";this._rejected=!0,this._error=e,t._arrayEach(this._rejectedCallbacks,function(t){t(e)}),this._resolvedCallbacks=[],this._rejectedCallbacks=[]},then:function(e,n){var r=new t.Promise,i=function(){var n=arguments;if(e)if(t.Promise._isPromisesAPlusCompliant)try{n=[e.apply(this,n)]}catch(i){n=[t.Promise.error(i)]}else n=[e.apply(this,n)];1===n.length&&t.Promise.is(n[0])?n[0].then(function(){r.resolve.apply(r,arguments)},function(e){r.reject(e)}):r.resolve.apply(r,n)},o=function(e){var i=[];if(n){if(t.Promise._isPromisesAPlusCompliant)try{i=[n(e)]}catch(o){i=[t.Promise.error(o)]}else i=[n(e)];1===i.length&&t.Promise.is(i[0])?i[0].then(function(){r.resolve.apply(r,arguments)},function(e){r.reject(e)}):t.Promise._isPromisesAPlusCompliant?r.resolve.apply(r,i):r.reject(i[0])}else r.reject(e)},a=function(e){e.call()};t.Promise._isPromisesAPlusCompliant&&("undefined"!=typeof window&&window.setTimeout?a=function(e){window.setTimeout(e,0)}:"undefined"!=typeof process&&process.nextTick&&(a=function(e){process.nextTick(e)}));var s=this;return this._resolved?a(function(){i.apply(s,s._result)}):this._rejected?a(function(){o(s._error)}):(this._resolvedCallbacks.push(i),this._rejectedCallbacks.push(o)),r},always:function(e){return this.then(e,e)},done:function(e){return this.then(e)},fail:function(e){return this.then(null,e)},_thenRunCallbacks:function(e,r){var i;if(n.isFunction(e)){var o=e;i={success:function(e){o(e,null)},error:function(e){o(null,e)}}}else i=n.clone(e);return i=i||{},this.then(function(e){return i.success?i.success.apply(this,arguments):r&&r.trigger("sync",r,e,i),t.Promise.as.apply(t.Promise,arguments)},function(e){return i.error?n.isUndefined(r)?i.error(e):i.error(r,e):r&&r.trigger("error",r,e,i),t.Promise.error(e)})},_continueWith:function(e){return this.then(function(){return e(arguments,null)},function(t){return e(null,t)})}})}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._,r=function(e){if(e<26)return String.fromCharCode(65+e);if(e<52)return String.fromCharCode(97+(e-26));if(e<62)return String.fromCharCode(48+(e-52));if(62===e)return"+";if(63===e)return"/";throw"Tried to encode large digit "+e+" in base64."},i=function(e){var t=[];return t.length=Math.ceil(e.length/3),n.times(t.length,function(n){var i=e[3*n],o=e[3*n+1]||0,a=e[3*n+2]||0,s=3*n+1<e.length,c=3*n+2<e.length;t[n]=[r(i>>2&63),r(i<<4&48|o>>4&15),s?r(o<<2&60|a>>6&3):"=",c?r(63&a):"="].join("")}),t.join("")},o=function(e,n){var r=new t.Promise;if("undefined"==typeof FileReader)return t.Promise.error(new t.Error(t.Error.FILE_READ_ERROR,"Attempted to use a FileReader on an unsupported browser."));var i=new FileReader;return i.onloadend=function(){if(2!==i.readyState)return void r.reject(new t.Error(t.Error.FILE_READ_ERROR,"Error reading file."));var e=i.result,o=/^data:([^;]*);base64,(.*)$/.exec(e);return o?void r.resolve(o[2],n||o[1]):void r.reject(new t.Error(t.Error.FILE_READ_ERROR,"Unable to interpret data URL: "+e))},i.readAsDataURL(e),r};t.File=function(e,r,a){this._name=e;var s=/\.([^.]*)$/.exec(e);s&&(s=s[1].toLowerCase());var c=a||"";if(n.isArray(r))this._source=t.Promise.as(i(r),c);else if(r&&r.base64){var l=/^data:([a-zA-Z]*\/[a-zA-Z+.-]*);(charset=[a-zA-Z0-9\-\/\s]*,)?base64,(\S+)/,u=l.exec(r.base64);u&&u.length>0?this._source=t.Promise.as(4===u.length?u[3]:u[2],u[1]):this._source=t.Promise.as(r.base64,c)}else if("undefined"!=typeof File&&r instanceof File)this._source=o(r,a);else if(n.isString(r))throw"Creating a Parse.File from a String is not yet supported."},t.File.prototype={name:function(){return this._name},url:function(){return this._url},save:function(e){e=e||{};var n=this;return n._previousSave||(n._previousSave=n._source.then(function(r,i){var o={base64:r,_ContentType:i};return t._request({route:"files",className:n._name,method:"POST",data:o,useMasterKey:e.useMasterKey})}).then(function(e){return n._name=e.name,n._url=e.url,n})),n._previousSave._thenRunCallbacks(e)}}}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Object=function(e,r){if(n.isString(e))return t.Object._create.apply(this,arguments);e=e||{},r&&r.parse&&(e=this.parse(e));var i=t._getValue(this,"defaults");if(i&&(e=n.extend({},i,e)),r&&r.collection&&(this.collection=r.collection),this._serverData={},this._opSetQueue=[{}],this.attributes={},this._hashedJSON={},this._escapedAttributes={},this.cid=n.uniqueId("c"),this.changed={},this._silent={},this._pending={},!this.set(e,{silent:!0}))throw new Error("Can't create an invalid Parse.Object");this.changed={},this._silent={},this._pending={},this._hasData=!0,this._previousAttributes=n.clone(this.attributes),this.initialize.apply(this,arguments)},t.Object.saveAll=function(e,n){return n=n||{},t.Object._deepSaveAsync(e,{useMasterKey:n.useMasterKey,sessionToken:n.sessionToken})._thenRunCallbacks(n)},t.Object.destroyAll=function(e,r){r=r||{};var i=function(e){e.trigger("destroy",e,e.collection,r)},o=[],a=function(e){var a=t.Promise.as();return e.length>0&&(a=a.then(function(){return t._request({route:"batch",method:"POST",useMasterKey:r.useMasterKey,sessionToken:r.sessionToken,data:{requests:n.map(e,function(e){return{method:"DELETE",path:"/1/classes/"+e.className+"/"+e.id}})}})}).then(function(n,a,s){t._arrayEach(e,function(e,a){if(n[a].success&&r.wait)i(e);else if(n[a].error){var s=new t.Error(n[a].error.code,n[a].error.error);s.object=e,o.push(s)}})})),a},s=t.Promise.as(),c=[];return t._arrayEach(e,function(t,n){if(t.id&&r.wait||i(t),t.id&&c.push(t),20===c.length||n+1===e.length){var o=c;c=[],s=s.then(function(){return a(o)})}}),s.then(function(){if(0===o.length)return!0;var e=new t.Error(t.Error.AGGREGATE_ERROR,"Error deleting an object in destroyAll");return e.errors=o,t.Promise.error(e)})._thenRunCallbacks(r)},t.Object.fetchAll=function(e,n){return t.Object._fetchAll(e,!0)._thenRunCallbacks(n)},t.Object.fetchAllIfNeeded=function(e,n){return t.Object._fetchAll(e,!1)._thenRunCallbacks(n)},n.extend(t.Object.prototype,t.Events,{_existed:!1,initialize:function(){},toJSON:function(){var e=this._toFullJSON();return t._arrayEach(["__type","className"],function(t){delete e[t]}),e},_toFullJSON:function(e){var r=n.clone(this.attributes);return t._objectEach(r,function(n,i){r[i]=t._encode(n,e)}),t._objectEach(this._operations,function(e,t){r[t]=e}),n.has(this,"id")&&(r.objectId=this.id),n.has(this,"createdAt")&&(n.isDate(this.createdAt)?r.createdAt=this.createdAt.toJSON():r.createdAt=this.createdAt),n.has(this,"updatedAt")&&(n.isDate(this.updatedAt)?r.updatedAt=this.updatedAt.toJSON():r.updatedAt=this.updatedAt),r.__type="Object",r.className=this.className,r},_refreshCache:function(){var e=this;e._refreshingCache||(e._refreshingCache=!0,t._objectEach(this.attributes,function(r,i){if(r instanceof t.Object)r._refreshCache();else if(n.isObject(r)){var o=!1;n.isArray(r)&&n.each(r,function(e){e instanceof t.Object&&(o=!0,e._refreshCache())}),!o&&e._resetCacheForKey(i)&&e.set(i,new t.Op.Set(r),{silent:!0})}}),delete e._refreshingCache)},dirty:function(e){this._refreshCache();var t=n.last(this._opSetQueue);return e?!!t[e]:!this.id||n.keys(t).length>0},dirtyKeys:function(){return n.keys(n.last(this._opSetQueue))},_toPointer:function(){if(!this.id)throw new Error("Can't serialize an unsaved Parse.Object");return{__type:"Pointer",className:this.className,objectId:this.id}},get:function(e){return this.attributes[e]},relation:function(e){var n=this.get(e);if(n){if(!(n instanceof t.Relation))throw"Called relation() on non-relation field "+e;return n._ensureParentAndKey(this,e),n}return new t.Relation(this,e)},escape:function(e){var r=this._escapedAttributes[e];if(r)return r;var i,o=this.attributes[e];return i=t._isNullOrUndefined(o)?"":n.escape(o.toString()),this._escapedAttributes[e]=i,i},has:function(e){return!t._isNullOrUndefined(this.attributes[e])},_mergeMagicFields:function(e){var r=this,i=["id","objectId","createdAt","updatedAt"];t._arrayEach(i,function(i){e[i]&&("objectId"===i?r.id=e[i]:"createdAt"!==i&&"updatedAt"!==i||n.isDate(e[i])?r[i]=e[i]:r[i]=t._parseDate(e[i]),delete e[i])})},_copyServerData:function(e){var n={};t._objectEach(e,function(e,r){n[r]=t._decode(r,e)}),this._serverData=n,this._rebuildAllEstimatedData(),this._refreshCache(),this._opSetQueue=[{}],this._rebuildAllEstimatedData()},_mergeFromObject:function(e){e&&(this.id=e.id,this.createdAt=e.createdAt,this.updatedAt=e.updatedAt,this._copyServerData(e._serverData),this._hasData=!0)},_startSave:function(){this._opSetQueue.push({})},_cancelSave:function(){var e=n.first(this._opSetQueue);this._opSetQueue=n.rest(this._opSetQueue);var r=n.first(this._opSetQueue);t._objectEach(e,function(t,n){var i=e[n],o=r[n];i&&o?r[n]=o._mergeWithPrevious(i):i&&(r[n]=i)}),this._saving=this._saving-1},_finishSave:function(e){var r={};t._traverse(this.attributes,function(e){e instanceof t.Object&&e.id&&e._hasData&&(r[e.id]=e)});var i=n.first(this._opSetQueue);this._opSetQueue=n.rest(this._opSetQueue),this._applyOpSet(i,this._serverData),this._mergeMagicFields(e);var o=this;t._objectEach(e,function(e,n){o._serverData[n]=t._decode(n,e);var i=t._traverse(o._serverData[n],function(e){if(e instanceof t.Object&&r[e.id])return r[e.id]});i&&(o._serverData[n]=i)}),this._rebuildAllEstimatedData(),this._saving=this._saving-1},_finishFetch:function(e,t){this._opSetQueue=[{}],this._mergeMagicFields(e),this._copyServerData(e),this._hasData=t},_applyOpSet:function(e,n){var r=this;t._objectEach(e,function(e,i){n[i]=e._estimate(n[i],r,i),n[i]===t.Op._UNSET&&delete n[i]})},_resetCacheForKey:function(e){var r=this.attributes[e];if(n.isObject(r)&&!(r instanceof t.Object)&&!(r instanceof t.File)){r=r.toJSON?r.toJSON():r;var i=JSON.stringify(r);if(this._hashedJSON[e]!==i){var o=!!this._hashedJSON[e];return this._hashedJSON[e]=i,o}}return!1},_rebuildEstimatedDataForKey:function(e){var n=this;delete this.attributes[e],this._serverData[e]&&(this.attributes[e]=this._serverData[e]),t._arrayEach(this._opSetQueue,function(r){var i=r[e];i&&(n.attributes[e]=i._estimate(n.attributes[e],n,e),n.attributes[e]===t.Op._UNSET?delete n.attributes[e]:n._resetCacheForKey(e))})},_rebuildAllEstimatedData:function(){var e=this,r=n.clone(this.attributes);this.attributes=n.clone(this._serverData),t._arrayEach(this._opSetQueue,function(n){e._applyOpSet(n,e.attributes),t._objectEach(n,function(t,n){e._resetCacheForKey(n)})}),t._objectEach(r,function(t,n){e.attributes[n]!==t&&e.trigger("change:"+n,e,e.attributes[n],{})}),t._objectEach(this.attributes,function(t,i){n.has(r,i)||e.trigger("change:"+i,e,t,{})})},set:function(e,r,i){var o;if(n.isObject(e)||t._isNullOrUndefined(e)?(o=e,t._objectEach(o,function(e,n){o[n]=t._decode(n,e)}),i=r):(o={},o[e]=t._decode(e,r)),i=i||{},!o)return this;o instanceof t.Object&&(o=o.attributes);var a=this;t._objectEach(o,function(e,t){if(a.constructor.readOnlyAttributes&&a.constructor.readOnlyAttributes[t])throw new Error("Cannot modify readonly key: "+t)}),i.unset&&t._objectEach(o,function(e,n){o[n]=new t.Op.Unset});var s=n.clone(o);if(t._objectEach(s,function(e,n){e instanceof t.Op&&(s[n]=e._estimate(a.attributes[n],a,n),s[n]===t.Op._UNSET&&delete s[n])}),!this._validate(o,i))return!1;this._mergeMagicFields(o),i.changes={};var c=this._escapedAttributes;this._previousAttributes||{};return t._arrayEach(n.keys(o),function(e){var r=o[e];r instanceof t.Relation&&(r.parent=a),r instanceof t.Op||(r=new t.Op.Set(r));var s=!0;r instanceof t.Op.Set&&n.isEqual(a.attributes[e],r.value)&&(s=!1),s&&(delete c[e],i.silent?a._silent[e]=!0:i.changes[e]=!0);var l=n.last(a._opSetQueue);l[e]=r._mergeWithPrevious(l[e]),a._rebuildEstimatedDataForKey(e),s?(a.changed[e]=a.attributes[e],i.silent||(a._pending[e]=!0)):(delete a.changed[e],delete a._pending[e])}),i.silent||this.change(i),this},unset:function(e,t){return t=t||{},t.unset=!0,this.set(e,null,t)},increment:function(e,r){return(n.isUndefined(r)||n.isNull(r))&&(r=1),this.set(e,new t.Op.Increment(r))},add:function(e,n){return this.set(e,new t.Op.Add([n]))},addUnique:function(e,n){return this.set(e,new t.Op.AddUnique([n]))},remove:function(e,n){return this.set(e,new t.Op.Remove([n]))},op:function(e){return n.last(this._opSetQueue)[e]},clear:function(e){e=e||{},e.unset=!0;var t=n.extend(this.attributes,this._operations);return this.set(t,e)},_getSaveJSON:function(){var e=n.clone(n.first(this._opSetQueue));return t._objectEach(e,function(t,n){e[n]=t.toJSON()}),e},_canBeSerialized:function(){return t.Object._canBeSerializedAsValue(this.attributes)},fetch:function(e){var n=this;e=e||{};var r=t._request({method:"GET",route:"classes",className:this.className,objectId:this.id,useMasterKey:e.useMasterKey,sessionToken:e.sessionToken});return r.then(function(e,t,r){return n._finishFetch(n.parse(e,t,r),!0),n})._thenRunCallbacks(e,this)},save:function(e,r,i){var o,a,s;if(n.isObject(e)||t._isNullOrUndefined(e)?(o=e,s=r):(o={},o[e]=r,s=i),!s&&o){var c=n.reject(o,function(e,t){return n.include(["success","error","wait"],t)});if(0===c.length){var l=!0;if(n.has(o,"success")&&!n.isFunction(o.success)&&(l=!1),n.has(o,"error")&&!n.isFunction(o.error)&&(l=!1),l)return this.save(null,o)}}s=n.clone(s)||{},s.wait&&(a=n.clone(this.attributes));var u=n.clone(s)||{};u.wait&&(u.silent=!0);var h;if(u.error=function(e,t){h=t},o&&!this.set(o,u))return t.Promise.error(h)._thenRunCallbacks(s,this);var d=this;d._refreshCache();var f=[],p=[];return t.Object._findUnsavedChildren(d.attributes,f,p),f.length+p.length>0?t.Object._deepSaveAsync(this.attributes,{useMasterKey:s.useMasterKey,sessionToken:s.sessionToken}).then(function(){return d.save(null,s)},function(e){return t.Promise.error(e)._thenRunCallbacks(s,d)}):(this._startSave(),this._saving=(this._saving||0)+1,this._allPreviousSaves=this._allPreviousSaves||t.Promise.as(),this._allPreviousSaves=this._allPreviousSaves._continueWith(function(){var e=d.id?"PUT":"POST",r=d._getSaveJSON(),i="classes",c=d.className;"_User"!==d.className||d.id||(i="users",c=null);var l=t._request({route:i,className:c,objectId:d.id,method:e,useMasterKey:s.useMasterKey,sessionToken:s.sessionToken,data:r});return l=l.then(function(e,t,r){var i=d.parse(e,t,r);return s.wait&&(i=n.extend(o||{},i)),d._finishSave(i),s.wait&&d.set(a,u),d},function(e){return d._cancelSave(),t.Promise.error(e)})._thenRunCallbacks(s,d)}),this._allPreviousSaves)},destroy:function(e){e=e||{};var n=this,r=function(){n.trigger("destroy",n,n.collection,e)};if(!this.id)return r();e.wait||r();var i=t._request({route:"classes",className:this.className,objectId:this.id,method:"DELETE",useMasterKey:e.useMasterKey,sessionToken:e.sessionToken});return i.then(function(){return e.wait&&r(),n})._thenRunCallbacks(e,this)},parse:function(e,r,i){var o=n.clone(e);return n(["createdAt","updatedAt"]).each(function(e){o[e]&&(o[e]=t._parseDate(o[e]))}),o.updatedAt||(o.updatedAt=o.createdAt),r&&(this._existed=201!==r),o},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.id},change:function(e){e=e||{};var r=this._changing;this._changing=!0;var i=this;t._objectEach(this._silent,function(e){i._pending[e]=!0});var o=n.extend({},e.changes,this._silent);if(this._silent={},t._objectEach(o,function(t,n){i.trigger("change:"+n,i,i.get(n),e)}),r)return this;for(var a=function(e,t){i._pending[t]||i._silent[t]||delete i.changed[t]};!n.isEmpty(this._pending);)this._pending={},this.trigger("change",this,e),t._objectEach(this.changed,a),i._previousAttributes=n.clone(this.attributes);return this._changing=!1,this},existed:function(){return this._existed},hasChanged:function(e){return arguments.length?this.changed&&n.has(this.changed,e):!n.isEmpty(this.changed)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var r={},i=this._previousAttributes;return t._objectEach(e,function(e,t){n.isEqual(i[t],e)||(r[t]=e)}),r},previous:function(e){return arguments.length&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},validate:function(e,r){if(n.has(e,"ACL")&&!(e.ACL instanceof t.ACL))return new t.Error(t.Error.OTHER_CAUSE,"ACL must be a Parse.ACL.");var i=!0;return t._objectEach(e,function(e,t){/^[A-Za-z][0-9A-Za-z_]*$/.test(t)||(i=!1)}),!i&&new t.Error(t.Error.INVALID_KEY_NAME)},_validate:function(e,t){if(t.silent||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validate(e,t);return!r||(t&&t.error?t.error(this,r,t):this.trigger("error",this,r,t),!1)},getACL:function(){return this.get("ACL")},setACL:function(e,t){return this.set("ACL",e,t)}}),t.Object._getSubclass=function(e){if(!n.isString(e))throw"Parse.Object._getSubclass requires a string argument.";var r=t.Object._classMap[e];return r||(r=t.Object.extend(e),t.Object._classMap[e]=r),r},t.Object._create=function(e,n,r){var i=t.Object._getSubclass(e);return new i(n,r)},t.Object._toObjectIdArray=function(e,n){if(0===e.length)return t.Promise.as(e);for(var r,i=e[0].className,o=[],a=0;a<e.length;a++){var s=e[a];if(i!==s.className)return r=new t.Error(t.Error.INVALID_CLASS_NAME,"All objects should be of the same class"),t.Promise.error(r);if(!s.id)return r=new t.Error(t.Error.MISSING_OBJECT_ID,"All objects must have an ID"),t.Promise.error(r);n&&s._hasData||o.push(s.id)}return t.Promise.as(o)},t.Object._updateWithFetchedResults=function(e,n,r){var i={};t._arrayEach(n,function(e,t){i[e.id]=e});for(var o=0;o<e.length;o++){var a=e[o],s=i[a.id];if(!s&&r){var c=new t.Error(t.Error.OBJECT_NOT_FOUND,"All objects must exist on the server");return t.Promise.error(c)}a._mergeFromObject(s)}return t.Promise.as(e)},t.Object._fetchAll=function(e,n){if(0===e.length)return t.Promise.as(e);var r=!n;return t.Object._toObjectIdArray(e,r).then(function(n){var r=e[0].className,i=new t.Query(r);return i.containedIn("objectId",n),i.limit=n.length,i.find()}).then(function(r){return t.Object._updateWithFetchedResults(e,r,n)})},t.Object._classMap={},t.Object._extend=t._extend,t.Object.extend=function(e,r,i){if(!n.isString(e)){if(e&&n.has(e,"className"))return t.Object.extend(e.className,e,r);throw new Error("Parse.Object.extend's first argument should be the className.")}"User"===e&&t.User._performUserRewrite&&(e="_User"),r=r||{},r.className=e;var o=null;if(n.has(t.Object._classMap,e)){var a=t.Object._classMap[e];o=a._extend(r,i)}else o=this._extend(r,i);return o.extend=function(r){if(n.isString(r)||r&&n.has(r,"className"))return t.Object.extend.apply(o,arguments);var i=[e].concat(t._.toArray(arguments));return t.Object.extend.apply(o,i)},o.createWithoutData=function(e){var t=new o;return t.id=e,t},t.Object._classMap[e]=o,o},t.Object._findUnsavedChildren=function(e,n,r){t._traverse(e,function(e){return e instanceof t.Object?(e._refreshCache(),void(e.dirty()&&n.push(e))):e instanceof t.File?void(e.url()||r.push(e)):void 0})},t.Object._canBeSerializedAsValue=function(e){if(e instanceof t.Object)return!!e.id;if(e instanceof t.File)return!0;var r=!0;return n.isArray(e)?t._arrayEach(e,function(e){t.Object._canBeSerializedAsValue(e)||(r=!1)}):n.isObject(e)&&t._objectEach(e,function(e){t.Object._canBeSerializedAsValue(e)||(r=!1)}),r},t.Object._deepSaveAsync=function(e,r){var i=[],o=[];t.Object._findUnsavedChildren(e,i,o);var a=t.Promise.as();n.each(o,function(e){a=a.then(function(){return e.save(r)})});var s=n.uniq(i),c=n.uniq(s);return a.then(function(){return t.Promise._continueWhile(function(){return c.length>0},function(){var e=[],i=[];if(t._arrayEach(c,function(t){return e.length>20?void i.push(t):void(t._canBeSerialized()?e.push(t):i.push(t))}),c=i,0===e.length)return t.Promise.error(new t.Error(t.Error.OTHER_CAUSE,"Tried to save a batch with a cycle."));var o=t.Promise.when(n.map(e,function(e){return e._allPreviousSaves||t.Promise.as()})),a=new t.Promise;return t._arrayEach(e,function(e){e._allPreviousSaves=a}),o._continueWith(function(){return t._request({route:"batch",method:"POST",useMasterKey:r.useMasterKey,sessionToken:r.sessionToken,data:{requests:n.map(e,function(e){var t=e._getSaveJSON(),n="POST",r="/1/classes/"+e.className;return e.id&&(r=r+"/"+e.id,n="PUT"),e._startSave(),{method:n,path:r,body:t}})}}).then(function(n,r,i){var o;if(t._arrayEach(e,function(e,t){n[t].success?e._finishSave(e.parse(n[t].success,r,i)):(o=o||n[t].error,e._cancelSave())}),o)return t.Promise.error(new t.Error(o.code,o.error))}).then(function(e){return a.resolve(e),e},function(e){return a.reject(e),t.Promise.error(e)})})})}).then(function(){return e})}}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Role=t.Object.extend("_Role",{constructor:function(e,r){n.isString(e)&&r instanceof t.ACL?(t.Object.prototype.constructor.call(this,null,null),this.setName(e),this.setACL(r)):t.Object.prototype.constructor.call(this,e,r)},getName:function(){return this.get("name")},setName:function(e,t){return this.set("name",e,t)},getUsers:function(){return this.relation("users")},getRoles:function(){return this.relation("roles")},validate:function(e,r){if("name"in e&&e.name!==this.getName()){var i=e.name;if(this.id&&this.id!==e.objectId)return new t.Error(t.Error.OTHER_CAUSE,"A role's name can only be set before it has been saved.");if(!n.isString(i))return new t.Error(t.Error.OTHER_CAUSE,"A role's name must be a String.");if(!/^[0-9a-zA-Z\-_ ]+$/.test(i))return new t.Error(t.Error.OTHER_CAUSE,"A role's name can only contain alphanumeric characters, _, -, and spaces.")}return!!t.Object.prototype.validate&&t.Object.prototype.validate.call(this,e,r)}})}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Collection=function(e,t){t=t||{},t.comparator&&(this.comparator=t.comparator),t.model&&(this.model=t.model),t.query&&(this.query=t.query),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,{silent:!0,parse:t.parse})},n.extend(t.Collection.prototype,t.Events,{model:t.Object,initialize:function(){},toJSON:function(){return this.map(function(e){return e.toJSON()})},add:function(e,r){var i,o,a,s,c,l,u={},h={};for(r=r||{},e=n.isArray(e)?e.slice():[e],i=0,a=e.length;i<a;i++){if(e[i]=this._prepareModel(e[i],r),s=e[i],!s)throw new Error("Can't add an invalid model to a collection");if(c=s.cid,u[c]||this._byCid[c])throw new Error("Duplicate cid: can't add the same model to a collection twice");if(l=s.id,!t._isNullOrUndefined(l)&&(h[l]||this._byId[l]))throw new Error("Duplicate id: can't add the same model to a collection twice");h[l]=s,u[c]=s}for(i=0;i<a;i++)(s=e[i]).on("all",this._onModelEvent,this),this._byCid[s.cid]=s,s.id&&(this._byId[s.id]=s);if(this.length+=a,o=t._isNullOrUndefined(r.at)?this.models.length:r.at,this.models.splice.apply(this.models,[o,0].concat(e)),this.comparator&&this.sort({silent:!0}),r.silent)return this;for(i=0,a=this.models.length;i<a;i++)s=this.models[i],u[s.cid]&&(r.index=i,s.trigger("add",s,this,r));return this},remove:function(e,t){var r,i,o,a;for(t=t||{},e=n.isArray(e)?e.slice():[e],r=0,i=e.length;r<i;r++)a=this.getByCid(e[r])||this.get(e[r]),a&&(delete this._byId[a.id],delete this._byCid[a.cid],o=this.indexOf(a),this.models.splice(o,1),this.length--,t.silent||(t.index=o,a.trigger("remove",a,this,t)),this._removeReference(a));return this},get:function(e){return e&&this._byId[e.id||e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},sort:function(e){if(e=e||{},!this.comparator)throw new Error("Cannot sort a set without a comparator");var t=n.bind(this.comparator,this);return 1===this.comparator.length?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("reset",this,e),this},pluck:function(e){return n.map(this.models,function(t){return t.get(e)})},reset:function(e,n){var r=this;return e=e||[],n=n||{},t._arrayEach(this.models,function(e){r._removeReference(e)}),this._reset(),this.add(e,{silent:!0,parse:n.parse}),n.silent||this.trigger("reset",this,n),this},fetch:function(e){e=n.clone(e)||{},void 0===e.parse&&(e.parse=!0);var r=this,i=this.query||new t.Query(this.model);return i.find({useMasterKey:e.useMasterKey,sessionToken:e.sessionToken}).then(function(t){return e.add?r.add(t,e):r.reset(t,e),r})._thenRunCallbacks(e,this)},create:function(e,t){var r=this;if(t=t?n.clone(t):{},e=this._prepareModel(e,t),!e)return!1;t.wait||r.add(e,t);var i=t.success;return t.success=function(n,o,a){t.wait&&r.add(n,t),i?i(n,o):n.trigger("sync",e,o,t)},e.save(null,t),e},parse:function(e,t){return e},chain:function(){return n(this.models).chain()},_reset:function(e){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,n){if(e instanceof t.Object)e.collection||(e.collection=this);else{var r=e;n.collection=this,e=new this.model(r,n),e._validate(e.attributes,n)||(e=!1)}return e},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,r),t&&"change:objectId"===e&&(delete this._byId[t.previous("objectId")],this._byId[t.id]=t),this.trigger.apply(this,arguments))}});var r=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];t._arrayEach(r,function(e){t.Collection.prototype[e]=function(){return n[e].apply(n,[this.models].concat(n.toArray(arguments)))}}),t.Collection.extend=t._extend}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.View=function(e){this.cid=n.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()};var r=/^(\S+)\s*(.*)$/,i=["model","collection","el","id","attributes","className","tagName"];n.extend(t.View.prototype,t.Events,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(e,n,r){var i=document.createElement(e);return n&&t.$(i).attr(n),r&&t.$(i).html(r),i},setElement:function(e,n){return this.$el=t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(e=e||t._getValue(this,"events")){this.undelegateEvents();var i=this;t._objectEach(e,function(t,o){if(n.isFunction(t)||(t=i[e[o]]),!t)throw new Error('Event "'+e[o]+'" does not exist');var a=o.match(r),s=a[1],c=a[2];t=n.bind(t,i),s+=".delegateEvents"+i.cid,""===c?i.$el.bind(s,t):i.$el.delegate(c,s,t)})}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=n.extend({},this.options,e));var t=this;n.each(i,function(n){e[n]&&(t[n]=e[n])}),this.options=e},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var e=t._getValue(this,"attributes")||{};this.id&&(e.id=this.id),this.className&&(e["class"]=this.className),this.setElement(this.make(this.tagName,e),!1)}}}),t.View.extend=t._extend}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.User=t.Object.extend("_User",{_isCurrentUser:!1,_mergeFromObject:function(e){e.getSessionToken()&&(this._sessionToken=e.getSessionToken()),t.User.__super__._mergeFromObject.call(this,e)},_mergeMagicFields:function(e){e.sessionToken&&(this._sessionToken=e.sessionToken,delete e.sessionToken),t.User.__super__._mergeMagicFields.call(this,e)},_cleanupAuthData:function(){if(this.isCurrent()){var e=this.get("authData");e&&t._objectEach(this.get("authData"),function(t,n){e[n]||delete e[n]})}},_synchronizeAllAuthData:function(){var e=this.get("authData");if(e){var n=this;t._objectEach(this.get("authData"),function(e,t){n._synchronizeAuthData(t)})}},_synchronizeAuthData:function(e){if(this.isCurrent()){var r;n.isString(e)?(r=e,e=t.User._authProviders[r]):r=e.getAuthType();var i=this.get("authData");if(i&&e){var o=e.restoreAuthentication(i[r]);o||this._unlinkFrom(e)}}},_handleSaveResult:function(e){e&&(this._isCurrentUser=!0),this._cleanupAuthData(),this._synchronizeAllAuthData(),delete this._serverData.password,this._rebuildEstimatedDataForKey("password"),this._refreshCache(),(e||this.isCurrent())&&t.User._saveCurrentUser(this)},_linkWith:function(e,r){var i;if(n.isString(e)?(i=e,e=t.User._authProviders[e]):i=e.getAuthType(),n.has(r,"authData")){var o=this.get("authData")||{};o[i]=r.authData,this.set("authData",o);var a=n.clone(r)||{};return a.success=function(e){e._handleSaveResult(!0),r.success&&r.success.apply(this,arguments)},this.save({authData:o},a)}var s=this,c=new t.Promise;return e.authenticate({success:function(e,t){s._linkWith(e,{authData:t,success:r.success,error:r.error}).then(function(){c.resolve(s)})},error:function(e,t){r.error&&r.error(s,t),c.reject(t)}}),c},_unlinkFrom:function(e,r){var i;n.isString(e)?(i=e,e=t.User._authProviders[e]):i=e.getAuthType();var o=n.clone(r),a=this;return o.authData=null,o.success=function(t){a._synchronizeAuthData(e),r.success&&r.success.apply(this,arguments)},this._linkWith(e,o)},_isLinked:function(e){var t;t=n.isString(e)?e:e.getAuthType();var r=this.get("authData")||{};return!!r[t]},_logOutWithAll:function(){var e=this.get("authData");if(e){var n=this;t._objectEach(this.get("authData"),function(e,t){n._logOutWith(t)})}},_logOutWith:function(e){this.isCurrent()&&(n.isString(e)&&(e=t.User._authProviders[e]),e&&e.deauthenticate&&e.deauthenticate())},signUp:function(e,r){var i;r=r||{};var o=e&&e.username||this.get("username");if(!o||""===o)return i=new t.Error(t.Error.OTHER_CAUSE,"Cannot sign up user with an empty name."),r&&r.error&&r.error(this,i),t.Promise.error(i);var a=e&&e.password||this.get("password");if(!a||""===a)return i=new t.Error(t.Error.OTHER_CAUSE,"Cannot sign up user with an empty password."),r&&r.error&&r.error(this,i),t.Promise.error(i);var s=n.clone(r);return s.success=function(e){e._handleSaveResult(t.User._canUseCurrentUser()),r.success&&r.success.apply(this,arguments)},this.save(e,s)},logIn:function(e){if(!t.User._canUseCurrentUser())throw new Error("It is not possible to log in on a server environment.");var n=this;e=e||{};var r=t._request({route:"login",method:"GET",useMasterKey:e.useMasterKey,data:this.toJSON()});return r.then(function(e,t,r){var i=n.parse(e,t,r);return n._finishFetch(i),n._handleSaveResult(!0),n})._thenRunCallbacks(e,this)},save:function(e,r,i){var o,a;n.isObject(e)||n.isNull(e)||n.isUndefined(e)?(o=e,a=r):(o={},o[e]=r,a=i),a=a||{};var s=n.clone(a);return s.success=function(e){e._handleSaveResult(!1),a.success&&a.success.apply(this,arguments)},t.Object.prototype.save.call(this,o,s)},fetch:function(e){var r=e?n.clone(e):{};return r.success=function(t){t._handleSaveResult(!1),e&&e.success&&e.success.apply(this,arguments)},t.Object.prototype.fetch.call(this,r)},isCurrent:function(){return this._isCurrentUser},getUsername:function(){return this.get("username")},setUsername:function(e,t){
return this.set("username",e,t)},setPassword:function(e,t){return this.set("password",e,t)},getEmail:function(){return this.get("email")},setEmail:function(e,t){return this.set("email",e,t)},authenticated:function(){return!!this._sessionToken&&t.User.current()&&t.User.current().id===this.id},getSessionToken:function(){return this._sessionToken},_upgradeToRevocableSession:function(e){if(e=e||{},!t.User.current())return t.Promise.as()._thenRunCallbacks(e);var n=t.User.current().getSessionToken();return t.Session._isRevocable(n)?t.Promise.as()._thenRunCallbacks(e):t._request({route:"upgradeToRevocableSession",method:"POST",useMasterKey:e.useMasterKey,sessionToken:n}).then(function(e){var n=new t.Session;n._finishFetch(e);var r=t.User.current();r._sessionToken=n.getSessionToken(),t.User._saveCurrentUser(r)})._thenRunCallbacks(e)}},{_currentUser:null,_currentUserMatchesDisk:!1,_CURRENT_USER_KEY:"currentUser",_authProviders:{},_performUserRewrite:!0,_isRevocableSessionEnabled:!1,_enableUnsafeCurrentUser:!1,signUp:function(e,n,r,i){r=r||{},r.username=e,r.password=n;var o=t.Object._create("_User");return o.signUp(r,i)},logIn:function(e,n,r){var i=t.Object._create("_User");return i._finishFetch({username:e,password:n}),i.logIn(r)},become:function(e,n){if(!t.User._canUseCurrentUser())throw new Error("It is not secure to become a user on a node.js server environment.");n=n||{};var r=t.Object._create("_User");return t._request({route:"users",className:"me",method:"GET",useMasterKey:n.useMasterKey,sessionToken:e}).then(function(e,t,n){var i=r.parse(e,t,n);return r._finishFetch(i),r._handleSaveResult(!0),r})._thenRunCallbacks(n,r)},logOut:function(){if(!t.User._canUseCurrentUser())throw new Error("There is no current user user on a node.js server environment.");return t.User._currentAsync().then(function(e){var n=t.Storage.removeItemAsync(t._getParsePath(t.User._CURRENT_USER_KEY));if(null!==e){var r=e.getSessionToken();t.Session._isRevocable(r)&&n.then(function(){return t._request({route:"logout",method:"POST",sessionToken:r})}),e._logOutWithAll(),e._isCurrentUser=!1}return t.User._currentUserMatchesDisk=!0,t.User._currentUser=null,n})},requestPasswordReset:function(e,n){n=n||{};var r=t._request({route:"requestPasswordReset",method:"POST",useMasterKey:n.useMasterKey,data:{email:e}});return r._thenRunCallbacks(n)},current:function(){if(!t.User._canUseCurrentUser())throw new Error("There is no current user user on a node.js server environment.");if(t.Storage.async)return t.User._currentAsync(),t.User._currentUser;if(t.User._currentUser)return t.User._currentUser;if(t.User._currentUserMatchesDisk)return t.User._currentUser;t.User._currentUserMatchesDisk=!0;var e=t.Storage.getItem(t._getParsePath(t.User._CURRENT_USER_KEY));if(!e)return null;t.User._currentUser=t.Object._create("_User"),t.User._currentUser._isCurrentUser=!0;var n=JSON.parse(e);return t.User._currentUser.id=n._id,delete n._id,t.User._currentUser._sessionToken=n._sessionToken,delete n._sessionToken,t.User._currentUser._finishFetch(n),t.User._currentUser._synchronizeAllAuthData(),t.User._currentUser._refreshCache(),t.User._currentUser._opSetQueue=[{}],t.User._currentUser},_currentAsync:function(){return t.User._currentUser?t.Promise.as(t.User._currentUser):t.User._currentUserMatchesDisk?t.Promise.as(t.User._currentUser):t.Storage.getItemAsync(t._getParsePath(t.User._CURRENT_USER_KEY)).then(function(e){if(!e)return null;t.User._currentUser=t.Object._create("_User"),t.User._currentUser._isCurrentUser=!0;var n=JSON.parse(e);return t.User._currentUser.id=n._id,delete n._id,t.User._currentUser._sessionToken=n._sessionToken,delete n._sessionToken,t.User._currentUser._finishFetch(n),t.User._currentUser._synchronizeAllAuthData(),t.User._currentUser._refreshCache(),t.User._currentUser._opSetQueue=[{}],t.User._currentUser})},allowCustomUserClass:function(e){this._performUserRewrite=!e},enableRevocableSession:function(e){return e=e||{},t.User._isRevocableSessionEnabled=!0,t.User._canUseCurrentUser()&&t.User.current()?t.User.current()._upgradeToRevocableSession(e):t.Promise.as()._thenRunCallbacks(e)},enableUnsafeCurrentUser:function(){t.User._enableUnsafeCurrentUser=!0},_canUseCurrentUser:function(){return!t._isNode||t.User._enableUnsafeCurrentUser},_saveCurrentUser:function(e){null!==t.User._currentUser&&t.User._currentUser!==e&&t.User.logOut(),e._isCurrentUser=!0,t.User._currentUser=e,t.User._currentUserMatchesDisk=!0;var n=e.toJSON();n._id=e.id,n._sessionToken=e._sessionToken,t.Storage.async?t.Storage.setItemAsync(t._getParsePath(t.User._CURRENT_USER_KEY),JSON.stringify(n)):t.Storage.setItem(t._getParsePath(t.User._CURRENT_USER_KEY),JSON.stringify(n))},_registerAuthenticationProvider:function(e){t.User._authProviders[e.getAuthType()]=e,t.User.current()&&t.User.current()._synchronizeAuthData(e.getAuthType())},_logInWith:function(e,n){var r=t.Object._create("_User");return r._linkWith(e,n)}})}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse;t.Session=t.Object.extend("_Session",{getSessionToken:function(){return this._sessionToken},_mergeMagicFields:function(e){e.sessionToken&&(this._sessionToken=e.sessionToken,delete e.sessionToken),t.Session.__super__._mergeMagicFields.call(this,e)}},{readOnlyAttributes:{createdWith:!0,expiresAt:!0,installationId:!0,restricted:!0,sessionToken:!0,user:!0},current:function(e){e=e||{};var n=t.Object._create("_Session"),r=t.User.current().getSessionToken();return t._request({route:"sessions",className:"me",method:"GET",useMasterKey:e.useMasterKey,sessionToken:r}).then(function(e,t,r){var i=n.parse(e,t,r);return n._finishFetch(i),n})._thenRunCallbacks(e,n)},_isRevocable:function(e){return e.indexOf("r:")>-1},isCurrentSessionRevocable:function(){if(null!==t.User.current())return t.Session._isRevocable(t.User.current().getSessionToken())}})}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Query=function(e){n.isString(e)&&(e=t.Object._getSubclass(e)),this.objectClass=e,this.className=e.prototype.className,this._where={},this._include=[],this._limit=-1,this._skip=0,this._extraOptions={}},t.Query.or=function(){var e=n.toArray(arguments),r=null;t._arrayEach(e,function(e){if(n.isNull(r)&&(r=e.className),r!==e.className)throw"All queries must be for the same class"});var i=new t.Query(r);return i._orQuery(e),i},t.Query.prototype={get:function(e,r){var i=this;i.equalTo("objectId",e);var o={};return r&&n.has(r,"useMasterKey")&&(o={useMasterKey:r.useMasterKey}),r&&n.has(r,"sessionToken")&&(o.sessionToken=r.sessionToken),i.first(o).then(function(e){if(e)return e;var n=new t.Error(t.Error.OBJECT_NOT_FOUND,"Object not found.");return t.Promise.error(n)})._thenRunCallbacks(r,null)},toJSON:function(){var e={where:this._where};return this._include.length>0&&(e.include=this._include.join(",")),this._select&&(e.keys=this._select.join(",")),this._limit>=0&&(e.limit=this._limit),this._skip>0&&(e.skip=this._skip),void 0!==this._order&&(e.order=this._order.join(",")),t._objectEach(this._extraOptions,function(t,n){e[n]=t}),e},find:function(e){var r=this;e=e||{};var i=t._request({route:"classes",className:this.className,method:"GET",useMasterKey:e.useMasterKey,sessionToken:e.sessionToken,data:this.toJSON()});return i.then(function(e){return n.map(e.results,function(n){var i;return i=e.className?new t.Object(e.className):new r.objectClass,i._finishFetch(n,!0),i})})._thenRunCallbacks(e)},count:function(e){var n=this;e=e||{};var r=this.toJSON();r.limit=0,r.count=1;var i=t._request({route:"classes",className:n.className,method:"GET",useMasterKey:e.useMasterKey,sessionToken:e.sessionToken,data:r});return i.then(function(e){return e.count})._thenRunCallbacks(e)},first:function(e){var r=this;e=e||{};var i=this.toJSON();i.limit=1;var o=t._request({route:"classes",className:this.className,method:"GET",useMasterKey:e.useMasterKey,sessionToken:e.sessionToken,data:i});return o.then(function(e){return n.map(e.results,function(n){var i;return i=e.className?new t.Object(e.className):new r.objectClass,i._finishFetch(n,!0),i})[0]})._thenRunCallbacks(e)},collection:function(e,r){return r=r||{},new t.Collection(e,n.extend(r,{model:this.objectClass,query:this}))},skip:function(e){return this._skip=e,this},limit:function(e){return this._limit=e,this},equalTo:function(e,r){return n.isUndefined(r)?this.doesNotExist(e):(this._where[e]=t._encode(r),this)},_addCondition:function(e,n,r){return this._where[e]||(this._where[e]={}),this._where[e][n]=t._encode(r),this},notEqualTo:function(e,t){return this._addCondition(e,"$ne",t),this},lessThan:function(e,t){return this._addCondition(e,"$lt",t),this},greaterThan:function(e,t){return this._addCondition(e,"$gt",t),this},lessThanOrEqualTo:function(e,t){return this._addCondition(e,"$lte",t),this},greaterThanOrEqualTo:function(e,t){return this._addCondition(e,"$gte",t),this},containedIn:function(e,t){return this._addCondition(e,"$in",t),this},notContainedIn:function(e,t){return this._addCondition(e,"$nin",t),this},containsAll:function(e,t){return this._addCondition(e,"$all",t),this},exists:function(e){return this._addCondition(e,"$exists",!0),this},doesNotExist:function(e){return this._addCondition(e,"$exists",!1),this},matches:function(e,t,n){return this._addCondition(e,"$regex",t),n||(n=""),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),n&&n.length&&this._addCondition(e,"$options",n),this},matchesQuery:function(e,t){var n=t.toJSON();return n.className=t.className,this._addCondition(e,"$inQuery",n),this},doesNotMatchQuery:function(e,t){var n=t.toJSON();return n.className=t.className,this._addCondition(e,"$notInQuery",n),this},matchesKeyInQuery:function(e,t,n){var r=n.toJSON();return r.className=n.className,this._addCondition(e,"$select",{key:t,query:r}),this},doesNotMatchKeyInQuery:function(e,t,n){var r=n.toJSON();return r.className=n.className,this._addCondition(e,"$dontSelect",{key:t,query:r}),this},_orQuery:function(e){var t=n.map(e,function(e){return e.toJSON().where});return this._where.$or=t,this},_quote:function(e){return"\\Q"+e.replace("\\E","\\E\\\\E\\Q")+"\\E"},contains:function(e,t){return this._addCondition(e,"$regex",this._quote(t)),this},startsWith:function(e,t){return this._addCondition(e,"$regex","^"+this._quote(t)),this},endsWith:function(e,t){return this._addCondition(e,"$regex",this._quote(t)+"$"),this},ascending:function(){return this._order=[],this.addAscending.apply(this,arguments)},addAscending:function(e){var n=this;return this._order||(this._order=[]),t._arrayEach(arguments,function(e){Array.isArray(e)&&(e=e.join()),n._order=n._order.concat(e.replace(/\s/g,"").split(","))}),this},descending:function(e){return this._order=[],this.addDescending.apply(this,arguments)},addDescending:function(e){var r=this;return this._order||(this._order=[]),t._arrayEach(arguments,function(e){Array.isArray(e)&&(e=e.join()),r._order=r._order.concat(n.map(e.replace(/\s/g,"").split(","),function(e){return"-"+e}))}),this},near:function(e,n){return n instanceof t.GeoPoint||(n=new t.GeoPoint(n)),this._addCondition(e,"$nearSphere",n),this},withinRadians:function(e,t,n){return this.near(e,t),this._addCondition(e,"$maxDistance",n),this},withinMiles:function(e,t,n){return this.withinRadians(e,t,n/3958.8)},withinKilometers:function(e,t,n){return this.withinRadians(e,t,n/6371)},withinGeoBox:function(e,n,r){return n instanceof t.GeoPoint||(n=new t.GeoPoint(n)),r instanceof t.GeoPoint||(r=new t.GeoPoint(r)),this._addCondition(e,"$within",{$box:[n,r]}),this},include:function(){var e=this;return t._arrayEach(arguments,function(t){n.isArray(t)?e._include=e._include.concat(t):e._include.push(t)}),this},select:function(){var e=this;return this._select=this._select||[],t._arrayEach(arguments,function(t){n.isArray(t)?e._select=e._select.concat(t):e._select.push(t)}),this},each:function(e,r){if(r=r||{},this._order||this._skip||this._limit>=0){var i="Cannot iterate on a query with sort, skip, or limit.";return t.Promise.error(i)._thenRunCallbacks(r)}var o=(new t.Promise,new t.Query(this.objectClass));o._limit=r.batchSize||100,o._where=n.clone(this._where),o._include=n.clone(this._include),this._select&&(o._select=n.clone(this._select)),o.ascending("objectId");var a={};n.has(r,"useMasterKey")&&(a.useMasterKey=r.useMasterKey),n.has(r,"sessionToken")&&(a.sessionToken=r.sessionToken);var s=!1;return t.Promise._continueWhile(function(){return!s},function(){return o.find(a).then(function(n){var r=t.Promise.as();return t._.each(n,function(t){r=r.then(function(){return e(t)})}),r.then(function(){n.length>=o._limit?o.greaterThan("objectId",n[n.length-1].id):s=!0})})})._thenRunCallbacks(r)}}}(this),function(e){e.Parse=e.Parse||{};var t,n,r=e.Parse,i=r._,o=!1,a={authenticate:function(e){var n=this;FB.login(function(t){t.authResponse?e.success&&e.success(n,{id:t.authResponse.userID,access_token:t.authResponse.accessToken,expiration_date:new Date(1e3*t.authResponse.expiresIn+(new Date).getTime()).toJSON()}):e.error&&e.error(n,t)},{scope:t})},restoreAuthentication:function(e){if(e){var t={userID:e.id,accessToken:e.access_token,expiresIn:(r._parseDate(e.expiration_date).getTime()-(new Date).getTime())/1e3},o=i.clone(n);o.authResponse=t,o.status=!1;var a=FB.getAuthResponse();a&&a.userID!==t.userID&&FB.logout(),FB.init(o)}return!0},getAuthType:function(){return"facebook"},deauthenticate:function(){this.restoreAuthentication(null)}};r.FacebookUtils={init:function(e){if("undefined"==typeof FB)throw"The Facebook JavaScript SDK must be loaded before calling init.";if(n=i.clone(e)||{},n.status&&"undefined"!=typeof console){var t=console.warn||console.log||function(){};t.call(console,"The 'status' flag passed into FB.init, when set to true, can interfere with Parse Facebook integration, so it has been suppressed. Please call FB.getLoginStatus() explicitly if you require this behavior.")}n.status=!1,FB.init(n),r.User._registerAuthenticationProvider(a),o=!0},isLinked:function(e){return e._isLinked("facebook")},logIn:function(e,n){if(!e||i.isString(e)){if(!o)throw"You must initialize FacebookUtils before calling logIn.";return t=e,r.User._logInWith("facebook",n)}var a=i.clone(n)||{};return a.authData=e,r.User._logInWith("facebook",a)},link:function(e,n,r){if(!n||i.isString(n)){if(!o)throw"You must initialize FacebookUtils before calling link.";return t=n,e._linkWith("facebook",r)}var a=i.clone(r)||{};return a.authData=n,e._linkWith("facebook",a)},unlink:function(e,t){if(!o)throw"You must initialize FacebookUtils before calling unlink.";return e._unlinkFrom("facebook",t)}}}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl")};var r=/^[#\/]/,i=/msie [\w.]+/;t.History.started=!1,n.extend(t.History.prototype,t.Events,{interval:50,getHash:function(e){var t=e?e.location:window.location,n=t.href.match(/#(.*)$/);return n?n[1]:""},getFragment:function(e,n){if(t._isNullOrUndefined(e))if(this._hasPushState||n){e=window.location.pathname;var i=window.location.search;i&&(e+=i)}else e=this.getHash();return e.indexOf(this.options.root)||(e=e.substr(this.options.root.length)),e.replace(r,"")},start:function(e){if(t.History.started)throw new Error("Parse.history has already been started");t.History.started=!0,this.options=n.extend({},{root:"/"},this.options,e),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var o=this.getFragment(),a=document.documentMode,s=i.exec(navigator.userAgent.toLowerCase())&&(!a||a<=7);s&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(o)),this._hasPushState?t.$(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!s?t.$(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=window.setInterval(this.checkUrl,this.interval)),this.fragment=o;var c=window.location,l=c.pathname===this.options.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!l?(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&l&&c.hash&&(this.fragment=this.getHash().replace(r,""),window.history.replaceState({},document.title,c.protocol+"//"+c.host+this.options.root+this.fragment)),this.options.silent?void 0:this.loadUrl())},stop:function(){t.$(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),window.clearInterval(this._checkUrlInterval),t.History.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t!==this.fragment&&(this.iframe&&this.navigate(t),void(this.loadUrl()||this.loadUrl(this.getHash())))},loadUrl:function(e){var t=this.fragment=this.getFragment(e),r=n.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0});return r},navigate:function(e,n){if(!t.History.started)return!1;n&&n!==!0||(n={trigger:n});var i=(e||"").replace(r,"");if(this.fragment!==i){if(this._hasPushState){0!==i.indexOf(this.options.root)&&(i=this.options.root+i),this.fragment=i;var o=n.replace?"replaceState":"pushState";window.history[o]({},document.title,i)}else this._wantsHashChange?(this.fragment=i,this._updateHash(window.location,i,n.replace),this.iframe&&i!==this.getFragment(this.getHash(this.iframe))&&(n.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,i,n.replace))):window.location.assign(this.options.root+e);n.trigger&&this.loadUrl(e)}},_updateHash:function(e,t,n){if(n){var r=e.toString().replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash=t}})}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Router=function(e){e=e||{},e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)};var r=/:\w+/g,i=/\*\w+/g,o=/[\-\[\]{}()+?.,\\\^\$\|#\s]/g;n.extend(t.Router.prototype,t.Events,{initialize:function(){},route:function(e,r,i){return t.history=t.history||new t.History,n.isRegExp(e)||(e=this._routeToRegExp(e)),i||(i=this[r]),t.history.route(e,n.bind(function(n){var o=this._extractParameters(e,n);i&&i.apply(this,o),this.trigger.apply(this,["route:"+r].concat(o)),t.history.trigger("route",this,r,o)},this)),this},navigate:function(e,n){t.history.navigate(e,n)},_bindRoutes:function(){if(this.routes){var e=[];for(var t in this.routes)this.routes.hasOwnProperty(t)&&e.unshift([t,this.routes[t]]);for(var n=0,r=e.length;n<r;n++)this.route(e[n][0],e[n][1],this[e[n][1]])}},_routeToRegExp:function(e){return e=e.replace(o,"\\$&").replace(r,"([^/]+)").replace(i,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}}),t.Router.extend=t._extend}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Cloud=t.Cloud||{},n.extend(t.Cloud,{run:function(e,n,r){r=r||{};var i=t._request({route:"functions",className:e,method:"POST",useMasterKey:r.useMasterKey,sessionToken:r.sessionToken,data:t._encode(n,null,!0)});return i.then(function(e){return t._decode(null,e).result})._thenRunCallbacks(r)}})}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse;t.Installation=t.Object.extend("_Installation"),t.Push=t.Push||{},t.Push.send=function(e,n){if(n=n||{},e.where&&(e.where=e.where.toJSON().where),e.push_time&&(e.push_time=e.push_time.toJSON()),e.expiration_time&&(e.expiration_time=e.expiration_time.toJSON()),e.expiration_time&&e.expiration_interval)throw"Both expiration_time and expiration_interval can't be set";var r=t._request({route:"push",method:"POST",data:e,useMasterKey:n.useMasterKey});return r._thenRunCallbacks(n)}}(this)}).call(this,require("_process"))},{_process:352}],344:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return i.exec(e).slice(1)};n.resolve=function(){for(var n="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,i="/"===a.charAt(0))}return n=t(r(n.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+n||"."},n.normalize=function(e){var i=n.isAbsolute(e),o="/"===a(e,-1);return e=t(r(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var i=r(e.split("/")),o=r(t.split("/")),a=Math.min(i.length,o.length),s=a,c=0;c<a;c++)if(i[c]!==o[c]){s=c;break}for(var l=[],c=s;c<i.length;c++)l.push("..");return l=l.concat(o.slice(s)),l.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=o(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return o(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:352}],345:[function(e,t,n){n.pbkdf2=e("./lib/async"),n.pbkdf2Sync=e("./lib/sync")},{"./lib/async":346,"./lib/sync":349}],346:[function(e,t,n){(function(n,r){function i(e){if(r.process&&!r.process.browser)return Promise.resolve(!1);if(!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(void 0!==p[e])return p[e];s=s||h.alloc(8);var t=o(s,s,10,128,e).then(function(){return!0})["catch"](function(){return!1});return p[e]=t,t}function o(e,t,n,r,i){return d.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(e){return d.deriveBits({name:"PBKDF2",salt:t,iterations:n,hash:{name:i}},e,r<<3)}).then(function(e){return h.from(e)})}function a(e,t){e.then(function(e){n.nextTick(function(){t(null,e)})},function(e){n.nextTick(function(){t(e)})})}var s,c=e("./precondition"),l=e("./default-encoding"),u=e("./sync"),h=e("safe-buffer").Buffer,d=r.crypto&&r.crypto.subtle,f={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},p=[];t.exports=function(e,t,s,d,p,m){if(h.isBuffer(e)||(e=h.from(e,l)),h.isBuffer(t)||(t=h.from(t,l)),c(s,d),"function"==typeof p&&(m=p,p=void 0),"function"!=typeof m)throw new Error("No callback provided to pbkdf2");p=p||"sha1";var g=f[p.toLowerCase()];return g&&"function"==typeof r.Promise?void a(i(g).then(function(n){return n?o(e,t,s,d,g):u(e,t,s,d,p)}),m):n.nextTick(function(){var n;try{n=u(e,t,s,d,p)}catch(r){return m(r)}m(null,n)})}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./default-encoding":347,"./precondition":348,"./sync":349,_process:352,"safe-buffer":383}],347:[function(e,t,n){(function(e){var n;if(e.browser)n="utf-8";else{var r=parseInt(e.version.split(".")[0].slice(1),10);n=r>=6?"utf-8":"binary"}t.exports=n}).call(this,e("_process"))},{_process:352}],348:[function(e,t,n){var r=Math.pow(2,30)-1;t.exports=function(e,t){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof t)throw new TypeError("Key length not a number");if(t<0||t>r||t!==t)throw new TypeError("Bad key length")}},{}],349:[function(e,t,n){function r(e,t,n){var r=i(e),o="sha512"===e||"sha384"===e?128:64;t.length>o?t=r(t):t.length<o&&(t=h.concat([t,d],o));for(var a=h.allocUnsafe(o+f[e]),s=h.allocUnsafe(o+f[e]),c=0;c<o;c++)a[c]=54^t[c],s[c]=92^t[c];var l=h.allocUnsafe(o+n+4);a.copy(l,0,0,o),this.ipad1=l,this.ipad2=a,this.opad=s,this.alg=e,this.blocksize=o,this.hash=r,this.size=f[e]}function i(e){function t(t){return c(e).update(t).digest()}return"rmd160"===e||"ripemd160"===e?s:"md5"===e?a:t}function o(e,t,n,i,o){h.isBuffer(e)||(e=h.from(e,u)),h.isBuffer(t)||(t=h.from(t,u)),l(n,i),o=o||"sha1";var a=new r(o,e,t.length),s=h.allocUnsafe(i),c=h.allocUnsafe(t.length+4);t.copy(c,0,0,t.length);for(var d=0,p=f[o],m=Math.ceil(i/p),g=1;g<=m;g++){c.writeUInt32BE(g,t.length);for(var v=a.run(c,a.ipad1),b=v,y=1;y<n;y++){b=a.run(b,a.ipad2);for(var w=0;w<p;w++)v[w]^=b[w]}v.copy(s,d),d+=p}return s}var a=e("create-hash/md5"),s=e("ripemd160"),c=e("sha.js"),l=e("./precondition"),u=e("./default-encoding"),h=e("safe-buffer").Buffer,d=h.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};r.prototype.run=function(e,t){e.copy(t,this.blocksize);var n=this.hash(t);return n.copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=o},{"./default-encoding":347,"./precondition":348,"create-hash/md5":211,ripemd160:382,"safe-buffer":383,"sha.js":386}],350:[function(e,t,n){(function(e){(function(){var n,r,i,o,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!=typeof e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-a)/1e6},r=e.hrtime,n=function(){var e;return e=r(),1e9*e[0]+e[1]},o=n(),s=1e9*e.uptime(),a=o-s):Date.now?(t.exports=function(){return Date.now()-i},i=Date.now()):(t.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,e("_process"))},{_process:352}],351:[function(e,t,n){!function(e,r){"use strict";"function"==typeof define&&define.amd?define([],r):"object"==typeof n?t.exports=r():e.phpUnserialize=r()}(this,function(){"use strict";return function(e){var t,n=0,r=[],i=0,o=function(){var t=e.indexOf(":",n),r=e.substring(n,t);return n=t+2,parseInt(r,10)},a=function(){var t=e.indexOf(";",n),r=e.substring(n,t);return n=t+1,parseInt(r,10)},s=function(){var e=a();return r[i++]=e,e},c=function(){var t=e.indexOf(";",n),o=e.substring(n,t);return n=t+1,o=parseFloat(o),r[i++]=o,o},l=function(){var t=e.indexOf(";",n),o=e.substring(n,t);return n=t+1,o="1"===o,r[i++]=o,o},u=function(){for(var t,r,i=o(),a=0,s=0;s<i;)t=e.charCodeAt(n+a++),t<=127?s++:s+=t>2047?3:2;return r=e.substring(n,n+a),n+=a+2,r},h=function(){var e=u();return r[i++]=e,e},d=function(){var t=e.charAt(n);return n+=2,t},f=function(){var e=d();switch(e){case"i":return a();case"s":return u();default:throw{name:"Parse Error",message:"Unknown key type '"+e+"' at position "+(n-2)}}},p=function(){var e,a,s,c,l,u=o(),h=[],d={},p=h,m=i++;for(r[m]=p,s=0;s<u;s++)if(e=f(),a=t(),p===h&&parseInt(e,10)===s)h.push(a);else{if(p!==d){for(c=0,l=h.length;c<l;c++)d[c]=h[c];p=d,r[m]=p}d[e]=a}return n++,p},m=function(e,t){var n,r,i;return"\0"!==e.charAt(0)?e:(i=e.indexOf("\0",1),i>0?(n=e.substring(1,i),r=e.substr(i+1),"*"===n?r:t===n?r:n+"::"+r):void 0)},g=function(){var e,a,s,c,l={},h=i++,d=u();for(r[h]=l,e=o(),c=0;c<e;c++)a=m(f(),d),s=t(),l[a]=s;return n++,l},v=function(){var e=u(),t=u();return{__PHP_Incomplete_Class_Name:e,serialized:t}},b=function(){var e=a(),t=r[e-1];return r[i++]=t,t},y=function(){var e=a();return r[e-1]},w=function(){var e=null;return r[i++]=e,e};return(t=function(){var e=d();switch(e){case"i":return s();case"d":return c();case"b":return l();case"s":return h();case"a":return p();case"O":return g();case"C":return v();case"r":return b();case"R":return y();case"N":return w();default:throw{name:"Parse Error",message:"Unknown type '"+e+"' at position "+(n-2)}}})()}})},{}],352:[function(e,t,n){function r(){if(!s){s=!0;for(var e,t=a.length;t;){e=a,a=[];for(var n=-1;++n<t;)e[n]();t=a.length}s=!1}}function i(){}var o=t.exports={},a=[],s=!1;o.nextTick=function(e){a.push(e),s||setTimeout(r,0)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=i,o.addListener=i,o.once=i,o.off=i,o.removeListener=i,o.removeAllListeners=i,o.emit=i,o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],353:[function(e,t,n){n.publicEncrypt=e("./publicEncrypt"),n.privateDecrypt=e("./privateDecrypt"),n.privateEncrypt=function(e,t){return n.publicEncrypt(e,t,!0)},n.publicDecrypt=function(e,t){return n.privateDecrypt(e,t,!0)}},{"./privateDecrypt":355,"./publicEncrypt":356}],354:[function(e,t,n){(function(n){function r(e){var t=new n(4);return t.writeUInt32BE(e,0),t}var i=e("create-hash");t.exports=function(e,t){for(var o,a=new n(""),s=0;a.length<t;)o=r(s++),a=n.concat([a,i("sha1").update(e).update(o).digest()]);return a.slice(0,t)}}).call(this,e("buffer").Buffer)},{buffer:131,"create-hash":209}],355:[function(e,t,n){(function(n){function r(e,t){var r=(e.modulus,e.modulus.byteLength()),i=(t.length,h("sha1").update(new n("")).digest()),a=i.length;if(0!==t[0])throw new Error("decryption error");var l=t.slice(1,a+1),u=t.slice(a+1),d=c(l,s(u,a)),f=c(u,s(d,r-a-1));if(o(i,f.slice(0,a)))throw new Error("decryption error");for(var p=a;0===f[p];)p++;if(1!==f[p++])throw new Error("decryption error");return f.slice(p)}function i(e,t,n){for(var r=t.slice(0,2),i=2,o=0;0!==t[i++];)if(i>=t.length){o++;break}var a=t.slice(2,i-1);t.slice(i-1,i);if(("0002"!==r.toString("hex")&&!n||"0001"!==r.toString("hex")&&n)&&o++,a.length<8&&o++,o)throw new Error("decryption error");return t.slice(i)}function o(e,t){e=new n(e),t=new n(t);var r=0,i=e.length;e.length!==t.length&&(r++,i=Math.min(e.length,t.length));for(var o=-1;++o<i;)r+=e[o]^t[o];return r}var a=e("parse-asn1"),s=e("./mgf"),c=e("./xor"),l=e("bn.js"),u=e("browserify-rsa"),h=e("create-hash"),d=e("./withPublic");t.exports=function(e,t,o){var s;s=e.padding?e.padding:o?1:4;var c=a(e),h=c.modulus.byteLength();if(t.length>h||new l(t).cmp(c.modulus)>=0)throw new Error("decryption error");var f;f=o?d(new l(t),c):u(t,c);var p=new n(h-f.length);if(p.fill(0),f=n.concat([p,f],h),4===s)return r(c,f);if(1===s)return i(c,f,o);if(3===s)return f;throw new Error("unknown padding")}}).call(this,e("buffer").Buffer)},{"./mgf":354,"./withPublic":357,"./xor":358,"bn.js":85,"browserify-rsa":120,buffer:131,"create-hash":209,"parse-asn1":342}],356:[function(e,t,n){(function(n){function r(e,t){var r=e.modulus.byteLength(),i=t.length,o=c("sha1").update(new n("")).digest(),a=o.length,d=2*a;if(i>r-d-2)throw new Error("message too long");var f=new n(r-i-d-2);f.fill(0);var p=r-a-1,m=s(a),g=u(n.concat([o,f,new n([1]),t],p),l(m,p)),v=u(m,l(g,a));return new h(n.concat([new n([0]),v,g],r))}function i(e,t,r){var i=t.length,a=e.modulus.byteLength();if(i>a-11)throw new Error("message too long");var s;return r?(s=new n(a-i-3),s.fill(255)):s=o(a-i-3),new h(n.concat([new n([0,r?1:2]),s,new n([0]),t],a))}function o(e,t){for(var r,i=new n(e),o=0,a=s(2*e),c=0;o<e;)c===a.length&&(a=s(2*e),c=0),r=a[c++],r&&(i[o++]=r);return i}var a=e("parse-asn1"),s=e("randombytes"),c=e("create-hash"),l=e("./mgf"),u=e("./xor"),h=e("bn.js"),d=e("./withPublic"),f=e("browserify-rsa");t.exports=function(e,t,n){var o;o=e.padding?e.padding:n?1:4;var s,c=a(e);if(4===o)s=r(c,t);else if(1===o)s=i(c,t,n);else{if(3!==o)throw new Error("unknown padding");if(s=new h(t),s.cmp(c.modulus)>=0)throw new Error("data too long for modulus")}return n?f(s,c):d(s,c)}}).call(this,e("buffer").Buffer)},{"./mgf":354,"./withPublic":357,"./xor":358,"bn.js":85,"browserify-rsa":120,buffer:131,"create-hash":209,"parse-asn1":342,randombytes:368}],357:[function(e,t,n){(function(n){function r(e,t){return new n(e.toRed(i.mont(t.modulus)).redPow(new i(t.publicExponent)).fromRed().toArray());
}var i=e("bn.js");t.exports=r}).call(this,e("buffer").Buffer)},{"bn.js":85,buffer:131}],358:[function(e,t,n){t.exports=function(e,t){for(var n=e.length,r=-1;++r<n;)e[r]^=t[r];return e}},{}],359:[function(e,t,n){!function(e,r){"object"==typeof n&&"object"==typeof t?t.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof n?n.PUBNUB=r():e.PUBNUB=r()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){function r(e){var t,n,r=0,i=0,o=!0,a=e.timeout||f.DEF_TIMEOUT,s=e.data||{},c=e.fail||function(){},l=e.success||function(){},u=function(e,i){r||(r=1,clearTimeout(n),t&&(t.onerror=t.onload=null,t.abort&&t.abort(),t=null),e&&c(i))},h=function(){if(!i){var e;i=1,clearTimeout(n);try{e=JSON.parse(t.responseText)}catch(r){return u(1)}l(e)}};n=f.timeout(function(){u(1)},a);try{t="undefined"!=typeof XDomainRequest&&new XDomainRequest||new XMLHttpRequest,t.onerror=t.onabort=function(){u(1,t.responseText||{error:"Network Connection Error"})},t.onload=t.onloadend=h;var d=f.build_url(e.url,s);t.open("GET",d,o),o&&(t.timeout=a),t.send()}catch(p){u(1,{error:"XHR Failed",stacktrace:p})}return u}function i(e,t,n){f.each(e.split(","),function(e){var r=function(e){e||(e=window.event),n(e)||(e.cancelBubble=!0,e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())};t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent?t.attachEvent("on"+e,r):t["on"+e]=r})}function o(e){console.error(e)}function a(e,t,n){return n?void e.setAttribute(t,n):e&&e.getAttribute&&e.getAttribute(t)}function s(e){return document.getElementById(e)}function c(e,t){var n=[];return f.each(e.split(/\s+/),function(e){f.each((t||document).getElementsByTagName(e),function(e){n.push(e)})}),n}function l(e,t){for(var n in t)if(t.hasOwnProperty(n))try{e.style[n]=t[n]+("|width|height|top|left|".indexOf(n)>0&&"number"==typeof t[n]?"px":"")}catch(r){return}}function u(e){return document.createElement(e)}function h(e,t){var n=m.HmacSHA256(e,t);return n.toString(m.enc.Base64)}function d(e){e.db=v,e.xdr=r,e.error=e.error||o,e.hmac_SHA256=h,e.crypto_obj=p(),e.WS=g,e.sdk_family="Modern";var t=function(e){return d(e)},n=f.PN_API(e);for(var m in n)n.hasOwnProperty(m)&&(t[m]=n[m]);return t.init=t,t.$=s,t.attr=a,t.search=c,t.bind=i,t.css=l,t.create=u,t.crypto_obj=p(),t.WS=g,t.PNmessage=f.PNmessage,t.supplant=f.supplant,"undefined"!=typeof window&&i("beforeunload",window,function(){return t["each-channel"](function(e){t.LEAVE(e.name,1)}),!0}),t.ready(),e.notest?t:("undefined"!=typeof window&&i("offline",window,t.offline),"undefined"!=typeof document&&i("offline",document,t.offline),t)}var f=n(1),p=n(5),m=n(6),g=n(7),v=function(){var e;try{e="undefined"!=typeof localStorage&&localStorage}catch(t){e={_data:{},setItem:function(e,t){this._data[e]=String(t)},getItem:function(e){return this._data.hasOwnProperty(e)?this._data[e]:void 0},removeItem:function(e){return delete this._data[e]},clear:function(){this._data={}}}}return{get:function(t){try{return e?e.getItem(t):document.cookie.indexOf(t)===-1?null:((document.cookie||"").match(RegExp(t+"=([^;]+)"))||[])[1]||null}catch(n){return}},set:function(t,n){try{if(e)return e.setItem(t,n)&&0;document.cookie=t+"="+n+"; expires=Thu, 1 Aug 2030 20:00:00 UTC; path=/"}catch(r){return}}}}(),b={list:{},unbind:function(e){b.list[e]=[]},bind:function(e,t){(b.list[e]=b.list[e]||[]).push(t)},fire:function(e,t){f.each(b.list[e]||[],function(e){e(t)})}};d.init=d,d.secure=d,d.crypto_obj=p(),d.WS=g,d.db=v,d.PNmessage=f.PNmessage,d.uuid=f.uuid,d.css=l,d.$=s,d.create=s,d.bind=i,d.search=c,d.attr=a,d.events=b,d.map=f.map,d.each=f.each,d.grep=f.grep,d.supplant=f.supplant,d.now=f.now,d.unique=f.unique,d.updater=f.updater,e.exports=d},function(e,t,n){function r(){return"x"+ ++d+ +new Date}function i(e,t){var n=[];return h.each(e,function(e,r){t?e.search("-pnpres")<0&&r.subscribed&&n.push(e):r.subscribed&&n.push(e)}),n.sort()}function o(e,t){var n=[];return h.each(e,function(e,r){t?e.search("-pnpres")<0&&r.subscribed&&n.push(e):r.subscribed&&n.push(e)}),n.sort()}function a(){f||(f=1,h.each(p,function(e){e()}))}function s(e){var t=e||{apns:{}};return t.getPubnubMessage=function(){var e={};if(Object.keys(t.apns).length){e.pn_apns={aps:{alert:t.apns.alert,badge:t.apns.badge,sound:t.apns.sound}};for(var n in t.apns)e.pn_apns[n]=t.apns[n];var r=["badge","alert","sound"];for(var n in r)delete e.pn_apns[r[n]]}t.gcm&&(e.pn_gcm={data:t.gcm});for(var n in t)e[n]=t[n];var i=["apns","gcm","publish","channel","callback","error"];for(var n in i)delete e[i[n]];return e},t.publish=function(){var e=t.getPubnubMessage();t.pubnub&&t.channel&&t.pubnub.publish({message:e,channel:t.channel,callback:t.callback,error:t.error})},t}function c(e){function t(){var e="PubNub-JS-"+Ce;return Te&&(e+="-"+Te),e+="/"+k}function n(e){return e||(e={}),h.each(_e,function(t,n){t in e||(e[t]=n)}),e.pnsdk=t(),e}function s(e){var t=[];return h.each(e,function(e,n){t.push(e)}),t}function c(e){return s(e).sort()}function l(e){var t="",n=c(e);for(var r in n){var i=n[r];t+=i+"="+h.pamEncode(e[i]),r!=n.length-1&&(t+="&")}return t}function u(e,t,n){var r=!1;if("undefined"==typeof e)return t;if("number"==typeof e)r=!(e>_||0==e);else{if("boolean"==typeof e)return e?x:0;r=!0}return r?(n&&n("Presence Heartbeat value invalid. Valid range ( x > "+_+" or x = 0). Current Value : "+(t||_)),t||_):e}function d(e,t){return De.encrypt(e,t||Pe)||e}function v(e,t){return De.decrypt(e,t||Pe)||De.decrypt(e,Pe)||e}function j(){return clearTimeout(pe),!ge||ge>=500||ge<1||!i(he,!0).length&&!o(de,!0).length?void(ve=!1):(ve=!0,void Le.presence_heartbeat({callback:function(e){pe=h.timeout(j,ge*w)},error:function(e){xe&&xe("Presence Heartbeat unable to reach Pubnub servers."+JSON.stringify(e)),pe=h.timeout(j,ge*w)}}))}function P(){!ve&&j()}function E(e){if(be){if(!ne.length)return}else{if(e&&(ne.sending=0),ne.sending||!ne.length)return;ne.sending=1}O(ne.shift())}function A(e){var t=0;return h.each(o(de),function(n){var r=de[n];r&&(t++,(e||function(){})(r))}),t}function T(e){var t=0;return h.each(i(he),function(n){var r=he[n];r&&(t++,(e||function(){})(r))}),t}function C(e,t,n){if("object"==typeof e){if(e.error){var r={};return e.message&&(r.message=e.message),e.payload&&(r.payload=e.payload),void(n&&n(r))}if(e.payload)return void(e.next_page?t&&t(e.payload,e.next_page):t&&t(e.payload))}t&&t(e)}function M(e,t){if("object"==typeof e&&e.error){var n={};return e.message&&(n.message=e.message),e.payload&&(n.payload=e.payload),void(t&&t(n))}t&&t(e)}function O(e){var t=e.operation,n=Math.floor((new Date).getTime()/1e3),r=e.data||{};if(K){r.auth||delete r.auth,r.timestamp=n;var i=G+"\n"+W+"\n";if("PNAccessManagerGrant"===t)i+="grant\n";else if("PNAccessManagerAudit"===t)i+="audit\n";else{var o=e.url.slice();o.shift(),i+="/"+o.join("/")+"\n"}i+=l(r);var a=X(i,K);a=a.replace(/\+/g,"-"),a=a.replace(/\//g,"_"),r.signature=a,e.data=r}return we(e)}function I(e,t,r,i){var t=e.callback||t,o=e.error||xe,a=Se();i=i||{},i.auth||(i.auth=e.auth_key||Y);var s=[J,"v1","channel-registration","sub-key",G];s.push.apply(s,r),a&&(i.callback=a),O({callback:a,data:n(i),success:function(e){C(e,t,o)},fail:function(e){M(e,o)},url:s})}function F(){ke()||L(1,{error:"Offline. Please check your network settings."}),U&&clearTimeout(U),U=h.timeout(F,w)}function D(){V&&Le.time(function(e){N(function(){},e),e||L(1,{error:"Heartbeat failed to connect to Pubnub Servers.Please check your network settings."}),$&&clearTimeout($),$=h.timeout(D,q)})}function L(e,t){se&&se(e,t),se=null,clearTimeout(U),clearTimeout($)}function R(e){var t=h.rnow()-ie;return t-e/1e4}function N(e,t){function n(t){if(t){var n=t/1e4,i=(h.rnow()-r)/2;ie=h.rnow()-(n+i),e&&e(ie)}}var r=h.rnow();t&&n(t)||Le.time(n)}var U,$,z=+e.windowing||g,B=(+e.timeout||b)*w,q=(+e.keepalive||y)*w,V=e.timecheck||0,H=e.noleave||0,W=e.publish_key,G=e.subscribe_key,Y=e.auth_key||"",K=e.secret_key||"",X=e.hmac_SHA256,Q=e.ssl?"s":"",Z="http"+Q+"://"+(e.origin||"pubsub.pubnub.com"),J=S(Z),ee=S(Z),te=function(){},ne=[],re=!0,ie=0,oe=0,ae=0,se=0,ce=e.restore||0,le=0,ue=!1,he={},de={},fe={},pe=null,me=u(e.heartbeat||e.pnexpires||0,e.error),ge=e.heartbeat_interval||me/2-1,ve=!1,be=e.no_wait_for_pending,ye=e["compatible_3.5"]||!1,we=e.xdr,_e=e.params||{},xe=e.error||function(){},ke=e._is_online||function(){return 1},Se=e.jsonp_cb||function(){return 0},je=e.db||{get:function(){},set:function(){}},Pe=e.cipher_key,Ee=e.uuid||!e.unique_uuid&&je&&je.get(G+"uuid")||"",Ae=e.instance_id||!1,Te=e.partner_id,Ce=e.sdk_family,Me="",Oe=e.shutdown,Ie="undefined"==typeof e.use_send_beacon||e.use_send_beacon,Fe=Ie?e.sendBeacon:null;2===me&&(ge=1);var De=e.crypto_obj||{encrypt:function(e,t){return e},decrypt:function(e,t){return e}},Le={LEAVE:function(e,t,r,i,o){var a,s,c={uuid:Ee,auth:r||Y},l=S(Z),i=i||function(){},u=o||function(){},d=Se();if(e.indexOf(m)>0)return!0;if(ye){if(!Q)return!1;if("0"==d)return!1}if(H)return!1;if("0"!=d&&(c.callback=d),Ae&&(c.instanceid=Me),a=[l,"v2","presence","sub_key",G,"channel",h.encode(e),"leave"],s=n(c),Fe){var f=h.buildURL(a,s);if(Fe(f))return i&&i({status:200,action:"leave",message:"OK",service:"Presence"}),!0}return O({blocking:t||Q,callback:d,data:s,success:function(e){C(e,i,u)},fail:function(e){M(e,u)},url:a}),!0},LEAVE_GROUP:function(e,t,r,i,o){var a,s,c={uuid:Ee,auth:r||Y},l=S(Z),i=i||function(){},u=o||function(){},d=Se();if(e.indexOf(m)>0)return!0;if(ye){if(!Q)return!1;if("0"==d)return!1}if(H)return!1;if("0"!=d&&(c.callback=d),e&&e.length>0&&(c["channel-group"]=e),Ae&&(c.instanceid=Me),a=[l,"v2","presence","sub_key",G,"channel",h.encode(","),"leave"],s=n(c),Fe){var f=h.buildURL(a,s);if(Fe(f))return i&&i({status:200,action:"leave",message:"OK",service:"Presence"}),!0}return O({blocking:t||Q,callback:d,data:s,success:function(e){C(e,i,u)},fail:function(e){M(e,u)},url:a}),!0},set_resumed:function(e){ue=e},get_cipher_key:function(){return Pe},set_cipher_key:function(e){Pe=e},raw_encrypt:function(e,t){return d(e,t)},raw_decrypt:function(e,t){return v(e,t)},get_heartbeat:function(){return me},set_heartbeat:function(e,t){me=u(e,me,xe),ge=t||me/2-1,2==me&&(ge=1),te(),j()},get_heartbeat_interval:function(){return ge},set_heartbeat_interval:function(e){ge=e,j()},get_version:function(){return k},getGcmMessageObject:function(e){return{data:e}},getApnsMessageObject:function(e){var t={aps:{badge:1,alert:""}};for(var n in e)n[t]=e[n];return t},_add_param:function(e,t){_e[e]=t},channel_group:function(e,t){var n,r,i=e.channel_group,t=t||e.callback,o=e.channels||e.channel,a=e.cloak,s=[],c={},l=e.mode||"add";if(i){var u=i.split(":");u.length>1?(n="*"===u[0]?null:u[0],r=u[1]):r=u[0]}n&&s.push("namespace")&&s.push(h.encode(n)),s.push("channel-group"),r&&"*"!==r&&s.push(r),o?(h.isArray(o)&&(o=o.join(",")),c[l]=o,c.cloak=re?"true":"false"):"remove"===l&&s.push("remove"),"undefined"!=typeof a&&(c.cloak=a?"true":"false"),I(e,t,s,c)},channel_group_list_groups:function(e,t){var n;n=e.namespace||e.ns||e.channel_group||null,n&&(e.channel_group=n+":*"),Le.channel_group(e,t)},channel_group_list_channels:function(e,t){return e.channel_group?void Le.channel_group(e,t):xe("Missing Channel Group")},channel_group_remove_channel:function(e,t){return e.channel_group?e.channel||e.channels?(e.mode="remove",void Le.channel_group(e,t)):xe("Missing Channel"):xe("Missing Channel Group")},channel_group_remove_group:function(e,t){return e.channel_group?e.channel?xe("Use channel_group_remove_channel if you want to remove a channel from a group."):(e.mode="remove",void Le.channel_group(e,t)):xe("Missing Channel Group")},channel_group_add_channel:function(e,t){return e.channel_group?e.channel||e.channels?void Le.channel_group(e,t):xe("Missing Channel"):xe("Missing Channel Group")},channel_group_cloak:function(e,t){return"undefined"==typeof e.cloak?void t(re):(re=e.cloak,void Le.channel_group(e,t))},channel_group_list_namespaces:function(e,t){var n=["namespace"];I(e,t,n)},channel_group_remove_namespace:function(e,t){var n=["namespace",e.namespace,"remove"];I(e,t,n)},history:function(e,t){var t=e.callback||t,r=e.count||e.limit||100,i=e.reverse||"false",o=e.error||function(){},a=e.auth_key||Y,s=e.cipher_key,c=e.channel,l=e.channel_group,u=e.start,d=e.end,f=e.include_token,p=e.string_message_token||!1,m={},g=Se();return c||l?t?G?(m.stringtoken="true",m.count=r,m.reverse=i,m.auth=a,l&&(m["channel-group"]=l,c||(c=",")),g&&(m.callback=g),u&&(m.start=u),d&&(m.end=d),f&&(m.include_token="true"),p&&(m.string_message_token="true"),void O({callback:g,data:n(m),success:function(e){if("object"==typeof e&&e.error)return void o({message:e.message,payload:e.payload});for(var n=e[0],r=[],i=0;i<n.length;i++)if(f){var a=v(n[i].message,s),c=n[i].timetoken;try{r.push({message:JSON.parse(a),timetoken:c})}catch(l){r.push({message:a,timetoken:c})}}else{var a=v(n[i],s);try{r.push(JSON.parse(a))}catch(l){r.push(a)}}t([r,e[1],e[2]])},fail:function(e){M(e,o)},url:[J,"v2","history","sub-key",G,"channel",h.encode(c)]})):xe("Missing Subscribe Key"):xe("Missing Callback"):xe("Missing Channel")},replay:function(e,t){var r,t=t||e.callback||function(){},i=e.auth_key||Y,o=e.source,a=e.destination,s=e.error||e.error||function(){},c=e.stop,l=e.start,u=e.end,h=e.reverse,d=e.limit,f=Se(),p={};return o?a?W?G?("0"!=f&&(p.callback=f),c&&(p.stop="all"),h&&(p.reverse="true"),l&&(p.start=l),u&&(p.end=u),d&&(p.count=d),p.auth=i,r=[J,"v1","replay",W,G,o,a],void O({callback:f,success:function(e){C(e,t,s)},fail:function(){t([0,"Disconnected"])},url:r,data:n(p)})):xe("Missing Subscribe Key"):xe("Missing Publish Key"):xe("Missing Destination Channel"):xe("Missing Source Channel")},auth:function(e){Y=e,te()},time:function(e){var t=Se(),r={uuid:Ee,auth:Y};Ae&&(r.instanceid=Me),O({callback:t,data:n(r),url:[J,"time",t],success:function(t){e(t[0])},fail:function(){e(0)}})},publish:function(e,t){var r=e.message;if(!r)return xe("Missing Message");var i,o,t=t||e.callback||r.callback||e.success||function(){},a=e.channel||r.channel,s=e.meta||e.metadata,c=e.auth_key||Y,l=e.cipher_key,u=e.error||r.error||function(){},f=e.post||!1,p=!("store_in_history"in e)||e.store_in_history,m=!("replicate"in e)||e.replicate,g=Se(),v="push";return e.prepend&&(v="unshift"),a?W?G?(r.getPubnubMessage&&(r=r.getPubnubMessage()),r=JSON.stringify(d(r,l)),o=[J,"publish",W,G,0,h.encode(a),g,h.encode(r)],i={uuid:Ee,auth:c},s&&"object"==typeof s&&(i.meta=JSON.stringify(s)),p||(i.store="0"),m||(i.norep="true"),Ae&&(i.instanceid=Me),ne[v]({callback:g,url:o,data:n(i),fail:function(e){M(e,u),E(1)},success:function(e){C(e,t,u),E(1)},mode:f?"POST":"GET"}),void E()):xe("Missing Subscribe Key"):xe("Missing Publish Key"):xe("Missing Channel")},fire:function(e,t){e.store_in_history=!1,e.replicate=!1,Le.publish(e,t)},unsubscribe:function(e,t){var n=e.channel,r=e.channel_group,i=e.auth_key||Y,t=t||e.callback||function(){},o=e.error||function(){};if(!n&&!r)return xe("Missing Channel or Channel Group");if(!G)return xe("Missing Subscribe Key");if(n){var a=h.isArray(n)?n:(""+n).split(","),s=[],c=[];if(h.each(a,function(e){he[e]&&s.push(e)}),0==s.length)return void t({action:"leave"});h.each(s,function(e){c.push(e+m)}),h.each(s.concat(c),function(e){e in he&&delete he[e],e in fe&&delete fe[e]}),0===he.length&&0===de.length&&(le=0);var l=!0;f&&(l=Le.LEAVE(s.join(","),0,i,t,o)),l||t({action:"leave"})}if(r){var u=h.isArray(r)?r:(""+r).split(","),d=[],p=[];if(h.each(u,function(e){de[e]&&d.push(e)}),0==d.length)return void t({action:"leave"});h.each(d,function(e){p.push(e+m)}),h.each(d.concat(p),function(e){e in de&&delete de[e],e in fe&&delete fe[e]}),0===he.length&&0===de.length&&(le=0);var l=!0;f&&(l=Le.LEAVE_GROUP(d.join(","),0,i,t,o)),l||t({action:"leave"})}te()},subscribe:function(e,t){function r(e){e?h.timeout(te,E):(J=S(Z),ee=S(Z),h.timeout(function(){Le.time(r)},w)),T(function(t){return e&&t.disconnected?(t.disconnected=0,t.reconnect(t.name)):void(e||t.disconnected||(t.disconnected=1,t.disconnect(t.name)))}),A(function(t){return e&&t.disconnected?(t.disconnected=0,t.reconnect(t.name)):void(e||t.disconnected||(t.disconnected=1,t.disconnect(t.name)))})}function a(){var e=Se(),t=i(he).join(","),s=o(de).join(",");if(t||s){t||(t=","),L();var c=n({uuid:Ee,auth:Y});s&&(c["channel-group"]=s);var l=JSON.stringify(fe);l.length>2&&(c.state=JSON.stringify(fe)),me&&(c.heartbeat=me),Ae&&(c.instanceid=Me),P(),se=O({timeout:j,callback:e,fail:function(e){e&&e.error&&e.service?(M(e,g),r(!1)):Le.time(function(t){!t&&M(e,g),r(t)})},data:n(c),url:[ee,"subscribe",G,h.encode(t),e,le],success:function(e){if(!e||"object"==typeof e&&"error"in e&&e.error)return g(e),h.timeout(te,w);if(b(e[1]),le=!le&&ce&&je.get(G)||e[1],T(function(e){e.connected||(e.connected=1,e.connect(e.name))}),A(function(e){e.connected||(e.connected=1,e.connect(e.name))}),ue&&!ce)return le=0,ue=!1,je.set(G,0),void h.timeout(a,E);x&&(le=1e4,x=0),je.set(G,e[1]);var t=function(){var t="",n="";e.length>3?(t=e[3],n=e[2]):t=e.length>2?e[2]:h.map(i(he),function(t){return h.map(Array(e[0].length).join(",").split(","),function(){return t})}).join(",");var r=t.split(","),o=n?n.split(","):[];return function(){var e=r.shift()||ae,t=o.shift(),n={},i={callback:function(){}};t?(e&&e.indexOf("-pnpres")>=0&&t.indexOf("-pnpres")<0&&(t+="-pnpres"),n=de[t]||he[t]||i):n=he[e]||i;var a=[n.callback||oe,e.split(m)[0]];return t&&a.push(t.split(m)[0]),a}}(),n=R(+e[1]);h.each(e[0],function(r){var i=t(),o=v(r,he[i[1]]?he[i[1]].cipher_key:null);i[0]&&i[0](o,e,i[2]||i[1],n,i[1])}),h.timeout(a,E)}})}}var s=e.channel,c=e.channel_group,t=t||e.callback,t=t||e.message,l=e.connect||function(){},u=e.reconnect||function(){},d=e.disconnect||function(){},g=e.error||g||function(){},b=e.idle||function(){},y=e.presence||0,_=e.noheresync||0,x=e.backfill||0,k=e.timetoken||0,j=e.timeout||B,E=e.windowing||z,C=e.state,I=e.heartbeat||e.pnexpires,F=e.heartbeat_interval,D=e.restore||ce;return Y=e.auth_key||Y,ce=D,le=k,s||c?t?G?((I||0===I||F||0===F)&&Le.set_heartbeat(I,F),s&&h.each((s.join?s.join(","):""+s).split(","),function(r){var i=he[r]||{};he[ae=r]={name:r,connected:i.connected,disconnected:i.disconnected,subscribed:1,callback:oe=t,cipher_key:e.cipher_key,connect:l,disconnect:d,reconnect:u},C&&(r in C?fe[r]=C[r]:fe[r]=C),y&&(Le.subscribe({channel:r+m,callback:y,restore:D}),i.subscribed||_||Le.here_now({channel:r,data:n({uuid:Ee,auth:Y}),callback:function(e){h.each("uuids"in e?e.uuids:[],function(t){y({action:"join",uuid:t,timestamp:Math.floor(h.rnow()/1e3),occupancy:e.occupancy||1},e,r)})}}))}),c&&h.each((c.join?c.join(","):""+c).split(","),function(r){var i=de[r]||{};de[r]={name:r,connected:i.connected,disconnected:i.disconnected,subscribed:1,callback:oe=t,cipher_key:e.cipher_key,connect:l,disconnect:d,reconnect:u},y&&(Le.subscribe({channel_group:r+m,callback:y,restore:D,auth_key:Y}),i.subscribed||_||Le.here_now({channel_group:r,data:n({uuid:Ee,auth:Y}),callback:function(e){h.each("uuids"in e?e.uuids:[],function(t){y({action:"join",uuid:t,timestamp:Math.floor(h.rnow()/1e3),occupancy:e.occupancy||1},e,r)})}}))}),te=function(){L(),h.timeout(a,E)},f?void te():p.push(te)):xe("Missing Subscribe Key"):xe("Missing Callback"):xe("Missing Channel")},here_now:function(e,t){var t=e.callback||t,r=e.debug,i=e.error||function(){},o=e.auth_key||Y,a=e.channel,s=e.channel_group,c=Se(),l=!("uuids"in e)||e.uuids,u=e.state,d={uuid:Ee,auth:o};if(l||(d.disable_uuids=1),u&&(d.state=1),!t)return xe("Missing Callback");if(!G)return xe("Missing Subscribe Key");var f=[J,"v2","presence","sub_key",G];a&&f.push("channel")&&f.push(h.encode(a)),"0"!=c&&(d.callback=c),s&&(d["channel-group"]=s,!a&&f.push("channel")&&f.push(",")),Ae&&(d.instanceid=Me),O({callback:c,data:n(d),success:function(e){C(e,t,i)},fail:function(e){M(e,i)},debug:r,url:f})},where_now:function(e,t){var t=e.callback||t,r=e.error||function(){},i=e.auth_key||Y,o=Se(),a=e.uuid||Ee,s={auth:i};return t?G?("0"!=o&&(s.callback=o),Ae&&(s.instanceid=Me),void O({callback:o,data:n(s),success:function(e){C(e,t,r)},fail:function(e){M(e,r)},url:[J,"v2","presence","sub_key",G,"uuid",h.encode(a)]})):xe("Missing Subscribe Key"):xe("Missing Callback")},state:function(e,t){var r,t=e.callback||t||function(e){},i=e.error||function(){},o=e.auth_key||Y,a=Se(),s=e.state,c=e.uuid||Ee,l=e.channel,u=e.channel_group,d=n({auth:o});return G?c?l||u?("0"!=a&&(d.callback=a),"undefined"!=typeof l&&he[l]&&he[l].subscribed&&s&&(fe[l]=s),"undefined"!=typeof u&&de[u]&&de[u].subscribed&&(s&&(fe[u]=s),d["channel-group"]=u,l||(l=",")),d.state=JSON.stringify(s),Ae&&(d.instanceid=Me),r=s?[J,"v2","presence","sub-key",G,"channel",l,"uuid",c,"data"]:[J,"v2","presence","sub-key",G,"channel",l,"uuid",h.encode(c)],void O({callback:a,data:n(d),success:function(e){C(e,t,i)},fail:function(e){M(e,i)},url:r})):xe("Missing Channel"):xe("Missing UUID"):xe("Missing Subscribe Key")},grant:function(e,t){var t=e.callback||t,r=e.error||function(){},i=e.channel||e.channels,o=e.channel_group,a=Se(),s=e.ttl,c=e.read?"1":"0",l=e.write?"1":"0",u=e.manage?"1":"0",d=e.auth_key||e.auth_keys;if(!t)return xe("Missing Callback");if(!G)return xe("Missing Subscribe Key");if(!W)return xe("Missing Publish Key");if(!K)return xe("Missing Secret Key");var f={w:l,r:c};e.manage&&(f.m=u),h.isArray(i)&&(i=i.join(",")),h.isArray(d)&&(d=d.join(",")),"undefined"!=typeof i&&null!=i&&i.length>0&&(f.channel=i),"undefined"!=typeof o&&null!=o&&o.length>0&&(f["channel-group"]=o),"0"!=a&&(f.callback=a),(s||0===s)&&(f.ttl=s),d&&(f.auth=d),f=n(f),d||delete f.auth,O({operation:"PNAccessManagerGrant",callback:a,data:f,success:function(e){C(e,t,r)},fail:function(e){M(e,r)},url:[J,"v1","auth","grant","sub-key",G]})},mobile_gw_provision:function(e){var t,n,r=e.callback||function(){},i=e.auth_key||Y,o=e.error||function(){},a=Se(),s=e.channel,c=e.op,l=e.gw_type,u=e.device_id;return u?l?c?s?G?(n=[J,"v1/push/sub-key",G,"devices",u],t={uuid:Ee,auth:i,type:l},"add"==c?t.add=s:"remove"==c&&(t.remove=s),Ae&&(t.instanceid=Me),void O({callback:a,data:t,success:function(e){C(e,r,o)},fail:function(e){M(e,o)},url:n})):xe("Missing Subscribe Key"):xe("Missing gw destination Channel (channel)"):xe("Missing GW Operation (op: add or remove)"):xe("Missing GW Type (gw_type: gcm or apns)"):xe("Missing Device ID (device_id)")},audit:function(e,t){var t=e.callback||t,r=e.error||function(){},i=e.channel,o=e.channel_group,a=e.auth_key,s=Se();if(!t)return xe("Missing Callback");if(!G)return xe("Missing Subscribe Key");if(!W)return xe("Missing Publish Key");if(!K)return xe("Missing Secret Key");var c={};"0"!=s&&(c.callback=s),"undefined"!=typeof i&&null!=i&&i.length>0&&(c.channel=i),"undefined"!=typeof o&&null!=o&&o.length>0&&(c["channel-group"]=o),a&&(c.auth=a),c=n(c),a||delete c.auth,O({operation:"PNAccessManagerAudit",callback:s,data:c,success:function(e){C(e,t,r)},fail:function(e){M(e,r)},url:[J,"v1","auth","audit","sub-key",G]})},revoke:function(e,t){e.read=!1,e.write=!1,Le.grant(e,t)},set_uuid:function(e){Ee=e,te()},get_uuid:function(){return Ee},isArray:function(e){return h.isArray(e)},get_subscribed_channels:function(){return i(he,!0)},presence_heartbeat:function(e){var t=e.callback||function(){},r=e.error||function(){},a=Se(),s={uuid:Ee,auth:Y},c=JSON.stringify(fe);c.length>2&&(s.state=JSON.stringify(fe)),me>0&&me<320&&(s.heartbeat=me),"0"!=a&&(s.callback=a);var l=h.encode(i(he,!0).join(",")),u=o(de,!0).join(",");l||(l=","),u&&(s["channel-group"]=u),Ae&&(s.instanceid=Me),O({callback:a,data:n(s),url:[J,"v2","presence","sub-key",G,"channel",l,"heartbeat"],success:function(e){C(e,t,r)},fail:function(e){M(e,r)}})},stop_timers:function(){clearTimeout(U),clearTimeout($),clearTimeout(pe)},shutdown:function(){Le.stop_timers(),Oe&&Oe()},xdr:we,ready:a,db:je,uuid:h.generateUUID,map:h.map,each:h.each,"each-channel":T,grep:h.grep,offline:function(){L(1,{message:"Offline. Please check your network settings."})},supplant:h.supplant,now:h.rnow,unique:r,updater:h.updater};return Ee||(Ee=Le.uuid()),Me||(Me=Le.uuid()),je.set(G+"uuid",Ee),U=h.timeout(F,w),$=h.timeout(D,q),pe=h.timeout(P,(ge-3)*w),N(),Le}var l=n(2),u=n(3),h=n(4),d=1,f=!1,p=[],m="-pnpres",g=10,v=15e3,b=310,y=60,w=1e3,_=5,x=30,k=l.version,S=function(){var e=20,t=Math.floor(Math.random()*e);return function(n){var r=n.split("://")[0],i=n.split("://")[1];return i.match("^ps")?r+"://"+i.replace("ps","ps"+(++t<e?t:t=1)):i.match("^pubsub")?r+"://"+i.replace("pubsub","ps"+(++t<e?t:t=1)):n}}();e.exports={PN_API:c,unique:r,PNmessage:s,DEF_TIMEOUT:v,timeout:h.timeout,build_url:h.buildURL,each:h.each,uuid:h.generateUUID,URLBIT:u.URLBIT,grep:h.grep,supplant:h.supplant,now:h.rnow,updater:h.updater,map:h.map}},function(e,t){e.exports={name:"pubnub",preferGlobal:!1,version:"3.16.5",author:"PubNub <support@pubnub.com>",description:"Publish & Subscribe Real-time Messaging with PubNub",contributors:[{name:"Stephen Blum",email:"stephen@pubnub.com"}],bin:{},scripts:{test:"grunt test --force"},main:"./node.js/pubnub.js",browser:"./modern/dist/pubnub.js",repository:{type:"git",url:"git://github.com/pubnub/javascript.git"},keywords:["cloud","publish","subscribe","websockets","comet","bosh","xmpp","real-time","messaging"],dependencies:{agentkeepalive:"~0.2",lodash:"^4.1.0"},noAnalyze:!1,devDependencies:{chai:"^3.5.0",eslint:"2.4.0","eslint-config-airbnb":"^6.0.2","eslint-plugin-flowtype":"^2.1.0","eslint-plugin-mocha":"^2.0.0","eslint-plugin-react":"^4.1.0","flow-bin":"^0.22.0",grunt:"^0.4.5","grunt-contrib-clean":"^1.0.0","grunt-contrib-copy":"^0.8.2","grunt-contrib-uglify":"^0.11.1","grunt-env":"^0.4.4","grunt-eslint":"^18.0.0","grunt-flow":"^1.0.3","grunt-karma":"^0.12.1","grunt-mocha-istanbul":"^3.0.1","grunt-text-replace":"^0.4.0","grunt-webpack":"^1.0.11","imports-loader":"^0.6.5",isparta:"^4.0.0","json-loader":"^0.5.4",karma:"^0.13.21","karma-chai":"^0.1.0","karma-mocha":"^0.2.1","karma-phantomjs-launcher":"^1.0.0","karma-spec-reporter":"0.0.24","load-grunt-tasks":"^3.4.0",mocha:"^2.4.5",nock:"^1.1.0","node-uuid":"^1.4.7",nodeunit:"^0.9.0","phantomjs-prebuilt":"^2.1.4",proxyquire:"^1.7.4",sinon:"^1.17.2","uglify-js":"^2.6.1",underscore:"^1.7.0",webpack:"^1.12.13","webpack-dev-server":"^1.14.1"},bundleDependencies:[],license:"MIT",engine:{node:">=0.8"},files:["core","node.js","modern","CHANGELOG","FUTURE.md","LICENSE","README.md"]}},function(e,t){e.exports={PARAMSBIT:"&",URLBIT:"/"}},function(e,t,n){function r(){return+new Date}function i(e){return!!e&&"string"!=typeof e&&(Array.isArray&&Array.isArray(e)||"number"==typeof e.length)}function o(e,t){if(e&&t)if(i(e))for(var n=0,r=e.length;n<r;)t.call(e[n],e[n],n++);else for(var n in e)e.hasOwnProperty&&e.hasOwnProperty(n)&&t.call(e[n],n,e[n])}function a(e){return encodeURIComponent(e)}function s(e,t){var n=e.join(m.URLBIT),r=[];return t?(o(t,function(e,t){var n="object"==typeof t?JSON.stringify(t):t;"undefined"!=typeof t&&null!==t&&a(n).length>0&&r.push(e+"="+a(n))}),n+="?"+r.join(m.PARAMSBIT)):n}function c(e,t){var n,i=0,o=function(){i+t>r()?(clearTimeout(n),n=setTimeout(o,t)):(i=r(),e())};return o}function l(e,t){var n=[];return o(e||[],function(e){t(e)&&n.push(e)}),n}function u(e,t){return e.replace(g,function(e,n){return t[n]||e})}function h(e,t){if("undefined"!=typeof setTimeout)return setTimeout(e,t)}function d(e){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)});return e&&e(t),t}function f(e,t){var n=[];return o(e||[],function(e,r){n.push(t(e,r))}),n}function p(e){return encodeURIComponent(e).replace(/[!'()*~]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}var m=n(3),g=/{([\w\-]+)}/g;e.exports={buildURL:s,encode:a,each:o,updater:c,rnow:r,isArray:i,map:f,pamEncode:p,generateUUID:d,timeout:h,supplant:u,grep:l}},function(e,t,n){function r(){function e(e){return i.SHA256(e).toString(i.enc.Hex)}function t(e){return e=e||{},e.hasOwnProperty("encryptKey")||(e.encryptKey=h.encryptKey),e.hasOwnProperty("keyEncoding")||(e.keyEncoding=h.keyEncoding),e.hasOwnProperty("keyLength")||(e.keyLength=h.keyLength),e.hasOwnProperty("mode")||(e.mode=h.mode),c.indexOf(e.keyEncoding.toLowerCase())==-1&&(e.keyEncoding=h.keyEncoding),l.indexOf(parseInt(e.keyLength,10))==-1&&(e.keyLength=h.keyLength),u.indexOf(e.mode.toLowerCase())==-1&&(e.mode=h.mode),e}function n(e,t){return"base64"===t.keyEncoding?i.enc.Base64.parse(e):"hex"===t.keyEncoding?i.enc.Hex.parse(e):e}function r(t,r){return t=n(t,r),r.encryptKey?i.enc.Utf8.parse(e(t).slice(0,32)):t}function o(e){return"ecb"===e.mode?i.mode.ECB:i.mode.CBC}function a(e){return"cbc"===e.mode?i.enc.Utf8.parse(s):null}var s="0123456789012345",c=["hex","utf8","base64","binary"],l=[128,256],u=["ecb","cbc"],h={encryptKey:!0,keyEncoding:"utf8",keyLength:256,mode:"cbc"};return{encrypt:function(e,n,s){if(!n)return e;s=t(s);var c=a(s),l=o(s),u=r(n,s),h=JSON.stringify(e),d=i.AES.encrypt(h,u,{iv:c,mode:l}).ciphertext,f=d.toString(i.enc.Base64);return f||e},decrypt:function(e,n,s){if(!n)return e;s=t(s);var c=a(s),l=o(s),u=r(n,s);try{var h=i.enc.Base64.parse(e),d=i.AES.decrypt({ciphertext:h},u,{iv:c,mode:l}).toString(i.enc.Utf8),f=JSON.parse(d);return f}catch(p){return}}}}var i=n(6);e.exports=r},function(e,t){var n=n||function(e,t){var n={},r=n.lib={},i=function(){},o=r.Base={extend:function(e){i.prototype=this;var t=new i;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=r.WordArray=o.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes;if(e=e.sigBytes,this.clamp(),r%4)for(var i=0;i<e;i++)t[r+i>>>2]|=(n[i>>>2]>>>24-8*(i%4)&255)<<24-8*((r+i)%4);else if(65535<n.length)for(i=0;i<e;i+=4)t[r+i>>>2]=n[i>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-8*(n%4),t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;r<t;r+=4)n.push(4294967296*e.random()|0);return new a.init(n,t)}}),s=n.enc={},c=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++){var i=t[r>>>2]>>>24-8*(r%4)&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-4*(r%8);return new a.init(n,t/2)}},l=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++)n.push(String.fromCharCode(t[r>>>2]>>>24-8*(r%4)&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-8*(r%4);return new a.init(n,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},h=r.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,s=i/(4*o),s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0);if(t=s*o,i=e.min(4*t,i),t){for(var c=0;c<t;c+=o)this._doProcessBlock(r,c);c=r.splice(0,t),n.sigBytes-=i}return new a.init(c,i)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});r.Hasher=h.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),
this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new d.HMAC.init(e,n).finalize(t)}}});var d=n.algo={};return n}(Math);!function(e){for(var t=n,r=t.lib,i=r.WordArray,o=r.Hasher,r=t.algo,a=[],s=[],c=function(e){return 4294967296*(e-(0|e))|0},l=2,u=0;64>u;){var h;e:{h=l;for(var d=e.sqrt(h),f=2;f<=d;f++)if(!(h%f)){h=!1;break e}h=!0}h&&(8>u&&(a[u]=c(e.pow(l,.5))),s[u]=c(e.pow(l,1/3)),u++),l++}var p=[],r=r.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],c=n[4],l=n[5],u=n[6],h=n[7],d=0;64>d;d++){if(16>d)p[d]=0|e[t+d];else{var f=p[d-15],m=p[d-2];p[d]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+p[d-7]+((m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10)+p[d-16]}f=h+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&l^~c&u)+s[d]+p[d],m=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&o^i&o),h=u,u=l,l=c,c=a+f|0,a=o,o=i,i=r,r=f+m|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+c|0,n[5]=n[5]+l|0,n[6]=n[6]+u|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[(i+64>>>9<<4)+14]=e.floor(r/4294967296),n[(i+64>>>9<<4)+15]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(r),t.HmacSHA256=o._createHmacHelper(r)}(Math),function(){var e=n,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,n){e=this._hasher=new e.init,"string"==typeof n&&(n=t.parse(n));var r=e.blockSize,i=4*r;n.sigBytes>i&&(n=e.finalize(n)),n.clamp();for(var o=this._oKey=n.clone(),a=this._iKey=n.clone(),s=o.words,c=a.words,l=0;l<r;l++)s[l]^=1549556828,c[l]^=909522486;o.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),function(){var e=n,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var i=0;i<n;i+=3)for(var o=(t[i>>>2]>>>24-8*(i%4)&255)<<16|(t[i+1>>>2]>>>24-8*((i+1)%4)&255)<<8|t[i+2>>>2]>>>24-8*((i+2)%4)&255,a=0;4>a&&i+.75*a<n;a++)e.push(r.charAt(o>>>6*(3-a)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,r=this._map,i=r.charAt(64);i&&(i=e.indexOf(i),-1!=i&&(n=i));for(var i=[],o=0,a=0;a<n;a++)if(a%4){var s=r.indexOf(e.charAt(a-1))<<2*(a%4),c=r.indexOf(e.charAt(a))>>>6-2*(a%4);i[o>>>2]|=(s|c)<<24-8*(o%4),o++}return t.create(i,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,n,r,i,o,a){return e=e+(t&n|~t&r)+i+a,(e<<o|e>>>32-o)+t}function r(e,t,n,r,i,o,a){return e=e+(t&r|n&~r)+i+a,(e<<o|e>>>32-o)+t}function i(e,t,n,r,i,o,a){return e=e+(t^n^r)+i+a,(e<<o|e>>>32-o)+t}function o(e,t,n,r,i,o,a){return e=e+(n^(t|~r))+i+a,(e<<o|e>>>32-o)+t}for(var a=n,s=a.lib,c=s.WordArray,l=s.Hasher,s=a.algo,u=[],h=0;64>h;h++)u[h]=4294967296*e.abs(e.sin(h+1))|0;s=s.MD5=l.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,n){for(var a=0;16>a;a++){var s=n+a,c=e[s];e[s]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}var a=this._hash.words,s=e[n+0],c=e[n+1],l=e[n+2],h=e[n+3],d=e[n+4],f=e[n+5],p=e[n+6],m=e[n+7],g=e[n+8],v=e[n+9],b=e[n+10],y=e[n+11],w=e[n+12],_=e[n+13],x=e[n+14],k=e[n+15],S=a[0],j=a[1],P=a[2],E=a[3],S=t(S,j,P,E,s,7,u[0]),E=t(E,S,j,P,c,12,u[1]),P=t(P,E,S,j,l,17,u[2]),j=t(j,P,E,S,h,22,u[3]),S=t(S,j,P,E,d,7,u[4]),E=t(E,S,j,P,f,12,u[5]),P=t(P,E,S,j,p,17,u[6]),j=t(j,P,E,S,m,22,u[7]),S=t(S,j,P,E,g,7,u[8]),E=t(E,S,j,P,v,12,u[9]),P=t(P,E,S,j,b,17,u[10]),j=t(j,P,E,S,y,22,u[11]),S=t(S,j,P,E,w,7,u[12]),E=t(E,S,j,P,_,12,u[13]),P=t(P,E,S,j,x,17,u[14]),j=t(j,P,E,S,k,22,u[15]),S=r(S,j,P,E,c,5,u[16]),E=r(E,S,j,P,p,9,u[17]),P=r(P,E,S,j,y,14,u[18]),j=r(j,P,E,S,s,20,u[19]),S=r(S,j,P,E,f,5,u[20]),E=r(E,S,j,P,b,9,u[21]),P=r(P,E,S,j,k,14,u[22]),j=r(j,P,E,S,d,20,u[23]),S=r(S,j,P,E,v,5,u[24]),E=r(E,S,j,P,x,9,u[25]),P=r(P,E,S,j,h,14,u[26]),j=r(j,P,E,S,g,20,u[27]),S=r(S,j,P,E,_,5,u[28]),E=r(E,S,j,P,l,9,u[29]),P=r(P,E,S,j,m,14,u[30]),j=r(j,P,E,S,w,20,u[31]),S=i(S,j,P,E,f,4,u[32]),E=i(E,S,j,P,g,11,u[33]),P=i(P,E,S,j,y,16,u[34]),j=i(j,P,E,S,x,23,u[35]),S=i(S,j,P,E,c,4,u[36]),E=i(E,S,j,P,d,11,u[37]),P=i(P,E,S,j,m,16,u[38]),j=i(j,P,E,S,b,23,u[39]),S=i(S,j,P,E,_,4,u[40]),E=i(E,S,j,P,s,11,u[41]),P=i(P,E,S,j,h,16,u[42]),j=i(j,P,E,S,p,23,u[43]),S=i(S,j,P,E,v,4,u[44]),E=i(E,S,j,P,w,11,u[45]),P=i(P,E,S,j,k,16,u[46]),j=i(j,P,E,S,l,23,u[47]),S=o(S,j,P,E,s,6,u[48]),E=o(E,S,j,P,m,10,u[49]),P=o(P,E,S,j,x,15,u[50]),j=o(j,P,E,S,f,21,u[51]),S=o(S,j,P,E,w,6,u[52]),E=o(E,S,j,P,h,10,u[53]),P=o(P,E,S,j,b,15,u[54]),j=o(j,P,E,S,c,21,u[55]),S=o(S,j,P,E,g,6,u[56]),E=o(E,S,j,P,k,10,u[57]),P=o(P,E,S,j,p,15,u[58]),j=o(j,P,E,S,_,21,u[59]),S=o(S,j,P,E,d,6,u[60]),E=o(E,S,j,P,y,10,u[61]),P=o(P,E,S,j,l,15,u[62]),j=o(j,P,E,S,v,21,u[63]);a[0]=a[0]+S|0,a[1]=a[1]+j|0,a[2]=a[2]+P|0,a[3]=a[3]+E|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296);for(n[(i+64>>>9<<4)+15]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[(i+64>>>9<<4)+14]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(n.length+1),this._process(),t=this._hash,n=t.words,r=0;4>r;r++)i=n[r],n[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);return t},clone:function(){var e=l.clone.call(this);return e._hash=this._hash.clone(),e}}),a.MD5=l._createHelper(s),a.HmacMD5=l._createHmacHelper(s)}(Math),function(){var e=n,t=e.lib,r=t.Base,i=t.WordArray,t=e.algo,o=t.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:t.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=n.hasher.create(),o=i.create(),a=o.words,s=n.keySize,n=n.iterations;a.length<s;){c&&r.update(c);var c=r.update(e).finalize(t);r.reset();for(var l=1;l<n;l++)c=r.finalize(c),r.reset();o.concat(c)}return o.sigBytes=4*s,o}});e.EvpKDF=function(e,t,n){return o.create(n).compute(e,t)}}(),n.lib.Cipher||function(e){var t=n,r=t.lib,i=r.Base,o=r.WordArray,a=r.BufferedBlockAlgorithm,s=t.enc.Base64,c=t.algo.EvpKDF,l=r.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,r){return("string"==typeof n?m:p).encrypt(e,t,n,r)},decrypt:function(t,n,r){return("string"==typeof n?m:p).decrypt(e,t,n,r)}}}});r.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var u=t.mode={},h=function(t,n,r){var i=this._iv;i?this._iv=e:i=this._prevBlock;for(var o=0;o<r;o++)t[n+o]^=i[o]},d=(r.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();d.Encryptor=d.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize;h.call(this,e,t,r),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),d.Decryptor=d.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=e.slice(t,t+r);n.decryptBlock(e,t),h.call(this,e,t,r),this._prevBlock=i}}),u=u.CBC=d,d=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,n=n-e.sigBytes%n,r=n<<24|n<<16|n<<8|n,i=[],a=0;a<n;a+=4)i.push(r);n=o.create(i,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},r.BlockCipher=l.extend({cfg:l.cfg.extend({mode:u,padding:d}),reset:function(){l.reset.call(this);var e=this.cfg,t=e.iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=e.createEncryptor;else n=e.createDecryptor,this._minBufferSize=1;this._mode=n.call(e,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var f=r.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),u=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return e=e.salt,(e?o.create([1398893684,1701076831]).concat(e).concat(t):t).toString(s)},parse:function(e){e=s.parse(e);var t=e.words;if(1398893684==t[0]&&1701076831==t[1]){var n=o.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return f.create({ciphertext:e,salt:n})}},p=r.SerializableCipher=i.extend({cfg:i.extend({format:u}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r);return t=i.finalize(t),i=i.cfg,f.create({ciphertext:t,key:n,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),t=(t.kdf={}).OpenSSL={execute:function(e,t,n,r){return r||(r=o.random(8)),e=c.create({keySize:t+n}).compute(e,r),n=o.create(e.words.slice(t),4*n),e.sigBytes=4*t,f.create({key:e,iv:n,salt:r})}},m=r.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:t}),encrypt:function(e,t,n,r){return r=this.cfg.extend(r),n=r.kdf.execute(n,e.keySize,e.ivSize),r.iv=n.iv,e=p.encrypt.call(this,e,t,n.key,r),e.mixIn(n),e},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),n=r.kdf.execute(n,e.keySize,e.ivSize,t.salt),r.iv=n.iv,p.decrypt.call(this,e,t,n.key,r)}})}(),function(){for(var e=n,t=e.lib.BlockCipher,r=e.algo,i=[],o=[],a=[],s=[],c=[],l=[],u=[],h=[],d=[],f=[],p=[],m=0;256>m;m++)p[m]=128>m?m<<1:m<<1^283;for(var g=0,v=0,m=0;256>m;m++){var b=v^v<<1^v<<2^v<<3^v<<4,b=b>>>8^255&b^99;i[g]=b,o[b]=g;var y=p[g],w=p[y],_=p[w],x=257*p[b]^16843008*b;a[g]=x<<24|x>>>8,s[g]=x<<16|x>>>16,c[g]=x<<8|x>>>24,l[g]=x,x=16843009*_^65537*w^257*y^16843008*g,u[b]=x<<24|x>>>8,h[b]=x<<16|x>>>16,d[b]=x<<8|x>>>24,f[b]=x,g?(g=y^p[p[p[_^y]]],v^=p[p[v]]):g=v=1}var k=[0,1,2,4,8,16,32,64,128,27,54],r=r.AES=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes/4,e=4*((this._nRounds=n+6)+1),r=this._keySchedule=[],o=0;o<e;o++)if(o<n)r[o]=t[o];else{var a=r[o-1];o%n?6<n&&4==o%n&&(a=i[a>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a]):(a=a<<8|a>>>24,a=i[a>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a],a^=k[o/n|0]<<24),r[o]=r[o-n]^a}for(t=this._invKeySchedule=[],n=0;n<e;n++)o=e-n,a=n%4?r[o]:r[o-4],t[n]=4>n||4>=o?a:u[i[a>>>24]]^h[i[a>>>16&255]]^d[i[a>>>8&255]]^f[i[255&a]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,c,l,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,h,d,f,o),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,a,s){for(var c=this._nRounds,l=e[t]^n[0],u=e[t+1]^n[1],h=e[t+2]^n[2],d=e[t+3]^n[3],f=4,p=1;p<c;p++)var m=r[l>>>24]^i[u>>>16&255]^o[h>>>8&255]^a[255&d]^n[f++],g=r[u>>>24]^i[h>>>16&255]^o[d>>>8&255]^a[255&l]^n[f++],v=r[h>>>24]^i[d>>>16&255]^o[l>>>8&255]^a[255&u]^n[f++],d=r[d>>>24]^i[l>>>16&255]^o[u>>>8&255]^a[255&h]^n[f++],l=m,u=g,h=v;m=(s[l>>>24]<<24|s[u>>>16&255]<<16|s[h>>>8&255]<<8|s[255&d])^n[f++],g=(s[u>>>24]<<24|s[h>>>16&255]<<16|s[d>>>8&255]<<8|s[255&l])^n[f++],v=(s[h>>>24]<<24|s[d>>>16&255]<<16|s[l>>>8&255]<<8|s[255&u])^n[f++],d=(s[d>>>24]<<24|s[l>>>16&255]<<16|s[u>>>8&255]<<8|s[255&h])^n[f++],e[t]=m,e[t+1]=g,e[t+2]=v,e[t+3]=d},keySize:8});e.AES=t._createHelper(r)}(),n.mode.ECB=function(){var e=n.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),e.Decryptor=e.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),e}(),e.exports=n},function(e,t){var n=function(e,t){if(!(this instanceof n))return new n(e,t);var r=this,e=r.url=e||"",i=(r.protocol=t||"Sec-WebSocket-Protocol",e.split("/")),o={ssl:"wss:"===i[0],origin:i[2],publish_key:i[3],subscribe_key:i[4],channel:i[5]};return r.CONNECTING=0,r.OPEN=1,r.CLOSING=2,r.CLOSED=3,r.CLOSE_NORMAL=1e3,r.CLOSE_GOING_AWAY=1001,r.CLOSE_PROTOCOL_ERROR=1002,r.CLOSE_UNSUPPORTED=1003,r.CLOSE_TOO_LARGE=1004,r.CLOSE_NO_STATUS=1005,r.CLOSE_ABNORMAL=1006,r.onclose=r.onerror=r.onmessage=r.onopen=r.onsend=function(){},r.binaryType="",r.extensions="",r.bufferedAmount=0,r.trasnmitting=!1,r.buffer=[],r.readyState=r.CONNECTING,e?(r.pubnub=PUBNUB.init(o),r.pubnub.setup=o,r.setup=o,void r.pubnub.subscribe({restore:!1,channel:o.channel,disconnect:r.onerror,reconnect:r.onopen,error:function(){r.onclose({code:r.CLOSE_ABNORMAL,reason:"Missing URL",wasClean:!1})},callback:function(e){r.onmessage({data:e})},connect:function(){r.readyState=r.OPEN,r.onopen()}})):(r.readyState=r.CLOSED,r.onclose({code:r.CLOSE_ABNORMAL,reason:"Missing URL",wasClean:!0}),r)};n.prototype.send=function(e){var t=this;t.pubnub.publish({channel:t.pubnub.setup.channel,message:e,callback:function(e){t.onsend({data:e})}})},n.prototype.close=function(){var e=this;e.pubnub.unsubscribe({channel:e.pubnub.setup.channel}),e.readyState=e.CLOSED,e.onclose({})},e.exports=n}])})},{}],360:[function(e,t,n){"use strict";var r=String.prototype.replace,i=/%20/g;t.exports={"default":"RFC3986",formatters:{RFC1738:function(e){return r.call(e,i,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},{}],361:[function(e,t,n){"use strict";var r=e("./stringify"),i=e("./parse"),o=e("./formats");t.exports={formats:o,parse:i,stringify:r}},{"./formats":360,"./parse":362,"./stringify":363}],362:[function(e,t,n){"use strict";var r=e("./utils"),i=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:r.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},a=function(e,t){for(var n={},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=t.parameterLimit===1/0?void 0:t.parameterLimit,s=r.split(t.delimiter,a),c=0;c<s.length;++c){var l,u,h=s[c],d=h.indexOf("]="),f=d===-1?h.indexOf("="):d+1;f===-1?(l=t.decoder(h,o.decoder),u=t.strictNullHandling?null:""):(l=t.decoder(h.slice(0,f),o.decoder),u=t.decoder(h.slice(f+1),o.decoder)),i.call(n,l)?n[l]=[].concat(n[l]).concat(u):n[l]=u}return n},s=function(e,t,n){for(var r=t,i=e.length-1;i>=0;--i){var o,a=e[i];if("[]"===a)o=[],o=o.concat(r);else{o=n.plainObjects?Object.create(null):{};var s="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(s,10);!isNaN(c)&&a!==s&&String(c)===s&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(o=[],o[c]=r):o[s]=r}r=o}return r},c=function(e,t,n){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=o.exec(r),l=c?r.slice(0,c.index):r,u=[];if(l){if(!n.plainObjects&&i.call(Object.prototype,l)&&!n.allowPrototypes)return;u.push(l)}for(var h=0;null!==(c=a.exec(r))&&h<n.depth;){if(h+=1,!n.plainObjects&&i.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(c[1])}return c&&u.push("["+r.slice(c.index)+"]"),s(u,t,n)}};t.exports=function(e,t){var n=t?r.assign({},t):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=n.ignoreQueryPrefix===!0,n.delimiter="string"==typeof n.delimiter||r.isRegExp(n.delimiter)?n.delimiter:o.delimiter,n.depth="number"==typeof n.depth?n.depth:o.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:o.arrayLimit,n.parseArrays=n.parseArrays!==!1,n.decoder="function"==typeof n.decoder?n.decoder:o.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:o.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:o.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:o.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:o.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:o.strictNullHandling,""===e||null===e||"undefined"==typeof e)return n.plainObjects?Object.create(null):{};for(var i="string"==typeof e?a(e,n):e,s=n.plainObjects?Object.create(null):{},l=Object.keys(i),u=0;u<l.length;++u){var h=l[u],d=c(h,i[h],n);s=r.merge(s,d,n)}return r.compact(s)}},{"./utils":364}],363:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./formats"),o={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Date.prototype.toISOString,s={delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,serializeDate:function(e){return a.call(e)},skipNulls:!1,strictNullHandling:!1},c=function l(e,t,n,i,o,a,c,u,h,d,f,p){var m=e;if("function"==typeof c)m=c(t,m);else if(m instanceof Date)m=d(m);else if(null===m){if(i)return a&&!p?a(t,s.encoder):t;m=""}if("string"==typeof m||"number"==typeof m||"boolean"==typeof m||r.isBuffer(m)){if(a){var g=p?t:a(t,s.encoder);return[f(g)+"="+f(a(m,s.encoder))]}return[f(t)+"="+f(String(m))]}var v=[];if("undefined"==typeof m)return v;var b;if(Array.isArray(c))b=c;else{var y=Object.keys(m);b=u?y.sort(u):y}for(var w=0;w<b.length;++w){var _=b[w];o&&null===m[_]||(v=Array.isArray(m)?v.concat(l(m[_],n(t,_),n,i,o,a,c,u,h,d,f,p)):v.concat(l(m[_],t+(h?"."+_:"["+_+"]"),n,i,o,a,c,u,h,d,f,p)))}return v};t.exports=function(e,t){var n=e,a=t?r.assign({},t):{};if(null!==a.encoder&&void 0!==a.encoder&&"function"!=typeof a.encoder)throw new TypeError("Encoder has to be a function.");var l="undefined"==typeof a.delimiter?s.delimiter:a.delimiter,u="boolean"==typeof a.strictNullHandling?a.strictNullHandling:s.strictNullHandling,h="boolean"==typeof a.skipNulls?a.skipNulls:s.skipNulls,d="boolean"==typeof a.encode?a.encode:s.encode,f="function"==typeof a.encoder?a.encoder:s.encoder,p="function"==typeof a.sort?a.sort:null,m="undefined"!=typeof a.allowDots&&a.allowDots,g="function"==typeof a.serializeDate?a.serializeDate:s.serializeDate,v="boolean"==typeof a.encodeValuesOnly?a.encodeValuesOnly:s.encodeValuesOnly;if("undefined"==typeof a.format)a.format=i["default"];else if(!Object.prototype.hasOwnProperty.call(i.formatters,a.format))throw new TypeError("Unknown format option provided.");var b,y,w=i.formatters[a.format];"function"==typeof a.filter?(y=a.filter,n=y("",n)):Array.isArray(a.filter)&&(y=a.filter,b=y);var _=[];if("object"!=typeof n||null===n)return"";var x;x=a.arrayFormat in o?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":"indices";var k=o[x];b||(b=Object.keys(n)),p&&b.sort(p);for(var S=0;S<b.length;++S){var j=b[S];h&&null===n[j]||(_=_.concat(c(n[j],j,k,u,h,d?f:null,y,p,m,g,w,v)))}var P=_.join(l),E=a.addQueryPrefix===!0?"?":"";return P.length>0?E+P:""}},{"./formats":360,"./utils":364}],364:[function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),o=function(e){for(var t;e.length;){var n=e.pop();if(t=n.obj[n.prop],Array.isArray(t)){for(var r=[],i=0;i<t.length;++i)"undefined"!=typeof t[i]&&r.push(t[i]);n.obj[n.prop]=r}}return t};n.arrayToObject=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!=typeof e[r]&&(n[r]=e[r]);return n},n.merge=function(e,t,i){if(!t)return e;if("object"!=typeof t){if(Array.isArray(e))e.push(t);else{if("object"!=typeof e)return[e,t];(i.plainObjects||i.allowPrototypes||!r.call(Object.prototype,t))&&(e[t]=!0)}return e}if("object"!=typeof e)return[e].concat(t);var o=e;return Array.isArray(e)&&!Array.isArray(t)&&(o=n.arrayToObject(e,i)),Array.isArray(e)&&Array.isArray(t)?(t.forEach(function(t,o){r.call(e,o)?e[o]&&"object"==typeof e[o]?e[o]=n.merge(e[o],t,i):e.push(t):e[o]=t}),e):Object.keys(t).reduce(function(e,o){var a=t[o];return r.call(e,o)?e[o]=n.merge(e[o],a,i):e[o]=a,e},o)},n.assign=function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},n.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},n.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),n="",r=0;r<t.length;++r){var o=t.charCodeAt(r);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?n+=t.charAt(r):o<128?n+=i[o]:o<2048?n+=i[192|o>>6]+i[128|63&o]:o<55296||o>=57344?n+=i[224|o>>12]+i[128|o>>6&63]+i[128|63&o]:(r+=1,o=65536+((1023&o)<<10|1023&t.charCodeAt(r)),n+=i[240|o>>18]+i[128|o>>12&63]+i[128|o>>6&63]+i[128|63&o])}return n},n.compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],s=Object.keys(a),c=0;c<s.length;++c){var l=s[c],u=a[l];"object"==typeof u&&null!==u&&n.indexOf(u)===-1&&(t.push({obj:a,prop:l}),n.push(u))}return o(t)},n.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},n.isBuffer=function(e){return null!==e&&"undefined"!=typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},{}],365:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var l=e.length;c>0&&l>c&&(l=c);for(var u=0;u<l;++u){var h,d,f,p,m=e[u].replace(s,"%20"),g=m.indexOf(n);g>=0?(h=m.substr(0,g),d=m.substr(g+1)):(h=m,d=""),f=decodeURIComponent(h),p=decodeURIComponent(d),r(a,f)?i(a[f])?a[f].push(p):a[f]=[a[f],p]:a[f]=p}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],366:[function(e,t,n){"use strict";function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?r(a(e),function(a){var s=encodeURIComponent(i(a))+n;return o(e[a])?r(e[a],function(e){return s+encodeURIComponent(i(e))}).join(t):s+encodeURIComponent(i(e[a]))}).join(t):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],367:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":365,"./encode":366}],368:[function(e,t,n){(function(n,r){"use strict";function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function o(e,t){if(e>65536)throw new Error("requested too many random bytes");var i=new r.Uint8Array(e);e>0&&s.getRandomValues(i);var o=a.from(i.buffer);return"function"==typeof t?n.nextTick(function(){t(null,o)}):o}var a=e("safe-buffer").Buffer,s=r.crypto||r.msCrypto;s&&s.getRandomValues?t.exports=o:t.exports=i}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:352,"safe-buffer":383}],369:[function(e,t,n){!function(e,r){if("function"==typeof define&&define.amd)define([],r);else if("object"==typeof n){var i=r();"object"==typeof t&&t&&t.exports&&(n=t.exports=i),n.randomColor=i}else e.randomColor=r()}(this,function(){function e(e){var t=o(e.hue),n=c(t);return n<0&&(n=360+n),n}function t(e,t){if("random"===t.luminosity)return c([0,100]);if("monochrome"===t.hue)return 0;var n=a(e),r=n[0],i=n[1];switch(t.luminosity){case"bright":r=55;break;case"dark":r=i-10;break;case"light":i=55}return c([r,i])}function n(e,t,n){var r=i(e,t),o=100;switch(n.luminosity){case"dark":o=r+20;break;case"light":r=(o+r)/2;break;case"random":r=0,o=100}return c([r,o])}function r(e,t){switch(t.format){case"hsvArray":return e;case"hslArray":return f(e);case"hsl":var n=f(e);return"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)";case"hsla":var r=f(e);return"hsla("+r[0]+", "+r[1]+"%, "+r[2]+"%, "+Math.random()+")";case"rgbArray":return d(e);case"rgb":var i=d(e);return"rgb("+i.join(", ")+")";case"rgba":var o=d(e);return"rgba("+o.join(", ")+", "+Math.random()+")";default:return l(e)}}function i(e,t){for(var n=s(e).lowerBounds,r=0;r<n.length-1;r++){var i=n[r][0],o=n[r][1],a=n[r+1][0],c=n[r+1][1];if(t>=i&&t<=a){var l=(c-o)/(a-i),u=o-l*i;return l*t+u}}return 0}function o(e){if("number"==typeof parseInt(e)){var t=parseInt(e);if(t<360&&t>0)return[t,t]}if("string"==typeof e&&g[e]){var n=g[e];if(n.hueRange)return n.hueRange}return[0,360]}function a(e){return s(e).saturationRange}function s(e){e>=334&&e<=360&&(e-=360);for(var t in g){var n=g[t];if(n.hueRange&&e>=n.hueRange[0]&&e<=n.hueRange[1])return g[t]}return"Color not found"}function c(e){if(null===m)return Math.floor(e[0]+Math.random()*(e[1]+1-e[0]));var t=e[1]||1,n=e[0]||0;m=(9301*m+49297)%233280;var r=m/233280;return Math.floor(n+r*(t-n))}function l(e){function t(e){var t=e.toString(16);return 1==t.length?"0"+t:t}var n=d(e),r="#"+t(n[0])+t(n[1])+t(n[2]);return r}function u(e,t,n){var r=n[0][0],i=n[n.length-1][0],o=n[n.length-1][1],a=n[0][1];g[e]={hueRange:t,lowerBounds:n,saturationRange:[r,i],brightnessRange:[o,a]}}function h(){u("monochrome",null,[[0,0],[100,0]]),u("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),u("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),u("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),u("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),u("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),u("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),u("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function d(e){var t=e[0];0===t&&(t=1),360===t&&(t=359),t/=360;var n=e[1]/100,r=e[2]/100,i=Math.floor(6*t),o=6*t-i,a=r*(1-n),s=r*(1-o*n),c=r*(1-(1-o)*n),l=256,u=256,h=256;switch(i){case 0:l=r,u=c,h=a;break;case 1:l=s,u=r,h=a;break;case 2:l=a,u=r,h=c;break;case 3:l=a,u=s,h=r;break;case 4:l=c,u=a,h=r;break;case 5:l=r,u=a,h=s}var d=[Math.floor(255*l),Math.floor(255*u),Math.floor(255*h)];return d}function f(e){var t=e[0],n=e[1]/100,r=e[2]/100,i=(2-n)*r;return[t,Math.round(n*r/(i<1?i:2-i)*1e4)/100,i/2*100]}function p(e){for(var t=0,n=0;n!==e.length&&!(t>=Number.MAX_SAFE_INTEGER);n++)t+=e.charCodeAt(n);return t}var m=null,g={};h();var v=function(i){if(i=i||{},i.seed&&i.seed===parseInt(i.seed,10))m=i.seed;else if("string"==typeof i.seed)m=p(i.seed);else{if(void 0!==i.seed&&null!==i.seed)throw new TypeError("The seed value must be an integer or string");m=null}var o,a,s;if(null!==i.count&&void 0!==i.count){var c=i.count,l=[];for(i.count=null;c>l.length;)m&&i.seed&&(i.seed+=1),l.push(v(i));return i.count=c,l}return o=e(i),a=t(o,i),s=n(o,a,i),r([o,a,s],i)};return v})},{}],370:[function(e,t,n){"use strict";function r(e,t,n){"function"==typeof t&&(n=t);var r={};return"object"==typeof t?s(r,t,{uri:e}):"string"==typeof e?s(r,{uri:e}):s(r,e),r.callback=n||r.callback,r}function i(e,t,n){if("undefined"==typeof e)throw new Error("undefined is not a valid uri or options object.");var o=r(e,t,n);if("HEAD"===o.method&&u(o))throw new Error("HTTP HEAD requests MUST NOT include a request body.");return new i.Request(o)}function o(e){var t=e.toUpperCase();return function(e,n,o){var a=r(e,n,o);return a.method=t,i(a,a.callback)}}function a(e,t,n,i){return function(o,a,c){var l=r(o,a,c),u={};return s(!0,u,t,l),u.pool=l.pool||t.pool,i&&(u.method=i.toUpperCase()),"function"==typeof n&&(e=n),e(u,u.callback)}}var s=e("extend"),c=e("./lib/cookies"),l=e("./lib/helpers"),u=l.paramsHaveRequestBody;i.get=o("get"),i.head=o("head"),i.options=o("options"),i.post=o("post"),i.put=o("put"),i.patch=o("patch"),i.del=o("delete"),i["delete"]=o("delete"),i.jar=function(e){return c.jar(e)},i.cookie=function(e){return c.parse(e)},i.defaults=function(e,t){var n=this;e=e||{},"function"==typeof e&&(t=e,e={});var r=a(n,e,t),i=["get","head","post","put","patch","del","delete"];return i.forEach(function(i){r[i]=a(n[i],e,t,i)}),r.cookie=a(n.cookie,e,t),r.jar=n.jar,r.defaults=n.defaults,r},i.forever=function(e,t){var n={};return t&&s(n,t),e&&(n.agentOptions=e),n.forever=!0,i.defaults(n)},t.exports=i,i.Request=e("./request"),i.initParams=r,Object.defineProperty(i,"debug",{enumerable:!0,get:function(){return i.Request.debug},set:function(e){i.Request.debug=e}})},{"./lib/cookies":372,"./lib/helpers":375,"./request":381,extend:246}],371:[function(e,t,n){"use strict";function r(e){this.request=e,this.hasAuth=!1,this.sentAuth=!1,this.bearerToken=null,this.user=null,this.pass=null}var i=e("caseless"),o=e("uuid"),a=e("./helpers"),s=a.md5,c=a.toBase64;r.prototype.basic=function(e,t,n){var r=this;("string"!=typeof e||void 0!==t&&"string"!=typeof t)&&r.request.emit("error",new Error("auth() received invalid user or password")),r.user=e,r.pass=t,r.hasAuth=!0;var i=e+":"+(t||"");if(n||"undefined"==typeof n){var o="Basic "+c(i);return r.sentAuth=!0,o}},r.prototype.bearer=function(e,t){var n=this;if(n.bearerToken=e,n.hasAuth=!0,t||"undefined"==typeof t){"function"==typeof e&&(e=e());var r="Bearer "+(e||"");return n.sentAuth=!0,r}},r.prototype.digest=function(e,t,n){for(var r=this,i={},a=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;;){var c=a.exec(n);if(!c)break;i[c[1]]=c[2]||c[3]}var l=function(e,t,n,r,i,o){var a=s(t+":"+n+":"+r);return e&&"md5-sess"===e.toLowerCase()?s(a+":"+i+":"+o):a},u=/(^|,)\s*auth\s*($|,)/.test(i.qop)&&"auth",h=u&&"00000001",d=u&&o().replace(/-/g,""),f=l(i.algorithm,r.user,i.realm,r.pass,i.nonce,d),p=s(e+":"+t),m=s(u?f+":"+i.nonce+":"+h+":"+d+":"+u+":"+p:f+":"+i.nonce+":"+p),g={username:r.user,realm:i.realm,nonce:i.nonce,uri:t,qop:u,response:m,nc:h,cnonce:d,algorithm:i.algorithm,opaque:i.opaque};n=[];for(var v in g)g[v]&&("qop"===v||"nc"===v||"algorithm"===v?n.push(v+"="+g[v]):n.push(v+'="'+g[v]+'"'));return n="Digest "+n.join(", "),r.sentAuth=!0,n},r.prototype.onRequest=function(e,t,n,r){var i,o=this,a=o.request;void 0===r&&void 0===e?o.request.emit("error",new Error("no auth mechanism defined")):i=void 0!==r?o.bearer(r,n):o.basic(e,t,n),i&&a.setHeader("authorization",i)},r.prototype.onResponse=function(e){var t=this,n=t.request;if(!t.hasAuth||t.sentAuth)return null;var r=i(e.headers),o=r.get("www-authenticate"),a=o&&o.split(" ")[0].toLowerCase();switch(n.debug("reauth",a),a){case"basic":return t.basic(t.user,t.pass,!0);case"bearer":return t.bearer(t.bearerToken,!0);case"digest":return t.digest(n.method,n.path,o)}},n.Auth=r},{"./helpers":375,caseless:145,uuid:452}],372:[function(e,t,n){"use strict";function r(e){var t=this;t._jar=new a(e,{looseMode:!0})}var i=e("tough-cookie"),o=i.Cookie,a=i.CookieJar;n.parse=function(e){if(e&&e.uri&&(e=e.uri),"string"!=typeof e)throw new Error("The cookie function only accepts STRING as param");return o.parse(e,{loose:!0})},r.prototype.setCookie=function(e,t,n){var r=this;return r._jar.setCookieSync(e,t,n||{})},r.prototype.getCookieString=function(e){var t=this;return t._jar.getCookieStringSync(e)},r.prototype.getCookies=function(e){var t=this;return t._jar.getCookiesSync(e);
},n.jar=function(e){return new r(e)}},{"tough-cookie":432}],373:[function(e,t,n){(function(e){"use strict";function n(e){return e.replace(/^\.*/,".").toLowerCase()}function r(e){e=e.trim().toLowerCase();var t=e.split(":",2),r=n(t[0]),i=t[1],o=e.indexOf(":")>-1;return{hostname:r,port:i,hasPort:o}}function i(e,t){var i=e.port||("https:"===e.protocol?"443":"80"),o=n(e.hostname),a=t.split(",");return a.map(r).some(function(e){var t=o.indexOf(e.hostname),n=t>-1&&t===o.length-e.hostname.length;return e.hasPort?i===e.port&&n:n})}function o(t){var n=e.env.NO_PROXY||e.env.no_proxy||"";return"*"===n?null:""!==n&&i(t,n)?null:"http:"===t.protocol?e.env.HTTP_PROXY||e.env.http_proxy||null:"https:"===t.protocol?e.env.HTTPS_PROXY||e.env.https_proxy||e.env.HTTP_PROXY||e.env.http_proxy||null:null}t.exports=o}).call(this,e("_process"))},{_process:352}],374:[function(e,t,n){"use strict";function r(e){this.request=e}var i=e("fs"),o=e("querystring"),a=e("har-validator"),s=e("extend");r.prototype.reducer=function(e,t){if(void 0===e[t.name])return e[t.name]=t.value,e;var n=[e[t.name],t.value];return e[t.name]=n,e},r.prototype.prep=function(e){function t(t){return t.some(function(t){return 0===e.postData.mimeType.indexOf(t)})}if(e.queryObj={},e.headersObj={},e.postData.jsonObj=!1,e.postData.paramsObj=!1,e.queryString&&e.queryString.length&&(e.queryObj=e.queryString.reduce(this.reducer,{})),e.headers&&e.headers.length&&(e.headersObj=e.headers.reduceRight(function(e,t){return e[t.name]=t.value,e},{})),e.cookies&&e.cookies.length){var n=e.cookies.map(function(e){return e.name+"="+e.value});n.length&&(e.headersObj.cookie=n.join("; "))}if(t(["multipart/mixed","multipart/related","multipart/form-data","multipart/alternative"]))e.postData.mimeType="multipart/form-data";else if(t(["application/x-www-form-urlencoded"]))e.postData.params?(e.postData.paramsObj=e.postData.params.reduce(this.reducer,{}),e.postData.text=o.stringify(e.postData.paramsObj)):e.postData.text="";else if(t(["text/json","text/x-json","application/json","application/x-json"])&&(e.postData.mimeType="application/json",e.postData.text))try{e.postData.jsonObj=JSON.parse(e.postData.text)}catch(r){this.request.debug(r),e.postData.mimeType="text/plain"}return e},r.prototype.options=function(e){function t(e){return 0===r.postData.mimeType.indexOf(e)}if(!e.har)return e;var n={};if(s(n,e.har),n.log&&n.log.entries&&(n=n.log.entries[0]),n.url=n.url||e.url||e.uri||e.baseUrl||"/",n.httpVersion=n.httpVersion||"HTTP/1.1",n.queryString=n.queryString||[],n.headers=n.headers||[],n.cookies=n.cookies||[],n.postData=n.postData||{},n.postData.mimeType=n.postData.mimeType||"application/octet-stream",n.bodySize=0,n.headersSize=0,n.postData.size=0,!a.request(n))return e;var r=this.prep(n);return r.url&&(e.url=r.url),r.method&&(e.method=r.method),Object.keys(r.queryObj).length&&(e.qs=r.queryObj),Object.keys(r.headersObj).length&&(e.headers=r.headersObj),t("application/x-www-form-urlencoded")?e.form=r.postData.paramsObj:t("application/json")?r.postData.jsonObj&&(e.body=r.postData.jsonObj,e.json=!0):t("multipart/form-data")?(e.formData={},r.postData.params.forEach(function(t){var n={};return t.fileName||t.fileName||t.contentType?(t.fileName&&!t.value?n.value=i.createReadStream(t.fileName):t.value&&(n.value=t.value),t.fileName&&(n.options={filename:t.fileName,contentType:t.contentType?t.contentType:null}),void(e.formData[t.name]=n)):void(e.formData[t.name]=t.value)})):r.postData.text&&(e.body=r.postData.text),e},n.Har=r},{extend:246,fs:129,"har-validator":272,querystring:367}],375:[function(e,t,n){(function(t){"use strict";function r(e){return e.body||e.requestBodyStream||e.json&&"boolean"!=typeof e.json||e.multipart}function i(e,t){var n;try{n=JSON.stringify(e,t)}catch(r){n=u(e,t)}return n}function o(e){return h.createHash("md5").update(e).digest("hex")}function a(e){return e.readable&&e.path&&e.mode}function s(e){return d.from(e||"","utf8").toString("base64")}function c(e){var t={};return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}function l(){var e=t.version.replace("v","").split(".");return{major:parseInt(e[0],10),minor:parseInt(e[1],10),patch:parseInt(e[2],10)}}var u=e("json-stringify-safe"),h=e("crypto"),d=e("safe-buffer").Buffer,f="undefined"==typeof setImmediate?t.nextTick:setImmediate;n.paramsHaveRequestBody=r,n.safeStringify=i,n.md5=o,n.isReadStream=a,n.toBase64=s,n.copy=c,n.version=l,n.defer=f}).call(this,e("_process"))},{_process:352,crypto:133,"json-stringify-safe":309,"safe-buffer":383}],376:[function(e,t,n){"use strict";function r(e){this.request=e,this.boundary=i(),this.chunked=!1,this.body=null}var i=e("uuid"),o=e("combined-stream"),a=e("isstream"),s=e("safe-buffer").Buffer;r.prototype.isChunked=function(e){var t=this,n=!1,r=e.data||e;return r.forEach||t.request.emit("error",new Error("Argument error, options.multipart.")),void 0!==e.chunked&&(n=e.chunked),"chunked"===t.request.getHeader("transfer-encoding")&&(n=!0),n||r.forEach(function(e){"undefined"==typeof e.body&&t.request.emit("error",new Error("Body attribute missing in multipart.")),a(e.body)&&(n=!0)}),n},r.prototype.setHeaders=function(e){var t=this;e&&!t.request.hasHeader("transfer-encoding")&&t.request.setHeader("transfer-encoding","chunked");var n=t.request.getHeader("content-type");n&&n.indexOf("multipart")!==-1?n.indexOf("boundary")!==-1?t.boundary=n.replace(/.*boundary=([^\s;]+).*/,"$1"):t.request.setHeader("content-type",n+"; boundary="+t.boundary):t.request.setHeader("content-type","multipart/related; boundary="+t.boundary)},r.prototype.build=function(e,t){function n(e){return"number"==typeof e&&(e=e.toString()),t?i.append(e):i.push(s.from(e))}var r=this,i=t?new o:[];return r.request.preambleCRLF&&n("\r\n"),e.forEach(function(e){var t="--"+r.boundary+"\r\n";Object.keys(e).forEach(function(n){"body"!==n&&(t+=n+": "+e[n]+"\r\n")}),t+="\r\n",n(t),n(e.body),n("\r\n")}),n("--"+r.boundary+"--"),r.request.postambleCRLF&&n("\r\n"),i},r.prototype.onRequest=function(e){var t=this,n=t.isChunked(e),r=e.data||e;t.setHeaders(n),t.chunked=n,t.body=t.build(r,n)},n.Multipart=r},{"combined-stream":205,isstream:302,"safe-buffer":383,uuid:452}],377:[function(e,t,n){"use strict";function r(e){this.request=e,this.params=null}var i=e("url"),o=e("qs"),a=e("caseless"),s=e("uuid"),c=e("oauth-sign"),l=e("crypto"),u=e("safe-buffer").Buffer;r.prototype.buildParams=function(e,t,n,r,i,o){var a={};for(var l in e)a["oauth_"+l]=e[l];a.oauth_version||(a.oauth_version="1.0"),a.oauth_timestamp||(a.oauth_timestamp=Math.floor(Date.now()/1e3).toString()),a.oauth_nonce||(a.oauth_nonce=s().replace(/-/g,"")),a.oauth_signature_method||(a.oauth_signature_method="HMAC-SHA1");var u=a.oauth_consumer_secret||a.oauth_private_key;delete a.oauth_consumer_secret,delete a.oauth_private_key;var h=a.oauth_token_secret;delete a.oauth_token_secret;var d=a.oauth_realm;delete a.oauth_realm,delete a.oauth_transport_method;var f=t.protocol+"//"+t.host+t.pathname,p=o.parse([].concat(r,i,o.stringify(a)).join("&"));return a.oauth_signature=c.sign(a.oauth_signature_method,n,f,p,u,h),d&&(a.realm=d),a},r.prototype.buildBodyHash=function(e,t){["HMAC-SHA1","RSA-SHA1"].indexOf(e.signature_method||"HMAC-SHA1")<0&&this.request.emit("error",new Error("oauth: "+e.signature_method+" signature_method not supported with body_hash signing."));var n=l.createHash("sha1");n.update(t||"");var r=n.digest("hex");return u.from(r).toString("base64")},r.prototype.concatParams=function(e,t,n){n=n||"";var r=Object.keys(e).filter(function(e){return"realm"!==e&&"oauth_signature"!==e}).sort();return e.realm&&r.splice(0,0,"realm"),r.push("oauth_signature"),r.map(function(t){return t+"="+n+c.rfc3986(e[t])+n}).join(t)},r.prototype.onRequest=function(e){var t=this;t.params=e;var n,r,s=t.request.uri||{},c=t.request.method||"",l=a(t.request.headers),u=t.request.body||"",h=t.request.qsLib||o,d=l.get("content-type")||"",f="application/x-www-form-urlencoded",p=e.transport_method||"header";d.slice(0,f.length)===f&&(d=f,n=u),s.query&&(r=s.query),"body"!==p||"POST"===c&&d===f||t.request.emit("error",new Error("oauth: transport_method of body requires POST and content-type "+f)),n||"boolean"!=typeof e.body_hash||(e.body_hash=t.buildBodyHash(e,t.request.body.toString()));var m=t.buildParams(e,s,c,r,n,h);switch(p){case"header":t.request.setHeader("Authorization","OAuth "+t.concatParams(m,",",'"'));break;case"query":var g=t.request.uri.href+=(r?"&":"?")+t.concatParams(m,"&");t.request.uri=i.parse(g),t.request.path=t.request.uri.path;break;case"body":t.request.body=(n?n+"&":"")+t.concatParams(m,"&");break;default:t.request.emit("error",new Error("oauth: transport_method invalid"))}},n.OAuth=r},{caseless:145,crypto:133,"oauth-sign":326,qs:361,"safe-buffer":383,url:143,uuid:452}],378:[function(e,t,n){"use strict";function r(e){this.request=e,this.lib=null,this.useQuerystring=null,this.parseOptions=null,this.stringifyOptions=null}var i=e("qs"),o=e("querystring");r.prototype.init=function(e){this.lib||(this.useQuerystring=e.useQuerystring,this.lib=this.useQuerystring?o:i,this.parseOptions=e.qsParseOptions||{},this.stringifyOptions=e.qsStringifyOptions||{})},r.prototype.stringify=function(e){return this.useQuerystring?this.rfc3986(this.lib.stringify(e,this.stringifyOptions.sep||null,this.stringifyOptions.eq||null,this.stringifyOptions)):this.lib.stringify(e,this.stringifyOptions)},r.prototype.parse=function(e){return this.useQuerystring?this.lib.parse(e,this.parseOptions.sep||null,this.parseOptions.eq||null,this.parseOptions):this.lib.parse(e,this.parseOptions)},r.prototype.rfc3986=function(e){return e.replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})},r.prototype.unescape=o.unescape,n.Querystring=r},{qs:361,querystring:367}],379:[function(e,t,n){"use strict";function r(e){this.request=e,this.followRedirect=!0,this.followRedirects=!0,this.followAllRedirects=!1,this.followOriginalHttpMethod=!1,this.allowRedirect=function(){return!0},this.maxRedirects=10,this.redirects=[],this.redirectsFollowed=0,this.removeRefererHeader=!1}var i=e("url"),o=/^https?:/;r.prototype.onRequest=function(e){var t=this;void 0!==e.maxRedirects&&(t.maxRedirects=e.maxRedirects),"function"==typeof e.followRedirect&&(t.allowRedirect=e.followRedirect),void 0!==e.followRedirect&&(t.followRedirects=!!e.followRedirect),void 0!==e.followAllRedirects&&(t.followAllRedirects=e.followAllRedirects),(t.followRedirects||t.followAllRedirects)&&(t.redirects=t.redirects||[]),void 0!==e.removeRefererHeader&&(t.removeRefererHeader=e.removeRefererHeader),void 0!==e.followOriginalHttpMethod&&(t.followOriginalHttpMethod=e.followOriginalHttpMethod)},r.prototype.redirectTo=function(e){var t=this,n=t.request,r=null;if(e.statusCode>=300&&e.statusCode<400&&e.caseless.has("location")){var i=e.caseless.get("location");if(n.debug("redirect",i),t.followAllRedirects)r=i;else if(t.followRedirects)switch(n.method){case"PATCH":case"PUT":case"POST":case"DELETE":break;default:r=i}}else if(401===e.statusCode){var o=n._auth.onResponse(e);o&&(n.setHeader("authorization",o),r=n.uri)}return r},r.prototype.onResponse=function(e){var t=this,n=t.request,r=t.redirectTo(e);if(!r||!t.allowRedirect.call(n,e))return!1;if(n.debug("redirect to",r),e.resume&&e.resume(),t.redirectsFollowed>=t.maxRedirects)return n.emit("error",new Error("Exceeded maxRedirects. Probably stuck in a redirect loop "+n.uri.href)),!1;t.redirectsFollowed+=1,o.test(r)||(r=i.resolve(n.uri.href,r));var a=n.uri;return n.uri=i.parse(r),n.uri.protocol!==a.protocol&&delete n.agent,t.redirects.push({statusCode:e.statusCode,redirectUri:r}),t.followAllRedirects&&"HEAD"!==n.method&&401!==e.statusCode&&307!==e.statusCode&&(n.method=t.followOriginalHttpMethod?n.method:"GET"),delete n.src,delete n.req,delete n._started,401!==e.statusCode&&307!==e.statusCode&&(delete n.body,delete n._form,n.headers&&(n.removeHeader("host"),n.removeHeader("content-type"),n.removeHeader("content-length"),n.uri.hostname!==n.originalHost.split(":")[0]&&n.removeHeader("authorization"))),t.removeRefererHeader||n.setHeader("referer",a.href),n.emit("redirect"),n.init(),!0},n.Redirect=r},{url:143}],380:[function(e,t,n){"use strict";function r(e){var t=e.port,n=e.protocol,r=e.hostname+":";return r+=t?t:"https:"===n?"443":"80"}function i(e,t){var n=t.reduce(function(e,t){return e[t.toLowerCase()]=!0,e},{});return Object.keys(e).filter(function(e){return n[e.toLowerCase()]}).reduce(function(t,n){return t[n]=e[n],t},{})}function o(e,t){var n=e.proxy,r={proxy:{host:n.hostname,port:+n.port,proxyAuth:n.auth,headers:t},headers:e.headers,ca:e.ca,cert:e.cert,key:e.key,passphrase:e.passphrase,pfx:e.pfx,ciphers:e.ciphers,rejectUnauthorized:e.rejectUnauthorized,secureOptions:e.secureOptions,secureProtocol:e.secureProtocol};return r}function a(e,t){var n="https:"===e.protocol?"https":"http",r="https:"===t.protocol?"Https":"Http";return[n,r].join("Over")}function s(e){var t=e.uri,n=e.proxy,r=a(t,n);return u[r]}function c(e){this.request=e,this.proxyHeaderWhiteList=h,this.proxyHeaderExclusiveList=[],"undefined"!=typeof e.tunnel&&(this.tunnelOverride=e.tunnel)}var l=e("url"),u=e("tunnel-agent"),h=["accept","accept-charset","accept-encoding","accept-language","accept-ranges","cache-control","content-encoding","content-language","content-location","content-md5","content-range","content-type","connection","date","expect","max-forwards","pragma","referer","te","user-agent","via"],d=["proxy-authorization"];c.prototype.isEnabled=function(){var e=this,t=e.request;return"undefined"!=typeof e.tunnelOverride?e.tunnelOverride:"https:"===t.uri.protocol},c.prototype.setup=function(e){var t=this,n=t.request;if(e=e||{},"string"==typeof n.proxy&&(n.proxy=l.parse(n.proxy)),!n.proxy||!n.tunnel)return!1;e.proxyHeaderWhiteList&&(t.proxyHeaderWhiteList=e.proxyHeaderWhiteList),e.proxyHeaderExclusiveList&&(t.proxyHeaderExclusiveList=e.proxyHeaderExclusiveList);var a=t.proxyHeaderExclusiveList.concat(d),c=t.proxyHeaderWhiteList.concat(a),u=i(n.headers,c);u.host=r(n.uri),a.forEach(n.removeHeader,n);var h=s(n),f=o(n,u);return n.agent=h(f),!0},c.defaultProxyHeaderWhiteList=h,c.defaultProxyHeaderExclusiveList=d,n.Tunnel=c},{"tunnel-agent":439,url:143}],381:[function(e,t,n){(function(n){"use strict";function r(e,t){var n={};for(var r in t){var i=e.indexOf(r)===-1;i&&(n[r]=t[r])}return n}function i(e,t){var n={};for(var r in t){var i=!(e.indexOf(r)===-1),o="function"==typeof t[r];i&&o||(n[r]=t[r])}return n}function o(){var e=this;return{uri:e.uri,method:e.method,headers:e.headers}}function a(){var e=this;return{statusCode:e.statusCode,body:e.body,headers:e.headers,request:o.call(e.request)}}function s(e){var t=this;e.har&&(t._har=new M(t),e=t._har.options(e)),f.Stream.call(t);var n=Object.keys(s.prototype),o=r(n,e);S(t,o),e=i(n,e),t.readable=!0,t.writable=!0,e.method&&(t.explicitMethod=!0),t._qs=new C(t),t._auth=new O(t),t._oauth=new I(t),t._multipart=new F(t),t._redirect=new D(t),t._tunnel=new L(t),t.init(e)}function c(){s.debug&&console.error("REQUEST %s",d.format.apply(d,arguments))}var l=e("http"),u=e("https"),h=e("url"),d=e("util"),f=e("stream"),p=e("zlib"),m=e("hawk"),g=e("aws-sign2"),v=e("aws4"),b=e("http-signature"),y=e("mime-types"),w=e("stringstream"),_=e("caseless"),x=e("forever-agent"),k=e("form-data"),S=e("extend"),j=e("isstream"),P=e("is-typedarray").strict,E=e("./lib/helpers"),A=e("./lib/cookies"),T=e("./lib/getProxyFromURI"),C=e("./lib/querystring").Querystring,M=e("./lib/har").Har,O=e("./lib/auth").Auth,I=e("./lib/oauth").OAuth,F=e("./lib/multipart").Multipart,D=e("./lib/redirect").Redirect,L=e("./lib/tunnel").Tunnel,R=e("performance-now"),N=e("safe-buffer").Buffer,U=E.safeStringify,$=E.isReadStream,z=E.toBase64,B=E.defer,q=E.copy,V=E.version,H=A.jar(),W={};d.inherits(s,f.Stream),s.debug=n.env.NODE_DEBUG&&/\brequest\b/.test(n.env.NODE_DEBUG),s.prototype.debug=c,s.prototype.init=function(e){function t(){if(P(n.body)&&(n.body=N.from(n.body)),!n.hasHeader("content-length")){var e;e="string"==typeof n.body?N.byteLength(n.body):Array.isArray(n.body)?n.body.reduce(function(e,t){return e+t.length},0):n.body.length,e?n.setHeader("content-length",e):n.emit("error",new Error("Argument error, options.body."))}}var n=this;e||(e={}),n.headers=n.headers?q(n.headers):{};for(var r in n.headers)"undefined"==typeof n.headers[r]&&delete n.headers[r];if(_.httpify(n,n.headers),n.method||(n.method=e.method||"GET"),n.localAddress||(n.localAddress=e.localAddress),n._qs.init(e),c(e),n.pool||n.pool===!1||(n.pool=W),n.dests=n.dests||[],n.__isRequestRequest=!0,!n._callback&&n.callback&&(n._callback=n.callback,n.callback=function(){n._callbackCalled||(n._callbackCalled=!0,n._callback.apply(n,arguments))},n.on("error",n.callback.bind()),n.on("complete",n.callback.bind(n,null))),!n.uri&&n.url&&(n.uri=n.url,delete n.url),n.baseUrl){if("string"!=typeof n.baseUrl)return n.emit("error",new Error("options.baseUrl must be a string"));if("string"!=typeof n.uri)return n.emit("error",new Error("options.uri must be a string when using options.baseUrl"));if(0===n.uri.indexOf("//")||n.uri.indexOf("://")!==-1)return n.emit("error",new Error("options.uri must be a path when using options.baseUrl"));var i=n.baseUrl.lastIndexOf("/")===n.baseUrl.length-1,o=0===n.uri.indexOf("/");i&&o?n.uri=n.baseUrl+n.uri.slice(1):i||o?n.uri=n.baseUrl+n.uri:""===n.uri?n.uri=n.baseUrl:n.uri=n.baseUrl+"/"+n.uri,delete n.baseUrl}if(!n.uri)return n.emit("error",new Error("options.uri is a required argument"));if("string"==typeof n.uri&&(n.uri=h.parse(n.uri)),n.uri.href||(n.uri.href=h.format(n.uri)),"unix:"===n.uri.protocol)return n.emit("error",new Error("`unix://` URL scheme is no longer supported. Please use the format `http://unix:SOCKET:PATH`"));if("unix"===n.uri.host&&n.enableUnixSocket(),n.strictSSL===!1&&(n.rejectUnauthorized=!1),n.uri.pathname||(n.uri.pathname="/"),!(n.uri.host||n.uri.hostname&&n.uri.port||n.uri.isUnix)){var a=h.format(n.uri),s='Invalid URI "'+a+'"';return 0===Object.keys(e).length&&(s+=". This can be caused by a crappy redirection."),n.abort(),n.emit("error",new Error(s))}if(n.hasOwnProperty("proxy")||(n.proxy=T(n.uri)),n.tunnel=n._tunnel.isEnabled(),n.proxy&&n._tunnel.setup(e),n._redirect.onRequest(e),n.setHost=!1,!n.hasHeader("host")){var d=n.originalHostHeaderName||"host";n.setHeader(d,n.uri.host),n.setHost=!0}if(n.jar(n._jar||e.jar),n.uri.port||("http:"===n.uri.protocol?n.uri.port=80:"https:"===n.uri.protocol&&(n.uri.port=443)),n.proxy&&!n.tunnel?(n.port=n.proxy.port,n.host=n.proxy.hostname):(n.port=n.uri.port,n.host=n.uri.hostname),e.form&&n.form(e.form),e.formData){var f=e.formData,p=n.form(),m=function(e,t){t&&t.hasOwnProperty("value")&&t.hasOwnProperty("options")?p.append(e,t.value,t.options):p.append(e,t)};for(var g in f)if(f.hasOwnProperty(g)){var v=f[g];if(v instanceof Array)for(var b=0;b<v.length;b++)m(g,v[b]);else m(g,v)}}if(e.qs&&n.qs(e.qs),n.uri.path?n.path=n.uri.path:n.path=n.uri.pathname+(n.uri.search||""),0===n.path.length&&(n.path="/"),e.aws&&n.aws(e.aws),e.hawk&&n.hawk(e.hawk),e.httpSignature&&n.httpSignature(e.httpSignature),e.auth&&(Object.prototype.hasOwnProperty.call(e.auth,"username")&&(e.auth.user=e.auth.username),Object.prototype.hasOwnProperty.call(e.auth,"password")&&(e.auth.pass=e.auth.password),n.auth(e.auth.user,e.auth.pass,e.auth.sendImmediately,e.auth.bearer)),n.gzip&&!n.hasHeader("accept-encoding")&&n.setHeader("accept-encoding","gzip, deflate"),n.uri.auth&&!n.hasHeader("authorization")){var w=n.uri.auth.split(":").map(function(e){return n._qs.unescape(e)});n.auth(w[0],w.slice(1).join(":"),!0)}if(!n.tunnel&&n.proxy&&n.proxy.auth&&!n.hasHeader("proxy-authorization")){var k=n.proxy.auth.split(":").map(function(e){return n._qs.unescape(e)}),S="Basic "+z(k.join(":"));n.setHeader("proxy-authorization",S)}n.proxy&&!n.tunnel&&(n.path=n.uri.protocol+"//"+n.uri.host+n.path),e.json&&n.json(e.json),e.multipart&&n.multipart(e.multipart),e.time&&(n.timing=!0,n.elapsedTime=n.elapsedTime||0),n.body&&!j(n.body)&&t(),e.oauth?n.oauth(e.oauth):n._oauth.params&&n.hasHeader("authorization")&&n.oauth(n._oauth.params);var E=n.proxy&&!n.tunnel?n.proxy.protocol:n.uri.protocol,A={"http:":l,"https:":u},C=n.httpModules||{};if(n.httpModule=C[E]||A[E],!n.httpModule)return n.emit("error",new Error("Invalid protocol: "+E));if(e.ca&&(n.ca=e.ca),!n.agent)if(e.agentOptions&&(n.agentOptions=e.agentOptions),e.agentClass)n.agentClass=e.agentClass;else if(e.forever){var M=V();0===M.major&&M.minor<=10?n.agentClass="http:"===E?x:x.SSL:(n.agentClass=n.httpModule.Agent,n.agentOptions=n.agentOptions||{},n.agentOptions.keepAlive=!0)}else n.agentClass=n.httpModule.Agent;n.pool===!1?n.agent=!1:n.agent=n.agent||n.getNewAgent(),n.on("pipe",function(e){if(n.ntick&&n._started&&n.emit("error",new Error("You cannot pipe to this stream after the outbound request has started.")),n.src=e,$(e))n.hasHeader("content-type")||n.setHeader("content-type",y.lookup(e.path));else{if(e.headers)for(var t in e.headers)n.hasHeader(t)||n.setHeader(t,e.headers[t]);n._json&&!n.hasHeader("content-type")&&n.setHeader("content-type","application/json"),e.method&&!n.explicitMethod&&(n.method=e.method)}}),B(function(){if(!n._aborted){var e=function(){if(n._form&&(n._auth.hasAuth?n._auth.hasAuth&&n._auth.sentAuth&&n._form.pipe(n):n._form.pipe(n)),n._multipart&&n._multipart.chunked&&n._multipart.body.pipe(n),n.body)j(n.body)?n.body.pipe(n):(t(),Array.isArray(n.body)?n.body.forEach(function(e){n.write(e)}):n.write(n.body),n.end());else if(n.requestBodyStream)console.warn("options.requestBodyStream is deprecated, please pass the request object to stream.pipe."),n.requestBodyStream.pipe(n);else if(!n.src){if(n._auth.hasAuth&&!n._auth.sentAuth)return void n.end();"GET"!==n.method&&"undefined"!=typeof n.method&&n.setHeader("content-length",0),n.end()}};n._form&&!n.hasHeader("content-length")?(n.setHeader(n._form.getHeaders(),!0),n._form.getLength(function(t,r){t||isNaN(r)||n.setHeader("content-length",r),e()})):e(),n.ntick=!0}})},s.prototype.getNewAgent=function(){var e=this,t=e.agentClass,n={};if(e.agentOptions)for(var r in e.agentOptions)n[r]=e.agentOptions[r];e.ca&&(n.ca=e.ca),e.ciphers&&(n.ciphers=e.ciphers),e.secureProtocol&&(n.secureProtocol=e.secureProtocol),e.secureOptions&&(n.secureOptions=e.secureOptions),"undefined"!=typeof e.rejectUnauthorized&&(n.rejectUnauthorized=e.rejectUnauthorized),e.cert&&e.key&&(n.key=e.key,n.cert=e.cert),e.pfx&&(n.pfx=e.pfx),e.passphrase&&(n.passphrase=e.passphrase);var i="";t!==e.httpModule.Agent&&(i+=t.name);var o=e.proxy;"string"==typeof o&&(o=h.parse(o));var a=o&&"https:"===o.protocol||"https:"===this.uri.protocol;return a&&(n.ca&&(i&&(i+=":"),i+=n.ca),"undefined"!=typeof n.rejectUnauthorized&&(i&&(i+=":"),i+=n.rejectUnauthorized),n.cert&&(i&&(i+=":"),i+=n.cert.toString("ascii")+n.key.toString("ascii")),n.pfx&&(i&&(i+=":"),i+=n.pfx.toString("ascii")),n.ciphers&&(i&&(i+=":"),i+=n.ciphers),n.secureProtocol&&(i&&(i+=":"),i+=n.secureProtocol),n.secureOptions&&(i&&(i+=":"),i+=n.secureOptions)),e.pool===W&&!i&&0===Object.keys(n).length&&e.httpModule.globalAgent?e.httpModule.globalAgent:(i=e.uri.protocol+i,e.pool[i]||(e.pool[i]=new t(n),e.pool.maxSockets&&(e.pool[i].maxSockets=e.pool.maxSockets)),e.pool[i])},s.prototype.start=function(){var e=this;if(e.timing)var t=(new Date).getTime(),n=R();if(!e._aborted){e._started=!0,e.method=e.method||"GET",e.href=e.uri.href,e.src&&e.src.stat&&e.src.stat.size&&!e.hasHeader("content-length")&&e.setHeader("content-length",e.src.stat.size),e._aws&&e.aws(e._aws,!0);var r=q(e);delete r.auth,c("make request",e.uri.href),delete r.timeout;try{e.req=e.httpModule.request(r)}catch(i){return void e.emit("error",i)}e.timing&&(e.startTime=t,e.startTimeNow=n,e.timings={});var o;e.timeout&&!e.timeoutTimer&&(e.timeout<0?o=0:"number"==typeof e.timeout&&isFinite(e.timeout)&&(o=e.timeout)),e.req.on("response",e.onRequestResponse.bind(e)),e.req.on("error",e.onRequestError.bind(e)),e.req.on("drain",function(){e.emit("drain")}),e.req.on("socket",function(t){var n=t._connecting||t.connecting;if(e.timing&&(e.timings.socket=R()-e.startTimeNow,n)){var r=function(){e.timings.lookup=R()-e.startTimeNow},i=function(){e.timings.connect=R()-e.startTimeNow};t.once("lookup",r),t.once("connect",i),e.req.once("error",function(){t.removeListener("lookup",r),t.removeListener("connect",i)})}var a=function(){e.req.setTimeout(o,function(){if(e.req){e.abort();var t=new Error("ESOCKETTIMEDOUT");t.code="ESOCKETTIMEDOUT",t.connect=!1,e.emit("error",t)}})};if(void 0!==o)if(n){var s=function(){t.removeListener("connect",s),clearTimeout(e.timeoutTimer),e.timeoutTimer=null,a()};t.on("connect",s),e.req.on("error",function(e){t.removeListener("connect",s)}),e.timeoutTimer=setTimeout(function(){t.removeListener("connect",s),e.abort();var n=new Error("ETIMEDOUT");n.code="ETIMEDOUT",n.connect=!0,e.emit("error",n)},o)}else a();e.emit("socket",t)}),e.emit("request",e.req)}},s.prototype.onRequestError=function(e){var t=this;if(!t._aborted){if(t.req&&t.req._reusedSocket&&"ECONNRESET"===e.code&&t.agent.addRequestNoreuse)return t.agent={addRequest:t.agent.addRequestNoreuse.bind(t.agent)},t.start(),void t.req.end();t.timeout&&t.timeoutTimer&&(clearTimeout(t.timeoutTimer),t.timeoutTimer=null),t.emit("error",e)}},s.prototype.onRequestResponse=function(e){var t=this;if(t.timing&&(t.timings.response=R()-t.startTimeNow),c("onRequestResponse",t.uri.href,e.statusCode,e.headers),e.on("end",function(){t.timing&&(t.timings.end=R()-t.startTimeNow,e.timingStart=t.startTime,t.timings.socket||(t.timings.socket=0),t.timings.lookup||(t.timings.lookup=t.timings.socket),t.timings.connect||(t.timings.connect=t.timings.lookup),t.timings.response||(t.timings.response=t.timings.connect),c("elapsed time",t.timings.end),t.elapsedTime+=Math.round(t.timings.end),e.elapsedTime=t.elapsedTime,e.timings=t.timings,e.timingPhases={wait:t.timings.socket,dns:t.timings.lookup-t.timings.socket,tcp:t.timings.connect-t.timings.lookup,firstByte:t.timings.response-t.timings.connect,download:t.timings.end-t.timings.response,total:t.timings.end}),c("response end",t.uri.href,e.statusCode,e.headers)}),t._aborted)return c("aborted",t.uri.href),void e.resume();if(t.response=e,e.request=t,e.toJSON=a,t.httpModule===u&&t.strictSSL&&(!e.hasOwnProperty("socket")||!e.socket.authorized)){c("strict ssl error",t.uri.href);var n=e.hasOwnProperty("socket")?e.socket.authorizationError:t.uri.href+" does not support SSL";return void t.emit("error",new Error("SSL Error: "+n))}t.originalHost=t.getHeader("host"),t.originalHostHeaderName||(t.originalHostHeaderName=t.hasHeader("host")),t.setHost&&t.removeHeader("host"),t.timeout&&t.timeoutTimer&&(clearTimeout(t.timeoutTimer),t.timeoutTimer=null);var r=t._jar&&t._jar.setCookie?t._jar:H,i=function(e){try{r.setCookie(e,t.uri.href,{ignoreError:!0})}catch(n){t.emit("error",n)}};if(e.caseless=_(e.headers),e.caseless.has("set-cookie")&&!t._disableCookies){var o=e.caseless.has("set-cookie");Array.isArray(e.headers[o])?e.headers[o].forEach(i):i(e.headers[o])}if(!t._redirect.onResponse(e)){e.on("close",function(){t._ended||t.response.emit("end")}),e.once("end",function(){t._ended=!0});var s,l=function(e){return"HEAD"===t.method||e>=100&&e<200||204===e||304===e};if(t.gzip&&!l(e.statusCode)){var h=e.headers["content-encoding"]||"identity";h=h.trim().toLowerCase();var d={flush:p.Z_SYNC_FLUSH,finishFlush:p.Z_SYNC_FLUSH};"gzip"===h?(s=p.createGunzip(d),e.pipe(s)):"deflate"===h?(s=p.createInflate(d),e.pipe(s)):("identity"!==h&&c("ignoring unrecognized Content-Encoding "+h),s=e)}else s=e;t.encoding&&(0!==t.dests.length?console.error("Ignoring encoding parameter as this stream is being piped to another stream which makes the encoding option invalid."):s.setEncoding?s.setEncoding(t.encoding):s=s.pipe(w(t.encoding))),t._paused&&s.pause(),t.responseContent=s,t.emit("response",e),t.dests.forEach(function(e){t.pipeDest(e)}),s.on("data",function(n){t.timing&&!t.responseStarted&&(t.responseStartTime=(new Date).getTime(),e.responseStartTime=t.responseStartTime),t._destdata=!0,t.emit("data",n)}),s.once("end",function(e){t.emit("end",e)}),s.on("error",function(e){t.emit("error",e)}),s.on("close",function(){t.emit("close")}),t.callback?t.readResponseBody(e):t.on("end",function(){return t._aborted?void c("aborted",t.uri.href):void t.emit("complete",e)}),c("finish init function",t.uri.href)}},s.prototype.readResponseBody=function(e){var t=this;c("reading response's body");var n=[],r=0,i=[];t.on("data",function(e){N.isBuffer(e)?e.length&&(r+=e.length,n.push(e)):i.push(e)}),t.on("end",function(){if(c("end event",t.uri.href),t._aborted)return c("aborted",t.uri.href),n=[],void(r=0);if(r?(c("has body",t.uri.href,r),e.body=N.concat(n,r),null!==t.encoding&&(e.body=e.body.toString(t.encoding)),n=[],r=0):i.length&&("utf8"===t.encoding&&i[0].length>0&&"\ufeff"===i[0][0]&&(i[0]=i[0].substring(1)),e.body=i.join("")),t._json)try{e.body=JSON.parse(e.body,t._jsonReviver)}catch(o){c("invalid JSON received",t.uri.href)}c("emitting complete",t.uri.href),"undefined"!=typeof e.body||t._json||(e.body=null===t.encoding?N.alloc(0):""),t.emit("complete",e,e.body)})},s.prototype.abort=function(){var e=this;e._aborted=!0,e.req?e.req.abort():e.response&&e.response.destroy(),e.emit("abort")},s.prototype.pipeDest=function(e){var t=this,n=t.response;if(e.headers&&!e.headersSent){if(n.caseless.has("content-type")){var r=n.caseless.has("content-type");e.setHeader?e.setHeader(r,n.headers[r]):e.headers[r]=n.headers[r]}if(n.caseless.has("content-length")){var i=n.caseless.has("content-length");e.setHeader?e.setHeader(i,n.headers[i]):e.headers[i]=n.headers[i]}}if(e.setHeader&&!e.headersSent){for(var o in n.headers)t.gzip&&"content-encoding"===o||e.setHeader(o,n.headers[o]);e.statusCode=n.statusCode}t.pipefilter&&t.pipefilter(n,e)},s.prototype.qs=function(e,t){var n,r=this;n=!t&&r.uri.query?r._qs.parse(r.uri.query):{};for(var i in e)n[i]=e[i];var o=r._qs.stringify(n);return""===o?r:(r.uri=h.parse(r.uri.href.split("?")[0]+"?"+o),r.url=r.uri,r.path=r.uri.path,"unix"===r.uri.host&&r.enableUnixSocket(),r)},s.prototype.form=function(e){var t=this;return e?(/^application\/x-www-form-urlencoded\b/.test(t.getHeader("content-type"))||t.setHeader("content-type","application/x-www-form-urlencoded"),t.body="string"==typeof e?t._qs.rfc3986(e.toString("utf8")):t._qs.stringify(e).toString("utf8"),t):(t._form=new k,t._form.on("error",function(e){e.message="form-data: "+e.message,t.emit("error",e),t.abort()}),t._form)},s.prototype.multipart=function(e){var t=this;return t._multipart.onRequest(e),t._multipart.chunked||(t.body=t._multipart.body),t},s.prototype.json=function(e){var t=this;return t.hasHeader("accept")||t.setHeader("accept","application/json"),"function"==typeof t.jsonReplacer&&(t._jsonReplacer=t.jsonReplacer),t._json=!0,"boolean"==typeof e?void 0!==t.body&&(/^application\/x-www-form-urlencoded\b/.test(t.getHeader("content-type"))?t.body=t._qs.rfc3986(t.body):t.body=U(t.body,t._jsonReplacer),t.hasHeader("content-type")||t.setHeader("content-type","application/json")):(t.body=U(e,t._jsonReplacer),t.hasHeader("content-type")||t.setHeader("content-type","application/json")),"function"==typeof t.jsonReviver&&(t._jsonReviver=t.jsonReviver),t},s.prototype.getHeader=function(e,t){var n,r,i,o=this;return t||(t=o.headers),Object.keys(t).forEach(function(o){o.length===e.length&&(r=new RegExp(e,"i"),i=o.match(r),i&&(n=t[o]))}),n},s.prototype.enableUnixSocket=function(){var e=this.uri.path.split(":"),t=e[0],n=e[1];this.socketPath=t,this.uri.pathname=n,this.uri.path=n,this.uri.host=t,this.uri.hostname=t,this.uri.isUnix=!0},s.prototype.auth=function(e,t,n,r){var i=this;return i._auth.onRequest(e,t,n,r),i},s.prototype.aws=function(e,t){var n=this;if(!t)return n._aws=e,n;if(4===e.sign_version||"4"===e.sign_version){var r={host:n.uri.host,path:n.uri.path,method:n.method,headers:{"content-type":n.getHeader("content-type")||""},body:n.body},i=v.sign(r,{accessKeyId:e.key,secretAccessKey:e.secret,sessionToken:e.session});n.setHeader("authorization",i.headers.Authorization),n.setHeader("x-amz-date",i.headers["X-Amz-Date"]),
i.headers["X-Amz-Security-Token"]&&n.setHeader("x-amz-security-token",i.headers["X-Amz-Security-Token"])}else{var o=new Date;n.setHeader("date",o.toUTCString());var a={key:e.key,secret:e.secret,verb:n.method.toUpperCase(),date:o,contentType:n.getHeader("content-type")||"",md5:n.getHeader("content-md5")||"",amazonHeaders:g.canonicalizeHeaders(n.headers)},s=n.uri.path;e.bucket&&s?a.resource="/"+e.bucket+s:e.bucket&&!s?a.resource="/"+e.bucket:!e.bucket&&s?a.resource=s:e.bucket||s||(a.resource="/"),a.resource=g.canonicalizeResource(a.resource),n.setHeader("authorization",g.authorization(a))}return n},s.prototype.httpSignature=function(e){var t=this;return b.signRequest({getHeader:function(e){return t.getHeader(e,t.headers)},setHeader:function(e,n){t.setHeader(e,n)},method:t.method,path:t.path},e),c("httpSignature authorization",t.getHeader("authorization")),t},s.prototype.hawk=function(e){var t=this;t.setHeader("Authorization",m.client.header(t.uri,t.method,e).field)},s.prototype.oauth=function(e){var t=this;return t._oauth.onRequest(e),t},s.prototype.jar=function(e){var t,n=this;if(0===n._redirect.redirectsFollowed&&(n.originalCookieHeader=n.getHeader("cookie")),e){var r=e&&e.getCookieString?e:H,i=n.uri.href;r&&(t=r.getCookieString(i))}else t=!1,n._disableCookies=!0;return t&&t.length&&(n.originalCookieHeader?n.setHeader("cookie",n.originalCookieHeader+"; "+t):n.setHeader("cookie",t)),n._jar=e,n},s.prototype.pipe=function(e,t){var n=this;if(!n.response)return n.dests.push(e),f.Stream.prototype.pipe.call(n,e,t),e;if(n._destdata)n.emit("error",new Error("You cannot pipe after data has been emitted from the response."));else{if(!n._ended)return f.Stream.prototype.pipe.call(n,e,t),n.pipeDest(e),e;n.emit("error",new Error("You cannot pipe after the response has been ended."))}},s.prototype.write=function(){var e=this;if(!e._aborted)return e._started||e.start(),e.req?e.req.write.apply(e.req,arguments):void 0},s.prototype.end=function(e){var t=this;t._aborted||(e&&t.write(e),t._started||t.start(),t.req&&t.req.end())},s.prototype.pause=function(){var e=this;e.responseContent?e.responseContent.pause.apply(e.responseContent,arguments):e._paused=!0},s.prototype.resume=function(){var e=this;e.responseContent?e.responseContent.resume.apply(e.responseContent,arguments):e._paused=!1},s.prototype.destroy=function(){var e=this;e._ended?e.response&&e.response.destroy():e.end()},s.defaultProxyHeaderWhiteList=L.defaultProxyHeaderWhiteList.slice(),s.defaultProxyHeaderExclusiveList=L.defaultProxyHeaderExclusiveList.slice(),s.prototype.toJSON=o,t.exports=s}).call(this,e("_process"))},{"./lib/auth":371,"./lib/cookies":372,"./lib/getProxyFromURI":373,"./lib/har":374,"./lib/helpers":375,"./lib/multipart":376,"./lib/oauth":377,"./lib/querystring":378,"./lib/redirect":379,"./lib/tunnel":380,_process:352,"aws-sign2":81,aws4:82,caseless:145,extend:246,"forever-agent":250,"form-data":251,hawk:286,http:288,"http-signature":291,https:296,"is-typedarray":301,isstream:302,"mime-types":319,"performance-now":350,"safe-buffer":383,stream:416,stringstream:429,url:143,util:451,zlib:128}],382:[function(e,t,n){(function(n){"use strict";function r(){h.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function i(e,t){return e<<t|e>>>32-t}function o(e,t,n,r,o,a,s,c){return i(e+(t^n^r)+a+s|0,c)+o|0}function a(e,t,n,r,o,a,s,c){return i(e+(t&n|~t&r)+a+s|0,c)+o|0}function s(e,t,n,r,o,a,s,c){return i(e+((t|~n)^r)+a+s|0,c)+o|0}function c(e,t,n,r,o,a,s,c){return i(e+(t&r|n&~r)+a+s|0,c)+o|0}function l(e,t,n,r,o,a,s,c){return i(e+(t^(n|~r))+a+s|0,c)+o|0}var u=e("inherits"),h=e("hash-base");u(r,h),r.prototype._update=function(){for(var e=new Array(16),t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,r=this._b,u=this._c,h=this._d,d=this._e;n=o(n,r,u,h,d,e[0],0,11),u=i(u,10),d=o(d,n,r,u,h,e[1],0,14),r=i(r,10),h=o(h,d,n,r,u,e[2],0,15),n=i(n,10),u=o(u,h,d,n,r,e[3],0,12),d=i(d,10),r=o(r,u,h,d,n,e[4],0,5),h=i(h,10),n=o(n,r,u,h,d,e[5],0,8),u=i(u,10),d=o(d,n,r,u,h,e[6],0,7),r=i(r,10),h=o(h,d,n,r,u,e[7],0,9),n=i(n,10),u=o(u,h,d,n,r,e[8],0,11),d=i(d,10),r=o(r,u,h,d,n,e[9],0,13),h=i(h,10),n=o(n,r,u,h,d,e[10],0,14),u=i(u,10),d=o(d,n,r,u,h,e[11],0,15),r=i(r,10),h=o(h,d,n,r,u,e[12],0,6),n=i(n,10),u=o(u,h,d,n,r,e[13],0,7),d=i(d,10),r=o(r,u,h,d,n,e[14],0,9),h=i(h,10),n=o(n,r,u,h,d,e[15],0,8),u=i(u,10),d=a(d,n,r,u,h,e[7],1518500249,7),r=i(r,10),h=a(h,d,n,r,u,e[4],1518500249,6),n=i(n,10),u=a(u,h,d,n,r,e[13],1518500249,8),d=i(d,10),r=a(r,u,h,d,n,e[1],1518500249,13),h=i(h,10),n=a(n,r,u,h,d,e[10],1518500249,11),u=i(u,10),d=a(d,n,r,u,h,e[6],1518500249,9),r=i(r,10),h=a(h,d,n,r,u,e[15],1518500249,7),n=i(n,10),u=a(u,h,d,n,r,e[3],1518500249,15),d=i(d,10),r=a(r,u,h,d,n,e[12],1518500249,7),h=i(h,10),n=a(n,r,u,h,d,e[0],1518500249,12),u=i(u,10),d=a(d,n,r,u,h,e[9],1518500249,15),r=i(r,10),h=a(h,d,n,r,u,e[5],1518500249,9),n=i(n,10),u=a(u,h,d,n,r,e[2],1518500249,11),d=i(d,10),r=a(r,u,h,d,n,e[14],1518500249,7),h=i(h,10),n=a(n,r,u,h,d,e[11],1518500249,13),u=i(u,10),d=a(d,n,r,u,h,e[8],1518500249,12),r=i(r,10),h=s(h,d,n,r,u,e[3],1859775393,11),n=i(n,10),u=s(u,h,d,n,r,e[10],1859775393,13),d=i(d,10),r=s(r,u,h,d,n,e[14],1859775393,6),h=i(h,10),n=s(n,r,u,h,d,e[4],1859775393,7),u=i(u,10),d=s(d,n,r,u,h,e[9],1859775393,14),r=i(r,10),h=s(h,d,n,r,u,e[15],1859775393,9),n=i(n,10),u=s(u,h,d,n,r,e[8],1859775393,13),d=i(d,10),r=s(r,u,h,d,n,e[1],1859775393,15),h=i(h,10),n=s(n,r,u,h,d,e[2],1859775393,14),u=i(u,10),d=s(d,n,r,u,h,e[7],1859775393,8),r=i(r,10),h=s(h,d,n,r,u,e[0],1859775393,13),n=i(n,10),u=s(u,h,d,n,r,e[6],1859775393,6),d=i(d,10),r=s(r,u,h,d,n,e[13],1859775393,5),h=i(h,10),n=s(n,r,u,h,d,e[11],1859775393,12),u=i(u,10),d=s(d,n,r,u,h,e[5],1859775393,7),r=i(r,10),h=s(h,d,n,r,u,e[12],1859775393,5),n=i(n,10),u=c(u,h,d,n,r,e[1],2400959708,11),d=i(d,10),r=c(r,u,h,d,n,e[9],2400959708,12),h=i(h,10),n=c(n,r,u,h,d,e[11],2400959708,14),u=i(u,10),d=c(d,n,r,u,h,e[10],2400959708,15),r=i(r,10),h=c(h,d,n,r,u,e[0],2400959708,14),n=i(n,10),u=c(u,h,d,n,r,e[8],2400959708,15),d=i(d,10),r=c(r,u,h,d,n,e[12],2400959708,9),h=i(h,10),n=c(n,r,u,h,d,e[4],2400959708,8),u=i(u,10),d=c(d,n,r,u,h,e[13],2400959708,9),r=i(r,10),h=c(h,d,n,r,u,e[3],2400959708,14),n=i(n,10),u=c(u,h,d,n,r,e[7],2400959708,5),d=i(d,10),r=c(r,u,h,d,n,e[15],2400959708,6),h=i(h,10),n=c(n,r,u,h,d,e[14],2400959708,8),u=i(u,10),d=c(d,n,r,u,h,e[5],2400959708,6),r=i(r,10),h=c(h,d,n,r,u,e[6],2400959708,5),n=i(n,10),u=c(u,h,d,n,r,e[2],2400959708,12),d=i(d,10),r=l(r,u,h,d,n,e[4],2840853838,9),h=i(h,10),n=l(n,r,u,h,d,e[0],2840853838,15),u=i(u,10),d=l(d,n,r,u,h,e[5],2840853838,5),r=i(r,10),h=l(h,d,n,r,u,e[9],2840853838,11),n=i(n,10),u=l(u,h,d,n,r,e[7],2840853838,6),d=i(d,10),r=l(r,u,h,d,n,e[12],2840853838,8),h=i(h,10),n=l(n,r,u,h,d,e[2],2840853838,13),u=i(u,10),d=l(d,n,r,u,h,e[10],2840853838,12),r=i(r,10),h=l(h,d,n,r,u,e[14],2840853838,5),n=i(n,10),u=l(u,h,d,n,r,e[1],2840853838,12),d=i(d,10),r=l(r,u,h,d,n,e[3],2840853838,13),h=i(h,10),n=l(n,r,u,h,d,e[8],2840853838,14),u=i(u,10),d=l(d,n,r,u,h,e[11],2840853838,11),r=i(r,10),h=l(h,d,n,r,u,e[6],2840853838,8),n=i(n,10),u=l(u,h,d,n,r,e[15],2840853838,5),d=i(d,10),r=l(r,u,h,d,n,e[13],2840853838,6),h=i(h,10);var f=this._a,p=this._b,m=this._c,g=this._d,v=this._e;f=l(f,p,m,g,v,e[5],1352829926,8),m=i(m,10),v=l(v,f,p,m,g,e[14],1352829926,9),p=i(p,10),g=l(g,v,f,p,m,e[7],1352829926,9),f=i(f,10),m=l(m,g,v,f,p,e[0],1352829926,11),v=i(v,10),p=l(p,m,g,v,f,e[9],1352829926,13),g=i(g,10),f=l(f,p,m,g,v,e[2],1352829926,15),m=i(m,10),v=l(v,f,p,m,g,e[11],1352829926,15),p=i(p,10),g=l(g,v,f,p,m,e[4],1352829926,5),f=i(f,10),m=l(m,g,v,f,p,e[13],1352829926,7),v=i(v,10),p=l(p,m,g,v,f,e[6],1352829926,7),g=i(g,10),f=l(f,p,m,g,v,e[15],1352829926,8),m=i(m,10),v=l(v,f,p,m,g,e[8],1352829926,11),p=i(p,10),g=l(g,v,f,p,m,e[1],1352829926,14),f=i(f,10),m=l(m,g,v,f,p,e[10],1352829926,14),v=i(v,10),p=l(p,m,g,v,f,e[3],1352829926,12),g=i(g,10),f=l(f,p,m,g,v,e[12],1352829926,6),m=i(m,10),v=c(v,f,p,m,g,e[6],1548603684,9),p=i(p,10),g=c(g,v,f,p,m,e[11],1548603684,13),f=i(f,10),m=c(m,g,v,f,p,e[3],1548603684,15),v=i(v,10),p=c(p,m,g,v,f,e[7],1548603684,7),g=i(g,10),f=c(f,p,m,g,v,e[0],1548603684,12),m=i(m,10),v=c(v,f,p,m,g,e[13],1548603684,8),p=i(p,10),g=c(g,v,f,p,m,e[5],1548603684,9),f=i(f,10),m=c(m,g,v,f,p,e[10],1548603684,11),v=i(v,10),p=c(p,m,g,v,f,e[14],1548603684,7),g=i(g,10),f=c(f,p,m,g,v,e[15],1548603684,7),m=i(m,10),v=c(v,f,p,m,g,e[8],1548603684,12),p=i(p,10),g=c(g,v,f,p,m,e[12],1548603684,7),f=i(f,10),m=c(m,g,v,f,p,e[4],1548603684,6),v=i(v,10),p=c(p,m,g,v,f,e[9],1548603684,15),g=i(g,10),f=c(f,p,m,g,v,e[1],1548603684,13),m=i(m,10),v=c(v,f,p,m,g,e[2],1548603684,11),p=i(p,10),g=s(g,v,f,p,m,e[15],1836072691,9),f=i(f,10),m=s(m,g,v,f,p,e[5],1836072691,7),v=i(v,10),p=s(p,m,g,v,f,e[1],1836072691,15),g=i(g,10),f=s(f,p,m,g,v,e[3],1836072691,11),m=i(m,10),v=s(v,f,p,m,g,e[7],1836072691,8),p=i(p,10),g=s(g,v,f,p,m,e[14],1836072691,6),f=i(f,10),m=s(m,g,v,f,p,e[6],1836072691,6),v=i(v,10),p=s(p,m,g,v,f,e[9],1836072691,14),g=i(g,10),f=s(f,p,m,g,v,e[11],1836072691,12),m=i(m,10),v=s(v,f,p,m,g,e[8],1836072691,13),p=i(p,10),g=s(g,v,f,p,m,e[12],1836072691,5),f=i(f,10),m=s(m,g,v,f,p,e[2],1836072691,14),v=i(v,10),p=s(p,m,g,v,f,e[10],1836072691,13),g=i(g,10),f=s(f,p,m,g,v,e[0],1836072691,13),m=i(m,10),v=s(v,f,p,m,g,e[4],1836072691,7),p=i(p,10),g=s(g,v,f,p,m,e[13],1836072691,5),f=i(f,10),m=a(m,g,v,f,p,e[8],2053994217,15),v=i(v,10),p=a(p,m,g,v,f,e[6],2053994217,5),g=i(g,10),f=a(f,p,m,g,v,e[4],2053994217,8),m=i(m,10),v=a(v,f,p,m,g,e[1],2053994217,11),p=i(p,10),g=a(g,v,f,p,m,e[3],2053994217,14),f=i(f,10),m=a(m,g,v,f,p,e[11],2053994217,14),v=i(v,10),p=a(p,m,g,v,f,e[15],2053994217,6),g=i(g,10),f=a(f,p,m,g,v,e[0],2053994217,14),m=i(m,10),v=a(v,f,p,m,g,e[5],2053994217,6),p=i(p,10),g=a(g,v,f,p,m,e[12],2053994217,9),f=i(f,10),m=a(m,g,v,f,p,e[2],2053994217,12),v=i(v,10),p=a(p,m,g,v,f,e[13],2053994217,9),g=i(g,10),f=a(f,p,m,g,v,e[9],2053994217,12),m=i(m,10),v=a(v,f,p,m,g,e[7],2053994217,5),p=i(p,10),g=a(g,v,f,p,m,e[10],2053994217,15),f=i(f,10),m=a(m,g,v,f,p,e[14],2053994217,8),v=i(v,10),p=o(p,m,g,v,f,e[12],0,8),g=i(g,10),f=o(f,p,m,g,v,e[15],0,5),m=i(m,10),v=o(v,f,p,m,g,e[10],0,12),p=i(p,10),g=o(g,v,f,p,m,e[4],0,9),f=i(f,10),m=o(m,g,v,f,p,e[1],0,12),v=i(v,10),p=o(p,m,g,v,f,e[5],0,5),g=i(g,10),f=o(f,p,m,g,v,e[8],0,14),m=i(m,10),v=o(v,f,p,m,g,e[7],0,6),p=i(p,10),g=o(g,v,f,p,m,e[6],0,8),f=i(f,10),m=o(m,g,v,f,p,e[2],0,13),v=i(v,10),p=o(p,m,g,v,f,e[13],0,6),g=i(g,10),f=o(f,p,m,g,v,e[14],0,5),m=i(m,10),v=o(v,f,p,m,g,e[0],0,15),p=i(p,10),g=o(g,v,f,p,m,e[3],0,13),f=i(f,10),m=o(m,g,v,f,p,e[9],0,11),v=i(v,10),p=o(p,m,g,v,f,e[11],0,11),g=i(g,10);var b=this._b+u+g|0;this._b=this._c+h+v|0,this._c=this._d+d+f|0,this._d=this._e+n+p|0,this._e=this._a+r+m|0,this._a=b},r.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=new n(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},t.exports=r}).call(this,e("buffer").Buffer)},{buffer:131,"hash-base":273,inherits:299}],383:[function(e,t,n){function r(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return a(e,t,n)}var o=e("buffer"),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=o:(r(o,n),n.Buffer=i),r(a,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},{buffer:131}],384:[function(e,t,n){!function(){"use strict";function e(t){return"undefined"==typeof this||Object.getPrototypeOf(this)!==e.prototype?new e(t):(j=this,j.version="3.3.6",j.tools=new S,j.isSupported()?(j.tools.extend(j.defaults,t||{}),j.defaults.container=n(j.defaults),j.store={elements:{},containers:[]},j.sequences={},j.history=[],j.uid=0,j.initialized=!1):"undefined"!=typeof console&&null!==console&&console.log("ScrollReveal is not supported in this browser."),j)}function n(e){if(e&&e.container){if("string"==typeof e.container)return window.document.documentElement.querySelector(e.container);if(j.tools.isNode(e.container))return e.container;console.log('ScrollReveal: invalid container "'+e.container+'" provided.'),console.log("ScrollReveal: falling back to default container.")}return j.defaults.container}function r(e,t){return"string"==typeof e?Array.prototype.slice.call(t.querySelectorAll(e)):j.tools.isNode(e)?[e]:j.tools.isNodeList(e)?Array.prototype.slice.call(e):[]}function i(){return++j.uid}function o(e,t,n){t.container&&(t.container=n),e.config?e.config=j.tools.extendClone(e.config,t):e.config=j.tools.extendClone(j.defaults,t),"top"===e.config.origin||"bottom"===e.config.origin?e.config.axis="Y":e.config.axis="X"}function a(e){var t=window.getComputedStyle(e.domEl);e.styles||(e.styles={transition:{},transform:{},computed:{}},e.styles.inline=e.domEl.getAttribute("style")||"",e.styles.inline+="; visibility: visible; ",e.styles.computed.opacity=t.opacity,t.transition&&"all 0s ease 0s"!==t.transition?e.styles.computed.transition=t.transition+", ":e.styles.computed.transition=""),e.styles.transition.instant=s(e,0),e.styles.transition.delayed=s(e,e.config.delay),e.styles.transform.initial=" -webkit-transform:",e.styles.transform.target=" -webkit-transform:",c(e),e.styles.transform.initial+="transform:",e.styles.transform.target+="transform:",c(e)}function s(e,t){var n=e.config;return"-webkit-transition: "+e.styles.computed.transition+"-webkit-transform "+n.duration/1e3+"s "+n.easing+" "+t/1e3+"s, opacity "+n.duration/1e3+"s "+n.easing+" "+t/1e3+"s; transition: "+e.styles.computed.transition+"transform "+n.duration/1e3+"s "+n.easing+" "+t/1e3+"s, opacity "+n.duration/1e3+"s "+n.easing+" "+t/1e3+"s; "}function c(e){var t,n=e.config,r=e.styles.transform;t="top"===n.origin||"left"===n.origin?/^-/.test(n.distance)?n.distance.substr(1):"-"+n.distance:n.distance,parseInt(n.distance)&&(r.initial+=" translate"+n.axis+"("+t+")",r.target+=" translate"+n.axis+"(0)"),n.scale&&(r.initial+=" scale("+n.scale+")",r.target+=" scale(1)"),n.rotate.x&&(r.initial+=" rotateX("+n.rotate.x+"deg)",r.target+=" rotateX(0)"),n.rotate.y&&(r.initial+=" rotateY("+n.rotate.y+"deg)",r.target+=" rotateY(0)"),n.rotate.z&&(r.initial+=" rotateZ("+n.rotate.z+"deg)",r.target+=" rotateZ(0)"),r.initial+="; opacity: "+n.opacity+";",r.target+="; opacity: "+e.styles.computed.opacity+";"}function l(e){var t=e.config.container;t&&j.store.containers.indexOf(t)===-1&&j.store.containers.push(e.config.container),j.store.elements[e.id]=e}function u(e,t,n){var r={target:e,config:t,interval:n};j.history.push(r)}function h(){if(j.isSupported()){p();for(var e=0;e<j.store.containers.length;e++)j.store.containers[e].addEventListener("scroll",d),j.store.containers[e].addEventListener("resize",d);j.initialized||(window.addEventListener("scroll",d),window.addEventListener("resize",d),j.initialized=!0)}return j}function d(){P(p)}function f(){var e,t,n,r;j.tools.forOwn(j.sequences,function(i){r=j.sequences[i],e=!1;for(var o=0;o<r.elemIds.length;o++)n=r.elemIds[o],t=j.store.elements[n],k(t)&&!e&&(e=!0);r.active=e})}function p(){var e,t;f(),j.tools.forOwn(j.store.elements,function(n){t=j.store.elements[n],e=b(t),v(t)?(t.config.beforeReveal(t.domEl),e?t.domEl.setAttribute("style",t.styles.inline+t.styles.transform.target+t.styles.transition.delayed):t.domEl.setAttribute("style",t.styles.inline+t.styles.transform.target+t.styles.transition.instant),g("reveal",t,e),t.revealing=!0,t.seen=!0,t.sequence&&m(t,e)):y(t)&&(t.config.beforeReset(t.domEl),t.domEl.setAttribute("style",t.styles.inline+t.styles.transform.initial+t.styles.transition.instant),g("reset",t),t.revealing=!1)})}function m(e,t){var n=0,r=0,i=j.sequences[e.sequence.id];i.blocked=!0,t&&"onload"===e.config.useDelay&&(r=e.config.delay),e.sequence.timer&&(n=Math.abs(e.sequence.timer.started-new Date),window.clearTimeout(e.sequence.timer)),e.sequence.timer={started:new Date},e.sequence.timer.clock=window.setTimeout(function(){i.blocked=!1,e.sequence.timer=null,d()},Math.abs(i.interval)+r-n)}function g(e,t,n){var r=0,i=0,o="after";switch(e){case"reveal":i=t.config.duration,n&&(i+=t.config.delay),o+="Reveal";break;case"reset":i=t.config.duration,o+="Reset"}t.timer&&(r=Math.abs(t.timer.started-new Date),window.clearTimeout(t.timer.clock)),t.timer={started:new Date},t.timer.clock=window.setTimeout(function(){t.config[o](t.domEl),t.timer=null},i-r)}function v(e){if(e.sequence){var t=j.sequences[e.sequence.id];return t.active&&!t.blocked&&!e.revealing&&!e.disabled}return k(e)&&!e.revealing&&!e.disabled}function b(e){var t=e.config.useDelay;return"always"===t||"onload"===t&&!j.initialized||"once"===t&&!e.seen}function y(e){if(e.sequence){var t=j.sequences[e.sequence.id];return!t.active&&e.config.reset&&e.revealing&&!e.disabled}return!k(e)&&e.config.reset&&e.revealing&&!e.disabled}function w(e){return{width:e.clientWidth,height:e.clientHeight}}function _(e){if(e&&e!==window.document.documentElement){var t=x(e);return{x:e.scrollLeft+t.left,y:e.scrollTop+t.top}}return{x:window.pageXOffset,y:window.pageYOffset}}function x(e){var t=0,n=0,r=e.offsetHeight,i=e.offsetWidth;do isNaN(e.offsetTop)||(t+=e.offsetTop),isNaN(e.offsetLeft)||(n+=e.offsetLeft),e=e.offsetParent;while(e);return{top:t,left:n,height:r,width:i}}function k(e){function t(){var t=l+s*a,n=u+c*a,r=h-s*a,f=d-c*a,p=o.y+e.config.viewOffset.top,m=o.x+e.config.viewOffset.left,g=o.y-e.config.viewOffset.bottom+i.height,v=o.x-e.config.viewOffset.right+i.width;return t<g&&r>p&&n<v&&f>m}function n(){return"fixed"===window.getComputedStyle(e.domEl).position}var r=x(e.domEl),i=w(e.config.container),o=_(e.config.container),a=e.config.viewFactor,s=r.height,c=r.width,l=r.top,u=r.left,h=l+s,d=u+c;return t()||n()}function S(){}var j,P;e.prototype.defaults={origin:"bottom",distance:"20px",duration:500,delay:0,rotate:{x:0,y:0,z:0},opacity:0,scale:.9,easing:"cubic-bezier(0.6, 0.2, 0.1, 1)",container:window.document.documentElement,mobile:!0,reset:!1,useDelay:"always",viewFactor:.2,viewOffset:{top:0,right:0,bottom:0,left:0},beforeReveal:function(e){},beforeReset:function(e){},afterReveal:function(e){},afterReset:function(e){}},e.prototype.isSupported=function(){var e=document.documentElement.style;return"WebkitTransition"in e&&"WebkitTransform"in e||"transition"in e&&"transform"in e},e.prototype.reveal=function(e,t,s,c){var d,f,p,m,g,v;if(void 0!==t&&"number"==typeof t?(s=t,t={}):void 0!==t&&null!==t||(t={}),d=n(t),f=r(e,d),!f.length)return console.log('ScrollReveal: reveal on "'+e+'" failed, no elements found.'),j;s&&"number"==typeof s&&(v=i(),g=j.sequences[v]={id:v,interval:s,elemIds:[],active:!1});for(var b=0;b<f.length;b++)m=f[b].getAttribute("data-sr-id"),m?p=j.store.elements[m]:(p={id:i(),domEl:f[b],seen:!1,revealing:!1},p.domEl.setAttribute("data-sr-id",p.id)),g&&(p.sequence={id:g.id,index:g.elemIds.length},g.elemIds.push(p.id)),o(p,t,d),a(p),l(p),j.tools.isMobile()&&!p.config.mobile||!j.isSupported()?(p.domEl.setAttribute("style",p.styles.inline),p.disabled=!0):p.revealing||p.domEl.setAttribute("style",p.styles.inline+p.styles.transform.initial);return!c&&j.isSupported()&&(u(e,t,s),j.initTimeout&&window.clearTimeout(j.initTimeout),j.initTimeout=window.setTimeout(h,0)),j},e.prototype.sync=function(){if(j.history.length&&j.isSupported()){for(var e=0;e<j.history.length;e++){var t=j.history[e];j.reveal(t.target,t.config,t.interval,!0)}h()}else console.log("ScrollReveal: sync failed, no reveals found.");return j},S.prototype.isObject=function(e){return null!==e&&"object"==typeof e&&e.constructor===Object},S.prototype.isNode=function(e){return"object"==typeof window.Node?e instanceof window.Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},S.prototype.isNodeList=function(e){var t=Object.prototype.toString.call(e),n=/^\[object (HTMLCollection|NodeList|Object)\]$/;return"object"==typeof window.NodeList?e instanceof window.NodeList:e&&"object"==typeof e&&n.test(t)&&"number"==typeof e.length&&(0===e.length||this.isNode(e[0]))},S.prototype.forOwn=function(e,t){if(!this.isObject(e))throw new TypeError('Expected "object", but received "'+typeof e+'".');for(var n in e)e.hasOwnProperty(n)&&t(n)},S.prototype.extend=function(e,t){return this.forOwn(t,function(n){this.isObject(t[n])?(e[n]&&this.isObject(e[n])||(e[n]={}),this.extend(e[n],t[n])):e[n]=t[n]}.bind(this)),e},S.prototype.extendClone=function(e,t){return this.extend(this.extend({},e),t)},S.prototype.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},P=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof t&&t.exports?t.exports=e:window.ScrollReveal=e}()},{}],385:[function(e,t,n){function r(e,t){this._block=i.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}var i=e("safe-buffer").Buffer;r.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=i.from(e,t));for(var n=this._block,r=this._blockSize,o=e.length,a=this._len,s=0;s<o;){for(var c=a%r,l=Math.min(o-s,r-c),u=0;u<l;u++)n[c+u]=e[s+u];a+=l,s+=l,a%r===0&&this._update(n)}return this._len+=o,this},r.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=4294967295&n,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=r},{"safe-buffer":383}],386:[function(e,t,n){var n=t.exports=function(e){e=e.toLowerCase();var t=n[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};n.sha=e("./sha"),n.sha1=e("./sha1"),n.sha224=e("./sha224"),n.sha256=e("./sha256"),n.sha384=e("./sha384"),n.sha512=e("./sha512")},{"./sha":387,"./sha1":388,"./sha224":389,"./sha256":390,"./sha384":391,"./sha512":392}],387:[function(e,t,n){function r(){this.init(),this._w=h,c.call(this,64,56)}function i(e){return e<<5|e>>>27}function o(e){return e<<30|e>>>2}function a(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}var s=e("inherits"),c=e("./hash"),l=e("safe-buffer").Buffer,u=[1518500249,1859775393,-1894007588,-899497514],h=new Array(80);s(r,c),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(e){for(var t=this._w,n=0|this._a,r=0|this._b,s=0|this._c,c=0|this._d,l=0|this._e,h=0;h<16;++h)t[h]=e.readInt32BE(4*h);for(;h<80;++h)t[h]=t[h-3]^t[h-8]^t[h-14]^t[h-16];for(var d=0;d<80;++d){var f=~~(d/20),p=i(n)+a(f,r,s,c)+l+t[d]+u[f]|0;l=c,c=s,s=o(r),r=n,n=p}this._a=n+this._a|0,this._b=r+this._b|0,this._c=s+this._c|0,this._d=c+this._d|0,this._e=l+this._e|0},r.prototype._hash=function(){var e=l.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=r},{"./hash":385,inherits:299,"safe-buffer":383}],388:[function(e,t,n){function r(){this.init(),this._w=d,l.call(this,64,56)}function i(e){return e<<1|e>>>31}function o(e){return e<<5|e>>>27}function a(e){return e<<30|e>>>2}function s(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}var c=e("inherits"),l=e("./hash"),u=e("safe-buffer").Buffer,h=[1518500249,1859775393,-1894007588,-899497514],d=new Array(80);c(r,l),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(e){for(var t=this._w,n=0|this._a,r=0|this._b,c=0|this._c,l=0|this._d,u=0|this._e,d=0;d<16;++d)t[d]=e.readInt32BE(4*d);for(;d<80;++d)t[d]=i(t[d-3]^t[d-8]^t[d-14]^t[d-16]);for(var f=0;f<80;++f){var p=~~(f/20),m=o(n)+s(p,r,c,l)+u+t[f]+h[p]|0;u=l,l=c,c=a(r),r=n,n=m}this._a=n+this._a|0,this._b=r+this._b|0,this._c=c+this._c|0,this._d=l+this._d|0,this._e=u+this._e|0},r.prototype._hash=function(){var e=u.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=r},{"./hash":385,inherits:299,"safe-buffer":383}],389:[function(e,t,n){function r(){this.init(),this._w=c,a.call(this,64,56)}var i=e("inherits"),o=e("./sha256"),a=e("./hash"),s=e("safe-buffer").Buffer,c=new Array(64);i(r,o),r.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},r.prototype._hash=function(){var e=s.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},t.exports=r},{"./hash":385,"./sha256":390,inherits:299,"safe-buffer":383}],390:[function(e,t,n){function r(){this.init(),this._w=p,h.call(this,64,56)}function i(e,t,n){return n^e&(t^n)}function o(e,t,n){return e&t|n&(e|t)}function a(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function s(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function c(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function l(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}var u=e("inherits"),h=e("./hash"),d=e("safe-buffer").Buffer,f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p=new Array(64);u(r,h),r.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},r.prototype._update=function(e){for(var t=this._w,n=0|this._a,r=0|this._b,u=0|this._c,h=0|this._d,d=0|this._e,p=0|this._f,m=0|this._g,g=0|this._h,v=0;v<16;++v)t[v]=e.readInt32BE(4*v);for(;v<64;++v)t[v]=l(t[v-2])+t[v-7]+c(t[v-15])+t[v-16]|0;for(var b=0;b<64;++b){var y=g+s(d)+i(d,p,m)+f[b]+t[b]|0,w=a(n)+o(n,r,u)|0;g=m,m=p,p=d,d=h+y|0,h=u,u=r,r=n,n=y+w|0}this._a=n+this._a|0,this._b=r+this._b|0,this._c=u+this._c|0,this._d=h+this._d|0,this._e=d+this._e|0,this._f=p+this._f|0,this._g=m+this._g|0,this._h=g+this._h|0},r.prototype._hash=function(){var e=d.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},t.exports=r},{"./hash":385,inherits:299,"safe-buffer":383}],391:[function(e,t,n){function r(){this.init(),this._w=c,a.call(this,128,112)}var i=e("inherits"),o=e("./sha512"),a=e("./hash"),s=e("safe-buffer").Buffer,c=new Array(160);i(r,o),r.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},r.prototype._hash=function(){function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}var t=s.allocUnsafe(48);return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=r},{"./hash":385,"./sha512":392,inherits:299,"safe-buffer":383}],392:[function(e,t,n){function r(){this.init(),this._w=v,p.call(this,128,112)}function i(e,t,n){return n^e&(t^n)}function o(e,t,n){return e&t|n&(e|t)}function a(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function s(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function c(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function l(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function u(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function h(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function d(e,t){return e>>>0<t>>>0?1:0}var f=e("inherits"),p=e("./hash"),m=e("safe-buffer").Buffer,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],v=new Array(160);f(r,p),r.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},r.prototype._update=function(e){for(var t=this._w,n=0|this._ah,r=0|this._bh,f=0|this._ch,p=0|this._dh,m=0|this._eh,v=0|this._fh,b=0|this._gh,y=0|this._hh,w=0|this._al,_=0|this._bl,x=0|this._cl,k=0|this._dl,S=0|this._el,j=0|this._fl,P=0|this._gl,E=0|this._hl,A=0;A<32;A+=2)t[A]=e.readInt32BE(4*A),t[A+1]=e.readInt32BE(4*A+4);for(;A<160;A+=2){var T=t[A-30],C=t[A-30+1],M=c(T,C),O=l(C,T);
T=t[A-4],C=t[A-4+1];var I=u(T,C),F=h(C,T),D=t[A-14],L=t[A-14+1],R=t[A-32],N=t[A-32+1],U=O+L|0,$=M+D+d(U,O)|0;U=U+F|0,$=$+I+d(U,F)|0,U=U+N|0,$=$+R+d(U,N)|0,t[A]=$,t[A+1]=U}for(var z=0;z<160;z+=2){$=t[z],U=t[z+1];var B=o(n,r,f),q=o(w,_,x),V=a(n,w),H=a(w,n),W=s(m,S),G=s(S,m),Y=g[z],K=g[z+1],X=i(m,v,b),Q=i(S,j,P),Z=E+G|0,J=y+W+d(Z,E)|0;Z=Z+Q|0,J=J+X+d(Z,Q)|0,Z=Z+K|0,J=J+Y+d(Z,K)|0,Z=Z+U|0,J=J+$+d(Z,U)|0;var ee=H+q|0,te=V+B+d(ee,H)|0;y=b,E=P,b=v,P=j,v=m,j=S,S=k+Z|0,m=p+J+d(S,k)|0,p=f,k=x,f=r,x=_,r=n,_=w,w=Z+ee|0,n=J+te+d(w,Z)|0}this._al=this._al+w|0,this._bl=this._bl+_|0,this._cl=this._cl+x|0,this._dl=this._dl+k|0,this._el=this._el+S|0,this._fl=this._fl+j|0,this._gl=this._gl+P|0,this._hl=this._hl+E|0,this._ah=this._ah+n+d(this._al,w)|0,this._bh=this._bh+r+d(this._bl,_)|0,this._ch=this._ch+f+d(this._cl,x)|0,this._dh=this._dh+p+d(this._dl,k)|0,this._eh=this._eh+m+d(this._el,S)|0,this._fh=this._fh+v+d(this._fl,j)|0,this._gh=this._gh+b+d(this._gl,P)|0,this._hh=this._hh+y+d(this._hl,E)|0},r.prototype._hash=function(){function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}var t=m.allocUnsafe(64);return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=r},{"./hash":385,inherits:299,"safe-buffer":383}],393:[function(e,t,n){(function(e){var n={dsa:{parts:["p","q","g","y"],sizePart:"p"},rsa:{parts:["e","n"],sizePart:"n"},ecdsa:{parts:["curve","Q"],sizePart:"Q"},ed25519:{parts:["R"],normalize:!1,sizePart:"R"}};n.curve25519=n.ed25519;var r={dsa:{parts:["p","q","g","y","x"]},rsa:{parts:["n","e","d","iqmp","p","q"]},ecdsa:{parts:["curve","Q","d"]},ed25519:{parts:["R","r"],normalize:!1}};r.curve25519=r.ed25519;var i={md5:!0,sha1:!0,sha256:!0,sha384:!0,sha512:!0},o={nistp256:{size:256,pkcs8oid:"1.2.840.10045.3.1.7",p:new e("00ffffffff 00000001 00000000 0000000000000000 ffffffff ffffffff ffffffff".replace(/ /g,""),"hex"),a:new e("00FFFFFFFF 00000001 00000000 0000000000000000 FFFFFFFF FFFFFFFF FFFFFFFC".replace(/ /g,""),"hex"),b:new e("5ac635d8 aa3a93e7 b3ebbd55 769886bc651d06b0 cc53b0f6 3bce3c3e 27d2604b".replace(/ /g,""),"hex"),s:new e("00c49d3608 86e70493 6a6678e1 139d26b7819f7e90".replace(/ /g,""),"hex"),n:new e("00ffffffff 00000000 ffffffff ffffffffbce6faad a7179e84 f3b9cac2 fc632551".replace(/ /g,""),"hex"),G:new e("046b17d1f2 e12c4247 f8bce6e5 63a440f277037d81 2deb33a0 f4a13945 d898c2964fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e162bce3357 6b315ece cbb64068 37bf51f5".replace(/ /g,""),"hex")},nistp384:{size:384,pkcs8oid:"1.3.132.0.34",p:new e("00ffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff fffffffeffffffff 00000000 00000000 ffffffff".replace(/ /g,""),"hex"),a:new e("00FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFEFFFFFFFF 00000000 00000000 FFFFFFFC".replace(/ /g,""),"hex"),b:new e("b3312fa7 e23ee7e4 988e056b e3f82d19181d9c6e fe814112 0314088f 5013875ac656398d 8a2ed19d 2a85c8ed d3ec2aef".replace(/ /g,""),"hex"),s:new e("00a335926a a319a27a 1d00896a 6773a4827acdac73".replace(/ /g,""),"hex"),n:new e("00ffffffff ffffffff ffffffff ffffffffffffffff ffffffff c7634d81 f4372ddf581a0db2 48b0a77a ecec196a ccc52973".replace(/ /g,""),"hex"),G:new e("04aa87ca22 be8b0537 8eb1c71e f320ad746e1d3b62 8ba79b98 59f741e0 82542a385502f25d bf55296c 3a545e38 72760ab73617de4a 96262c6f 5d9e98bf 9292dc29f8f41dbd 289a147c e9da3113 b5f0b8c00a60b1ce 1d7e819d 7a431d7c 90ea0e5f".replace(/ /g,""),"hex")},nistp521:{size:521,pkcs8oid:"1.3.132.0.35",p:new e("01ffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffff".replace(/ /g,""),"hex"),a:new e("01FFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFC".replace(/ /g,""),"hex"),b:new e("51953eb961 8e1c9a1f 929a21a0 b68540eea2da725b 99b315f3 b8b48991 8ef109e156193951 ec7e937b 1652c0bd 3bb1bf073573df88 3d2c34f1 ef451fd4 6b503f00".replace(/ /g,""),"hex"),s:new e("00d09e8800 291cb853 96cc6717 393284aaa0da64ba".replace(/ /g,""),"hex"),n:new e("01ffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff fffffffa51868783 bf2f966b 7fcc0148 f709a5d03bb5c9b8 899c47ae bb6fb71e 91386409".replace(/ /g,""),"hex"),G:new e("0400c6 858e06b7 0404e9cd 9e3ecb66 2395b4429c648139 053fb521 f828af60 6b4d3dbaa14b5e77 efe75928 fe1dc127 a2ffa8de3348b3c1 856a429b f97e7e31 c2e5bd660118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd998f54449 579b4468 17afbd17 273e662c97ee7299 5ef42640 c550b901 3fad0761353c7086 a272c240 88be9476 9fd16650".replace(/ /g,""),"hex")}};t.exports={info:n,privInfo:r,hashAlgs:i,curves:o}}).call(this,e("buffer").Buffer)},{buffer:131}],394:[function(e,t,n){(function(n){function r(e){i.object(e,"options"),i.arrayOfObject(e.subjects,"options.subjects"),l.assertCompatible(e.subjects[0],d,[1,0],"options.subjects"),l.assertCompatible(e.subjectKey,u,[1,0],"options.subjectKey"),l.assertCompatible(e.issuer,d,[1,0],"options.issuer"),void 0!==e.issuerKey&&l.assertCompatible(e.issuerKey,u,[1,0],"options.issuerKey"),i.object(e.signatures,"options.signatures"),i.buffer(e.serial,"options.serial"),i.date(e.validFrom,"options.validFrom"),i.date(e.validUntil,"optons.validUntil"),i.optionalArrayOfString(e.purposes,"options.purposes"),this._hashCache={},this.subjects=e.subjects,this.issuer=e.issuer,this.subjectKey=e.subjectKey,this.issuerKey=e.issuerKey,this.signatures=e.signatures,this.serial=e.serial,this.validFrom=e.validFrom,this.validUntil=e.validUntil,this.purposes=e.purposes}t.exports=r;var i=e("assert-plus"),o=e("./algs"),a=e("crypto"),s=e("./fingerprint"),c=(e("./signature"),e("./errors")),l=(e("util"),e("./utils")),u=e("./key"),h=e("./private-key"),d=e("./identity"),f={};f.openssh=e("./formats/openssh-cert"),f.x509=e("./formats/x509"),f.pem=e("./formats/x509-pem");var p=c.CertificateParseError,m=c.InvalidAlgorithmError;r.formats=f,r.prototype.toBuffer=function(e,t){return void 0===e&&(e="x509"),i.string(e,"format"),i.object(f[e],"formats[format]"),i.optionalObject(t,"options"),f[e].write(this,t)},r.prototype.toString=function(e,t){return void 0===e&&(e="pem"),this.toBuffer(e,t).toString()},r.prototype.fingerprint=function(e){void 0===e&&(e="sha256"),i.string(e,"algorithm");var t={type:"certificate",hash:this.hash(e),algorithm:e};return new s(t)},r.prototype.hash=function(e){if(i.string(e,"algorithm"),e=e.toLowerCase(),void 0===o.hashAlgs[e])throw new m(e);if(this._hashCache[e])return this._hashCache[e];var t=a.createHash(e).update(this.toBuffer("x509")).digest();return this._hashCache[e]=t,t},r.prototype.isExpired=function(e){return void 0===e&&(e=new Date),!(e.getTime()>=this.validFrom.getTime()&&e.getTime()<this.validUntil.getTime())},r.prototype.isSignedBy=function(e){return l.assertCompatible(e,r,[1,0],"issuer"),!!this.issuer.equals(e.subjects[0])&&(!(this.issuer.purposes&&this.issuer.purposes.length>0&&this.issuer.purposes.indexOf("ca")===-1)&&this.isSignedByKey(e.subjectKey))},r.prototype.isSignedByKey=function(e){if(l.assertCompatible(e,u,[1,2],"issuerKey"),void 0!==this.issuerKey)return this.issuerKey.fingerprint("sha512").matches(e);var t=Object.keys(this.signatures)[0],n=f[t].verify(this,e);return n&&(this.issuerKey=e),n},r.prototype.signWith=function(e){l.assertCompatible(e,h,[1,2],"key");for(var t=Object.keys(f),n=!1,r=0;r<t.length;++r)if("pem"!==t[r]){var i=f[t[r]].sign(this,e);i===!0&&(n=!0)}if(!n)throw new Error("Failed to sign the certificate for any available certificate formats")},r.createSelfSigned=function(e,t,o){var a;a=Array.isArray(e)?e:[e],i.arrayOfObject(a),a.forEach(function(e){l.assertCompatible(e,d,[1,0],"subject")}),l.assertCompatible(t,h,[1,2],"private key"),i.optionalObject(o,"options"),void 0===o&&(o={}),i.optionalObject(o.validFrom,"options.validFrom"),i.optionalObject(o.validUntil,"options.validUntil");var s=o.validFrom,c=o.validUntil;if(void 0===s&&(s=new Date),void 0===c){i.optionalNumber(o.lifetime,"options.lifetime");var u=o.lifetime;void 0===u&&(u=31536e4),c=new Date,c.setTime(c.getTime()+1e3*u)}i.optionalBuffer(o.serial,"options.serial");var f=o.serial;void 0===f&&(f=new n("0000000000000001","hex"));var p=o.purposes;if(void 0===p&&(p=[]),p.indexOf("signature")===-1&&p.push("signature"),p.indexOf("ca")===-1&&p.push("ca"),p.indexOf("crl")===-1&&p.push("crl"),p.length<=3){var m=a.filter(function(e){return"host"===e.type}),g=a.filter(function(e){return"user"===e.type});m.length>0&&p.indexOf("serverAuth")===-1&&p.push("serverAuth"),g.length>0&&p.indexOf("clientAuth")===-1&&p.push("clientAuth"),(g.length>0||m.length>0)&&(p.indexOf("keyAgreement")===-1&&p.push("keyAgreement"),"rsa"===t.type&&p.indexOf("encryption")===-1&&p.push("encryption"))}var v=new r({subjects:a,issuer:a[0],subjectKey:t.toPublic(),issuerKey:t.toPublic(),signatures:{},serial:f,validFrom:s,validUntil:c,purposes:p});return v.signWith(t),v},r.create=function(e,t,o,a,s){var c;c=Array.isArray(e)?e:[e],i.arrayOfObject(c),c.forEach(function(e){l.assertCompatible(e,d,[1,0],"subject")}),l.assertCompatible(t,u,[1,0],"key"),h.isPrivateKey(t)&&(t=t.toPublic()),l.assertCompatible(o,d,[1,0],"issuer"),l.assertCompatible(a,h,[1,2],"issuer key"),i.optionalObject(s,"options"),void 0===s&&(s={}),i.optionalObject(s.validFrom,"options.validFrom"),i.optionalObject(s.validUntil,"options.validUntil");var f=s.validFrom,p=s.validUntil;if(void 0===f&&(f=new Date),void 0===p){i.optionalNumber(s.lifetime,"options.lifetime");var m=s.lifetime;void 0===m&&(m=31536e4),p=new Date,p.setTime(p.getTime()+1e3*m)}i.optionalBuffer(s.serial,"options.serial");var g=s.serial;void 0===g&&(g=new n("0000000000000001","hex"));var v=s.purposes;void 0===v&&(v=[]),v.indexOf("signature")===-1&&v.push("signature"),s.ca===!0&&(v.indexOf("ca")===-1&&v.push("ca"),v.indexOf("crl")===-1&&v.push("crl"));var b=c.filter(function(e){return"host"===e.type}),y=c.filter(function(e){return"user"===e.type});b.length>0&&v.indexOf("serverAuth")===-1&&v.push("serverAuth"),y.length>0&&v.indexOf("clientAuth")===-1&&v.push("clientAuth"),(y.length>0||b.length>0)&&(v.indexOf("keyAgreement")===-1&&v.push("keyAgreement"),"rsa"===t.type&&v.indexOf("encryption")===-1&&v.push("encryption"));var w=new r({subjects:c,issuer:o,subjectKey:t,issuerKey:a.toPublic(),signatures:{},serial:g,validFrom:f,validUntil:p,purposes:v});return w.signWith(a),w},r.parse=function(e,t,n){"string"!=typeof e&&i.buffer(e,"data"),void 0===t&&(t="auto"),i.string(t,"format"),"string"==typeof n&&(n={filename:n}),i.optionalObject(n,"options"),void 0===n&&(n={}),i.optionalString(n.filename,"options.filename"),void 0===n.filename&&(n.filename="(unnamed)"),i.object(f[t],"formats[format]");try{var r=f[t].read(e,n);return r}catch(o){throw new p(n.filename,t,o)}},r.isCertificate=function(e,t){return l.isCompatible(e,r,t)},r.prototype._sshpkApiVersion=[1,0],r._oldVersionDetect=function(e){return[1,0]}}).call(this,e("buffer").Buffer)},{"./algs":393,"./errors":397,"./fingerprint":398,"./formats/openssh-cert":400,"./formats/x509":408,"./formats/x509-pem":407,"./identity":409,"./key":411,"./private-key":412,"./signature":413,"./utils":415,"assert-plus":78,buffer:131,crypto:133,util:451}],395:[function(e,t,n){(function(n){function r(t){if(g.assertCompatible(t,v,[1,4],"key"),this._isPriv=b.isPrivateKey(t,[1,3]),this._algo=t.type,this._curve=t.curve,this._key=t,"dsa"===t.type){if(!y)throw new Error("Due to bugs in the node 0.10 crypto API, node 0.12.x or later is required to use DH");this._dh=p.createDiffieHellman(t.part.p.data,void 0,t.part.g.data,void 0),this._p=t.part.p,this._g=t.part.g,this._isPriv&&this._dh.setPrivateKey(t.part.x.data),this._dh.setPublicKey(t.part.y.data)}else if("ecdsa"===t.type){if(!y)return void 0===u&&(u=e("ecc-jsbn")),void 0===h&&(h=e("ecc-jsbn/lib/ec")),void 0===d&&(d=e("jsbn").BigInteger),this._ecParams=new i(this._curve),void(this._isPriv&&(this._priv=new a(this._ecParams,t.part.d.data)));var n={nistp256:"prime256v1",nistp384:"secp384r1",nistp521:"secp521r1"}[t.curve];if(this._dh=p.createECDH(n),"object"!=typeof this._dh||"function"!=typeof this._dh.setPrivateKey)return y=!1,void r.call(this,t);this._isPriv&&this._dh.setPrivateKey(t.part.d.data),this._dh.setPublicKey(t.part.Q.data)}else{if("curve25519"!==t.type)throw new Error("DH not supported for "+t.type+" keys");void 0===l&&(l=e("tweetnacl")),this._isPriv&&(this._priv=t.part.r.data)}}function i(e){var t=m.curves[e];f.object(t);var n=new d(t.p),r=new d(t.a),i=new d(t.b),o=new d(t.n),a=d.ONE,s=new h.ECCurveFp(n,r,i),c=s.decodePointHex(t.G.toString("hex"));this.curve=s,this.g=c,this.n=o,this.h=a}function o(e,t){this._params=e,0===t[0]&&(t=t.slice(1)),this._pub=e.getCurve().decodePointHex(t.toString("hex"))}function a(e,t){this._params=e,this._priv=new d(g.mpNormalize(t))}function s(){void 0===l&&(l=e("tweetnacl"));var t=l.sign.keyPair(),r=new n(t.secretKey),i=new n(t.publicKey);f.strictEqual(r.length,64),f.strictEqual(i.length,32);var o=[];o.push({name:"R",data:i}),o.push({name:"r",data:r});var a=new b({type:"ed25519",parts:o});return a}function c(t){var r,o=[];if(y){var a={nistp256:"prime256v1",nistp384:"secp384r1",nistp521:"secp521r1"}[t],s=p.createECDH(a);return s.generateKeys(),o.push({name:"curve",data:new n(t)}),o.push({name:"Q",data:s.getPublicKey()}),o.push({name:"d",data:s.getPrivateKey()}),r=new b({type:"ecdsa",curve:t,parts:o})}void 0===u&&(u=e("ecc-jsbn")),void 0===h&&(h=e("ecc-jsbn/lib/ec")),void 0===d&&(d=e("jsbn").BigInteger);var c=new i(t),l=c.getN(),f=Math.ceil((l.bitLength()+64)/8),m=new d(p.randomBytes(f)),g=l.subtract(d.ONE),v=m.mod(g).add(d.ONE),w=c.getG().multiply(v);return v=new n(v.toByteArray()),w=new n(c.getCurve().encodePointHex(w),"hex"),o.push({name:"curve",data:new n(t)}),o.push({name:"Q",data:w}),o.push({name:"d",data:v}),r=new b({type:"ecdsa",curve:t,parts:o})}t.exports={DiffieHellman:r,generateECDSA:c,generateED25519:s};var l,u,h,d,f=e("assert-plus"),p=e("crypto"),m=e("./algs"),g=e("./utils"),v=e("./key"),b=e("./private-key"),y=void 0!==p.createECDH;r.prototype.getPublicKey=function(){return this._isPriv?this._key.toPublic():this._key},r.prototype.getPrivateKey=function(){return this._isPriv?this._key:void 0},r.prototype.getKey=r.prototype.getPrivateKey,r.prototype._keyCheck=function(e,t){if(f.object(e,"key"),t||g.assertCompatible(e,b,[1,3],"key"),g.assertCompatible(e,v,[1,4],"key"),e.type!==this._algo)throw new Error("A "+e.type+" key cannot be used in "+this._algo+" Diffie-Hellman");if(e.curve!==this._curve)throw new Error("A key from the "+e.curve+" curve cannot be used with a "+this._curve+" Diffie-Hellman");"dsa"===e.type&&(f.deepEqual(e.part.p,this._p,"DSA key prime does not match"),f.deepEqual(e.part.g,this._g,"DSA key generator does not match"))},r.prototype.setKey=function(e){this._keyCheck(e),"dsa"===e.type?(this._dh.setPrivateKey(e.part.x.data),this._dh.setPublicKey(e.part.y.data)):"ecdsa"===e.type?y?(this._dh.setPrivateKey(e.part.d.data),this._dh.setPublicKey(e.part.Q.data)):this._priv=new a(this._ecParams,e.part.d.data):"curve25519"===e.type&&(this._priv=e.part.r.data,0===this._priv[0]&&(this._priv=this._priv.slice(1)),this._priv=this._priv.slice(0,32)),this._key=e,this._isPriv=!0},r.prototype.setPrivateKey=r.prototype.setKey,r.prototype.computeSecret=function(e){if(this._keyCheck(e,!0),!this._isPriv)throw new Error("DH exchange has not been initialized with a private key yet");var t;if("dsa"===this._algo)return this._dh.computeSecret(e.part.y.data);if("ecdsa"===this._algo)return y?this._dh.computeSecret(e.part.Q.data):(t=new o(this._ecParams,e.part.Q.data),this._priv.deriveSharedSecret(t));if("curve25519"===this._algo){for(t=e.part.R.data;0===t[0]&&t.length>32;)t=t.slice(1);f.strictEqual(t.length,32),f.strictEqual(this._priv.length,64);var r=this._priv.slice(0,32),i=l.box.before(new Uint8Array(t),new Uint8Array(r));return new n(i)}throw new Error("Invalid algorithm: "+this._algo)},r.prototype.generateKey=function(){var e,t,r=[];if("dsa"===this._algo)return this._dh.generateKeys(),r.push({name:"p",data:this._p.data}),r.push({name:"q",data:this._key.part.q.data}),r.push({name:"g",data:this._g.data}),r.push({name:"y",data:this._dh.getPublicKey()}),r.push({name:"x",data:this._dh.getPrivateKey()}),this._key=new b({type:"dsa",parts:r}),this._isPriv=!0,this._key;if("ecdsa"===this._algo){if(y)return this._dh.generateKeys(),r.push({name:"curve",data:new n(this._curve)}),r.push({name:"Q",data:this._dh.getPublicKey()}),r.push({name:"d",data:this._dh.getPrivateKey()}),this._key=new b({type:"ecdsa",curve:this._curve,parts:r}),this._isPriv=!0,this._key;var i=this._ecParams.getN(),o=new d(p.randomBytes(i.bitLength())),s=i.subtract(d.ONE);return e=o.mod(s).add(d.ONE),t=this._ecParams.getG().multiply(e),e=new n(e.toByteArray()),t=new n(this._ecParams.getCurve().encodePointHex(t),"hex"),this._priv=new a(this._ecParams,e),r.push({name:"curve",data:new n(this._curve)}),r.push({name:"Q",data:t}),r.push({name:"d",data:e}),this._key=new b({type:"ecdsa",curve:this._curve,parts:r}),this._isPriv=!0,this._key}if("curve25519"===this._algo){var c=l.box.keyPair();return e=new n(c.secretKey),t=new n(c.publicKey),e=n.concat([e,t]),f.strictEqual(e.length,64),f.strictEqual(t.length,32),r.push({name:"R",data:t}),r.push({name:"r",data:e}),this._key=new b({type:"curve25519",parts:r}),this._isPriv=!0,this._key}throw new Error("Invalid algorithm: "+this._algo)},r.prototype.generateKeys=r.prototype.generateKey,i.prototype.getCurve=function(){return this.curve},i.prototype.getG=function(){return this.g},i.prototype.getN=function(){return this.n},i.prototype.getH=function(){return this.h},a.prototype.deriveSharedSecret=function(e){f.ok(e instanceof o);var t=e._pub.multiply(this._priv);return new n(t.getX().toBigInteger().toByteArray())}}).call(this,e("buffer").Buffer)},{"./algs":393,"./key":411,"./private-key":412,"./utils":415,"assert-plus":78,buffer:131,crypto:133,"ecc-jsbn":225,"ecc-jsbn/lib/ec":226,jsbn:305,tweetnacl:440}],396:[function(e,t,n){(function(n){function r(t,n){if(void 0===o&&(o=e("tweetnacl")),"sha512"!==n.toLowerCase())throw new Error("ED25519 only supports the use of SHA-512 hashes");this.key=t,this.chunks=[],a.Writable.call(this,{})}function i(t,n){if(void 0===o&&(o=e("tweetnacl")),"sha512"!==n.toLowerCase())throw new Error("ED25519 only supports the use of SHA-512 hashes");this.key=t,this.chunks=[],a.Writable.call(this,{})}t.exports={Verifier:r,Signer:i};var o,a=e("stream"),s=e("util"),c=e("assert-plus"),l=e("./signature");s.inherits(r,a.Writable),r.prototype._write=function(e,t,n){this.chunks.push(e),n()},r.prototype.update=function(e){"string"==typeof e&&(e=new n(e,"binary")),this.chunks.push(e)},r.prototype.verify=function(e,t){var r;if(l.isSignature(e,[2,0])){if("ed25519"!==e.type)return!1;r=e.toBuffer("raw")}else if("string"==typeof e)r=new n(e,"base64");else if(l.isSignature(e,[1,0]))throw new Error("signature was created by too old a version of sshpk and cannot be verified");return c.buffer(r),o.sign.detached.verify(new Uint8Array(n.concat(this.chunks)),new Uint8Array(r),new Uint8Array(this.key.part.R.data))},s.inherits(i,a.Writable),i.prototype._write=function(e,t,n){this.chunks.push(e),n()},i.prototype.update=function(e){"string"==typeof e&&(e=new n(e,"binary")),this.chunks.push(e)},i.prototype.sign=function(){var e=o.sign.detached(new Uint8Array(n.concat(this.chunks)),new Uint8Array(this.key.part.r.data)),t=new n(e),r=l.parse(t,"ed25519","raw");return r.hashAlgorithm="sha512",r}}).call(this,e("buffer").Buffer)},{"./signature":413,"assert-plus":78,buffer:131,stream:416,tweetnacl:440,util:451}],397:[function(e,t,n){function r(e,t){Error.captureStackTrace&&Error.captureStackTrace(this,r),this.name="FingerprintFormatError",this.fingerprint=e,this.format=t,this.message="Fingerprint format is not supported, or is invalid: ",void 0!==e&&(this.message+=" fingerprint = "+e),void 0!==t&&(this.message+=" format = "+t)}function i(e){Error.captureStackTrace&&Error.captureStackTrace(this,i),this.name="InvalidAlgorithmError",this.algorithm=e,this.message='Algorithm "'+e+'" is not supported'}function o(e,t,n){Error.captureStackTrace&&Error.captureStackTrace(this,o),this.name="KeyParseError",this.format=t,this.keyName=e,this.innerErr=n,this.message="Failed to parse "+e+" as a valid "+t+" format key: "+n.message}function a(e,t,n){Error.captureStackTrace&&Error.captureStackTrace(this,a),this.name="SignatureParseError",this.type=e,this.format=t,this.innerErr=n,this.message="Failed to parse the given data as a "+e+" signature in "+t+" format: "+n.message}function s(e,t,n){Error.captureStackTrace&&Error.captureStackTrace(this,s),this.name="CertificateParseError",this.format=t,this.certName=e,this.innerErr=n,this.message="Failed to parse "+e+" as a valid "+t+" format certificate: "+n.message}function c(e,t){Error.captureStackTrace&&Error.captureStackTrace(this,c),this.name="KeyEncryptedError",this.format=t,this.keyName=e,this.message="The "+t+" format key "+e+" is encrypted (password-protected), and no passphrase was provided in `options`"}var l=(e("assert-plus"),e("util"));l.inherits(r,Error),l.inherits(i,Error),l.inherits(o,Error),l.inherits(a,Error),l.inherits(s,Error),l.inherits(c,Error),t.exports={FingerprintFormatError:r,InvalidAlgorithmError:i,KeyParseError:o,SignatureParseError:a,KeyEncryptedError:c,CertificateParseError:s}},{"assert-plus":78,util:451}],398:[function(e,t,n){(function(n){function r(e){if(s.object(e,"options"),s.string(e.type,"options.type"),s.buffer(e.hash,"options.hash"),s.string(e.algorithm,"options.algorithm"),this.algorithm=e.algorithm.toLowerCase(),c.hashAlgs[this.algorithm]!==!0)throw new m(this.algorithm);this.hash=e.hash,this.type=e.type}function i(e){return e.replace(/(.{2})(?=.)/g,"$1:")}function o(e){return e.replace(/=*$/,"")}function a(e,t){return e.toUpperCase()+":"+o(t)}t.exports=r;var s=e("assert-plus"),c=e("./algs"),l=e("crypto"),u=e("./errors"),h=e("./key"),d=e("./certificate"),f=e("./utils"),p=u.FingerprintFormatError,m=u.InvalidAlgorithmError;r.prototype.toString=function(e){switch(void 0===e&&(e="md5"===this.algorithm?"hex":"base64"),s.string(e),e){case"hex":return i(this.hash.toString("hex"));case"base64":return a(this.algorithm,this.hash.toString("base64"));default:throw new p((void 0),e)}},r.prototype.matches=function(e){s.object(e,"key or certificate"),"key"===this.type?f.assertCompatible(e,h,[1,0],"key"):f.assertCompatible(e,d,[1,0],"certificate");var t=e.hash(this.algorithm),n=l.createHash(this.algorithm).update(t).digest("base64");return void 0===this.hash2&&(this.hash2=l.createHash(this.algorithm).update(this.hash).digest("base64")),this.hash2===n},r.parse=function(e,t){s.string(e,"fingerprint");var i,o,a;Array.isArray(t)&&(a=t,t={}),s.optionalObject(t,"options"),void 0===t&&(t={}),void 0!==t.enAlgs&&(a=t.enAlgs),s.optionalArrayOfString(a,"algorithms");var l=e.split(":");if(2==l.length){i=l[0].toLowerCase();var u=/^[A-Za-z0-9+\/=]+$/;if(!u.test(l[1]))throw new p(e);try{o=new n(l[1],"base64")}catch(h){throw new p(e)}}else if(l.length>2){i="md5","md5"===l[0].toLowerCase()&&(l=l.slice(1)),l=l.join("");var d=/^[a-fA-F0-9]+$/;if(!d.test(l))throw new p(e);try{o=new n(l,"hex")}catch(h){throw new p(e)}}if(void 0===i)throw new p(e);if(void 0===c.hashAlgs[i])throw new m(i);if(void 0!==a&&(a=a.map(function(e){return e.toLowerCase()}),a.indexOf(i)===-1))throw new m(i);return new r({algorithm:i,hash:o,type:t.type||"key"})},r.isFingerprint=function(e,t){return f.isCompatible(e,r,t)},r.prototype._sshpkApiVersion=[1,1],r._oldVersionDetect=function(e){return s.func(e.toString),s.func(e.matches),[1,0]}}).call(this,e("buffer").Buffer)},{"./algs":393,"./certificate":394,"./errors":397,"./key":411,"./utils":415,"assert-plus":78,buffer:131,crypto:133}],399:[function(e,t,n){(function(n){function r(e,t){if("string"==typeof e){if(e.trim().match(/^[-]+[ ]*BEGIN/))return c.read(e,t);if(e.match(/^\s*ssh-[a-z]/))return l.read(e,t);if(e.match(/^\s*ecdsa-/))return l.read(e,t);e=new n(e,"binary")}else{if(s.buffer(e),o(e))return c.read(e,t);if(i(e))return l.read(e,t)}if(e.readUInt32BE(0)<e.length)return u.read(e,t);throw new Error("Failed to auto-detect format of key")}function i(e){for(var t=0;t<e.length&&(32===e[t]||10===e[t]||9===e[t]);)++t;return t+4<=e.length&&"ssh-"===e.slice(t,t+4).toString("ascii")||t+6<=e.length&&"ecdsa-"===e.slice(t,t+6).toString("ascii")}function o(e){for(var t=0;t<e.length&&(32===e[t]||10===e[t]);)++t;if(45!==e[t])return!1;for(;t<e.length&&45===e[t];)++t;for(;t<e.length&&32===e[t];)++t;return!(t+5>e.length||"BEGIN"!==e.slice(t,t+5).toString("ascii"))}function a(e,t){throw new Error('"auto" format cannot be used for writing')}t.exports={read:r,write:a};var s=e("assert-plus"),c=(e("../utils"),e("../key"),e("../private-key"),e("./pem")),l=e("./ssh"),u=e("./rfc4253")}).call(this,e("buffer").Buffer)},{"../key":411,"../private-key":412,"../utils":415,"./pem":401,"./rfc4253":404,"./ssh":406,"assert-plus":78,buffer:131}],400:[function(e,t,n){(function(n){function r(e,t){return!1}function i(e,t){n.isBuffer(e)&&(e=e.toString("ascii"));var r=e.trim().split(/[ \t\n]+/g);if(r.length<2||r.length>3)throw new Error("Not a valid SSH certificate line");var i=r[0],a=r[1];return a=new n(a,"base64"),o(a,i)}function o(e,t,n){var r=new m({buffer:e}),i=r.readString();if(void 0!==t&&i!==t)throw new Error("SSH certificate algorithm mismatch");void 0===t&&(t=i);var o={};o.signatures={},o.signatures.openssh={},o.signatures.openssh.nonce=r.readBuffer();var s={},c=s.parts=[];s.type=d(t);for(var l=v.info[s.type].parts.length;c.length<l;)c.push(r.readPart());p.ok(c.length>=1,"key must have at least one part");var u=v.info[s.type];if("ecdsa"===s.type){var h=j.exec(t);p.ok(null!==h),p.strictEqual(h[1],c[0].data.toString())}for(var f=0;f<u.parts.length;++f)if(c[f].name=u.parts[f],"curve"!==c[f].name&&u.normalize!==!1){var g=c[f];g.data=x.mpNormalize(g.data)}o.subjectKey=new b(s),o.serial=r.readInt64();var P=S[r.readInt()];p.string(P,"valid cert type"),o.signatures.openssh.keyId=r.readString();for(var E=[],A=r.readBuffer(),T=new m({buffer:A});!T.atEnd();)E.push(T.readString());0===E.length&&(E=["*"]),o.subjects=E.map(function(e){if("user"===P)return y.forUser(e);if("host"===P)return y.forHost(e);throw new Error("Unknown identity type "+P)}),o.validFrom=a(r.readInt64()),o.validUntil=a(r.readInt64()),o.signatures.openssh.critical=r.readBuffer(),o.signatures.openssh.exts=r.readBuffer(),r.readBuffer();var C=r.readBuffer();o.issuerKey=w.read(C),o.issuer=y.forHost("**");var M=r.readBuffer();return o.signatures.openssh.signature=_.parse(M,o.issuerKey.type,"ssh"),void 0!==n&&(n.remainder=r.remainder(),n.consumed=r._offset),new k(o)}function a(e){var t=4294967296*e.readUInt32BE(0);t+=e.readUInt32BE(4);var n=new Date;return n.setTime(1e3*t),n.sourceInt64=e,n}function s(e){if(void 0!==e.sourceInt64)return e.sourceInt64;var t=Math.round(e.getTime()/1e3),r=Math.floor(t/4294967296),i=Math.floor(t%4294967296),o=new n(8);return o.writeUInt32BE(r,0),o.writeUInt32BE(i,4),o}function c(e,t){void 0===e.signatures.openssh&&(e.signatures.openssh={});try{var n=h(e,!0)}catch(r){return delete e.signatures.openssh,!1}var i=e.signatures.openssh,o=void 0;"rsa"!==t.type&&"dsa"!==t.type||(o="sha1");var a=t.createSign(o);return a.write(n),i.signature=a.sign(),!0}function l(e,t,n){void 0===e.signatures.openssh&&(e.signatures.openssh={});try{var r=h(e,!0)}catch(i){return delete e.signatures.openssh,void n(i)}var o=e.signatures.openssh;t(r,function(e,t){if(e)return void n(e);try{t.toBuffer("ssh")}catch(r){return void n(r)}o.signature=t,n()})}function u(e,t){void 0===t&&(t={});var n=h(e),r=f(e.subjectKey)+" "+n.toString("base64");return t.comment&&(r=r+" "+t.comment),r}function h(e,t){p.object(e.signatures.openssh,"signature for openssh format");var r=e.signatures.openssh;void 0===r.nonce&&(r.nonce=g.randomBytes(16));var i=new m({});i.writeString(f(e.subjectKey)),i.writeBuffer(r.nonce);var o=e.subjectKey,a=v.info[o.type];a.parts.forEach(function(e){i.writePart(o.part[e])}),i.writeInt64(e.serial);var c=e.subjects[0].type;p.notStrictEqual(c,"unknown"),e.subjects.forEach(function(e){p.strictEqual(e.type,c)}),c=S[c],i.writeInt(c),void 0===r.keyId&&(r.keyId=e.subjects[0].type+"_"+(e.subjects[0].uid||e.subjects[0].hostname)),i.writeString(r.keyId);var l=new m({});return e.subjects.forEach(function(e){c===S.host?l.writeString(e.hostname):c===S.user&&l.writeString(e.uid)}),i.writeBuffer(l.toBuffer()),i.writeInt64(s(e.validFrom)),i.writeInt64(s(e.validUntil)),void 0===r.critical&&(r.critical=new n(0)),i.writeBuffer(r.critical),void 0===r.exts&&(r.exts=new n(0)),i.writeBuffer(r.exts),i.writeBuffer(new n(0)),l=w.write(e.issuerKey),i.writeBuffer(l),t||i.writeBuffer(r.signature.toBuffer("ssh")),i.toBuffer()}function d(e){if("ssh-rsa-cert-v01@openssh.com"===e)return"rsa";if("ssh-dss-cert-v01@openssh.com"===e)return"dsa";if(e.match(j))return"ecdsa";if("ssh-ed25519-cert-v01@openssh.com"===e)return"ed25519";throw new Error("Unsupported cert type "+e)}function f(e){if("rsa"===e.type)return"ssh-rsa-cert-v01@openssh.com";if("dsa"===e.type)return"ssh-dss-cert-v01@openssh.com";if("ecdsa"===e.type)return"ecdsa-sha2-"+e.curve+"-cert-v01@openssh.com";if("ed25519"===e.type)return"ssh-ed25519-cert-v01@openssh.com";throw new Error("Unsupported key type "+e.type)}t.exports={read:i,verify:r,sign:c,signAsync:l,write:u,fromBuffer:o,toBuffer:h};var p=e("assert-plus"),m=e("../ssh-buffer"),g=e("crypto"),v=e("../algs"),b=e("../key"),y=(e("../private-key"),e("../identity")),w=e("./rfc4253"),_=e("../signature"),x=e("../utils"),k=e("../certificate"),S={user:1,host:2};Object.keys(S).forEach(function(e){S[S[e]]=e});var j=/^ecdsa-sha2-([^@-]+)-cert-v01@openssh.com$/}).call(this,e("buffer").Buffer)},{"../algs":393,"../certificate":394,"../identity":409,"../key":411,"../private-key":412,"../signature":413,"../ssh-buffer":414,"../utils":415,"./rfc4253":404,"assert-plus":78,buffer:131,crypto:133}],401:[function(e,t,n){(function(n){function r(e,t,r){var i=e;"string"!=typeof e&&(o.buffer(e,"buf"),e=e.toString("ascii"));var l=e.trim().split("\n"),u=l[0].match(/[-]+[ ]*BEGIN ([A-Z0-9]+ )?(PUBLIC|PRIVATE) KEY[ ]*[-]+/);o.ok(u,"invalid PEM header");var g=l[l.length-1].match(/[-]+[ ]*END ([A-Z0-9]+ )?(PUBLIC|PRIVATE) KEY[ ]*[-]+/);o.ok(g,"invalid PEM footer"),o.equal(u[2],g[2]);var v,b=u[2].toLowerCase();u[1]&&(o.equal(u[1],g[1],"PEM header and footer mismatch"),v=u[1].trim());for(var y={};;){if(l=l.slice(1),u=l[0].match(/^([A-Za-z0-9-]+): (.+)$/),!u)break;y[u[1].toLowerCase()]=u[2]}var w,_,x;if(y["proc-type"]){var k=y["proc-type"].split(",");if("4"===k[0]&&"ENCRYPTED"===k[1]){if("string"==typeof t.passphrase&&(t.passphrase=new n(t.passphrase,"utf-8")),!n.isBuffer(t.passphrase))throw new m.KeyEncryptedError(t.filename,"PEM");k=y["dek-info"].split(","),o.ok(2===k.length),w=k[0].toLowerCase(),x=new n(k[1],"hex"),_=c.opensslKeyDeriv(w,x,t.passphrase,1).key}}if(l=l.slice(0,-1).join(""),e=new n(l,"base64"),w&&_&&x){var S,j=s.createDecipheriv(w,_,x),P=[];for(j.once("error",function(e){if(e.toString().indexOf("bad decrypt")!==-1)throw new Error("Incorrect passphrase supplied, could not decrypt key");throw e}),j.write(e),j.end();null!==(S=j.read());)P.push(S);e=n.concat(P)}if(v&&"openssh"===v.toLowerCase())return f.readSSHPrivate(b,e,t);if(v&&"ssh2"===v.toLowerCase())return p.readType(b,e,t);var E=new a.BerReader(e);return E.originalInput=i,E.readSequence(),v?(r&&o.strictEqual(r,"pkcs1"),h.readPkcs1(v,b,E)):(r&&o.strictEqual(r,"pkcs8"),d.readPkcs8(v,b,E))}function i(e,t,r){o.object(e);var i,s={ecdsa:"EC",rsa:"RSA",dsa:"DSA"}[e.type],c=new a.BerWriter;if(u.isPrivateKey(e))r&&"pkcs8"===r?(i="PRIVATE KEY",d.writePkcs8(c,e)):(r&&o.strictEqual(r,"pkcs1"),i=s+" PRIVATE KEY",h.writePkcs1(c,e));else{if(!l.isKey(e))throw new Error("key is not a Key or PrivateKey");r&&"pkcs1"===r?(i=s+" PUBLIC KEY",h.writePkcs1(c,e)):(r&&o.strictEqual(r,"pkcs8"),i="PUBLIC KEY",d.writePkcs8(c,e))}var f=c.buffer.toString("base64"),p=f.length+f.length/64+18+16+2*i.length+10,m=new n(p),g=0;
g+=m.write("-----BEGIN "+i+"-----\n",g);for(var v=0;v<f.length;){var b=v+64;b>f.length&&(b=f.length),g+=m.write(f.slice(v,b),g),m[g++]=10,v=b}return g+=m.write("-----END "+i+"-----\n",g),m.slice(0,g)}t.exports={read:r,write:i};var o=e("assert-plus"),a=e("asn1"),s=e("crypto"),c=(e("../algs"),e("../utils")),l=e("../key"),u=e("../private-key"),h=e("./pkcs1"),d=e("./pkcs8"),f=e("./ssh-private"),p=e("./rfc4253"),m=e("../errors")}).call(this,e("buffer").Buffer)},{"../algs":393,"../errors":397,"../key":411,"../private-key":412,"../utils":415,"./pkcs1":402,"./pkcs8":403,"./rfc4253":404,"./ssh-private":405,asn1:77,"assert-plus":78,buffer:131,crypto:133}],402:[function(e,t,n){(function(n){function r(e,t){return P.read(e,t,"pkcs1")}function i(e,t){return P.write(e,t,"pkcs1")}function o(e,t){return w.strictEqual(e.peek(),_.Ber.Integer,t+" is not an Integer"),k.mpNormalize(e.readString(_.Ber.Integer,!0))}function a(e,t,n){switch(e){case"RSA":if("public"===t)return s(n);if("private"===t)return c(n);throw new Error("Unknown key type: "+t);case"DSA":if("public"===t)return u(n);if("private"===t)return l(n);throw new Error("Unknown key type: "+t);case"EC":case"ECDSA":if("private"===t)return d(n);if("public"===t)return h(n);throw new Error("Unknown key type: "+t);default:throw new Error("Unknown key algo: "+e)}}function s(e){var t=o(e,"modulus"),n=o(e,"exponent"),r={type:"rsa",parts:[{name:"e",data:n},{name:"n",data:t}]};return new S(r)}function c(e){var t=o(e,"version");w.strictEqual(t[0],0);var n=o(e,"modulus"),r=o(e,"public exponent"),i=o(e,"private exponent"),a=o(e,"prime1"),s=o(e,"prime2"),c=o(e,"exponent1"),l=o(e,"exponent2"),u=o(e,"iqmp"),h={type:"rsa",parts:[{name:"n",data:n},{name:"e",data:r},{name:"d",data:i},{name:"iqmp",data:u},{name:"p",data:a},{name:"q",data:s},{name:"dmodp",data:c},{name:"dmodq",data:l}]};return new j(h)}function l(e){var t=o(e,"version");w.strictEqual(t.readUInt8(0),0);var n=o(e,"p"),r=o(e,"q"),i=o(e,"g"),a=o(e,"y"),s=o(e,"x"),c={type:"dsa",parts:[{name:"p",data:n},{name:"q",data:r},{name:"g",data:i},{name:"y",data:a},{name:"x",data:s}]};return new j(c)}function u(e){var t=o(e,"y"),n=o(e,"p"),r=o(e,"q"),i=o(e,"g"),a={type:"dsa",parts:[{name:"y",data:t},{name:"p",data:n},{name:"q",data:r},{name:"g",data:i}]};return new S(a)}function h(e){e.readSequence();var t=e.readOID();w.strictEqual(t,"1.2.840.10045.2.1","must be ecPublicKey");for(var r,i=e.readOID(),o=Object.keys(x.curves),a=0;a<o.length;++a){var s=o[a],c=x.curves[s];if(c.pkcs8oid===i){r=s;break}}w.string(r,"a known ECDSA named curve");var l=e.readString(_.Ber.BitString,!0);l=k.ecNormalize(l);var u={type:"ecdsa",parts:[{name:"curve",data:new n(r)},{name:"Q",data:l}]};return new S(u)}function d(e){var t=o(e,"version");w.strictEqual(t.readUInt8(0),1);var r=e.readString(_.Ber.OctetString,!0);e.readSequence(160);var i=A(e);w.string(i,"a known elliptic curve"),e.readSequence(161);var a=e.readString(_.Ber.BitString,!0);a=k.ecNormalize(a);var s={type:"ecdsa",parts:[{name:"curve",data:new n(i)},{name:"Q",data:a},{name:"d",data:r}]};return new j(s)}function f(e,t){switch(e.startSequence(),t.type){case"rsa":j.isPrivateKey(t)?m(e,t):p(e,t);break;case"dsa":j.isPrivateKey(t)?g(e,t):v(e,t);break;case"ecdsa":j.isPrivateKey(t)?y(e,t):b(e,t);break;default:throw new Error("Unknown key algo: "+t.type)}e.endSequence()}function p(e,t){e.writeBuffer(t.part.n.data,_.Ber.Integer),e.writeBuffer(t.part.e.data,_.Ber.Integer)}function m(e,t){var r=new n(1);r[0]=0,e.writeBuffer(r,_.Ber.Integer),e.writeBuffer(t.part.n.data,_.Ber.Integer),e.writeBuffer(t.part.e.data,_.Ber.Integer),e.writeBuffer(t.part.d.data,_.Ber.Integer),e.writeBuffer(t.part.p.data,_.Ber.Integer),e.writeBuffer(t.part.q.data,_.Ber.Integer),t.part.dmodp&&t.part.dmodq||k.addRSAMissing(t),e.writeBuffer(t.part.dmodp.data,_.Ber.Integer),e.writeBuffer(t.part.dmodq.data,_.Ber.Integer),e.writeBuffer(t.part.iqmp.data,_.Ber.Integer)}function g(e,t){var r=new n(1);r[0]=0,e.writeBuffer(r,_.Ber.Integer),e.writeBuffer(t.part.p.data,_.Ber.Integer),e.writeBuffer(t.part.q.data,_.Ber.Integer),e.writeBuffer(t.part.g.data,_.Ber.Integer),e.writeBuffer(t.part.y.data,_.Ber.Integer),e.writeBuffer(t.part.x.data,_.Ber.Integer)}function v(e,t){e.writeBuffer(t.part.y.data,_.Ber.Integer),e.writeBuffer(t.part.p.data,_.Ber.Integer),e.writeBuffer(t.part.q.data,_.Ber.Integer),e.writeBuffer(t.part.g.data,_.Ber.Integer)}function b(e,t){e.startSequence(),e.writeOID("1.2.840.10045.2.1");var n=t.part.curve.data.toString(),r=x.curves[n].pkcs8oid;w.string(r,"a known ECDSA named curve"),e.writeOID(r),e.endSequence();var i=k.ecNormalize(t.part.Q.data,!0);e.writeBuffer(i,_.Ber.BitString)}function y(e,t){var r=new n(1);r[0]=1,e.writeBuffer(r,_.Ber.Integer),e.writeBuffer(t.part.d.data,_.Ber.OctetString),e.startSequence(160);var i=t.part.curve.data.toString(),o=x.curves[i].pkcs8oid;w.string(o,"a known ECDSA named curve"),e.writeOID(o),e.endSequence(),e.startSequence(161);var a=k.ecNormalize(t.part.Q.data,!0);e.writeBuffer(a,_.Ber.BitString),e.endSequence()}t.exports={read:r,readPkcs1:a,write:i,writePkcs1:f};var w=e("assert-plus"),_=e("asn1"),x=e("../algs"),k=e("../utils"),S=e("../key"),j=e("../private-key"),P=e("./pem"),E=e("./pkcs8"),A=E.readECDSACurve}).call(this,e("buffer").Buffer)},{"../algs":393,"../key":411,"../private-key":412,"../utils":415,"./pem":401,"./pkcs8":403,asn1:77,"assert-plus":78,buffer:131}],403:[function(e,t,n){(function(n){function r(e,t){return A.read(e,t,"pkcs8")}function i(e,t){return A.write(e,t,"pkcs8")}function o(e,t){return x.strictEqual(e.peek(),k.Ber.Integer,t+" is not an Integer"),j.mpNormalize(e.readString(k.Ber.Integer,!0))}function a(e,t,n){n.peek()===k.Ber.Integer&&(x.strictEqual(t,"private","unexpected Integer at start of public key"),n.readString(k.Ber.Integer,!0)),n.readSequence();var r=n.offset+n.length,i=n.readOID();switch(i){case"1.2.840.113549.1.1.1":return n._offset=r,"public"===t?s(n):c(n);case"1.2.840.10040.4.1":return"public"===t?l(n):u(n);case"1.2.840.10045.2.1":return"public"===t?f(n):d(n);default:throw new Error("Unknown key type OID "+i)}}function s(e){e.readSequence(k.Ber.BitString),e.readByte(),e.readSequence();var t=o(e,"modulus"),n=o(e,"exponent"),r={type:"rsa",source:e.originalInput,parts:[{name:"e",data:n},{name:"n",data:t}]};return new P(r)}function c(e){e.readSequence(k.Ber.OctetString),e.readSequence();var t=o(e,"version");x.equal(t[0],0,"unknown RSA private key version");var n=o(e,"modulus"),r=o(e,"public exponent"),i=o(e,"private exponent"),a=o(e,"prime1"),s=o(e,"prime2"),c=o(e,"exponent1"),l=o(e,"exponent2"),u=o(e,"iqmp"),h={type:"rsa",parts:[{name:"n",data:n},{name:"e",data:r},{name:"d",data:i},{name:"iqmp",data:u},{name:"p",data:a},{name:"q",data:s},{name:"dmodp",data:c},{name:"dmodq",data:l}]};return new E(h)}function l(e){e.readSequence();var t=o(e,"p"),n=o(e,"q"),r=o(e,"g");e.readSequence(k.Ber.BitString),e.readByte();var i=o(e,"y"),a={type:"dsa",parts:[{name:"p",data:t},{name:"q",data:n},{name:"g",data:r},{name:"y",data:i}]};return new P(a)}function u(e){e.readSequence();var t=o(e,"p"),n=o(e,"q"),r=o(e,"g");e.readSequence(k.Ber.OctetString);var i=o(e,"x"),a=j.calculateDSAPublic(r,t,i),s={type:"dsa",parts:[{name:"p",data:t},{name:"q",data:n},{name:"g",data:r},{name:"y",data:a},{name:"x",data:i}]};return new E(s)}function h(e){var t,r,i,o,a;if(e.peek()===k.Ber.OID){var s=e.readOID();for(r=Object.keys(S.curves),i=0;i<r.length;++i)if(o=r[i],a=S.curves[o],a.pkcs8oid===s){t=o;break}}else{e.readSequence();var c=e.readString(k.Ber.Integer,!0);x.strictEqual(c[0],1,"ECDSA key not version 1");var l={};e.readSequence();var u=e.readOID();x.strictEqual(u,"1.2.840.10045.1.1","ECDSA key is not from a prime-field");var h=l.p=j.mpNormalize(e.readString(k.Ber.Integer,!0));l.size=8*h.length-j.countZeros(h),e.readSequence(),l.a=j.mpNormalize(e.readString(k.Ber.OctetString,!0)),l.b=j.mpNormalize(e.readString(k.Ber.OctetString,!0)),e.peek()===k.Ber.BitString&&(l.s=e.readString(k.Ber.BitString,!0)),l.G=e.readString(k.Ber.OctetString,!0),x.strictEqual(l.G[0],4,"uncompressed G is required"),l.n=j.mpNormalize(e.readString(k.Ber.Integer,!0)),l.h=j.mpNormalize(e.readString(k.Ber.Integer,!0)),x.strictEqual(l.h[0],1,"a cofactor=1 curve is required"),r=Object.keys(S.curves);var d=Object.keys(l);for(i=0;i<r.length;++i){o=r[i],a=S.curves[o];for(var f=!0,p=0;p<d.length;++p){var m=d[p];if(void 0!==a[m])if("object"==typeof a[m]&&void 0!==a[m].equals){if(!a[m].equals(l[m])){f=!1;break}}else if(n.isBuffer(a[m])){if(a[m].toString("binary")!==l[m].toString("binary")){f=!1;break}}else if(a[m]!==l[m]){f=!1;break}}if(f){t=o;break}}}return t}function d(e){var t=h(e);x.string(t,"a known elliptic curve"),e.readSequence(k.Ber.OctetString),e.readSequence();var r=o(e,"version");x.equal(r[0],1,"unknown version of ECDSA key");var i=e.readString(k.Ber.OctetString,!0);e.readSequence(161);var a=e.readString(k.Ber.BitString,!0);a=j.ecNormalize(a);var s={type:"ecdsa",parts:[{name:"curve",data:new n(t)},{name:"Q",data:a},{name:"d",data:i}]};return new E(s)}function f(e){var t=h(e);x.string(t,"a known elliptic curve");var r=e.readString(k.Ber.BitString,!0);r=j.ecNormalize(r);var i={type:"ecdsa",parts:[{name:"curve",data:new n(t)},{name:"Q",data:r}]};return new P(i)}function p(e,t){if(e.startSequence(),E.isPrivateKey(t)){var r=new n(1);r[0]=0,e.writeBuffer(r,k.Ber.Integer)}switch(e.startSequence(),t.type){case"rsa":e.writeOID("1.2.840.113549.1.1.1"),E.isPrivateKey(t)?m(t,e):g(t,e);break;case"dsa":e.writeOID("1.2.840.10040.4.1"),E.isPrivateKey(t)?v(t,e):b(t,e);break;case"ecdsa":e.writeOID("1.2.840.10045.2.1"),E.isPrivateKey(t)?_(t,e):w(t,e);break;default:throw new Error("Unsupported key type: "+t.type)}e.endSequence()}function m(e,t){t.writeNull(),t.endSequence(),t.startSequence(k.Ber.OctetString),t.startSequence();var r=new n(1);r[0]=0,t.writeBuffer(r,k.Ber.Integer),t.writeBuffer(e.part.n.data,k.Ber.Integer),t.writeBuffer(e.part.e.data,k.Ber.Integer),t.writeBuffer(e.part.d.data,k.Ber.Integer),t.writeBuffer(e.part.p.data,k.Ber.Integer),t.writeBuffer(e.part.q.data,k.Ber.Integer),e.part.dmodp&&e.part.dmodq||j.addRSAMissing(e),t.writeBuffer(e.part.dmodp.data,k.Ber.Integer),t.writeBuffer(e.part.dmodq.data,k.Ber.Integer),t.writeBuffer(e.part.iqmp.data,k.Ber.Integer),t.endSequence(),t.endSequence()}function g(e,t){t.writeNull(),t.endSequence(),t.startSequence(k.Ber.BitString),t.writeByte(0),t.startSequence(),t.writeBuffer(e.part.n.data,k.Ber.Integer),t.writeBuffer(e.part.e.data,k.Ber.Integer),t.endSequence(),t.endSequence()}function v(e,t){t.startSequence(),t.writeBuffer(e.part.p.data,k.Ber.Integer),t.writeBuffer(e.part.q.data,k.Ber.Integer),t.writeBuffer(e.part.g.data,k.Ber.Integer),t.endSequence(),t.endSequence(),t.startSequence(k.Ber.OctetString),t.writeBuffer(e.part.x.data,k.Ber.Integer),t.endSequence()}function b(e,t){t.startSequence(),t.writeBuffer(e.part.p.data,k.Ber.Integer),t.writeBuffer(e.part.q.data,k.Ber.Integer),t.writeBuffer(e.part.g.data,k.Ber.Integer),t.endSequence(),t.endSequence(),t.startSequence(k.Ber.BitString),t.writeByte(0),t.writeBuffer(e.part.y.data,k.Ber.Integer),t.endSequence()}function y(e,t){var r=S.curves[e.curve];if(r.pkcs8oid)t.writeOID(r.pkcs8oid);else{t.startSequence();var i=new n(1);i.writeUInt8(1,0),t.writeBuffer(i,k.Ber.Integer),t.startSequence(),t.writeOID("1.2.840.10045.1.1"),t.writeBuffer(r.p,k.Ber.Integer),t.endSequence(),t.startSequence();var o=r.p;0===o[0]&&(o=o.slice(1)),t.writeBuffer(o,k.Ber.OctetString),t.writeBuffer(r.b,k.Ber.OctetString),t.writeBuffer(r.s,k.Ber.BitString),t.endSequence(),t.writeBuffer(r.G,k.Ber.OctetString),t.writeBuffer(r.n,k.Ber.Integer);var a=r.h;a||(a=new n(1),a[0]=1),t.writeBuffer(a,k.Ber.Integer),t.endSequence()}}function w(e,t){y(e,t),t.endSequence();var n=j.ecNormalize(e.part.Q.data,!0);t.writeBuffer(n,k.Ber.BitString)}function _(e,t){y(e,t),t.endSequence(),t.startSequence(k.Ber.OctetString),t.startSequence();var r=new n(1);r[0]=1,t.writeBuffer(r,k.Ber.Integer),t.writeBuffer(e.part.d.data,k.Ber.OctetString),t.startSequence(161);var i=j.ecNormalize(e.part.Q.data,!0);t.writeBuffer(i,k.Ber.BitString),t.endSequence(),t.endSequence(),t.endSequence()}t.exports={read:r,readPkcs8:a,write:i,writePkcs8:p,readECDSACurve:h,writeECDSACurve:y};var x=e("assert-plus"),k=e("asn1"),S=e("../algs"),j=e("../utils"),P=e("../key"),E=e("../private-key"),A=e("./pem")}).call(this,e("buffer").Buffer)},{"../algs":393,"../key":411,"../private-key":412,"../utils":415,"./pem":401,asn1:77,"assert-plus":78,buffer:131}],404:[function(e,t,n){(function(n){function r(e){if(s.string(e),"ssh-dss"===e)return"dsa";if("ssh-rsa"===e)return"rsa";if("ssh-ed25519"===e)return"ed25519";if("ssh-curve25519"===e)return"curve25519";if(e.match(/^ecdsa-sha2-/))return"ecdsa";throw new Error("Unknown algorithm "+e)}function i(e){if(s.object(e),"dsa"===e.type)return"ssh-dss";if("rsa"===e.type)return"ssh-rsa";if("ed25519"===e.type)return"ssh-ed25519";if("curve25519"===e.type)return"ssh-curve25519";if("ecdsa"===e.type)return"ecdsa-sha2-"+e.part.curve.data.toString();throw new Error("Unknown key type "+e.type)}function o(e,t,i,o){"string"==typeof i&&(i=new n(i)),s.buffer(i,"buf");var a={},f=a.parts=[],p=new d({buffer:i}),m=p.readString();s.ok(!p.atEnd(),"key must have at least one part"),a.type=r(m);var g=c.info[a.type].parts.length;for(t&&"private"===t&&(g=c.privInfo[a.type].parts.length);!p.atEnd()&&f.length<g;)f.push(p.readPart());for(;!e&&!p.atEnd();)f.push(p.readPart());s.ok(f.length>=1,"key must have at least one part"),s.ok(e||p.atEnd(),"leftover bytes at end of key");var v=u,b=c.info[a.type];if("private"!==t&&b.parts.length===f.length||(b=c.privInfo[a.type],v=h),s.strictEqual(b.parts.length,f.length),"ecdsa"===a.type){var y=/^ecdsa-sha2-(.+)$/.exec(m);s.ok(null!==y),s.strictEqual(y[1],f[0].data.toString())}for(var w=!0,_=0;_<b.parts.length;++_)if(f[_].name=b.parts[_],"curve"!==f[_].name&&b.normalize!==!1){var x=f[_],k=l.mpNormalize(x.data);k!==x.data&&(x.data=k,w=!1)}return w&&(a._rfc4253Cache=p.toBuffer()),e&&"object"==typeof e&&(e.remainder=p.remainder(),e.consumed=p._offset),new v(a)}function a(e,t){s.object(e);var n,r=i(e),o=c.info[e.type];h.isPrivateKey(e)&&(o=c.privInfo[e.type]);var a=o.parts,u=new d({});for(u.writeString(r),n=0;n<a.length;++n){var f=e.part[a[n]].data;o.normalize!==!1&&(f=l.mpNormalize(f)),u.writeBuffer(f)}return u.toBuffer()}t.exports={read:o.bind(void 0,!1,void 0),readType:o.bind(void 0,!1),write:a,readPartial:o.bind(void 0,!0),readInternal:o,keyTypeToAlg:i,algToKeyType:r};var s=e("assert-plus"),c=e("../algs"),l=e("../utils"),u=e("../key"),h=e("../private-key"),d=e("../ssh-buffer")}).call(this,e("buffer").Buffer)},{"../algs":393,"../key":411,"../private-key":412,"../ssh-buffer":414,"../utils":415,"assert-plus":78,buffer:131}],405:[function(e,t,n){(function(n){function r(e,t){return h.read(e,t)}function i(t,r,i){r=new f({buffer:r});var o=r.readCString();s.strictEqual(o,m,"bad magic string");var u=r.readString(),h=r.readString(),g=r.readBuffer(),v=r.readInt();if(1!==v)throw new Error("OpenSSH-format key file contains multiple keys: this is unsupported.");var b=r.readBuffer();if("public"===t)return s.ok(r.atEnd(),"excess bytes left after key"),d.read(b);var y=r.readBuffer();s.ok(r.atEnd(),"excess bytes left after key");var w=new f({buffer:g});switch(h){case"none":if("none"!==u)throw new Error('OpenSSH-format key uses KDF "none" but specifies a cipher other than "none"');break;case"bcrypt":var _=w.readBuffer(),x=w.readInt(),k=c.opensshCipherInfo(u);if(void 0===a&&(a=e("bcrypt-pbkdf")),"string"==typeof i.passphrase&&(i.passphrase=new n(i.passphrase,"utf-8")),!n.isBuffer(i.passphrase))throw new p.KeyEncryptedError(i.filename,"OpenSSH");var S=new Uint8Array(i.passphrase),j=new Uint8Array(_),P=new Uint8Array(k.keySize+k.blockSize),E=a.pbkdf(S,S.length,j,j.length,P,P.length,x);if(0!==E)throw new Error("bcrypt_pbkdf function returned failure, parameters invalid");P=new n(P);var A=P.slice(0,k.keySize),T=P.slice(k.keySize,k.keySize+k.blockSize),C=l.createDecipheriv(k.opensslName,A,T);C.setAutoPadding(!1);var M,O=[];for(C.once("error",function(e){if(e.toString().indexOf("bad decrypt")!==-1)throw new Error("Incorrect passphrase supplied, could not decrypt key");throw e}),C.write(y),C.end();null!==(M=C.read());)O.push(M);y=n.concat(O);break;default:throw new Error('OpenSSH-format key uses unknown KDF "'+h+'"')}r=new f({buffer:y});var I=r.readInt(),F=r.readInt();if(I!==F)throw new Error("Incorrect passphrase supplied, could not decrypt key");var D={},L=d.readInternal(D,"private",r.remainder());r.skip(D.consumed);var R=r.readString();return L.comment=R,L}function o(t,r){var i;i=u.isPrivateKey(t)?t.toPublic():t;var o,h="none",d="none",p=new n(0),g={blockSize:8};void 0!==r&&(o=r.passphrase,"string"==typeof o&&(o=new n(o,"utf-8")),void 0!==o&&(s.buffer(o,"options.passphrase"),s.optionalString(r.cipher,"options.cipher"),h=r.cipher,void 0===h&&(h="aes128-ctr"),g=c.opensshCipherInfo(h),d="bcrypt"));var v;if(u.isPrivateKey(t)){v=new f({});var b=l.randomBytes(4).readUInt32BE(0);v.writeInt(b),v.writeInt(b),v.write(t.toBuffer("rfc4253")),v.writeString(t.comment||"");for(var y=1;v._offset%g.blockSize!==0;)v.writeChar(y++);v=v.toBuffer()}switch(d){case"none":break;case"bcrypt":var w=l.randomBytes(16),_=16,x=new f({});x.writeBuffer(w),x.writeInt(_),p=x.toBuffer(),void 0===a&&(a=e("bcrypt-pbkdf"));var k=new Uint8Array(o),S=new Uint8Array(w),j=new Uint8Array(g.keySize+g.blockSize),P=a.pbkdf(k,k.length,S,S.length,j,j.length,_);if(0!==P)throw new Error("bcrypt_pbkdf function returned failure, parameters invalid");j=new n(j);var E=j.slice(0,g.keySize),A=j.slice(g.keySize,g.keySize+g.blockSize),T=l.createCipheriv(g.opensslName,E,A);T.setAutoPadding(!1);var C,M=[];for(T.once("error",function(e){throw e}),T.write(v),T.end();null!==(C=T.read());)M.push(C);v=n.concat(M);break;default:throw new Error("Unsupported kdf "+d)}var O=new f({});O.writeCString(m),O.writeString(h),O.writeString(d),O.writeBuffer(p),O.writeInt(1),O.writeBuffer(i.toBuffer("rfc4253")),v&&O.writeBuffer(v),O=O.toBuffer();var I;I=u.isPrivateKey(t)?"OPENSSH PRIVATE KEY":"OPENSSH PUBLIC KEY";var F=O.toString("base64"),D=F.length+F.length/70+18+16+2*I.length+10;O=new n(D);var L=0;L+=O.write("-----BEGIN "+I+"-----\n",L);for(var R=0;R<F.length;){var N=R+70;N>F.length&&(N=F.length),L+=O.write(F.slice(R,N),L),O[L++]=10,R=N}return L+=O.write("-----END "+I+"-----\n",L),O.slice(0,L)}t.exports={read:r,readSSHPrivate:i,write:o};var a,s=e("assert-plus"),c=(e("asn1"),e("../algs"),e("../utils")),l=e("crypto"),u=(e("../key"),e("../private-key")),h=e("./pem"),d=e("./rfc4253"),f=e("../ssh-buffer"),p=e("../errors"),m="openssh-key-v1"}).call(this,e("buffer").Buffer)},{"../algs":393,"../errors":397,"../key":411,"../private-key":412,"../ssh-buffer":414,"../utils":415,"./pem":401,"./rfc4253":404,asn1:77,"assert-plus":78,"bcrypt-pbkdf":84,buffer:131,crypto:133}],406:[function(e,t,n){(function(n){function r(e,t){"string"!=typeof e&&(o.buffer(e,"buf"),e=e.toString("ascii"));var r=e.trim().replace(/[\\\r]/g,""),i=r.match(c);i||(i=r.match(l)),o.ok(i,"key must match regex");var s,u=a.algToKeyType(i[1]),h=new n(i[2],"base64"),d={};if(i[4])try{s=a.read(h)}catch(f){i=r.match(l),o.ok(i,"key must match regex"),h=new n(i[2],"base64"),s=a.readInternal(d,"public",h)}else s=a.readInternal(d,"public",h);if(o.strictEqual(u,s.type),i[4]&&i[4].length>0)s.comment=i[4];else if(d.consumed){var p=i[2]+i[3],m=4*Math.ceil(d.consumed/3);p=p.slice(0,m-2).replace(/[^a-zA-Z0-9+\/=]/g,"")+p.slice(m-2);var g=d.consumed%3;for(g>0&&"="!==p.slice(m-1,m)&&m--;"="===p.slice(m,m+1);)m++;var v=p.slice(m);v=v.replace(/[\r\n]/g," ").replace(/^\s+/,""),v.match(/^[a-zA-Z0-9]/)&&(s.comment=v)}return s}function i(e,t){if(o.object(e),!s.isKey(e))throw new Error("Must be a public key");var r=[],i=a.keyTypeToAlg(e);r.push(i);var c=a.write(e);return r.push(c.toString("base64")),e.comment&&r.push(e.comment),new n(r.join(" "))}t.exports={read:r,write:i};var o=e("assert-plus"),a=e("./rfc4253"),s=(e("../utils"),e("../key")),c=(e("../private-key"),e("./ssh-private"),/^([a-z0-9-]+)[ \t]+([a-zA-Z0-9+\/]+[=]*)([\n \t]+([^\n]+))?$/),l=/^([a-z0-9-]+)[ \t]+([a-zA-Z0-9+\/ \t\n]+[=]*)(.*)$/}).call(this,e("buffer").Buffer)},{"../key":411,"../private-key":412,"../utils":415,"./rfc4253":404,"./ssh-private":405,"assert-plus":78,buffer:131}],407:[function(e,t,n){(function(n){function r(e,t){"string"!=typeof e&&(a.buffer(e,"buf"),e=e.toString("ascii"));var r=e.trim().split(/[\r\n]+/g),i=r[0].match(/[-]+[ ]*BEGIN CERTIFICATE[ ]*[-]+/);a.ok(i,"invalid PEM header");var s=r[r.length-1].match(/[-]+[ ]*END CERTIFICATE[ ]*[-]+/);a.ok(s,"invalid PEM footer");for(var c={};;){if(r=r.slice(1),i=r[0].match(/^([A-Za-z0-9-]+): (.+)$/),!i)break;c[i[1].toLowerCase()]=i[2]}return r=r.slice(0,-1).join(""),e=new n(r,"base64"),o.read(e,t)}function i(e,t){var r=o.write(e,t),i="CERTIFICATE",a=r.toString("base64"),s=a.length+a.length/64+18+16+2*i.length+10,c=new n(s),l=0;l+=c.write("-----BEGIN "+i+"-----\n",l);for(var u=0;u<a.length;){var h=u+64;h>a.length&&(h=a.length),l+=c.write(a.slice(u,h),l),c[l++]=10,u=h}return l+=c.write("-----END "+i+"-----\n",l),c.slice(0,l)}var o=e("./x509");t.exports={read:r,verify:o.verify,sign:o.sign,write:i};var a=e("assert-plus");e("asn1"),e("../algs"),e("../utils"),e("../key"),e("../private-key"),e("./pem"),e("../identity"),e("../signature"),e("../certificate")}).call(this,e("buffer").Buffer)},{"../algs":393,"../certificate":394,"../identity":409,"../key":411,"../private-key":412,"../signature":413,"../utils":415,"./pem":401,"./x509":408,asn1:77,"assert-plus":78,buffer:131}],408:[function(e,t,n){(function(n){function r(e,t){return w.strictEqual(e.peek(),_.Ber.Integer,t+" is not an Integer"),x.mpNormalize(e.readString(_.Ber.Integer,!0))}function i(e,t){var n=e.signatures.x509;w.object(n,"x509 signature");var r=n.algo.split("-");if(r[0]!==t.type)return!1;var i=n.cache;if(void 0===i){var o=new _.BerWriter;v(e,o),i=o.buffer}var a=t.createVerify(r[1]);return a.write(i),a.verify(n.signature)}function o(e){return _.Ber.Context|_.Ber.Constructor|e}function a(e){return _.Ber.Context|e}function s(e,t){"string"==typeof e&&(e=new n(e,"binary")),w.buffer(e,"buf");var i=new _.BerReader(e);if(i.readSequence(),Math.abs(i.length-i.remain)>1)throw new Error("DER sequence does not contain whole byte stream");var a=i.offset;i.readSequence();var s=i.offset+i.length,u=s;if(i.peek()===o(0)){i.readSequence(o(0));var h=i.readInt();w.ok(h<=3,"only x.509 versions up to v3 supported")}var d={};d.signatures={};var f=d.signatures.x509={};f.extras={},d.serial=r(i,"serial"),i.readSequence();var p=i.offset+i.length,m=i.readOID(),g=E[m];if(void 0===g)throw new Error("unknown signature algorithm "+m);if(i._offset=p,d.issuer=k.parseAsn1(i),i.readSequence(),d.validFrom=c(i),d.validUntil=c(i),d.subjects=[k.parseAsn1(i)],i.readSequence(),p=i.offset+i.length,d.subjectKey=P.readPkcs8(void 0,"public",i),i._offset=p,i.peek()===o(1)&&(i.readSequence(o(1)),f.extras.issuerUniqueID=e.slice(i.offset,i.offset+i.length),i._offset+=i.length),i.peek()===o(2)&&(i.readSequence(o(2)),f.extras.subjectUniqueID=e.slice(i.offset,i.offset+i.length),i._offset+=i.length),i.peek()===o(3)){i.readSequence(o(3));var v=i.offset+i.length;for(i.readSequence();i.offset<v;)l(d,e,i);w.strictEqual(i.offset,v)}w.strictEqual(i.offset,s),i.readSequence(),p=i.offset+i.length;var b=i.readOID(),y=E[b];if(void 0===y)throw new Error("unknown signature algorithm "+b);i._offset=p;var x=i.readString(_.Ber.BitString,!0);0===x[0]&&(x=x.slice(1));var A=y.split("-");return f.signature=S.parse(x,A[0],"asn1"),f.signature.hashAlgorithm=A[1],f.algo=y,f.cache=e.slice(a,u),new j(d)}function c(e){if(e.peek()===_.Ber.UTCTime)return u(e.readString(_.Ber.UTCTime));if(e.peek()===_.Ber.GeneralizedTime)return h(e.readString(_.Ber.GeneralizedTime));throw new Error("Unsupported date format")}function l(e,t,n){n.readSequence();var r,i=n.offset+n.length,o=n.readOID(),a=e.signatures.x509;a.extras.exts=[];var s;switch(n.peek()===_.Ber.Boolean&&(s=n.readBoolean()),o){case A.basicConstraints:n.readSequence(_.Ber.OctetString),n.readSequence();var c=n.offset+n.length,l=!1;n.peek()===_.Ber.Boolean&&(l=n.readBoolean()),void 0===e.purposes&&(e.purposes=[]),l===!0&&e.purposes.push("ca");var u={oid:o,critical:s};n.offset<c&&n.peek()===_.Ber.Integer&&(u.pathLen=n.readInt()),a.extras.exts.push(u);break;case A.extKeyUsage:n.readSequence(_.Ber.OctetString),n.readSequence(),void 0===e.purposes&&(e.purposes=[]);for(var h=n.offset+n.length;n.offset<h;){var d=n.readOID();e.purposes.push(M[d]||d)}e.purposes.indexOf("serverAuth")!==-1&&e.purposes.indexOf("clientAuth")===-1?e.subjects.forEach(function(e){"host"!==e.type&&(e.type="host",e.hostname=e.uid||e.email||e.components[0].value)}):e.purposes.indexOf("clientAuth")!==-1&&e.purposes.indexOf("serverAuth")===-1&&e.subjects.forEach(function(e){"user"!==e.type&&(e.type="user",e.uid=e.hostname||e.email||e.components[0].value)}),a.extras.exts.push({oid:o,critical:s});break;case A.keyUsage:n.readSequence(_.Ber.OctetString);var f=n.readString(_.Ber.BitString,!0),p=b(f,O);p.forEach(function(t){void 0===e.purposes&&(e.purposes=[]),e.purposes.indexOf(t)===-1&&e.purposes.push(t)}),a.extras.exts.push({oid:o,critical:s,bits:f});break;case A.altName:n.readSequence(_.Ber.OctetString),n.readSequence();for(var m=n.offset+n.length;n.offset<m;)switch(n.peek()){case T.OtherName:case T.EDIPartyName:n.readSequence(),n._offset+=n.length;break;case T.OID:n.readOID(T.OID);break;case T.RFC822Name:var g=n.readString(T.RFC822Name);r=k.forEmail(g),e.subjects[0].equals(r)||e.subjects.push(r);break;case T.DirectoryName:n.readSequence(T.DirectoryName),r=k.parseAsn1(n),e.subjects[0].equals(r)||e.subjects.push(r);break;case T.DNSName:var v=n.readString(T.DNSName);r=k.forHost(v),e.subjects[0].equals(r)||e.subjects.push(r);break;default:n.readString(n.peek())}a.extras.exts.push({oid:o,critical:s});break;default:a.extras.exts.push({oid:o,critical:s,data:n.readString(_.Ber.OctetString,!0)})}n._offset=i}function u(e){var t=e.match(I);w.ok(t,"timestamps must be in UTC");var n=new Date,r=n.getUTCFullYear(),i=100*Math.floor(r/100),o=parseInt(t[1],10);return o+=r%100<50&&o>=60?i-1:i,n.setUTCFullYear(o,parseInt(t[2],10)-1,parseInt(t[3],10)),n.setUTCHours(parseInt(t[4],10),parseInt(t[5],10)),t[6]&&t[6].length>0&&n.setUTCSeconds(parseInt(t[6],10)),n}function h(e){var t=e.match(F);w.ok(t);var n=new Date;return n.setUTCFullYear(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10)),n.setUTCHours(parseInt(t[4],10),parseInt(t[5],10)),t[6]&&t[6].length>0&&n.setUTCSeconds(parseInt(t[6],10)),n}function d(e){for(var t=""+e;t.length<2;)t="0"+t;return t}function f(e){var t="";return t+=d(e.getUTCFullYear()%100),t+=d(e.getUTCMonth()+1),t+=d(e.getUTCDate()),t+=d(e.getUTCHours()),t+=d(e.getUTCMinutes()),t+=d(e.getUTCSeconds()),t+="Z"}function p(e,t){void 0===e.signatures.x509&&(e.signatures.x509={});var n=e.signatures.x509;if(n.algo=t.type+"-"+t.defaultHashAlgorithm(),void 0===E[n.algo])return!1;var r=new _.BerWriter;v(e,r);var i=r.buffer;n.cache=i;var o=t.createSign();return o.write(i),e.signatures.x509.signature=o.sign(),!0}function m(e,t,n){void 0===e.signatures.x509&&(e.signatures.x509={});var r=e.signatures.x509,i=new _.BerWriter;v(e,i);var o=i.buffer;r.cache=o,t(o,function(e,t){return e?void n(e):(r.algo=t.type+"-"+t.hashAlgorithm,void 0===E[r.algo]?void n(new Error('Invalid signing algorithm "'+r.algo+'"')):(r.signature=t,void n()))})}function g(e,t){var r=e.signatures.x509;w.object(r,"x509 signature");var i=new _.BerWriter;i.startSequence(),r.cache?(i._ensure(r.cache.length),r.cache.copy(i._buf,i._offset),i._offset+=r.cache.length):v(e,i),i.startSequence(),i.writeOID(E[r.algo]),r.algo.match(/^rsa-/)&&i.writeNull(),i.endSequence();var o=r.signature.toBuffer("asn1"),a=new n(o.length+1);return a[0]=0,o.copy(a,1),i.writeBuffer(a,_.Ber.BitString),i.endSequence(),i.buffer}function v(e,t){var n=e.signatures.x509;w.object(n,"x509 signature"),t.startSequence(),t.startSequence(o(0)),t.writeInt(2),t.endSequence(),t.writeBuffer(x.mpNormalize(e.serial),_.Ber.Integer),t.startSequence(),t.writeOID(E[n.algo]),t.endSequence(),e.issuer.toAsn1(t),t.startSequence(),t.writeString(f(e.validFrom),_.Ber.UTCTime),t.writeString(f(e.validUntil),_.Ber.UTCTime),t.endSequence();var r=e.subjects[0],i=e.subjects.slice(1);if(r.toAsn1(t),P.writePkcs8(t,e.subjectKey),n.extras&&n.extras.issuerUniqueID&&t.writeBuffer(n.extras.issuerUniqueID,o(1)),n.extras&&n.extras.subjectUniqueID&&t.writeBuffer(n.extras.subjectUniqueID,o(2)),i.length>0||"host"===r.type||void 0!==e.purposes&&e.purposes.length>0||n.extras&&n.extras.exts){t.startSequence(o(3)),t.startSequence();var s=[];void 0!==e.purposes&&e.purposes.length>0&&(s.push({oid:A.basicConstraints,critical:!0}),s.push({oid:A.keyUsage,critical:!0}),s.push({oid:A.extKeyUsage,critical:!0})),s.push({oid:A.altName}),n.extras&&n.extras.exts&&(s=n.extras.exts);for(var c=0;c<s.length;++c){if(t.startSequence(),t.writeOID(s[c].oid),void 0!==s[c].critical&&t.writeBoolean(s[c].critical),s[c].oid===A.altName){t.startSequence(_.Ber.OctetString),t.startSequence(),"host"===r.type&&t.writeString(r.hostname,a(2));for(var l=0;l<i.length;++l)"host"===i[l].type?t.writeString(i[l].hostname,T.DNSName):"email"===i[l].type?t.writeString(i[l].email,T.RFC822Name):(t.startSequence(T.DirectoryName),i[l].toAsn1(t),t.endSequence());t.endSequence(),t.endSequence()}else if(s[c].oid===A.basicConstraints){t.startSequence(_.Ber.OctetString),t.startSequence();var u=e.purposes.indexOf("ca")!==-1,h=s[c].pathLen;t.writeBoolean(u),void 0!==h&&t.writeInt(h),t.endSequence(),t.endSequence()}else if(s[c].oid===A.extKeyUsage)t.startSequence(_.Ber.OctetString),t.startSequence(),e.purposes.forEach(function(e){if("ca"!==e&&O.indexOf(e)===-1){var n=e;void 0!==C[e]&&(n=C[e]),t.writeOID(n)}}),t.endSequence(),t.endSequence();else if(s[c].oid===A.keyUsage){if(t.startSequence(_.Ber.OctetString),void 0!==s[c].bits)t.writeBuffer(s[c].bits,_.Ber.BitString);else{var d=y(e.purposes,O);t.writeBuffer(d,_.Ber.BitString)}t.endSequence()}else t.writeBuffer(s[c].data,_.Ber.OctetString);t.endSequence()}t.endSequence(),t.endSequence()}t.endSequence()}function b(e,t){for(var n=8*(e.length-1)-e[0],r={},i=0;i<n;++i){var o=1+Math.floor(i/8),a=7-i%8,s=1<<a,c=0!==(e[o]&s),l=t[i];c&&"string"==typeof l&&(r[l]=!0)}return Object.keys(r)}function y(e,t){var r=t.length,i=Math.ceil(r/8),o=8*i-r,a=new n(1+i);a.fill(0),a[0]=o;for(var s=0;s<r;++s){var c=1+Math.floor(s/8),l=7-s%8,u=1<<l,h=t[s];if(void 0!==h){var d=e.indexOf(h)!==-1;d&&(a[c]|=u)}}return a}t.exports={read:s,verify:i,sign:p,signAsync:m,write:g};var w=e("assert-plus"),_=e("asn1"),x=(e("../algs"),e("../utils")),k=(e("../key"),e("../private-key"),e("./pem"),e("../identity")),S=e("../signature"),j=e("../certificate"),P=e("./pkcs8"),E={"rsa-md5":"1.2.840.113549.1.1.4","rsa-sha1":"1.2.840.113549.1.1.5","rsa-sha256":"1.2.840.113549.1.1.11","rsa-sha384":"1.2.840.113549.1.1.12","rsa-sha512":"1.2.840.113549.1.1.13","dsa-sha1":"1.2.840.10040.4.3","dsa-sha256":"2.16.840.1.101.3.4.3.2","ecdsa-sha1":"1.2.840.10045.4.1","ecdsa-sha256":"1.2.840.10045.4.3.2","ecdsa-sha384":"1.2.840.10045.4.3.3","ecdsa-sha512":"1.2.840.10045.4.3.4"};Object.keys(E).forEach(function(e){E[E[e]]=e}),E["1.3.14.3.2.3"]="rsa-md5",E["1.3.14.3.2.29"]="rsa-sha1";var A={issuerKeyId:"2.5.29.35",altName:"2.5.29.17",basicConstraints:"2.5.29.19",keyUsage:"2.5.29.15",extKeyUsage:"2.5.29.37"},T={OtherName:o(0),RFC822Name:a(1),DNSName:a(2),X400Address:o(3),DirectoryName:o(4),EDIPartyName:o(5),URI:a(6),IPAddress:a(7),OID:a(8)},C={serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",joyentDocker:"1.3.6.1.4.1.38678.1.4.1",joyentCmon:"1.3.6.1.4.1.38678.1.4.2"},M={};Object.keys(C).forEach(function(e){M[C[e]]=e});var O=["signature","identity","keyEncryption","encryption","keyAgreement","ca","crl"],I=/^([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})?Z$/,F=/^([0-9]{4})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})?Z$/}).call(this,e("buffer").Buffer)},{"../algs":393,
"../certificate":394,"../identity":409,"../key":411,"../private-key":412,"../signature":413,"../utils":415,"./pem":401,"./pkcs8":403,asn1:77,"assert-plus":78,buffer:131}],409:[function(e,t,n){(function(n){function r(e){var t=this;if(o.object(e,"options"),o.arrayOfObject(e.components,"options.components"),this.components=e.components,this.componentLookup={},this.components.forEach(function(e){e.name&&!e.oid&&(e.oid=l[e.name]),e.oid&&!e.name&&(e.name=u[e.oid]),void 0===t.componentLookup[e.name]&&(t.componentLookup[e.name]=[]),t.componentLookup[e.name].push(e)}),this.componentLookup.cn&&this.componentLookup.cn.length>0&&(this.cn=this.componentLookup.cn[0].value),o.optionalString(e.type,"options.type"),void 0===e.type)1===this.components.length&&this.componentLookup.cn&&1===this.componentLookup.cn.length&&this.componentLookup.cn[0].value.match(c)?(this.type="host",this.hostname=this.componentLookup.cn[0].value):this.componentLookup.dc&&this.components.length===this.componentLookup.dc.length?(this.type="host",this.hostname=this.componentLookup.dc.map(function(e){return e.value}).join(".")):this.componentLookup.uid&&this.components.length===this.componentLookup.uid.length?(this.type="user",this.uid=this.componentLookup.uid[0].value):this.componentLookup.cn&&1===this.componentLookup.cn.length&&this.componentLookup.cn[0].value.match(c)?(this.type="host",this.hostname=this.componentLookup.cn[0].value):this.componentLookup.uid&&1===this.componentLookup.uid.length?(this.type="user",this.uid=this.componentLookup.uid[0].value):this.componentLookup.mail&&1===this.componentLookup.mail.length?(this.type="email",this.email=this.componentLookup.mail[0].value):this.componentLookup.cn&&1===this.componentLookup.cn.length?(this.type="user",this.uid=this.componentLookup.cn[0].value):this.type="unknown";else if(this.type=e.type,"host"===this.type)this.hostname=e.hostname;else if("user"===this.type)this.uid=e.uid;else{if("email"!==this.type)throw new Error("Unknown type "+this.type);this.email=e.email}}function i(e,t){if("**"===e||"**"===t)return!0;var n=e.split("."),r=t.split(".");if(n.length!==r.length)return!1;for(var i=0;i<n.length;++i)if("*"!==n[i]&&"*"!==r[i]&&n[i]!==r[i])return!1;return!0}t.exports=r;var o=e("assert-plus"),a=(e("./algs"),e("crypto"),e("./fingerprint"),e("./signature"),e("./errors"),e("util"),e("./utils")),s=e("asn1"),c=/^([*]|[a-z0-9][a-z0-9\-]{0,62})(?:\.([*]|[a-z0-9][a-z0-9\-]{0,62}))*$/i,l={};l.cn="2.5.4.3",l.o="2.5.4.10",l.ou="2.5.4.11",l.l="2.5.4.7",l.s="2.5.4.8",l.c="2.5.4.6",l.sn="2.5.4.4",l.dc="0.9.2342.19200300.100.1.25",l.uid="0.9.2342.19200300.100.1.1",l.mail="0.9.2342.19200300.100.1.3";var u={};Object.keys(l).forEach(function(e){u[l[e]]=e}),r.prototype.toString=function(){return this.components.map(function(e){return e.name.toUpperCase()+"="+e.value}).join(", ")};var h=/[^a-zA-Z0-9 '(),+.\/:=?-]/,d=/[^\x00-\x7f]/;r.prototype.toAsn1=function(e,t){e.startSequence(t),this.components.forEach(function(t){if(e.startSequence(s.Ber.Constructor|s.Ber.Set),e.startSequence(),e.writeOID(t.oid),t.value.match(d)){var r=new n(t.value,"utf8");e.writeBuffer(r,s.Ber.Utf8String)}else t.value.match(h)?e.writeString(t.value,s.Ber.IA5String):e.writeString(t.value,s.Ber.PrintableString);e.endSequence(),e.endSequence()}),e.endSequence()},r.prototype.equals=function(e){if(!r.isIdentity(e,[1,0]))return!1;if(e.components.length!==this.components.length)return!1;for(var t=0;t<this.components.length;++t){if(this.components[t].oid!==e.components[t].oid)return!1;if(!i(this.components[t].value,e.components[t].value))return!1}return!0},r.forHost=function(e){return o.string(e,"hostname"),new r({type:"host",hostname:e,components:[{name:"cn",value:e}]})},r.forUser=function(e){return o.string(e,"uid"),new r({type:"user",uid:e,components:[{name:"uid",value:e}]})},r.forEmail=function(e){return o.string(e,"email"),new r({type:"email",email:e,components:[{name:"mail",value:e}]})},r.parseDN=function(e){o.string(e,"dn");var t=e.split(","),n=t.map(function(e){e=e.trim();var t=e.indexOf("="),n=e.slice(0,t).toLowerCase(),r=e.slice(t+1);return{name:n,value:r}});return new r({components:n})},r.parseAsn1=function(e,t){var n=[];e.readSequence(t);for(var i=e.offset+e.length;e.offset<i;){e.readSequence(s.Ber.Constructor|s.Ber.Set);var o=e.offset+e.length;e.readSequence();var a,c=e.readOID(),l=e.peek();switch(l){case s.Ber.PrintableString:case s.Ber.IA5String:case s.Ber.OctetString:case s.Ber.T61String:a=e.readString(l);break;case s.Ber.Utf8String:a=e.readString(l,!0),a=a.toString("utf8");break;case s.Ber.CharacterString:case s.Ber.BMPString:a=e.readString(l,!0),a=a.toString("utf16le");break;default:throw new Error("Unknown asn1 type "+l)}n.push({oid:c,value:a}),e._offset=o}return e._offset=i,new r({components:n})},r.isIdentity=function(e,t){return a.isCompatible(e,r,t)},r.prototype._sshpkApiVersion=[1,0],r._oldVersionDetect=function(e){return[1,0]}}).call(this,e("buffer").Buffer)},{"./algs":393,"./errors":397,"./fingerprint":398,"./signature":413,"./utils":415,asn1:77,"assert-plus":78,buffer:131,crypto:133,util:451}],410:[function(e,t,n){var r=e("./key"),i=e("./fingerprint"),o=e("./signature"),a=e("./private-key"),s=e("./certificate"),c=e("./identity"),l=e("./errors");t.exports={Key:r,parseKey:r.parse,Fingerprint:i,parseFingerprint:i.parse,Signature:o,parseSignature:o.parse,PrivateKey:a,parsePrivateKey:a.parse,generatePrivateKey:a.generate,Certificate:s,parseCertificate:s.parse,createSelfSignedCertificate:s.createSelfSigned,createCertificate:s.create,Identity:c,identityFromDN:c.parseDN,identityForHost:c.forHost,identityForUser:c.forUser,identityForEmail:c.forEmail,FingerprintFormatError:l.FingerprintFormatError,InvalidAlgorithmError:l.InvalidAlgorithmError,KeyParseError:l.KeyParseError,SignatureParseError:l.SignatureParseError,KeyEncryptedError:l.KeyEncryptedError,CertificateParseError:l.CertificateParseError}},{"./certificate":394,"./errors":397,"./fingerprint":398,"./identity":409,"./key":411,"./private-key":412,"./signature":413}],411:[function(e,t,n){(function(n){function r(e){o.object(e,"options"),o.arrayOfObject(e.parts,"options.parts"),o.string(e.type,"options.type"),o.optionalString(e.comment,"options.comment");var t=a.info[e.type];if("object"!=typeof t)throw new m(e.type);for(var n={},r=0;r<e.parts.length;++r){var i=e.parts[r];n[i.name]=i}this.type=e.type,this.parts=e.parts,this.part=n,this.comment=void 0,this.source=e.source,this._rfc4253Cache=e._rfc4253Cache,this._hashCache={};var s;if(this.curve=void 0,"ecdsa"===this.type){var c=this.part.curve.data.toString();this.curve=c,s=a.curves[c].size}else if("ed25519"===this.type||"curve25519"===this.type)s=256,this.curve="curve25519";else{var l=this.part[t.sizePart];s=l.data.length,s=8*s-d.countZeros(l.data)}this.size=s}t.exports=r;var i,o=e("assert-plus"),a=e("./algs"),s=e("crypto"),c=e("./fingerprint"),l=e("./signature"),u=e("./dhe").DiffieHellman,h=e("./errors"),d=e("./utils"),f=e("./private-key");try{i=e("./ed-compat")}catch(p){}var m=h.InvalidAlgorithmError,g=h.KeyParseError,v={};v.auto=e("./formats/auto"),v.pem=e("./formats/pem"),v.pkcs1=e("./formats/pkcs1"),v.pkcs8=e("./formats/pkcs8"),v.rfc4253=e("./formats/rfc4253"),v.ssh=e("./formats/ssh"),v["ssh-private"]=e("./formats/ssh-private"),v.openssh=v["ssh-private"],r.formats=v,r.prototype.toBuffer=function(e,t){return void 0===e&&(e="ssh"),o.string(e,"format"),o.object(v[e],"formats[format]"),o.optionalObject(t,"options"),"rfc4253"===e?(void 0===this._rfc4253Cache&&(this._rfc4253Cache=v.rfc4253.write(this)),this._rfc4253Cache):v[e].write(this,t)},r.prototype.toString=function(e,t){return this.toBuffer(e,t).toString()},r.prototype.hash=function(e){if(o.string(e,"algorithm"),e=e.toLowerCase(),void 0===a.hashAlgs[e])throw new m(e);if(this._hashCache[e])return this._hashCache[e];var t=s.createHash(e).update(this.toBuffer("rfc4253")).digest();return this._hashCache[e]=t,t},r.prototype.fingerprint=function(e){void 0===e&&(e="sha256"),o.string(e,"algorithm");var t={type:"key",hash:this.hash(e),algorithm:e};return new c(t)},r.prototype.defaultHashAlgorithm=function(){var e="sha1";return"rsa"===this.type&&(e="sha256"),"dsa"===this.type&&this.size>1024&&(e="sha256"),"ed25519"===this.type&&(e="sha512"),"ecdsa"===this.type&&(e=this.size<=256?"sha256":this.size<=384?"sha384":"sha512"),e},r.prototype.createVerify=function(e){if(void 0===e&&(e=this.defaultHashAlgorithm()),o.string(e,"hash algorithm"),"ed25519"===this.type&&void 0!==i)return new i.Verifier(this,e);if("curve25519"===this.type)throw new Error("Curve25519 keys are not suitable for signing or verification");var t,r,a;try{r=e.toUpperCase(),t=s.createVerify(r)}catch(c){a=c}(void 0===t||a instanceof Error&&a.message.match(/Unknown message digest/))&&(r="RSA-",r+=e.toUpperCase(),t=s.createVerify(r)),o.ok(t,"failed to create verifier");var u=t.verify.bind(t),h=this.toBuffer("pkcs8"),d=this.curve,f=this;return t.verify=function(t,r){if(l.isSignature(t,[2,0]))return t.type===f.type&&((!t.hashAlgorithm||t.hashAlgorithm===e)&&((!t.curve||"ecdsa"!==f.type||t.curve===d)&&u(h,t.toBuffer("asn1"))));if("string"==typeof t||n.isBuffer(t))return u(h,t,r);throw l.isSignature(t,[1,0])?new Error("signature was created by too old a version of sshpk and cannot be verified"):new TypeError("signature must be a string, Buffer, or Signature object")},t},r.prototype.createDiffieHellman=function(){if("rsa"===this.type)throw new Error("RSA keys do not support Diffie-Hellman");return new u(this)},r.prototype.createDH=r.prototype.createDiffieHellman,r.parse=function(e,t,n){"string"!=typeof e&&o.buffer(e,"data"),void 0===t&&(t="auto"),o.string(t,"format"),"string"==typeof n&&(n={filename:n}),o.optionalObject(n,"options"),void 0===n&&(n={}),o.optionalString(n.filename,"options.filename"),void 0===n.filename&&(n.filename="(unnamed)"),o.object(v[t],"formats[format]");try{var r=v[t].read(e,n);return r instanceof f&&(r=r.toPublic()),r.comment||(r.comment=n.filename),r}catch(i){if("KeyEncryptedError"===i.name)throw i;throw new g(n.filename,t,i)}},r.isKey=function(e,t){return d.isCompatible(e,r,t)},r.prototype._sshpkApiVersion=[1,5],r._oldVersionDetect=function(e){return o.func(e.toBuffer),o.func(e.fingerprint),e.createDH?[1,4]:e.defaultHashAlgorithm?[1,3]:e.formats.auto?[1,2]:e.formats.pkcs1?[1,1]:[1,0]}}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":300,"./algs":393,"./dhe":395,"./ed-compat":396,"./errors":397,"./fingerprint":398,"./formats/auto":399,"./formats/pem":401,"./formats/pkcs1":402,"./formats/pkcs8":403,"./formats/rfc4253":404,"./formats/ssh":406,"./formats/ssh-private":405,"./private-key":412,"./signature":413,"./utils":415,"assert-plus":78,crypto:133}],412:[function(e,t,n){(function(n){function r(e){a.object(e,"options"),v.call(this,e),this._pubCache=void 0}t.exports=r;var i,o,a=e("assert-plus"),s=e("./algs"),c=e("crypto"),l=(e("./fingerprint"),e("./signature")),u=e("./errors"),h=e("util"),d=e("./utils"),f=e("./dhe"),p=f.generateECDSA,m=f.generateED25519;try{i=e("./ed-compat")}catch(g){}var v=e("./key"),b=(u.InvalidAlgorithmError,u.KeyParseError),y=(u.KeyEncryptedError,{});y.auto=e("./formats/auto"),y.pem=e("./formats/pem"),y.pkcs1=e("./formats/pkcs1"),y.pkcs8=e("./formats/pkcs8"),y.rfc4253=e("./formats/rfc4253"),y["ssh-private"]=e("./formats/ssh-private"),y.openssh=y["ssh-private"],y.ssh=y["ssh-private"],h.inherits(r,v),r.formats=y,r.prototype.toBuffer=function(e,t){return void 0===e&&(e="pkcs1"),a.string(e,"format"),a.object(y[e],"formats[format]"),a.optionalObject(t,"options"),y[e].write(this,t)},r.prototype.hash=function(e){return this.toPublic().hash(e)},r.prototype.toPublic=function(){if(this._pubCache)return this._pubCache;for(var e=s.info[this.type],t=[],n=0;n<e.parts.length;++n){var r=e.parts[n];t.push(this.part[r])}return this._pubCache=new v({type:this.type,source:this,parts:t}),this.comment&&(this._pubCache.comment=this.comment),this._pubCache},r.prototype.derive=function(t){a.string(t,"type");var i,s,c;if("ed25519"===this.type&&"curve25519"===t)return void 0===o&&(o=e("tweetnacl")),i=this.part.r.data,0===i[0]&&(i=i.slice(1)),i=i.slice(0,32),c=o.box.keyPair.fromSecretKey(new Uint8Array(i)),s=new n(c.publicKey),i=n.concat([i,s]),new r({type:"curve25519",parts:[{name:"R",data:d.mpNormalize(s)},{name:"r",data:i}]});if("curve25519"===this.type&&"ed25519"===t)return void 0===o&&(o=e("tweetnacl")),i=this.part.r.data,0===i[0]&&(i=i.slice(1)),i=i.slice(0,32),c=o.sign.keyPair.fromSeed(new Uint8Array(i)),s=new n(c.publicKey),i=n.concat([i,s]),new r({type:"ed25519",parts:[{name:"R",data:d.mpNormalize(s)},{name:"r",data:i}]});throw new Error("Key derivation not supported from "+this.type+" to "+t)},r.prototype.createVerify=function(e){return this.toPublic().createVerify(e)},r.prototype.createSign=function(e){if(void 0===e&&(e=this.defaultHashAlgorithm()),a.string(e,"hash algorithm"),"ed25519"===this.type&&void 0!==i)return new i.Signer(this,e);if("curve25519"===this.type)throw new Error("Curve25519 keys are not suitable for signing or verification");var t,r,o;try{r=e.toUpperCase(),t=c.createSign(r)}catch(s){o=s}(void 0===t||o instanceof Error&&o.message.match(/Unknown message digest/))&&(r="RSA-",r+=e.toUpperCase(),t=c.createSign(r)),a.ok(t,"failed to create verifier");var u=t.sign.bind(t),h=this.toBuffer("pkcs1"),d=this.type,f=this.curve;return t.sign=function(){var t=u(h);return"string"==typeof t&&(t=new n(t,"binary")),t=l.parse(t,d,"asn1"),t.hashAlgorithm=e,t.curve=f,t},t},r.parse=function(e,t,n){"string"!=typeof e&&a.buffer(e,"data"),void 0===t&&(t="auto"),a.string(t,"format"),"string"==typeof n&&(n={filename:n}),a.optionalObject(n,"options"),void 0===n&&(n={}),a.optionalString(n.filename,"options.filename"),void 0===n.filename&&(n.filename="(unnamed)"),a.object(y[t],"formats[format]");try{var i=y[t].read(e,n);return a.ok(i instanceof r,"key is not a private key"),i.comment||(i.comment=n.filename),i}catch(o){if("KeyEncryptedError"===o.name)throw o;throw new b(n.filename,t,o)}},r.isPrivateKey=function(e,t){return d.isCompatible(e,r,t)},r.generate=function(e,t){switch(void 0===t&&(t={}),a.object(t,"options"),e){case"ecdsa":return void 0===t.curve&&(t.curve="nistp256"),a.string(t.curve,"options.curve"),p(t.curve);case"ed25519":return m();default:throw new Error('Key generation not supported with key type "'+e+'"')}},r.prototype._sshpkApiVersion=[1,4],r._oldVersionDetect=function(e){return a.func(e.toPublic),a.func(e.createSign),e.derive?[1,3]:e.defaultHashAlgorithm?[1,2]:e.formats.auto?[1,1]:[1,0]}}).call(this,e("buffer").Buffer)},{"./algs":393,"./dhe":395,"./ed-compat":396,"./errors":397,"./fingerprint":398,"./formats/auto":399,"./formats/pem":401,"./formats/pkcs1":402,"./formats/pkcs8":403,"./formats/rfc4253":404,"./formats/ssh-private":405,"./key":411,"./signature":413,"./utils":415,"assert-plus":78,buffer:131,crypto:133,tweetnacl:440,util:451}],413:[function(e,t,n){(function(n){function r(e){c.object(e,"options"),c.arrayOfObject(e.parts,"options.parts"),c.string(e.type,"options.type");for(var t={},n=0;n<e.parts.length;++n){var r=e.parts[n];t[r.name]=r}this.type=e.type,this.hashAlgorithm=e.hashAlgo,this.curve=e.curve,this.parts=e.parts,this.part=t}function i(e,t,n,i){if("ssh"===n){try{var o=new d({buffer:e}),a=o.readString()}catch(s){}if(void 0!==o){var l="SSH signature does not match expected type (expected "+t+", got "+a+")";switch(a){case"ssh-rsa":c.strictEqual(t,"rsa",l),i.hashAlgo="sha1";break;case"rsa-sha2-256":c.strictEqual(t,"rsa",l),i.hashAlgo="sha256";break;case"rsa-sha2-512":c.strictEqual(t,"rsa",l),i.hashAlgo="sha512";break;case"ssh-ed25519":c.strictEqual(t,"ed25519",l),i.hashAlgo="sha512";break;default:throw new Error("Unknown SSH signature type: "+a)}var u=o.readPart();return c.ok(o.atEnd(),"extra trailing bytes"),u.name="sig",i.parts.push(u),new r(i)}}return i.parts.push({name:"sig",data:e}),new r(i)}function o(e,t,n,i){var o=new h.BerReader(e);o.readSequence();var a=o.readString(h.Ber.Integer,!0),s=o.readString(h.Ber.Integer,!0);return i.parts.push({name:"r",data:u.mpNormalize(a)}),i.parts.push({name:"s",data:u.mpNormalize(s)}),new r(i)}function a(e,t,n,i){if(40!=e.length){var o=new d({buffer:e}),a=o.readBuffer();"ssh-dss"===a.toString("ascii")&&(a=o.readBuffer()),c.ok(o.atEnd(),"extra trailing bytes"),c.strictEqual(a.length,40,"invalid inner length"),e=a}return i.parts.push({name:"r",data:e.slice(0,20)}),i.parts.push({name:"s",data:e.slice(20,40)}),new r(i)}function s(e,t,n,i){var o,a,s=new d({buffer:e}),l=s.readBuffer(),u=l.toString("ascii");if("ecdsa-"===u.slice(0,6)){var h=u.split("-");switch(c.strictEqual(h[0],"ecdsa"),c.strictEqual(h[1],"sha2"),i.curve=h[2],i.curve){case"nistp256":i.hashAlgo="sha256";break;case"nistp384":i.hashAlgo="sha384";break;case"nistp521":i.hashAlgo="sha512";break;default:throw new Error("Unsupported ECDSA curve: "+i.curve)}l=s.readBuffer(),c.ok(s.atEnd(),"extra trailing bytes on outer"),s=new d({buffer:l}),o=s.readPart()}else o={data:l};return a=s.readPart(),c.ok(s.atEnd(),"extra trailing bytes"),o.name="r",a.name="s",i.parts.push(o),i.parts.push(a),new r(i)}t.exports=r;var c=e("assert-plus"),l=(e("./algs"),e("crypto"),e("./errors")),u=e("./utils"),h=e("asn1"),d=e("./ssh-buffer"),f=l.InvalidAlgorithmError,p=l.SignatureParseError;r.prototype.toBuffer=function(e){void 0===e&&(e="asn1"),c.string(e,"format");var t,r="ssh-"+this.type;switch(this.type){case"rsa":switch(this.hashAlgorithm){case"sha256":r="rsa-sha2-256";break;case"sha512":r="rsa-sha2-512";break;case"sha1":case void 0:break;default:throw new Error("SSH signature format does not support hash algorithm "+this.hashAlgorithm)}return"ssh"===e?(t=new d({}),t.writeString(r),t.writePart(this.part.sig),t.toBuffer()):this.part.sig.data;case"ed25519":return"ssh"===e?(t=new d({}),t.writeString(r),t.writePart(this.part.sig),t.toBuffer()):this.part.sig.data;case"dsa":case"ecdsa":var i,o;if("asn1"===e){var a=new h.BerWriter;return a.startSequence(),i=u.mpNormalize(this.part.r.data),o=u.mpNormalize(this.part.s.data),a.writeBuffer(i,h.Ber.Integer),a.writeBuffer(o,h.Ber.Integer),a.endSequence(),a.buffer}if("ssh"===e&&"dsa"===this.type){if(t=new d({}),t.writeString("ssh-dss"),i=this.part.r.data,i.length>20&&0===i[0]&&(i=i.slice(1)),o=this.part.s.data,o.length>20&&0===o[0]&&(o=o.slice(1)),this.hashAlgorithm&&"sha1"!==this.hashAlgorithm||i.length+o.length!==40)throw new Error("OpenSSH only supports DSA signatures with SHA1 hash");return t.writeBuffer(n.concat([i,o])),t.toBuffer()}if("ssh"===e&&"ecdsa"===this.type){var s=new d({});i=this.part.r.data,s.writeBuffer(i),s.writePart(this.part.s),t=new d({});var l;0===i[0]&&(i=i.slice(1));var f=8*i.length;return 256===f?l="nistp256":384===f?l="nistp384":528===f&&(l="nistp521"),t.writeString("ecdsa-sha2-"+l),t.writeBuffer(s.toBuffer()),t.toBuffer()}throw new Error("Invalid signature format");default:throw new Error("Invalid signature data")}},r.prototype.toString=function(e){return c.optionalString(e,"format"),this.toBuffer(e).toString("base64")},r.parse=function(e,t,r){"string"==typeof e&&(e=new n(e,"base64")),c.buffer(e,"data"),c.string(r,"format"),c.string(t,"type");var l={};l.type=t.toLowerCase(),l.parts=[];try{switch(c.ok(e.length>0,"signature must not be empty"),l.type){case"rsa":return i(e,t,r,l);case"ed25519":return i(e,t,r,l);case"dsa":case"ecdsa":return"asn1"===r?o(e,t,r,l):"dsa"===l.type?a(e,t,r,l):s(e,t,r,l);default:throw new f(t)}}catch(u){if(u instanceof f)throw u;throw new p(t,r,u)}},r.isSignature=function(e,t){return u.isCompatible(e,r,t)},r.prototype._sshpkApiVersion=[2,1],r._oldVersionDetect=function(e){return c.func(e.toBuffer),e.hasOwnProperty("hashAlgorithm")?[2,0]:[1,0]}}).call(this,e("buffer").Buffer)},{"./algs":393,"./errors":397,"./ssh-buffer":414,"./utils":415,asn1:77,"assert-plus":78,buffer:131,crypto:133}],414:[function(e,t,n){(function(n){function r(e){i.object(e,"options"),void 0!==e.buffer&&i.buffer(e.buffer,"options.buffer"),this._size=e.buffer?e.buffer.length:1024,this._buffer=e.buffer||new n(this._size),this._offset=0}t.exports=r;var i=e("assert-plus");r.prototype.toBuffer=function(){return this._buffer.slice(0,this._offset)},r.prototype.atEnd=function(){return this._offset>=this._buffer.length},r.prototype.remainder=function(){return this._buffer.slice(this._offset)},r.prototype.skip=function(e){this._offset+=e},r.prototype.expand=function(){this._size*=2;var e=new n(this._size);this._buffer.copy(e,0),this._buffer=e},r.prototype.readPart=function(){return{data:this.readBuffer()}},r.prototype.readBuffer=function(){var e=this._buffer.readUInt32BE(this._offset);this._offset+=4,i.ok(this._offset+e<=this._buffer.length,"length out of bounds at +0x"+this._offset.toString(16)+" (data truncated?)");var t=this._buffer.slice(this._offset,this._offset+e);return this._offset+=e,t},r.prototype.readString=function(){return this.readBuffer().toString()},r.prototype.readCString=function(){for(var e=this._offset;e<this._buffer.length&&0!==this._buffer[e];)e++;i.ok(e<this._buffer.length,"c string does not terminate");var t=this._buffer.slice(this._offset,e).toString();return this._offset=e+1,t},r.prototype.readInt=function(){var e=this._buffer.readUInt32BE(this._offset);return this._offset+=4,e},r.prototype.readInt64=function(){i.ok(this._offset+8<this._buffer.length,"buffer not long enough to read Int64");var e=this._buffer.slice(this._offset,this._offset+8);return this._offset+=8,e},r.prototype.readChar=function(){var e=this._buffer[this._offset++];return e},r.prototype.writeBuffer=function(e){for(;this._offset+4+e.length>this._size;)this.expand();this._buffer.writeUInt32BE(e.length,this._offset),this._offset+=4,e.copy(this._buffer,this._offset),this._offset+=e.length},r.prototype.writeString=function(e){this.writeBuffer(new n(e,"utf8"))},r.prototype.writeCString=function(e){for(;this._offset+1+e.length>this._size;)this.expand();this._buffer.write(e,this._offset),this._offset+=e.length,this._buffer[this._offset++]=0},r.prototype.writeInt=function(e){for(;this._offset+4>this._size;)this.expand();this._buffer.writeUInt32BE(e,this._offset),this._offset+=4},r.prototype.writeInt64=function(e){if(i.buffer(e,"value"),e.length>8){for(var t=e.slice(0,e.length-8),n=0;n<t.length;++n)i.strictEqual(t[n],0,"must fit in 64 bits of precision");e=e.slice(e.length-8,e.length)}for(;this._offset+8>this._size;)this.expand();e.copy(this._buffer,this._offset),this._offset+=8},r.prototype.writeChar=function(e){for(;this._offset+1>this._size;)this.expand();this._buffer[this._offset++]=e},r.prototype.writePart=function(e){this.writeBuffer(e.data)},r.prototype.write=function(e){for(;this._offset+e.length>this._size;)this.expand();e.copy(this._buffer,this._offset),this._offset+=e.length}}).call(this,e("buffer").Buffer)},{"assert-plus":78,buffer:131}],415:[function(e,t,n){(function(n){function r(e,t,n){if(null===e||"object"!=typeof e)return!1;if(void 0===n&&(n=t.prototype._sshpkApiVersion),e instanceof t&&t.prototype._sshpkApiVersion[0]==n[0])return!0;for(var r=Object.getPrototypeOf(e),i=0;r.constructor.name!==t.name;)if(r=Object.getPrototypeOf(r),!r||++i>v)return!1;if(r.constructor.name!==t.name)return!1;var o=r._sshpkApiVersion;return void 0===o&&(o=t._oldVersionDetect(e)),!(o[0]!=n[0]||o[1]<n[1])}function i(e,t,n,r){if(void 0===r&&(r="object"),p.ok(e,r+" must not be null"),p.object(e,r+" must be an object"),void 0===n&&(n=t.prototype._sshpkApiVersion),!(e instanceof t&&t.prototype._sshpkApiVersion[0]==n[0])){for(var i=Object.getPrototypeOf(e),o=0;i.constructor.name!==t.name;)i=Object.getPrototypeOf(i),p.ok(i&&++o<=v,r+" must be a "+t.name+" instance");p.strictEqual(i.constructor.name,t.name,r+" must be a "+t.name+" instance");var a=i._sshpkApiVersion;void 0===a&&(a=t._oldVersionDetect(e)),p.ok(a[0]==n[0]&&a[1]>=n[1],r+" must be compatible with "+t.name+" klass version "+n[0]+"."+n[1])}}function o(e,t,r,i){p.buffer(t,"salt"),p.buffer(r,"passphrase"),p.number(i,"iteration count");var o=b[e];p.object(o,"supported cipher"),t=t.slice(0,y);for(var a,s,c,l=new n(0);l.length<o.key+o.iv;){c=[],s&&c.push(s),c.push(r),c.push(t),a=n.concat(c);for(var u=0;u<i;++u)a=g.createHash("md5").update(a).digest();l=n.concat([l,a]),s=a}return{key:l.slice(0,o.key),iv:l.slice(o.key,o.key+o.iv)}}function a(e){for(var t=0,n=8;t<e.length;){var r=1<<n;if((e[t]&r)===r)break;n--,n<0&&(t++,n=8)}return 8*t+(8-n)-1}function s(e,t){p.buffer(e),p.string(t);for(var n=[],r=0,i=0,o=0;o<e.length;++o)if(e[o]===t.charCodeAt(i)?++i:i=e[o]===t.charCodeAt(0)?1:0,i>=t.length){var a=o+1;n.push(e.slice(r,a-i)),r=a,i=0}return r<=e.length&&n.push(e.slice(r,e.length)),n}function c(e,t){if(p.buffer(e),0===e[0]&&4===e[1])return t?e:e.slice(1);if(4===e[0]){if(!t)return e}else{for(;0===e[0];)e=e.slice(1);if(2===e[0]||3===e[0])throw new Error("Compressed elliptic curve points are not supported");if(4!==e[0])throw new Error("Not a valid elliptic curve point");if(!t)return e}var r=new n(e.length+1);return r[0]=0,e.copy(r,1),r}function l(e){for(p.buffer(e);e.length>1&&0===e[0]&&0===(128&e[1]);)e=e.slice(1);if(128===(128&e[0])){var t=new n(e.length+1);t[0]=0,e.copy(t,1),e=t}return e}function u(e){var t=new n(e.toByteArray());return t=l(t)}function h(t,n,r){p.buffer(t),p.buffer(n),p.buffer(r);try{var i=e("jsbn").BigInteger}catch(o){throw new Error("To load a PKCS#8 format DSA private key, the node jsbn library is required.")}t=new i(t),n=new i(n),r=new i(r);var a=t.modPow(r,n),s=u(a);return s}function d(t){p.object(t),i(t,m,[1,1]);try{var n=e("jsbn").BigInteger}catch(r){throw new Error("To write a PEM private key from this source, the node jsbn lib is required.")}var o,a=new n(t.part.d.data);if(!t.part.dmodp){var s=new n(t.part.p.data),c=a.mod(s.subtract(1));o=u(c),t.part.dmodp={name:"dmodp",data:o},t.parts.push(t.part.dmodp)}if(!t.part.dmodq){var l=new n(t.part.q.data),h=a.mod(l.subtract(1));o=u(h),t.part.dmodq={name:"dmodq",data:o},t.parts.push(t.part.dmodq)}}function f(e){var t={};switch(e){case"3des-cbc":t.keySize=24,t.blockSize=8,t.opensslName="des-ede3-cbc";break;case"blowfish-cbc":t.keySize=16,t.blockSize=8,t.opensslName="bf-cbc";break;case"aes128-cbc":case"aes128-ctr":case"aes128-gcm@openssh.com":t.keySize=16,t.blockSize=16,t.opensslName="aes-128-"+e.slice(7,10);break;case"aes192-cbc":case"aes192-ctr":case"aes192-gcm@openssh.com":t.keySize=24,t.blockSize=16,t.opensslName="aes-192-"+e.slice(7,10);break;case"aes256-cbc":case"aes256-ctr":case"aes256-gcm@openssh.com":t.keySize=32,t.blockSize=16,t.opensslName="aes-256-"+e.slice(7,10);break;default:throw new Error('Unsupported openssl cipher "'+e+'"')}return t}t.exports={bufferSplit:s,addRSAMissing:d,calculateDSAPublic:h,mpNormalize:l,ecNormalize:c,countZeros:a,assertCompatible:i,isCompatible:r,opensslKeyDeriv:o,opensshCipherInfo:f};var p=e("assert-plus"),m=e("./private-key"),g=e("crypto"),v=3,b={"des-ede3-cbc":{key:7,iv:8},"aes-128-cbc":{key:16,iv:16}},y=8}).call(this,e("buffer").Buffer)},{"./private-key":412,"assert-plus":78,buffer:131,crypto:133,jsbn:305}],416:[function(e,t,n){function r(){i.call(this)}t.exports=r;var i=e("events").EventEmitter,o=e("inherits");o(r,i),r.Readable=e("readable-stream/readable.js"),r.Writable=e("readable-stream/writable.js"),r.Duplex=e("readable-stream/duplex.js"),r.Transform=e("readable-stream/transform.js"),r.PassThrough=e("readable-stream/passthrough.js"),r.Stream=r,r.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&l.pause&&l.pause()}function r(){l.readable&&l.resume&&l.resume()}function o(){u||(u=!0,e.end())}function a(){u||(u=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(c(),0===i.listenerCount(this,"error"))throw e}function c(){l.removeListener("data",n),e.removeListener("drain",r),l.removeListener("end",o),l.removeListener("close",a),l.removeListener("error",s),e.removeListener("error",s),l.removeListener("end",c),l.removeListener("close",c),e.removeListener("close",c)}var l=this;l.on("data",n),e.on("drain",r),e._isStdio||t&&t.end===!1||(l.on("end",o),l.on("close",a));var u=!1;return l.on("error",s),e.on("error",s),l.on("end",c),l.on("close",c),e.on("close",c),e.emit("pipe",l),e}},{events:134,inherits:299,"readable-stream/duplex.js":418,"readable-stream/passthrough.js":424,"readable-stream/readable.js":425,"readable-stream/transform.js":426,"readable-stream/writable.js":427}],417:[function(e,t,n){arguments[4][135][0].apply(n,arguments)},{dup:135}],418:[function(e,t,n){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":419}],419:[function(e,t,n){arguments[4][137][0].apply(n,arguments)},{"./_stream_readable":421,"./_stream_writable":423,_process:352,"core-util-is":207,dup:137,inherits:299}],420:[function(e,t,n){function r(e){return this instanceof r?void i.call(this,e):new r(e)}t.exports=r;var i=e("./_stream_transform"),o=e("core-util-is");o.inherits=e("inherits"),o.inherits(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":422,"core-util-is":207,inherits:299}],421:[function(e,t,n){arguments[4][138][0].apply(n,arguments)},{"./_stream_duplex":419,_process:352,buffer:131,"core-util-is":207,dup:138,events:134,inherits:299,isarray:417,stream:416,"string_decoder/":428,util:100}],422:[function(e,t,n){arguments[4][139][0].apply(n,arguments)},{"./_stream_duplex":419,"core-util-is":207,dup:139,inherits:299}],423:[function(e,t,n){arguments[4][140][0].apply(n,arguments)},{"./_stream_duplex":419,_process:352,buffer:131,"core-util-is":207,dup:140,inherits:299,stream:416}],424:[function(e,t,n){t.exports=e("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":420}],425:[function(e,t,n){(function(r){n=t.exports=e("./lib/_stream_readable.js"),n.Stream=e("stream"),n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),r.browser||"disable"!==r.env.READABLE_STREAM||(t.exports=e("stream"))}).call(this,e("_process"))},{"./lib/_stream_duplex.js":419,"./lib/_stream_passthrough.js":420,"./lib/_stream_readable.js":421,"./lib/_stream_transform.js":422,"./lib/_stream_writable.js":423,_process:352,stream:416}],426:[function(e,t,n){arguments[4][141][0].apply(n,arguments)},{"./lib/_stream_transform.js":422,dup:141}],427:[function(e,t,n){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":423}],428:[function(e,t,n){arguments[4][142][0].apply(n,arguments)},{buffer:131,dup:142}],429:[function(e,t,n){(function(n){function r(e,t){return this instanceof r?(s.call(this),null==e&&(e="utf8"),this.readable=this.writable=!0,this.paused=!1,this.toEncoding=null==t?e:t,this.fromEncoding=null==t?"":e,void(this.decoder=new i(this.toEncoding))):new r(e,t)}function i(e){switch(c.call(this,e),this.encoding){case"base64":this.write=o,this.alignedBuffer=new n(3),this.alignedBytes=0}}function o(e){var t=(this.alignedBytes+e.length)%this.alignedBuffer.length;if(!t&&!this.alignedBytes)return e.toString(this.encoding);var r=new n(this.alignedBytes+e.length-t);return this.alignedBuffer.copy(r,0,0,this.alignedBytes),e.copy(r,this.alignedBytes,0,e.length-t),e.copy(this.alignedBuffer,0,e.length-t,e.length),this.alignedBytes=t,r.toString(this.encoding)}var a=e("util"),s=e("stream"),c=e("string_decoder").StringDecoder;t.exports=r,t.exports.AlignedStringDecoder=i,a.inherits(r,s),r.prototype.write=function(e){if(!this.writable){var t=new Error("stream not writable");return t.code="EPIPE",this.emit("error",t),!1}this.fromEncoding&&(n.isBuffer(e)&&(e=e.toString()),e=new n(e,this.fromEncoding));var r=this.decoder.write(e);return r.length&&this.emit("data",r),!this.paused},r.prototype.flush=function(){if(this.decoder.flush){var e=this.decoder.flush();e.length&&this.emit("data",e)}},r.prototype.end=function(){(this.writable||this.readable)&&(this.flush(),this.emit("end"),this.writable=this.readable=!1,this.destroy())},r.prototype.destroy=function(){this.decoder=null,this.writable=this.readable=!1,this.emit("close")},r.prototype.pause=function(){this.paused=!0},r.prototype.resume=function(){this.paused&&this.emit("drain"),this.paused=!1;
},a.inherits(i,c),i.prototype.flush=function(){if(!this.alignedBuffer||!this.alignedBytes)return"";var e=this.alignedBuffer.toString(this.encoding,0,this.alignedBytes);return this.alignedBytes=0,e}}).call(this,e("buffer").Buffer)},{buffer:131,stream:416,string_decoder:142,util:451}],430:[function(e,t,n){var r=r||{},i={REVISION:"70"};"object"==typeof t&&(t.exports=i),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:0}),i.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},i.CullFaceNone=0,i.CullFaceBack=1,i.CullFaceFront=2,i.CullFaceFrontBack=3,i.FrontFaceDirectionCW=0,i.FrontFaceDirectionCCW=1,i.BasicShadowMap=0,i.PCFShadowMap=1,i.PCFSoftShadowMap=2,i.FrontSide=0,i.BackSide=1,i.DoubleSide=2,i.NoShading=0,i.FlatShading=1,i.SmoothShading=2,i.NoColors=0,i.FaceColors=1,i.VertexColors=2,i.NoBlending=0,i.NormalBlending=1,i.AdditiveBlending=2,i.SubtractiveBlending=3,i.MultiplyBlending=4,i.CustomBlending=5,i.AddEquation=100,i.SubtractEquation=101,i.ReverseSubtractEquation=102,i.MinEquation=103,i.MaxEquation=104,i.ZeroFactor=200,i.OneFactor=201,i.SrcColorFactor=202,i.OneMinusSrcColorFactor=203,i.SrcAlphaFactor=204,i.OneMinusSrcAlphaFactor=205,i.DstAlphaFactor=206,i.OneMinusDstAlphaFactor=207,i.DstColorFactor=208,i.OneMinusDstColorFactor=209,i.SrcAlphaSaturateFactor=210,i.MultiplyOperation=0,i.MixOperation=1,i.AddOperation=2,i.UVMapping=300,i.CubeReflectionMapping=301,i.CubeRefractionMapping=302,i.EquirectangularReflectionMapping=303,i.EquirectangularRefractionMapping=304,i.SphericalReflectionMapping=305,i.RepeatWrapping=1e3,i.ClampToEdgeWrapping=1001,i.MirroredRepeatWrapping=1002,i.NearestFilter=1003,i.NearestMipMapNearestFilter=1004,i.NearestMipMapLinearFilter=1005,i.LinearFilter=1006,i.LinearMipMapNearestFilter=1007,i.LinearMipMapLinearFilter=1008,i.UnsignedByteType=1009,i.ByteType=1010,i.ShortType=1011,i.UnsignedShortType=1012,i.IntType=1013,i.UnsignedIntType=1014,i.FloatType=1015,i.UnsignedShort4444Type=1016,i.UnsignedShort5551Type=1017,i.UnsignedShort565Type=1018,i.AlphaFormat=1019,i.RGBFormat=1020,i.RGBAFormat=1021,i.LuminanceFormat=1022,i.LuminanceAlphaFormat=1023,i.RGBEFormat=i.RGBAFormat,i.RGB_S3TC_DXT1_Format=2001,i.RGBA_S3TC_DXT1_Format=2002,i.RGBA_S3TC_DXT3_Format=2003,i.RGBA_S3TC_DXT5_Format=2004,i.RGB_PVRTC_4BPPV1_Format=2100,i.RGB_PVRTC_2BPPV1_Format=2101,i.RGBA_PVRTC_4BPPV1_Format=2102,i.RGBA_PVRTC_2BPPV1_Format=2103,i.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(e,t){console.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(t)},this.unprojectVector=function(e,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(t)},this.pickingRay=function(e,t){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}},i.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElement("canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}},i.Color=function(e){return 3===arguments.length?this.setRGB(arguments[0],arguments[1],arguments[2]):this.set(e)},i.Color.prototype={constructor:i.Color,r:1,g:1,b:1,set:function(e){return e instanceof i.Color?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(e,t,n){if(0===t)this.r=this.g=this.b=n;else{var r=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e},i=n<=.5?n*(1+t):n+t-n*t,o=2*n-i;this.r=r(o,i,e+1/3),this.g=r(o,i,e),this.b=r(o,i,e-1/3)}return this},setStyle:function(e){if(/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.test(e)){var t=/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.exec(e);return this.r=Math.min(255,parseInt(t[1],10))/255,this.g=Math.min(255,parseInt(t[2],10))/255,this.b=Math.min(255,parseInt(t[3],10))/255,this}if(/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.test(e)){var t=/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.exec(e);return this.r=Math.min(100,parseInt(t[1],10))/100,this.g=Math.min(100,parseInt(t[2],10))/100,this.b=Math.min(100,parseInt(t[3],10))/100,this}if(/^\#([0-9a-f]{6})$/i.test(e)){var t=/^\#([0-9a-f]{6})$/i.exec(e);return this.setHex(parseInt(t[1],16)),this}if(/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.test(e)){var t=/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(e);return this.setHex(parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3],16)),this}if(/^(\w+)$/i.test(e))return this.setHex(i.ColorKeywords[e]),this},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e){return this.r=e.r*e.r,this.g=e.g*e.g,this.b=e.b*e.b,this},copyLinearToGamma:function(e){return this.r=Math.sqrt(e.r),this.g=Math.sqrt(e.g),this.b=Math.sqrt(e.b),this},convertGammaToLinear:function(){var e=this.r,t=this.g,n=this.b;return this.r=e*e,this.g=t*t,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var t,n,r=e||{h:0,s:0,l:0},i=this.r,o=this.g,a=this.b,s=Math.max(i,o,a),c=Math.min(i,o,a),l=(c+s)/2;if(c===s)t=0,n=0;else{var u=s-c;switch(n=l<=.5?u/(s+c):u/(2-s-c),s){case i:t=(o-a)/u+(o<a?6:0);break;case o:t=(a-i)/u+2;break;case a:t=(i-o)/u+4}t/=6}return r.h=t,r.s=n,r.l=l,r},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,n){var r=this.getHSL();return r.h+=e,r.s+=t,r.l+=n,this.setHSL(r.h,r.s,r.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e){return this.r=e[0],this.g=e[1],this.b=e[2],this},toArray:function(){return[this.r,this.g,this.b]},clone:function(){return(new i.Color).setRGB(this.r,this.g,this.b)}},i.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},i.Quaternion=function(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==r?r:1},i.Quaternion.prototype={constructor:i.Quaternion,_x:0,_y:0,_z:0,_w:0,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get w(){return this._w},set w(e){this._w=e,this.onChangeCallback()},set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this.onChangeCallback(),this},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(e instanceof i.Euler==!1)throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var n=Math.cos(e._x/2),r=Math.cos(e._y/2),o=Math.cos(e._z/2),a=Math.sin(e._x/2),s=Math.sin(e._y/2),c=Math.sin(e._z/2);return"XYZ"===e.order?(this._x=a*r*o+n*s*c,this._y=n*s*o-a*r*c,this._z=n*r*c+a*s*o,this._w=n*r*o-a*s*c):"YXZ"===e.order?(this._x=a*r*o+n*s*c,this._y=n*s*o-a*r*c,this._z=n*r*c-a*s*o,this._w=n*r*o+a*s*c):"ZXY"===e.order?(this._x=a*r*o-n*s*c,this._y=n*s*o+a*r*c,this._z=n*r*c+a*s*o,this._w=n*r*o-a*s*c):"ZYX"===e.order?(this._x=a*r*o-n*s*c,this._y=n*s*o+a*r*c,this._z=n*r*c-a*s*o,this._w=n*r*o+a*s*c):"YZX"===e.order?(this._x=a*r*o+n*s*c,this._y=n*s*o+a*r*c,this._z=n*r*c-a*s*o,this._w=n*r*o-a*s*c):"XZY"===e.order&&(this._x=a*r*o-n*s*c,this._y=n*s*o-a*r*c,this._z=n*r*c+a*s*o,this._w=n*r*o+a*s*c),t!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],c=n[9],l=n[2],u=n[6],h=n[10],d=r+s+h;return d>0?(t=.5/Math.sqrt(d+1),this._w=.25/t,this._x=(u-c)*t,this._y=(o-l)*t,this._z=(a-i)*t):r>s&&r>h?(t=2*Math.sqrt(1+r-s-h),this._w=(u-c)/t,this._x=.25*t,this._y=(i+a)/t,this._z=(o+l)/t):s>h?(t=2*Math.sqrt(1+s-r-h),this._w=(o-l)/t,this._x=(i+a)/t,this._y=.25*t,this._z=(c+u)/t):(t=2*Math.sqrt(1+h-r-s),this._w=(a-i)/t,this._x=(o+l)/t,this._y=(c+u)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t,n=1e-6;return function(r,o){return void 0===e&&(e=new i.Vector3),t=r.dot(o)+1,t<n?(t=0,Math.abs(r.x)>Math.abs(r.z)?e.set(-r.y,r.x,0):e.set(0,-r.z,r.y)):e.crossVectors(r,o),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize(),this}}(),inverse:function(){return this.conjugate().normalize(),this},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,c=t._z,l=t._w;return this._x=n*l+o*a+r*c-i*s,this._y=r*l+o*s+i*a-n*c,this._z=i*l+o*c+n*s-r*a,this._w=o*l-n*a-r*s-i*c,this.onChangeCallback(),this},multiplyVector3:function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=Math.acos(a),c=Math.sqrt(1-a*a);if(Math.abs(c)<.001)return this._w=.5*(o+this._w),this._x=.5*(n+this._x),this._y=.5*(r+this._y),this._z=.5*(i+this._z),this;var l=Math.sin((1-t)*s)/c,u=Math.sin(t*s)/c;return this._w=o*l+this._w*u,this._x=n*l+this._x*u,this._y=r*l+this._y*u,this._z=i*l+this._z*u,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){},clone:function(){return new i.Quaternion(this._x,this._y,this._z,this._w)}},i.Quaternion.slerp=function(e,t,n,r){return n.copy(e).slerp(t,r)},i.Vector2=function(e,t){this.x=e||0,this.y=t||0},i.Vector2.prototype={constructor:i.Vector2,set:function(e,t){return this.x=e,this.y=t,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScalar:function(e){return this.x+=e,this.y+=e,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){if(0!==e){var t=1/e;this.x*=t,this.y*=t}else this.x=0,this.y=0;return this},min:function(e){return this.x>e.x&&(this.x=e.x),this.y>e.y&&(this.y=e.y),this},max:function(e){return this.x<e.x&&(this.x=e.x),this.y<e.y&&(this.y=e.y),this},clamp:function(e,t){return this.x<e.x?this.x=e.x:this.x>t.x&&(this.x=t.x),this.y<e.y?this.y=e.y:this.y>t.y&&(this.y=t.y),this},clampScalar:function(){var e,t;return function(n,r){return void 0===e&&(e=new i.Vector2,t=new i.Vector2),e.set(n,n),t.set(r,r),this.clamp(e,t)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},setLength:function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromAttribute:function(e,t,n){return void 0===n&&(n=0),t=t*e.itemSize+n,this.x=e.array[t],this.y=e.array[t+1],this},clone:function(){return new i.Vector2(this.x,this.y)}},i.Vector3=function(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0},i.Vector3.prototype={constructor:i.Vector3,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e;return function(t){return t instanceof i.Euler==!1&&console.error("THREE.Vector3: .applyEuler() now expects a Euler rotation rather than a Vector3 and order."),void 0===e&&(e=new i.Quaternion),this.applyQuaternion(e.setFromEuler(t)),this}}(),applyAxisAngle:function(){var e;return function(t,n){return void 0===e&&(e=new i.Quaternion),this.applyQuaternion(e.setFromAxisAngle(t,n)),this}}(),applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r+i[12],this.y=i[1]*t+i[5]*n+i[9]*r+i[13],this.z=i[2]*t+i[6]*n+i[10]*r+i[14],this},applyProjection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,c=s*t+o*r-a*n,l=s*n+a*t-i*r,u=s*r+i*n-o*t,h=-i*t-o*n-a*r;return this.x=c*s+h*-i+l*-a-u*-o,this.y=l*s+h*-o+u*-i-c*-a,this.z=u*s+h*-a+c*-o-l*-i,this},project:function(){var e;return function(t){return void 0===e&&(e=new i.Matrix4),e.multiplyMatrices(t.projectionMatrix,e.getInverse(t.matrixWorld)),this.applyProjection(e)}}(),unproject:function(){var e;return function(t){return void 0===e&&(e=new i.Matrix4),e.multiplyMatrices(t.matrixWorld,e.getInverse(t.projectionMatrix)),this.applyProjection(e)}}(),transformDirection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize(),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){if(0!==e){var t=1/e;this.x*=t,this.y*=t,this.z*=t}else this.x=0,this.y=0,this.z=0;return this},min:function(e){return this.x>e.x&&(this.x=e.x),this.y>e.y&&(this.y=e.y),this.z>e.z&&(this.z=e.z),this},max:function(e){return this.x<e.x&&(this.x=e.x),this.y<e.y&&(this.y=e.y),this.z<e.z&&(this.z=e.z),this},clamp:function(e,t){return this.x<e.x?this.x=e.x:this.x>t.x&&(this.x=t.x),this.y<e.y?this.y=e.y:this.y>t.y&&(this.y=t.y),this.z<e.z?this.z=e.z:this.z>t.z&&(this.z=t.z),this},clampScalar:function(){var e,t;return function(n,r){return void 0===e&&(e=new i.Vector3,t=new i.Vector3),e.set(n,n,n),t.set(r,r,r),this.clamp(e,t)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},cross:function(e,t){if(void 0!==t)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t);var n=this.x,r=this.y,i=this.z;return this.x=r*e.z-i*e.y,this.y=i*e.x-n*e.z,this.z=n*e.y-r*e.x,this},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(){var e,t;return function(n){return void 0===e&&(e=new i.Vector3),e.copy(n).normalize(),t=this.dot(e),this.copy(e).multiplyScalar(t)}}(),projectOnPlane:function(){var e;return function(t){return void 0===e&&(e=new i.Vector3),e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e;return function(t){return void 0===e&&(e=new i.Vector3),this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/(this.length()*e.length());return Math.acos(i.Math.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},setEulerFromRotationMatrix:function(e,t){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(e,t){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},setFromMatrixPosition:function(e){return this.x=e.elements[12],this.y=e.elements[13],this.z=e.elements[14],this},setFromMatrixScale:function(e){var t=this.set(e.elements[0],e.elements[1],e.elements[2]).length(),n=this.set(e.elements[4],e.elements[5],e.elements[6]).length(),r=this.set(e.elements[8],e.elements[9],e.elements[10]).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){var n=4*e,r=t.elements;return this.x=r[n],this.y=r[n+1],this.z=r[n+2],this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromAttribute:function(e,t,n){return void 0===n&&(n=0),t=t*e.itemSize+n,this.x=e.array[t],this.y=e.array[t+1],this.z=e.array[t+2],this},clone:function(){return new i.Vector3(this.x,this.y,this.z)}},i.Vector4=function(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1},i.Vector4.prototype={constructor:i.Vector4,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(e){if(0!==e){var t=1/e;this.x*=t,this.y*=t,this.z*=t,this.w*=t}else this.x=0,this.y=0,this.z=0,this.w=1;return this},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i,o=.01,a=.1,s=e.elements,c=s[0],l=s[4],u=s[8],h=s[1],d=s[5],f=s[9],p=s[2],m=s[6],g=s[10];if(Math.abs(l-h)<o&&Math.abs(u-p)<o&&Math.abs(f-m)<o){if(Math.abs(l+h)<a&&Math.abs(u+p)<a&&Math.abs(f+m)<a&&Math.abs(c+d+g-3)<a)return this.set(1,0,0,0),this;t=Math.PI;var v=(c+1)/2,b=(d+1)/2,y=(g+1)/2,w=(l+h)/4,_=(u+p)/4,x=(f+m)/4;return v>b&&v>y?v<o?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(v),r=w/n,i=_/n):b>y?b<o?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(b),n=w/r,i=x/r):y<o?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(y),n=_/i,r=x/i),this.set(n,r,i,t),this}var k=Math.sqrt((m-f)*(m-f)+(u-p)*(u-p)+(h-l)*(h-l));return Math.abs(k)<.001&&(k=1),this.x=(m-f)/k,this.y=(u-p)/k,this.z=(h-l)/k,this.w=Math.acos((c+d+g-1)/2),this},min:function(e){return this.x>e.x&&(this.x=e.x),this.y>e.y&&(this.y=e.y),this.z>e.z&&(this.z=e.z),this.w>e.w&&(this.w=e.w),this},max:function(e){return this.x<e.x&&(this.x=e.x),this.y<e.y&&(this.y=e.y),this.z<e.z&&(this.z=e.z),this.w<e.w&&(this.w=e.w),this},clamp:function(e,t){return this.x<e.x?this.x=e.x:this.x>t.x&&(this.x=t.x),this.y<e.y?this.y=e.y:this.y>t.y&&(this.y=t.y),this.z<e.z?this.z=e.z:this.z>t.z&&(this.z=t.z),this.w<e.w?this.w=e.w:this.w>t.w&&(this.w=t.w),this},clampScalar:function(){var e,t;return function(n,r){return void 0===e&&(e=new i.Vector4,t=new i.Vector4),e.set(n,n,n,n),t.set(r,r,r,r),this.clamp(e,t)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromAttribute:function(e,t,n){return void 0===n&&(n=0),t=t*e.itemSize+n,this.x=e.array[t],this.y=e.array[t+1],this.z=e.array[t+2],this.w=e.array[t+3],this},clone:function(){return new i.Vector4(this.x,this.y,this.z,this.w)}},i.Euler=function(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||i.Euler.DefaultOrder},i.Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],i.Euler.DefaultOrder="XYZ",i.Euler.prototype={constructor:i.Euler,_x:0,_y:0,_z:0,_order:i.Euler.DefaultOrder,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get order(){return this._order},set order(e){this._order=e,this.onChangeCallback()},set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=i.Math.clamp,o=e.elements,a=o[0],s=o[4],c=o[8],l=o[1],u=o[5],h=o[9],d=o[2],f=o[6],p=o[10];
return t=t||this._order,"XYZ"===t?(this._y=Math.asin(r(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(-h,p),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(f,u),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(c,p),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,a),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(f,-1,1)),Math.abs(f)<.99999?(this._y=Math.atan2(-d,p),this._z=Math.atan2(-s,u)):(this._y=0,this._z=Math.atan2(l,a))):"ZYX"===t?(this._y=Math.asin(-r(d,-1,1)),Math.abs(d)<.99999?(this._x=Math.atan2(f,p),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-s,u))):"YZX"===t?(this._z=Math.asin(r(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-d,a)):(this._x=0,this._y=Math.atan2(c,p))):"XZY"===t?(this._z=Math.asin(-r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(f,u),this._y=Math.atan2(c,a)):(this._x=Math.atan2(-h,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,n!==!1&&this.onChangeCallback(),this},setFromQuaternion:function(){var e;return function(t,n,r){return void 0===e&&(e=new i.Matrix4),e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,n,r),this}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new i.Quaternion;return function(t){e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(){return[this._x,this._y,this._z,this._order]},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new i.Vector3(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){},clone:function(){return new i.Euler(this._x,this._y,this._z,this._order)}},i.Line3=function(e,t){this.start=void 0!==e?e:new i.Vector3,this.end=void 0!==t?t:new i.Vector3},i.Line3.prototype={constructor:i.Line3,set:function(e,t){return this.start.copy(e),this.end.copy(t),this},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},center:function(e){var t=e||new i.Vector3;return t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){var t=e||new i.Vector3;return t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var n=t||new i.Vector3;return this.delta(n).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new i.Vector3,t=new i.Vector3;return function(n,r){e.subVectors(n,this.start),t.subVectors(this.end,this.start);var o=t.dot(t),a=t.dot(e),s=a/o;return r&&(s=i.Math.clamp(s,0,1)),s}}(),closestPointToPoint:function(e,t,n){var r=this.closestPointToPointParameter(e,t),o=n||new i.Vector3;return this.delta(o).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)},clone:function(){return(new i.Line3).copy(this)}},i.Box2=function(e,t){this.min=void 0!==e?e:new i.Vector2(1/0,1/0),this.max=void 0!==t?t:new i.Vector2((-(1/0)),(-(1/0)))},i.Box2.prototype={constructor:i.Box2,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new i.Vector2;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-(1/0),this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(e){var t=e||new i.Vector2;return t.addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){var t=e||new i.Vector2;return t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){var n=t||new i.Vector2;return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},isIntersectionBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){var n=t||new i.Vector2;return n.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new i.Vector2;return function(t){var n=e.copy(t).clamp(this.min,this.max);return n.sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)},clone:function(){return(new i.Box2).copy(this)}},i.Box3=function(e,t){this.min=void 0!==e?e:new i.Vector3(1/0,1/0,1/0),this.max=void 0!==t?t:new i.Vector3((-(1/0)),(-(1/0)),(-(1/0)))},i.Box3.prototype={constructor:i.Box3,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new i.Vector3;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),setFromObject:function(){var e=new i.Vector3;return function(t){var n=this;return t.updateMatrixWorld(!0),this.makeEmpty(),t.traverse(function(t){var r=t.geometry;if(void 0!==r)if(r instanceof i.Geometry)for(var o=r.vertices,a=0,s=o.length;a<s;a++)e.copy(o[a]),e.applyMatrix4(t.matrixWorld),n.expandByPoint(e);else if(r instanceof i.BufferGeometry&&void 0!==r.attributes.position)for(var c=r.attributes.position.array,a=0,s=c.length;a<s;a+=3)e.set(c[a],c[a+1],c[a+2]),e.applyMatrix4(t.matrixWorld),n.expandByPoint(e)}),this}}(),copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-(1/0),this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(e){var t=e||new i.Vector3;return t.addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){var t=e||new i.Vector3;return t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){var n=t||new i.Vector3;return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},isIntersectionBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},clampPoint:function(e,t){var n=t||new i.Vector3;return n.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new i.Vector3;return function(t){var n=e.copy(t).clamp(this.min,this.max);return n.sub(t).length()}}(),getBoundingSphere:function(){var e=new i.Vector3;return function(t){var n=t||new i.Sphere;return n.center=this.center(),n.radius=.5*this.size(e).length(),n}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3];return function(t){return e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.makeEmpty(),this.setFromPoints(e),this}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)},clone:function(){return(new i.Box3).copy(this)}},i.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")},i.Matrix3.prototype={constructor:i.Matrix3,set:function(e,t,n,r,i,o,a,s,c){var l=this.elements;return l[0]=e,l[3]=t,l[6]=n,l[1]=r,l[4]=i,l[7]=o,l[2]=a,l[5]=s,l[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},copy:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8]),this},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(e){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(e)},applyToVector3Array:function(){var e=new i.Vector3;return function(t,n,r){void 0===n&&(n=0),void 0===r&&(r=t.length);for(var i=0,o=n;i<r;i+=3,o+=3)e.x=t[o],e.y=t[o+1],e.z=t[o+2],e.applyMatrix3(this),t[o]=e.x,t[o+1]=e.y,t[o+2]=e.z;return t}}(),multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],c=e[7],l=e[8];return t*o*l-t*a*c-n*i*l+n*a*s+r*i*c-r*o*s},getInverse:function(e,t){var n=e.elements,r=this.elements;r[0]=n[10]*n[5]-n[6]*n[9],r[1]=-n[10]*n[1]+n[2]*n[9],r[2]=n[6]*n[1]-n[2]*n[5],r[3]=-n[10]*n[4]+n[6]*n[8],r[4]=n[10]*n[0]-n[2]*n[8],r[5]=-n[6]*n[0]+n[2]*n[4],r[6]=n[9]*n[4]-n[5]*n[8],r[7]=-n[9]*n[0]+n[1]*n[8],r[8]=n[5]*n[0]-n[1]*n[4];var i=n[0]*r[0]+n[1]*r[3]+n[2]*r[6];if(0===i){var o="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(t)throw new Error(o);return console.warn(o),this.identity(),this}return this.multiplyScalar(1/i),this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},flattenToArrayOffset:function(e,t){var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e},getNormalMatrix:function(e){return this.getInverse(e).transpose(),this},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},fromArray:function(e){return this.elements.set(e),this},toArray:function(){var e=this.elements;return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},clone:function(){return(new i.Matrix3).fromArray(this.elements)}},i.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")},i.Matrix4.prototype={constructor:i.Matrix4,set:function(e,t,n,r,i,o,a,s,c,l,u,h,d,f,p,m){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=c,g[6]=l,g[10]=u,g[14]=h,g[3]=d,g[7]=f,g[11]=p,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},copy:function(e){return this.elements.set(e.elements),this},extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){var r=this.elements;return e.set(r[0],r[1],r[2]),t.set(r[4],r[5],r[6]),n.set(r[8],r[9],r[10]),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(){var e=new i.Vector3;return function(t){var n=this.elements,r=t.elements,i=1/e.set(r[0],r[1],r[2]).length(),o=1/e.set(r[4],r[5],r[6]).length(),a=1/e.set(r[8],r[9],r[10]).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,this}}(),makeRotationFromEuler:function(e){e instanceof i.Euler==!1&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,o=e.z,a=Math.cos(n),s=Math.sin(n),c=Math.cos(r),l=Math.sin(r),u=Math.cos(o),h=Math.sin(o);if("XYZ"===e.order){var d=a*u,f=a*h,p=s*u,m=s*h;t[0]=c*u,t[4]=-c*h,t[8]=l,t[1]=f+p*l,t[5]=d-m*l,t[9]=-s*c,t[2]=m-d*l,t[6]=p+f*l,t[10]=a*c}else if("YXZ"===e.order){var g=c*u,v=c*h,b=l*u,y=l*h;t[0]=g+y*s,t[4]=b*s-v,t[8]=a*l,t[1]=a*h,t[5]=a*u,t[9]=-s,t[2]=v*s-b,t[6]=y+g*s,t[10]=a*c}else if("ZXY"===e.order){var g=c*u,v=c*h,b=l*u,y=l*h;t[0]=g-y*s,t[4]=-a*h,t[8]=b+v*s,t[1]=v+b*s,t[5]=a*u,t[9]=y-g*s,t[2]=-a*l,t[6]=s,t[10]=a*c}else if("ZYX"===e.order){var d=a*u,f=a*h,p=s*u,m=s*h;t[0]=c*u,t[4]=p*l-f,t[8]=d*l+m,t[1]=c*h,t[5]=m*l+d,t[9]=f*l-p,t[2]=-l,t[6]=s*c,t[10]=a*c}else if("YZX"===e.order){var w=a*c,_=a*l,x=s*c,k=s*l;t[0]=c*u,t[4]=k-w*h,t[8]=x*h+_,t[1]=h,t[5]=a*u,t[9]=-s*u,t[2]=-l*u,t[6]=_*h+x,t[10]=w-k*h}else if("XZY"===e.order){var w=a*c,_=a*l,x=s*c,k=s*l;t[0]=c*u,t[4]=-h,t[8]=l*u,t[1]=w*h+k,t[5]=a*u,t[9]=_*h-x,t[2]=x*h-_,t[6]=s*u,t[10]=k*h+w}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},makeRotationFromQuaternion:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z,o=e.w,a=n+n,s=r+r,c=i+i,l=n*a,u=n*s,h=n*c,d=r*s,f=r*c,p=i*c,m=o*a,g=o*s,v=o*c;return t[0]=1-(d+p),t[4]=u-v,t[8]=h+g,t[1]=u+v,t[5]=1-(l+p),t[9]=f-m,t[2]=h-g,t[6]=f+m,t[10]=1-(l+d),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:function(){var e=new i.Vector3,t=new i.Vector3,n=new i.Vector3;return function(r,i,o){var a=this.elements;return n.subVectors(r,i).normalize(),0===n.length()&&(n.z=1),e.crossVectors(o,n).normalize(),0===e.length()&&(n.x+=1e-4,e.crossVectors(o,n).normalize()),t.crossVectors(n,e),a[0]=e.x,a[4]=t.x,a[8]=n.x,a[1]=e.y,a[5]=t.y,a[9]=n.y,a[2]=e.z,a[6]=t.z,a[10]=n.z,this}}(),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],c=n[12],l=n[1],u=n[5],h=n[9],d=n[13],f=n[2],p=n[6],m=n[10],g=n[14],v=n[3],b=n[7],y=n[11],w=n[15],_=r[0],x=r[4],k=r[8],S=r[12],j=r[1],P=r[5],E=r[9],A=r[13],T=r[2],C=r[6],M=r[10],O=r[14],I=r[3],F=r[7],D=r[11],L=r[15];return i[0]=o*_+a*j+s*T+c*I,i[4]=o*x+a*P+s*C+c*F,i[8]=o*k+a*E+s*M+c*D,i[12]=o*S+a*A+s*O+c*L,i[1]=l*_+u*j+h*T+d*I,i[5]=l*x+u*P+h*C+d*F,i[9]=l*k+u*E+h*M+d*D,i[13]=l*S+u*A+h*O+d*L,i[2]=f*_+p*j+m*T+g*I,i[6]=f*x+p*P+m*C+g*F,i[10]=f*k+p*E+m*M+g*D,i[14]=f*S+p*A+m*O+g*L,i[3]=v*_+b*j+y*T+w*I,i[7]=v*x+b*P+y*C+w*F,i[11]=v*k+b*E+y*M+w*D,i[15]=v*S+b*A+y*O+w*L,this},multiplyToArray:function(e,t,n){var r=this.elements;return this.multiplyMatrices(e,t),n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),e.applyProjection(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(e){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(e)},applyToVector3Array:function(){var e=new i.Vector3;return function(t,n,r){void 0===n&&(n=0),void 0===r&&(r=t.length);for(var i=0,o=n;i<r;i+=3,o+=3)e.x=t[o],e.y=t[o+1],e.z=t[o+2],e.applyMatrix4(this),t[o]=e.x,t[o+1]=e.y,t[o+2]=e.z;return t}}(),rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],c=e[13],l=e[2],u=e[6],h=e[10],d=e[14],f=e[3],p=e[7],m=e[11],g=e[15];return f*(+i*s*u-r*c*u-i*a*h+n*c*h+r*a*d-n*s*d)+p*(+t*s*d-t*c*h+i*o*h-r*o*d+r*c*l-i*s*l)+m*(+t*c*u-t*a*d-i*o*u+n*o*d+i*a*l-n*c*l)+g*(-r*a*l-t*s*u+t*a*h+r*o*u-n*o*h+n*s*l)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},flattenToArrayOffset:function(e,t){var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e},getPosition:function(){var e=new i.Vector3;return function(){console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");var t=this.elements;return e.set(t[12],t[13],t[14])}}(),setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,r=e.elements,i=r[0],o=r[4],a=r[8],s=r[12],c=r[1],l=r[5],u=r[9],h=r[13],d=r[2],f=r[6],p=r[10],m=r[14],g=r[3],v=r[7],b=r[11],y=r[15];n[0]=u*m*v-h*p*v+h*f*b-l*m*b-u*f*y+l*p*y,n[4]=s*p*v-a*m*v-s*f*b+o*m*b+a*f*y-o*p*y,n[8]=a*h*v-s*u*v+s*l*b-o*h*b-a*l*y+o*u*y,n[12]=s*u*f-a*h*f-s*l*p+o*h*p+a*l*m-o*u*m,n[1]=h*p*g-u*m*g-h*d*b+c*m*b+u*d*y-c*p*y,n[5]=a*m*g-s*p*g+s*d*b-i*m*b-a*d*y+i*p*y,n[9]=s*u*g-a*h*g-s*c*b+i*h*b+a*c*y-i*u*y,n[13]=a*h*d-s*u*d+s*c*p-i*h*p-a*c*m+i*u*m,n[2]=l*m*g-h*f*g+h*d*v-c*m*v-l*d*y+c*f*y,n[6]=s*f*g-o*m*g-s*d*v+i*m*v+o*d*y-i*f*y,n[10]=o*h*g-s*l*g+s*c*v-i*h*v-o*c*y+i*l*y,n[14]=s*l*d-o*h*d-s*c*f+i*h*f+o*c*m-i*l*m,n[3]=u*f*g-l*p*g-u*d*v+c*p*v+l*d*b-c*f*b,n[7]=o*p*g-a*f*g+a*d*v-i*p*v-o*d*b+i*f*b,n[11]=a*l*g-o*u*g-a*c*v+i*u*v+o*c*b-i*l*b,n[15]=o*u*d-a*l*d+a*c*f-i*u*f-o*c*p+i*l*p;var w=i*n[0]+c*n[4]+d*n[8]+g*n[12];if(0==w){var _="Matrix4.getInverse(): can't invert matrix, determinant is 0";if(t)throw new Error(_);return console.warn(_),this.identity(),this}return this.multiplyScalar(1/w),this},translate:function(e){console.warn("THREE.Matrix4: .translate() has been removed.")},rotateX:function(e){console.warn("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(e){console.warn("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(e){console.warn("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(e,t){console.warn("THREE.Matrix4: .rotateByAxis() has been removed.")},scale:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,Math.max(n,r)))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,c=i*o,l=i*a;return this.set(c*o+n,c*a-r*s,c*s+r*a,0,c*a+r*s,l*a+n,l*s-r*o,0,c*s-r*a,l*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},compose:function(e,t,n){return this.makeRotationFromQuaternion(t),this.scale(n),this.setPosition(e),this},decompose:function(){var e=new i.Vector3,t=new i.Matrix4;return function(n,r,i){var o=this.elements,a=e.set(o[0],o[1],o[2]).length(),s=e.set(o[4],o[5],o[6]).length(),c=e.set(o[8],o[9],o[10]).length(),l=this.determinant();l<0&&(a=-a),n.x=o[12],n.y=o[13],n.z=o[14],t.elements.set(this.elements);var u=1/a,h=1/s,d=1/c;return t.elements[0]*=u,t.elements[1]*=u,t.elements[2]*=u,t.elements[4]*=h,t.elements[5]*=h,t.elements[6]*=h,t.elements[8]*=d,t.elements[9]*=d,t.elements[10]*=d,r.setFromRotationMatrix(t),i.x=a,i.y=s,i.z=c,this}}(),makeFrustum:function(e,t,n,r,i,o){var a=this.elements,s=2*i/(t-e),c=2*i/(r-n),l=(t+e)/(t-e),u=(r+n)/(r-n),h=-(o+i)/(o-i),d=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=l,a[12]=0,a[1]=0,a[5]=c,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makePerspective:function(e,t,n,r){var o=n*Math.tan(i.Math.degToRad(.5*e)),a=-o,s=a*t,c=o*t;return this.makeFrustum(s,c,a,o,n,r)},makeOrthographic:function(e,t,n,r,i,o){var a=this.elements,s=t-e,c=n-r,l=o-i,u=(t+e)/s,h=(n+r)/c,d=(o+i)/l;return a[0]=2/s,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2/c,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2/l,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},fromArray:function(e){return this.elements.set(e),this},toArray:function(){var e=this.elements;return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]},clone:function(){return(new i.Matrix4).fromArray(this.elements)}},i.Ray=function(e,t){this.origin=void 0!==e?e:new i.Vector3,this.direction=void 0!==t?t:new i.Vector3},i.Ray.prototype={constructor:i.Ray,set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){var n=t||new i.Vector3;return n.copy(this.direction).multiplyScalar(e).add(this.origin)},recast:function(){var e=new i.Vector3;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){var n=t||new i.Vector3;n.subVectors(e,this.origin);var r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(){var e=new i.Vector3;return function(t){var n=e.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceTo(t):(e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceTo(t))}}(),distanceSqToSegment:function(){var e=new i.Vector3,t=new i.Vector3,n=new i.Vector3;return function(r,i,o,a){e.copy(r).add(i).multiplyScalar(.5),t.copy(i).sub(r).normalize(),n.copy(this.origin).sub(e);var s,c,l,u,h=.5*r.distanceTo(i),d=-this.direction.dot(t),f=n.dot(this.direction),p=-n.dot(t),m=n.lengthSq(),g=Math.abs(1-d*d);if(g>0)if(s=d*p-f,c=d*f-p,u=h*g,s>=0)if(c>=-u)if(c<=u){var v=1/g;s*=v,c*=v,l=s*(s+d*c+2*f)+c*(d*s+c+2*p)+m}else c=h,s=Math.max(0,-(d*c+f)),l=-s*s+c*(c+2*p)+m;else c=-h,s=Math.max(0,-(d*c+f)),l=-s*s+c*(c+2*p)+m;else c<=-u?(s=Math.max(0,-(-d*h+f)),c=s>0?-h:Math.min(Math.max(-h,-p),h),l=-s*s+c*(c+2*p)+m):c<=u?(s=0,c=Math.min(Math.max(-h,-p),h),l=c*(c+2*p)+m):(s=Math.max(0,-(d*h+f)),c=s>0?h:Math.min(Math.max(-h,-p),h),l=-s*s+c*(c+2*p)+m);else c=d>0?-h:h,s=Math.max(0,-(d*c+f)),l=-s*s+c*(c+2*p)+m;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(t).multiplyScalar(c).add(e),l}}(),isIntersectionSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},intersectSphere:function(){var e=new i.Vector3;return function(t,n){e.subVectors(t.center,this.origin);var r=e.dot(this.direction),i=e.dot(e)-r*r,o=t.radius*t.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=r-a,c=r+a;return s<0&&c<0?null:s<0?this.at(c,n):this.at(s,n)}}(),isIntersectionPlane:function(e){var t=e.distanceToPoint(this.origin);if(0===t)return!0;var n=e.normal.dot(this.direction);return n*t<0},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0==t)return 0==e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},isIntersectionBox:function(){var e=new i.Vector3;return function(t){return null!==this.intersectBox(t,e)}}(),intersectBox:function(e,t){var n,r,i,o,a,s,c=1/this.direction.x,l=1/this.direction.y,u=1/this.direction.z,h=this.origin;return c>=0?(n=(e.min.x-h.x)*c,r=(e.max.x-h.x)*c):(n=(e.max.x-h.x)*c,r=(e.min.x-h.x)*c),l>=0?(i=(e.min.y-h.y)*l,o=(e.max.y-h.y)*l):(i=(e.max.y-h.y)*l,o=(e.min.y-h.y)*l),n>o||i>r?null:((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),u>=0?(a=(e.min.z-h.z)*u,s=(e.max.z-h.z)*u):(a=(e.max.z-h.z)*u,s=(e.min.z-h.z)*u),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))},intersectTriangle:function(){var e=new i.Vector3,t=new i.Vector3,n=new i.Vector3,r=new i.Vector3;return function(i,o,a,s,c){t.subVectors(o,i),n.subVectors(a,i),r.crossVectors(t,n);var l,u=this.direction.dot(r);if(u>0){if(s)return null;l=1}else{if(!(u<0))return null;l=-1,u=-u}e.subVectors(this.origin,i);var h=l*this.direction.dot(n.crossVectors(e,n));if(h<0)return null;var d=l*this.direction.dot(t.cross(e));if(d<0)return null;if(h+d>u)return null;var f=-l*e.dot(r);return f<0?null:this.at(f/u,c)}}(),applyMatrix4:function(e){return this.direction.add(this.origin).applyMatrix4(e),this.origin.applyMatrix4(e),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)},clone:function(){return(new i.Ray).copy(this)}},i.Sphere=function(e,t){this.center=void 0!==e?e:new i.Vector3,this.radius=void 0!==t?t:0},i.Sphere.prototype={constructor:i.Sphere,set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new i.Box3;return function(t,n){var r=this.center;void 0!==n?r.copy(n):e.setFromPoints(t).center(r);for(var i=0,o=0,a=t.length;o<a;o++)i=Math.max(i,r.distanceToSquared(t[o]));return this.radius=Math.sqrt(i),this}}(),copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},clampPoint:function(e,t){var n=this.center.distanceToSquared(e),r=t||new i.Vector3;return r.copy(e),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(e){var t=e||new i.Box3;return t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius},clone:function(){return(new i.Sphere).copy(this)}},i.Frustum=function(e,t,n,r,o,a){this.planes=[void 0!==e?e:new i.Plane,void 0!==t?t:new i.Plane,void 0!==n?n:new i.Plane,void 0!==r?r:new i.Plane,void 0!==o?o:new i.Plane,void 0!==a?a:new i.Plane]},i.Frustum.prototype={constructor:i.Frustum,set:function(e,t,n,r,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],c=n[5],l=n[6],u=n[7],h=n[8],d=n[9],f=n[10],p=n[11],m=n[12],g=n[13],v=n[14],b=n[15];return t[0].setComponents(a-r,u-s,p-h,b-m).normalize(),t[1].setComponents(a+r,u+s,p+h,b+m).normalize(),t[2].setComponents(a+i,u+c,p+d,b+g).normalize(),t[3].setComponents(a-i,u-c,p-d,b-g).normalize(),t[4].setComponents(a-o,u-l,p-f,b-v).normalize(),t[5].setComponents(a+o,u+l,p+f,b+v).normalize(),this},intersectsObject:function(){var e=new i.Sphere;return function(t){var n=t.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),e.copy(n.boundingSphere),e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){var o=t[i].distanceToPoint(n);if(o<r)return!1}return!0},intersectsBox:function(){var e=new i.Vector3,t=new i.Vector3;return function(n){for(var r=this.planes,i=0;i<6;i++){var o=r[i];e.x=o.normal.x>0?n.min.x:n.max.x,t.x=o.normal.x>0?n.max.x:n.min.x,e.y=o.normal.y>0?n.min.y:n.max.y,t.y=o.normal.y>0?n.max.y:n.min.y,e.z=o.normal.z>0?n.min.z:n.max.z,t.z=o.normal.z>0?n.max.z:n.min.z;var a=o.distanceToPoint(e),s=o.distanceToPoint(t);if(a<0&&s<0)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0},clone:function(){return(new i.Frustum).copy(this)}},i.Plane=function(e,t){this.normal=void 0!==e?e:new i.Vector3(1,0,0),this.constant=void 0!==t?t:0},i.Plane.prototype={constructor:i.Plane,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new i.Vector3,t=new i.Vector3;return function(n,r,i){var o=e.subVectors(i,r).cross(t.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,n),this}}(),copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return this.orthoPoint(e,t).sub(e).negate()},orthoPoint:function(e,t){var n=this.distanceToPoint(e),r=t||new i.Vector3;return r.copy(this.normal).multiplyScalar(n)},isIntersectionLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectLine:function(){var e=new i.Vector3;return function(t,n){var r=n||new i.Vector3,o=t.delta(e),a=this.normal.dot(o);if(0!=a){var s=-(t.start.dot(this.normal)+this.constant)/a;
if(!(s<0||s>1))return r.copy(o).multiplyScalar(s).add(t.start)}else if(0==this.distanceToPoint(t.start))return r.copy(t.start)}}(),coplanarPoint:function(e){var t=e||new i.Vector3;return t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new i.Vector3,t=new i.Vector3,n=new i.Matrix3;return function(r,i){var o=i||n.getNormalMatrix(r),a=e.copy(this.normal).applyMatrix3(o),s=this.coplanarPoint(t);return s.applyMatrix4(r),this.setFromNormalAndCoplanarPoint(a,s),this}}(),translate:function(e){return this.constant=this.constant-e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant==this.constant},clone:function(){return(new i.Plane).copy(this)}},i.Math={generateUUID:function(){var e,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=new Array(36),r=0;return function(){for(var i=0;i<36;i++)8==i||13==i||18==i||23==i?n[i]="-":14==i?n[i]="4":(r<=2&&(r=33554432+16777216*Math.random()|0),e=15&r,r>>=4,n[i]=t[19==i?3&e|8:e]);return n.join("")}}(),clamp:function(e,t,n){return e<t?t:e>n?n:e},clampBottom:function(e,t){return e<t?t:e},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(6*e-15)+10))},random16:function(){return(65280*Math.random()+255*Math.random())/65535},randInt:function(e,t){return Math.floor(this.randFloat(e,t))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(){var e=Math.PI/180;return function(t){return t*e}}(),radToDeg:function(){var e=180/Math.PI;return function(t){return t*e}}(),isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e}},i.Spline=function(e){function t(e,t,n,r,i,o,a){var s=.5*(n-e),c=.5*(r-t);return(2*(t-n)+s+c)*a+(-3*(t-n)-2*s-c)*o+s*i+t}this.points=e;var n,r,o,a,s,c,l,u,h,d=[],f={x:0,y:0,z:0};this.initFromArray=function(e){this.points=[];for(var t=0;t<e.length;t++)this.points[t]={x:e[t][0],y:e[t][1],z:e[t][2]}},this.getPoint=function(e){return n=(this.points.length-1)*e,r=Math.floor(n),o=n-r,d[0]=0===r?r:r-1,d[1]=r,d[2]=r>this.points.length-2?this.points.length-1:r+1,d[3]=r>this.points.length-3?this.points.length-1:r+2,c=this.points[d[0]],l=this.points[d[1]],u=this.points[d[2]],h=this.points[d[3]],a=o*o,s=o*a,f.x=t(c.x,l.x,u.x,h.x,o,a,s),f.y=t(c.y,l.y,u.y,h.y,o,a,s),f.z=t(c.z,l.z,u.z,h.z,o,a,s),f},this.getControlPointsArray=function(){var e,t,n=this.points.length,r=[];for(e=0;e<n;e++)t=this.points[e],r[e]=[t.x,t.y,t.z];return r},this.getLength=function(e){var t,n,r,o,a=0,s=0,c=0,l=new i.Vector3,u=new i.Vector3,h=[],d=0;for(h[0]=0,e||(e=100),r=this.points.length*e,l.copy(this.points[0]),t=1;t<r;t++)n=t/r,o=this.getPoint(n),u.copy(o),d+=u.distanceTo(l),l.copy(o),a=(this.points.length-1)*n,s=Math.floor(a),s!=c&&(h[s]=d,c=s);return h[h.length]=d,{chunks:h,total:d}},this.reparametrizeByArcLength=function(e){var t,n,r,o,a,s,c,l,u=[],h=new i.Vector3,d=this.getLength();for(u.push(h.copy(this.points[0]).clone()),t=1;t<this.points.length;t++){for(s=d.chunks[t]-d.chunks[t-1],c=Math.ceil(e*s/d.total),o=(t-1)/(this.points.length-1),a=t/(this.points.length-1),n=1;n<c-1;n++)r=o+n*(1/c)*(a-o),l=this.getPoint(r),u.push(h.copy(l).clone());u.push(h.copy(this.points[t]).clone())}this.points=u}},i.Triangle=function(e,t,n){this.a=void 0!==e?e:new i.Vector3,this.b=void 0!==t?t:new i.Vector3,this.c=void 0!==n?n:new i.Vector3},i.Triangle.normal=function(){var e=new i.Vector3;return function(t,n,r,o){var a=o||new i.Vector3;a.subVectors(r,n),e.subVectors(t,n),a.cross(e);var s=a.lengthSq();return s>0?a.multiplyScalar(1/Math.sqrt(s)):a.set(0,0,0)}}(),i.Triangle.barycoordFromPoint=function(){var e=new i.Vector3,t=new i.Vector3,n=new i.Vector3;return function(r,o,a,s,c){e.subVectors(s,o),t.subVectors(a,o),n.subVectors(r,o);var l=e.dot(e),u=e.dot(t),h=e.dot(n),d=t.dot(t),f=t.dot(n),p=l*d-u*u,m=c||new i.Vector3;if(0==p)return m.set(-2,-1,-1);var g=1/p,v=(d*h-u*f)*g,b=(l*f-u*h)*g;return m.set(1-v-b,b,v)}}(),i.Triangle.containsPoint=function(){var e=new i.Vector3;return function(t,n,r,o){var a=i.Triangle.barycoordFromPoint(t,n,r,o,e);return a.x>=0&&a.y>=0&&a.x+a.y<=1}}(),i.Triangle.prototype={constructor:i.Triangle,set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:function(){var e=new i.Vector3,t=new i.Vector3;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),midpoint:function(e){var t=e||new i.Vector3;return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return i.Triangle.normal(this.a,this.b,this.c,e)},plane:function(e){var t=e||new i.Plane;return t.setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return i.Triangle.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return i.Triangle.containsPoint(e,this.a,this.b,this.c)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)},clone:function(){return(new i.Triangle).copy(this)}},i.Clock=function(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1},i.Clock.prototype={constructor:i.Clock,start:function(){this.startTime=void 0!==r.performance&&void 0!==r.performance.now?r.performance.now():Date.now(),this.oldTime=this.startTime,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running&&this.start(),this.running){var t=void 0!==r.performance&&void 0!==r.performance.now?r.performance.now():Date.now();e=.001*(t-this.oldTime),this.oldTime=t,this.elapsedTime+=e}return e}},i.EventDispatcher=function(){},i.EventDispatcher.prototype={constructor:i.EventDispatcher,apply:function(e){e.addEventListener=i.EventDispatcher.prototype.addEventListener,e.hasEventListener=i.EventDispatcher.prototype.hasEventListener,e.removeEventListener=i.EventDispatcher.prototype.removeEventListener,e.dispatchEvent=i.EventDispatcher.prototype.dispatchEvent},addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&n[e].indexOf(t)!==-1},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners,r=n[e];if(void 0!==r){var i=r.indexOf(t);i!==-1&&r.splice(i,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners,n=t[e.type];if(void 0!==n){e.target=this;for(var r=[],i=n.length,o=0;o<i;o++)r[o]=n[o];for(var o=0;o<i;o++)r[o].call(this,e)}}}},function(e){e.Raycaster=function(t,n,r,i){this.ray=new e.Ray(t,n),this.near=r||0,this.far=i||1/0,this.params={Sprite:{},Mesh:{},PointCloud:{threshold:1},LOD:{},Line:{}}};var t=function(e,t){return e.distance-t.distance},n=function(e,t,r,i){if(e.raycast(t,r),i===!0)for(var o=e.children,a=0,s=o.length;a<s;a++)n(o[a],t,r,!0)};e.Raycaster.prototype={constructor:e.Raycaster,precision:1e-4,linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(t,n){n instanceof e.PerspectiveCamera?(this.ray.origin.copy(n.position),this.ray.direction.set(t.x,t.y,.5).unproject(n).sub(n.position).normalize()):n instanceof e.OrthographicCamera?(this.ray.origin.set(t.x,t.y,-1).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,r){var i=[];return n(e,this,i,r),i.sort(t),i},intersectObjects:function(e,r){var i=[];if(e instanceof Array==!1)return console.log("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(var o=0,a=e.length;o<a;o++)n(e[o],this,i,r);return i.sort(t),i}}}(i),i.Object3D=function(){Object.defineProperty(this,"id",{value:i.Object3DIdCount++}),this.uuid=i.Math.generateUUID(),this.name="",this.type="Object3D",this.parent=void 0,this.children=[],this.up=i.Object3D.DefaultUp.clone();var e=new i.Vector3,t=new i.Euler,n=new i.Quaternion,r=new i.Vector3(1,1,1),o=function(){n.setFromEuler(t,!1)},a=function(){t.setFromQuaternion(n,void 0,!1)};t.onChange(o),n.onChange(a),Object.defineProperties(this,{position:{enumerable:!0,value:e},rotation:{enumerable:!0,value:t},quaternion:{enumerable:!0,value:n},scale:{enumerable:!0,value:r}}),this.rotationAutoUpdate=!0,this.matrix=new i.Matrix4,this.matrixWorld=new i.Matrix4,this.matrixAutoUpdate=!0,this.matrixWorldNeedsUpdate=!1,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.userData={}},i.Object3D.DefaultUp=new i.Vector3(0,1,0),i.Object3D.prototype={constructor:i.Object3D,get eulerOrder(){return console.warn("THREE.Object3D: .eulerOrder has been moved to .rotation.order."),this.rotation.order},set eulerOrder(e){console.warn("THREE.Object3D: .eulerOrder has been moved to .rotation.order."),this.rotation.order=e},get useQuaternion(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set useQuaternion(e){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new i.Quaternion;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.multiply(e),this}}(),rotateX:function(){var e=new i.Vector3(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new i.Vector3(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new i.Vector3(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new i.Vector3;return function(t,n){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(n)),this}}(),translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},translateX:function(){var e=new i.Vector3(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new i.Vector3(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new i.Vector3(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new i.Matrix4;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new i.Matrix4;return function(t){e.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(e)}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add:",e,"can't be added as a child of itself."),this):(e instanceof i.Object3D?(void 0!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add:",e,"is not an instance of THREE.Object3D."),this)},remove:function(e){if(arguments.length>1)for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);var n=this.children.indexOf(e);n!==-1&&(e.parent=void 0,e.dispatchEvent({type:"removed"}),this.children.splice(n,1))},getChildByName:function(e,t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e,t)},getObjectById:function(e,t){return this.getObjectByProperty("id",e,t)},getObjectByName:function(e,t){return this.getObjectByProperty("name",e,t)},getObjectByProperty:function(e,t,n){if(this[e]===t)return this;for(var r=0,i=this.children.length;r<i;r++){var o=this.children[r],a=o.getObjectByProperty(e,t,n);if(void 0!==a)return a}},getWorldPosition:function(e){var t=e||new i.Vector3;return this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new i.Vector3,t=new i.Vector3;return function(n){var r=n||new i.Quaternion;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,r,t),r}}(),getWorldRotation:function(){var e=new i.Quaternion;return function(t){var n=t||new i.Euler;return this.getWorldQuaternion(e),n.setFromQuaternion(e,this.rotation.order,!1)}}(),getWorldScale:function(){var e=new i.Vector3,t=new i.Quaternion;return function(n){var r=n||new i.Vector3;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,r),r}}(),getWorldDirection:function(){var e=new i.Quaternion;return function(t){var n=t||new i.Vector3;return this.getWorldQuaternion(e),n.set(0,0,1).applyQuaternion(e)}}(),raycast:function(){},traverse:function(e){e(this);for(var t=0,n=this.children.length;t<n;t++)this.children[t].traverse(e)},traverseVisible:function(e){if(this.visible!==!1){e(this);for(var t=0,n=this.children.length;t<n;t++)this.children[t].traverseVisible(e)}},traverseAncestors:function(e){this.parent&&(e(this.parent),this.parent.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate===!0&&this.updateMatrix(),this.matrixWorldNeedsUpdate!==!0&&e!==!0||(void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=0,n=this.children.length;t<n;t++)this.children[t].updateMatrixWorld(e)},toJSON:function(){var e={metadata:{version:4.3,type:"Object",generator:"ObjectExporter"}},t={},n=function(n){if(void 0===e.geometries&&(e.geometries=[]),void 0===t[n.uuid]){var r=n.toJSON();delete r.metadata,t[n.uuid]=r,e.geometries.push(r)}return n.uuid},r={},o=function(t){if(void 0===e.materials&&(e.materials=[]),void 0===r[t.uuid]){var n=t.toJSON();delete n.metadata,r[t.uuid]=n,e.materials.push(n)}return t.uuid},a=function(e){var t={};if(t.uuid=e.uuid,t.type=e.type,""!==e.name&&(t.name=e.name),"{}"!==JSON.stringify(e.userData)&&(t.userData=e.userData),e.visible!==!0&&(t.visible=e.visible),e instanceof i.PerspectiveCamera?(t.fov=e.fov,t.aspect=e.aspect,t.near=e.near,t.far=e.far):e instanceof i.OrthographicCamera?(t.left=e.left,t.right=e.right,t.top=e.top,t.bottom=e.bottom,t.near=e.near,t.far=e.far):e instanceof i.AmbientLight?t.color=e.color.getHex():e instanceof i.DirectionalLight?(t.color=e.color.getHex(),t.intensity=e.intensity):e instanceof i.PointLight?(t.color=e.color.getHex(),t.intensity=e.intensity,t.distance=e.distance):e instanceof i.SpotLight?(t.color=e.color.getHex(),t.intensity=e.intensity,t.distance=e.distance,t.angle=e.angle,t.exponent=e.exponent):e instanceof i.HemisphereLight?(t.color=e.color.getHex(),t.groundColor=e.groundColor.getHex()):e instanceof i.Mesh?(t.geometry=n(e.geometry),t.material=o(e.material)):e instanceof i.Line?(t.geometry=n(e.geometry),t.material=o(e.material)):e instanceof i.Sprite&&(t.material=o(e.material)),t.matrix=e.matrix.toArray(),e.children.length>0){t.children=[];for(var r=0;r<e.children.length;r++)t.children.push(a(e.children[r]))}return t};return e.object=a(this),e},clone:function(e,t){if(void 0===e&&(e=new i.Object3D),void 0===t&&(t=!0),e.name=this.name,e.up.copy(this.up),e.position.copy(this.position),e.quaternion.copy(this.quaternion),e.scale.copy(this.scale),e.rotationAutoUpdate=this.rotationAutoUpdate,e.matrix.copy(this.matrix),e.matrixWorld.copy(this.matrixWorld),e.matrixAutoUpdate=this.matrixAutoUpdate,e.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,e.visible=this.visible,e.castShadow=this.castShadow,e.receiveShadow=this.receiveShadow,e.frustumCulled=this.frustumCulled,e.userData=JSON.parse(JSON.stringify(this.userData)),t===!0)for(var n=0;n<this.children.length;n++){var r=this.children[n];e.add(r.clone())}return e}},i.EventDispatcher.prototype.apply(i.Object3D.prototype),i.Object3DIdCount=0,i.Face3=function(e,t,n,r,o,a){this.a=e,this.b=t,this.c=n,this.normal=r instanceof i.Vector3?r:new i.Vector3,this.vertexNormals=r instanceof Array?r:[],this.color=o instanceof i.Color?o:new i.Color,this.vertexColors=o instanceof Array?o:[],this.vertexTangents=[],this.materialIndex=void 0!==a?a:0},i.Face3.prototype={constructor:i.Face3,clone:function(){var e=new i.Face3(this.a,this.b,this.c);e.normal.copy(this.normal),e.color.copy(this.color),e.materialIndex=this.materialIndex;for(var t=0,n=this.vertexNormals.length;t<n;t++)e.vertexNormals[t]=this.vertexNormals[t].clone();for(var t=0,n=this.vertexColors.length;t<n;t++)e.vertexColors[t]=this.vertexColors[t].clone();for(var t=0,n=this.vertexTangents.length;t<n;t++)e.vertexTangents[t]=this.vertexTangents[t].clone();return e}},i.Face4=function(e,t,n,r,o,a,s){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new i.Face3(e,t,n,o,a,s)},i.BufferAttribute=function(e,t){this.array=e,this.itemSize=t,this.needsUpdate=!1},i.BufferAttribute.prototype={constructor:i.BufferAttribute,get length(){return this.array.length},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r]},set:function(e){return this.array.set(e),this},setX:function(e,t){return this.array[e*this.itemSize]=t,this},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},clone:function(){return new i.BufferAttribute(new this.array.constructor(this.array),this.itemSize)}},i.Int8Attribute=function(e,t){return console.warn("THREE.Int8Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new i.BufferAttribute(e,t)},i.Uint8Attribute=function(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new i.BufferAttribute(e,t)},i.Uint8ClampedAttribute=function(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new i.BufferAttribute(e,t)},i.Int16Attribute=function(e,t){return console.warn("THREE.Int16Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new i.BufferAttribute(e,t)},i.Uint16Attribute=function(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new i.BufferAttribute(e,t)},i.Int32Attribute=function(e,t){return console.warn("THREE.Int32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new i.BufferAttribute(e,t)},i.Uint32Attribute=function(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new i.BufferAttribute(e,t)},i.Float32Attribute=function(e,t){return console.warn("THREE.Float32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new i.BufferAttribute(e,t)},i.Float64Attribute=function(e,t){return console.warn("THREE.Float64Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new i.BufferAttribute(e,t)},i.BufferGeometry=function(){Object.defineProperty(this,"id",{value:i.GeometryIdCount++}),this.uuid=i.Math.generateUUID(),this.name="",this.type="BufferGeometry",this.attributes={},this.attributesKeys=[],this.drawcalls=[],this.offsets=this.drawcalls,this.boundingBox=null,this.boundingSphere=null},i.BufferGeometry.prototype={constructor:i.BufferGeometry,addAttribute:function(e,t){return t instanceof i.BufferAttribute==!1?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void(this.attributes[e]={array:arguments[1],itemSize:arguments[2]})):(this.attributes[e]=t,void(this.attributesKeys=Object.keys(this.attributes)))},getAttribute:function(e){return this.attributes[e]},addDrawCall:function(e,t,n){this.drawcalls.push({start:e,count:t,index:void 0!==n?n:0})},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToVector3Array(t.array),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new i.Matrix3).getNormalMatrix(e);r.applyToVector3Array(n.array),n.needsUpdate=!0}},center:function(){},fromGeometry:function(e,t){t=t||{vertexColors:i.NoColors};var n=e.vertices,r=e.faces,o=e.faceVertexUvs,a=t.vertexColors,s=o[0].length>0,c=3==r[0].vertexNormals.length,l=new Float32Array(3*r.length*3);this.addAttribute("position",new i.BufferAttribute(l,3));var u=new Float32Array(3*r.length*3);if(this.addAttribute("normal",new i.BufferAttribute(u,3)),a!==i.NoColors){var h=new Float32Array(3*r.length*3);this.addAttribute("color",new i.BufferAttribute(h,3))}if(s===!0){var d=new Float32Array(3*r.length*2);this.addAttribute("uv",new i.BufferAttribute(d,2))}for(var f=0,p=0,m=0;f<r.length;f++,p+=6,m+=9){var g=r[f],v=n[g.a],b=n[g.b],y=n[g.c];if(l[m]=v.x,l[m+1]=v.y,l[m+2]=v.z,l[m+3]=b.x,l[m+4]=b.y,l[m+5]=b.z,l[m+6]=y.x,l[m+7]=y.y,l[m+8]=y.z,c===!0){var w=g.vertexNormals[0],_=g.vertexNormals[1],x=g.vertexNormals[2];u[m]=w.x,u[m+1]=w.y,u[m+2]=w.z,u[m+3]=_.x,u[m+4]=_.y,u[m+5]=_.z,u[m+6]=x.x,u[m+7]=x.y,u[m+8]=x.z}else{var k=g.normal;u[m]=k.x,u[m+1]=k.y,u[m+2]=k.z,u[m+3]=k.x,u[m+4]=k.y,u[m+5]=k.z,u[m+6]=k.x,u[m+7]=k.y,u[m+8]=k.z}if(a===i.FaceColors){var S=g.color;h[m]=S.r,h[m+1]=S.g,h[m+2]=S.b,h[m+3]=S.r,h[m+4]=S.g,h[m+5]=S.b,h[m+6]=S.r,h[m+7]=S.g,h[m+8]=S.b}else if(a===i.VertexColors){var j=g.vertexColors[0],P=g.vertexColors[1],E=g.vertexColors[2];h[m]=j.r,h[m+1]=j.g,h[m+2]=j.b,h[m+3]=P.r,h[m+4]=P.g,h[m+5]=P.b,h[m+6]=E.r,h[m+7]=E.g,h[m+8]=E.b}if(s===!0){var A=o[0][f][0],T=o[0][f][1],C=o[0][f][2];d[p]=A.x,d[p+1]=A.y,d[p+2]=T.x,d[p+3]=T.y,d[p+4]=C.x,d[p+5]=C.y}}return this.computeBoundingSphere(),this},computeBoundingBox:function(){var e=new i.Vector3;return function(){null===this.boundingBox&&(this.boundingBox=new i.Box3);var t=this.attributes.position.array;if(t){var n=this.boundingBox;n.makeEmpty();for(var r=0,o=t.length;r<o;r+=3)e.set(t[r],t[r+1],t[r+2]),n.expandByPoint(e)}void 0!==t&&0!==t.length||(this.boundingBox.min.set(0,0,0),this.boundingBox.max.set(0,0,0)),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.')}}(),computeBoundingSphere:function(){var e=new i.Box3,t=new i.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new i.Sphere);var n=this.attributes.position.array;if(n){e.makeEmpty();for(var r=this.boundingSphere.center,o=0,a=n.length;o<a;o+=3)t.set(n[o],n[o+1],n[o+2]),e.expandByPoint(t);e.center(r);for(var s=0,o=0,a=n.length;o<a;o+=3)t.set(n[o],n[o+1],n[o+2]),s=Math.max(s,r.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.attributes;if(e.position){var t=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new i.BufferAttribute(new Float32Array(t.length),3));else for(var n=e.normal.array,r=0,o=n.length;r<o;r++)n[r]=0;var a,s,c,n=e.normal.array,l=new i.Vector3,u=new i.Vector3,h=new i.Vector3,d=new i.Vector3,f=new i.Vector3;if(e.index)for(var p=e.index.array,m=this.offsets.length>0?this.offsets:[{start:0,count:p.length,index:0}],g=0,v=m.length;g<v;++g)for(var b=m[g].start,y=m[g].count,w=m[g].index,r=b,o=b+y;r<o;r+=3)a=3*(w+p[r]),s=3*(w+p[r+1]),c=3*(w+p[r+2]),l.fromArray(t,a),u.fromArray(t,s),h.fromArray(t,c),d.subVectors(h,u),f.subVectors(l,u),d.cross(f),n[a]+=d.x,n[a+1]+=d.y,n[a+2]+=d.z,n[s]+=d.x,n[s+1]+=d.y,n[s+2]+=d.z,n[c]+=d.x,n[c+1]+=d.y,n[c+2]+=d.z;else for(var r=0,o=t.length;r<o;r+=9)l.fromArray(t,r),u.fromArray(t,r+3),h.fromArray(t,r+6),d.subVectors(h,u),f.subVectors(l,u),d.cross(f),n[r]=d.x,n[r+1]=d.y,n[r+2]=d.z,n[r+3]=d.x,n[r+4]=d.y,n[r+5]=d.z,n[r+6]=d.x,n[r+7]=d.y,n[r+8]=d.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},computeTangents:function(){function e(e,t,n){C.fromArray(r,3*e),M.fromArray(r,3*t),O.fromArray(r,3*n),I.fromArray(a,2*e),F.fromArray(a,2*t),D.fromArray(a,2*n),d=M.x-C.x,f=O.x-C.x,p=M.y-C.y,m=O.y-C.y,g=M.z-C.z,v=O.z-C.z,b=F.x-I.x,y=D.x-I.x,w=F.y-I.y,_=D.y-I.y,x=1/(b*_-y*w),L.set((_*d-w*f)*x,(_*p-w*m)*x,(_*g-w*v)*x),R.set((b*f-y*d)*x,(b*m-y*p)*x,(b*v-y*g)*x),l[e].add(L),l[t].add(L),l[n].add(L),u[e].add(R),u[t].add(R),u[n].add(R)}function t(e){G.fromArray(o,3*e),Y.copy(G),q=l[e],H.copy(q),H.sub(G.multiplyScalar(G.dot(q))).normalize(),W.crossVectors(Y,q),V=W.dot(u[e]),B=V<0?-1:1,c[4*e]=H.x,c[4*e+1]=H.y,c[4*e+2]=H.z,c[4*e+3]=B}if(void 0===this.attributes.index||void 0===this.attributes.position||void 0===this.attributes.normal||void 0===this.attributes.uv)return void console.warn("Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()");var n=this.attributes.index.array,r=this.attributes.position.array,o=this.attributes.normal.array,a=this.attributes.uv.array,s=r.length/3;void 0===this.attributes.tangent&&this.addAttribute("tangent",new i.BufferAttribute(new Float32Array(4*s),4));for(var c=this.attributes.tangent.array,l=[],u=[],h=0;h<s;h++)l[h]=new i.Vector3,u[h]=new i.Vector3;var d,f,p,m,g,v,b,y,w,_,x,k,S,j,P,E,A,T,C=new i.Vector3,M=new i.Vector3,O=new i.Vector3,I=new i.Vector2,F=new i.Vector2,D=new i.Vector2,L=new i.Vector3,R=new i.Vector3;0===this.drawcalls.length&&this.addDrawCall(0,n.length,0);var N=this.drawcalls;for(j=0,P=N.length;j<P;++j){var U=N[j].start,$=N[j].count,z=N[j].index;for(k=U,S=U+$;k<S;k+=3)E=z+n[k],A=z+n[k+1],T=z+n[k+2],e(E,A,T)}var B,q,V,H=new i.Vector3,W=new i.Vector3,G=new i.Vector3,Y=new i.Vector3;for(j=0,P=N.length;j<P;++j){var U=N[j].start,$=N[j].count,z=N[j].index;for(k=U,S=U+$;k<S;k+=3)E=z+n[k],A=z+n[k+1],T=z+n[k+2],t(E),t(A),t(T)}},computeOffsets:function(e){var t=e;void 0===e&&(t=65535);for(var n=(Date.now(),this.attributes.index.array),r=this.attributes.position.array,i=(r.length/3,n.length/3),o=new Uint16Array(n.length),a=0,s=0,c=[{start:0,count:0,index:0}],l=c[0],u=0,h=0,d=new Int32Array(6),f=new Int32Array(r.length),p=new Int32Array(r.length),m=0;m<r.length;m++)f[m]=-1,p[m]=-1;for(var g=0;g<i;g++){h=0;for(var v=0;v<3;v++){var b=n[3*g+v];f[b]==-1?(d[2*v]=b,d[2*v+1]=-1,h++):f[b]<l.index?(d[2*v]=b,d[2*v+1]=-1,u++):(d[2*v]=b,d[2*v+1]=f[b])}var y=s+h;if(y>l.index+t){var w={start:a,count:0,index:s};c.push(w),l=w;for(var _=0;_<6;_+=2){var x=d[_+1];x>-1&&x<l.index&&(d[_+1]=-1)}}for(var _=0;_<6;_+=2){var b=d[_],x=d[_+1];x===-1&&(x=s++),f[b]=x,p[x]=b,o[a++]=x-l.index,l.count++}}return this.reorderBuffers(o,p,s),this.offsets=c,c},merge:function(e,t){if(e instanceof i.BufferGeometry==!1)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0);var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var o=n[r],a=o.array,s=e.attributes[r],c=s.array,l=s.itemSize,u=0,h=l*t;u<c.length;u++,h++)a[h]=c[u];return this},normalizeNormals:function(){for(var e,t,n,r,i=this.attributes.normal.array,o=0,a=i.length;o<a;o+=3)e=i[o],t=i[o+1],n=i[o+2],r=1/Math.sqrt(e*e+t*t+n*n),i[o]*=r,i[o+1]*=r,i[o+2]*=r},reorderBuffers:function(e,t,n){var r={};for(var i in this.attributes)if("index"!=i){var o=this.attributes[i].array;r[i]=new o.constructor(this.attributes[i].itemSize*n)}for(var a=0;a<n;a++){var s=t[a];for(var i in this.attributes)if("index"!=i)for(var c=this.attributes[i].array,l=this.attributes[i].itemSize,u=r[i],h=0;h<l;h++)u[a*l+h]=c[s*l+h]}this.attributes.index.array=e;for(var i in this.attributes)"index"!=i&&(this.attributes[i].array=r[i],this.attributes[i].numItems=this.attributes[i].itemSize*n)},toJSON:function(){var e={metadata:{version:4,type:"BufferGeometry",generator:"BufferGeometryExporter"},uuid:this.uuid,type:this.type,data:{attributes:{}}},t=this.attributes,n=this.offsets,r=this.boundingSphere;for(var i in t){for(var o=t[i],a=[],s=o.array,c=0,l=s.length;c<l;c++)a[c]=s[c];e.data.attributes[i]={itemSize:o.itemSize,type:o.array.constructor.name,array:a}}return n.length>0&&(e.data.offsets=JSON.parse(JSON.stringify(n))),null!==r&&(e.data.boundingSphere={center:r.center.toArray(),radius:r.radius}),e},clone:function(){var e=new i.BufferGeometry;for(var t in this.attributes){var n=this.attributes[t];e.addAttribute(t,n.clone())}for(var r=0,o=this.offsets.length;r<o;r++){var a=this.offsets[r];e.offsets.push({start:a.start,index:a.index,count:a.count})}return e},dispose:function(){this.dispatchEvent({type:"dispose"})}},i.EventDispatcher.prototype.apply(i.BufferGeometry.prototype),i.Geometry=function(){Object.defineProperty(this,"id",{value:i.GeometryIdCount++}),this.uuid=i.Math.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphColors=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.hasTangents=!1,this.dynamic=!0,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.tangentsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1},i.Geometry.prototype={constructor:i.Geometry,applyMatrix:function(e){for(var t=(new i.Matrix3).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++){var o=this.vertices[n];o.applyMatrix4(e)}for(var n=0,r=this.faces.length;n<r;n++){var a=this.faces[n];a.normal.applyMatrix3(t).normalize();for(var s=0,c=a.vertexNormals.length;s<c;s++)a.vertexNormals[s].applyMatrix3(t).normalize()}this.boundingBox instanceof i.Box3&&this.computeBoundingBox(),this.boundingSphere instanceof i.Sphere&&this.computeBoundingSphere()},fromBufferGeometry:function(e){for(var t=this,n=e.attributes,r=n.position.array,o=void 0!==n.index?n.index.array:void 0,a=void 0!==n.normal?n.normal.array:void 0,s=void 0!==n.color?n.color.array:void 0,c=void 0!==n.uv?n.uv.array:void 0,l=[],u=[],h=0,d=0;h<r.length;h+=3,d+=2)t.vertices.push(new i.Vector3(r[h],r[h+1],r[h+2])),void 0!==a&&l.push(new i.Vector3(a[h],a[h+1],a[h+2])),void 0!==s&&t.colors.push(new i.Color(s[h],s[h+1],s[h+2])),void 0!==c&&u.push(new i.Vector2(c[d],c[d+1]));var f=function(e,n,r){var o=void 0!==a?[l[e].clone(),l[n].clone(),l[r].clone()]:[],h=void 0!==s?[t.colors[e].clone(),t.colors[n].clone(),t.colors[r].clone()]:[];t.faces.push(new i.Face3(e,n,r,o,h)),void 0!==c&&t.faceVertexUvs[0].push([u[e].clone(),u[n].clone(),u[r].clone()])};if(void 0!==o)for(var h=0;h<o.length;h+=3)f(o[h],o[h+1],o[h+2]);else for(var h=0;h<r.length/3;h+=3)f(h,h+1,h+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var e=new i.Vector3;return e.addVectors(this.boundingBox.min,this.boundingBox.max),e.multiplyScalar(-.5),this.applyMatrix((new i.Matrix4).makeTranslation(e.x,e.y,e.z)),
this.computeBoundingBox(),e},computeFaceNormals:function(){for(var e=new i.Vector3,t=new i.Vector3,n=0,r=this.faces.length;n<r;n++){var o=this.faces[n],a=this.vertices[o.a],s=this.vertices[o.b],c=this.vertices[o.c];e.subVectors(c,s),t.subVectors(a,s),e.cross(t),e.normalize(),o.normal.copy(e)}},computeVertexNormals:function(e){var t,n,r,o,a,s;for(s=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)s[t]=new i.Vector3;if(e){var c,l,u,h=new i.Vector3,d=new i.Vector3;new i.Vector3,new i.Vector3,new i.Vector3;for(r=0,o=this.faces.length;r<o;r++)a=this.faces[r],c=this.vertices[a.a],l=this.vertices[a.b],u=this.vertices[a.c],h.subVectors(u,l),d.subVectors(c,l),h.cross(d),s[a.a].add(h),s[a.b].add(h),s[a.c].add(h)}else for(r=0,o=this.faces.length;r<o;r++)a=this.faces[r],s[a.a].add(a.normal),s[a.b].add(a.normal),s[a.c].add(a.normal);for(t=0,n=this.vertices.length;t<n;t++)s[t].normalize();for(r=0,o=this.faces.length;r<o;r++)a=this.faces[r],a.vertexNormals[0]=s[a.a].clone(),a.vertexNormals[1]=s[a.b].clone(),a.vertexNormals[2]=s[a.c].clone()},computeMorphNormals:function(){var e,t,n,r,o;for(n=0,r=this.faces.length;n<r;n++)for(o=this.faces[n],o.__originalFaceNormal?o.__originalFaceNormal.copy(o.normal):o.__originalFaceNormal=o.normal.clone(),o.__originalVertexNormals||(o.__originalVertexNormals=[]),e=0,t=o.vertexNormals.length;e<t;e++)o.__originalVertexNormals[e]?o.__originalVertexNormals[e].copy(o.vertexNormals[e]):o.__originalVertexNormals[e]=o.vertexNormals[e].clone();var a=new i.Geometry;for(a.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var s,c,l=this.morphNormals[e].faceNormals,u=this.morphNormals[e].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)s=new i.Vector3,c={a:new i.Vector3,b:new i.Vector3,c:new i.Vector3},l.push(s),u.push(c)}var h=this.morphNormals[e];a.vertices=this.morphTargets[e].vertices,a.computeFaceNormals(),a.computeVertexNormals();var s,c;for(n=0,r=this.faces.length;n<r;n++)o=this.faces[n],s=h.faceNormals[n],c=h.vertexNormals[n],s.copy(o.normal),c.a.copy(o.vertexNormals[0]),c.b.copy(o.vertexNormals[1]),c.c.copy(o.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)o=this.faces[n],o.normal=o.__originalFaceNormal,o.vertexNormals=o.__originalVertexNormals},computeTangents:function(){function e(e,t,n,r,i,o,a){u=e.vertices[t],h=e.vertices[n],d=e.vertices[r],f=l[i],p=l[o],m=l[a],g=h.x-u.x,v=d.x-u.x,b=h.y-u.y,y=d.y-u.y,w=h.z-u.z,_=d.z-u.z,x=p.x-f.x,k=m.x-f.x,S=p.y-f.y,j=m.y-f.y,P=1/(x*j-k*S),O.set((j*g-S*v)*P,(j*b-S*y)*P,(j*w-S*_)*P),I.set((x*v-k*g)*P,(x*y-k*b)*P,(x*_-k*w)*P),C[t].add(O),C[n].add(O),C[r].add(O),M[t].add(I),M[n].add(I),M[r].add(I)}var t,n,r,o,a,s,c,l,u,h,d,f,p,m,g,v,b,y,w,_,x,k,S,j,P,E,A,T,C=[],M=[],O=new i.Vector3,I=new i.Vector3,F=new i.Vector3,D=new i.Vector3,L=new i.Vector3;for(r=0,o=this.vertices.length;r<o;r++)C[r]=new i.Vector3,M[r]=new i.Vector3;for(t=0,n=this.faces.length;t<n;t++)c=this.faces[t],l=this.faceVertexUvs[0][t],e(this,c.a,c.b,c.c,0,1,2);var R=["a","b","c","d"];for(t=0,n=this.faces.length;t<n;t++)for(c=this.faces[t],a=0;a<Math.min(c.vertexNormals.length,3);a++)L.copy(c.vertexNormals[a]),s=c[R[a]],E=C[s],F.copy(E),F.sub(L.multiplyScalar(L.dot(E))).normalize(),D.crossVectors(c.vertexNormals[a],E),A=D.dot(M[s]),T=A<0?-1:1,c.vertexTangents[a]=new i.Vector4(F.x,F.y,F.z,T);this.hasTangents=!0},computeLineDistances:function(){for(var e=0,t=this.vertices,n=0,r=t.length;n<r;n++)n>0&&(e+=t[n].distanceTo(t[n-1])),this.lineDistances[n]=e},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new i.Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new i.Sphere),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e instanceof i.Geometry==!1)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);var r,o=this.vertices.length,a=this.vertices,s=e.vertices,c=this.faces,l=e.faces,u=this.faceVertexUvs[0],h=e.faceVertexUvs[0];void 0===n&&(n=0),void 0!==t&&(r=(new i.Matrix3).getNormalMatrix(t));for(var d=0,f=s.length;d<f;d++){var p=s[d],m=p.clone();void 0!==t&&m.applyMatrix4(t),a.push(m)}for(d=0,f=l.length;d<f;d++){var g,v,b,y=l[d],w=y.vertexNormals,_=y.vertexColors;g=new i.Face3(y.a+o,y.b+o,y.c+o),g.normal.copy(y.normal),void 0!==r&&g.normal.applyMatrix3(r).normalize();for(var x=0,k=w.length;x<k;x++)v=w[x].clone(),void 0!==r&&v.applyMatrix3(r).normalize(),g.vertexNormals.push(v);g.color.copy(y.color);for(var x=0,k=_.length;x<k;x++)b=_[x],g.vertexColors.push(b.clone());g.materialIndex=y.materialIndex+n,c.push(g)}for(d=0,f=h.length;d<f;d++){var S=h[d],j=[];if(void 0!==S){for(var x=0,k=S.length;x<k;x++)j.push(S[x].clone());u.push(j)}}},mergeMesh:function(e){return e instanceof i.Mesh==!1?void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e):(e.matrixAutoUpdate&&e.updateMatrix(),void this.merge(e.geometry,e.matrix))},mergeVertices:function(){var e,t,n,r,i,o,a,s,c={},l=[],u=[],h=4,d=Math.pow(10,h);for(n=0,r=this.vertices.length;n<r;n++)e=this.vertices[n],t=Math.round(e.x*d)+"_"+Math.round(e.y*d)+"_"+Math.round(e.z*d),void 0===c[t]?(c[t]=n,l.push(this.vertices[n]),u[n]=l.length-1):u[n]=u[c[t]];var f=[];for(n=0,r=this.faces.length;n<r;n++){i=this.faces[n],i.a=u[i.a],i.b=u[i.b],i.c=u[i.c],o=[i.a,i.b,i.c];for(var p=-1,m=0;m<3;m++)if(o[m]==o[(m+1)%3]){p=m,f.push(n);break}}for(n=f.length-1;n>=0;n--){var g=f[n];for(this.faces.splice(g,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(g,1)}var v=this.vertices.length-l.length;return this.vertices=l,v},toJSON:function(){function e(e,t,n){return n?e|1<<t:e&~(1<<t)}function t(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==d[t]?d[t]:(d[t]=h.length/3,h.push(e.x,e.y,e.z),d[t])}function n(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==p[t]?p[t]:(p[t]=f.length,f.push(e.getHex()),p[t])}function r(e){var t=e.x.toString()+e.y.toString();return void 0!==g[t]?g[t]:(g[t]=m.length/2,m.push(e.x,e.y),g[t])}var i={metadata:{version:4,type:"BufferGeometry",generator:"BufferGeometryExporter"},uuid:this.uuid,type:this.type};if(""!==this.name&&(i.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var a in o)void 0!==o[a]&&(i[a]=o[a]);return i}for(var s=[],c=0;c<this.vertices.length;c++){var l=this.vertices[c];s.push(l.x,l.y,l.z)}for(var u=[],h=[],d={},f=[],p={},m=[],g={},c=0;c<this.faces.length;c++){var v=this.faces[c],b=!1,y=!1,w=void 0!==this.faceVertexUvs[0][c],_=v.normal.length()>0,x=v.vertexNormals.length>0,k=1!==v.color.r||1!==v.color.g||1!==v.color.b,S=v.vertexColors.length>0,j=0;if(j=e(j,0,0),j=e(j,1,b),j=e(j,2,y),j=e(j,3,w),j=e(j,4,_),j=e(j,5,x),j=e(j,6,k),j=e(j,7,S),u.push(j),u.push(v.a,v.b,v.c),w){var P=this.faceVertexUvs[0][c];u.push(r(P[0]),r(P[1]),r(P[2]))}if(_&&u.push(t(v.normal)),x){var E=v.vertexNormals;u.push(t(E[0]),t(E[1]),t(E[2]))}if(k&&u.push(n(v.color)),S){var A=v.vertexColors;u.push(n(A[0]),n(A[1]),n(A[2]))}}return i.data={},i.data.vertices=s,i.data.normals=h,f.length>0&&(i.data.colors=f),m.length>0&&(i.data.uvs=[m]),i.data.faces=u,i},clone:function(){for(var e=new i.Geometry,t=this.vertices,n=0,r=t.length;n<r;n++)e.vertices.push(t[n].clone());for(var o=this.faces,n=0,r=o.length;n<r;n++)e.faces.push(o[n].clone());for(var n=0,r=this.faceVertexUvs.length;n<r;n++){var a=this.faceVertexUvs[n];void 0===e.faceVertexUvs[n]&&(e.faceVertexUvs[n]=[]);for(var s=0,c=a.length;s<c;s++){for(var l=a[s],u=[],h=0,d=l.length;h<d;h++){var f=l[h];u.push(f.clone())}e.faceVertexUvs[n].push(u)}}return e},dispose:function(){this.dispatchEvent({type:"dispose"})}},i.EventDispatcher.prototype.apply(i.Geometry.prototype),i.GeometryIdCount=0,i.Camera=function(){i.Object3D.call(this),this.type="Camera",this.matrixWorldInverse=new i.Matrix4,this.projectionMatrix=new i.Matrix4},i.Camera.prototype=Object.create(i.Object3D.prototype),i.Camera.prototype.constructor=i.Camera,i.Camera.prototype.getWorldDirection=function(){var e=new i.Quaternion;return function(t){var n=t||new i.Vector3;return this.getWorldQuaternion(e),n.set(0,0,-1).applyQuaternion(e)}}(),i.Camera.prototype.lookAt=function(){var e=new i.Matrix4;return function(t){e.lookAt(this.position,t,this.up),this.quaternion.setFromRotationMatrix(e)}}(),i.Camera.prototype.clone=function(e){return void 0===e&&(e=new i.Camera),i.Object3D.prototype.clone.call(this,e),e.matrixWorldInverse.copy(this.matrixWorldInverse),e.projectionMatrix.copy(this.projectionMatrix),e},i.CubeCamera=function(e,t,n){i.Object3D.call(this),this.type="CubeCamera";var r=90,o=1,a=new i.PerspectiveCamera(r,o,e,t);a.up.set(0,-1,0),a.lookAt(new i.Vector3(1,0,0)),this.add(a);var s=new i.PerspectiveCamera(r,o,e,t);s.up.set(0,-1,0),s.lookAt(new i.Vector3((-1),0,0)),this.add(s);var c=new i.PerspectiveCamera(r,o,e,t);c.up.set(0,0,1),c.lookAt(new i.Vector3(0,1,0)),this.add(c);var l=new i.PerspectiveCamera(r,o,e,t);l.up.set(0,0,-1),l.lookAt(new i.Vector3(0,(-1),0)),this.add(l);var u=new i.PerspectiveCamera(r,o,e,t);u.up.set(0,-1,0),u.lookAt(new i.Vector3(0,0,1)),this.add(u);var h=new i.PerspectiveCamera(r,o,e,t);h.up.set(0,-1,0),h.lookAt(new i.Vector3(0,0,(-1))),this.add(h),this.renderTarget=new i.WebGLRenderTargetCube(n,n,{format:i.RGBFormat,magFilter:i.LinearFilter,minFilter:i.LinearFilter}),this.updateCubeMap=function(e,t){var n=this.renderTarget,r=n.generateMipmaps;n.generateMipmaps=!1,n.activeCubeFace=0,e.render(t,a,n),n.activeCubeFace=1,e.render(t,s,n),n.activeCubeFace=2,e.render(t,c,n),n.activeCubeFace=3,e.render(t,l,n),n.activeCubeFace=4,e.render(t,u,n),n.generateMipmaps=r,n.activeCubeFace=5,e.render(t,h,n)}},i.CubeCamera.prototype=Object.create(i.Object3D.prototype),i.CubeCamera.prototype.constructor=i.CubeCamera,i.OrthographicCamera=function(e,t,n,r,o,a){i.Camera.call(this),this.type="OrthographicCamera",this.zoom=1,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=void 0!==o?o:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()},i.OrthographicCamera.prototype=Object.create(i.Camera.prototype),i.OrthographicCamera.prototype.constructor=i.OrthographicCamera,i.OrthographicCamera.prototype.updateProjectionMatrix=function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;this.projectionMatrix.makeOrthographic(n-e,n+e,r+t,r-t,this.near,this.far)},i.OrthographicCamera.prototype.clone=function(){var e=new i.OrthographicCamera;return i.Camera.prototype.clone.call(this,e),e.zoom=this.zoom,e.left=this.left,e.right=this.right,e.top=this.top,e.bottom=this.bottom,e.near=this.near,e.far=this.far,e.projectionMatrix.copy(this.projectionMatrix),e},i.PerspectiveCamera=function(e,t,n,r){i.Camera.call(this),this.type="PerspectiveCamera",this.zoom=1,this.fov=void 0!==e?e:50,this.aspect=void 0!==t?t:1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.updateProjectionMatrix()},i.PerspectiveCamera.prototype=Object.create(i.Camera.prototype),i.PerspectiveCamera.prototype.constructor=i.PerspectiveCamera,i.PerspectiveCamera.prototype.setLens=function(e,t){void 0===t&&(t=24),this.fov=2*i.Math.radToDeg(Math.atan(t/(2*e))),this.updateProjectionMatrix()},i.PerspectiveCamera.prototype.setViewOffset=function(e,t,n,r,i,o){this.fullWidth=e,this.fullHeight=t,this.x=n,this.y=r,this.width=i,this.height=o,this.updateProjectionMatrix()},i.PerspectiveCamera.prototype.updateProjectionMatrix=function(){var e=i.Math.radToDeg(2*Math.atan(Math.tan(.5*i.Math.degToRad(this.fov))/this.zoom));if(this.fullWidth){var t=this.fullWidth/this.fullHeight,n=Math.tan(i.Math.degToRad(.5*e))*this.near,r=-n,o=t*r,a=t*n,s=Math.abs(a-o),c=Math.abs(n-r);this.projectionMatrix.makeFrustum(o+this.x*s/this.fullWidth,o+(this.x+this.width)*s/this.fullWidth,n-(this.y+this.height)*c/this.fullHeight,n-this.y*c/this.fullHeight,this.near,this.far)}else this.projectionMatrix.makePerspective(e,this.aspect,this.near,this.far)},i.PerspectiveCamera.prototype.clone=function(){var e=new i.PerspectiveCamera;return i.Camera.prototype.clone.call(this,e),e.zoom=this.zoom,e.fov=this.fov,e.aspect=this.aspect,e.near=this.near,e.far=this.far,e.projectionMatrix.copy(this.projectionMatrix),e},i.Light=function(e){i.Object3D.call(this),this.type="Light",this.color=new i.Color(e)},i.Light.prototype=Object.create(i.Object3D.prototype),i.Light.prototype.constructor=i.Light,i.Light.prototype.clone=function(e){return void 0===e&&(e=new i.Light),i.Object3D.prototype.clone.call(this,e),e.color.copy(this.color),e},i.AmbientLight=function(e){i.Light.call(this,e),this.type="AmbientLight"},i.AmbientLight.prototype=Object.create(i.Light.prototype),i.AmbientLight.prototype.constructor=i.AmbientLight,i.AmbientLight.prototype.clone=function(){var e=new i.AmbientLight;return i.Light.prototype.clone.call(this,e),e},i.AreaLight=function(e,t){i.Light.call(this,e),this.type="AreaLight",this.normal=new i.Vector3(0,(-1),0),this.right=new i.Vector3(1,0,0),this.intensity=void 0!==t?t:1,this.width=1,this.height=1,this.constantAttenuation=1.5,this.linearAttenuation=.5,this.quadraticAttenuation=.1},i.AreaLight.prototype=Object.create(i.Light.prototype),i.AreaLight.prototype.constructor=i.AreaLight,i.DirectionalLight=function(e,t){i.Light.call(this,e),this.type="DirectionalLight",this.position.set(0,1,0),this.target=new i.Object3D,this.intensity=void 0!==t?t:1,this.castShadow=!1,this.onlyShadow=!1,this.shadowCameraNear=50,this.shadowCameraFar=5e3,this.shadowCameraLeft=-500,this.shadowCameraRight=500,this.shadowCameraTop=500,this.shadowCameraBottom=-500,this.shadowCameraVisible=!1,this.shadowBias=0,this.shadowDarkness=.5,this.shadowMapWidth=512,this.shadowMapHeight=512,this.shadowCascade=!1,this.shadowCascadeOffset=new i.Vector3(0,0,(-1e3)),this.shadowCascadeCount=2,this.shadowCascadeBias=[0,0,0],this.shadowCascadeWidth=[512,512,512],this.shadowCascadeHeight=[512,512,512],this.shadowCascadeNearZ=[-1,.99,.998],this.shadowCascadeFarZ=[.99,.998,1],this.shadowCascadeArray=[],this.shadowMap=null,this.shadowMapSize=null,this.shadowCamera=null,this.shadowMatrix=null},i.DirectionalLight.prototype=Object.create(i.Light.prototype),i.DirectionalLight.prototype.constructor=i.DirectionalLight,i.DirectionalLight.prototype.clone=function(){var e=new i.DirectionalLight;return i.Light.prototype.clone.call(this,e),e.target=this.target.clone(),e.intensity=this.intensity,e.castShadow=this.castShadow,e.onlyShadow=this.onlyShadow,e.shadowCameraNear=this.shadowCameraNear,e.shadowCameraFar=this.shadowCameraFar,e.shadowCameraLeft=this.shadowCameraLeft,e.shadowCameraRight=this.shadowCameraRight,e.shadowCameraTop=this.shadowCameraTop,e.shadowCameraBottom=this.shadowCameraBottom,e.shadowCameraVisible=this.shadowCameraVisible,e.shadowBias=this.shadowBias,e.shadowDarkness=this.shadowDarkness,e.shadowMapWidth=this.shadowMapWidth,e.shadowMapHeight=this.shadowMapHeight,e.shadowCascade=this.shadowCascade,e.shadowCascadeOffset.copy(this.shadowCascadeOffset),e.shadowCascadeCount=this.shadowCascadeCount,e.shadowCascadeBias=this.shadowCascadeBias.slice(0),e.shadowCascadeWidth=this.shadowCascadeWidth.slice(0),e.shadowCascadeHeight=this.shadowCascadeHeight.slice(0),e.shadowCascadeNearZ=this.shadowCascadeNearZ.slice(0),e.shadowCascadeFarZ=this.shadowCascadeFarZ.slice(0),e},i.HemisphereLight=function(e,t,n){i.Light.call(this,e),this.type="HemisphereLight",this.position.set(0,100,0),this.groundColor=new i.Color(t),this.intensity=void 0!==n?n:1},i.HemisphereLight.prototype=Object.create(i.Light.prototype),i.HemisphereLight.prototype.constructor=i.HemisphereLight,i.HemisphereLight.prototype.clone=function(){var e=new i.HemisphereLight;return i.Light.prototype.clone.call(this,e),e.groundColor.copy(this.groundColor),e.intensity=this.intensity,e},i.PointLight=function(e,t,n){i.Light.call(this,e),this.type="PointLight",this.intensity=void 0!==t?t:1,this.distance=void 0!==n?n:0},i.PointLight.prototype=Object.create(i.Light.prototype),i.PointLight.prototype.constructor=i.PointLight,i.PointLight.prototype.clone=function(){var e=new i.PointLight;return i.Light.prototype.clone.call(this,e),e.intensity=this.intensity,e.distance=this.distance,e},i.SpotLight=function(e,t,n,r,o){i.Light.call(this,e),this.type="SpotLight",this.position.set(0,1,0),this.target=new i.Object3D,this.intensity=void 0!==t?t:1,this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.exponent=void 0!==o?o:10,this.castShadow=!1,this.onlyShadow=!1,this.shadowCameraNear=50,this.shadowCameraFar=5e3,this.shadowCameraFov=50,this.shadowCameraVisible=!1,this.shadowBias=0,this.shadowDarkness=.5,this.shadowMapWidth=512,this.shadowMapHeight=512,this.shadowMap=null,this.shadowMapSize=null,this.shadowCamera=null,this.shadowMatrix=null},i.SpotLight.prototype=Object.create(i.Light.prototype),i.SpotLight.prototype.constructor=i.SpotLight,i.SpotLight.prototype.clone=function(){var e=new i.SpotLight;return i.Light.prototype.clone.call(this,e),e.target=this.target.clone(),e.intensity=this.intensity,e.distance=this.distance,e.angle=this.angle,e.exponent=this.exponent,e.castShadow=this.castShadow,e.onlyShadow=this.onlyShadow,e.shadowCameraNear=this.shadowCameraNear,e.shadowCameraFar=this.shadowCameraFar,e.shadowCameraFov=this.shadowCameraFov,e.shadowCameraVisible=this.shadowCameraVisible,e.shadowBias=this.shadowBias,e.shadowDarkness=this.shadowDarkness,e.shadowMapWidth=this.shadowMapWidth,e.shadowMapHeight=this.shadowMapHeight,e},i.Cache=function(){this.files={}},i.Cache.prototype={constructor:i.Cache,add:function(e,t){this.files[e]=t},get:function(e){return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},i.Loader=function(e){this.showStatus=e,this.statusDomElement=e?i.Loader.prototype.addStatusElement():null,this.imageLoader=new i.ImageLoader,this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}},i.Loader.prototype={constructor:i.Loader,crossOrigin:void 0,addStatusElement:function(){var e=document.createElement("div");return e.style.position="absolute",e.style.right="0px",e.style.top="0px",e.style.fontSize="0.8em",e.style.textAlign="left",e.style.background="rgba(0,0,0,0.25)",e.style.color="#fff",e.style.width="120px",e.style.padding="0.5em 0.5em 0.5em 0.5em",e.style.zIndex=1e3,e.innerHTML="Loading ...",e},updateProgress:function(e){var t="Loaded ";t+=e.total?(100*e.loaded/e.total).toFixed(0)+"%":(e.loaded/1024).toFixed(2)+" KB",this.statusDomElement.innerHTML=t},extractUrlBase:function(e){var t=e.split("/");return 1===t.length?"./":(t.pop(),t.join("/")+"/")},initMaterials:function(e,t){for(var n=[],r=0;r<e.length;++r)n[r]=this.createMaterial(e[r],t);return n},needsTangents:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r instanceof i.ShaderMaterial)return!0}return!1},createMaterial:function(e,t){function n(e){var t=Math.log(e)/Math.LN2;return Math.pow(2,Math.round(t))}function r(e,r,o,s,c,l,u){var h,d=t+o,f=i.Loader.Handlers.get(d);if(null!==f?h=f.load(d):(h=new i.Texture,f=a.imageLoader,f.crossOrigin=a.crossOrigin,f.load(d,function(e){if(i.Math.isPowerOfTwo(e.width)===!1||i.Math.isPowerOfTwo(e.height)===!1){var t=n(e.width),r=n(e.height),o=document.createElement("canvas");o.width=t,o.height=r;var a=o.getContext("2d");a.drawImage(e,0,0,t,r),h.image=o}else h.image=e;h.needsUpdate=!0})),h.sourceFile=o,s&&(h.repeat.set(s[0],s[1]),1!==s[0]&&(h.wrapS=i.RepeatWrapping),1!==s[1]&&(h.wrapT=i.RepeatWrapping)),c&&h.offset.set(c[0],c[1]),l){var p={repeat:i.RepeatWrapping,mirror:i.MirroredRepeatWrapping};void 0!==p[l[0]]&&(h.wrapS=p[l[0]]),void 0!==p[l[1]]&&(h.wrapT=p[l[1]])}u&&(h.anisotropy=u),e[r]=h}function o(e){return(255*e[0]<<16)+(255*e[1]<<8)+255*e[2]}var a=this,s="MeshLambertMaterial",c={color:15658734,opacity:1,map:null,lightMap:null,normalMap:null,bumpMap:null,wireframe:!1};if(e.shading){var l=e.shading.toLowerCase();"phong"===l?s="MeshPhongMaterial":"basic"===l&&(s="MeshBasicMaterial")}void 0!==e.blending&&void 0!==i[e.blending]&&(c.blending=i[e.blending]),(void 0!==e.transparent||e.opacity<1)&&(c.transparent=e.transparent),void 0!==e.depthTest&&(c.depthTest=e.depthTest),void 0!==e.depthWrite&&(c.depthWrite=e.depthWrite),void 0!==e.visible&&(c.visible=e.visible),void 0!==e.flipSided&&(c.side=i.BackSide),void 0!==e.doubleSided&&(c.side=i.DoubleSide),void 0!==e.wireframe&&(c.wireframe=e.wireframe),void 0!==e.vertexColors&&("face"===e.vertexColors?c.vertexColors=i.FaceColors:e.vertexColors&&(c.vertexColors=i.VertexColors)),e.colorDiffuse?c.color=o(e.colorDiffuse):e.DbgColor&&(c.color=e.DbgColor),e.colorSpecular&&(c.specular=o(e.colorSpecular)),e.colorAmbient&&(c.ambient=o(e.colorAmbient)),e.colorEmissive&&(c.emissive=o(e.colorEmissive)),e.transparency&&(c.opacity=e.transparency),e.specularCoef&&(c.shininess=e.specularCoef),e.mapDiffuse&&t&&r(c,"map",e.mapDiffuse,e.mapDiffuseRepeat,e.mapDiffuseOffset,e.mapDiffuseWrap,e.mapDiffuseAnisotropy),e.mapLight&&t&&r(c,"lightMap",e.mapLight,e.mapLightRepeat,e.mapLightOffset,e.mapLightWrap,e.mapLightAnisotropy),e.mapBump&&t&&r(c,"bumpMap",e.mapBump,e.mapBumpRepeat,e.mapBumpOffset,e.mapBumpWrap,e.mapBumpAnisotropy),e.mapNormal&&t&&r(c,"normalMap",e.mapNormal,e.mapNormalRepeat,e.mapNormalOffset,e.mapNormalWrap,e.mapNormalAnisotropy),e.mapSpecular&&t&&r(c,"specularMap",e.mapSpecular,e.mapSpecularRepeat,e.mapSpecularOffset,e.mapSpecularWrap,e.mapSpecularAnisotropy),e.mapAlpha&&t&&r(c,"alphaMap",e.mapAlpha,e.mapAlphaRepeat,e.mapAlphaOffset,e.mapAlphaWrap,e.mapAlphaAnisotropy),e.mapBumpScale&&(c.bumpScale=e.mapBumpScale),e.mapNormalFactor&&(c.normalScale=new i.Vector2(e.mapNormalFactor,e.mapNormalFactor));var u=new i[s](c);return void 0!==e.DbgName&&(u.name=e.DbgName),u}},i.Loader.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=0,n=this.handlers.length;t<n;t+=2){var r=this.handlers[t],i=this.handlers[t+1];if(r.test(e))return i}return null}},i.XHRLoader=function(e){this.cache=new i.Cache,this.manager=void 0!==e?e:i.DefaultLoadingManager},i.XHRLoader.prototype={constructor:i.XHRLoader,load:function(e,t,n,r){var i=this,o=i.cache.get(e);if(void 0!==o)return void(t&&t(o));var a=new XMLHttpRequest;a.open("GET",e,!0),a.addEventListener("load",function(n){i.cache.add(e,this.response),t&&t(this.response),i.manager.itemEnd(e)},!1),void 0!==n&&a.addEventListener("progress",function(e){n(e)},!1),void 0!==r&&a.addEventListener("error",function(e){r(e)},!1),void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),void 0!==this.responseType&&(a.responseType=this.responseType),a.send(null),i.manager.itemStart(e)},setResponseType:function(e){this.responseType=e},setCrossOrigin:function(e){this.crossOrigin=e}},i.ImageLoader=function(e){this.cache=new i.Cache,this.manager=void 0!==e?e:i.DefaultLoadingManager},i.ImageLoader.prototype={constructor:i.ImageLoader,load:function(e,t,n,r){var i=this,o=i.cache.get(e);if(void 0!==o)return void t(o);var a=document.createElement("img");return void 0!==t&&a.addEventListener("load",function(n){i.cache.add(e,this),t(this),i.manager.itemEnd(e)},!1),void 0!==n&&a.addEventListener("progress",function(e){n(e)},!1),void 0!==r&&a.addEventListener("error",function(e){r(e)},!1),void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),a.src=e,i.manager.itemStart(e),a},setCrossOrigin:function(e){this.crossOrigin=e}},i.JSONLoader=function(e){i.Loader.call(this,e),this.withCredentials=!1},i.JSONLoader.prototype=Object.create(i.Loader.prototype),i.JSONLoader.prototype.constructor=i.JSONLoader,i.JSONLoader.prototype.load=function(e,t,n){n=n&&"string"==typeof n?n:this.extractUrlBase(e),this.onLoadStart(),this.loadAjaxJSON(this,e,t,n)},i.JSONLoader.prototype.loadAjaxJSON=function(e,t,n,r,i){var o=new XMLHttpRequest,a=0;o.onreadystatechange=function(){if(o.readyState===o.DONE)if(200===o.status||0===o.status){if(o.responseText){var s=JSON.parse(o.responseText);if(void 0!==s.metadata&&"scene"===s.metadata.type)return void console.error('THREE.JSONLoader: "'+t+'" seems to be a Scene. Use THREE.SceneLoader instead.');var c=e.parse(s,r);n(c.geometry,c.materials)}else console.error('THREE.JSONLoader: "'+t+'" seems to be unreachable or the file is empty.');e.onLoadComplete()}else console.error("THREE.JSONLoader: Couldn't load \""+t+'" ('+o.status+")");else o.readyState===o.LOADING?i&&(0===a&&(a=o.getResponseHeader("Content-Length")),i({total:a,loaded:o.responseText.length})):o.readyState===o.HEADERS_RECEIVED&&void 0!==i&&(a=o.getResponseHeader("Content-Length"))},o.open("GET",t,!0),o.withCredentials=this.withCredentials,o.send(null)},i.JSONLoader.prototype.parse=function(e,t){function n(t){function n(e,t){return e&1<<t}var r,o,s,c,l,u,h,d,f,p,m,g,v,b,y,w,_,x,k,S,j,P,E,A,T,C,M,O=e.faces,I=e.vertices,F=e.normals,D=e.colors,L=0;if(void 0!==e.uvs){for(r=0;r<e.uvs.length;r++)e.uvs[r].length&&L++;for(r=0;r<L;r++)a.faceVertexUvs[r]=[]}for(c=0,l=I.length;c<l;)x=new i.Vector3,x.x=I[c++]*t,x.y=I[c++]*t,x.z=I[c++]*t,a.vertices.push(x);for(c=0,l=O.length;c<l;)if(p=O[c++],m=n(p,0),g=n(p,1),v=n(p,3),b=n(p,4),y=n(p,5),w=n(p,6),_=n(p,7),m){if(S=new i.Face3,S.a=O[c],S.b=O[c+1],S.c=O[c+3],j=new i.Face3,j.a=O[c+1],j.b=O[c+2],j.c=O[c+3],c+=4,g&&(f=O[c++],S.materialIndex=f,j.materialIndex=f),s=a.faces.length,v)for(r=0;r<L;r++)for(A=e.uvs[r],a.faceVertexUvs[r][s]=[],a.faceVertexUvs[r][s+1]=[],o=0;o<4;o++)d=O[c++],C=A[2*d],M=A[2*d+1],T=new i.Vector2(C,M),2!==o&&a.faceVertexUvs[r][s].push(T),0!==o&&a.faceVertexUvs[r][s+1].push(T);if(b&&(h=3*O[c++],S.normal.set(F[h++],F[h++],F[h]),j.normal.copy(S.normal)),y)for(r=0;r<4;r++)h=3*O[c++],E=new i.Vector3(F[h++],F[h++],F[h]),2!==r&&S.vertexNormals.push(E),0!==r&&j.vertexNormals.push(E);if(w&&(u=O[c++],P=D[u],S.color.setHex(P),j.color.setHex(P)),_)for(r=0;r<4;r++)u=O[c++],P=D[u],2!==r&&S.vertexColors.push(new i.Color(P)),0!==r&&j.vertexColors.push(new i.Color(P));a.faces.push(S),a.faces.push(j)}else{if(k=new i.Face3,k.a=O[c++],k.b=O[c++],k.c=O[c++],g&&(f=O[c++],k.materialIndex=f),s=a.faces.length,v)for(r=0;r<L;r++)for(A=e.uvs[r],a.faceVertexUvs[r][s]=[],o=0;o<3;o++)d=O[c++],C=A[2*d],M=A[2*d+1],T=new i.Vector2(C,M),a.faceVertexUvs[r][s].push(T);if(b&&(h=3*O[c++],k.normal.set(F[h++],F[h++],F[h])),y)for(r=0;r<3;r++)h=3*O[c++],E=new i.Vector3(F[h++],F[h++],F[h]),k.vertexNormals.push(E);if(w&&(u=O[c++],k.color.setHex(D[u])),_)for(r=0;r<3;r++)u=O[c++],k.vertexColors.push(new i.Color(D[u]));a.faces.push(k)}}function r(){var t=void 0!==e.influencesPerVertex?e.influencesPerVertex:2;if(e.skinWeights)for(var n=0,r=e.skinWeights.length;n<r;n+=t){var o=e.skinWeights[n],s=t>1?e.skinWeights[n+1]:0,c=t>2?e.skinWeights[n+2]:0,l=t>3?e.skinWeights[n+3]:0;a.skinWeights.push(new i.Vector4(o,s,c,l))}if(e.skinIndices)for(var n=0,r=e.skinIndices.length;n<r;n+=t){var u=e.skinIndices[n],h=t>1?e.skinIndices[n+1]:0,d=t>2?e.skinIndices[n+2]:0,f=t>3?e.skinIndices[n+3]:0;a.skinIndices.push(new i.Vector4(u,h,d,f))}a.bones=e.bones,a.bones&&a.bones.length>0&&(a.skinWeights.length!==a.skinIndices.length||a.skinIndices.length!==a.vertices.length)&&console.warn("When skinning, number of vertices ("+a.vertices.length+"), skinIndices ("+a.skinIndices.length+"), and skinWeights ("+a.skinWeights.length+") should match."),a.animation=e.animation,a.animations=e.animations}function o(t){if(void 0!==e.morphTargets){var n,r,o,s,c,l;for(n=0,r=e.morphTargets.length;n<r;n++)for(a.morphTargets[n]={},a.morphTargets[n].name=e.morphTargets[n].name,a.morphTargets[n].vertices=[],c=a.morphTargets[n].vertices,l=e.morphTargets[n].vertices,o=0,s=l.length;o<s;o+=3){var u=new i.Vector3;u.x=l[o]*t,u.y=l[o+1]*t,u.z=l[o+2]*t,c.push(u)}}if(void 0!==e.morphColors){var n,r,h,d,f,p,m;for(n=0,r=e.morphColors.length;n<r;n++)for(a.morphColors[n]={},a.morphColors[n].name=e.morphColors[n].name,a.morphColors[n].colors=[],f=a.morphColors[n].colors,p=e.morphColors[n].colors,h=0,d=p.length;h<d;h+=3)m=new i.Color(16755200),m.setRGB(p[h],p[h+1],p[h+2]),f.push(m)}}var a=new i.Geometry,s=void 0!==e.scale?1/e.scale:1;if(n(s),r(),o(s),a.computeFaceNormals(),a.computeBoundingSphere(),void 0===e.materials||0===e.materials.length)return{geometry:a};var c=this.initMaterials(e.materials,t);return this.needsTangents(c)&&a.computeTangents(),{geometry:a,materials:c}},i.LoadingManager=function(e,t,n){var r=this,i=0,o=0;this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){o++},this.itemEnd=function(e){i++,void 0!==r.onProgress&&r.onProgress(e,i,o),i===o&&void 0!==r.onLoad&&r.onLoad()}},i.DefaultLoadingManager=new i.LoadingManager,i.BufferGeometryLoader=function(e){this.manager=void 0!==e?e:i.DefaultLoadingManager},i.BufferGeometryLoader.prototype={constructor:i.BufferGeometryLoader,load:function(e,t,n,r){var o=this,a=new i.XHRLoader(o.manager);a.setCrossOrigin(this.crossOrigin),a.load(e,function(e){t(o.parse(JSON.parse(e)))},n,r)},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e){var t=new i.BufferGeometry,n=e.attributes;for(var o in n){var a=n[o],s=new r[a.type](a.array);t.addAttribute(o,new i.BufferAttribute(s,a.itemSize))}var c=e.offsets;void 0!==c&&(t.offsets=JSON.parse(JSON.stringify(c)));var l=e.boundingSphere;if(void 0!==l){var u=new i.Vector3;void 0!==l.center&&u.fromArray(l.center),t.boundingSphere=new i.Sphere(u,l.radius)}return t}},i.MaterialLoader=function(e){this.manager=void 0!==e?e:i.DefaultLoadingManager},i.MaterialLoader.prototype={constructor:i.MaterialLoader,load:function(e,t,n,r){var o=this,a=new i.XHRLoader(o.manager);a.setCrossOrigin(this.crossOrigin),a.load(e,function(e){t(o.parse(JSON.parse(e)))},n,r)},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e){var t=new i[e.type];if(void 0!==e.color&&t.color.setHex(e.color),void 0!==e.ambient&&t.ambient.setHex(e.ambient),void 0!==e.emissive&&t.emissive.setHex(e.emissive),void 0!==e.specular&&t.specular.setHex(e.specular),void 0!==e.shininess&&(t.shininess=e.shininess),void 0!==e.uniforms&&(t.uniforms=e.uniforms),void 0!==e.vertexShader&&(t.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(t.fragmentShader=e.fragmentShader),void 0!==e.vertexColors&&(t.vertexColors=e.vertexColors),void 0!==e.shading&&(t.shading=e.shading),void 0!==e.blending&&(t.blending=e.blending),void 0!==e.side&&(t.side=e.side),void 0!==e.opacity&&(t.opacity=e.opacity),void 0!==e.transparent&&(t.transparent=e.transparent),void 0!==e.wireframe&&(t.wireframe=e.wireframe),void 0!==e.materials)for(var n=0,r=e.materials.length;n<r;n++)t.materials.push(this.parse(e.materials[n]));return t}},i.ObjectLoader=function(e){this.manager=void 0!==e?e:i.DefaultLoadingManager},i.ObjectLoader.prototype={constructor:i.ObjectLoader,load:function(e,t,n,r){var o=this,a=new i.XHRLoader(o.manager);a.setCrossOrigin(this.crossOrigin),a.load(e,function(e){t(o.parse(JSON.parse(e)))},n,r)},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e){var t=this.parseGeometries(e.geometries),n=this.parseMaterials(e.materials),r=this.parseObject(e.object,t,n);return r},parseGeometries:function(e){var t={};if(void 0!==e)for(var n=new i.JSONLoader,r=new i.BufferGeometryLoader,o=0,a=e.length;o<a;o++){var s,c=e[o];switch(c.type){case"PlaneGeometry":s=new i.PlaneGeometry(c.width,c.height,c.widthSegments,c.heightSegments);break;case"BoxGeometry":case"CubeGeometry":s=new i.BoxGeometry(c.width,c.height,c.depth,c.widthSegments,c.heightSegments,c.depthSegments);break;case"CircleGeometry":s=new i.CircleGeometry(c.radius,c.segments);break;case"CylinderGeometry":s=new i.CylinderGeometry(c.radiusTop,c.radiusBottom,c.height,c.radialSegments,c.heightSegments,c.openEnded);break;case"SphereGeometry":s=new i.SphereGeometry(c.radius,c.widthSegments,c.heightSegments,c.phiStart,c.phiLength,c.thetaStart,c.thetaLength);break;case"IcosahedronGeometry":s=new i.IcosahedronGeometry(c.radius,c.detail);break;case"TorusGeometry":s=new i.TorusGeometry(c.radius,c.tube,c.radialSegments,c.tubularSegments,c.arc);break;case"TorusKnotGeometry":s=new i.TorusKnotGeometry(c.radius,c.tube,c.radialSegments,c.tubularSegments,c.p,c.q,c.heightScale);
break;case"BufferGeometry":s=r.parse(c.data);break;case"Geometry":s=n.parse(c.data).geometry}s.uuid=c.uuid,void 0!==c.name&&(s.name=c.name),t[c.uuid]=s}return t},parseMaterials:function(e){var t={};if(void 0!==e)for(var n=new i.MaterialLoader,r=0,o=e.length;r<o;r++){var a=e[r],s=n.parse(a);s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),t[a.uuid]=s}return t},parseObject:function(){var e=new i.Matrix4;return function(t,n,r){var o;switch(t.type){case"Scene":o=new i.Scene;break;case"PerspectiveCamera":o=new i.PerspectiveCamera(t.fov,t.aspect,t.near,t.far);break;case"OrthographicCamera":o=new i.OrthographicCamera(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case"AmbientLight":o=new i.AmbientLight(t.color);break;case"DirectionalLight":o=new i.DirectionalLight(t.color,t.intensity);break;case"PointLight":o=new i.PointLight(t.color,t.intensity,t.distance);break;case"SpotLight":o=new i.SpotLight(t.color,t.intensity,t.distance,t.angle,t.exponent);break;case"HemisphereLight":o=new i.HemisphereLight(t.color,t.groundColor,t.intensity);break;case"Mesh":var a=n[t.geometry],s=r[t.material];void 0===a&&console.warn("THREE.ObjectLoader: Undefined geometry",t.geometry),void 0===s&&console.warn("THREE.ObjectLoader: Undefined material",t.material),o=new i.Mesh(a,s);break;case"Line":var a=n[t.geometry],s=r[t.material];void 0===a&&console.warn("THREE.ObjectLoader: Undefined geometry",t.geometry),void 0===s&&console.warn("THREE.ObjectLoader: Undefined material",t.material),o=new i.Line(a,s);break;case"Sprite":var s=r[t.material];void 0===s&&console.warn("THREE.ObjectLoader: Undefined material",t.material),o=new i.Sprite(s);break;case"Group":o=new i.Group;break;default:o=new i.Object3D}if(o.uuid=t.uuid,void 0!==t.name&&(o.name=t.name),void 0!==t.matrix?(e.fromArray(t.matrix),e.decompose(o.position,o.quaternion,o.scale)):(void 0!==t.position&&o.position.fromArray(t.position),void 0!==t.rotation&&o.rotation.fromArray(t.rotation),void 0!==t.scale&&o.scale.fromArray(t.scale)),void 0!==t.visible&&(o.visible=t.visible),void 0!==t.userData&&(o.userData=t.userData),void 0!==t.children)for(var c in t.children)o.add(this.parseObject(t.children[c],n,r));return o}}()},i.TextureLoader=function(e){this.manager=void 0!==e?e:i.DefaultLoadingManager},i.TextureLoader.prototype={constructor:i.TextureLoader,load:function(e,t,n,r){var o=this,a=new i.ImageLoader(o.manager);a.setCrossOrigin(this.crossOrigin),a.load(e,function(e){var n=new i.Texture(e);n.needsUpdate=!0,void 0!==t&&t(n)},n,r)},setCrossOrigin:function(e){this.crossOrigin=e}},i.DataTextureLoader=i.BinaryTextureLoader=function(){this._parser=null},i.BinaryTextureLoader.prototype={constructor:i.BinaryTextureLoader,load:function(e,t,n,r){var o=this,a=new i.DataTexture,s=new i.XHRLoader;return s.setResponseType("arraybuffer"),s.load(e,function(e){var n=o._parser(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:i.ClampToEdgeWrapping,a.wrapT=void 0!==n.wrapT?n.wrapT:i.ClampToEdgeWrapping,a.magFilter=void 0!==n.magFilter?n.magFilter:i.LinearFilter,a.minFilter=void 0!==n.minFilter?n.minFilter:i.LinearMipMapLinearFilter,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps),1===n.mipmapCount&&(a.minFilter=i.LinearFilter),a.needsUpdate=!0,t&&t(a,n))},n,r),a}},i.CompressedTextureLoader=function(){this._parser=null},i.CompressedTextureLoader.prototype={constructor:i.CompressedTextureLoader,load:function(e,t,n){var r=this,o=[],a=new i.CompressedTexture;a.image=o;var s=new i.XHRLoader;if(s.setResponseType("arraybuffer"),e instanceof Array)for(var c=0,l=function(n){s.load(e[n],function(e){var s=r._parser(e,!0);o[n]={width:s.width,height:s.height,format:s.format,mipmaps:s.mipmaps},c+=1,6===c&&(1==s.mipmapCount&&(a.minFilter=i.LinearFilter),a.format=s.format,a.needsUpdate=!0,t&&t(a))})},u=0,h=e.length;u<h;++u)l(u);else s.load(e,function(e){var n=r._parser(e,!0);if(n.isCubemap)for(var s=n.mipmaps.length/n.mipmapCount,c=0;c<s;c++){o[c]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)o[c].mipmaps.push(n.mipmaps[c*n.mipmapCount+l]),o[c].format=n.format,o[c].width=n.width,o[c].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=i.LinearFilter),a.format=n.format,a.needsUpdate=!0,t&&t(a)});return a}},i.Material=function(){Object.defineProperty(this,"id",{value:i.MaterialIdCount++}),this.uuid=i.Math.generateUUID(),this.name="",this.type="Material",this.side=i.FrontSide,this.opacity=1,this.transparent=!1,this.blending=i.NormalBlending,this.blendSrc=i.SrcAlphaFactor,this.blendDst=i.OneMinusSrcAlphaFactor,this.blendEquation=i.AddEquation,this.depthTest=!0,this.depthWrite=!0,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.overdraw=0,this.visible=!0,this.needsUpdate=!0},i.Material.prototype={constructor:i.Material,setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n){if(t in this){var r=this[t];r instanceof i.Color?r.set(n):r instanceof i.Vector3&&n instanceof i.Vector3?r.copy(n):"overdraw"==t?this[t]=Number(n):this[t]=n}}else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(){var e={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type};return""!==this.name&&(e.name=this.name),this instanceof i.MeshBasicMaterial?(e.color=this.color.getHex(),this.vertexColors!==i.NoColors&&(e.vertexColors=this.vertexColors),this.blending!==i.NormalBlending&&(e.blending=this.blending),this.side!==i.FrontSide&&(e.side=this.side)):this instanceof i.MeshLambertMaterial?(e.color=this.color.getHex(),e.ambient=this.ambient.getHex(),e.emissive=this.emissive.getHex(),this.vertexColors!==i.NoColors&&(e.vertexColors=this.vertexColors),this.blending!==i.NormalBlending&&(e.blending=this.blending),this.side!==i.FrontSide&&(e.side=this.side)):this instanceof i.MeshPhongMaterial?(e.color=this.color.getHex(),e.ambient=this.ambient.getHex(),e.emissive=this.emissive.getHex(),e.specular=this.specular.getHex(),e.shininess=this.shininess,this.vertexColors!==i.NoColors&&(e.vertexColors=this.vertexColors),this.blending!==i.NormalBlending&&(e.blending=this.blending),this.side!==i.FrontSide&&(e.side=this.side)):this instanceof i.MeshNormalMaterial?(this.shading!==i.FlatShading&&(e.shading=this.shading),this.blending!==i.NormalBlending&&(e.blending=this.blending),this.side!==i.FrontSide&&(e.side=this.side)):this instanceof i.MeshDepthMaterial?(this.blending!==i.NormalBlending&&(e.blending=this.blending),this.side!==i.FrontSide&&(e.side=this.side)):this instanceof i.ShaderMaterial?(e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader):this instanceof i.SpriteMaterial&&(e.color=this.color.getHex()),this.opacity<1&&(e.opacity=this.opacity),this.transparent!==!1&&(e.transparent=this.transparent),this.wireframe!==!1&&(e.wireframe=this.wireframe),e},clone:function(e){return void 0===e&&(e=new i.Material),e.name=this.name,e.side=this.side,e.opacity=this.opacity,e.transparent=this.transparent,e.blending=this.blending,e.blendSrc=this.blendSrc,e.blendDst=this.blendDst,e.blendEquation=this.blendEquation,e.depthTest=this.depthTest,e.depthWrite=this.depthWrite,e.polygonOffset=this.polygonOffset,e.polygonOffsetFactor=this.polygonOffsetFactor,e.polygonOffsetUnits=this.polygonOffsetUnits,e.alphaTest=this.alphaTest,e.overdraw=this.overdraw,e.visible=this.visible,e},dispose:function(){this.dispatchEvent({type:"dispose"})}},i.EventDispatcher.prototype.apply(i.Material.prototype),i.MaterialIdCount=0,i.LineBasicMaterial=function(e){i.Material.call(this),this.type="LineBasicMaterial",this.color=new i.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=i.NoColors,this.fog=!0,this.setValues(e)},i.LineBasicMaterial.prototype=Object.create(i.Material.prototype),i.LineBasicMaterial.prototype.constructor=i.LineBasicMaterial,i.LineBasicMaterial.prototype.clone=function(){var e=new i.LineBasicMaterial;return i.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.linewidth=this.linewidth,e.linecap=this.linecap,e.linejoin=this.linejoin,e.vertexColors=this.vertexColors,e.fog=this.fog,e},i.LineDashedMaterial=function(e){i.Material.call(this),this.type="LineDashedMaterial",this.color=new i.Color(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.vertexColors=!1,this.fog=!0,this.setValues(e)},i.LineDashedMaterial.prototype=Object.create(i.Material.prototype),i.LineDashedMaterial.prototype.constructor=i.LineDashedMaterial,i.LineDashedMaterial.prototype.clone=function(){var e=new i.LineDashedMaterial;return i.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.linewidth=this.linewidth,e.scale=this.scale,e.dashSize=this.dashSize,e.gapSize=this.gapSize,e.vertexColors=this.vertexColors,e.fog=this.fog,e},i.MeshBasicMaterial=function(e){i.Material.call(this),this.type="MeshBasicMaterial",this.color=new i.Color(16777215),this.map=null,this.lightMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=i.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=i.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=i.NoColors,this.skinning=!1,this.morphTargets=!1,this.setValues(e)},i.MeshBasicMaterial.prototype=Object.create(i.Material.prototype),i.MeshBasicMaterial.prototype.constructor=i.MeshBasicMaterial,i.MeshBasicMaterial.prototype.clone=function(){var e=new i.MeshBasicMaterial;return i.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.alphaMap=this.alphaMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.wireframeLinecap=this.wireframeLinecap,e.wireframeLinejoin=this.wireframeLinejoin,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e},i.MeshLambertMaterial=function(e){i.Material.call(this),this.type="MeshLambertMaterial",this.color=new i.Color(16777215),this.ambient=new i.Color(16777215),this.emissive=new i.Color(0),this.wrapAround=!1,this.wrapRGB=new i.Vector3(1,1,1),this.map=null,this.lightMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=i.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=i.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=i.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},i.MeshLambertMaterial.prototype=Object.create(i.Material.prototype),i.MeshLambertMaterial.prototype.constructor=i.MeshLambertMaterial,i.MeshLambertMaterial.prototype.clone=function(){var e=new i.MeshLambertMaterial;return i.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.ambient.copy(this.ambient),e.emissive.copy(this.emissive),e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.alphaMap=this.alphaMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.wireframeLinecap=this.wireframeLinecap,e.wireframeLinejoin=this.wireframeLinejoin,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},i.MeshPhongMaterial=function(e){i.Material.call(this),this.type="MeshPhongMaterial",this.color=new i.Color(16777215),this.ambient=new i.Color(16777215),this.emissive=new i.Color(0),this.specular=new i.Color(1118481),this.shininess=30,this.metal=!1,this.wrapAround=!1,this.wrapRGB=new i.Vector3(1,1,1),this.map=null,this.lightMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i.Vector2(1,1),this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=i.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=i.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=i.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},i.MeshPhongMaterial.prototype=Object.create(i.Material.prototype),i.MeshPhongMaterial.prototype.constructor=i.MeshPhongMaterial,i.MeshPhongMaterial.prototype.clone=function(){var e=new i.MeshPhongMaterial;return i.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.ambient.copy(this.ambient),e.emissive.copy(this.emissive),e.specular.copy(this.specular),e.shininess=this.shininess,e.metal=this.metal,e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.bumpMap=this.bumpMap,e.bumpScale=this.bumpScale,e.normalMap=this.normalMap,e.normalScale.copy(this.normalScale),e.specularMap=this.specularMap,e.alphaMap=this.alphaMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.wireframeLinecap=this.wireframeLinecap,e.wireframeLinejoin=this.wireframeLinejoin,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},i.MeshDepthMaterial=function(e){i.Material.call(this),this.type="MeshDepthMaterial",this.morphTargets=!1,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)},i.MeshDepthMaterial.prototype=Object.create(i.Material.prototype),i.MeshDepthMaterial.prototype.constructor=i.MeshDepthMaterial,i.MeshDepthMaterial.prototype.clone=function(){var e=new i.MeshDepthMaterial;return i.Material.prototype.clone.call(this,e),e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e},i.MeshNormalMaterial=function(e){i.Material.call(this,e),this.type="MeshNormalMaterial",this.shading=i.FlatShading,this.wireframe=!1,this.wireframeLinewidth=1,this.morphTargets=!1,this.setValues(e)},i.MeshNormalMaterial.prototype=Object.create(i.Material.prototype),i.MeshNormalMaterial.prototype.constructor=i.MeshNormalMaterial,i.MeshNormalMaterial.prototype.clone=function(){var e=new i.MeshNormalMaterial;return i.Material.prototype.clone.call(this,e),e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e},i.MeshFaceMaterial=function(e){this.uuid=i.Math.generateUUID(),this.type="MeshFaceMaterial",this.materials=e instanceof Array?e:[]},i.MeshFaceMaterial.prototype={constructor:i.MeshFaceMaterial,toJSON:function(){for(var e={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},t=0,n=this.materials.length;t<n;t++)e.materials.push(this.materials[t].toJSON());return e},clone:function(){for(var e=new i.MeshFaceMaterial,t=0;t<this.materials.length;t++)e.materials.push(this.materials[t].clone());return e}},i.PointCloudMaterial=function(e){i.Material.call(this),this.type="PointCloudMaterial",this.color=new i.Color(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.vertexColors=i.NoColors,this.fog=!0,this.setValues(e)},i.PointCloudMaterial.prototype=Object.create(i.Material.prototype),i.PointCloudMaterial.prototype.constructor=i.PointCloudMaterial,i.PointCloudMaterial.prototype.clone=function(){var e=new i.PointCloudMaterial;return i.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.size=this.size,e.sizeAttenuation=this.sizeAttenuation,e.vertexColors=this.vertexColors,e.fog=this.fog,e},i.ParticleBasicMaterial=function(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointCloudMaterial."),new i.PointCloudMaterial(e)},i.ParticleSystemMaterial=function(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointCloudMaterial."),new i.PointCloudMaterial(e)},i.ShaderMaterial=function(e){i.Material.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.attributes=null,this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.shading=i.SmoothShading,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.vertexColors=i.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.setValues(e)},i.ShaderMaterial.prototype=Object.create(i.Material.prototype),i.ShaderMaterial.prototype.constructor=i.ShaderMaterial,i.ShaderMaterial.prototype.clone=function(){var e=new i.ShaderMaterial;return i.Material.prototype.clone.call(this,e),e.fragmentShader=this.fragmentShader,e.vertexShader=this.vertexShader,e.uniforms=i.UniformsUtils.clone(this.uniforms),e.attributes=this.attributes,e.defines=this.defines,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.fog=this.fog,e.lights=this.lights,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},i.RawShaderMaterial=function(e){i.ShaderMaterial.call(this,e),this.type="RawShaderMaterial"},i.RawShaderMaterial.prototype=Object.create(i.ShaderMaterial.prototype),i.RawShaderMaterial.prototype.constructor=i.RawShaderMaterial,i.RawShaderMaterial.prototype.clone=function(){var e=new i.RawShaderMaterial;return i.ShaderMaterial.prototype.clone.call(this,e),e},i.SpriteMaterial=function(e){i.Material.call(this),this.type="SpriteMaterial",this.color=new i.Color(16777215),this.map=null,this.rotation=0,this.fog=!1,this.setValues(e)},i.SpriteMaterial.prototype=Object.create(i.Material.prototype),i.SpriteMaterial.prototype.constructor=i.SpriteMaterial,i.SpriteMaterial.prototype.clone=function(){var e=new i.SpriteMaterial;return i.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.rotation=this.rotation,e.fog=this.fog,e},i.Texture=function(e,t,n,r,o,a,s,c,l){Object.defineProperty(this,"id",{value:i.TextureIdCount++}),this.uuid=i.Math.generateUUID(),this.name="",this.image=void 0!==e?e:i.Texture.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:i.Texture.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:i.ClampToEdgeWrapping,this.wrapT=void 0!==r?r:i.ClampToEdgeWrapping,this.magFilter=void 0!==o?o:i.LinearFilter,this.minFilter=void 0!==a?a:i.LinearMipMapLinearFilter,this.anisotropy=void 0!==l?l:1,this.format=void 0!==s?s:i.RGBAFormat,this.type=void 0!==c?c:i.UnsignedByteType,this.offset=new i.Vector2(0,0),this.repeat=new i.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this._needsUpdate=!1,this.onUpdate=null},i.Texture.DEFAULT_IMAGE=void 0,i.Texture.DEFAULT_MAPPING=i.UVMapping,i.Texture.prototype={constructor:i.Texture,get needsUpdate(){return this._needsUpdate},set needsUpdate(e){e===!0&&this.update(),this._needsUpdate=e},clone:function(e){return void 0===e&&(e=new i.Texture),e.image=this.image,e.mipmaps=this.mipmaps.slice(0),e.mapping=this.mapping,e.wrapS=this.wrapS,e.wrapT=this.wrapT,e.magFilter=this.magFilter,e.minFilter=this.minFilter,e.anisotropy=this.anisotropy,e.format=this.format,e.type=this.type,e.offset.copy(this.offset),e.repeat.copy(this.repeat),e.generateMipmaps=this.generateMipmaps,e.premultiplyAlpha=this.premultiplyAlpha,e.flipY=this.flipY,e.unpackAlignment=this.unpackAlignment,e},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},i.EventDispatcher.prototype.apply(i.Texture.prototype),i.TextureIdCount=0,i.CubeTexture=function(e,t,n,r,o,a,s,c,l){t=void 0!==t?t:i.CubeReflectionMapping,i.Texture.call(this,e,t,n,r,o,a,s,c,l),this.images=e},i.CubeTexture.prototype=Object.create(i.Texture.prototype),i.CubeTexture.prototype.constructor=i.CubeTexture,i.CubeTexture.clone=function(e){return void 0===e&&(e=new i.CubeTexture),i.Texture.prototype.clone.call(this,e),e.images=this.images,e},i.CompressedTexture=function(e,t,n,r,o,a,s,c,l,u,h){i.Texture.call(this,null,a,s,c,l,u,r,o,h),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1},i.CompressedTexture.prototype=Object.create(i.Texture.prototype),i.CompressedTexture.prototype.constructor=i.CompressedTexture,i.CompressedTexture.prototype.clone=function(){var e=new i.CompressedTexture;return i.Texture.prototype.clone.call(this,e),e},i.DataTexture=function(e,t,n,r,o,a,s,c,l,u,h){i.Texture.call(this,null,a,s,c,l,u,r,o,h),this.image={data:e,width:t,height:n}},i.DataTexture.prototype=Object.create(i.Texture.prototype),i.DataTexture.prototype.constructor=i.DataTexture,i.DataTexture.prototype.clone=function(){var e=new i.DataTexture;return i.Texture.prototype.clone.call(this,e),e},i.VideoTexture=function(e,t,n,r,o,a,s,c,l){i.Texture.call(this,e,t,n,r,o,a,s,c,l),this.generateMipmaps=!1;var u=this,h=function(){requestAnimationFrame(h),e.readyState===e.HAVE_ENOUGH_DATA&&(u.needsUpdate=!0)};h()},i.VideoTexture.prototype=Object.create(i.Texture.prototype),i.VideoTexture.prototype.constructor=i.VideoTexture,i.Group=function(){i.Object3D.call(this),this.type="Group"},i.Group.prototype=Object.create(i.Object3D.prototype),i.Group.prototype.constructor=i.Group,i.PointCloud=function(e,t){i.Object3D.call(this),this.type="PointCloud",this.geometry=void 0!==e?e:new i.Geometry,this.material=void 0!==t?t:new i.PointCloudMaterial({color:16777215*Math.random()})},i.PointCloud.prototype=Object.create(i.Object3D.prototype),i.PointCloud.prototype.constructor=i.PointCloud,i.PointCloud.prototype.raycast=function(){var e=new i.Matrix4,t=new i.Ray;return function(n,r){var o=this,a=o.geometry,s=n.params.PointCloud.threshold;if(e.getInverse(this.matrixWorld),t.copy(n.ray).applyMatrix4(e),null===a.boundingBox||t.isIntersectionBox(a.boundingBox)!==!1){var c=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=new i.Vector3,u=function(e,i){var a=t.distanceToPoint(e);if(a<c){var s=t.closestPointToPoint(e);s.applyMatrix4(o.matrixWorld);var l=n.ray.origin.distanceTo(s);r.push({distance:l,distanceToRay:a,point:s.clone(),index:i,face:null,object:o})}};if(a instanceof i.BufferGeometry){var h=a.attributes,d=h.position.array;if(void 0!==h.index){var f=h.index.array,p=a.offsets;if(0===p.length){var m={start:0,count:f.length,index:0};p=[m]}for(var g=0,v=p.length;g<v;++g)for(var b=p[g].start,y=p[g].count,w=p[g].index,_=b,x=b+y;_<x;_++){var k=w+f[_];l.fromArray(d,3*k),u(l,k)}}else for(var S=d.length/3,_=0;_<S;_++)l.set(d[3*_],d[3*_+1],d[3*_+2]),u(l,_)}else for(var j=this.geometry.vertices,_=0;_<j.length;_++)u(j[_],_)}}}(),i.PointCloud.prototype.clone=function(e){return void 0===e&&(e=new i.PointCloud(this.geometry,this.material)),i.Object3D.prototype.clone.call(this,e),e},i.ParticleSystem=function(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.PointCloud."),new i.PointCloud(e,t)},i.Line=function(e,t,n){i.Object3D.call(this),this.type="Line",this.geometry=void 0!==e?e:new i.Geometry,this.material=void 0!==t?t:new i.LineBasicMaterial({color:16777215*Math.random()}),this.mode=void 0!==n?n:i.LineStrip},i.LineStrip=0,i.LinePieces=1,i.Line.prototype=Object.create(i.Object3D.prototype),i.Line.prototype.constructor=i.Line,i.Line.prototype.raycast=function(){var e=new i.Matrix4,t=new i.Ray,n=new i.Sphere;return function(r,o){var a=r.linePrecision,s=a*a,c=this.geometry;if(null===c.boundingSphere&&c.computeBoundingSphere(),n.copy(c.boundingSphere),n.applyMatrix4(this.matrixWorld),r.ray.isIntersectionSphere(n)!==!1){e.getInverse(this.matrixWorld),t.copy(r.ray).applyMatrix4(e);var l=new i.Vector3,u=new i.Vector3,h=new i.Vector3,d=new i.Vector3,f=this.mode===i.LineStrip?1:2;if(c instanceof i.BufferGeometry){var p=c.attributes;if(void 0!==p.index){var m=p.index.array,g=p.position.array,v=c.offsets;0===v.length&&(v=[{start:0,count:m.length,index:0}]);for(var b=0;b<v.length;b++)for(var y=v[b].start,w=v[b].count,_=v[b].index,x=y;x<y+w-1;x+=f){var k=_+m[x],S=_+m[x+1];l.fromArray(g,3*k),u.fromArray(g,3*S);var j=t.distanceSqToSegment(l,u,d,h);if(!(j>s)){var P=t.origin.distanceTo(d);P<r.near||P>r.far||o.push({distance:P,point:h.clone().applyMatrix4(this.matrixWorld),face:null,faceIndex:null,object:this})}}}else for(var g=p.position.array,x=0;x<g.length/3-1;x+=f){l.fromArray(g,3*x),u.fromArray(g,3*x+3);var j=t.distanceSqToSegment(l,u,d,h);if(!(j>s)){var P=t.origin.distanceTo(d);P<r.near||P>r.far||o.push({distance:P,point:h.clone().applyMatrix4(this.matrixWorld),face:null,faceIndex:null,object:this})}}}else if(c instanceof i.Geometry)for(var E=c.vertices,A=E.length,x=0;x<A-1;x+=f){var j=t.distanceSqToSegment(E[x],E[x+1],d,h);if(!(j>s)){var P=t.origin.distanceTo(d);P<r.near||P>r.far||o.push({distance:P,point:h.clone().applyMatrix4(this.matrixWorld),face:null,faceIndex:null,object:this})}}}}}(),i.Line.prototype.clone=function(e){return void 0===e&&(e=new i.Line(this.geometry,this.material,this.mode)),i.Object3D.prototype.clone.call(this,e),e},i.Mesh=function(e,t){i.Object3D.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new i.Geometry,this.material=void 0!==t?t:new i.MeshBasicMaterial({color:16777215*Math.random()}),this.updateMorphTargets()},i.Mesh.prototype=Object.create(i.Object3D.prototype),i.Mesh.prototype.constructor=i.Mesh,i.Mesh.prototype.updateMorphTargets=function(){if(void 0!==this.geometry.morphTargets&&this.geometry.morphTargets.length>0){this.morphTargetBase=-1,this.morphTargetForcedOrder=[],this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,t=this.geometry.morphTargets.length;e<t;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[e].name]=e}},i.Mesh.prototype.getMorphTargetIndexByName=function(e){return void 0!==this.morphTargetDictionary[e]?this.morphTargetDictionary[e]:(console.log("THREE.Mesh.getMorphTargetIndexByName: morph target "+e+" does not exist. Returning 0."),0)},i.Mesh.prototype.raycast=function(){var e=new i.Matrix4,t=new i.Ray,n=new i.Sphere,r=new i.Vector3,o=new i.Vector3,a=new i.Vector3;return function(s,c){var l=this.geometry;if(null===l.boundingSphere&&l.computeBoundingSphere(),n.copy(l.boundingSphere),n.applyMatrix4(this.matrixWorld),s.ray.isIntersectionSphere(n)!==!1&&(e.getInverse(this.matrixWorld),t.copy(s.ray).applyMatrix4(e),null===l.boundingBox||t.isIntersectionBox(l.boundingBox)!==!1))if(l instanceof i.BufferGeometry){var u=this.material;if(void 0===u)return;var h,d,f,p=l.attributes,m=s.precision;if(void 0!==p.index){var g=p.index.array,v=p.position.array,b=l.offsets;0===b.length&&(b=[{start:0,count:g.length,index:0}]);for(var y=0,w=b.length;y<w;++y)for(var _=b[y].start,x=b[y].count,k=b[y].index,S=_,j=_+x;S<j;S+=3){if(h=k+g[S],d=k+g[S+1],f=k+g[S+2],r.fromArray(v,3*h),o.fromArray(v,3*d),a.fromArray(v,3*f),u.side===i.BackSide)var P=t.intersectTriangle(a,o,r,!0);else var P=t.intersectTriangle(r,o,a,u.side!==i.DoubleSide);if(null!==P){P.applyMatrix4(this.matrixWorld);var E=s.ray.origin.distanceTo(P);E<m||E<s.near||E>s.far||c.push({distance:E,point:P,face:new i.Face3(h,d,f,i.Triangle.normal(r,o,a)),faceIndex:null,object:this})}}}else for(var v=p.position.array,S=0,A=0,j=v.length;S<j;S+=3,A+=9){if(h=S,d=S+1,f=S+2,r.fromArray(v,A),o.fromArray(v,A+3),a.fromArray(v,A+6),u.side===i.BackSide)var P=t.intersectTriangle(a,o,r,!0);else var P=t.intersectTriangle(r,o,a,u.side!==i.DoubleSide);if(null!==P){P.applyMatrix4(this.matrixWorld);var E=s.ray.origin.distanceTo(P);E<m||E<s.near||E>s.far||c.push({distance:E,point:P,face:new i.Face3(h,d,f,i.Triangle.normal(r,o,a)),faceIndex:null,object:this})}}}else if(l instanceof i.Geometry)for(var h,d,f,T=this.material instanceof i.MeshFaceMaterial,C=T===!0?this.material.materials:null,m=s.precision,M=l.vertices,O=0,I=l.faces.length;O<I;O++){var F=l.faces[O],u=T===!0?C[F.materialIndex]:this.material;if(void 0!==u){if(h=M[F.a],d=M[F.b],f=M[F.c],u.morphTargets===!0){var D=l.morphTargets,L=this.morphTargetInfluences;r.set(0,0,0),o.set(0,0,0),a.set(0,0,0);for(var R=0,N=D.length;R<N;R++){var U=L[R];if(0!==U){var $=D[R].vertices;r.x+=($[F.a].x-h.x)*U,r.y+=($[F.a].y-h.y)*U,r.z+=($[F.a].z-h.z)*U,o.x+=($[F.b].x-d.x)*U,o.y+=($[F.b].y-d.y)*U,o.z+=($[F.b].z-d.z)*U,a.x+=($[F.c].x-f.x)*U,a.y+=($[F.c].y-f.y)*U,a.z+=($[F.c].z-f.z)*U}}r.add(h),o.add(d),a.add(f),h=r,d=o,f=a}if(u.side===i.BackSide)var P=t.intersectTriangle(f,d,h,!0);else var P=t.intersectTriangle(h,d,f,u.side!==i.DoubleSide);if(null!==P){P.applyMatrix4(this.matrixWorld);var E=s.ray.origin.distanceTo(P);E<m||E<s.near||E>s.far||c.push({distance:E,point:P,face:F,faceIndex:O,object:this})}}}}}(),i.Mesh.prototype.clone=function(e,t){return void 0===e&&(e=new i.Mesh(this.geometry,this.material)),i.Object3D.prototype.clone.call(this,e,t),e},i.Bone=function(e){i.Object3D.call(this),this.skin=e},i.Bone.prototype=Object.create(i.Object3D.prototype),i.Bone.prototype.constructor=i.Bone,i.Skeleton=function(e,t,n){if(this.useVertexTexture=void 0===n||n,this.identityMatrix=new i.Matrix4,e=e||[],this.bones=e.slice(0),this.useVertexTexture){var r;r=this.bones.length>256?64:this.bones.length>64?32:this.bones.length>16?16:8,this.boneTextureWidth=r,this.boneTextureHeight=r,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new i.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,i.RGBAFormat,i.FloatType),this.boneTexture.minFilter=i.NearestFilter,this.boneTexture.magFilter=i.NearestFilter,this.boneTexture.generateMipmaps=!1,this.boneTexture.flipY=!1}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[];for(var o=0,a=this.bones.length;o<a;o++)this.boneInverses.push(new i.Matrix4)}},i.Skeleton.prototype.calculateInverses=function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new i.Matrix4;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},i.Skeleton.prototype.pose=function(){for(var e,t=0,n=this.bones.length;t<n;t++)e=this.bones[t],e&&e.matrixWorld.getInverse(this.boneInverses[t]);for(var t=0,n=this.bones.length;t<n;t++)e=this.bones[t],e&&(e.parent?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},i.Skeleton.prototype.update=function(){var e=new i.Matrix4;return function(){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t]?this.bones[t].matrixWorld:this.identityMatrix;e.multiplyMatrices(r,this.boneInverses[t]),e.flattenToArrayOffset(this.boneMatrices,16*t)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),i.SkinnedMesh=function(e,t,n){i.Mesh.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new i.Matrix4,this.bindMatrixInverse=new i.Matrix4;var r=[];if(this.geometry&&void 0!==this.geometry.bones){for(var o,a,s,c,l,u=0,h=this.geometry.bones.length;u<h;++u)a=this.geometry.bones[u],s=a.pos,c=a.rotq,l=a.scl,o=new i.Bone(this),r.push(o),o.name=a.name,o.position.set(s[0],s[1],s[2]),o.quaternion.set(c[0],c[1],c[2],c[3]),void 0!==l?o.scale.set(l[0],l[1],l[2]):o.scale.set(1,1,1);for(var u=0,h=this.geometry.bones.length;u<h;++u)a=this.geometry.bones[u],a.parent!==-1?r[a.parent].add(r[u]):this.add(r[u]);
}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new i.Skeleton(r,(void 0),n))},i.SkinnedMesh.prototype=Object.create(i.Mesh.prototype),i.SkinnedMesh.prototype.constructor=i.SkinnedMesh,i.SkinnedMesh.prototype.bind=function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},i.SkinnedMesh.prototype.pose=function(){this.skeleton.pose()},i.SkinnedMesh.prototype.normalizeSkinWeights=function(){if(this.geometry instanceof i.Geometry)for(var e=0;e<this.geometry.skinIndices.length;e++){var t=this.geometry.skinWeights[e],n=1/t.lengthManhattan();n!==1/0?t.multiplyScalar(n):t.set(1)}},i.SkinnedMesh.prototype.updateMatrixWorld=function(e){i.Mesh.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unreckognized bindMode: "+this.bindMode)},i.SkinnedMesh.prototype.clone=function(e){return void 0===e&&(e=new i.SkinnedMesh(this.geometry,this.material,this.useVertexTexture)),i.Mesh.prototype.clone.call(this,e),e},i.MorphAnimMesh=function(e,t){i.Mesh.call(this,e,t),this.type="MorphAnimMesh",this.duration=1e3,this.mirroredLoop=!1,this.time=0,this.lastKeyframe=0,this.currentKeyframe=0,this.direction=1,this.directionBackwards=!1,this.setFrameRange(0,this.geometry.morphTargets.length-1)},i.MorphAnimMesh.prototype=Object.create(i.Mesh.prototype),i.MorphAnimMesh.prototype.constructor=i.MorphAnimMesh,i.MorphAnimMesh.prototype.setFrameRange=function(e,t){this.startKeyframe=e,this.endKeyframe=t,this.length=this.endKeyframe-this.startKeyframe+1},i.MorphAnimMesh.prototype.setDirectionForward=function(){this.direction=1,this.directionBackwards=!1},i.MorphAnimMesh.prototype.setDirectionBackward=function(){this.direction=-1,this.directionBackwards=!0},i.MorphAnimMesh.prototype.parseAnimations=function(){var e=this.geometry;e.animations||(e.animations={});for(var t,n=e.animations,r=/([a-z]+)_?(\d+)/,i=0,o=e.morphTargets.length;i<o;i++){var a=e.morphTargets[i],s=a.name.match(r);if(s&&s.length>1){var c=s[1];s[2];n[c]||(n[c]={start:1/0,end:-(1/0)});var l=n[c];i<l.start&&(l.start=i),i>l.end&&(l.end=i),t||(t=c)}}e.firstAnimation=t},i.MorphAnimMesh.prototype.setAnimationLabel=function(e,t,n){this.geometry.animations||(this.geometry.animations={}),this.geometry.animations[e]={start:t,end:n}},i.MorphAnimMesh.prototype.playAnimation=function(e,t){var n=this.geometry.animations[e];n?(this.setFrameRange(n.start,n.end),this.duration=1e3*((n.end-n.start)/t),this.time=0):console.warn("animation["+e+"] undefined")},i.MorphAnimMesh.prototype.updateAnimation=function(e){var t=this.duration/this.length;this.time+=this.direction*e,this.mirroredLoop?(this.time>this.duration||this.time<0)&&(this.direction*=-1,this.time>this.duration&&(this.time=this.duration,this.directionBackwards=!0),this.time<0&&(this.time=0,this.directionBackwards=!1)):(this.time=this.time%this.duration,this.time<0&&(this.time+=this.duration));var n=this.startKeyframe+i.Math.clamp(Math.floor(this.time/t),0,this.length-1);n!==this.currentKeyframe&&(this.morphTargetInfluences[this.lastKeyframe]=0,this.morphTargetInfluences[this.currentKeyframe]=1,this.morphTargetInfluences[n]=0,this.lastKeyframe=this.currentKeyframe,this.currentKeyframe=n);var r=this.time%t/t;this.directionBackwards&&(r=1-r),this.morphTargetInfluences[this.currentKeyframe]=r,this.morphTargetInfluences[this.lastKeyframe]=1-r},i.MorphAnimMesh.prototype.interpolateTargets=function(e,t,n){for(var r=this.morphTargetInfluences,i=0,o=r.length;i<o;i++)r[i]=0;e>-1&&(r[e]=1-n),t>-1&&(r[t]=n)},i.MorphAnimMesh.prototype.clone=function(e){return void 0===e&&(e=new i.MorphAnimMesh(this.geometry,this.material)),e.duration=this.duration,e.mirroredLoop=this.mirroredLoop,e.time=this.time,e.lastKeyframe=this.lastKeyframe,e.currentKeyframe=this.currentKeyframe,e.direction=this.direction,e.directionBackwards=this.directionBackwards,i.Mesh.prototype.clone.call(this,e),e},i.LOD=function(){i.Object3D.call(this),this.objects=[]},i.LOD.prototype=Object.create(i.Object3D.prototype),i.LOD.prototype.constructor=i.LOD,i.LOD.prototype.addLevel=function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=0;n<this.objects.length&&!(t<this.objects[n].distance);n++);this.objects.splice(n,0,{distance:t,object:e}),this.add(e)},i.LOD.prototype.getObjectForDistance=function(e){for(var t=1,n=this.objects.length;t<n&&!(e<this.objects[t].distance);t++);return this.objects[t-1].object},i.LOD.prototype.raycast=function(){var e=new i.Vector3;return function(t,n){e.setFromMatrixPosition(this.matrixWorld);var r=t.ray.origin.distanceTo(e);this.getObjectForDistance(r).raycast(t,n)}}(),i.LOD.prototype.update=function(){var e=new i.Vector3,t=new i.Vector3;return function(n){if(this.objects.length>1){e.setFromMatrixPosition(n.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var r=e.distanceTo(t);this.objects[0].object.visible=!0;for(var i=1,o=this.objects.length;i<o&&r>=this.objects[i].distance;i++)this.objects[i-1].object.visible=!1,this.objects[i].object.visible=!0;for(;i<o;i++)this.objects[i].object.visible=!1}}}(),i.LOD.prototype.clone=function(e){void 0===e&&(e=new i.LOD),i.Object3D.prototype.clone.call(this,e);for(var t=0,n=this.objects.length;t<n;t++){var r=this.objects[t].object.clone();r.visible=0===t,e.addLevel(r,this.objects[t].distance)}return e},i.Sprite=function(){var e=new Uint16Array([0,1,2,0,2,3]),t=new Float32Array([-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0]),n=new Float32Array([0,0,1,0,1,1,0,1]),r=new i.BufferGeometry;return r.addAttribute("index",new i.BufferAttribute(e,1)),r.addAttribute("position",new i.BufferAttribute(t,3)),r.addAttribute("uv",new i.BufferAttribute(n,2)),function(e){i.Object3D.call(this),this.type="Sprite",this.geometry=r,this.material=void 0!==e?e:new i.SpriteMaterial}}(),i.Sprite.prototype=Object.create(i.Object3D.prototype),i.Sprite.prototype.constructor=i.Sprite,i.Sprite.prototype.raycast=function(){var e=new i.Vector3;return function(t,n){e.setFromMatrixPosition(this.matrixWorld);var r=t.ray.distanceToPoint(e);r>this.scale.x||n.push({distance:r,point:this.position,face:null,object:this})}}(),i.Sprite.prototype.clone=function(e){return void 0===e&&(e=new i.Sprite(this.material)),i.Object3D.prototype.clone.call(this,e),e},i.Particle=i.Sprite,i.LensFlare=function(e,t,n,r,o){i.Object3D.call(this),this.lensFlares=[],this.positionScreen=new i.Vector3,this.customUpdateCallback=void 0,void 0!==e&&this.add(e,t,n,r,o)},i.LensFlare.prototype=Object.create(i.Object3D.prototype),i.LensFlare.prototype.constructor=i.LensFlare,i.LensFlare.prototype.add=function(e,t,n,r,o,a){void 0===t&&(t=-1),void 0===n&&(n=0),void 0===a&&(a=1),void 0===o&&(o=new i.Color(16777215)),void 0===r&&(r=i.NormalBlending),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:e,size:t,distance:n,x:0,y:0,z:0,scale:1,rotation:1,opacity:a,color:o,blending:r})},i.LensFlare.prototype.updateLensFlares=function(){var e,t,n=this.lensFlares.length,r=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(e=0;e<n;e++)t=this.lensFlares[e],t.x=this.positionScreen.x+r*t.distance,t.y=this.positionScreen.y+i*t.distance,t.wantedRotation=t.x*Math.PI*.25,t.rotation+=.25*(t.wantedRotation-t.rotation)},i.Scene=function(){i.Object3D.call(this),this.type="Scene",this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0},i.Scene.prototype=Object.create(i.Object3D.prototype),i.Scene.prototype.constructor=i.Scene,i.Scene.prototype.clone=function(e){return void 0===e&&(e=new i.Scene),i.Object3D.prototype.clone.call(this,e),null!==this.fog&&(e.fog=this.fog.clone()),null!==this.overrideMaterial&&(e.overrideMaterial=this.overrideMaterial.clone()),e.autoUpdate=this.autoUpdate,e.matrixAutoUpdate=this.matrixAutoUpdate,e},i.Fog=function(e,t,n){this.name="",this.color=new i.Color(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3},i.Fog.prototype.clone=function(){return new i.Fog(this.color.getHex(),this.near,this.far)},i.FogExp2=function(e,t){this.name="",this.color=new i.Color(e),this.density=void 0!==t?t:25e-5},i.FogExp2.prototype.clone=function(){return new i.FogExp2(this.color.getHex(),this.density)},i.ShaderChunk={},i.ShaderChunk.alphatest_fragment="#ifdef ALPHATEST\n\n\tif ( gl_FragColor.a < ALPHATEST ) discard;\n\n#endif\n",i.ShaderChunk.lights_lambert_vertex="vLightFront = vec3( 0.0 );\n\n#ifdef DOUBLE_SIDED\n\n\tvLightBack = vec3( 0.0 );\n\n#endif\n\ntransformedNormal = normalize( transformedNormal );\n\n#if MAX_DIR_LIGHTS > 0\n\nfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\n\tvec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\n\tvec3 dirVector = normalize( lDirection.xyz );\n\n\tfloat dotProduct = dot( transformedNormal, dirVector );\n\tvec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n\t#ifdef DOUBLE_SIDED\n\n\t\tvec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n\t\t#ifdef WRAP_AROUND\n\n\t\t\tvec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n\t\t#endif\n\n\t#endif\n\n\t#ifdef WRAP_AROUND\n\n\t\tvec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n\t\tdirectionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tdirectionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB );\n\n\t\t#endif\n\n\t#endif\n\n\tvLightFront += directionalLightColor[ i ] * directionalLightWeighting;\n\n\t#ifdef DOUBLE_SIDED\n\n\t\tvLightBack += directionalLightColor[ i ] * directionalLightWeightingBack;\n\n\t#endif\n\n}\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n\tfor( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\n\t\tvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\n\t\tvec3 lVector = lPosition.xyz - mvPosition.xyz;\n\n\t\tfloat lDistance = 1.0;\n\t\tif ( pointLightDistance[ i ] > 0.0 )\n\t\t\tlDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\n\n\t\tlVector = normalize( lVector );\n\t\tfloat dotProduct = dot( transformedNormal, lVector );\n\n\t\tvec3 pointLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvec3 pointLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n\t\t\t#ifdef WRAP_AROUND\n\n\t\t\t\tvec3 pointLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n\t\t\t#endif\n\n\t\t#endif\n\n\t\t#ifdef WRAP_AROUND\n\n\t\t\tvec3 pointLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n\t\t\tpointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB );\n\n\t\t\t#ifdef DOUBLE_SIDED\n\n\t\t\t\tpointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB );\n\n\t\t\t#endif\n\n\t\t#endif\n\n\t\tvLightFront += pointLightColor[ i ] * pointLightWeighting * lDistance;\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += pointLightColor[ i ] * pointLightWeightingBack * lDistance;\n\n\t\t#endif\n\n\t}\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tfor( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\n\t\tvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\n\t\tvec3 lVector = lPosition.xyz - mvPosition.xyz;\n\n\t\tfloat spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - worldPosition.xyz ) );\n\n\t\tif ( spotEffect > spotLightAngleCos[ i ] ) {\n\n\t\t\tspotEffect = max( pow( max( spotEffect, 0.0 ), spotLightExponent[ i ] ), 0.0 );\n\n\t\t\tfloat lDistance = 1.0;\n\t\t\tif ( spotLightDistance[ i ] > 0.0 )\n\t\t\t\tlDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );\n\n\t\t\tlVector = normalize( lVector );\n\n\t\t\tfloat dotProduct = dot( transformedNormal, lVector );\n\t\t\tvec3 spotLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n\t\t\t#ifdef DOUBLE_SIDED\n\n\t\t\t\tvec3 spotLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n\t\t\t\t#ifdef WRAP_AROUND\n\n\t\t\t\t\tvec3 spotLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n\t\t\t\t#endif\n\n\t\t\t#endif\n\n\t\t\t#ifdef WRAP_AROUND\n\n\t\t\t\tvec3 spotLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n\t\t\t\tspotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB );\n\n\t\t\t\t#ifdef DOUBLE_SIDED\n\n\t\t\t\t\tspotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB );\n\n\t\t\t\t#endif\n\n\t\t\t#endif\n\n\t\t\tvLightFront += spotLightColor[ i ] * spotLightWeighting * lDistance * spotEffect;\n\n\t\t\t#ifdef DOUBLE_SIDED\n\n\t\t\t\tvLightBack += spotLightColor[ i ] * spotLightWeightingBack * lDistance * spotEffect;\n\n\t\t\t#endif\n\n\t\t}\n\n\t}\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\tfor( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\n\t\tvec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );\n\t\tvec3 lVector = normalize( lDirection.xyz );\n\n\t\tfloat dotProduct = dot( transformedNormal, lVector );\n\n\t\tfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n\t\tfloat hemiDiffuseWeightBack = -0.5 * dotProduct + 0.5;\n\n\t\tvLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );\n\n\t\t#endif\n\n\t}\n\n#endif\n\nvLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;\n\n#ifdef DOUBLE_SIDED\n\n\tvLightBack = vLightBack * diffuse + ambient * ambientLightColor + emissive;\n\n#endif",i.ShaderChunk.map_particle_pars_fragment="#ifdef USE_MAP\n\n\tuniform sampler2D map;\n\n#endif",i.ShaderChunk.default_vertex="#ifdef USE_SKINNING\n\n\tvec4 mvPosition = modelViewMatrix * skinned;\n\n#elif defined( USE_MORPHTARGETS )\n\n\tvec4 mvPosition = modelViewMatrix * vec4( morphed, 1.0 );\n\n#else\n\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\n#endif\n\ngl_Position = projectionMatrix * mvPosition;\n",i.ShaderChunk.map_pars_fragment="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n\tvarying vec2 vUv;\n\n#endif\n\n#ifdef USE_MAP\n\n\tuniform sampler2D map;\n\n#endif",i.ShaderChunk.skinnormal_vertex="#ifdef USE_SKINNING\n\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\n\t#ifdef USE_MORPHNORMALS\n\n\tvec4 skinnedNormal = skinMatrix * vec4( morphedNormal, 0.0 );\n\n\t#else\n\n\tvec4 skinnedNormal = skinMatrix * vec4( normal, 0.0 );\n\n\t#endif\n\n#endif\n",i.ShaderChunk.logdepthbuf_pars_vertex="#ifdef USE_LOGDEPTHBUF\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvarying float vFragDepth;\n\n\t#endif\n\n\tuniform float logDepthBufFC;\n\n#endif",i.ShaderChunk.lightmap_pars_vertex="#ifdef USE_LIGHTMAP\n\n\tvarying vec2 vUv2;\n\n#endif",i.ShaderChunk.lights_phong_fragment="vec3 normal = normalize( vNormal );\nvec3 viewPosition = normalize( vViewPosition );\n\n#ifdef DOUBLE_SIDED\n\n\tnormal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\n#endif\n\n#ifdef USE_NORMALMAP\n\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\n#elif defined( USE_BUMPMAP )\n\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n\tvec3 pointDiffuse = vec3( 0.0 );\n\tvec3 pointSpecular = vec3( 0.0 );\n\n\tfor ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\n\t\tvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\n\t\tvec3 lVector = lPosition.xyz + vViewPosition.xyz;\n\n\t\tfloat lDistance = 1.0;\n\t\tif ( pointLightDistance[ i ] > 0.0 )\n\t\t\tlDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\n\n\t\tlVector = normalize( lVector );\n\n\t\t\t\t// diffuse\n\n\t\tfloat dotProduct = dot( normal, lVector );\n\n\t\t#ifdef WRAP_AROUND\n\n\t\t\tfloat pointDiffuseWeightFull = max( dotProduct, 0.0 );\n\t\t\tfloat pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n\t\t\tvec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );\n\n\t\t#else\n\n\t\t\tfloat pointDiffuseWeight = max( dotProduct, 0.0 );\n\n\t\t#endif\n\n\t\tpointDiffuse += diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;\n\n\t\t\t\t// specular\n\n\t\tvec3 pointHalfVector = normalize( lVector + viewPosition );\n\t\tfloat pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );\n\t\tfloat pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );\n\n\t\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, pointHalfVector ), 0.0 ), 5.0 );\n\t\tpointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;\n\n\t}\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tvec3 spotDiffuse = vec3( 0.0 );\n\tvec3 spotSpecular = vec3( 0.0 );\n\n\tfor ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\n\t\tvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\n\t\tvec3 lVector = lPosition.xyz + vViewPosition.xyz;\n\n\t\tfloat lDistance = 1.0;\n\t\tif ( spotLightDistance[ i ] > 0.0 )\n\t\t\tlDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );\n\n\t\tlVector = normalize( lVector );\n\n\t\tfloat spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );\n\n\t\tif ( spotEffect > spotLightAngleCos[ i ] ) {\n\n\t\t\tspotEffect = max( pow( max( spotEffect, 0.0 ), spotLightExponent[ i ] ), 0.0 );\n\n\t\t\t\t\t// diffuse\n\n\t\t\tfloat dotProduct = dot( normal, lVector );\n\n\t\t\t#ifdef WRAP_AROUND\n\n\t\t\t\tfloat spotDiffuseWeightFull = max( dotProduct, 0.0 );\n\t\t\t\tfloat spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n\t\t\t\tvec3 spotDiffuseWeight = mix( vec3( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );\n\n\t\t\t#else\n\n\t\t\t\tfloat spotDiffuseWeight = max( dotProduct, 0.0 );\n\n\t\t\t#endif\n\n\t\t\tspotDiffuse += diffuse * spotLightColor[ i ] * spotDiffuseWeight * lDistance * spotEffect;\n\n\t\t\t\t\t// specular\n\n\t\t\tvec3 spotHalfVector = normalize( lVector + viewPosition );\n\t\t\tfloat spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );\n\t\t\tfloat spotSpecularWeight = specularStrength * max( pow( spotDotNormalHalf, shininess ), 0.0 );\n\n\t\t\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n\t\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, spotHalfVector ), 0.0 ), 5.0 );\n\t\t\tspotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * specularNormalization * spotEffect;\n\n\t\t}\n\n\t}\n\n#endif\n\n#if MAX_DIR_LIGHTS > 0\n\n\tvec3 dirDiffuse = vec3( 0.0 );\n\tvec3 dirSpecular = vec3( 0.0 );\n\n\tfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\n\t\tvec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\n\t\tvec3 dirVector = normalize( lDirection.xyz );\n\n\t\t\t\t// diffuse\n\n\t\tfloat dotProduct = dot( normal, dirVector );\n\n\t\t#ifdef WRAP_AROUND\n\n\t\t\tfloat dirDiffuseWeightFull = max( dotProduct, 0.0 );\n\t\t\tfloat dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n\t\t\tvec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );\n\n\t\t#else\n\n\t\t\tfloat dirDiffuseWeight = max( dotProduct, 0.0 );\n\n\t\t#endif\n\n\t\tdirDiffuse += diffuse * directionalLightColor[ i ] * dirDiffuseWeight;\n\n\t\t// specular\n\n\t\tvec3 dirHalfVector = normalize( dirVector + viewPosition );\n\t\tfloat dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );\n\t\tfloat dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );\n\n\t\t/*\n\t\t// fresnel term from skin shader\n\t\tconst float F0 = 0.128;\n\n\t\tfloat base = 1.0 - dot( viewPosition, dirHalfVector );\n\t\tfloat exponential = pow( base, 5.0 );\n\n\t\tfloat fresnel = exponential + F0 * ( 1.0 - exponential );\n\t\t*/\n\n\t\t/*\n\t\t// fresnel term from fresnel shader\n\t\tconst float mFresnelBias = 0.08;\n\t\tconst float mFresnelScale = 0.3;\n\t\tconst float mFresnelPower = 5.0;\n\n\t\tfloat fresnel = mFresnelBias + mFresnelScale * pow( 1.0 + dot( normalize( -viewPosition ), normal ), mFresnelPower );\n\t\t*/\n\n\t\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n\t\t// \t\tdirSpecular += specular * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization * fresnel;\n\n\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ), 5.0 );\n\t\tdirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;\n\n\n\t}\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\tvec3 hemiDiffuse = vec3( 0.0 );\n\tvec3 hemiSpecular = vec3( 0.0 );\n\n\tfor( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\n\t\tvec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );\n\t\tvec3 lVector = normalize( lDirection.xyz );\n\n\t\t// diffuse\n\n\t\tfloat dotProduct = dot( normal, lVector );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n\n\t\tvec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n\t\themiDiffuse += diffuse * hemiColor;\n\n\t\t// specular (sky light)\n\n\t\tvec3 hemiHalfVectorSky = normalize( lVector + viewPosition );\n\t\tfloat hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;\n\t\tfloat hemiSpecularWeightSky = specularStrength * max( pow( max( hemiDotNormalHalfSky, 0.0 ), shininess ), 0.0 );\n\n\t\t// specular (ground light)\n\n\t\tvec3 lVectorGround = -lVector;\n\n\t\tvec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );\n\t\tfloat hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;\n\t\tfloat hemiSpecularWeightGround = specularStrength * max( pow( max( hemiDotNormalHalfGround, 0.0 ), shininess ), 0.0 );\n\n\t\tfloat dotProductGround = dot( normal, lVectorGround );\n\n\t\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n\t\tvec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, hemiHalfVectorSky ), 0.0 ), 5.0 );\n\t\tvec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 0.0 ), 5.0 );\n\t\themiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );\n\n\t}\n\n#endif\n\nvec3 totalDiffuse = vec3( 0.0 );\nvec3 totalSpecular = vec3( 0.0 );\n\n#if MAX_DIR_LIGHTS > 0\n\n\ttotalDiffuse += dirDiffuse;\n\ttotalSpecular += dirSpecular;\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\ttotalDiffuse += hemiDiffuse;\n\ttotalSpecular += hemiSpecular;\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n\ttotalDiffuse += pointDiffuse;\n\ttotalSpecular += pointSpecular;\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\ttotalDiffuse += spotDiffuse;\n\ttotalSpecular += spotSpecular;\n\n#endif\n\n#ifdef METAL\n\n\tgl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient + totalSpecular );\n\n#else\n\n\tgl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient ) + totalSpecular;\n\n#endif",i.ShaderChunk.fog_pars_fragment="#ifdef USE_FOG\n\n\tuniform vec3 fogColor;\n\n\t#ifdef FOG_EXP2\n\n\t\tuniform float fogDensity;\n\n\t#else\n\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n\n#endif",i.ShaderChunk.morphnormal_vertex="#ifdef USE_MORPHNORMALS\n\n\tvec3 morphedNormal = vec3( 0.0 );\n\n\tmorphedNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tmorphedNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tmorphedNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tmorphedNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n\n\tmorphedNormal += normal;\n\n#endif",i.ShaderChunk.envmap_pars_fragment="#ifdef USE_ENVMAP\n\n\tuniform float reflectivity;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n\t\tuniform float refractionRatio;\n\n\t#else\n\n\t\tvarying vec3 vReflect;\n\n\t#endif\n\n#endif\n",i.ShaderChunk.logdepthbuf_fragment="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n\n#endif",i.ShaderChunk.normalmap_pars_fragment="#ifdef USE_NORMALMAP\n\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\n\t\t\t// Per-Pixel Tangent Space Normal Mapping\n\t\t\t// http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html\n\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\n\t}\n\n#endif\n",i.ShaderChunk.lights_phong_pars_vertex="#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n\tvarying vec3 vWorldPosition;\n\n#endif\n",i.ShaderChunk.lightmap_pars_fragment="#ifdef USE_LIGHTMAP\n\n\tvarying vec2 vUv2;\n\tuniform sampler2D lightMap;\n\n#endif",i.ShaderChunk.shadowmap_vertex="#ifdef USE_SHADOWMAP\n\n\tfor( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\n\t\tvShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;\n\n\t}\n\n#endif",i.ShaderChunk.lights_phong_vertex="#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n\tvWorldPosition = worldPosition.xyz;\n\n#endif",i.ShaderChunk.map_fragment="#ifdef USE_MAP\n\n\tvec4 texelColor = texture2D( map, vUv );\n\n\t#ifdef GAMMA_INPUT\n\n\t\ttexelColor.xyz *= texelColor.xyz;\n\n\t#endif\n\n\tgl_FragColor = gl_FragColor * texelColor;\n\n#endif",i.ShaderChunk.lightmap_vertex="#ifdef USE_LIGHTMAP\n\n\tvUv2 = uv2;\n\n#endif",i.ShaderChunk.map_particle_fragment="#ifdef USE_MAP\n\n\tgl_FragColor = gl_FragColor * texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) );\n\n#endif",i.ShaderChunk.color_pars_fragment="#ifdef USE_COLOR\n\n\tvarying vec3 vColor;\n\n#endif\n",i.ShaderChunk.color_vertex="#ifdef USE_COLOR\n\n\t#ifdef GAMMA_INPUT\n\n\t\tvColor = color * color;\n\n\t#else\n\n\t\tvColor = color;\n\n\t#endif\n\n#endif",i.ShaderChunk.skinning_vertex="#ifdef USE_SKINNING\n\n\t#ifdef USE_MORPHTARGETS\n\n\tvec4 skinVertex = bindMatrix * vec4( morphed, 1.0 );\n\n\t#else\n\n\tvec4 skinVertex = bindMatrix * vec4( position, 1.0 );\n\n\t#endif\n\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n\n#endif\n",i.ShaderChunk.envmap_pars_vertex="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\n\n\tvarying vec3 vReflect;\n\n\tuniform float refractionRatio;\n\n#endif\n",i.ShaderChunk.linear_to_gamma_fragment="#ifdef GAMMA_OUTPUT\n\n\tgl_FragColor.xyz = sqrt( gl_FragColor.xyz );\n\n#endif",i.ShaderChunk.color_pars_vertex="#ifdef USE_COLOR\n\n\tvarying vec3 vColor;\n\n#endif",i.ShaderChunk.lights_lambert_pars_vertex="uniform vec3 ambient;\nuniform vec3 diffuse;\nuniform vec3 emissive;\n\nuniform vec3 ambientLightColor;\n\n#if MAX_DIR_LIGHTS > 0\n\n\tuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n\tuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\tuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n\tuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n\tuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n\n#endif\n\n#ifdef WRAP_AROUND\n\n\tuniform vec3 wrapRGB;\n\n#endif\n",i.ShaderChunk.map_pars_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n\n#endif\n",i.ShaderChunk.envmap_fragment="#ifdef USE_ENVMAP\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\n\t\t// http://en.wikibooks.org/wiki/GLSL_Programming/Applying_Matrix_Transformations\n\t\t// Transforming Normal Vectors with the Inverse Transformation\n\n\t\tvec3 worldNormal = normalize( vec3( vec4( normal, 0.0 ) * viewMatrix ) );\n\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\n\t\t#else\n\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\n\t\t#endif\n\n\t#else\n\n\t\tvec3 reflectVec = vReflect;\n\n\t#endif\n\n\t#ifdef DOUBLE_SIDED\n\t\tfloat flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\t#else\n\t\tfloat flipNormal = 1.0;\n\t#endif\n\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = clamp( flipNormal * reflectVec.y * 0.5 + 0.5, 0.0, 1.0);\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * 0.15915494309189533576888376337251 + 0.5; // reciprocal( 2 PI ) + 0.5\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t\t\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#endif\n\n\t#ifdef GAMMA_INPUT\n\n\t\tenvColor.xyz *= envColor.xyz;\n\n\t#endif\n\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\n\t\tgl_FragColor.xyz = mix( gl_FragColor.xyz, gl_FragColor.xyz * envColor.xyz, specularStrength * reflectivity );\n\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\n\t\tgl_FragColor.xyz = mix( gl_FragColor.xyz, envColor.xyz, specularStrength * reflectivity );\n\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\n\t\tgl_FragColor.xyz += envColor.xyz * specularStrength * reflectivity;\n\n\t#endif\n\n#endif\n",i.ShaderChunk.specularmap_pars_fragment="#ifdef USE_SPECULARMAP\n\n\tuniform sampler2D specularMap;\n\n#endif",i.ShaderChunk.logdepthbuf_vertex="#ifdef USE_LOGDEPTHBUF\n\n\tgl_Position.z = log2(max(1e-6, gl_Position.w + 1.0)) * logDepthBufFC;\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\n#else\n\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\n\t#endif\n\n#endif",i.ShaderChunk.morphtarget_pars_vertex="#ifdef USE_MORPHTARGETS\n\n\t#ifndef USE_MORPHNORMALS\n\n\tuniform float morphTargetInfluences[ 8 ];\n\n\t#else\n\n\tuniform float morphTargetInfluences[ 4 ];\n\n\t#endif\n\n#endif",
i.ShaderChunk.specularmap_fragment="float specularStrength;\n\n#ifdef USE_SPECULARMAP\n\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n\n#else\n\n\tspecularStrength = 1.0;\n\n#endif",i.ShaderChunk.fog_fragment="#ifdef USE_FOG\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\n\t#else\n\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\n\t#endif\n\n\t#ifdef FOG_EXP2\n\n\t\tconst float LOG2 = 1.442695;\n\t\tfloat fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\n\t\tfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n\n\t#else\n\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\n\t#endif\n\t\n\tgl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n\n#endif",i.ShaderChunk.bumpmap_pars_fragment="#ifdef USE_BUMPMAP\n\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\n\t\t\t// Derivative maps - bump mapping unparametrized surfaces by Morten Mikkelsen\n\t\t\t//\thttp://mmikkelsen3d.blogspot.sk/2011/07/derivative-maps.html\n\n\t\t\t// Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)\n\n\tvec2 dHdxy_fwd() {\n\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\n\t\treturn vec2( dBx, dBy );\n\n\t}\n\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\t\t// normalized\n\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\n\t}\n\n#endif",i.ShaderChunk.defaultnormal_vertex="#ifdef USE_SKINNING\n\n\tvec3 objectNormal = skinnedNormal.xyz;\n\n#elif defined( USE_MORPHNORMALS )\n\n\tvec3 objectNormal = morphedNormal;\n\n#else\n\n\tvec3 objectNormal = normal;\n\n#endif\n\n#ifdef FLIP_SIDED\n\n\tobjectNormal = -objectNormal;\n\n#endif\n\nvec3 transformedNormal = normalMatrix * objectNormal;\n",i.ShaderChunk.lights_phong_pars_fragment="uniform vec3 ambientLightColor;\n\n#if MAX_DIR_LIGHTS > 0\n\n\tuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n\tuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\tuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n\tuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n\n\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n\tuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n\n\tuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n\tvarying vec3 vWorldPosition;\n\n#endif\n\n#ifdef WRAP_AROUND\n\n\tuniform vec3 wrapRGB;\n\n#endif\n\nvarying vec3 vViewPosition;\nvarying vec3 vNormal;",i.ShaderChunk.skinbase_vertex="#ifdef USE_SKINNING\n\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n\n#endif",i.ShaderChunk.map_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n\n#endif",i.ShaderChunk.lightmap_fragment="#ifdef USE_LIGHTMAP\n\n\tgl_FragColor = gl_FragColor * texture2D( lightMap, vUv2 );\n\n#endif",i.ShaderChunk.shadowmap_pars_vertex="#ifdef USE_SHADOWMAP\n\n\tvarying vec4 vShadowCoord[ MAX_SHADOWS ];\n\tuniform mat4 shadowMatrix[ MAX_SHADOWS ];\n\n#endif",i.ShaderChunk.color_fragment="#ifdef USE_COLOR\n\n\tgl_FragColor = gl_FragColor * vec4( vColor, 1.0 );\n\n#endif",i.ShaderChunk.morphtarget_vertex="#ifdef USE_MORPHTARGETS\n\n\tvec3 morphed = vec3( 0.0 );\n\tmorphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\tmorphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\tmorphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\tmorphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\n\t#ifndef USE_MORPHNORMALS\n\n\tmorphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\tmorphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\tmorphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\tmorphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\n\t#endif\n\n\tmorphed += position;\n\n#endif",i.ShaderChunk.envmap_vertex="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\n\n\tvec3 worldNormal = mat3( modelMatrix[ 0 ].xyz, modelMatrix[ 1 ].xyz, modelMatrix[ 2 ].xyz ) * objectNormal;\n\tworldNormal = normalize( worldNormal );\n\n\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\n\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\n\t#else\n\n\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\n\t#endif\n\n#endif\n",i.ShaderChunk.shadowmap_fragment="#ifdef USE_SHADOWMAP\n\n\t#ifdef SHADOWMAP_DEBUG\n\n\t\tvec3 frustumColors[3];\n\t\tfrustumColors[0] = vec3( 1.0, 0.5, 0.0 );\n\t\tfrustumColors[1] = vec3( 0.0, 1.0, 0.8 );\n\t\tfrustumColors[2] = vec3( 0.0, 0.5, 1.0 );\n\n\t#endif\n\n\t#ifdef SHADOWMAP_CASCADE\n\n\t\tint inFrustumCount = 0;\n\n\t#endif\n\n\tfloat fDepth;\n\tvec3 shadowColor = vec3( 1.0 );\n\n\tfor( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\n\t\tvec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;\n\n\t\t\t\t// if ( something && something ) breaks ATI OpenGL shader compiler\n\t\t\t\t// if ( all( something, something ) ) using this instead\n\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\n\t\t\t\t// don't shadow pixels outside of light frustum\n\t\t\t\t// use just first frustum (for cascades)\n\t\t\t\t// don't shadow pixels behind far plane of light frustum\n\n\t\t#ifdef SHADOWMAP_CASCADE\n\n\t\t\tinFrustumCount += int( inFrustum );\n\t\t\tbvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0 );\n\n\t\t#else\n\n\t\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n\t\t#endif\n\n\t\tbool frustumTest = all( frustumTestVec );\n\n\t\tif ( frustumTest ) {\n\n\t\t\tshadowCoord.z += shadowBias[ i ];\n\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\n\t\t\t\t\t\t// Percentage-close filtering\n\t\t\t\t\t\t// (9 pixel kernel)\n\t\t\t\t\t\t// http://fabiensanglard.net/shadowmappingPCF/\n\n\t\t\t\tfloat shadow = 0.0;\n\n\t\t/*\n\t\t\t\t\t\t// nested loops breaks shader compiler / validator on some ATI cards when using OpenGL\n\t\t\t\t\t\t// must enroll loop manually\n\n\t\t\t\tfor ( float y = -1.25; y <= 1.25; y += 1.25 )\n\t\t\t\t\tfor ( float x = -1.25; x <= 1.25; x += 1.25 ) {\n\n\t\t\t\t\t\tvec4 rgbaDepth = texture2D( shadowMap[ i ], vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy );\n\n\t\t\t\t\t\t\t\t// doesn't seem to produce any noticeable visual difference compared to simple texture2D lookup\n\t\t\t\t\t\t\t\t//vec4 rgbaDepth = texture2DProj( shadowMap[ i ], vec4( vShadowCoord[ i ].w * ( vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy ), 0.05, vShadowCoord[ i ].w ) );\n\n\t\t\t\t\t\tfloat fDepth = unpackDepth( rgbaDepth );\n\n\t\t\t\t\t\tif ( fDepth < shadowCoord.z )\n\t\t\t\t\t\t\tshadow += 1.0;\n\n\t\t\t\t}\n\n\t\t\t\tshadow /= 9.0;\n\n\t\t*/\n\n\t\t\t\tconst float shadowDelta = 1.0 / 9.0;\n\n\t\t\t\tfloat xPixelOffset = 1.0 / shadowMapSize[ i ].x;\n\t\t\t\tfloat yPixelOffset = 1.0 / shadowMapSize[ i ].y;\n\n\t\t\t\tfloat dx0 = -1.25 * xPixelOffset;\n\t\t\t\tfloat dy0 = -1.25 * yPixelOffset;\n\t\t\t\tfloat dx1 = 1.25 * xPixelOffset;\n\t\t\t\tfloat dy1 = 1.25 * yPixelOffset;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tshadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\n\n\t\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n\t\t\t\t\t\t// Percentage-close filtering\n\t\t\t\t\t\t// (9 pixel kernel)\n\t\t\t\t\t\t// http://fabiensanglard.net/shadowmappingPCF/\n\n\t\t\t\tfloat shadow = 0.0;\n\n\t\t\t\tfloat xPixelOffset = 1.0 / shadowMapSize[ i ].x;\n\t\t\t\tfloat yPixelOffset = 1.0 / shadowMapSize[ i ].y;\n\n\t\t\t\tfloat dx0 = -1.0 * xPixelOffset;\n\t\t\t\tfloat dy0 = -1.0 * yPixelOffset;\n\t\t\t\tfloat dx1 = 1.0 * xPixelOffset;\n\t\t\t\tfloat dy1 = 1.0 * yPixelOffset;\n\n\t\t\t\tmat3 shadowKernel;\n\t\t\t\tmat3 depthKernel;\n\n\t\t\t\tdepthKernel[0][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n\t\t\t\tdepthKernel[0][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n\t\t\t\tdepthKernel[0][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n\t\t\t\tdepthKernel[1][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n\t\t\t\tdepthKernel[1][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n\t\t\t\tdepthKernel[1][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n\t\t\t\tdepthKernel[2][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n\t\t\t\tdepthKernel[2][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n\t\t\t\tdepthKernel[2][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n\n\t\t\t\tvec3 shadowZ = vec3( shadowCoord.z );\n\t\t\t\tshadowKernel[0] = vec3(lessThan(depthKernel[0], shadowZ ));\n\t\t\t\tshadowKernel[0] *= vec3(0.25);\n\n\t\t\t\tshadowKernel[1] = vec3(lessThan(depthKernel[1], shadowZ ));\n\t\t\t\tshadowKernel[1] *= vec3(0.25);\n\n\t\t\t\tshadowKernel[2] = vec3(lessThan(depthKernel[2], shadowZ ));\n\t\t\t\tshadowKernel[2] *= vec3(0.25);\n\n\t\t\t\tvec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[i].xy );\n\n\t\t\t\tshadowKernel[0] = mix( shadowKernel[1], shadowKernel[0], fractionalCoord.x );\n\t\t\t\tshadowKernel[1] = mix( shadowKernel[2], shadowKernel[1], fractionalCoord.x );\n\n\t\t\t\tvec4 shadowValues;\n\t\t\t\tshadowValues.x = mix( shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y );\n\t\t\t\tshadowValues.y = mix( shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y );\n\t\t\t\tshadowValues.z = mix( shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y );\n\t\t\t\tshadowValues.w = mix( shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y );\n\n\t\t\t\tshadow = dot( shadowValues, vec4( 1.0 ) );\n\n\t\t\t\tshadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\n\n\t\t\t#else\n\n\t\t\t\tvec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );\n\t\t\t\tfloat fDepth = unpackDepth( rgbaDepth );\n\n\t\t\t\tif ( fDepth < shadowCoord.z )\n\n\t\t// spot with multiple shadows is darker\n\n\t\t\t\t\tshadowColor = shadowColor * vec3( 1.0 - shadowDarkness[ i ] );\n\n\t\t// spot with multiple shadows has the same color as single shadow spot\n\n\t\t// \t\t\t\t\tshadowColor = min( shadowColor, vec3( shadowDarkness[ i ] ) );\n\n\t\t\t#endif\n\n\t\t}\n\n\n\t\t#ifdef SHADOWMAP_DEBUG\n\n\t\t\t#ifdef SHADOWMAP_CASCADE\n\n\t\t\t\tif ( inFrustum && inFrustumCount == 1 ) gl_FragColor.xyz *= frustumColors[ i ];\n\n\t\t\t#else\n\n\t\t\t\tif ( inFrustum ) gl_FragColor.xyz *= frustumColors[ i ];\n\n\t\t\t#endif\n\n\t\t#endif\n\n\t}\n\n\t#ifdef GAMMA_OUTPUT\n\n\t\tshadowColor *= shadowColor;\n\n\t#endif\n\n\tgl_FragColor.xyz = gl_FragColor.xyz * shadowColor;\n\n#endif\n",i.ShaderChunk.worldpos_vertex="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\n\t#ifdef USE_SKINNING\n\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\n\t#elif defined( USE_MORPHTARGETS )\n\n\t\tvec4 worldPosition = modelMatrix * vec4( morphed, 1.0 );\n\n\t#else\n\n\t\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\n\t#endif\n\n#endif\n",i.ShaderChunk.shadowmap_pars_fragment="#ifdef USE_SHADOWMAP\n\n\tuniform sampler2D shadowMap[ MAX_SHADOWS ];\n\tuniform vec2 shadowMapSize[ MAX_SHADOWS ];\n\n\tuniform float shadowDarkness[ MAX_SHADOWS ];\n\tuniform float shadowBias[ MAX_SHADOWS ];\n\n\tvarying vec4 vShadowCoord[ MAX_SHADOWS ];\n\n\tfloat unpackDepth( const in vec4 rgba_depth ) {\n\n\t\tconst vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n\t\tfloat depth = dot( rgba_depth, bit_shift );\n\t\treturn depth;\n\n\t}\n\n#endif",i.ShaderChunk.skinning_pars_vertex="#ifdef USE_SKINNING\n\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\n\t#ifdef BONE_TEXTURE\n\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\n\t\t\ty = dy * ( y + 0.5 );\n\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\n\t\t\treturn bone;\n\n\t\t}\n\n\t#else\n\n\t\tuniform mat4 boneGlobalMatrices[ MAX_BONES ];\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tmat4 bone = boneGlobalMatrices[ int(i) ];\n\t\t\treturn bone;\n\n\t\t}\n\n\t#endif\n\n#endif\n",i.ShaderChunk.logdepthbuf_pars_fragment="#ifdef USE_LOGDEPTHBUF\n\n\tuniform float logDepthBufFC;\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\t#extension GL_EXT_frag_depth : enable\n\t\tvarying float vFragDepth;\n\n\t#endif\n\n#endif",i.ShaderChunk.alphamap_fragment="#ifdef USE_ALPHAMAP\n\n\tgl_FragColor.a *= texture2D( alphaMap, vUv ).g;\n\n#endif\n",i.ShaderChunk.alphamap_pars_fragment="#ifdef USE_ALPHAMAP\n\n\tuniform sampler2D alphaMap;\n\n#endif\n",i.UniformsUtils={merge:function(e){for(var t={},n=0;n<e.length;n++){var r=this.clone(e[n]);for(var i in r)t[i]=r[i]}return t},clone:function(e){var t={};for(var n in e){t[n]={};for(var r in e[n]){var o=e[n][r];o instanceof i.Color||o instanceof i.Vector2||o instanceof i.Vector3||o instanceof i.Vector4||o instanceof i.Matrix4||o instanceof i.Texture?t[n][r]=o.clone():o instanceof Array?t[n][r]=o.slice():t[n][r]=o}}return t}},i.UniformsLib={common:{diffuse:{type:"c",value:new i.Color(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new i.Vector4(0,0,1,1)},lightMap:{type:"t",value:null},specularMap:{type:"t",value:null},alphaMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"f",value:-1},reflectivity:{type:"f",value:1},refractionRatio:{type:"f",value:.98},morphTargetInfluences:{type:"f",value:0}},bump:{bumpMap:{type:"t",value:null},bumpScale:{type:"f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new i.Vector2(1,1)}},fog:{fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new i.Color(16777215)}},lights:{ambientLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},hemisphereLightDirection:{type:"fv",value:[]},hemisphereLightSkyColor:{type:"fv",value:[]},hemisphereLightGroundColor:{type:"fv",value:[]},pointLightColor:{type:"fv",value:[]},pointLightPosition:{type:"fv",value:[]},pointLightDistance:{type:"fv1",value:[]},spotLightColor:{type:"fv",value:[]},spotLightPosition:{type:"fv",value:[]},spotLightDirection:{type:"fv",value:[]},spotLightDistance:{type:"fv1",value:[]},spotLightAngleCos:{type:"fv1",value:[]},spotLightExponent:{type:"fv1",value:[]}},particle:{psColor:{type:"c",value:new i.Color(15658734)},opacity:{type:"f",value:1},size:{type:"f",value:1},scale:{type:"f",value:1},map:{type:"t",value:null},fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new i.Color(16777215)}},shadowmap:{shadowMap:{type:"tv",value:[]},shadowMapSize:{type:"v2v",value:[]},shadowBias:{type:"fv1",value:[]},shadowDarkness:{type:"fv1",value:[]},shadowMatrix:{type:"m4v",value:[]}}},i.ShaderLib={basic:{uniforms:i.UniformsUtils.merge([i.UniformsLib.common,i.UniformsLib.fog,i.UniformsLib.shadowmap]),vertexShader:[i.ShaderChunk.map_pars_vertex,i.ShaderChunk.lightmap_pars_vertex,i.ShaderChunk.envmap_pars_vertex,i.ShaderChunk.color_pars_vertex,i.ShaderChunk.morphtarget_pars_vertex,i.ShaderChunk.skinning_pars_vertex,i.ShaderChunk.shadowmap_pars_vertex,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",i.ShaderChunk.map_vertex,i.ShaderChunk.lightmap_vertex,i.ShaderChunk.color_vertex,i.ShaderChunk.skinbase_vertex,"\t#ifdef USE_ENVMAP",i.ShaderChunk.morphnormal_vertex,i.ShaderChunk.skinnormal_vertex,i.ShaderChunk.defaultnormal_vertex,"\t#endif",i.ShaderChunk.morphtarget_vertex,i.ShaderChunk.skinning_vertex,i.ShaderChunk.default_vertex,i.ShaderChunk.logdepthbuf_vertex,i.ShaderChunk.worldpos_vertex,i.ShaderChunk.envmap_vertex,i.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;",i.ShaderChunk.color_pars_fragment,i.ShaderChunk.map_pars_fragment,i.ShaderChunk.alphamap_pars_fragment,i.ShaderChunk.lightmap_pars_fragment,i.ShaderChunk.envmap_pars_fragment,i.ShaderChunk.fog_pars_fragment,i.ShaderChunk.shadowmap_pars_fragment,i.ShaderChunk.specularmap_pars_fragment,i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tgl_FragColor = vec4( diffuse, opacity );",i.ShaderChunk.logdepthbuf_fragment,i.ShaderChunk.map_fragment,i.ShaderChunk.alphamap_fragment,i.ShaderChunk.alphatest_fragment,i.ShaderChunk.specularmap_fragment,i.ShaderChunk.lightmap_fragment,i.ShaderChunk.color_fragment,i.ShaderChunk.envmap_fragment,i.ShaderChunk.shadowmap_fragment,i.ShaderChunk.linear_to_gamma_fragment,i.ShaderChunk.fog_fragment,"}"].join("\n")},lambert:{uniforms:i.UniformsUtils.merge([i.UniformsLib.common,i.UniformsLib.fog,i.UniformsLib.lights,i.UniformsLib.shadowmap,{ambient:{type:"c",value:new i.Color(16777215)},emissive:{type:"c",value:new i.Color(0)},wrapRGB:{type:"v3",value:new i.Vector3(1,1,1)}}]),vertexShader:["#define LAMBERT","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","\tvarying vec3 vLightBack;","#endif",i.ShaderChunk.map_pars_vertex,i.ShaderChunk.lightmap_pars_vertex,i.ShaderChunk.envmap_pars_vertex,i.ShaderChunk.lights_lambert_pars_vertex,i.ShaderChunk.color_pars_vertex,i.ShaderChunk.morphtarget_pars_vertex,i.ShaderChunk.skinning_pars_vertex,i.ShaderChunk.shadowmap_pars_vertex,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",i.ShaderChunk.map_vertex,i.ShaderChunk.lightmap_vertex,i.ShaderChunk.color_vertex,i.ShaderChunk.morphnormal_vertex,i.ShaderChunk.skinbase_vertex,i.ShaderChunk.skinnormal_vertex,i.ShaderChunk.defaultnormal_vertex,i.ShaderChunk.morphtarget_vertex,i.ShaderChunk.skinning_vertex,i.ShaderChunk.default_vertex,i.ShaderChunk.logdepthbuf_vertex,i.ShaderChunk.worldpos_vertex,i.ShaderChunk.envmap_vertex,i.ShaderChunk.lights_lambert_vertex,i.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","\tvarying vec3 vLightBack;","#endif",i.ShaderChunk.color_pars_fragment,i.ShaderChunk.map_pars_fragment,i.ShaderChunk.alphamap_pars_fragment,i.ShaderChunk.lightmap_pars_fragment,i.ShaderChunk.envmap_pars_fragment,i.ShaderChunk.fog_pars_fragment,i.ShaderChunk.shadowmap_pars_fragment,i.ShaderChunk.specularmap_pars_fragment,i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tgl_FragColor = vec4( vec3( 1.0 ), opacity );",i.ShaderChunk.logdepthbuf_fragment,i.ShaderChunk.map_fragment,i.ShaderChunk.alphamap_fragment,i.ShaderChunk.alphatest_fragment,i.ShaderChunk.specularmap_fragment,"\t#ifdef DOUBLE_SIDED","\t\tif ( gl_FrontFacing )","\t\t\tgl_FragColor.xyz *= vLightFront;","\t\telse","\t\t\tgl_FragColor.xyz *= vLightBack;","\t#else","\t\tgl_FragColor.xyz *= vLightFront;","\t#endif",i.ShaderChunk.lightmap_fragment,i.ShaderChunk.color_fragment,i.ShaderChunk.envmap_fragment,i.ShaderChunk.shadowmap_fragment,i.ShaderChunk.linear_to_gamma_fragment,i.ShaderChunk.fog_fragment,"}"].join("\n")},phong:{uniforms:i.UniformsUtils.merge([i.UniformsLib.common,i.UniformsLib.bump,i.UniformsLib.normalmap,i.UniformsLib.fog,i.UniformsLib.lights,i.UniformsLib.shadowmap,{ambient:{type:"c",value:new i.Color(16777215)},emissive:{type:"c",value:new i.Color(0)},specular:{type:"c",value:new i.Color(1118481)},shininess:{type:"f",value:30},wrapRGB:{type:"v3",value:new i.Vector3(1,1,1)}}]),vertexShader:["#define PHONG","varying vec3 vViewPosition;","varying vec3 vNormal;",i.ShaderChunk.map_pars_vertex,i.ShaderChunk.lightmap_pars_vertex,i.ShaderChunk.envmap_pars_vertex,i.ShaderChunk.lights_phong_pars_vertex,i.ShaderChunk.color_pars_vertex,i.ShaderChunk.morphtarget_pars_vertex,i.ShaderChunk.skinning_pars_vertex,i.ShaderChunk.shadowmap_pars_vertex,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",i.ShaderChunk.map_vertex,i.ShaderChunk.lightmap_vertex,i.ShaderChunk.color_vertex,i.ShaderChunk.morphnormal_vertex,i.ShaderChunk.skinbase_vertex,i.ShaderChunk.skinnormal_vertex,i.ShaderChunk.defaultnormal_vertex,"\tvNormal = normalize( transformedNormal );",i.ShaderChunk.morphtarget_vertex,i.ShaderChunk.skinning_vertex,i.ShaderChunk.default_vertex,i.ShaderChunk.logdepthbuf_vertex,"\tvViewPosition = -mvPosition.xyz;",i.ShaderChunk.worldpos_vertex,i.ShaderChunk.envmap_vertex,i.ShaderChunk.lights_phong_vertex,i.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["#define PHONG","uniform vec3 diffuse;","uniform float opacity;","uniform vec3 ambient;","uniform vec3 emissive;","uniform vec3 specular;","uniform float shininess;",i.ShaderChunk.color_pars_fragment,i.ShaderChunk.map_pars_fragment,i.ShaderChunk.alphamap_pars_fragment,i.ShaderChunk.lightmap_pars_fragment,i.ShaderChunk.envmap_pars_fragment,i.ShaderChunk.fog_pars_fragment,i.ShaderChunk.lights_phong_pars_fragment,i.ShaderChunk.shadowmap_pars_fragment,i.ShaderChunk.bumpmap_pars_fragment,i.ShaderChunk.normalmap_pars_fragment,i.ShaderChunk.specularmap_pars_fragment,i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tgl_FragColor = vec4( vec3( 1.0 ), opacity );",i.ShaderChunk.logdepthbuf_fragment,i.ShaderChunk.map_fragment,i.ShaderChunk.alphamap_fragment,i.ShaderChunk.alphatest_fragment,i.ShaderChunk.specularmap_fragment,i.ShaderChunk.lights_phong_fragment,i.ShaderChunk.lightmap_fragment,i.ShaderChunk.color_fragment,i.ShaderChunk.envmap_fragment,i.ShaderChunk.shadowmap_fragment,i.ShaderChunk.linear_to_gamma_fragment,i.ShaderChunk.fog_fragment,"}"].join("\n")},particle_basic:{uniforms:i.UniformsUtils.merge([i.UniformsLib.particle,i.UniformsLib.shadowmap]),vertexShader:["uniform float size;","uniform float scale;",i.ShaderChunk.color_pars_vertex,i.ShaderChunk.shadowmap_pars_vertex,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",i.ShaderChunk.color_vertex,"\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","\t#ifdef USE_SIZEATTENUATION","\t\tgl_PointSize = size * ( scale / length( mvPosition.xyz ) );","\t#else","\t\tgl_PointSize = size;","\t#endif","\tgl_Position = projectionMatrix * mvPosition;",i.ShaderChunk.logdepthbuf_vertex,i.ShaderChunk.worldpos_vertex,i.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 psColor;","uniform float opacity;",i.ShaderChunk.color_pars_fragment,i.ShaderChunk.map_particle_pars_fragment,i.ShaderChunk.fog_pars_fragment,i.ShaderChunk.shadowmap_pars_fragment,i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tgl_FragColor = vec4( psColor, opacity );",i.ShaderChunk.logdepthbuf_fragment,i.ShaderChunk.map_particle_fragment,i.ShaderChunk.alphatest_fragment,i.ShaderChunk.color_fragment,i.ShaderChunk.shadowmap_fragment,i.ShaderChunk.fog_fragment,"}"].join("\n")},dashed:{uniforms:i.UniformsUtils.merge([i.UniformsLib.common,i.UniformsLib.fog,{scale:{type:"f",value:1},dashSize:{type:"f",value:1},totalSize:{type:"f",value:2}}]),vertexShader:["uniform float scale;","attribute float lineDistance;","varying float vLineDistance;",i.ShaderChunk.color_pars_vertex,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",i.ShaderChunk.color_vertex,"\tvLineDistance = scale * lineDistance;","\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","\tgl_Position = projectionMatrix * mvPosition;",i.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;","uniform float dashSize;","uniform float totalSize;","varying float vLineDistance;",i.ShaderChunk.color_pars_fragment,i.ShaderChunk.fog_pars_fragment,i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tif ( mod( vLineDistance, totalSize ) > dashSize ) {","\t\tdiscard;","\t}","\tgl_FragColor = vec4( diffuse, opacity );",i.ShaderChunk.logdepthbuf_fragment,i.ShaderChunk.color_fragment,i.ShaderChunk.fog_fragment,"}"].join("\n")},depth:{uniforms:{mNear:{type:"f",value:1},mFar:{type:"f",value:2e3},opacity:{type:"f",value:1}},vertexShader:[i.ShaderChunk.morphtarget_pars_vertex,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",i.ShaderChunk.morphtarget_vertex,i.ShaderChunk.default_vertex,i.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float mNear;","uniform float mFar;","uniform float opacity;",i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {",i.ShaderChunk.logdepthbuf_fragment,"\t#ifdef USE_LOGDEPTHBUF_EXT","\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;","\t#else","\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;","\t#endif","\tfloat color = 1.0 - smoothstep( mNear, mFar, depth );","\tgl_FragColor = vec4( vec3( color ), opacity );","}"].join("\n")},normal:{uniforms:{opacity:{type:"f",value:1}},vertexShader:["varying vec3 vNormal;",i.ShaderChunk.morphtarget_pars_vertex,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","\tvNormal = normalize( normalMatrix * normal );",i.ShaderChunk.morphtarget_vertex,i.ShaderChunk.default_vertex,i.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vNormal;",i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tgl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );",i.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );","\tvWorldPosition = worldPosition.xyz;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",i.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform samplerCube tCube;","uniform float tFlip;","varying vec3 vWorldPosition;",i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );",i.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},equirect:{uniforms:{tEquirect:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );","\tvWorldPosition = worldPosition.xyz;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",i.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","uniform float tFlip;","varying vec3 vWorldPosition;",i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","vec3 direction = normalize( vWorldPosition );","vec2 sampleUV;","sampleUV.y = clamp( tFlip * direction.y * -0.5 + 0.5, 0.0, 1.0);","sampleUV.x = atan( direction.z, direction.x ) * 0.15915494309189533576888376337251 + 0.5;","gl_FragColor = texture2D( tEquirect, sampleUV );",i.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},depthRGBA:{uniforms:{},vertexShader:[i.ShaderChunk.morphtarget_pars_vertex,i.ShaderChunk.skinning_pars_vertex,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",i.ShaderChunk.skinbase_vertex,i.ShaderChunk.morphtarget_vertex,i.ShaderChunk.skinning_vertex,i.ShaderChunk.default_vertex,i.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:[i.ShaderChunk.logdepthbuf_pars_fragment,"vec4 pack_depth( const in float depth ) {","\tconst vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );","\tconst vec4 bit_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );","\tvec4 res = mod( depth * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );","\tres -= res.xxyz * bit_mask;","\treturn res;","}","void main() {",i.ShaderChunk.logdepthbuf_fragment,"\t#ifdef USE_LOGDEPTHBUF_EXT","\t\tgl_FragData[ 0 ] = pack_depth( gl_FragDepthEXT );","\t#else","\t\tgl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );","\t#endif","}"].join("\n")}},i.WebGLRenderer=function(e){function t(e){e.__webglVertexBuffer=Le.createBuffer(),e.__webglColorBuffer=Le.createBuffer(),Re.info.memory.geometries++}function n(e){e.__webglVertexBuffer=Le.createBuffer(),e.__webglColorBuffer=Le.createBuffer(),e.__webglLineDistanceBuffer=Le.createBuffer(),Re.info.memory.geometries++}function r(e){e.__webglVertexBuffer=Le.createBuffer(),e.__webglNormalBuffer=Le.createBuffer(),e.__webglTangentBuffer=Le.createBuffer(),e.__webglColorBuffer=Le.createBuffer(),e.__webglUVBuffer=Le.createBuffer(),e.__webglUV2Buffer=Le.createBuffer(),e.__webglSkinIndicesBuffer=Le.createBuffer(),e.__webglSkinWeightsBuffer=Le.createBuffer(),e.__webglFaceBuffer=Le.createBuffer(),e.__webglLineBuffer=Le.createBuffer();var t=e.numMorphTargets;if(t){e.__webglMorphTargetsBuffers=[];
for(var n=0,r=t;n<r;n++)e.__webglMorphTargetsBuffers.push(Le.createBuffer())}var i=e.numMorphNormals;if(i){e.__webglMorphNormalsBuffers=[];for(var n=0,r=i;n<r;n++)e.__webglMorphNormalsBuffers.push(Le.createBuffer())}Re.info.memory.geometries++}function o(e){var t=e.geometry,n=e.material,r=t.vertices.length;if(n.attributes){void 0===t.__webglCustomAttributesList&&(t.__webglCustomAttributesList=[]);for(var i in n.attributes){var o=n.attributes[i];if(!o.__webglInitialized||o.createUniqueBuffers){o.__webglInitialized=!0;var a=1;"v2"===o.type?a=2:"v3"===o.type?a=3:"v4"===o.type?a=4:"c"===o.type&&(a=3),o.size=a,o.array=new Float32Array(r*a),o.buffer=Le.createBuffer(),o.buffer.belongsToAttribute=i,o.needsUpdate=!0}t.__webglCustomAttributesList.push(o)}}}function a(e,t){var n=e.vertices.length;e.__vertexArray=new Float32Array(3*n),e.__colorArray=new Float32Array(3*n),e.__sortArray=[],e.__webglParticleCount=n,o(t)}function s(e,t){var n=e.vertices.length;e.__vertexArray=new Float32Array(3*n),e.__colorArray=new Float32Array(3*n),e.__lineDistanceArray=new Float32Array(1*n),e.__webglLineCount=n,o(t)}function c(e,t){var n=t.geometry,r=e.faces3,i=3*r.length,o=1*r.length,a=3*r.length,s=l(t,e);e.__vertexArray=new Float32Array(3*i),e.__normalArray=new Float32Array(3*i),e.__colorArray=new Float32Array(3*i),e.__uvArray=new Float32Array(2*i),n.faceVertexUvs.length>1&&(e.__uv2Array=new Float32Array(2*i)),n.hasTangents&&(e.__tangentArray=new Float32Array(4*i)),t.geometry.skinWeights.length&&t.geometry.skinIndices.length&&(e.__skinIndexArray=new Float32Array(4*i),e.__skinWeightArray=new Float32Array(4*i));var c=null!==yt.get("OES_element_index_uint")&&o>21845?Uint32Array:Uint16Array;e.__typeArray=c,e.__faceArray=new c(3*o),e.__lineArray=new c(2*a);var u=e.numMorphTargets;if(u){e.__morphTargetsArrays=[];for(var h=0,d=u;h<d;h++)e.__morphTargetsArrays.push(new Float32Array(3*i))}var f=e.numMorphNormals;if(f){e.__morphNormalsArrays=[];for(var h=0,d=f;h<d;h++)e.__morphNormalsArrays.push(new Float32Array(3*i))}if(e.__webglFaceCount=3*o,e.__webglLineCount=2*a,s.attributes){void 0===e.__webglCustomAttributesList&&(e.__webglCustomAttributesList=[]);for(var p in s.attributes){var m=s.attributes[p],g={};for(var v in m)g[v]=m[v];if(!g.__webglInitialized||g.createUniqueBuffers){g.__webglInitialized=!0;var b=1;"v2"===g.type?b=2:"v3"===g.type?b=3:"v4"===g.type?b=4:"c"===g.type&&(b=3),g.size=b,g.array=new Float32Array(i*b),g.buffer=Le.createBuffer(),g.buffer.belongsToAttribute=p,m.needsUpdate=!0,g.__original=m}e.__webglCustomAttributesList.push(g)}}e.__inittedArrays=!0}function l(e,t){return e.material instanceof i.MeshFaceMaterial?e.material.materials[t.materialIndex]:e.material}function u(e){return e&&void 0!==e.shading&&e.shading===i.SmoothShading}function h(e,t,n){var r,i,o,a,s,c,l,u,h,d,f,p=e.vertices,m=p.length,g=e.colors,v=g.length,b=e.__vertexArray,y=e.__colorArray,w=(e.__sortArray,e.verticesNeedUpdate),_=(e.elementsNeedUpdate,e.colorsNeedUpdate),x=e.__webglCustomAttributesList;if(w){for(r=0;r<m;r++)o=p[r],a=3*r,b[a]=o.x,b[a+1]=o.y,b[a+2]=o.z;Le.bindBuffer(Le.ARRAY_BUFFER,e.__webglVertexBuffer),Le.bufferData(Le.ARRAY_BUFFER,b,t)}if(_){for(i=0;i<v;i++)s=g[i],a=3*i,y[a]=s.r,y[a+1]=s.g,y[a+2]=s.b;Le.bindBuffer(Le.ARRAY_BUFFER,e.__webglColorBuffer),Le.bufferData(Le.ARRAY_BUFFER,y,t)}if(x)for(c=0,l=x.length;c<l;c++){if(f=x[c],f.needsUpdate&&(void 0===f.boundTo||"vertices"===f.boundTo))if(h=f.value.length,a=0,1===f.size)for(u=0;u<h;u++)f.array[u]=f.value[u];else if(2===f.size)for(u=0;u<h;u++)d=f.value[u],f.array[a]=d.x,f.array[a+1]=d.y,a+=2;else if(3===f.size)if("c"===f.type)for(u=0;u<h;u++)d=f.value[u],f.array[a]=d.r,f.array[a+1]=d.g,f.array[a+2]=d.b,a+=3;else for(u=0;u<h;u++)d=f.value[u],f.array[a]=d.x,f.array[a+1]=d.y,f.array[a+2]=d.z,a+=3;else if(4===f.size)for(u=0;u<h;u++)d=f.value[u],f.array[a]=d.x,f.array[a+1]=d.y,f.array[a+2]=d.z,f.array[a+3]=d.w,a+=4;Le.bindBuffer(Le.ARRAY_BUFFER,f.buffer),Le.bufferData(Le.ARRAY_BUFFER,f.array,t),f.needsUpdate=!1}}function d(e,t){var n,r,i,o,a,s,c,l,u,h,d,f,p=e.vertices,m=e.colors,g=e.lineDistances,v=p.length,b=m.length,y=g.length,w=e.__vertexArray,_=e.__colorArray,x=e.__lineDistanceArray,k=e.verticesNeedUpdate,S=e.colorsNeedUpdate,j=e.lineDistancesNeedUpdate,P=e.__webglCustomAttributesList;if(k){for(n=0;n<v;n++)o=p[n],a=3*n,w[a]=o.x,w[a+1]=o.y,w[a+2]=o.z;Le.bindBuffer(Le.ARRAY_BUFFER,e.__webglVertexBuffer),Le.bufferData(Le.ARRAY_BUFFER,w,t)}if(S){for(r=0;r<b;r++)s=m[r],a=3*r,_[a]=s.r,_[a+1]=s.g,_[a+2]=s.b;Le.bindBuffer(Le.ARRAY_BUFFER,e.__webglColorBuffer),Le.bufferData(Le.ARRAY_BUFFER,_,t)}if(j){for(i=0;i<y;i++)x[i]=g[i];Le.bindBuffer(Le.ARRAY_BUFFER,e.__webglLineDistanceBuffer),Le.bufferData(Le.ARRAY_BUFFER,x,t)}if(P)for(c=0,l=P.length;c<l;c++)if(f=P[c],f.needsUpdate&&(void 0===f.boundTo||"vertices"===f.boundTo)){if(a=0,h=f.value.length,1===f.size)for(u=0;u<h;u++)f.array[u]=f.value[u];else if(2===f.size)for(u=0;u<h;u++)d=f.value[u],f.array[a]=d.x,f.array[a+1]=d.y,a+=2;else if(3===f.size)if("c"===f.type)for(u=0;u<h;u++)d=f.value[u],f.array[a]=d.r,f.array[a+1]=d.g,f.array[a+2]=d.b,a+=3;else for(u=0;u<h;u++)d=f.value[u],f.array[a]=d.x,f.array[a+1]=d.y,f.array[a+2]=d.z,a+=3;else if(4===f.size)for(u=0;u<h;u++)d=f.value[u],f.array[a]=d.x,f.array[a+1]=d.y,f.array[a+2]=d.z,f.array[a+3]=d.w,a+=4;Le.bindBuffer(Le.ARRAY_BUFFER,f.buffer),Le.bufferData(Le.ARRAY_BUFFER,f.array,t),f.needsUpdate=!1}}function f(e,t,n,r,o){if(e.__inittedArrays){var a,s,c,l,h,d,f,p,m,g,v,b,y,w,_,x,k,S,j,P,E,A,T,C,M,O,I,F,D,L,R,N,U,$,z,B,q,V,H,W,G,Y,K=u(o),X=0,Q=0,Z=0,J=0,ee=0,te=0,ne=0,re=0,ie=0,oe=0,ae=0,se=0,ce=0,le=e.__vertexArray,ue=e.__uvArray,he=e.__uv2Array,de=e.__normalArray,fe=e.__tangentArray,pe=e.__colorArray,me=e.__skinIndexArray,ge=e.__skinWeightArray,ve=e.__morphTargetsArrays,be=e.__morphNormalsArrays,ye=e.__webglCustomAttributesList,we=e.__faceArray,_e=e.__lineArray,xe=t.geometry,ke=xe.verticesNeedUpdate,Se=xe.elementsNeedUpdate,je=xe.uvsNeedUpdate,Pe=xe.normalsNeedUpdate,Ee=xe.tangentsNeedUpdate,Ae=xe.colorsNeedUpdate,Te=xe.morphTargetsNeedUpdate,Ce=xe.vertices,Me=e.faces3,Oe=xe.faces,Ie=xe.faceVertexUvs[0],Fe=xe.faceVertexUvs[1],De=(xe.colors,xe.skinIndices),Re=xe.skinWeights,Ne=xe.morphTargets,Ue=xe.morphNormals;if(ke){for(a=0,s=Me.length;a<s;a++)l=Oe[Me[a]],b=Ce[l.a],y=Ce[l.b],w=Ce[l.c],le[Q]=b.x,le[Q+1]=b.y,le[Q+2]=b.z,le[Q+3]=y.x,le[Q+4]=y.y,le[Q+5]=y.z,le[Q+6]=w.x,le[Q+7]=w.y,le[Q+8]=w.z,Q+=9;Le.bindBuffer(Le.ARRAY_BUFFER,e.__webglVertexBuffer),Le.bufferData(Le.ARRAY_BUFFER,le,n)}if(Te)for(z=0,B=Ne.length;z<B;z++){for(ae=0,a=0,s=Me.length;a<s;a++)H=Me[a],l=Oe[H],b=Ne[z].vertices[l.a],y=Ne[z].vertices[l.b],w=Ne[z].vertices[l.c],q=ve[z],q[ae]=b.x,q[ae+1]=b.y,q[ae+2]=b.z,q[ae+3]=y.x,q[ae+4]=y.y,q[ae+5]=y.z,q[ae+6]=w.x,q[ae+7]=w.y,q[ae+8]=w.z,o.morphNormals&&(K?(W=Ue[z].vertexNormals[H],S=W.a,j=W.b,P=W.c):(S=Ue[z].faceNormals[H],j=S,P=S),V=be[z],V[ae]=S.x,V[ae+1]=S.y,V[ae+2]=S.z,V[ae+3]=j.x,V[ae+4]=j.y,V[ae+5]=j.z,V[ae+6]=P.x,V[ae+7]=P.y,V[ae+8]=P.z),ae+=9;Le.bindBuffer(Le.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[z]),Le.bufferData(Le.ARRAY_BUFFER,ve[z],n),o.morphNormals&&(Le.bindBuffer(Le.ARRAY_BUFFER,e.__webglMorphNormalsBuffers[z]),Le.bufferData(Le.ARRAY_BUFFER,be[z],n))}if(Re.length){for(a=0,s=Me.length;a<s;a++)l=Oe[Me[a]],C=Re[l.a],M=Re[l.b],O=Re[l.c],ge[oe]=C.x,ge[oe+1]=C.y,ge[oe+2]=C.z,ge[oe+3]=C.w,ge[oe+4]=M.x,ge[oe+5]=M.y,ge[oe+6]=M.z,ge[oe+7]=M.w,ge[oe+8]=O.x,ge[oe+9]=O.y,ge[oe+10]=O.z,ge[oe+11]=O.w,I=De[l.a],F=De[l.b],D=De[l.c],me[oe]=I.x,me[oe+1]=I.y,me[oe+2]=I.z,me[oe+3]=I.w,me[oe+4]=F.x,me[oe+5]=F.y,me[oe+6]=F.z,me[oe+7]=F.w,me[oe+8]=D.x,me[oe+9]=D.y,me[oe+10]=D.z,me[oe+11]=D.w,oe+=12;oe>0&&(Le.bindBuffer(Le.ARRAY_BUFFER,e.__webglSkinIndicesBuffer),Le.bufferData(Le.ARRAY_BUFFER,me,n),Le.bindBuffer(Le.ARRAY_BUFFER,e.__webglSkinWeightsBuffer),Le.bufferData(Le.ARRAY_BUFFER,ge,n))}if(Ae){for(a=0,s=Me.length;a<s;a++)l=Oe[Me[a]],f=l.vertexColors,p=l.color,3===f.length&&o.vertexColors===i.VertexColors?(E=f[0],A=f[1],T=f[2]):(E=p,A=p,T=p),pe[ie]=E.r,pe[ie+1]=E.g,pe[ie+2]=E.b,pe[ie+3]=A.r,pe[ie+4]=A.g,pe[ie+5]=A.b,pe[ie+6]=T.r,pe[ie+7]=T.g,pe[ie+8]=T.b,ie+=9;ie>0&&(Le.bindBuffer(Le.ARRAY_BUFFER,e.__webglColorBuffer),Le.bufferData(Le.ARRAY_BUFFER,pe,n))}if(Ee&&xe.hasTangents){for(a=0,s=Me.length;a<s;a++)l=Oe[Me[a]],m=l.vertexTangents,_=m[0],x=m[1],k=m[2],fe[ne]=_.x,fe[ne+1]=_.y,fe[ne+2]=_.z,fe[ne+3]=_.w,fe[ne+4]=x.x,fe[ne+5]=x.y,fe[ne+6]=x.z,fe[ne+7]=x.w,fe[ne+8]=k.x,fe[ne+9]=k.y,fe[ne+10]=k.z,fe[ne+11]=k.w,ne+=12;Le.bindBuffer(Le.ARRAY_BUFFER,e.__webglTangentBuffer),Le.bufferData(Le.ARRAY_BUFFER,fe,n)}if(Pe){for(a=0,s=Me.length;a<s;a++)if(l=Oe[Me[a]],h=l.vertexNormals,d=l.normal,3===h.length&&K)for(L=0;L<3;L++)N=h[L],de[te]=N.x,de[te+1]=N.y,de[te+2]=N.z,te+=3;else for(L=0;L<3;L++)de[te]=d.x,de[te+1]=d.y,de[te+2]=d.z,te+=3;Le.bindBuffer(Le.ARRAY_BUFFER,e.__webglNormalBuffer),Le.bufferData(Le.ARRAY_BUFFER,de,n)}if(je&&Ie){for(a=0,s=Me.length;a<s;a++)if(c=Me[a],g=Ie[c],void 0!==g)for(L=0;L<3;L++)U=g[L],ue[Z]=U.x,ue[Z+1]=U.y,Z+=2;Z>0&&(Le.bindBuffer(Le.ARRAY_BUFFER,e.__webglUVBuffer),Le.bufferData(Le.ARRAY_BUFFER,ue,n))}if(je&&Fe){for(a=0,s=Me.length;a<s;a++)if(c=Me[a],v=Fe[c],void 0!==v)for(L=0;L<3;L++)$=v[L],he[J]=$.x,he[J+1]=$.y,J+=2;J>0&&(Le.bindBuffer(Le.ARRAY_BUFFER,e.__webglUV2Buffer),Le.bufferData(Le.ARRAY_BUFFER,he,n))}if(Se){for(a=0,s=Me.length;a<s;a++)we[ee]=X,we[ee+1]=X+1,we[ee+2]=X+2,ee+=3,_e[re]=X,_e[re+1]=X+1,_e[re+2]=X,_e[re+3]=X+2,_e[re+4]=X+1,_e[re+5]=X+2,re+=6,X+=3;Le.bindBuffer(Le.ELEMENT_ARRAY_BUFFER,e.__webglFaceBuffer),Le.bufferData(Le.ELEMENT_ARRAY_BUFFER,we,n),Le.bindBuffer(Le.ELEMENT_ARRAY_BUFFER,e.__webglLineBuffer),Le.bufferData(Le.ELEMENT_ARRAY_BUFFER,_e,n)}if(ye)for(L=0,R=ye.length;L<R;L++)if(Y=ye[L],Y.__original.needsUpdate){if(se=0,ce=0,1===Y.size){if(void 0===Y.boundTo||"vertices"===Y.boundTo)for(a=0,s=Me.length;a<s;a++)l=Oe[Me[a]],Y.array[se]=Y.value[l.a],Y.array[se+1]=Y.value[l.b],Y.array[se+2]=Y.value[l.c],se+=3;else if("faces"===Y.boundTo)for(a=0,s=Me.length;a<s;a++)G=Y.value[Me[a]],Y.array[se]=G,Y.array[se+1]=G,Y.array[se+2]=G,se+=3}else if(2===Y.size){if(void 0===Y.boundTo||"vertices"===Y.boundTo)for(a=0,s=Me.length;a<s;a++)l=Oe[Me[a]],b=Y.value[l.a],y=Y.value[l.b],w=Y.value[l.c],Y.array[se]=b.x,Y.array[se+1]=b.y,Y.array[se+2]=y.x,Y.array[se+3]=y.y,Y.array[se+4]=w.x,Y.array[se+5]=w.y,se+=6;else if("faces"===Y.boundTo)for(a=0,s=Me.length;a<s;a++)G=Y.value[Me[a]],b=G,y=G,w=G,Y.array[se]=b.x,Y.array[se+1]=b.y,Y.array[se+2]=y.x,Y.array[se+3]=y.y,Y.array[se+4]=w.x,Y.array[se+5]=w.y,se+=6}else if(3===Y.size){var $e;if($e="c"===Y.type?["r","g","b"]:["x","y","z"],void 0===Y.boundTo||"vertices"===Y.boundTo)for(a=0,s=Me.length;a<s;a++)l=Oe[Me[a]],b=Y.value[l.a],y=Y.value[l.b],w=Y.value[l.c],Y.array[se]=b[$e[0]],Y.array[se+1]=b[$e[1]],Y.array[se+2]=b[$e[2]],Y.array[se+3]=y[$e[0]],Y.array[se+4]=y[$e[1]],Y.array[se+5]=y[$e[2]],Y.array[se+6]=w[$e[0]],Y.array[se+7]=w[$e[1]],Y.array[se+8]=w[$e[2]],se+=9;else if("faces"===Y.boundTo)for(a=0,s=Me.length;a<s;a++)G=Y.value[Me[a]],b=G,y=G,w=G,Y.array[se]=b[$e[0]],Y.array[se+1]=b[$e[1]],Y.array[se+2]=b[$e[2]],Y.array[se+3]=y[$e[0]],Y.array[se+4]=y[$e[1]],Y.array[se+5]=y[$e[2]],Y.array[se+6]=w[$e[0]],Y.array[se+7]=w[$e[1]],Y.array[se+8]=w[$e[2]],se+=9;else if("faceVertices"===Y.boundTo)for(a=0,s=Me.length;a<s;a++)G=Y.value[Me[a]],b=G[0],y=G[1],w=G[2],Y.array[se]=b[$e[0]],Y.array[se+1]=b[$e[1]],Y.array[se+2]=b[$e[2]],Y.array[se+3]=y[$e[0]],Y.array[se+4]=y[$e[1]],Y.array[se+5]=y[$e[2]],Y.array[se+6]=w[$e[0]],Y.array[se+7]=w[$e[1]],Y.array[se+8]=w[$e[2]],se+=9}else if(4===Y.size)if(void 0===Y.boundTo||"vertices"===Y.boundTo)for(a=0,s=Me.length;a<s;a++)l=Oe[Me[a]],b=Y.value[l.a],y=Y.value[l.b],w=Y.value[l.c],Y.array[se]=b.x,Y.array[se+1]=b.y,Y.array[se+2]=b.z,Y.array[se+3]=b.w,Y.array[se+4]=y.x,Y.array[se+5]=y.y,Y.array[se+6]=y.z,Y.array[se+7]=y.w,Y.array[se+8]=w.x,Y.array[se+9]=w.y,Y.array[se+10]=w.z,Y.array[se+11]=w.w,se+=12;else if("faces"===Y.boundTo)for(a=0,s=Me.length;a<s;a++)G=Y.value[Me[a]],b=G,y=G,w=G,Y.array[se]=b.x,Y.array[se+1]=b.y,Y.array[se+2]=b.z,Y.array[se+3]=b.w,Y.array[se+4]=y.x,Y.array[se+5]=y.y,Y.array[se+6]=y.z,Y.array[se+7]=y.w,Y.array[se+8]=w.x,Y.array[se+9]=w.y,Y.array[se+10]=w.z,Y.array[se+11]=w.w,se+=12;else if("faceVertices"===Y.boundTo)for(a=0,s=Me.length;a<s;a++)G=Y.value[Me[a]],b=G[0],y=G[1],w=G[2],Y.array[se]=b.x,Y.array[se+1]=b.y,Y.array[se+2]=b.z,Y.array[se+3]=b.w,Y.array[se+4]=y.x,Y.array[se+5]=y.y,Y.array[se+6]=y.z,Y.array[se+7]=y.w,Y.array[se+8]=w.x,Y.array[se+9]=w.y,Y.array[se+10]=w.z,Y.array[se+11]=w.w,se+=12;Le.bindBuffer(Le.ARRAY_BUFFER,Y.buffer),Le.bufferData(Le.ARRAY_BUFFER,Y.array,n)}r&&(delete e.__inittedArrays,delete e.__colorArray,delete e.__normalArray,delete e.__tangentArray,delete e.__uvArray,delete e.__uv2Array,delete e.__faceArray,delete e.__vertexArray,delete e.__lineArray,delete e.__skinIndexArray,delete e.__skinWeightArray)}}function p(e,t,n,r){for(var i=n.attributes,o=t.attributes,a=t.attributesKeys,s=0,c=a.length;s<c;s++){var l=a[s],u=o[l];if(u>=0){var h=i[l];if(void 0!==h){var d=h.itemSize;Le.bindBuffer(Le.ARRAY_BUFFER,h.buffer),g(u),Le.vertexAttribPointer(u,d,Le.FLOAT,!1,0,r*d*4)}else void 0!==e.defaultAttributeValues&&(2===e.defaultAttributeValues[l].length?Le.vertexAttrib2fv(u,e.defaultAttributeValues[l]):3===e.defaultAttributeValues[l].length&&Le.vertexAttrib3fv(u,e.defaultAttributeValues[l]))}}v()}function m(){for(var e=0,t=lt.length;e<t;e++)lt[e]=0}function g(e){lt[e]=1,0===ut[e]&&(Le.enableVertexAttribArray(e),ut[e]=1)}function v(){for(var e=0,t=ut.length;e<t;e++)ut[e]!==lt[e]&&(Le.disableVertexAttribArray(e),ut[e]=0)}function b(e,t,n){var r=e.program.attributes;if(n.morphTargetBase!==-1&&r.position>=0?(Le.bindBuffer(Le.ARRAY_BUFFER,t.__webglMorphTargetsBuffers[n.morphTargetBase]),g(r.position),Le.vertexAttribPointer(r.position,3,Le.FLOAT,!1,0,0)):r.position>=0&&(Le.bindBuffer(Le.ARRAY_BUFFER,t.__webglVertexBuffer),g(r.position),Le.vertexAttribPointer(r.position,3,Le.FLOAT,!1,0,0)),n.morphTargetForcedOrder.length)for(var i,o=0,a=n.morphTargetForcedOrder,s=n.morphTargetInfluences;o<e.numSupportedMorphTargets&&o<a.length;)i=r["morphTarget"+o],i>=0&&(Le.bindBuffer(Le.ARRAY_BUFFER,t.__webglMorphTargetsBuffers[a[o]]),g(i),Le.vertexAttribPointer(i,3,Le.FLOAT,!1,0,0)),i=r["morphNormal"+o],i>=0&&e.morphNormals&&(Le.bindBuffer(Le.ARRAY_BUFFER,t.__webglMorphNormalsBuffers[a[o]]),g(i),Le.vertexAttribPointer(i,3,Le.FLOAT,!1,0,0)),n.__webglMorphTargetInfluences[o]=s[a[o]],o++;else{for(var c=[],s=n.morphTargetInfluences,l=0,u=s.length;l<u;l++){var h=s[l];c.push([h,l])}c.length>e.numSupportedMorphTargets?(c.sort(_),c.length=e.numSupportedMorphTargets):c.length>e.numSupportedMorphNormals?c.sort(_):0===c.length&&c.push([0,0]);for(var i,o=0,d=e.numSupportedMorphTargets;o<d;o++)if(c[o]){var f=c[o][1];i=r["morphTarget"+o],i>=0&&(Le.bindBuffer(Le.ARRAY_BUFFER,t.__webglMorphTargetsBuffers[f]),g(i),Le.vertexAttribPointer(i,3,Le.FLOAT,!1,0,0)),i=r["morphNormal"+o],i>=0&&e.morphNormals&&(Le.bindBuffer(Le.ARRAY_BUFFER,t.__webglMorphNormalsBuffers[f]),g(i),Le.vertexAttribPointer(i,3,Le.FLOAT,!1,0,0)),n.__webglMorphTargetInfluences[o]=s[f]}else n.__webglMorphTargetInfluences[o]=0}null!==e.program.uniforms.morphTargetInfluences&&Le.uniform1fv(e.program.uniforms.morphTargetInfluences,n.__webglMorphTargetInfluences)}function y(e,t){return e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function w(e,t){return e.z!==t.z?t.z-e.z:e.id-t.id}function _(e,t){return t[0]-e[0]}function x(e){if(e.visible!==!1){if(e instanceof i.Scene||e instanceof i.Group);else if(E(e),e instanceof i.Light)Te.push(e);else if(e instanceof i.Sprite)Fe.push(e);else if(e instanceof i.LensFlare)De.push(e);else{var t=Ce[e.id];if(t&&(e.frustumCulled===!1||ht.intersectsObject(e)===!0))for(var n=0,r=t.length;n<r;n++){var o=t[n];P(o),o.render=!0,Re.sortObjects===!0&&(ft.setFromMatrixPosition(e.matrixWorld),ft.applyProjection(dt),o.z=ft.z)}}for(var n=0,r=e.children.length;n<r;n++)x(e.children[n])}}function k(e,t,n,r,o,a){for(var s,c=0,l=e.length;c<l;c++){var u=e[c],h=u.object,d=u.buffer;if(Z(h,t),a)s=a;else{if(s=u.material,!s)continue;o&&Re.setBlending(s.blending,s.blendEquation,s.blendSrc,s.blendDst),Re.setDepthTest(s.depthTest),Re.setDepthWrite(s.depthWrite),re(s.polygonOffset,s.polygonOffsetFactor,s.polygonOffsetUnits)}Re.setMaterialFaces(s),d instanceof i.BufferGeometry?Re.renderBufferDirect(t,n,r,s,d,h):Re.renderBuffer(t,n,r,s,d,h)}}function S(e,t,n,r,i,o,a){for(var s,c=0,l=e.length;c<l;c++){var u=e[c],h=u.object;if(h.visible){if(a)s=a;else{if(s=u[t],!s)continue;o&&Re.setBlending(s.blending,s.blendEquation,s.blendSrc,s.blendDst),Re.setDepthTest(s.depthTest),Re.setDepthWrite(s.depthWrite),re(s.polygonOffset,s.polygonOffsetFactor,s.polygonOffsetUnits)}Re.renderImmediateObject(n,r,i,s,h)}}}function j(e){var t=e.object,n=t.material;n.transparent?(e.transparent=n,e.opaque=null):(e.opaque=n,e.transparent=null)}function P(e){var t=e.object,n=e.buffer,r=t.geometry,o=t.material;if(o instanceof i.MeshFaceMaterial){var a=r instanceof i.BufferGeometry?0:n.materialIndex;o=o.materials[a],e.material=o,o.transparent?Ie.push(e):Oe.push(e)}else o&&(e.material=o,o.transparent?Ie.push(e):Oe.push(e))}function E(e){void 0===e.__webglInit&&(e.__webglInit=!0,e._modelViewMatrix=new i.Matrix4,e._normalMatrix=new i.Matrix3,e.addEventListener("removed",Nt));var r=e.geometry;if(void 0===r||void 0===r.__webglInit&&(r.__webglInit=!0,r.addEventListener("dispose",Ut),r instanceof i.BufferGeometry?Re.info.memory.geometries++:e instanceof i.Mesh?T(e,r):e instanceof i.Line?void 0===r.__webglVertexBuffer&&(n(r),s(r,e),r.verticesNeedUpdate=!0,r.colorsNeedUpdate=!0,r.lineDistancesNeedUpdate=!0):e instanceof i.PointCloud&&void 0===r.__webglVertexBuffer&&(t(r),a(r,e),r.verticesNeedUpdate=!0,r.colorsNeedUpdate=!0)),void 0===e.__webglActive)if(e.__webglActive=!0,e instanceof i.Mesh){if(r instanceof i.BufferGeometry)C(Ce,r,e);else if(r instanceof i.Geometry)for(var o=Yt[r.id],c=0,l=o.length;c<l;c++)C(Ce,o[c],e)}else e instanceof i.Line||e instanceof i.PointCloud?C(Ce,r,e):(e instanceof i.ImmediateRenderObject||e.immediateRenderCallback)&&M(Me,e)}function A(e,t){for(var n,r,i=yt.get("OES_element_index_uint")?4294967296:65535,o={},a=e.morphTargets.length,s=e.morphNormals.length,c={},l=[],u=0,h=e.faces.length;u<h;u++){var d=e.faces[u],f=t?d.materialIndex:0;f in o||(o[f]={hash:f,counter:0}),n=o[f].hash+"_"+o[f].counter,n in c||(r={id:Kt++,faces3:[],materialIndex:f,vertices:0,numMorphTargets:a,numMorphNormals:s},c[n]=r,l.push(r)),c[n].vertices+3>i&&(o[f].counter+=1,n=o[f].hash+"_"+o[f].counter,n in c||(r={id:Kt++,faces3:[],materialIndex:f,vertices:0,numMorphTargets:a,numMorphNormals:s},c[n]=r,l.push(r))),c[n].faces3.push(u),c[n].vertices+=3}return l}function T(e,t){var n=e.material,o=!1;void 0!==Yt[t.id]&&t.groupsNeedUpdate!==!0||(delete Ce[e.id],Yt[t.id]=A(t,n instanceof i.MeshFaceMaterial),t.groupsNeedUpdate=!1);for(var a=Yt[t.id],s=0,l=a.length;s<l;s++){var u=a[s];void 0===u.__webglVertexBuffer?(r(u),c(u,e),t.verticesNeedUpdate=!0,t.morphTargetsNeedUpdate=!0,t.elementsNeedUpdate=!0,t.uvsNeedUpdate=!0,t.normalsNeedUpdate=!0,t.tangentsNeedUpdate=!0,t.colorsNeedUpdate=!0,o=!0):o=!1,(o||void 0===e.__webglActive)&&C(Ce,u,e)}e.__webglActive=!0}function C(e,t,n){var r=n.id;e[r]=e[r]||[],e[r].push({id:r,buffer:t,object:n,material:null,z:0})}function M(e,t){e.push({id:null,object:t,opaque:null,transparent:null,z:0})}function O(e){var t=e.geometry;if(t instanceof i.BufferGeometry)for(var n=t.attributes,r=t.attributesKeys,o=0,a=r.length;o<a;o++){var s=r[o],u=n[s];if(void 0===u.buffer&&(u.buffer=Le.createBuffer(),u.needsUpdate=!0),u.needsUpdate===!0){var p="index"===s?Le.ELEMENT_ARRAY_BUFFER:Le.ARRAY_BUFFER;Le.bindBuffer(p,u.buffer),Le.bufferData(p,u.array,Le.STATIC_DRAW),u.needsUpdate=!1}}else if(e instanceof i.Mesh){t.groupsNeedUpdate===!0&&T(e,t);for(var m=Yt[t.id],o=0,g=m.length;o<g;o++){var v=m[o],b=l(e,v);t.groupsNeedUpdate===!0&&c(v,e);var y=b.attributes&&I(b);(t.verticesNeedUpdate||t.morphTargetsNeedUpdate||t.elementsNeedUpdate||t.uvsNeedUpdate||t.normalsNeedUpdate||t.colorsNeedUpdate||t.tangentsNeedUpdate||y)&&f(v,e,Le.DYNAMIC_DRAW,!t.dynamic,b)}t.verticesNeedUpdate=!1,t.morphTargetsNeedUpdate=!1,t.elementsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.tangentsNeedUpdate=!1,b.attributes&&F(b)}else if(e instanceof i.Line){var b=l(e,t),y=b.attributes&&I(b);(t.verticesNeedUpdate||t.colorsNeedUpdate||t.lineDistancesNeedUpdate||y)&&d(t,Le.DYNAMIC_DRAW),t.verticesNeedUpdate=!1,t.colorsNeedUpdate=!1,t.lineDistancesNeedUpdate=!1,b.attributes&&F(b)}else if(e instanceof i.PointCloud){var b=l(e,t),y=b.attributes&&I(b);(t.verticesNeedUpdate||t.colorsNeedUpdate||y)&&h(t,Le.DYNAMIC_DRAW,e),t.verticesNeedUpdate=!1,t.colorsNeedUpdate=!1,b.attributes&&F(b)}}function I(e){for(var t in e.attributes)if(e.attributes[t].needsUpdate)return!0;return!1}function F(e){for(var t in e.attributes)e.attributes[t].needsUpdate=!1}function D(e){e instanceof i.Mesh||e instanceof i.PointCloud||e instanceof i.Line?delete Ce[e.id]:(e instanceof i.ImmediateRenderObject||e.immediateRenderCallback)&&L(Me,e),delete e.__webglInit,delete e._modelViewMatrix,delete e._normalMatrix,delete e.__webglActive}function L(e,t){for(var n=e.length-1;n>=0;n--)e[n].object===t&&e.splice(n,1)}function R(e,t,n,r){e.addEventListener("dispose",Bt);var o=Xt[e.type];if(o){var a=i.ShaderLib[o];e.__webglShader={uniforms:i.UniformsUtils.clone(a.uniforms),vertexShader:a.vertexShader,fragmentShader:a.fragmentShader}}else e.__webglShader={uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};var s=pe(t),c=me(t),l=fe(r),u={precision:ye,supportsVertexTextures:Pt,map:!!e.map,envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,lightMap:!!e.lightMap,bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,combine:e.combine,vertexColors:e.vertexColors,fog:n,useFog:e.fog,fogExp:n instanceof i.FogExp2,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:Pe,skinning:e.skinning,maxBones:l,useVertexTexture:Et&&r&&r.skeleton&&r.skeleton.useVertexTexture,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:Re.maxMorphTargets,maxMorphNormals:Re.maxMorphNormals,maxDirLights:s.directional,maxPointLights:s.point,maxSpotLights:s.spot,maxHemiLights:s.hemi,maxShadows:c,shadowMapEnabled:Re.shadowMapEnabled&&r.receiveShadow&&c>0,shadowMapType:Re.shadowMapType,shadowMapDebug:Re.shadowMapDebug,shadowMapCascade:Re.shadowMapCascade,alphaTest:e.alphaTest,metal:e.metal,wrapAround:e.wrapAround,doubleSided:e.side===i.DoubleSide,flipSided:e.side===i.BackSide},h=[];if(o?h.push(o):(h.push(e.fragmentShader),h.push(e.vertexShader)),void 0!==e.defines)for(var d in e.defines)h.push(d),h.push(e.defines[d]);for(var d in u)h.push(d),h.push(u[d]);for(var f,p=h.join(),m=0,g=Ne.length;m<g;m++){var v=Ne[m];if(v.code===p){f=v,f.usedTimes++;break}}void 0===f&&(f=new i.WebGLProgram(Re,p,e,u),Ne.push(f),Re.info.memory.programs=Ne.length),e.program=f;var b=f.attributes;if(e.morphTargets){e.numSupportedMorphTargets=0;for(var y,w="morphTarget",_=0;_<Re.maxMorphTargets;_++)y=w+_,b[y]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;var y,w="morphNormal";for(_=0;_<Re.maxMorphNormals;_++)y=w+_,b[y]>=0&&e.numSupportedMorphNormals++}e.uniformsList=[];for(var x in e.__webglShader.uniforms){var k=e.program.uniforms[x];k&&e.uniformsList.push([e.__webglShader.uniforms[x],k])}}function N(e,t,n,r,o){Ve=0,r.needsUpdate&&(r.program&&Gt(r),R(r,t,n,o),r.needsUpdate=!1),r.morphTargets&&(o.__webglMorphTargetInfluences||(o.__webglMorphTargetInfluences=new Float32Array(Re.maxMorphTargets)));var a=!1,s=!1,c=!1,l=r.program,u=l.uniforms,h=r.__webglShader.uniforms;if(l.id!==Ue&&(Le.useProgram(l.program),Ue=l.id,a=!0,s=!0,c=!0),r.id!==ze&&(ze===-1&&(c=!0),ze=r.id,s=!0),(a||e!==qe)&&(Le.uniformMatrix4fv(u.projectionMatrix,!1,e.projectionMatrix.elements),Pe&&Le.uniform1f(u.logDepthBufFC,2/(Math.log(e.far+1)/Math.LN2)),e!==qe&&(qe=e),(r instanceof i.ShaderMaterial||r instanceof i.MeshPhongMaterial||r.envMap)&&null!==u.cameraPosition&&(ft.setFromMatrixPosition(e.matrixWorld),Le.uniform3f(u.cameraPosition,ft.x,ft.y,ft.z)),(r instanceof i.MeshPhongMaterial||r instanceof i.MeshLambertMaterial||r instanceof i.MeshBasicMaterial||r instanceof i.ShaderMaterial||r.skinning)&&null!==u.viewMatrix&&Le.uniformMatrix4fv(u.viewMatrix,!1,e.matrixWorldInverse.elements)),r.skinning)if(o.bindMatrix&&null!==u.bindMatrix&&Le.uniformMatrix4fv(u.bindMatrix,!1,o.bindMatrix.elements),o.bindMatrixInverse&&null!==u.bindMatrixInverse&&Le.uniformMatrix4fv(u.bindMatrixInverse,!1,o.bindMatrixInverse.elements),Et&&o.skeleton&&o.skeleton.useVertexTexture){if(null!==u.boneTexture){var d=X();Le.uniform1i(u.boneTexture,d),Re.setTexture(o.skeleton.boneTexture,d)}null!==u.boneTextureWidth&&Le.uniform1i(u.boneTextureWidth,o.skeleton.boneTextureWidth),null!==u.boneTextureHeight&&Le.uniform1i(u.boneTextureHeight,o.skeleton.boneTextureHeight)}else o.skeleton&&o.skeleton.boneMatrices&&null!==u.boneGlobalMatrices&&Le.uniformMatrix4fv(u.boneGlobalMatrices,!1,o.skeleton.boneMatrices);return s&&(n&&r.fog&&q(h,n),(r instanceof i.MeshPhongMaterial||r instanceof i.MeshLambertMaterial||r.lights)&&(mt&&(c=!0,te(t),mt=!1),c?(W(h,gt),G(h,!0)):G(h,!1)),(r instanceof i.MeshBasicMaterial||r instanceof i.MeshLambertMaterial||r instanceof i.MeshPhongMaterial)&&U(h,r),r instanceof i.LineBasicMaterial?$(h,r):r instanceof i.LineDashedMaterial?($(h,r),z(h,r)):r instanceof i.PointCloudMaterial?B(h,r):r instanceof i.MeshPhongMaterial?V(h,r):r instanceof i.MeshLambertMaterial?H(h,r):r instanceof i.MeshDepthMaterial?(h.mNear.value=e.near,h.mFar.value=e.far,h.opacity.value=r.opacity):r instanceof i.MeshNormalMaterial&&(h.opacity.value=r.opacity),o.receiveShadow&&!r._shadowPass&&Y(h,t),Q(r.uniformsList)),K(u,o),null!==u.modelMatrix&&Le.uniformMatrix4fv(u.modelMatrix,!1,o.matrixWorld.elements),l}function U(e,t){e.opacity.value=t.opacity,Re.gammaInput?e.diffuse.value.copyGammaToLinear(t.color):e.diffuse.value=t.color,e.map.value=t.map,e.lightMap.value=t.lightMap,e.specularMap.value=t.specularMap,e.alphaMap.value=t.alphaMap,t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale));var n;if(t.map?n=t.map:t.specularMap?n=t.specularMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.alphaMap&&(n=t.alphaMap),void 0!==n){var r=n.offset,o=n.repeat;e.offsetRepeat.value.set(r.x,r.y,o.x,o.y)}e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap instanceof i.WebGLRenderTargetCube?1:-1,Re.gammaInput?e.reflectivity.value=t.reflectivity:e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio}function $(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}function z(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}function B(e,t){e.psColor.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size,e.scale.value=ge.height/2,e.map.value=t.map}function q(e,t){e.fogColor.value=t.color,t instanceof i.Fog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t instanceof i.FogExp2&&(e.fogDensity.value=t.density)}function V(e,t){e.shininess.value=t.shininess,Re.gammaInput?(e.ambient.value.copyGammaToLinear(t.ambient),e.emissive.value.copyGammaToLinear(t.emissive),e.specular.value.copyGammaToLinear(t.specular)):(e.ambient.value=t.ambient,e.emissive.value=t.emissive,e.specular.value=t.specular),t.wrapAround&&e.wrapRGB.value.copy(t.wrapRGB)}function H(e,t){Re.gammaInput?(e.ambient.value.copyGammaToLinear(t.ambient),e.emissive.value.copyGammaToLinear(t.emissive)):(e.ambient.value=t.ambient,e.emissive.value=t.emissive),t.wrapAround&&e.wrapRGB.value.copy(t.wrapRGB)}function W(e,t){e.ambientLightColor.value=t.ambient,e.directionalLightColor.value=t.directional.colors,e.directionalLightDirection.value=t.directional.positions,e.pointLightColor.value=t.point.colors,e.pointLightPosition.value=t.point.positions,e.pointLightDistance.value=t.point.distances,e.spotLightColor.value=t.spot.colors,e.spotLightPosition.value=t.spot.positions,e.spotLightDistance.value=t.spot.distances,e.spotLightDirection.value=t.spot.directions,e.spotLightAngleCos.value=t.spot.anglesCos,e.spotLightExponent.value=t.spot.exponents,e.hemisphereLightSkyColor.value=t.hemi.skyColors,e.hemisphereLightGroundColor.value=t.hemi.groundColors,e.hemisphereLightDirection.value=t.hemi.positions}function G(e,t){e.ambientLightColor.needsUpdate=t,e.directionalLightColor.needsUpdate=t,e.directionalLightDirection.needsUpdate=t,e.pointLightColor.needsUpdate=t,e.pointLightPosition.needsUpdate=t,e.pointLightDistance.needsUpdate=t,e.spotLightColor.needsUpdate=t,e.spotLightPosition.needsUpdate=t,e.spotLightDistance.needsUpdate=t,e.spotLightDirection.needsUpdate=t,e.spotLightAngleCos.needsUpdate=t,e.spotLightExponent.needsUpdate=t,e.hemisphereLightSkyColor.needsUpdate=t,e.hemisphereLightGroundColor.needsUpdate=t,e.hemisphereLightDirection.needsUpdate=t}function Y(e,t){if(e.shadowMatrix)for(var n=0,r=0,o=t.length;r<o;r++){var a=t[r];a.castShadow&&(a instanceof i.SpotLight||a instanceof i.DirectionalLight&&!a.shadowCascade)&&(e.shadowMap.value[n]=a.shadowMap,e.shadowMapSize.value[n]=a.shadowMapSize,e.shadowMatrix.value[n]=a.shadowMatrix,e.shadowDarkness.value[n]=a.shadowDarkness,e.shadowBias.value[n]=a.shadowBias,n++)}}function K(e,t){Le.uniformMatrix4fv(e.modelViewMatrix,!1,t._modelViewMatrix.elements),e.normalMatrix&&Le.uniformMatrix3fv(e.normalMatrix,!1,t._normalMatrix.elements)}function X(){var e=Ve;return e>=xt&&console.warn("WebGLRenderer: trying to use "+e+" texture units while this GPU supports only "+xt),Ve+=1,e}function Q(e){for(var t,n,r,o=0,a=e.length;o<a;o++){var s=e[o][0];if(s.needsUpdate!==!1){var c=s.type,l=s.value,u=e[o][1];switch(c){case"1i":Le.uniform1i(u,l);break;case"1f":Le.uniform1f(u,l);break;case"2f":Le.uniform2f(u,l[0],l[1]);break;case"3f":Le.uniform3f(u,l[0],l[1],l[2]);break;case"4f":Le.uniform4f(u,l[0],l[1],l[2],l[3]);break;case"1iv":Le.uniform1iv(u,l);break;case"3iv":Le.uniform3iv(u,l);break;case"1fv":Le.uniform1fv(u,l);break;case"2fv":Le.uniform2fv(u,l);break;case"3fv":Le.uniform3fv(u,l);break;case"4fv":Le.uniform4fv(u,l);break;case"Matrix3fv":Le.uniformMatrix3fv(u,!1,l);break;case"Matrix4fv":Le.uniformMatrix4fv(u,!1,l);break;case"i":Le.uniform1i(u,l);break;case"f":Le.uniform1f(u,l);break;case"v2":Le.uniform2f(u,l.x,l.y);break;case"v3":Le.uniform3f(u,l.x,l.y,l.z);break;case"v4":Le.uniform4f(u,l.x,l.y,l.z,l.w);break;case"c":Le.uniform3f(u,l.r,l.g,l.b);break;case"iv1":Le.uniform1iv(u,l);break;case"iv":Le.uniform3iv(u,l);break;case"fv1":Le.uniform1fv(u,l);break;case"fv":Le.uniform3fv(u,l);break;case"v2v":void 0===s._array&&(s._array=new Float32Array(2*l.length));for(var h=0,d=l.length;h<d;h++)r=2*h,s._array[r]=l[h].x,s._array[r+1]=l[h].y;Le.uniform2fv(u,s._array);break;case"v3v":void 0===s._array&&(s._array=new Float32Array(3*l.length));for(var h=0,d=l.length;h<d;h++)r=3*h,s._array[r]=l[h].x,s._array[r+1]=l[h].y,s._array[r+2]=l[h].z;Le.uniform3fv(u,s._array);break;case"v4v":void 0===s._array&&(s._array=new Float32Array(4*l.length));for(var h=0,d=l.length;h<d;h++)r=4*h,s._array[r]=l[h].x,s._array[r+1]=l[h].y,s._array[r+2]=l[h].z,s._array[r+3]=l[h].w;Le.uniform4fv(u,s._array);break;case"m3":Le.uniformMatrix3fv(u,!1,l.elements);break;case"m3v":void 0===s._array&&(s._array=new Float32Array(9*l.length));for(var h=0,d=l.length;h<d;h++)l[h].flattenToArrayOffset(s._array,9*h);Le.uniformMatrix3fv(u,!1,s._array);break;case"m4":Le.uniformMatrix4fv(u,!1,l.elements);break;case"m4v":void 0===s._array&&(s._array=new Float32Array(16*l.length));for(var h=0,d=l.length;h<d;h++)l[h].flattenToArrayOffset(s._array,16*h);Le.uniformMatrix4fv(u,!1,s._array);break;case"t":if(t=l,n=X(),Le.uniform1i(u,n),!t)continue;t instanceof i.CubeTexture||t.image instanceof Array&&6===t.image.length?ae(t,n):t instanceof i.WebGLRenderTargetCube?se(t,n):Re.setTexture(t,n);
break;case"tv":void 0===s._array&&(s._array=[]);for(var h=0,d=s.value.length;h<d;h++)s._array[h]=X();Le.uniform1iv(u,s._array);for(var h=0,d=s.value.length;h<d;h++)t=s.value[h],n=s._array[h],t&&Re.setTexture(t,n);break;default:console.warn("THREE.WebGLRenderer: Unknown uniform type: "+c)}}}}function Z(e,t){e._modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,e.matrixWorld),e._normalMatrix.getNormalMatrix(e._modelViewMatrix)}function J(e,t,n,r){e[t]=n.r*n.r*r,e[t+1]=n.g*n.g*r,e[t+2]=n.b*n.b*r}function ee(e,t,n,r){e[t]=n.r*r,e[t+1]=n.g*r,e[t+2]=n.b*r}function te(e){var t,n,r,o,a,s,c,l,u,h=0,d=0,f=0,p=gt,m=p.directional.colors,g=p.directional.positions,v=p.point.colors,b=p.point.positions,y=p.point.distances,w=p.spot.colors,_=p.spot.positions,x=p.spot.distances,k=p.spot.directions,S=p.spot.anglesCos,j=p.spot.exponents,P=p.hemi.skyColors,E=p.hemi.groundColors,A=p.hemi.positions,T=0,C=0,M=0,O=0,I=0,F=0,D=0,L=0,R=0,N=0,U=0,$=0;for(t=0,n=e.length;t<n;t++)if(r=e[t],!r.onlyShadow)if(o=r.color,c=r.intensity,u=r.distance,r instanceof i.AmbientLight){if(!r.visible)continue;Re.gammaInput?(h+=o.r*o.r,d+=o.g*o.g,f+=o.b*o.b):(h+=o.r,d+=o.g,f+=o.b)}else if(r instanceof i.DirectionalLight){if(I+=1,!r.visible)continue;pt.setFromMatrixPosition(r.matrixWorld),ft.setFromMatrixPosition(r.target.matrixWorld),pt.sub(ft),pt.normalize(),R=3*T,g[R]=pt.x,g[R+1]=pt.y,g[R+2]=pt.z,Re.gammaInput?J(m,R,o,c*c):ee(m,R,o,c),T+=1}else if(r instanceof i.PointLight){if(F+=1,!r.visible)continue;N=3*C,Re.gammaInput?J(v,N,o,c*c):ee(v,N,o,c),ft.setFromMatrixPosition(r.matrixWorld),b[N]=ft.x,b[N+1]=ft.y,b[N+2]=ft.z,y[C]=u,C+=1}else if(r instanceof i.SpotLight){if(D+=1,!r.visible)continue;U=3*M,Re.gammaInput?J(w,U,o,c*c):ee(w,U,o,c),pt.setFromMatrixPosition(r.matrixWorld),_[U]=pt.x,_[U+1]=pt.y,_[U+2]=pt.z,x[M]=u,ft.setFromMatrixPosition(r.target.matrixWorld),pt.sub(ft),pt.normalize(),k[U]=pt.x,k[U+1]=pt.y,k[U+2]=pt.z,S[M]=Math.cos(r.angle),j[M]=r.exponent,M+=1}else if(r instanceof i.HemisphereLight){if(L+=1,!r.visible)continue;pt.setFromMatrixPosition(r.matrixWorld),pt.normalize(),$=3*O,A[$]=pt.x,A[$+1]=pt.y,A[$+2]=pt.z,a=r.color,s=r.groundColor,Re.gammaInput?(l=c*c,J(P,$,a,l),J(E,$,s,l)):(ee(P,$,a,c),ee(E,$,s,c)),O+=1}for(t=3*T,n=Math.max(m.length,3*I);t<n;t++)m[t]=0;for(t=3*C,n=Math.max(v.length,3*F);t<n;t++)v[t]=0;for(t=3*M,n=Math.max(w.length,3*D);t<n;t++)w[t]=0;for(t=3*O,n=Math.max(P.length,3*L);t<n;t++)P[t]=0;for(t=3*O,n=Math.max(E.length,3*L);t<n;t++)E[t]=0;p.directional.length=T,p.point.length=C,p.spot.length=M,p.hemi.length=O,p.ambient[0]=h,p.ambient[1]=d,p.ambient[2]=f}function ne(e){e*=be,e!==nt&&(Le.lineWidth(e),nt=e)}function re(e,t,n){Je!==e&&(e?Le.enable(Le.POLYGON_OFFSET_FILL):Le.disable(Le.POLYGON_OFFSET_FILL),Je=e),!e||et===t&&tt===n||(Le.polygonOffset(t,n),et=t,tt=n)}function ie(e,t,n){var r;n?(Le.texParameteri(e,Le.TEXTURE_WRAP_S,de(t.wrapS)),Le.texParameteri(e,Le.TEXTURE_WRAP_T,de(t.wrapT)),Le.texParameteri(e,Le.TEXTURE_MAG_FILTER,de(t.magFilter)),Le.texParameteri(e,Le.TEXTURE_MIN_FILTER,de(t.minFilter))):(Le.texParameteri(e,Le.TEXTURE_WRAP_S,Le.CLAMP_TO_EDGE),Le.texParameteri(e,Le.TEXTURE_WRAP_T,Le.CLAMP_TO_EDGE),t.wrapS===i.ClampToEdgeWrapping&&t.wrapT===i.ClampToEdgeWrapping||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT is set to THREE.ClampToEdgeWrapping. ( "+t.sourceFile+" )"),Le.texParameteri(e,Le.TEXTURE_MAG_FILTER,he(t.magFilter)),Le.texParameteri(e,Le.TEXTURE_MIN_FILTER,he(t.minFilter)),t.minFilter!==i.NearestFilter&&t.minFilter!==i.LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter is set to THREE.LinearFilter or THREE.NearestFilter. ( "+t.sourceFile+" )")),r=yt.get("EXT_texture_filter_anisotropic"),r&&t.type!==i.FloatType&&(t.anisotropy>1||t.__oldAnisotropy)&&(Le.texParameterf(e,r.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(t.anisotropy,Re.getMaxAnisotropy())),t.__oldAnisotropy=t.anisotropy)}function oe(e,t){if(e.width>t||e.height>t){var n=t/Math.max(e.width,e.height),r=document.createElement("canvas");r.width=Math.floor(e.width*n),r.height=Math.floor(e.height*n);var i=r.getContext("2d");return i.drawImage(e,0,0,e.width,e.height,0,0,r.width,r.height),console.log("THREE.WebGLRenderer:",e,"is too big ("+e.width+"x"+e.height+"). Resized to "+r.width+"x"+r.height+"."),r}return e}function ae(e,t){if(6===e.image.length)if(e.needsUpdate){e.image.__webglTextureCube||(e.addEventListener("dispose",$t),e.image.__webglTextureCube=Le.createTexture(),Re.info.memory.textures++),Le.activeTexture(Le.TEXTURE0+t),Le.bindTexture(Le.TEXTURE_CUBE_MAP,e.image.__webglTextureCube),Le.pixelStorei(Le.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var n=e instanceof i.CompressedTexture,r=e.image[0]instanceof i.DataTexture,o=[],a=0;a<6;a++)!Re.autoScaleCubemaps||n||r?o[a]=r?e.image[a].image:e.image[a]:o[a]=oe(e.image[a],jt);var s=o[0],c=i.Math.isPowerOfTwo(s.width)&&i.Math.isPowerOfTwo(s.height),l=de(e.format),u=de(e.type);ie(Le.TEXTURE_CUBE_MAP,e,c);for(var a=0;a<6;a++)if(n)for(var h,d=o[a].mipmaps,f=0,p=d.length;f<p;f++)h=d[f],e.format!==i.RGBAFormat&&e.format!==i.RGBFormat?Ot().indexOf(l)>-1?Le.compressedTexImage2D(Le.TEXTURE_CUBE_MAP_POSITIVE_X+a,f,l,h.width,h.height,0,h.data):console.warn("Attempt to load unsupported compressed texture format"):Le.texImage2D(Le.TEXTURE_CUBE_MAP_POSITIVE_X+a,f,l,h.width,h.height,0,l,u,h.data);else r?Le.texImage2D(Le.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,l,o[a].width,o[a].height,0,l,u,o[a].data):Le.texImage2D(Le.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,l,l,u,o[a]);e.generateMipmaps&&c&&Le.generateMipmap(Le.TEXTURE_CUBE_MAP),e.needsUpdate=!1,e.onUpdate&&e.onUpdate()}else Le.activeTexture(Le.TEXTURE0+t),Le.bindTexture(Le.TEXTURE_CUBE_MAP,e.image.__webglTextureCube)}function se(e,t){Le.activeTexture(Le.TEXTURE0+t),Le.bindTexture(Le.TEXTURE_CUBE_MAP,e.__webglTexture)}function ce(e,t,n){Le.bindFramebuffer(Le.FRAMEBUFFER,e),Le.framebufferTexture2D(Le.FRAMEBUFFER,Le.COLOR_ATTACHMENT0,n,t.__webglTexture,0)}function le(e,t){Le.bindRenderbuffer(Le.RENDERBUFFER,e),t.depthBuffer&&!t.stencilBuffer?(Le.renderbufferStorage(Le.RENDERBUFFER,Le.DEPTH_COMPONENT16,t.width,t.height),Le.framebufferRenderbuffer(Le.FRAMEBUFFER,Le.DEPTH_ATTACHMENT,Le.RENDERBUFFER,e)):t.depthBuffer&&t.stencilBuffer?(Le.renderbufferStorage(Le.RENDERBUFFER,Le.DEPTH_STENCIL,t.width,t.height),Le.framebufferRenderbuffer(Le.FRAMEBUFFER,Le.DEPTH_STENCIL_ATTACHMENT,Le.RENDERBUFFER,e)):Le.renderbufferStorage(Le.RENDERBUFFER,Le.RGBA4,t.width,t.height)}function ue(e){e instanceof i.WebGLRenderTargetCube?(Le.bindTexture(Le.TEXTURE_CUBE_MAP,e.__webglTexture),Le.generateMipmap(Le.TEXTURE_CUBE_MAP),Le.bindTexture(Le.TEXTURE_CUBE_MAP,null)):(Le.bindTexture(Le.TEXTURE_2D,e.__webglTexture),Le.generateMipmap(Le.TEXTURE_2D),Le.bindTexture(Le.TEXTURE_2D,null))}function he(e){return e===i.NearestFilter||e===i.NearestMipMapNearestFilter||e===i.NearestMipMapLinearFilter?Le.NEAREST:Le.LINEAR}function de(e){var t;if(e===i.RepeatWrapping)return Le.REPEAT;if(e===i.ClampToEdgeWrapping)return Le.CLAMP_TO_EDGE;if(e===i.MirroredRepeatWrapping)return Le.MIRRORED_REPEAT;if(e===i.NearestFilter)return Le.NEAREST;if(e===i.NearestMipMapNearestFilter)return Le.NEAREST_MIPMAP_NEAREST;if(e===i.NearestMipMapLinearFilter)return Le.NEAREST_MIPMAP_LINEAR;if(e===i.LinearFilter)return Le.LINEAR;if(e===i.LinearMipMapNearestFilter)return Le.LINEAR_MIPMAP_NEAREST;if(e===i.LinearMipMapLinearFilter)return Le.LINEAR_MIPMAP_LINEAR;if(e===i.UnsignedByteType)return Le.UNSIGNED_BYTE;if(e===i.UnsignedShort4444Type)return Le.UNSIGNED_SHORT_4_4_4_4;if(e===i.UnsignedShort5551Type)return Le.UNSIGNED_SHORT_5_5_5_1;if(e===i.UnsignedShort565Type)return Le.UNSIGNED_SHORT_5_6_5;if(e===i.ByteType)return Le.BYTE;if(e===i.ShortType)return Le.SHORT;if(e===i.UnsignedShortType)return Le.UNSIGNED_SHORT;if(e===i.IntType)return Le.INT;if(e===i.UnsignedIntType)return Le.UNSIGNED_INT;if(e===i.FloatType)return Le.FLOAT;if(e===i.AlphaFormat)return Le.ALPHA;if(e===i.RGBFormat)return Le.RGB;if(e===i.RGBAFormat)return Le.RGBA;if(e===i.LuminanceFormat)return Le.LUMINANCE;if(e===i.LuminanceAlphaFormat)return Le.LUMINANCE_ALPHA;if(e===i.AddEquation)return Le.FUNC_ADD;if(e===i.SubtractEquation)return Le.FUNC_SUBTRACT;if(e===i.ReverseSubtractEquation)return Le.FUNC_REVERSE_SUBTRACT;if(e===i.ZeroFactor)return Le.ZERO;if(e===i.OneFactor)return Le.ONE;if(e===i.SrcColorFactor)return Le.SRC_COLOR;if(e===i.OneMinusSrcColorFactor)return Le.ONE_MINUS_SRC_COLOR;if(e===i.SrcAlphaFactor)return Le.SRC_ALPHA;if(e===i.OneMinusSrcAlphaFactor)return Le.ONE_MINUS_SRC_ALPHA;if(e===i.DstAlphaFactor)return Le.DST_ALPHA;if(e===i.OneMinusDstAlphaFactor)return Le.ONE_MINUS_DST_ALPHA;if(e===i.DstColorFactor)return Le.DST_COLOR;if(e===i.OneMinusDstColorFactor)return Le.ONE_MINUS_DST_COLOR;if(e===i.SrcAlphaSaturateFactor)return Le.SRC_ALPHA_SATURATE;if(t=yt.get("WEBGL_compressed_texture_s3tc"),null!==t){if(e===i.RGB_S3TC_DXT1_Format)return t.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===i.RGBA_S3TC_DXT1_Format)return t.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===i.RGBA_S3TC_DXT3_Format)return t.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===i.RGBA_S3TC_DXT5_Format)return t.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(t=yt.get("WEBGL_compressed_texture_pvrtc"),null!==t){if(e===i.RGB_PVRTC_4BPPV1_Format)return t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===i.RGB_PVRTC_2BPPV1_Format)return t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===i.RGBA_PVRTC_4BPPV1_Format)return t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===i.RGBA_PVRTC_2BPPV1_Format)return t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t=yt.get("EXT_blend_minmax"),null!==t){if(e===i.MinEquation)return t.MIN_EXT;if(e===i.MaxEquation)return t.MAX_EXT}return 0}function fe(e){if(Et&&e&&e.skeleton&&e.skeleton.useVertexTexture)return 1024;var t=Le.getParameter(Le.MAX_VERTEX_UNIFORM_VECTORS),n=Math.floor((t-20)/4),r=n;return void 0!==e&&e instanceof i.SkinnedMesh&&(r=Math.min(e.skeleton.bones.length,r),r<e.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+e.skeleton.bones.length+", this GPU supports just "+r+" (try OpenGL instead of ANGLE)")),r}function pe(e){for(var t=0,n=0,r=0,o=0,a=0,s=e.length;a<s;a++){var c=e[a];c.onlyShadow||c.visible===!1||(c instanceof i.DirectionalLight&&t++,c instanceof i.PointLight&&n++,c instanceof i.SpotLight&&r++,c instanceof i.HemisphereLight&&o++)}return{directional:t,point:n,spot:r,hemi:o}}function me(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=e[n];o.castShadow&&(o instanceof i.SpotLight&&t++,o instanceof i.DirectionalLight&&!o.shadowCascade&&t++)}return t}console.log("THREE.WebGLRenderer",i.REVISION),e=e||{};var ge=void 0!==e.canvas?e.canvas:document.createElement("canvas"),ve=void 0!==e.context?e.context:null,be=1,ye=void 0!==e.precision?e.precision:"highp",we=void 0!==e.alpha&&e.alpha,_e=void 0===e.depth||e.depth,xe=void 0===e.stencil||e.stencil,ke=void 0!==e.antialias&&e.antialias,Se=void 0===e.premultipliedAlpha||e.premultipliedAlpha,je=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,Pe=void 0!==e.logarithmicDepthBuffer&&e.logarithmicDepthBuffer,Ee=new i.Color(0),Ae=0,Te=[],Ce={},Me=[],Oe=[],Ie=[],Fe=[],De=[];this.domElement=ge,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.gammaInput=!1,this.gammaOutput=!1,this.shadowMapEnabled=!1,this.shadowMapType=i.PCFShadowMap,this.shadowMapCullFace=i.CullFaceFront,this.shadowMapDebug=!1,this.shadowMapCascade=!1,this.maxMorphTargets=8,this.maxMorphNormals=4,this.autoScaleCubemaps=!0,this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var Le,Re=this,Ne=[],Ue=null,$e=null,ze=-1,Be="",qe=null,Ve=0,He=-1,We=-1,Ge=-1,Ye=-1,Ke=-1,Xe=-1,Qe=-1,Ze=-1,Je=null,et=null,tt=null,nt=null,rt=0,it=0,ot=ge.width,at=ge.height,st=0,ct=0,lt=new Uint8Array(16),ut=new Uint8Array(16),ht=new i.Frustum,dt=new i.Matrix4,ft=(new i.Matrix4,new i.Vector3),pt=new i.Vector3,mt=!0,gt={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}};try{var vt={alpha:we,depth:_e,stencil:xe,antialias:ke,premultipliedAlpha:Se,preserveDrawingBuffer:je};if(Le=ve||ge.getContext("webgl",vt)||ge.getContext("experimental-webgl",vt),null===Le)throw null!==ge.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";ge.addEventListener("webglcontextlost",function(e){e.preventDefault(),_t(),wt(),Ce={}},!1)}catch(bt){console.error(bt)}void 0===Le.getShaderPrecisionFormat&&(Le.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}});var yt=new i.WebGLExtensions(Le);yt.get("OES_texture_float"),yt.get("OES_texture_float_linear"),yt.get("OES_standard_derivatives"),Pe&&yt.get("EXT_frag_depth");var wt=function(){Le.clearColor(0,0,0,1),Le.clearDepth(1),Le.clearStencil(0),Le.enable(Le.DEPTH_TEST),Le.depthFunc(Le.LEQUAL),Le.frontFace(Le.CCW),Le.cullFace(Le.BACK),Le.enable(Le.CULL_FACE),Le.enable(Le.BLEND),Le.blendEquation(Le.FUNC_ADD),Le.blendFunc(Le.SRC_ALPHA,Le.ONE_MINUS_SRC_ALPHA),Le.viewport(rt,it,ot,at),Le.clearColor(Ee.r,Ee.g,Ee.b,Ae)},_t=function(){Ue=null,qe=null,Ge=-1,Qe=-1,Ze=-1,He=-1,We=-1,Be="",ze=-1,mt=!0;for(var e=0;e<ut.length;e++)ut[e]=0};wt(),this.context=Le;var xt=Le.getParameter(Le.MAX_TEXTURE_IMAGE_UNITS),kt=Le.getParameter(Le.MAX_VERTEX_TEXTURE_IMAGE_UNITS),St=Le.getParameter(Le.MAX_TEXTURE_SIZE),jt=Le.getParameter(Le.MAX_CUBE_MAP_TEXTURE_SIZE),Pt=kt>0,Et=Pt&&yt.get("OES_texture_float"),At=Le.getShaderPrecisionFormat(Le.VERTEX_SHADER,Le.HIGH_FLOAT),Tt=Le.getShaderPrecisionFormat(Le.VERTEX_SHADER,Le.MEDIUM_FLOAT),Ct=(Le.getShaderPrecisionFormat(Le.VERTEX_SHADER,Le.LOW_FLOAT),Le.getShaderPrecisionFormat(Le.FRAGMENT_SHADER,Le.HIGH_FLOAT)),Mt=Le.getShaderPrecisionFormat(Le.FRAGMENT_SHADER,Le.MEDIUM_FLOAT),Ot=(Le.getShaderPrecisionFormat(Le.FRAGMENT_SHADER,Le.LOW_FLOAT),function(){var e;return function(){if(void 0!==e)return e;if(e=[],yt.get("WEBGL_compressed_texture_pvrtc")||yt.get("WEBGL_compressed_texture_s3tc"))for(var t=Le.getParameter(Le.COMPRESSED_TEXTURE_FORMATS),n=0;n<t.length;n++)e.push(t[n]);return e}}()),It=At.precision>0&&Ct.precision>0,Ft=Tt.precision>0&&Mt.precision>0;"highp"!==ye||It||(Ft?(ye="mediump",console.warn("THREE.WebGLRenderer: highp not supported, using mediump.")):(ye="lowp",console.warn("THREE.WebGLRenderer: highp and mediump not supported, using lowp."))),"mediump"!==ye||Ft||(ye="lowp",console.warn("THREE.WebGLRenderer: mediump not supported, using lowp."));var Dt=new i.ShadowMapPlugin(this,Te,Ce,Me),Lt=new i.SpritePlugin(this,Fe),Rt=new i.LensFlarePlugin(this,De);this.getContext=function(){return Le},this.forceContextLoss=function(){yt.get("WEBGL_lose_context").loseContext()},this.supportsVertexTextures=function(){return Pt},this.supportsFloatTextures=function(){return yt.get("OES_texture_float")},this.supportsStandardDerivatives=function(){return yt.get("OES_standard_derivatives")},this.supportsCompressedTextureS3TC=function(){return yt.get("WEBGL_compressed_texture_s3tc")},this.supportsCompressedTexturePVRTC=function(){return yt.get("WEBGL_compressed_texture_pvrtc")},this.supportsBlendMinMax=function(){return yt.get("EXT_blend_minmax")},this.getMaxAnisotropy=function(){var e;return function(){if(void 0!==e)return e;var t=yt.get("EXT_texture_filter_anisotropic");return e=null!==t?Le.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}}(),this.getPrecision=function(){return ye},this.getPixelRatio=function(){return be},this.setPixelRatio=function(e){be=e},this.setSize=function(e,t,n){ge.width=e*be,ge.height=t*be,n!==!1&&(ge.style.width=e+"px",ge.style.height=t+"px"),this.setViewport(0,0,e,t)},this.setViewport=function(e,t,n,r){rt=e*be,it=t*be,ot=n*be,at=r*be,Le.viewport(rt,it,ot,at)},this.setScissor=function(e,t,n,r){Le.scissor(e*be,t*be,n*be,r*be)},this.enableScissorTest=function(e){e?Le.enable(Le.SCISSOR_TEST):Le.disable(Le.SCISSOR_TEST)},this.getClearColor=function(){return Ee},this.setClearColor=function(e,t){Ee.set(e),Ae=void 0!==t?t:1,Le.clearColor(Ee.r,Ee.g,Ee.b,Ae)},this.getClearAlpha=function(){return Ae},this.setClearAlpha=function(e){Ae=e,Le.clearColor(Ee.r,Ee.g,Ee.b,Ae)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=Le.COLOR_BUFFER_BIT),(void 0===t||t)&&(r|=Le.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=Le.STENCIL_BUFFER_BIT),Le.clear(r)},this.clearColor=function(){Le.clear(Le.COLOR_BUFFER_BIT)},this.clearDepth=function(){Le.clear(Le.DEPTH_BUFFER_BIT)},this.clearStencil=function(){Le.clear(Le.STENCIL_BUFFER_BIT)},this.clearTarget=function(e,t,n,r){this.setRenderTarget(e),this.clear(t,n,r)},this.resetGLState=_t;var Nt=function(e){var t=e.target;t.traverse(function(e){e.removeEventListener("remove",Nt),D(e)})},Ut=function(e){var t=e.target;t.removeEventListener("dispose",Ut),Vt(t)},$t=function(e){var t=e.target;t.removeEventListener("dispose",$t),Ht(t),Re.info.memory.textures--},zt=function(e){var t=e.target;t.removeEventListener("dispose",zt),Wt(t),Re.info.memory.textures--},Bt=function(e){var t=e.target;t.removeEventListener("dispose",Bt),Gt(t)},qt=function(e){for(var t=["__webglVertexBuffer","__webglNormalBuffer","__webglTangentBuffer","__webglColorBuffer","__webglUVBuffer","__webglUV2Buffer","__webglSkinIndicesBuffer","__webglSkinWeightsBuffer","__webglFaceBuffer","__webglLineBuffer","__webglLineDistanceBuffer"],n=0,r=t.length;n<r;n++){var i=t[n];void 0!==e[i]&&(Le.deleteBuffer(e[i]),delete e[i])}if(void 0!==e.__webglCustomAttributesList){for(var i in e.__webglCustomAttributesList)Le.deleteBuffer(e.__webglCustomAttributesList[i].buffer);delete e.__webglCustomAttributesList}Re.info.memory.geometries--},Vt=function(e){if(delete e.__webglInit,e instanceof i.BufferGeometry){for(var t in e.attributes){var n=e.attributes[t];void 0!==n.buffer&&(Le.deleteBuffer(n.buffer),delete n.buffer)}Re.info.memory.geometries--}else{var r=Yt[e.id];if(void 0!==r){for(var o=0,a=r.length;o<a;o++){var s=r[o];if(void 0!==s.numMorphTargets){for(var c=0,l=s.numMorphTargets;c<l;c++)Le.deleteBuffer(s.__webglMorphTargetsBuffers[c]);delete s.__webglMorphTargetsBuffers}if(void 0!==s.numMorphNormals){for(var c=0,l=s.numMorphNormals;c<l;c++)Le.deleteBuffer(s.__webglMorphNormalsBuffers[c]);delete s.__webglMorphNormalsBuffers}qt(s)}delete Yt[e.id]}else qt(e)}Be=""},Ht=function(e){if(e.image&&e.image.__webglTextureCube)Le.deleteTexture(e.image.__webglTextureCube),delete e.image.__webglTextureCube;else{if(void 0===e.__webglInit)return;Le.deleteTexture(e.__webglTexture),delete e.__webglTexture,delete e.__webglInit}},Wt=function(e){if(e&&void 0!==e.__webglTexture){if(Le.deleteTexture(e.__webglTexture),delete e.__webglTexture,e instanceof i.WebGLRenderTargetCube)for(var t=0;t<6;t++)Le.deleteFramebuffer(e.__webglFramebuffer[t]),Le.deleteRenderbuffer(e.__webglRenderbuffer[t]);else Le.deleteFramebuffer(e.__webglFramebuffer),Le.deleteRenderbuffer(e.__webglRenderbuffer);delete e.__webglFramebuffer,delete e.__webglRenderbuffer}},Gt=function(e){var t=e.program.program;if(void 0!==t){e.program=void 0;var n,r,i,o=!1;for(n=0,r=Ne.length;n<r;n++)if(i=Ne[n],i.program===t){i.usedTimes--,0===i.usedTimes&&(o=!0);break}if(o===!0){var a=[];for(n=0,r=Ne.length;n<r;n++)i=Ne[n],i.program!==t&&a.push(i);Ne=a,Le.deleteProgram(t),Re.info.memory.programs--}}};this.renderBufferImmediate=function(e,t,n){if(m(),e.hasPositions&&!e.__webglVertexBuffer&&(e.__webglVertexBuffer=Le.createBuffer()),e.hasNormals&&!e.__webglNormalBuffer&&(e.__webglNormalBuffer=Le.createBuffer()),e.hasUvs&&!e.__webglUvBuffer&&(e.__webglUvBuffer=Le.createBuffer()),e.hasColors&&!e.__webglColorBuffer&&(e.__webglColorBuffer=Le.createBuffer()),e.hasPositions&&(Le.bindBuffer(Le.ARRAY_BUFFER,e.__webglVertexBuffer),Le.bufferData(Le.ARRAY_BUFFER,e.positionArray,Le.DYNAMIC_DRAW),g(t.attributes.position),Le.vertexAttribPointer(t.attributes.position,3,Le.FLOAT,!1,0,0)),e.hasNormals){if(Le.bindBuffer(Le.ARRAY_BUFFER,e.__webglNormalBuffer),n.shading===i.FlatShading){var r,o,a,s,c,l,u,h,d,f,p,b,y,w,_=3*e.count;for(w=0;w<_;w+=9)y=e.normalArray,s=y[w],u=y[w+1],f=y[w+2],c=y[w+3],h=y[w+4],p=y[w+5],l=y[w+6],d=y[w+7],b=y[w+8],r=(s+c+l)/3,o=(u+h+d)/3,a=(f+p+b)/3,y[w]=r,y[w+1]=o,y[w+2]=a,y[w+3]=r,y[w+4]=o,y[w+5]=a,y[w+6]=r,y[w+7]=o,y[w+8]=a}Le.bufferData(Le.ARRAY_BUFFER,e.normalArray,Le.DYNAMIC_DRAW),g(t.attributes.normal),Le.vertexAttribPointer(t.attributes.normal,3,Le.FLOAT,!1,0,0)}e.hasUvs&&n.map&&(Le.bindBuffer(Le.ARRAY_BUFFER,e.__webglUvBuffer),Le.bufferData(Le.ARRAY_BUFFER,e.uvArray,Le.DYNAMIC_DRAW),g(t.attributes.uv),Le.vertexAttribPointer(t.attributes.uv,2,Le.FLOAT,!1,0,0)),e.hasColors&&n.vertexColors!==i.NoColors&&(Le.bindBuffer(Le.ARRAY_BUFFER,e.__webglColorBuffer),Le.bufferData(Le.ARRAY_BUFFER,e.colorArray,Le.DYNAMIC_DRAW),g(t.attributes.color),Le.vertexAttribPointer(t.attributes.color,3,Le.FLOAT,!1,0,0)),v(),Le.drawArrays(Le.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,o,a){if(r.visible!==!1){O(a);var s=N(e,t,n,r,a),c=!1,l=r.wireframe?1:0,u="direct_"+o.id+"_"+s.id+"_"+l;if(u!==Be&&(Be=u,c=!0),c&&m(),a instanceof i.Mesh){var h=r.wireframe===!0?Le.LINES:Le.TRIANGLES,d=o.attributes.index;if(d){var f,g;d.array instanceof Uint32Array&&yt.get("OES_element_index_uint")?(f=Le.UNSIGNED_INT,g=4):(f=Le.UNSIGNED_SHORT,g=2);var v=o.offsets;if(0===v.length)c&&(p(r,s,o,0),Le.bindBuffer(Le.ELEMENT_ARRAY_BUFFER,d.buffer)),Le.drawElements(h,d.array.length,f,0),Re.info.render.calls++,Re.info.render.vertices+=d.array.length,Re.info.render.faces+=d.array.length/3;else{c=!0;for(var b=0,y=v.length;b<y;b++){var w=v[b].index;c&&(p(r,s,o,w),Le.bindBuffer(Le.ELEMENT_ARRAY_BUFFER,d.buffer)),Le.drawElements(h,v[b].count,f,v[b].start*g),Re.info.render.calls++,Re.info.render.vertices+=v[b].count,Re.info.render.faces+=v[b].count/3}}}else{c&&p(r,s,o,0);var _=o.attributes.position;Le.drawArrays(h,0,_.array.length/3),Re.info.render.calls++,Re.info.render.vertices+=_.array.length/3,Re.info.render.faces+=_.array.length/9}}else if(a instanceof i.PointCloud){var h=Le.POINTS,d=o.attributes.index;if(d){var f,g;d.array instanceof Uint32Array&&yt.get("OES_element_index_uint")?(f=Le.UNSIGNED_INT,g=4):(f=Le.UNSIGNED_SHORT,g=2);var v=o.offsets;if(0===v.length)c&&(p(r,s,o,0),Le.bindBuffer(Le.ELEMENT_ARRAY_BUFFER,d.buffer)),Le.drawElements(h,d.array.length,f,0),Re.info.render.calls++,Re.info.render.points+=d.array.length;else{v.length>1&&(c=!0);for(var b=0,y=v.length;b<y;b++){var w=v[b].index;c&&(p(r,s,o,w),Le.bindBuffer(Le.ELEMENT_ARRAY_BUFFER,d.buffer)),Le.drawElements(h,v[b].count,f,v[b].start*g),Re.info.render.calls++,Re.info.render.points+=v[b].count}}}else{c&&p(r,s,o,0);var _=o.attributes.position,v=o.offsets;if(0===v.length)Le.drawArrays(h,0,_.array.length/3),Re.info.render.calls++,Re.info.render.points+=_.array.length/3;else for(var b=0,y=v.length;b<y;b++)Le.drawArrays(h,v[b].index,v[b].count),Re.info.render.calls++,Re.info.render.points+=v[b].count}}else if(a instanceof i.Line){var h=a.mode===i.LineStrip?Le.LINE_STRIP:Le.LINES;ne(r.linewidth);var d=o.attributes.index;if(d){var f,g;d.array instanceof Uint32Array?(f=Le.UNSIGNED_INT,g=4):(f=Le.UNSIGNED_SHORT,g=2);var v=o.offsets;if(0===v.length)c&&(p(r,s,o,0),Le.bindBuffer(Le.ELEMENT_ARRAY_BUFFER,d.buffer)),Le.drawElements(h,d.array.length,f,0),Re.info.render.calls++,Re.info.render.vertices+=d.array.length;else{v.length>1&&(c=!0);for(var b=0,y=v.length;b<y;b++){var w=v[b].index;c&&(p(r,s,o,w),Le.bindBuffer(Le.ELEMENT_ARRAY_BUFFER,d.buffer)),Le.drawElements(h,v[b].count,f,v[b].start*g),Re.info.render.calls++,Re.info.render.vertices+=v[b].count}}}else{c&&p(r,s,o,0);var _=o.attributes.position,v=o.offsets;if(0===v.length)Le.drawArrays(h,0,_.array.length/3),Re.info.render.calls++,Re.info.render.vertices+=_.array.length/3;else for(var b=0,y=v.length;b<y;b++)Le.drawArrays(h,v[b].index,v[b].count),Re.info.render.calls++,Re.info.render.vertices+=v[b].count}}}},this.renderBuffer=function(e,t,n,r,o,a){if(r.visible!==!1){O(a);var s=N(e,t,n,r,a),c=s.attributes,l=!1,u=r.wireframe?1:0,h=o.id+"_"+s.id+"_"+u;if(h!==Be&&(Be=h,l=!0),l&&m(),!r.morphTargets&&c.position>=0?l&&(Le.bindBuffer(Le.ARRAY_BUFFER,o.__webglVertexBuffer),g(c.position),Le.vertexAttribPointer(c.position,3,Le.FLOAT,!1,0,0)):a.morphTargetBase&&b(r,o,a),l){if(o.__webglCustomAttributesList)for(var d=0,f=o.__webglCustomAttributesList.length;d<f;d++){var p=o.__webglCustomAttributesList[d];c[p.buffer.belongsToAttribute]>=0&&(Le.bindBuffer(Le.ARRAY_BUFFER,p.buffer),g(c[p.buffer.belongsToAttribute]),Le.vertexAttribPointer(c[p.buffer.belongsToAttribute],p.size,Le.FLOAT,!1,0,0))}c.color>=0&&(a.geometry.colors.length>0||a.geometry.faces.length>0?(Le.bindBuffer(Le.ARRAY_BUFFER,o.__webglColorBuffer),g(c.color),Le.vertexAttribPointer(c.color,3,Le.FLOAT,!1,0,0)):void 0!==r.defaultAttributeValues&&Le.vertexAttrib3fv(c.color,r.defaultAttributeValues.color)),c.normal>=0&&(Le.bindBuffer(Le.ARRAY_BUFFER,o.__webglNormalBuffer),g(c.normal),Le.vertexAttribPointer(c.normal,3,Le.FLOAT,!1,0,0)),c.tangent>=0&&(Le.bindBuffer(Le.ARRAY_BUFFER,o.__webglTangentBuffer),g(c.tangent),Le.vertexAttribPointer(c.tangent,4,Le.FLOAT,!1,0,0)),c.uv>=0&&(a.geometry.faceVertexUvs[0]?(Le.bindBuffer(Le.ARRAY_BUFFER,o.__webglUVBuffer),g(c.uv),Le.vertexAttribPointer(c.uv,2,Le.FLOAT,!1,0,0)):void 0!==r.defaultAttributeValues&&Le.vertexAttrib2fv(c.uv,r.defaultAttributeValues.uv)),c.uv2>=0&&(a.geometry.faceVertexUvs[1]?(Le.bindBuffer(Le.ARRAY_BUFFER,o.__webglUV2Buffer),g(c.uv2),Le.vertexAttribPointer(c.uv2,2,Le.FLOAT,!1,0,0)):void 0!==r.defaultAttributeValues&&Le.vertexAttrib2fv(c.uv2,r.defaultAttributeValues.uv2)),r.skinning&&c.skinIndex>=0&&c.skinWeight>=0&&(Le.bindBuffer(Le.ARRAY_BUFFER,o.__webglSkinIndicesBuffer),g(c.skinIndex),Le.vertexAttribPointer(c.skinIndex,4,Le.FLOAT,!1,0,0),Le.bindBuffer(Le.ARRAY_BUFFER,o.__webglSkinWeightsBuffer),g(c.skinWeight),Le.vertexAttribPointer(c.skinWeight,4,Le.FLOAT,!1,0,0)),c.lineDistance>=0&&(Le.bindBuffer(Le.ARRAY_BUFFER,o.__webglLineDistanceBuffer),g(c.lineDistance),Le.vertexAttribPointer(c.lineDistance,1,Le.FLOAT,!1,0,0))}if(v(),a instanceof i.Mesh){var y=o.__typeArray===Uint32Array?Le.UNSIGNED_INT:Le.UNSIGNED_SHORT;r.wireframe?(ne(r.wireframeLinewidth),l&&Le.bindBuffer(Le.ELEMENT_ARRAY_BUFFER,o.__webglLineBuffer),Le.drawElements(Le.LINES,o.__webglLineCount,y,0)):(l&&Le.bindBuffer(Le.ELEMENT_ARRAY_BUFFER,o.__webglFaceBuffer),Le.drawElements(Le.TRIANGLES,o.__webglFaceCount,y,0)),Re.info.render.calls++,Re.info.render.vertices+=o.__webglFaceCount,Re.info.render.faces+=o.__webglFaceCount/3}else if(a instanceof i.Line){var w=a.mode===i.LineStrip?Le.LINE_STRIP:Le.LINES;ne(r.linewidth),Le.drawArrays(w,0,o.__webglLineCount),Re.info.render.calls++}else a instanceof i.PointCloud&&(Le.drawArrays(Le.POINTS,0,o.__webglParticleCount),Re.info.render.calls++,Re.info.render.points+=o.__webglParticleCount)}},this.render=function(e,t,n,r){if(t instanceof i.Camera==!1)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");var o=e.fog;Be="",ze=-1,qe=null,mt=!0,e.autoUpdate===!0&&e.updateMatrixWorld(),void 0===t.parent&&t.updateMatrixWorld(),e.traverse(function(e){e instanceof i.SkinnedMesh&&e.skeleton.update()}),t.matrixWorldInverse.getInverse(t.matrixWorld),dt.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),ht.setFromMatrix(dt),Te.length=0,Oe.length=0,Ie.length=0,Fe.length=0,De.length=0,x(e),Re.sortObjects===!0&&(Oe.sort(y),Ie.sort(w)),Dt.render(e,t),Re.info.render.calls=0,Re.info.render.vertices=0,Re.info.render.faces=0,Re.info.render.points=0,this.setRenderTarget(n),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil);for(var a=0,s=Me.length;a<s;a++){var c=Me[a],l=c.object;l.visible&&(Z(l,t),j(c))}if(e.overrideMaterial){var u=e.overrideMaterial;this.setBlending(u.blending,u.blendEquation,u.blendSrc,u.blendDst),this.setDepthTest(u.depthTest),this.setDepthWrite(u.depthWrite),re(u.polygonOffset,u.polygonOffsetFactor,u.polygonOffsetUnits),k(Oe,t,Te,o,!0,u),k(Ie,t,Te,o,!0,u),S(Me,"",t,Te,o,!1,u)}else{var u=null;this.setBlending(i.NoBlending),k(Oe,t,Te,o,!1,u),S(Me,"opaque",t,Te,o,!1,u),k(Ie,t,Te,o,!0,u),S(Me,"transparent",t,Te,o,!0,u)}Lt.render(e,t),Rt.render(e,t,st,ct),n&&n.generateMipmaps&&n.minFilter!==i.NearestFilter&&n.minFilter!==i.LinearFilter&&ue(n),this.setDepthTest(!0),this.setDepthWrite(!0)},this.renderImmediateObject=function(e,t,n,r,i){var o=N(e,t,n,r,i);Be="",Re.setMaterialFaces(r),i.immediateRenderCallback?i.immediateRenderCallback(o,Le,ht):i.render(function(e){Re.renderBufferImmediate(e,o,r)})};var Yt={},Kt=0,Xt={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointCloudMaterial:"particle_basic"};this.setFaceCulling=function(e,t){e===i.CullFaceNone?Le.disable(Le.CULL_FACE):(t===i.FrontFaceDirectionCW?Le.frontFace(Le.CW):Le.frontFace(Le.CCW),e===i.CullFaceBack?Le.cullFace(Le.BACK):e===i.CullFaceFront?Le.cullFace(Le.FRONT):Le.cullFace(Le.FRONT_AND_BACK),Le.enable(Le.CULL_FACE))},this.setMaterialFaces=function(e){var t=e.side===i.DoubleSide,n=e.side===i.BackSide;He!==t&&(t?Le.disable(Le.CULL_FACE):Le.enable(Le.CULL_FACE),He=t),We!==n&&(n?Le.frontFace(Le.CW):Le.frontFace(Le.CCW),We=n)},this.setDepthTest=function(e){Qe!==e&&(e?Le.enable(Le.DEPTH_TEST):Le.disable(Le.DEPTH_TEST),Qe=e)},this.setDepthWrite=function(e){Ze!==e&&(Le.depthMask(e),Ze=e)},this.setBlending=function(e,t,n,r){e!==Ge&&(e===i.NoBlending?Le.disable(Le.BLEND):e===i.AdditiveBlending?(Le.enable(Le.BLEND),Le.blendEquation(Le.FUNC_ADD),Le.blendFunc(Le.SRC_ALPHA,Le.ONE)):e===i.SubtractiveBlending?(Le.enable(Le.BLEND),Le.blendEquation(Le.FUNC_ADD),Le.blendFunc(Le.ZERO,Le.ONE_MINUS_SRC_COLOR)):e===i.MultiplyBlending?(Le.enable(Le.BLEND),Le.blendEquation(Le.FUNC_ADD),Le.blendFunc(Le.ZERO,Le.SRC_COLOR)):e===i.CustomBlending?Le.enable(Le.BLEND):(Le.enable(Le.BLEND),Le.blendEquationSeparate(Le.FUNC_ADD,Le.FUNC_ADD),Le.blendFuncSeparate(Le.SRC_ALPHA,Le.ONE_MINUS_SRC_ALPHA,Le.ONE,Le.ONE_MINUS_SRC_ALPHA)),Ge=e),e===i.CustomBlending?(t!==Ye&&(Le.blendEquation(de(t)),Ye=t),n===Ke&&r===Xe||(Le.blendFunc(de(n),de(r)),Ke=n,Xe=r)):(Ye=null,Ke=null,Xe=null)},this.uploadTexture=function(e){void 0===e.__webglInit&&(e.__webglInit=!0,e.addEventListener("dispose",$t),e.__webglTexture=Le.createTexture(),Re.info.memory.textures++),Le.bindTexture(Le.TEXTURE_2D,e.__webglTexture),Le.pixelStorei(Le.UNPACK_FLIP_Y_WEBGL,e.flipY),Le.pixelStorei(Le.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),Le.pixelStorei(Le.UNPACK_ALIGNMENT,e.unpackAlignment),e.image=oe(e.image,St);var t=e.image,n=i.Math.isPowerOfTwo(t.width)&&i.Math.isPowerOfTwo(t.height),r=de(e.format),o=de(e.type);ie(Le.TEXTURE_2D,e,n);var a,s=e.mipmaps;if(e instanceof i.DataTexture)if(s.length>0&&n){for(var c=0,l=s.length;c<l;c++)a=s[c],Le.texImage2D(Le.TEXTURE_2D,c,r,a.width,a.height,0,r,o,a.data);e.generateMipmaps=!1}else Le.texImage2D(Le.TEXTURE_2D,0,r,t.width,t.height,0,r,o,t.data);else if(e instanceof i.CompressedTexture)for(var c=0,l=s.length;c<l;c++)a=s[c],e.format!==i.RGBAFormat&&e.format!==i.RGBFormat?Ot().indexOf(r)>-1?Le.compressedTexImage2D(Le.TEXTURE_2D,c,r,a.width,a.height,0,a.data):console.warn("Attempt to load unsupported compressed texture format"):Le.texImage2D(Le.TEXTURE_2D,c,r,a.width,a.height,0,r,o,a.data);else if(s.length>0&&n){for(var c=0,l=s.length;c<l;c++)a=s[c],Le.texImage2D(Le.TEXTURE_2D,c,r,r,o,a);e.generateMipmaps=!1}else Le.texImage2D(Le.TEXTURE_2D,0,r,r,o,e.image);e.generateMipmaps&&n&&Le.generateMipmap(Le.TEXTURE_2D),e.needsUpdate=!1,e.onUpdate&&e.onUpdate()},this.setTexture=function(e,t){Le.activeTexture(Le.TEXTURE0+t),e.needsUpdate?Re.uploadTexture(e):Le.bindTexture(Le.TEXTURE_2D,e.__webglTexture)},this.setRenderTarget=function(e){var t=e instanceof i.WebGLRenderTargetCube;if(e&&void 0===e.__webglFramebuffer){void 0===e.depthBuffer&&(e.depthBuffer=!0),
void 0===e.stencilBuffer&&(e.stencilBuffer=!0),e.addEventListener("dispose",zt),e.__webglTexture=Le.createTexture(),Re.info.memory.textures++;var n=i.Math.isPowerOfTwo(e.width)&&i.Math.isPowerOfTwo(e.height),r=de(e.format),o=de(e.type);if(t){e.__webglFramebuffer=[],e.__webglRenderbuffer=[],Le.bindTexture(Le.TEXTURE_CUBE_MAP,e.__webglTexture),ie(Le.TEXTURE_CUBE_MAP,e,n);for(var a=0;a<6;a++)e.__webglFramebuffer[a]=Le.createFramebuffer(),e.__webglRenderbuffer[a]=Le.createRenderbuffer(),Le.texImage2D(Le.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,r,e.width,e.height,0,r,o,null),ce(e.__webglFramebuffer[a],e,Le.TEXTURE_CUBE_MAP_POSITIVE_X+a),le(e.__webglRenderbuffer[a],e);n&&Le.generateMipmap(Le.TEXTURE_CUBE_MAP)}else e.__webglFramebuffer=Le.createFramebuffer(),e.shareDepthFrom?e.__webglRenderbuffer=e.shareDepthFrom.__webglRenderbuffer:e.__webglRenderbuffer=Le.createRenderbuffer(),Le.bindTexture(Le.TEXTURE_2D,e.__webglTexture),ie(Le.TEXTURE_2D,e,n),Le.texImage2D(Le.TEXTURE_2D,0,r,e.width,e.height,0,r,o,null),ce(e.__webglFramebuffer,e,Le.TEXTURE_2D),e.shareDepthFrom?e.depthBuffer&&!e.stencilBuffer?Le.framebufferRenderbuffer(Le.FRAMEBUFFER,Le.DEPTH_ATTACHMENT,Le.RENDERBUFFER,e.__webglRenderbuffer):e.depthBuffer&&e.stencilBuffer&&Le.framebufferRenderbuffer(Le.FRAMEBUFFER,Le.DEPTH_STENCIL_ATTACHMENT,Le.RENDERBUFFER,e.__webglRenderbuffer):le(e.__webglRenderbuffer,e),n&&Le.generateMipmap(Le.TEXTURE_2D);t?Le.bindTexture(Le.TEXTURE_CUBE_MAP,null):Le.bindTexture(Le.TEXTURE_2D,null),Le.bindRenderbuffer(Le.RENDERBUFFER,null),Le.bindFramebuffer(Le.FRAMEBUFFER,null)}var s,c,l,u,h;e?(s=t?e.__webglFramebuffer[e.activeCubeFace]:e.__webglFramebuffer,c=e.width,l=e.height,u=0,h=0):(s=null,c=ot,l=at,u=rt,h=it),s!==$e&&(Le.bindFramebuffer(Le.FRAMEBUFFER,s),Le.viewport(u,h,c,l),$e=s),st=c,ct=l},this.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},this.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},this.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},this.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}},i.WebGLRenderTarget=function(e,t,n){this.width=e,this.height=t,n=n||{},this.wrapS=void 0!==n.wrapS?n.wrapS:i.ClampToEdgeWrapping,this.wrapT=void 0!==n.wrapT?n.wrapT:i.ClampToEdgeWrapping,this.magFilter=void 0!==n.magFilter?n.magFilter:i.LinearFilter,this.minFilter=void 0!==n.minFilter?n.minFilter:i.LinearMipMapLinearFilter,this.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,this.offset=new i.Vector2(0,0),this.repeat=new i.Vector2(1,1),this.format=void 0!==n.format?n.format:i.RGBAFormat,this.type=void 0!==n.type?n.type:i.UnsignedByteType,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.generateMipmaps=!0,this.shareDepthFrom=null},i.WebGLRenderTarget.prototype={constructor:i.WebGLRenderTarget,setSize:function(e,t){this.width=e,this.height=t},clone:function(){var e=new i.WebGLRenderTarget(this.width,this.height);return e.wrapS=this.wrapS,e.wrapT=this.wrapT,e.magFilter=this.magFilter,e.minFilter=this.minFilter,e.anisotropy=this.anisotropy,e.offset.copy(this.offset),e.repeat.copy(this.repeat),e.format=this.format,e.type=this.type,e.depthBuffer=this.depthBuffer,e.stencilBuffer=this.stencilBuffer,e.generateMipmaps=this.generateMipmaps,e.shareDepthFrom=this.shareDepthFrom,e},dispose:function(){this.dispatchEvent({type:"dispose"})}},i.EventDispatcher.prototype.apply(i.WebGLRenderTarget.prototype),i.WebGLRenderTargetCube=function(e,t,n){i.WebGLRenderTarget.call(this,e,t,n),this.activeCubeFace=0},i.WebGLRenderTargetCube.prototype=Object.create(i.WebGLRenderTarget.prototype),i.WebGLRenderTargetCube.prototype.constructor=i.WebGLRenderTargetCube,i.WebGLExtensions=function(e){var t={};this.get=function(n){if(void 0!==t[n])return t[n];var r;switch(n){case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return null===r&&console.log("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=r,r}},i.WebGLProgram=function(){var e=0,t=function(e){var t,n,r=[];for(var i in e)t=e[i],t!==!1&&(n="#define "+i+" "+t,r.push(n));return r.join("\n")},n=function(e,t,n){for(var r={},i=0,o=n.length;i<o;i++){var a=n[i];r[a]=e.getUniformLocation(t,a)}return r},r=function(e,t,n){for(var r={},i=0,o=n.length;i<o;i++){var a=n[i];r[a]=e.getAttribLocation(t,a)}return r};return function(o,a,s,c){var l=o,u=l.context,h=s.defines,d=s.__webglShader.uniforms,f=s.attributes,p=s.__webglShader.vertexShader,m=s.__webglShader.fragmentShader,g=s.index0AttributeName;void 0===g&&c.morphTargets===!0&&(g="position");var v="SHADOWMAP_TYPE_BASIC";c.shadowMapType===i.PCFShadowMap?v="SHADOWMAP_TYPE_PCF":c.shadowMapType===i.PCFSoftShadowMap&&(v="SHADOWMAP_TYPE_PCF_SOFT");var b="ENVMAP_TYPE_CUBE",y="ENVMAP_MODE_REFLECTION",w="ENVMAP_BLENDING_MULTIPLY";if(c.envMap){switch(s.envMap.mapping){case i.CubeReflectionMapping:case i.CubeRefractionMapping:b="ENVMAP_TYPE_CUBE";break;case i.EquirectangularReflectionMapping:case i.EquirectangularRefractionMapping:b="ENVMAP_TYPE_EQUIREC";break;case i.SphericalReflectionMapping:b="ENVMAP_TYPE_SPHERE"}switch(s.envMap.mapping){case i.CubeRefractionMapping:case i.EquirectangularRefractionMapping:y="ENVMAP_MODE_REFRACTION"}switch(s.combine){case i.MultiplyOperation:w="ENVMAP_BLENDING_MULTIPLY";break;case i.MixOperation:w="ENVMAP_BLENDING_MIX";break;case i.AddOperation:w="ENVMAP_BLENDING_ADD"}}var _,x,k=t(h),S=u.createProgram();s instanceof i.RawShaderMaterial?(_="",x=""):(_=["precision "+c.precision+" float;","precision "+c.precision+" int;",k,c.supportsVertexTextures?"#define VERTEX_TEXTURES":"",l.gammaInput?"#define GAMMA_INPUT":"",l.gammaOutput?"#define GAMMA_OUTPUT":"","#define MAX_DIR_LIGHTS "+c.maxDirLights,"#define MAX_POINT_LIGHTS "+c.maxPointLights,"#define MAX_SPOT_LIGHTS "+c.maxSpotLights,"#define MAX_HEMI_LIGHTS "+c.maxHemiLights,"#define MAX_SHADOWS "+c.maxShadows,"#define MAX_BONES "+c.maxBones,c.map?"#define USE_MAP":"",c.envMap?"#define USE_ENVMAP":"",c.envMap?"#define "+y:"",c.lightMap?"#define USE_LIGHTMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.vertexColors?"#define USE_COLOR":"",c.skinning?"#define USE_SKINNING":"",c.useVertexTexture?"#define BONE_TEXTURE":"",c.morphTargets?"#define USE_MORPHTARGETS":"",c.morphNormals?"#define USE_MORPHNORMALS":"",c.wrapAround?"#define WRAP_AROUND":"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+v:"",c.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",c.shadowMapCascade?"#define SHADOWMAP_CASCADE":"",c.sizeAttenuation?"#define USE_SIZEATTENUATION":"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","attribute vec2 uv2;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif",""].join("\n"),x=["precision "+c.precision+" float;","precision "+c.precision+" int;",c.bumpMap||c.normalMap?"#extension GL_OES_standard_derivatives : enable":"",k,"#define MAX_DIR_LIGHTS "+c.maxDirLights,"#define MAX_POINT_LIGHTS "+c.maxPointLights,"#define MAX_SPOT_LIGHTS "+c.maxSpotLights,"#define MAX_HEMI_LIGHTS "+c.maxHemiLights,"#define MAX_SHADOWS "+c.maxShadows,c.alphaTest?"#define ALPHATEST "+c.alphaTest:"",l.gammaInput?"#define GAMMA_INPUT":"",l.gammaOutput?"#define GAMMA_OUTPUT":"",c.useFog&&c.fog?"#define USE_FOG":"",c.useFog&&c.fogExp?"#define FOG_EXP2":"",c.map?"#define USE_MAP":"",c.envMap?"#define USE_ENVMAP":"",c.envMap?"#define "+b:"",c.envMap?"#define "+y:"",c.envMap?"#define "+w:"",c.lightMap?"#define USE_LIGHTMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.vertexColors?"#define USE_COLOR":"",c.metal?"#define METAL":"",c.wrapAround?"#define WRAP_AROUND":"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+v:"",c.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",c.shadowMapCascade?"#define SHADOWMAP_CASCADE":"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",""].join("\n"));var j=new i.WebGLShader(u,u.VERTEX_SHADER,_+p),P=new i.WebGLShader(u,u.FRAGMENT_SHADER,x+m);u.attachShader(S,j),u.attachShader(S,P),void 0!==g&&u.bindAttribLocation(S,0,g),u.linkProgram(S),u.getProgramParameter(S,u.LINK_STATUS)===!1&&(console.error("THREE.WebGLProgram: Could not initialise shader."),console.error("gl.VALIDATE_STATUS",u.getProgramParameter(S,u.VALIDATE_STATUS)),console.error("gl.getError()",u.getError())),""!==u.getProgramInfoLog(S)&&console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",u.getProgramInfoLog(S)),u.deleteShader(j),u.deleteShader(P);var E=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix","modelMatrix","cameraPosition","morphTargetInfluences","bindMatrix","bindMatrixInverse"];c.useVertexTexture?(E.push("boneTexture"),E.push("boneTextureWidth"),E.push("boneTextureHeight")):E.push("boneGlobalMatrices"),c.logarithmicDepthBuffer&&E.push("logDepthBufFC");for(var A in d)E.push(A);this.uniforms=n(u,S,E),E=["position","normal","uv","uv2","tangent","color","skinIndex","skinWeight","lineDistance"];for(var T=0;T<c.maxMorphTargets;T++)E.push("morphTarget"+T);for(var T=0;T<c.maxMorphNormals;T++)E.push("morphNormal"+T);for(var C in f)E.push(C);return this.attributes=r(u,S,E),this.attributesKeys=Object.keys(this.attributes),this.id=e++,this.code=a,this.usedTimes=1,this.program=S,this.vertexShader=j,this.fragmentShader=P,this}}(),i.WebGLShader=function(){var e=function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")};return function(t,n,r){var i=t.createShader(n);return t.shaderSource(i,r),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)===!1&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(i)&&(console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",t.getShaderInfoLog(i)),console.warn(e(r))),i}}(),i.LensFlarePlugin=function(e,t){function n(t){var n=d.createProgram(),r=d.createShader(d.FRAGMENT_SHADER),i=d.createShader(d.VERTEX_SHADER),o="precision "+e.getPrecision()+" float;\n";return d.shaderSource(r,o+t.fragmentShader),d.shaderSource(i,o+t.vertexShader),d.compileShader(r),d.compileShader(i),d.attachShader(n,r),d.attachShader(n,i),d.linkProgram(n),n}var r,o,a,s,c,l,u,h,d=e.context,f=function(){var e=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),t=new Uint16Array([0,1,2,0,2,3]);r=d.createBuffer(),o=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,r),d.bufferData(d.ARRAY_BUFFER,e,d.STATIC_DRAW),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,o),d.bufferData(d.ELEMENT_ARRAY_BUFFER,t,d.STATIC_DRAW),u=d.createTexture(),h=d.createTexture(),d.bindTexture(d.TEXTURE_2D,u),d.texImage2D(d.TEXTURE_2D,0,d.RGB,16,16,0,d.RGB,d.UNSIGNED_BYTE,null),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),d.bindTexture(d.TEXTURE_2D,h),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,16,16,0,d.RGBA,d.UNSIGNED_BYTE,null),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),l=d.getParameter(d.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;var i;i=l?{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")}:{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uv;","vec2 pos = position;","if( renderType == 2 ) {","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["precision mediump float;","uniform lowp int renderType;","uniform sampler2D map;","uniform sampler2D occlusionMap;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","void main() {","if( renderType == 0 ) {","gl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );","} else if( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","float visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;","visibility = ( 1.0 - visibility / 4.0 );","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * visibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},a=n(i),s={vertex:d.getAttribLocation(a,"position"),uv:d.getAttribLocation(a,"uv")},c={renderType:d.getUniformLocation(a,"renderType"),map:d.getUniformLocation(a,"map"),occlusionMap:d.getUniformLocation(a,"occlusionMap"),opacity:d.getUniformLocation(a,"opacity"),color:d.getUniformLocation(a,"color"),scale:d.getUniformLocation(a,"scale"),rotation:d.getUniformLocation(a,"rotation"),screenPosition:d.getUniformLocation(a,"screenPosition")}};this.render=function(n,p,m,g){if(0!==t.length){var v=new i.Vector3,b=g/m,y=.5*m,w=.5*g,_=16/g,x=new i.Vector2(_*b,_),k=new i.Vector3(1,1,0),S=new i.Vector2(1,1);void 0===a&&f(),d.useProgram(a),d.enableVertexAttribArray(s.vertex),d.enableVertexAttribArray(s.uv),d.uniform1i(c.occlusionMap,0),d.uniform1i(c.map,1),d.bindBuffer(d.ARRAY_BUFFER,r),d.vertexAttribPointer(s.vertex,2,d.FLOAT,!1,16,0),d.vertexAttribPointer(s.uv,2,d.FLOAT,!1,16,8),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,o),d.disable(d.CULL_FACE),d.depthMask(!1);for(var j=0,P=t.length;j<P;j++){_=16/g,x.set(_*b,_);var E=t[j];if(v.set(E.matrixWorld.elements[12],E.matrixWorld.elements[13],E.matrixWorld.elements[14]),v.applyMatrix4(p.matrixWorldInverse),v.applyProjection(p.projectionMatrix),k.copy(v),S.x=k.x*y+y,S.y=k.y*w+w,l||S.x>0&&S.x<m&&S.y>0&&S.y<g){d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,u),d.copyTexImage2D(d.TEXTURE_2D,0,d.RGB,S.x-8,S.y-8,16,16,0),d.uniform1i(c.renderType,0),d.uniform2f(c.scale,x.x,x.y),d.uniform3f(c.screenPosition,k.x,k.y,k.z),d.disable(d.BLEND),d.enable(d.DEPTH_TEST),d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,h),d.copyTexImage2D(d.TEXTURE_2D,0,d.RGBA,S.x-8,S.y-8,16,16,0),d.uniform1i(c.renderType,1),d.disable(d.DEPTH_TEST),d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,u),d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0),E.positionScreen.copy(k),E.customUpdateCallback?E.customUpdateCallback(E):E.updateLensFlares(),d.uniform1i(c.renderType,2),d.enable(d.BLEND);for(var A=0,T=E.lensFlares.length;A<T;A++){var C=E.lensFlares[A];C.opacity>.001&&C.scale>.001&&(k.x=C.x,k.y=C.y,k.z=C.z,_=C.size*C.scale/g,x.x=_*b,x.y=_,d.uniform3f(c.screenPosition,k.x,k.y,k.z),d.uniform2f(c.scale,x.x,x.y),d.uniform1f(c.rotation,C.rotation),d.uniform1f(c.opacity,C.opacity),d.uniform3f(c.color,C.color.r,C.color.g,C.color.b),e.setBlending(C.blending,C.blendEquation,C.blendSrc,C.blendDst),e.setTexture(C.texture,1),d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0))}}}d.enable(d.CULL_FACE),d.enable(d.DEPTH_TEST),d.depthMask(!0),e.resetGLState()}}},i.ShadowMapPlugin=function(e,t,n,r){function o(e,t,r){if(t.visible){var i=n[t.id];if(i&&t.castShadow&&(t.frustumCulled===!1||m.intersectsObject(t)===!0))for(var a=0,s=i.length;a<s;a++){var c=i[a];t._modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,t.matrixWorld),w.push(c)}for(var a=0,s=t.children.length;a<s;a++)o(e,t.children[a],r)}}function a(e,t){var n=new i.DirectionalLight;n.isVirtual=!0,n.onlyShadow=!0,n.castShadow=!0,n.shadowCameraNear=e.shadowCameraNear,n.shadowCameraFar=e.shadowCameraFar,n.shadowCameraLeft=e.shadowCameraLeft,n.shadowCameraRight=e.shadowCameraRight,n.shadowCameraBottom=e.shadowCameraBottom,n.shadowCameraTop=e.shadowCameraTop,n.shadowCameraVisible=e.shadowCameraVisible,n.shadowDarkness=e.shadowDarkness,n.shadowBias=e.shadowCascadeBias[t],n.shadowMapWidth=e.shadowCascadeWidth[t],n.shadowMapHeight=e.shadowCascadeHeight[t],n.pointsWorld=[],n.pointsFrustum=[];for(var r=n.pointsWorld,o=n.pointsFrustum,a=0;a<8;a++)r[a]=new i.Vector3,o[a]=new i.Vector3;var s=e.shadowCascadeNearZ[t],c=e.shadowCascadeFarZ[t];return o[0].set(-1,-1,s),o[1].set(1,-1,s),o[2].set(-1,1,s),o[3].set(1,1,s),o[4].set(-1,-1,c),o[5].set(1,-1,c),o[6].set(-1,1,c),o[7].set(1,1,c),n}function s(e,t){var n=e.shadowCascadeArray[t];n.position.copy(e.position),n.target.position.copy(e.target.position),n.lookAt(n.target),n.shadowCameraVisible=e.shadowCameraVisible,n.shadowDarkness=e.shadowDarkness,n.shadowBias=e.shadowCascadeBias[t];var r=e.shadowCascadeNearZ[t],i=e.shadowCascadeFarZ[t],o=n.pointsFrustum;o[0].z=r,o[1].z=r,o[2].z=r,o[3].z=r,o[4].z=i,o[5].z=i,o[6].z=i,o[7].z=i}function c(e,t){var n=t.shadowCamera,r=t.pointsFrustum,i=t.pointsWorld;v.set(1/0,1/0,1/0),b.set(-(1/0),-(1/0),-(1/0));for(var o=0;o<8;o++){var a=i[o];a.copy(r[o]),a.unproject(e),a.applyMatrix4(n.matrixWorldInverse),a.x<v.x&&(v.x=a.x),a.x>b.x&&(b.x=a.x),a.y<v.y&&(v.y=a.y),a.y>b.y&&(b.y=a.y),a.z<v.z&&(v.z=a.z),a.z>b.z&&(b.z=a.z)}n.left=v.x,n.right=b.x,n.top=b.y,n.bottom=v.y,n.updateProjectionMatrix()}function l(e){return e.material instanceof i.MeshFaceMaterial?e.material.materials[0]:e.material}var u,h,d,f,p=e.context,m=new i.Frustum,g=new i.Matrix4,v=new i.Vector3,b=new i.Vector3,y=new i.Vector3,w=[],_=i.ShaderLib.depthRGBA,x=i.UniformsUtils.clone(_.uniforms);u=new i.ShaderMaterial({uniforms:x,vertexShader:_.vertexShader,fragmentShader:_.fragmentShader}),h=new i.ShaderMaterial({uniforms:x,vertexShader:_.vertexShader,fragmentShader:_.fragmentShader,morphTargets:!0}),d=new i.ShaderMaterial({uniforms:x,vertexShader:_.vertexShader,fragmentShader:_.fragmentShader,skinning:!0}),f=new i.ShaderMaterial({uniforms:x,vertexShader:_.vertexShader,fragmentShader:_.fragmentShader,morphTargets:!0,skinning:!0}),u._shadowPass=!0,h._shadowPass=!0,d._shadowPass=!0,f._shadowPass=!0,this.render=function(n,v){if(e.shadowMapEnabled!==!1){var b,_,x,k,S,j,P,E,A,T,C,M,O,I=[],F=0,D=null;for(p.clearColor(1,1,1,1),p.disable(p.BLEND),p.enable(p.CULL_FACE),p.frontFace(p.CCW),e.shadowMapCullFace===i.CullFaceFront?p.cullFace(p.FRONT):p.cullFace(p.BACK),e.setDepthTest(!0),b=0,_=t.length;b<_;b++)if(O=t[b],O.castShadow)if(O instanceof i.DirectionalLight&&O.shadowCascade)for(S=0;S<O.shadowCascadeCount;S++){var L;if(O.shadowCascadeArray[S])L=O.shadowCascadeArray[S];else{L=a(O,S),L.originalCamera=v;var R=new i.Gyroscope;R.position.copy(O.shadowCascadeOffset),R.add(L),R.add(L.target),v.add(R),O.shadowCascadeArray[S]=L,console.log("Created virtualLight",L)}s(O,S),I[F]=L,F++}else I[F]=O,F++;for(b=0,_=I.length;b<_;b++){if(O=I[b],!O.shadowMap){var N=i.LinearFilter;e.shadowMapType===i.PCFSoftShadowMap&&(N=i.NearestFilter);var U={minFilter:N,magFilter:N,format:i.RGBAFormat};O.shadowMap=new i.WebGLRenderTarget(O.shadowMapWidth,O.shadowMapHeight,U),O.shadowMapSize=new i.Vector2(O.shadowMapWidth,O.shadowMapHeight),O.shadowMatrix=new i.Matrix4}if(!O.shadowCamera){if(O instanceof i.SpotLight)O.shadowCamera=new i.PerspectiveCamera(O.shadowCameraFov,O.shadowMapWidth/O.shadowMapHeight,O.shadowCameraNear,O.shadowCameraFar);else{if(!(O instanceof i.DirectionalLight)){console.error("Unsupported light type for shadow");continue}O.shadowCamera=new i.OrthographicCamera(O.shadowCameraLeft,O.shadowCameraRight,O.shadowCameraTop,O.shadowCameraBottom,O.shadowCameraNear,O.shadowCameraFar)}n.add(O.shadowCamera),n.autoUpdate===!0&&n.updateMatrixWorld()}O.shadowCameraVisible&&!O.cameraHelper&&(O.cameraHelper=new i.CameraHelper(O.shadowCamera),n.add(O.cameraHelper)),O.isVirtual&&L.originalCamera==v&&c(v,O),j=O.shadowMap,P=O.shadowMatrix,E=O.shadowCamera,E.position.setFromMatrixPosition(O.matrixWorld),y.setFromMatrixPosition(O.target.matrixWorld),E.lookAt(y),E.updateMatrixWorld(),E.matrixWorldInverse.getInverse(E.matrixWorld),O.cameraHelper&&(O.cameraHelper.visible=O.shadowCameraVisible),O.shadowCameraVisible&&O.cameraHelper.update(),P.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),P.multiply(E.projectionMatrix),P.multiply(E.matrixWorldInverse),g.multiplyMatrices(E.projectionMatrix,E.matrixWorldInverse),m.setFromMatrix(g),e.setRenderTarget(j),e.clear(),w.length=0,o(n,n,E);var $,z,B;for(x=0,k=w.length;x<k;x++)C=w[x],M=C.object,A=C.buffer,$=l(M),z=void 0!==M.geometry.morphTargets&&M.geometry.morphTargets.length>0&&$.morphTargets,B=M instanceof i.SkinnedMesh&&$.skinning,T=M.customDepthMaterial?M.customDepthMaterial:B?z?f:d:z?h:u,e.setMaterialFaces($),A instanceof i.BufferGeometry?e.renderBufferDirect(E,t,D,T,A,M):e.renderBuffer(E,t,D,T,A,M);for(x=0,k=r.length;x<k;x++)C=r[x],M=C.object,M.visible&&M.castShadow&&(M._modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,M.matrixWorld),e.renderImmediateObject(E,t,D,u,M))}var q=e.getClearColor(),V=e.getClearAlpha();p.clearColor(q.r,q.g,q.b,V),p.enable(p.BLEND),e.shadowMapCullFace===i.CullFaceFront&&p.cullFace(p.BACK),e.resetGLState()}}},i.SpritePlugin=function(e,t){function n(){var t=h.createProgram(),n=h.createShader(h.VERTEX_SHADER),r=h.createShader(h.FRAGMENT_SHADER);return h.shaderSource(n,["precision "+e.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),h.shaderSource(r,["precision "+e.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),h.compileShader(n),h.compileShader(r),h.attachShader(t,n),h.attachShader(t,r),h.linkProgram(t),t}function r(e,t){return e.z!==t.z?t.z-e.z:t.id-e.id}var o,a,s,c,l,u,h=e.context,d=new i.Vector3,f=new i.Quaternion,p=new i.Vector3,m=function(){var e=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),t=new Uint16Array([0,1,2,0,2,3]);o=h.createBuffer(),a=h.createBuffer(),h.bindBuffer(h.ARRAY_BUFFER,o),h.bufferData(h.ARRAY_BUFFER,e,h.STATIC_DRAW),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,a),h.bufferData(h.ELEMENT_ARRAY_BUFFER,t,h.STATIC_DRAW),s=n(),c={position:h.getAttribLocation(s,"position"),uv:h.getAttribLocation(s,"uv")},l={uvOffset:h.getUniformLocation(s,"uvOffset"),uvScale:h.getUniformLocation(s,"uvScale"),rotation:h.getUniformLocation(s,"rotation"),scale:h.getUniformLocation(s,"scale"),color:h.getUniformLocation(s,"color"),map:h.getUniformLocation(s,"map"),opacity:h.getUniformLocation(s,"opacity"),modelViewMatrix:h.getUniformLocation(s,"modelViewMatrix"),projectionMatrix:h.getUniformLocation(s,"projectionMatrix"),fogType:h.getUniformLocation(s,"fogType"),fogDensity:h.getUniformLocation(s,"fogDensity"),fogNear:h.getUniformLocation(s,"fogNear"),fogFar:h.getUniformLocation(s,"fogFar"),fogColor:h.getUniformLocation(s,"fogColor"),alphaTest:h.getUniformLocation(s,"alphaTest")};var r=document.createElement("canvas");r.width=8,r.height=8;var d=r.getContext("2d");d.fillStyle="white",d.fillRect(0,0,8,8),u=new i.Texture(r),u.needsUpdate=!0};this.render=function(n,g){if(0!==t.length){void 0===s&&m(),h.useProgram(s),h.enableVertexAttribArray(c.position),h.enableVertexAttribArray(c.uv),h.disable(h.CULL_FACE),h.enable(h.BLEND),h.bindBuffer(h.ARRAY_BUFFER,o),h.vertexAttribPointer(c.position,2,h.FLOAT,!1,16,0),h.vertexAttribPointer(c.uv,2,h.FLOAT,!1,16,8),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,a),h.uniformMatrix4fv(l.projectionMatrix,!1,g.projectionMatrix.elements),h.activeTexture(h.TEXTURE0),h.uniform1i(l.map,0);var v=0,b=0,y=n.fog;y?(h.uniform3f(l.fogColor,y.color.r,y.color.g,y.color.b),y instanceof i.Fog?(h.uniform1f(l.fogNear,y.near),h.uniform1f(l.fogFar,y.far),h.uniform1i(l.fogType,1),v=1,b=1):y instanceof i.FogExp2&&(h.uniform1f(l.fogDensity,y.density),h.uniform1i(l.fogType,2),v=2,b=2)):(h.uniform1i(l.fogType,0),v=0,b=0);for(var w=0,_=t.length;w<_;w++){var x=t[w];x._modelViewMatrix.multiplyMatrices(g.matrixWorldInverse,x.matrixWorld),x.z=-x._modelViewMatrix.elements[14]}t.sort(r);for(var k=[],w=0,_=t.length;w<_;w++){var x=t[w],S=x.material;h.uniform1f(l.alphaTest,S.alphaTest),h.uniformMatrix4fv(l.modelViewMatrix,!1,x._modelViewMatrix.elements),x.matrixWorld.decompose(d,f,p),k[0]=p.x,k[1]=p.y;var j=0;n.fog&&S.fog&&(j=b),v!==j&&(h.uniform1i(l.fogType,j),v=j),null!==S.map?(h.uniform2f(l.uvOffset,S.map.offset.x,S.map.offset.y),h.uniform2f(l.uvScale,S.map.repeat.x,S.map.repeat.y)):(h.uniform2f(l.uvOffset,0,0),h.uniform2f(l.uvScale,1,1)),h.uniform1f(l.opacity,S.opacity),h.uniform3f(l.color,S.color.r,S.color.g,S.color.b),h.uniform1f(l.rotation,S.rotation),h.uniform2fv(l.scale,k),e.setBlending(S.blending,S.blendEquation,S.blendSrc,S.blendDst),e.setDepthTest(S.depthTest),e.setDepthWrite(S.depthWrite),S.map&&S.map.image&&S.map.image.width?e.setTexture(S.map,0):e.setTexture(u,0),h.drawElements(h.TRIANGLES,6,h.UNSIGNED_SHORT,0)}h.enable(h.CULL_FACE),e.resetGLState()}}},i.GeometryUtils={merge:function(e,t,n){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var r;t instanceof i.Mesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,t=t.geometry),e.merge(t,r,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}},i.ImageUtils={crossOrigin:void 0,loadTexture:function(e,t,n,r){var o=new i.ImageLoader;o.crossOrigin=this.crossOrigin;var a=new i.Texture((void 0),t);return o.load(e,function(e){a.image=e,a.needsUpdate=!0,n&&n(a)},void 0,function(e){r&&r(e)}),a.sourceFile=e,a},loadTextureCube:function(e,t,n,r){var o=[],a=new i.ImageLoader;a.crossOrigin=this.crossOrigin;var s=new i.CubeTexture(o,t);s.flipY=!1;for(var c=0,l=function(t){a.load(e[t],function(e){s.images[t]=e,c+=1,6===c&&(s.needsUpdate=!0,n&&n(s))},void 0,r)},u=0,h=e.length;u<h;++u)l(u);return s},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},getNormalMap:function(e,t){var n=function(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]},r=function(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2]]},i=function(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return[e[0]/t,e[1]/t,e[2]/t]};t=1|t;var o=e.width,a=e.height,s=document.createElement("canvas");s.width=o,s.height=a;var c=s.getContext("2d");c.drawImage(e,0,0);for(var l=c.getImageData(0,0,o,a).data,u=c.createImageData(o,a),h=u.data,d=0;d<o;d++)for(var f=0;f<a;f++){var p=f-1<0?0:f-1,m=f+1>a-1?a-1:f+1,g=d-1<0?0:d-1,v=d+1>o-1?o-1:d+1,b=[],y=[0,0,l[4*(f*o+d)]/255*t];b.push([-1,0,l[4*(f*o+g)]/255*t]),b.push([-1,-1,l[4*(p*o+g)]/255*t]),b.push([0,-1,l[4*(p*o+d)]/255*t]),b.push([1,-1,l[4*(p*o+v)]/255*t]),b.push([1,0,l[4*(f*o+v)]/255*t]),b.push([1,1,l[4*(m*o+v)]/255*t]),b.push([0,1,l[4*(m*o+d)]/255*t]),b.push([-1,1,l[4*(m*o+g)]/255*t]);for(var w=[],_=b.length,x=0;x<_;x++){var k=b[x],S=b[(x+1)%_];k=r(k,y),S=r(S,y),w.push(i(n(k,S)))}for(var j=[0,0,0],x=0;x<w.length;x++)j[0]+=w[x][0],
j[1]+=w[x][1],j[2]+=w[x][2];j[0]/=w.length,j[1]/=w.length,j[2]/=w.length;var P=4*(f*o+d);h[P]=(j[0]+1)/2*255|0,h[P+1]=(j[1]+1)/2*255|0,h[P+2]=255*j[2]|0,h[P+3]=255}return c.putImageData(u,0,0),s},generateDataTexture:function(e,t,n){for(var r=e*t,o=new Uint8Array(3*r),a=Math.floor(255*n.r),s=Math.floor(255*n.g),c=Math.floor(255*n.b),l=0;l<r;l++)o[3*l]=a,o[3*l+1]=s,o[3*l+2]=c;var u=new i.DataTexture(o,e,t,i.RGBFormat);return u.needsUpdate=!0,u}},i.SceneUtils={createMultiMaterialObject:function(e,t){for(var n=new i.Object3D,r=0,o=t.length;r<o;r++)n.add(new i.Mesh(e,t[r]));return n},detach:function(e,t,n){e.applyMatrix(t.matrixWorld),t.remove(e),n.add(e)},attach:function(e,t,n){var r=new i.Matrix4;r.getInverse(n.matrixWorld),e.applyMatrix(r),t.remove(e),n.add(e)}},i.FontUtils={faces:{},face:"helvetiker",weight:"normal",style:"normal",size:150,divisions:10,getFace:function(){try{return this.faces[this.face][this.weight][this.style]}catch(e){throw"The font "+this.face+" with "+this.weight+" weight and "+this.style+" style is missing."}},loadFace:function(e){var t=e.familyName.toLowerCase(),n=this;n.faces[t]=n.faces[t]||{},n.faces[t][e.cssFontWeight]=n.faces[t][e.cssFontWeight]||{},n.faces[t][e.cssFontWeight][e.cssFontStyle]=e;n.faces[t][e.cssFontWeight][e.cssFontStyle]=e;return e},drawText:function(e){var t,n=this.getFace(),r=this.size/n.resolution,o=0,a=String(e).split(""),s=a.length,c=[];for(t=0;t<s;t++){var l=new i.Path,u=this.extractGlyphPoints(a[t],n,r,o,l);o+=u.offset,c.push(u.path)}var h=o/2;return{paths:c,offset:h}},extractGlyphPoints:function(e,t,n,r,o){var a,s,c,l,u,h,d,f,p,m,g,v,b,y,w,_,x,k,S,j=[],P=t.glyphs[e]||t.glyphs["?"];if(P){if(P.o)for(l=P._cachedOutline||(P._cachedOutline=P.o.split(" ")),h=l.length,d=n,f=n,a=0;a<h;)switch(u=l[a++]){case"m":p=l[a++]*d+r,m=l[a++]*f,o.moveTo(p,m);break;case"l":p=l[a++]*d+r,m=l[a++]*f,o.lineTo(p,m);break;case"q":if(g=l[a++]*d+r,v=l[a++]*f,w=l[a++]*d+r,_=l[a++]*f,o.quadraticCurveTo(w,_,g,v),S=j[j.length-1])for(b=S.x,y=S.y,s=1,c=this.divisions;s<=c;s++){var E=s/c;i.Shape.Utils.b2(E,b,w,g),i.Shape.Utils.b2(E,y,_,v)}break;case"b":if(g=l[a++]*d+r,v=l[a++]*f,w=l[a++]*d+r,_=l[a++]*f,x=l[a++]*d+r,k=l[a++]*f,o.bezierCurveTo(w,_,x,k,g,v),S=j[j.length-1])for(b=S.x,y=S.y,s=1,c=this.divisions;s<=c;s++){var E=s/c;i.Shape.Utils.b3(E,b,w,x,g),i.Shape.Utils.b3(E,y,_,k,v)}}return{offset:P.ha*n,path:o}}}},i.FontUtils.generateShapes=function(e,t){t=t||{};var n=void 0!==t.size?t.size:100,r=void 0!==t.curveSegments?t.curveSegments:4,o=void 0!==t.font?t.font:"helvetiker",a=void 0!==t.weight?t.weight:"normal",s=void 0!==t.style?t.style:"normal";i.FontUtils.size=n,i.FontUtils.divisions=r,i.FontUtils.face=o,i.FontUtils.weight=a,i.FontUtils.style=s;for(var c=i.FontUtils.drawText(e),l=c.paths,u=[],h=0,d=l.length;h<d;h++)Array.prototype.push.apply(u,l[h].toShapes());return u},function(e){var t=1e-10,n=function(e,t){var n=e.length;if(n<3)return null;var o,a,s,c=[],l=[],u=[];if(r(e)>0)for(a=0;a<n;a++)l[a]=a;else for(a=0;a<n;a++)l[a]=n-1-a;var h=n,d=2*h;for(a=h-1;h>2;){if(d--<=0)return console.log("Warning, unable to triangulate polygon!"),t?u:c;if(o=a,h<=o&&(o=0),a=o+1,h<=a&&(a=0),s=a+1,h<=s&&(s=0),i(e,o,a,s,h,l)){var f,p,m,g,v;for(f=l[o],p=l[a],m=l[s],c.push([e[f],e[p],e[m]]),u.push([l[o],l[a],l[s]]),g=a,v=a+1;v<h;g++,v++)l[g]=l[v];h--,d=2*h}}return t?u:c},r=function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},i=function(e,n,r,i,o,a){var s,c,l,u,h,d,f,p,m;if(c=e[a[n]].x,l=e[a[n]].y,u=e[a[r]].x,h=e[a[r]].y,d=e[a[i]].x,f=e[a[i]].y,t>(u-c)*(f-l)-(h-l)*(d-c))return!1;var g,v,b,y,w,_,x,k,S,j,P,E,A,T,C;for(g=d-u,v=f-h,b=c-d,y=l-f,w=u-c,_=h-l,s=0;s<o;s++)if(p=e[a[s]].x,m=e[a[s]].y,!(p===c&&m===l||p===u&&m===h||p===d&&m===f)&&(x=p-c,k=m-l,S=p-u,j=m-h,P=p-d,E=m-f,C=g*j-v*S,A=w*k-_*x,T=b*E-y*P,C>=-t&&T>=-t&&A>=-t))return!1;return!0};return e.Triangulate=n,e.Triangulate.area=r,e}(i.FontUtils),r._typeface_js={faces:i.FontUtils.faces,loadFace:i.FontUtils.loadFace},i.typeface_js=r._typeface_js,i.Audio=function(e){i.Object3D.call(this),this.type="Audio",this.context=e.context,this.source=this.context.createBufferSource(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.panner=this.context.createPanner(),this.panner.connect(this.gain)},i.Audio.prototype=Object.create(i.Object3D.prototype),i.Audio.prototype.constructor=i.Audio,i.Audio.prototype.load=function(e){var t=this,n=new XMLHttpRequest;return n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(e){t.context.decodeAudioData(this.response,function(e){t.source.buffer=e,t.source.connect(t.panner),t.source.start(0)})},n.send(),this},i.Audio.prototype.setLoop=function(e){this.source.loop=e},i.Audio.prototype.setRefDistance=function(e){this.panner.refDistance=e},i.Audio.prototype.setRolloffFactor=function(e){this.panner.rolloffFactor=e},i.Audio.prototype.updateMatrixWorld=function(){var e=new i.Vector3;return function(t){i.Object3D.prototype.updateMatrixWorld.call(this,t),e.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(e.x,e.y,e.z)}}(),i.AudioListener=function(){i.Object3D.call(this),this.type="AudioListener",this.context=new(window.AudioContext||window.webkitAudioContext)},i.AudioListener.prototype=Object.create(i.Object3D.prototype),i.AudioListener.prototype.constructor=i.AudioListener,i.AudioListener.prototype.updateMatrixWorld=function(){var e=new i.Vector3,t=new i.Quaternion,n=new i.Vector3,r=new i.Vector3,o=new i.Vector3,a=new i.Vector3;return function(s){i.Object3D.prototype.updateMatrixWorld.call(this,s);var c=this.context.listener,l=this.up;this.matrixWorld.decompose(e,t,n),r.set(0,0,-1).applyQuaternion(t),o.subVectors(e,a),c.setPosition(e.x,e.y,e.z),c.setOrientation(r.x,r.y,r.z,l.x,l.y,l.z),c.setVelocity(o.x,o.y,o.z),a.copy(e)}}(),i.Curve=function(){},i.Curve.prototype.getPoint=function(e){return console.log("Warning, getPoint() not implemented!"),null},i.Curve.prototype.getPointAt=function(e){var t=this.getUtoTmapping(e);return this.getPoint(t)},i.Curve.prototype.getPoints=function(e){e||(e=5);var t,n=[];for(t=0;t<=e;t++)n.push(this.getPoint(t/e));return n},i.Curve.prototype.getSpacedPoints=function(e){e||(e=5);var t,n=[];for(t=0;t<=e;t++)n.push(this.getPointAt(t/e));return n},i.Curve.prototype.getLength=function(){var e=this.getLengths();return e[e.length-1]},i.Curve.prototype.getLengths=function(e){if(e||(e=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length==e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;n<=e;n++)t=this.getPoint(n/e),o+=t.distanceTo(i),r.push(o),i=t;return this.cacheArcLengths=r,r},i.Curve.prototype.updateArcLengths=function(){this.needsUpdate=!0,this.getLengths()},i.Curve.prototype.getUtoTmapping=function(e,t){var n,r=this.getLengths(),i=0,o=r.length;n=t?t:e*r[o-1];for(var a,s=0,c=o-1;s<=c;)if(i=Math.floor(s+(c-s)/2),a=r[i]-n,a<0)s=i+1;else{if(!(a>0)){c=i;break}c=i-1}if(i=c,r[i]==n){var l=i/(o-1);return l}var u=r[i],h=r[i+1],d=h-u,f=(n-u)/d,l=(i+f)/(o-1);return l},i.Curve.prototype.getTangent=function(e){var t=1e-4,n=e-t,r=e+t;n<0&&(n=0),r>1&&(r=1);var i=this.getPoint(n),o=this.getPoint(r),a=o.clone().sub(i);return a.normalize()},i.Curve.prototype.getTangentAt=function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},i.Curve.Utils={tangentQuadraticBezier:function(e,t,n,r){return 2*(1-e)*(n-t)+2*e*(r-n)},tangentCubicBezier:function(e,t,n,r,i){return-3*t*(1-e)*(1-e)+3*n*(1-e)*(1-e)-6*e*n*(1-e)+6*e*r*(1-e)-3*e*e*r+3*e*e*i},tangentSpline:function(e,t,n,r,i){var o=6*e*e-6*e,a=3*e*e-4*e+1,s=-6*e*e+6*e,c=3*e*e-2*e;return o+a+s+c},interpolate:function(e,t,n,r,i){var o=.5*(n-e),a=.5*(r-t),s=i*i,c=i*s;return(2*t-2*n+o+a)*c+(-3*t+3*n-2*o-a)*s+o*i+t}},i.Curve.create=function(e,t){return e.prototype=Object.create(i.Curve.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},i.CurvePath=function(){this.curves=[],this.bends=[],this.autoClose=!1},i.CurvePath.prototype=Object.create(i.Curve.prototype),i.CurvePath.prototype.constructor=i.CurvePath,i.CurvePath.prototype.add=function(e){this.curves.push(e)},i.CurvePath.prototype.checkConnection=function(){},i.CurvePath.prototype.closePath=function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new i.LineCurve(t,e))},i.CurvePath.prototype.getPoint=function(e){for(var t,n,r=e*this.getLength(),i=this.getCurveLengths(),o=0;o<i.length;){if(i[o]>=r){t=i[o]-r,n=this.curves[o];var a=1-t/n.getLength();return n.getPointAt(a)}o++}return null},i.CurvePath.prototype.getLength=function(){var e=this.getCurveLengths();return e[e.length-1]},i.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length==this.curves.length)return this.cacheLengths;var e,t=[],n=0,r=this.curves.length;for(e=0;e<r;e++)n+=this.curves[e].getLength(),t.push(n);return this.cacheLengths=t,t},i.CurvePath.prototype.getBoundingBox=function(){var e,t,n,r,o,a,s=this.getPoints();e=t=Number.NEGATIVE_INFINITY,r=o=Number.POSITIVE_INFINITY;var c,l,u,h,d=s[0]instanceof i.Vector3;for(h=d?new i.Vector3:new i.Vector2,l=0,u=s.length;l<u;l++)c=s[l],c.x>e?e=c.x:c.x<r&&(r=c.x),c.y>t?t=c.y:c.y<o&&(o=c.y),d&&(c.z>n?n=c.z:c.z<a&&(a=c.z)),h.add(c);var f={minX:r,minY:o,maxX:e,maxY:t};return d&&(f.maxZ=n,f.minZ=a),f},i.CurvePath.prototype.createPointsGeometry=function(e){var t=this.getPoints(e,!0);return this.createGeometry(t)},i.CurvePath.prototype.createSpacedPointsGeometry=function(e){var t=this.getSpacedPoints(e,!0);return this.createGeometry(t)},i.CurvePath.prototype.createGeometry=function(e){for(var t=new i.Geometry,n=0;n<e.length;n++)t.vertices.push(new i.Vector3(e[n].x,e[n].y,e[n].z||0));return t},i.CurvePath.prototype.addWrapPath=function(e){this.bends.push(e)},i.CurvePath.prototype.getTransformedPoints=function(e,t){var n,r,i=this.getPoints(e);for(t||(t=this.bends),n=0,r=t.length;n<r;n++)i=this.getWrapPoints(i,t[n]);return i},i.CurvePath.prototype.getTransformedSpacedPoints=function(e,t){var n,r,i=this.getSpacedPoints(e);for(t||(t=this.bends),n=0,r=t.length;n<r;n++)i=this.getWrapPoints(i,t[n]);return i},i.CurvePath.prototype.getWrapPoints=function(e,t){var n,r,i,o,a,s,c=this.getBoundingBox();for(n=0,r=e.length;n<r;n++){i=e[n],o=i.x,a=i.y,s=o/c.maxX,s=t.getUtoTmapping(s,o);var l=t.getPoint(s),u=t.getTangent(s);u.set(-u.y,u.x).multiplyScalar(a),i.x=l.x+u.x,i.y=l.y+u.y}return e},i.Gyroscope=function(){i.Object3D.call(this)},i.Gyroscope.prototype=Object.create(i.Object3D.prototype),i.Gyroscope.prototype.constructor=i.Gyroscope,i.Gyroscope.prototype.updateMatrixWorld=function(){var e=new i.Vector3,t=new i.Quaternion,n=new i.Vector3,r=new i.Vector3,o=new i.Quaternion,a=new i.Vector3;return function(i){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||i)&&(this.parent?(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorld.decompose(r,o,a),this.matrix.decompose(e,t,n),this.matrixWorld.compose(r,t,a)):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,i=!0);for(var s=0,c=this.children.length;s<c;s++)this.children[s].updateMatrixWorld(i)}}(),i.Path=function(e){i.CurvePath.call(this),this.actions=[],e&&this.fromPoints(e)},i.Path.prototype=Object.create(i.CurvePath.prototype),i.Path.prototype.constructor=i.Path,i.PathActions={MOVE_TO:"moveTo",LINE_TO:"lineTo",QUADRATIC_CURVE_TO:"quadraticCurveTo",BEZIER_CURVE_TO:"bezierCurveTo",CSPLINE_THRU:"splineThru",ARC:"arc",ELLIPSE:"ellipse"},i.Path.prototype.fromPoints=function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},i.Path.prototype.moveTo=function(e,t){var n=Array.prototype.slice.call(arguments);this.actions.push({action:i.PathActions.MOVE_TO,args:n})},i.Path.prototype.lineTo=function(e,t){var n=Array.prototype.slice.call(arguments),r=this.actions[this.actions.length-1].args,o=r[r.length-2],a=r[r.length-1],s=new i.LineCurve(new i.Vector2(o,a),new i.Vector2(e,t));this.curves.push(s),this.actions.push({action:i.PathActions.LINE_TO,args:n})},i.Path.prototype.quadraticCurveTo=function(e,t,n,r){var o=Array.prototype.slice.call(arguments),a=this.actions[this.actions.length-1].args,s=a[a.length-2],c=a[a.length-1],l=new i.QuadraticBezierCurve(new i.Vector2(s,c),new i.Vector2(e,t),new i.Vector2(n,r));this.curves.push(l),this.actions.push({action:i.PathActions.QUADRATIC_CURVE_TO,args:o})},i.Path.prototype.bezierCurveTo=function(e,t,n,r,o,a){var s=Array.prototype.slice.call(arguments),c=this.actions[this.actions.length-1].args,l=c[c.length-2],u=c[c.length-1],h=new i.CubicBezierCurve(new i.Vector2(l,u),new i.Vector2(e,t),new i.Vector2(n,r),new i.Vector2(o,a));this.curves.push(h),this.actions.push({action:i.PathActions.BEZIER_CURVE_TO,args:s})},i.Path.prototype.splineThru=function(e){var t=Array.prototype.slice.call(arguments),n=this.actions[this.actions.length-1].args,r=n[n.length-2],o=n[n.length-1],a=[new i.Vector2(r,o)];Array.prototype.push.apply(a,e);var s=new i.SplineCurve(a);this.curves.push(s),this.actions.push({action:i.PathActions.CSPLINE_THRU,args:t})},i.Path.prototype.arc=function(e,t,n,r,i,o){var a=this.actions[this.actions.length-1].args,s=a[a.length-2],c=a[a.length-1];this.absarc(e+s,t+c,n,r,i,o)},i.Path.prototype.absarc=function(e,t,n,r,i,o){this.absellipse(e,t,n,n,r,i,o)},i.Path.prototype.ellipse=function(e,t,n,r,i,o,a){var s=this.actions[this.actions.length-1].args,c=s[s.length-2],l=s[s.length-1];this.absellipse(e+c,t+l,n,r,i,o,a)},i.Path.prototype.absellipse=function(e,t,n,r,o,a,s){var c=Array.prototype.slice.call(arguments),l=new i.EllipseCurve(e,t,n,r,o,a,s);this.curves.push(l);var u=l.getPoint(1);c.push(u.x),c.push(u.y),this.actions.push({action:i.PathActions.ELLIPSE,args:c})},i.Path.prototype.getSpacedPoints=function(e,t){e||(e=40);for(var n=[],r=0;r<e;r++)n.push(this.getPoint(r/e));return n},i.Path.prototype.getPoints=function(e,t){if(this.useSpacedPoints)return console.log("tata"),this.getSpacedPoints(e,t);e=e||12;var n,r,o,a,s,c,l,u,h,d,f,p,m,g,v,b,y,w,_=[];for(n=0,r=this.actions.length;n<r;n++)switch(o=this.actions[n],a=o.action,s=o.args,a){case i.PathActions.MOVE_TO:_.push(new i.Vector2(s[0],s[1]));break;case i.PathActions.LINE_TO:_.push(new i.Vector2(s[0],s[1]));break;case i.PathActions.QUADRATIC_CURVE_TO:for(c=s[2],l=s[3],d=s[0],f=s[1],_.length>0?(g=_[_.length-1],p=g.x,m=g.y):(g=this.actions[n-1].args,p=g[g.length-2],m=g[g.length-1]),v=1;v<=e;v++)b=v/e,y=i.Shape.Utils.b2(b,p,d,c),w=i.Shape.Utils.b2(b,m,f,l),_.push(new i.Vector2(y,w));break;case i.PathActions.BEZIER_CURVE_TO:for(c=s[4],l=s[5],d=s[0],f=s[1],u=s[2],h=s[3],_.length>0?(g=_[_.length-1],p=g.x,m=g.y):(g=this.actions[n-1].args,p=g[g.length-2],m=g[g.length-1]),v=1;v<=e;v++)b=v/e,y=i.Shape.Utils.b3(b,p,d,u,c),w=i.Shape.Utils.b3(b,m,f,h,l),_.push(new i.Vector2(y,w));break;case i.PathActions.CSPLINE_THRU:g=this.actions[n-1].args;var x=new i.Vector2(g[g.length-2],g[g.length-1]),k=[x],S=e*s[0].length;k=k.concat(s[0]);var j=new i.SplineCurve(k);for(v=1;v<=S;v++)_.push(j.getPointAt(v/S));break;case i.PathActions.ARC:var P,E=s[0],A=s[1],T=s[2],C=s[3],M=s[4],O=!!s[5],I=M-C,F=2*e;for(v=1;v<=F;v++)b=v/F,O||(b=1-b),P=C+b*I,y=E+T*Math.cos(P),w=A+T*Math.sin(P),_.push(new i.Vector2(y,w));break;case i.PathActions.ELLIPSE:var P,E=s[0],A=s[1],D=s[2],L=s[3],C=s[4],M=s[5],O=!!s[6],I=M-C,F=2*e;for(v=1;v<=F;v++)b=v/F,O||(b=1-b),P=C+b*I,y=E+D*Math.cos(P),w=A+L*Math.sin(P),_.push(new i.Vector2(y,w))}var R=_[_.length-1],N=1e-10;return Math.abs(R.x-_[0].x)<N&&Math.abs(R.y-_[0].y)<N&&_.splice(_.length-1,1),t&&_.push(_[0]),_},i.Path.prototype.toShapes=function(e,t){function n(e){var t,n,r,o,a,s=[],c=new i.Path;for(t=0,n=e.length;t<n;t++)r=e[t],a=r.args,o=r.action,o==i.PathActions.MOVE_TO&&0!=c.actions.length&&(s.push(c),c=new i.Path),c[o].apply(c,a);return 0!=c.actions.length&&s.push(c),s}function r(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n],a=new i.Shape;a.actions=o.actions,a.curves=o.curves,t.push(a)}return t}function o(e,t){for(var n=1e-10,r=t.length,i=!1,o=r-1,a=0;a<r;o=a++){var s=t[o],c=t[a],l=c.x-s.x,u=c.y-s.y;if(Math.abs(u)>n){if(u<0&&(s=t[a],l=-l,c=t[o],u=-u),e.y<s.y||e.y>c.y)continue;if(e.y==s.y){if(e.x==s.x)return!0}else{var h=u*(e.x-s.x)-l*(e.y-s.y);if(0==h)return!0;if(h<0)continue;i=!i}}else{if(e.y!=s.y)continue;if(c.x<=e.x&&e.x<=s.x||s.x<=e.x&&e.x<=c.x)return!0}}return i}var a=n(this.actions);if(0==a.length)return[];if(t===!0)return r(a);var s,c,l,u=[];if(1==a.length)return c=a[0],l=new i.Shape,l.actions=c.actions,l.curves=c.curves,u.push(l),u;var h=!i.Shape.Utils.isClockWise(a[0].getPoints());h=e?!h:h;var d,f=[],p=[],m=[],g=0;p[g]=void 0,m[g]=[];var v,b;for(v=0,b=a.length;v<b;v++)c=a[v],d=c.getPoints(),s=i.Shape.Utils.isClockWise(d),s=e?!s:s,s?(!h&&p[g]&&g++,p[g]={s:new i.Shape,p:d},p[g].s.actions=c.actions,p[g].s.curves=c.curves,h&&g++,m[g]=[]):m[g].push({h:c,p:d[0]});if(!p[0])return r(a);if(p.length>1){for(var y=!1,w=[],_=0,x=p.length;_<x;_++)f[_]=[];for(var _=0,x=p.length;_<x;_++)for(var k=(p[_],m[_]),S=0;S<k.length;S++){for(var j=k[S],P=!0,E=0;E<p.length;E++)o(j.p,p[E].p)&&(_!=E&&w.push({froms:_,tos:E,hole:S}),P?(P=!1,f[E].push(j)):y=!0);P&&f[_].push(j)}w.length>0&&(y||(m=f))}var A,T,C;for(v=0,b=p.length;v<b;v++)for(l=p[v].s,u.push(l),A=m[v],T=0,C=A.length;T<C;T++)l.holes.push(A[T].h);return u},i.Shape=function(){i.Path.apply(this,arguments),this.holes=[]},i.Shape.prototype=Object.create(i.Path.prototype),i.Shape.prototype.constructor=i.Shape,i.Shape.prototype.extrude=function(e){var t=new i.ExtrudeGeometry(this,e);return t},i.Shape.prototype.makeGeometry=function(e){var t=new i.ShapeGeometry(this,e);return t},i.Shape.prototype.getPointsHoles=function(e){var t,n=this.holes.length,r=[];for(t=0;t<n;t++)r[t]=this.holes[t].getTransformedPoints(e,this.bends);return r},i.Shape.prototype.getSpacedPointsHoles=function(e){var t,n=this.holes.length,r=[];for(t=0;t<n;t++)r[t]=this.holes[t].getTransformedSpacedPoints(e,this.bends);return r},i.Shape.prototype.extractAllPoints=function(e){return{shape:this.getTransformedPoints(e),holes:this.getPointsHoles(e)}},i.Shape.prototype.extractPoints=function(e){return this.useSpacedPoints?this.extractAllSpacedPoints(e):this.extractAllPoints(e)},i.Shape.prototype.extractAllSpacedPoints=function(e){return{shape:this.getTransformedSpacedPoints(e),holes:this.getSpacedPointsHoles(e)}},i.Shape.Utils={triangulateShape:function(e,t){function n(e,t,n){return e.x!=t.x?e.x<t.x?e.x<=n.x&&n.x<=t.x:t.x<=n.x&&n.x<=e.x:e.y<t.y?e.y<=n.y&&n.y<=t.y:t.y<=n.y&&n.y<=e.y}function r(e,t,r,i,o){var a=1e-10,s=t.x-e.x,c=t.y-e.y,l=i.x-r.x,u=i.y-r.y,h=e.x-r.x,d=e.y-r.y,f=c*l-s*u,p=c*h-s*d;if(Math.abs(f)>a){var m;if(f>0){if(p<0||p>f)return[];if(m=u*h-l*d,m<0||m>f)return[]}else{if(p>0||p<f)return[];if(m=u*h-l*d,m>0||m<f)return[]}if(0==m)return!o||0!=p&&p!=f?[e]:[];if(m==f)return!o||0!=p&&p!=f?[t]:[];if(0==p)return[r];if(p==f)return[i];var g=m/f;return[{x:e.x+g*s,y:e.y+g*c}]}if(0!=p||u*h!=l*d)return[];var v=0==s&&0==c,b=0==l&&0==u;if(v&&b)return e.x!=r.x||e.y!=r.y?[]:[e];if(v)return n(r,i,e)?[e]:[];if(b)return n(e,t,r)?[r]:[];var y,w,_,x,k,S,j,P;return 0!=s?(e.x<t.x?(y=e,_=e.x,w=t,x=t.x):(y=t,_=t.x,w=e,x=e.x),r.x<i.x?(k=r,j=r.x,S=i,P=i.x):(k=i,j=i.x,S=r,P=r.x)):(e.y<t.y?(y=e,_=e.y,w=t,x=t.y):(y=t,_=t.y,w=e,x=e.y),r.y<i.y?(k=r,j=r.y,S=i,P=i.y):(k=i,j=i.y,S=r,P=r.y)),_<=j?x<j?[]:x==j?o?[]:[k]:x<=P?[k,w]:[k,S]:_>P?[]:_==P?o?[]:[y]:x<=P?[y,w]:[y,S]}function o(e,t,n,r){var i=1e-10,o=t.x-e.x,a=t.y-e.y,s=n.x-e.x,c=n.y-e.y,l=r.x-e.x,u=r.y-e.y,h=o*c-a*s,d=o*u-a*l;if(Math.abs(h)>i){var f=l*c-u*s;return h>0?d>=0&&f>=0:d>=0||f>=0}return d>0}function a(e,t){function n(e,t){var n=b.length-1,r=e-1;r<0&&(r=n);var i=e+1;i>n&&(i=0);var a=o(b[e],b[r],b[i],s[t]);if(!a)return!1;var c=s.length-1,l=t-1;l<0&&(l=c);var u=t+1;return u>c&&(u=0),a=o(s[t],s[l],s[u],b[e]),!!a}function i(e,t){var n,i,o;for(n=0;n<b.length;n++)if(i=n+1,i%=b.length,o=r(e,t,b[n],b[i],!0),o.length>0)return!0;return!1}function a(e,n){var i,o,a,s,c;for(i=0;i<y.length;i++)for(o=t[y[i]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,c=r(e,n,o[a],o[s],!0),c.length>0)return!0;return!1}for(var s,c,l,u,h,d,f,p,m,g,v,b=e.concat(),y=[],w=[],_=0,x=t.length;_<x;_++)y.push(_);for(var k=0,S=2*y.length;y.length>0;){if(S--,S<0){console.log("Infinite Loop! Holes left:"+y.length+", Probably Hole outside Shape!");break}for(l=k;l<b.length;l++){u=b[l],c=-1;for(var _=0;_<y.length;_++)if(d=y[_],f=u.x+":"+u.y+":"+d,void 0===w[f]){s=t[d];for(var j=0;j<s.length;j++)if(h=s[j],n(l,j)&&!i(u,h)&&!a(u,h)){c=j,y.splice(_,1),p=b.slice(0,l+1),m=b.slice(l),g=s.slice(c),v=s.slice(0,c+1),b=p.concat(g).concat(v).concat(m),k=l;break}if(c>=0)break;w[f]=!0}if(c>=0)break}}return b}for(var s,c,l,u,h,d,f={},p=e.concat(),m=0,g=t.length;m<g;m++)Array.prototype.push.apply(p,t[m]);for(s=0,c=p.length;s<c;s++)h=p[s].x+":"+p[s].y,void 0!==f[h]&&console.log("Duplicate point",h),f[h]=s;var v=a(e,t),b=i.FontUtils.Triangulate(v,!1);for(s=0,c=b.length;s<c;s++)for(u=b[s],l=0;l<3;l++)h=u[l].x+":"+u[l].y,d=f[h],void 0!==d&&(u[l]=d);return b.concat()},isClockWise:function(e){return i.FontUtils.Triangulate.area(e)<0},b2p0:function(e,t){var n=1-e;return n*n*t},b2p1:function(e,t){return 2*(1-e)*e*t},b2p2:function(e,t){return e*e*t},b2:function(e,t,n,r){return this.b2p0(e,t)+this.b2p1(e,n)+this.b2p2(e,r)},b3p0:function(e,t){var n=1-e;return n*n*n*t},b3p1:function(e,t){var n=1-e;return 3*n*n*e*t},b3p2:function(e,t){var n=1-e;return 3*n*e*e*t},b3p3:function(e,t){return e*e*e*t},b3:function(e,t,n,r,i){return this.b3p0(e,t)+this.b3p1(e,n)+this.b3p2(e,r)+this.b3p3(e,i)}},i.LineCurve=function(e,t){this.v1=e,this.v2=t},i.LineCurve.prototype=Object.create(i.Curve.prototype),i.LineCurve.prototype.constructor=i.LineCurve,i.LineCurve.prototype.getPoint=function(e){var t=this.v2.clone().sub(this.v1);return t.multiplyScalar(e).add(this.v1),t},i.LineCurve.prototype.getPointAt=function(e){return this.getPoint(e)},i.LineCurve.prototype.getTangent=function(e){var t=this.v2.clone().sub(this.v1);return t.normalize()},i.QuadraticBezierCurve=function(e,t,n){this.v0=e,this.v1=t,this.v2=n},i.QuadraticBezierCurve.prototype=Object.create(i.Curve.prototype),i.QuadraticBezierCurve.prototype.constructor=i.QuadraticBezierCurve,i.QuadraticBezierCurve.prototype.getPoint=function(e){var t=new i.Vector2;return t.x=i.Shape.Utils.b2(e,this.v0.x,this.v1.x,this.v2.x),t.y=i.Shape.Utils.b2(e,this.v0.y,this.v1.y,this.v2.y),t},i.QuadraticBezierCurve.prototype.getTangent=function(e){var t=new i.Vector2;return t.x=i.Curve.Utils.tangentQuadraticBezier(e,this.v0.x,this.v1.x,this.v2.x),t.y=i.Curve.Utils.tangentQuadraticBezier(e,this.v0.y,this.v1.y,this.v2.y),t.normalize()},i.CubicBezierCurve=function(e,t,n,r){this.v0=e,this.v1=t,this.v2=n,this.v3=r},i.CubicBezierCurve.prototype=Object.create(i.Curve.prototype),i.CubicBezierCurve.prototype.constructor=i.CubicBezierCurve,i.CubicBezierCurve.prototype.getPoint=function(e){var t,n;return t=i.Shape.Utils.b3(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),n=i.Shape.Utils.b3(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y),new i.Vector2(t,n)},i.CubicBezierCurve.prototype.getTangent=function(e){var t,n;t=i.Curve.Utils.tangentCubicBezier(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),n=i.Curve.Utils.tangentCubicBezier(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y);var r=new i.Vector2(t,n);return r.normalize(),r},i.SplineCurve=function(e){this.points=void 0==e?[]:e},i.SplineCurve.prototype=Object.create(i.Curve.prototype),i.SplineCurve.prototype.constructor=i.SplineCurve,i.SplineCurve.prototype.getPoint=function(e){var t=this.points,n=(t.length-1)*e,r=Math.floor(n),o=n-r,a=t[0==r?r:r-1],s=t[r],c=t[r>t.length-2?t.length-1:r+1],l=t[r>t.length-3?t.length-1:r+2],u=new i.Vector2;return u.x=i.Curve.Utils.interpolate(a.x,s.x,c.x,l.x,o),u.y=i.Curve.Utils.interpolate(a.y,s.y,c.y,l.y,o),u},i.EllipseCurve=function(e,t,n,r,i,o,a){this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a},i.EllipseCurve.prototype=Object.create(i.Curve.prototype),i.EllipseCurve.prototype.constructor=i.EllipseCurve,i.EllipseCurve.prototype.getPoint=function(e){var t=this.aEndAngle-this.aStartAngle;t<0&&(t+=2*Math.PI),t>2*Math.PI&&(t-=2*Math.PI);var n;n=this.aClockwise===!0?this.aEndAngle+(1-e)*(2*Math.PI-t):this.aStartAngle+e*t;var r=new i.Vector2;return r.x=this.aX+this.xRadius*Math.cos(n),r.y=this.aY+this.yRadius*Math.sin(n),r},i.ArcCurve=function(e,t,n,r,o,a){i.EllipseCurve.call(this,e,t,n,n,r,o,a)},i.ArcCurve.prototype=Object.create(i.EllipseCurve.prototype),i.ArcCurve.prototype.constructor=i.ArcCurve,i.LineCurve3=i.Curve.create(function(e,t){this.v1=e,this.v2=t},function(e){var t=new i.Vector3;return t.subVectors(this.v2,this.v1),t.multiplyScalar(e),t.add(this.v1),t}),i.QuadraticBezierCurve3=i.Curve.create(function(e,t,n){this.v0=e,this.v1=t,this.v2=n},function(e){var t=new i.Vector3;return t.x=i.Shape.Utils.b2(e,this.v0.x,this.v1.x,this.v2.x),t.y=i.Shape.Utils.b2(e,this.v0.y,this.v1.y,this.v2.y),t.z=i.Shape.Utils.b2(e,this.v0.z,this.v1.z,this.v2.z),t}),i.CubicBezierCurve3=i.Curve.create(function(e,t,n,r){this.v0=e,this.v1=t,this.v2=n,this.v3=r},function(e){var t=new i.Vector3;return t.x=i.Shape.Utils.b3(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),t.y=i.Shape.Utils.b3(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y),t.z=i.Shape.Utils.b3(e,this.v0.z,this.v1.z,this.v2.z,this.v3.z),t}),i.SplineCurve3=i.Curve.create(function(e){this.points=void 0==e?[]:e},function(e){var t=this.points,n=(t.length-1)*e,r=Math.floor(n),o=n-r,a=t[0==r?r:r-1],s=t[r],c=t[r>t.length-2?t.length-1:r+1],l=t[r>t.length-3?t.length-1:r+2],u=new i.Vector3;return u.x=i.Curve.Utils.interpolate(a.x,s.x,c.x,l.x,o),u.y=i.Curve.Utils.interpolate(a.y,s.y,c.y,l.y,o),u.z=i.Curve.Utils.interpolate(a.z,s.z,c.z,l.z,o),u}),i.ClosedSplineCurve3=i.Curve.create(function(e){this.points=void 0==e?[]:e},function(e){var t=this.points,n=(t.length-0)*e,r=Math.floor(n),o=n-r;r+=r>0?0:(Math.floor(Math.abs(r)/t.length)+1)*t.length;var a=t[(r-1)%t.length],s=t[r%t.length],c=t[(r+1)%t.length],l=t[(r+2)%t.length],u=new i.Vector3;return u.x=i.Curve.Utils.interpolate(a.x,s.x,c.x,l.x,o),u.y=i.Curve.Utils.interpolate(a.y,s.y,c.y,l.y,o),u.z=i.Curve.Utils.interpolate(a.z,s.z,c.z,l.z,o),u}),i.AnimationHandler={LINEAR:0,CATMULLROM:1,CATMULLROM_FORWARD:2,add:function(){console.warn("THREE.AnimationHandler.add() has been deprecated.")},get:function(){console.warn("THREE.AnimationHandler.get() has been deprecated.")},remove:function(){console.warn("THREE.AnimationHandler.remove() has been deprecated.")},animations:[],init:function(e){if(e.initialized===!0)return e;for(var t=0;t<e.hierarchy.length;t++){for(var n=0;n<e.hierarchy[t].keys.length;n++)if(e.hierarchy[t].keys[n].time<0&&(e.hierarchy[t].keys[n].time=0),void 0!==e.hierarchy[t].keys[n].rot&&!(e.hierarchy[t].keys[n].rot instanceof i.Quaternion)){var r=e.hierarchy[t].keys[n].rot;e.hierarchy[t].keys[n].rot=(new i.Quaternion).fromArray(r)}if(e.hierarchy[t].keys.length&&void 0!==e.hierarchy[t].keys[0].morphTargets){for(var o={},n=0;n<e.hierarchy[t].keys.length;n++)for(var a=0;a<e.hierarchy[t].keys[n].morphTargets.length;a++){var s=e.hierarchy[t].keys[n].morphTargets[a];o[s]=-1}e.hierarchy[t].usedMorphTargets=o;for(var n=0;n<e.hierarchy[t].keys.length;n++){var c={};for(var s in o){for(var a=0;a<e.hierarchy[t].keys[n].morphTargets.length;a++)if(e.hierarchy[t].keys[n].morphTargets[a]===s){c[s]=e.hierarchy[t].keys[n].morphTargetsInfluences[a];break}a===e.hierarchy[t].keys[n].morphTargets.length&&(c[s]=0)}e.hierarchy[t].keys[n].morphTargetsInfluences=c}}for(var n=1;n<e.hierarchy[t].keys.length;n++)e.hierarchy[t].keys[n].time===e.hierarchy[t].keys[n-1].time&&(e.hierarchy[t].keys.splice(n,1),n--);for(var n=0;n<e.hierarchy[t].keys.length;n++)e.hierarchy[t].keys[n].index=n}return e.initialized=!0,e},parse:function(e){var t=function(e,n){n.push(e);for(var r=0;r<e.children.length;r++)t(e.children[r],n)},n=[];if(e instanceof i.SkinnedMesh)for(var r=0;r<e.skeleton.bones.length;r++)n.push(e.skeleton.bones[r]);else t(e,n);return n},play:function(e){this.animations.indexOf(e)===-1&&this.animations.push(e)},stop:function(e){var t=this.animations.indexOf(e);t!==-1&&this.animations.splice(t,1)},update:function(e){for(var t=0;t<this.animations.length;t++)this.animations[t].resetBlendWeights();for(var t=0;t<this.animations.length;t++)this.animations[t].update(e)}},i.Animation=function(e,t){this.root=e,this.data=i.AnimationHandler.init(t),this.hierarchy=i.AnimationHandler.parse(e),this.currentTime=0,this.timeScale=1,this.isPlaying=!1,this.loop=!0,this.weight=0,this.interpolationType=i.AnimationHandler.LINEAR},i.Animation.prototype.keyTypes=["pos","rot","scl"],i.Animation.prototype.play=function(e,t){this.currentTime=void 0!==e?e:0,this.weight=void 0!==t?t:1,this.isPlaying=!0,this.reset(),i.AnimationHandler.play(this)},i.Animation.prototype.stop=function(){this.isPlaying=!1,i.AnimationHandler.stop(this)},i.Animation.prototype.reset=function(){for(var e=0,t=this.hierarchy.length;e<t;e++){var n=this.hierarchy[e];void 0===n.animationCache&&(n.animationCache={animations:{},blending:{positionWeight:0,quaternionWeight:0,scaleWeight:0}}),void 0===n.animationCache.animations[this.data.name]&&(n.animationCache.animations[this.data.name]={},n.animationCache.animations[this.data.name].prevKey={pos:0,rot:0,scl:0},n.animationCache.animations[this.data.name].nextKey={pos:0,rot:0,scl:0},n.animationCache.animations[this.data.name].originalMatrix=n.matrix);for(var r=n.animationCache.animations[this.data.name],i=0;i<3;i++){for(var o=this.keyTypes[i],a=this.data.hierarchy[e].keys[0],s=this.getNextKeyWith(o,e,1);s.time<this.currentTime&&s.index>a.index;)a=s,s=this.getNextKeyWith(o,e,s.index+1);r.prevKey[o]=a,r.nextKey[o]=s}}},i.Animation.prototype.resetBlendWeights=function(){for(var e=0,t=this.hierarchy.length;e<t;e++){var n=this.hierarchy[e];void 0!==n.animationCache&&(n.animationCache.blending.positionWeight=0,n.animationCache.blending.quaternionWeight=0,n.animationCache.blending.scaleWeight=0)}},i.Animation.prototype.update=function(){var e=[],t=new i.Vector3,n=new i.Vector3,r=new i.Quaternion,o=function(e,t){var n,r,i,o,s,c,l,u,h,d=[],f=[];return n=(e.length-1)*t,r=Math.floor(n),i=n-r,d[0]=0===r?r:r-1,d[1]=r,d[2]=r>e.length-2?r:r+1,d[3]=r>e.length-3?r:r+2,c=e[d[0]],l=e[d[1]],u=e[d[2]],h=e[d[3]],o=i*i,s=i*o,f[0]=a(c[0],l[0],u[0],h[0],i,o,s),f[1]=a(c[1],l[1],u[1],h[1],i,o,s),f[2]=a(c[2],l[2],u[2],h[2],i,o,s),f},a=function(e,t,n,r,i,o,a){var s=.5*(n-e),c=.5*(r-t);return(2*(t-n)+s+c)*a+(-3*(t-n)-2*s-c)*o+s*i+t};return function(a){if(this.isPlaying!==!1&&(this.currentTime+=a*this.timeScale,0!==this.weight)){var s=this.data.length;(this.currentTime>s||this.currentTime<0)&&(this.loop?(this.currentTime%=s,this.currentTime<0&&(this.currentTime+=s),this.reset()):this.stop());for(var c=0,l=this.hierarchy.length;c<l;c++)for(var u=this.hierarchy[c],h=u.animationCache.animations[this.data.name],d=u.animationCache.blending,f=0;f<3;f++){var p=this.keyTypes[f],m=h.prevKey[p],g=h.nextKey[p];if(this.timeScale>0&&g.time<=this.currentTime||this.timeScale<0&&m.time>=this.currentTime){for(m=this.data.hierarchy[c].keys[0],g=this.getNextKeyWith(p,c,1);g.time<this.currentTime&&g.index>m.index;)m=g,g=this.getNextKeyWith(p,c,g.index+1);h.prevKey[p]=m,h.nextKey[p]=g}var v=(this.currentTime-m.time)/(g.time-m.time),b=m[p],y=g[p];if(v<0&&(v=0),v>1&&(v=1),"pos"===p){if(this.interpolationType===i.AnimationHandler.LINEAR){n.x=b[0]+(y[0]-b[0])*v,n.y=b[1]+(y[1]-b[1])*v,n.z=b[2]+(y[2]-b[2])*v;var w=this.weight/(this.weight+d.positionWeight);u.position.lerp(n,w),d.positionWeight+=this.weight}else if(this.interpolationType===i.AnimationHandler.CATMULLROM||this.interpolationType===i.AnimationHandler.CATMULLROM_FORWARD){e[0]=this.getPrevKeyWith("pos",c,m.index-1).pos,e[1]=b,e[2]=y,e[3]=this.getNextKeyWith("pos",c,g.index+1).pos,v=.33*v+.33;var _=o(e,v),w=this.weight/(this.weight+d.positionWeight);d.positionWeight+=this.weight;var x=u.position;if(x.x=x.x+(_[0]-x.x)*w,x.y=x.y+(_[1]-x.y)*w,x.z=x.z+(_[2]-x.z)*w,
this.interpolationType===i.AnimationHandler.CATMULLROM_FORWARD){var k=o(e,1.01*v);t.set(k[0],k[1],k[2]),t.sub(x),t.y=0,t.normalize();var S=Math.atan2(t.x,t.z);u.rotation.set(0,S,0)}}}else if("rot"===p)if(i.Quaternion.slerp(b,y,r,v),0===d.quaternionWeight)u.quaternion.copy(r),d.quaternionWeight=this.weight;else{var w=this.weight/(this.weight+d.quaternionWeight);i.Quaternion.slerp(u.quaternion,r,u.quaternion,w),d.quaternionWeight+=this.weight}else if("scl"===p){n.x=b[0]+(y[0]-b[0])*v,n.y=b[1]+(y[1]-b[1])*v,n.z=b[2]+(y[2]-b[2])*v;var w=this.weight/(this.weight+d.scaleWeight);u.scale.lerp(n,w),d.scaleWeight+=this.weight}}return!0}}}(),i.Animation.prototype.getNextKeyWith=function(e,t,n){var r=this.data.hierarchy[t].keys;for(this.interpolationType===i.AnimationHandler.CATMULLROM||this.interpolationType===i.AnimationHandler.CATMULLROM_FORWARD?n=n<r.length-1?n:r.length-1:n%=r.length;n<r.length;n++)if(void 0!==r[n][e])return r[n];return this.data.hierarchy[t].keys[0]},i.Animation.prototype.getPrevKeyWith=function(e,t,n){var r=this.data.hierarchy[t].keys;for(n=this.interpolationType===i.AnimationHandler.CATMULLROM||this.interpolationType===i.AnimationHandler.CATMULLROM_FORWARD?n>0?n:0:n>=0?n:n+r.length;n>=0;n--)if(void 0!==r[n][e])return r[n];return this.data.hierarchy[t].keys[r.length-1]},i.KeyFrameAnimation=function(e){this.root=e.node,this.data=i.AnimationHandler.init(e),this.hierarchy=i.AnimationHandler.parse(this.root),this.currentTime=0,this.timeScale=.001,this.isPlaying=!1,this.isPaused=!0,this.loop=!0;for(var t=0,n=this.hierarchy.length;t<n;t++){var r=this.data.hierarchy[t].keys,o=this.data.hierarchy[t].sids,a=this.hierarchy[t];if(r.length&&o){for(var s=0;s<o.length;s++){var c=o[s],l=this.getNextKeyWith(c,t,0);l&&l.apply(c)}a.matrixAutoUpdate=!1,this.data.hierarchy[t].node.updateMatrix(),a.matrixWorldNeedsUpdate=!0}}},i.KeyFrameAnimation.prototype.play=function(e){if(this.currentTime=void 0!==e?e:0,this.isPlaying===!1){this.isPlaying=!0;var t,n,r,o=this.hierarchy.length;for(t=0;t<o;t++){n=this.hierarchy[t],r=this.data.hierarchy[t],void 0===r.animationCache&&(r.animationCache={},r.animationCache.prevKey=null,r.animationCache.nextKey=null,r.animationCache.originalMatrix=n.matrix);var a=this.data.hierarchy[t].keys;a.length&&(r.animationCache.prevKey=a[0],r.animationCache.nextKey=a[1],this.startTime=Math.min(a[0].time,this.startTime),this.endTime=Math.max(a[a.length-1].time,this.endTime))}this.update(0)}this.isPaused=!1,i.AnimationHandler.play(this)},i.KeyFrameAnimation.prototype.stop=function(){this.isPlaying=!1,this.isPaused=!1,i.AnimationHandler.stop(this);for(var e=0;e<this.data.hierarchy.length;e++){var t=this.hierarchy[e],n=this.data.hierarchy[e];if(void 0!==n.animationCache){var r=n.animationCache.originalMatrix;r.copy(t.matrix),t.matrix=r,delete n.animationCache}}},i.KeyFrameAnimation.prototype.update=function(e){if(this.isPlaying!==!1){this.currentTime+=e*this.timeScale;var t=this.data.length;this.loop===!0&&this.currentTime>t&&(this.currentTime%=t),this.currentTime=Math.min(this.currentTime,t);for(var n=0,r=this.hierarchy.length;n<r;n++){var i=this.hierarchy[n],o=this.data.hierarchy[n],a=o.keys,s=o.animationCache;if(a.length){var c=s.prevKey,l=s.nextKey;if(l.time<=this.currentTime){for(;l.time<this.currentTime&&l.index>c.index;)c=l,l=a[c.index+1];s.prevKey=c,s.nextKey=l}l.time>=this.currentTime?c.interpolate(l,this.currentTime):c.interpolate(l,l.time),this.data.hierarchy[n].node.updateMatrix(),i.matrixWorldNeedsUpdate=!0}}}},i.KeyFrameAnimation.prototype.getNextKeyWith=function(e,t,n){var r=this.data.hierarchy[t].keys;for(n%=r.length;n<r.length;n++)if(r[n].hasTarget(e))return r[n];return r[0]},i.KeyFrameAnimation.prototype.getPrevKeyWith=function(e,t,n){var r=this.data.hierarchy[t].keys;for(n=n>=0?n:n+r.length;n>=0;n--)if(r[n].hasTarget(e))return r[n];return r[r.length-1]},i.MorphAnimation=function(e){this.mesh=e,this.frames=e.morphTargetInfluences.length,this.currentTime=0,this.duration=1e3,this.loop=!0,this.lastFrame=0,this.currentFrame=0,this.isPlaying=!1},i.MorphAnimation.prototype={constructor:i.MorphAnimation,play:function(){this.isPlaying=!0},pause:function(){this.isPlaying=!1},update:function(e){if(this.isPlaying!==!1){this.currentTime+=e,this.loop===!0&&this.currentTime>this.duration&&(this.currentTime%=this.duration),this.currentTime=Math.min(this.currentTime,this.duration);var t=this.duration/this.frames,n=Math.floor(this.currentTime/t);n!=this.currentFrame&&(this.mesh.morphTargetInfluences[this.lastFrame]=0,this.mesh.morphTargetInfluences[this.currentFrame]=1,this.mesh.morphTargetInfluences[n]=0,this.lastFrame=this.currentFrame,this.currentFrame=n),this.mesh.morphTargetInfluences[n]=this.currentTime%t/t,this.mesh.morphTargetInfluences[this.lastFrame]=1-this.mesh.morphTargetInfluences[n]}}},i.BoxGeometry=function(e,t,n,r,o,a){function s(e,t,n,r,o,a,s,l){var u,h,d,f=c.widthSegments,p=c.heightSegments,m=o/2,g=a/2,v=c.vertices.length;"x"===e&&"y"===t||"y"===e&&"x"===t?u="z":"x"===e&&"z"===t||"z"===e&&"x"===t?(u="y",p=c.depthSegments):("z"===e&&"y"===t||"y"===e&&"z"===t)&&(u="x",f=c.depthSegments);var b=f+1,y=p+1,w=o/f,_=a/p,x=new i.Vector3;for(x[u]=s>0?1:-1,d=0;d<y;d++)for(h=0;h<b;h++){var k=new i.Vector3;k[e]=(h*w-m)*n,k[t]=(d*_-g)*r,k[u]=s,c.vertices.push(k)}for(d=0;d<p;d++)for(h=0;h<f;h++){var S=h+b*d,j=h+b*(d+1),P=h+1+b*(d+1),E=h+1+b*d,A=new i.Vector2(h/f,1-d/p),T=new i.Vector2(h/f,1-(d+1)/p),C=new i.Vector2((h+1)/f,1-(d+1)/p),M=new i.Vector2((h+1)/f,1-d/p),O=new i.Face3(S+v,j+v,E+v);O.normal.copy(x),O.vertexNormals.push(x.clone(),x.clone(),x.clone()),O.materialIndex=l,c.faces.push(O),c.faceVertexUvs[0].push([A,T,M]),O=new i.Face3(j+v,P+v,E+v),O.normal.copy(x),O.vertexNormals.push(x.clone(),x.clone(),x.clone()),O.materialIndex=l,c.faces.push(O),c.faceVertexUvs[0].push([T.clone(),C,M.clone()])}}i.Geometry.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:o,depthSegments:a},this.widthSegments=r||1,this.heightSegments=o||1,this.depthSegments=a||1;var c=this,l=e/2,u=t/2,h=n/2;s("z","y",-1,-1,n,t,l,0),s("z","y",1,-1,n,t,-l,1),s("x","z",1,1,e,n,u,2),s("x","z",1,-1,e,n,-u,3),s("x","y",1,-1,e,t,h,4),s("x","y",-1,-1,e,t,-h,5),this.mergeVertices()},i.BoxGeometry.prototype=Object.create(i.Geometry.prototype),i.BoxGeometry.prototype.constructor=i.BoxGeometry,i.CircleGeometry=function(e,t,n,r){i.Geometry.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||50,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var o,a=[],s=new i.Vector3,c=new i.Vector2(.5,.5);for(this.vertices.push(s),a.push(c),o=0;o<=t;o++){var l=new i.Vector3,u=n+o/t*r;l.x=e*Math.cos(u),l.y=e*Math.sin(u),this.vertices.push(l),a.push(new i.Vector2((l.x/e+1)/2,(l.y/e+1)/2))}var h=new i.Vector3(0,0,1);for(o=1;o<=t;o++)this.faces.push(new i.Face3(o,o+1,0,[h.clone(),h.clone(),h.clone()])),this.faceVertexUvs[0].push([a[o].clone(),a[o+1].clone(),c.clone()]);this.computeFaceNormals(),this.boundingSphere=new i.Sphere(new i.Vector3,e)},i.CircleGeometry.prototype=Object.create(i.Geometry.prototype),i.CircleGeometry.prototype.constructor=i.CircleGeometry,i.CubeGeometry=function(e,t,n,r,o,a){return console.warn("THREE.CubeGeometry has been renamed to THREE.BoxGeometry."),new i.BoxGeometry(e,t,n,r,o,a)},i.CylinderGeometry=function(e,t,n,r,o,a,s,c){i.Geometry.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:c},e=void 0!==e?e:20,t=void 0!==t?t:20,n=void 0!==n?n:100,r=r||8,o=o||1,a=void 0!==a&&a,s=void 0!==s?s:0,c=void 0!==c?c:2*Math.PI;var l,u,h=n/2,d=[],f=[];for(u=0;u<=o;u++){var p=[],m=[],g=u/o,v=g*(t-e)+e;for(l=0;l<=r;l++){var b=l/r,y=new i.Vector3;y.x=v*Math.sin(b*c+s),y.y=-g*n+h,y.z=v*Math.cos(b*c+s),this.vertices.push(y),p.push(this.vertices.length-1),m.push(new i.Vector2(b,1-g))}d.push(p),f.push(m)}var w,_,x=(t-e)/n;for(l=0;l<r;l++)for(0!==e?(w=this.vertices[d[0][l]].clone(),_=this.vertices[d[0][l+1]].clone()):(w=this.vertices[d[1][l]].clone(),_=this.vertices[d[1][l+1]].clone()),w.setY(Math.sqrt(w.x*w.x+w.z*w.z)*x).normalize(),_.setY(Math.sqrt(_.x*_.x+_.z*_.z)*x).normalize(),u=0;u<o;u++){var k=d[u][l],S=d[u+1][l],j=d[u+1][l+1],P=d[u][l+1],E=w.clone(),A=w.clone(),T=_.clone(),C=_.clone(),M=f[u][l].clone(),O=f[u+1][l].clone(),I=f[u+1][l+1].clone(),F=f[u][l+1].clone();this.faces.push(new i.Face3(k,S,P,[E,A,C])),this.faceVertexUvs[0].push([M,O,F]),this.faces.push(new i.Face3(S,j,P,[A.clone(),T,C.clone()])),this.faceVertexUvs[0].push([O.clone(),I,F.clone()])}if(a===!1&&e>0)for(this.vertices.push(new i.Vector3(0,h,0)),l=0;l<r;l++){var k=d[0][l],S=d[0][l+1],j=this.vertices.length-1,E=new i.Vector3(0,1,0),A=new i.Vector3(0,1,0),T=new i.Vector3(0,1,0),M=f[0][l].clone(),O=f[0][l+1].clone(),I=new i.Vector2(O.x,0);this.faces.push(new i.Face3(k,S,j,[E,A,T])),this.faceVertexUvs[0].push([M,O,I])}if(a===!1&&t>0)for(this.vertices.push(new i.Vector3(0,(-h),0)),l=0;l<r;l++){var k=d[o][l+1],S=d[o][l],j=this.vertices.length-1,E=new i.Vector3(0,(-1),0),A=new i.Vector3(0,(-1),0),T=new i.Vector3(0,(-1),0),M=f[o][l+1].clone(),O=f[o][l].clone(),I=new i.Vector2(O.x,1);this.faces.push(new i.Face3(k,S,j,[E,A,T])),this.faceVertexUvs[0].push([M,O,I])}this.computeFaceNormals()},i.CylinderGeometry.prototype=Object.create(i.Geometry.prototype),i.CylinderGeometry.prototype.constructor=i.CylinderGeometry,i.ExtrudeGeometry=function(e,t){return"undefined"==typeof e?void(e=[]):(i.Geometry.call(this),this.type="ExtrudeGeometry",e=e instanceof Array?e:[e],this.addShapeList(e,t),void this.computeFaceNormals())},i.ExtrudeGeometry.prototype=Object.create(i.Geometry.prototype),i.ExtrudeGeometry.prototype.constructor=i.ExtrudeGeometry,i.ExtrudeGeometry.prototype.addShapeList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];this.addShape(i,t)}},i.ExtrudeGeometry.prototype.addShape=function(e,t){function n(e,t,n){return t||console.log("die"),t.clone().multiplyScalar(n).add(e)}function r(e,t,n){var r,o,a=1e-10,s=1,c=e.x-t.x,l=e.y-t.y,u=n.x-e.x,h=n.y-e.y,d=c*c+l*l,f=c*h-l*u;if(Math.abs(f)>a){var p=Math.sqrt(d),m=Math.sqrt(u*u+h*h),g=t.x-l/p,v=t.y+c/p,b=n.x-h/m,y=n.y+u/m,w=((b-g)*h-(y-v)*u)/(c*h-l*u);r=g+c*w-e.x,o=v+l*w-e.y;var _=r*r+o*o;if(_<=2)return new i.Vector2(r,o);s=Math.sqrt(_/2)}else{var x=!1;c>a?u>a&&(x=!0):c<-a?u<-a&&(x=!0):Math.sign(l)==Math.sign(h)&&(x=!0),x?(r=-l,o=c,s=Math.sqrt(d)):(r=c,o=l,s=Math.sqrt(d/2))}return new i.Vector2(r/s,o/s)}function o(){if(w){var e=0,t=H*e;for(Y=0;Y<W;Y++)V=R[Y],l(V[2]+t,V[1]+t,V[0]+t);for(e=x+2*y,t=H*e,Y=0;Y<W;Y++)V=R[Y],l(V[0]+t,V[1]+t,V[2]+t)}else{for(Y=0;Y<W;Y++)V=R[Y],l(V[2],V[1],V[0]);for(Y=0;Y<W;Y++)V=R[Y],l(V[0]+H*x,V[1]+H*x,V[2]+H*x)}}function a(){var e=0;for(s(N,e),e+=N.length,T=0,C=D.length;T<C;T++)A=D[T],s(A,e),e+=A.length}function s(e,t){var n,r;for(Y=e.length;--Y>=0;){n=Y,r=Y-1,r<0&&(r=e.length-1);var i=0,o=x+2*y;for(i=0;i<o;i++){var a=H*i,s=H*(i+1),c=t+n+a,l=t+r+a,h=t+r+s,d=t+n+s;u(c,l,h,d,e,i,o,n,r)}}}function c(e,t,n){M.vertices.push(new i.Vector3(e,t,n))}function l(e,t,n){e+=O,t+=O,n+=O,M.faces.push(new i.Face3(e,t,n,null,null,j));var r=E.generateTopUV(M,e,t,n);M.faceVertexUvs[0].push(r)}function u(e,t,n,r,o,a,s,c,l){e+=O,t+=O,n+=O,r+=O,M.faces.push(new i.Face3(e,t,r,null,null,P)),M.faces.push(new i.Face3(t,n,r,null,null,P));var u=E.generateSideWallUV(M,e,t,n,r);M.faceVertexUvs[0].push([u[0],u[1],u[3]]),M.faceVertexUvs[0].push([u[1],u[2],u[3]])}var h,d,f,p,m,g=void 0!==t.amount?t.amount:100,v=void 0!==t.bevelThickness?t.bevelThickness:6,b=void 0!==t.bevelSize?t.bevelSize:v-2,y=void 0!==t.bevelSegments?t.bevelSegments:3,w=void 0===t.bevelEnabled||t.bevelEnabled,_=void 0!==t.curveSegments?t.curveSegments:12,x=void 0!==t.steps?t.steps:1,k=t.extrudePath,S=!1,j=t.material,P=t.extrudeMaterial,E=void 0!==t.UVGenerator?t.UVGenerator:i.ExtrudeGeometry.WorldUVGenerator;k&&(h=k.getSpacedPoints(x),S=!0,w=!1,d=void 0!==t.frames?t.frames:new i.TubeGeometry.FrenetFrames(k,x,(!1)),f=new i.Vector3,p=new i.Vector3,m=new i.Vector3),w||(y=0,v=0,b=0);var A,T,C,M=this,O=this.vertices.length,I=e.extractPoints(_),F=I.shape,D=I.holes,L=!i.Shape.Utils.isClockWise(F);if(L){for(F=F.reverse(),T=0,C=D.length;T<C;T++)A=D[T],i.Shape.Utils.isClockWise(A)&&(D[T]=A.reverse());L=!1}var R=i.Shape.Utils.triangulateShape(F,D),N=F;for(T=0,C=D.length;T<C;T++)A=D[T],F=F.concat(A);for(var U,$,z,B,q,V,H=F.length,W=R.length,G=(N.length,180/Math.PI,[]),Y=0,K=N.length,X=K-1,Q=Y+1;Y<K;Y++,X++,Q++){X===K&&(X=0),Q===K&&(Q=0);N[Y],N[X],N[Q];G[Y]=r(N[Y],N[X],N[Q])}var Z,J=[],ee=G.concat();for(T=0,C=D.length;T<C;T++){for(A=D[T],Z=[],Y=0,K=A.length,X=K-1,Q=Y+1;Y<K;Y++,X++,Q++)X===K&&(X=0),Q===K&&(Q=0),Z[Y]=r(A[Y],A[X],A[Q]);J.push(Z),ee=ee.concat(Z)}for(U=0;U<y;U++){for(z=U/y,B=v*(1-z),$=b*Math.sin(z*Math.PI/2),Y=0,K=N.length;Y<K;Y++)q=n(N[Y],G[Y],$),c(q.x,q.y,-B);for(T=0,C=D.length;T<C;T++)for(A=D[T],Z=J[T],Y=0,K=A.length;Y<K;Y++)q=n(A[Y],Z[Y],$),c(q.x,q.y,-B)}for($=b,Y=0;Y<H;Y++)q=w?n(F[Y],ee[Y],$):F[Y],S?(p.copy(d.normals[0]).multiplyScalar(q.x),f.copy(d.binormals[0]).multiplyScalar(q.y),m.copy(h[0]).add(p).add(f),c(m.x,m.y,m.z)):c(q.x,q.y,0);var te;for(te=1;te<=x;te++)for(Y=0;Y<H;Y++)q=w?n(F[Y],ee[Y],$):F[Y],S?(p.copy(d.normals[te]).multiplyScalar(q.x),f.copy(d.binormals[te]).multiplyScalar(q.y),m.copy(h[te]).add(p).add(f),c(m.x,m.y,m.z)):c(q.x,q.y,g/x*te);for(U=y-1;U>=0;U--){for(z=U/y,B=v*(1-z),$=b*Math.sin(z*Math.PI/2),Y=0,K=N.length;Y<K;Y++)q=n(N[Y],G[Y],$),c(q.x,q.y,g+B);for(T=0,C=D.length;T<C;T++)for(A=D[T],Z=J[T],Y=0,K=A.length;Y<K;Y++)q=n(A[Y],Z[Y],$),S?c(q.x,q.y+h[x-1].y,h[x-1].x+B):c(q.x,q.y,g+B)}o(),a()},i.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(e,t,n,r){var o=e.vertices,a=o[t],s=o[n],c=o[r];return[new i.Vector2(a.x,a.y),new i.Vector2(s.x,s.y),new i.Vector2(c.x,c.y)]},generateSideWallUV:function(e,t,n,r,o){var a=e.vertices,s=a[t],c=a[n],l=a[r],u=a[o];return Math.abs(s.y-c.y)<.01?[new i.Vector2(s.x,1-s.z),new i.Vector2(c.x,1-c.z),new i.Vector2(l.x,1-l.z),new i.Vector2(u.x,1-u.z)]:[new i.Vector2(s.y,1-s.z),new i.Vector2(c.y,1-c.z),new i.Vector2(l.y,1-l.z),new i.Vector2(u.y,1-u.z)]}},i.ShapeGeometry=function(e,t){i.Geometry.call(this),this.type="ShapeGeometry",e instanceof Array==!1&&(e=[e]),this.addShapeList(e,t),this.computeFaceNormals()},i.ShapeGeometry.prototype=Object.create(i.Geometry.prototype),i.ShapeGeometry.prototype.constructor=i.ShapeGeometry,i.ShapeGeometry.prototype.addShapeList=function(e,t){for(var n=0,r=e.length;n<r;n++)this.addShape(e[n],t);return this},i.ShapeGeometry.prototype.addShape=function(e,t){void 0===t&&(t={});var n,r,o,a=void 0!==t.curveSegments?t.curveSegments:12,s=t.material,c=void 0===t.UVGenerator?i.ExtrudeGeometry.WorldUVGenerator:t.UVGenerator,l=this.vertices.length,u=e.extractPoints(a),h=u.shape,d=u.holes,f=!i.Shape.Utils.isClockWise(h);if(f){for(h=h.reverse(),n=0,r=d.length;n<r;n++)o=d[n],i.Shape.Utils.isClockWise(o)&&(d[n]=o.reverse());f=!1}var p=i.Shape.Utils.triangulateShape(h,d),m=h;for(n=0,r=d.length;n<r;n++)o=d[n],h=h.concat(o);var g,v,b=h.length,y=p.length;m.length;for(n=0;n<b;n++)g=h[n],this.vertices.push(new i.Vector3(g.x,g.y,0));for(n=0;n<y;n++){v=p[n];var w=v[0]+l,_=v[1]+l,x=v[2]+l;this.faces.push(new i.Face3(w,_,x,null,null,s)),this.faceVertexUvs[0].push(c.generateTopUV(this,w,_,x))}},i.LatheGeometry=function(e,t,n,r){i.Geometry.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=t||12,n=n||0,r=r||2*Math.PI;for(var o=1/(e.length-1),a=1/t,s=0,c=t;s<=c;s++)for(var l=n+s*a*r,u=Math.cos(l),h=Math.sin(l),d=0,f=e.length;d<f;d++){var p=e[d],m=new i.Vector3;m.x=u*p.x-h*p.y,m.y=h*p.x+u*p.y,m.z=p.z,this.vertices.push(m)}for(var g=e.length,s=0,c=t;s<c;s++)for(var d=0,f=e.length-1;d<f;d++){var v=d+g*s,b=v,y=v+g,u=v+1+g,w=v+1,_=s*a,x=d*o,k=_+a,S=x+o;this.faces.push(new i.Face3(b,y,w)),this.faceVertexUvs[0].push([new i.Vector2(_,x),new i.Vector2(k,x),new i.Vector2(_,S)]),this.faces.push(new i.Face3(y,u,w)),this.faceVertexUvs[0].push([new i.Vector2(k,x),new i.Vector2(k,S),new i.Vector2(_,S)])}this.mergeVertices(),this.computeFaceNormals(),this.computeVertexNormals()},i.LatheGeometry.prototype=Object.create(i.Geometry.prototype),i.LatheGeometry.prototype.constructor=i.LatheGeometry,i.PlaneGeometry=function(e,t,n,r){console.info("THREE.PlaneGeometry: Consider using THREE.PlaneBufferGeometry for lower memory footprint."),i.Geometry.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new i.PlaneBufferGeometry(e,t,n,r))},i.PlaneGeometry.prototype=Object.create(i.Geometry.prototype),i.PlaneGeometry.prototype.constructor=i.PlaneGeometry,i.PlaneBufferGeometry=function(e,t,n,r){i.BufferGeometry.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};for(var o=e/2,a=t/2,s=n||1,c=r||1,l=s+1,u=c+1,h=e/s,d=t/c,f=new Float32Array(l*u*3),p=new Float32Array(l*u*3),m=new Float32Array(l*u*2),g=0,v=0,b=0;b<u;b++)for(var y=b*d-a,w=0;w<l;w++){var _=w*h-o;f[g]=_,f[g+1]=-y,p[g+2]=1,m[v]=w/s,m[v+1]=1-b/c,g+=3,v+=2}g=0;for(var x=new(f.length/3>65535?Uint32Array:Uint16Array)(s*c*6),b=0;b<c;b++)for(var w=0;w<s;w++){var k=w+l*b,S=w+l*(b+1),j=w+1+l*(b+1),P=w+1+l*b;x[g]=k,x[g+1]=S,x[g+2]=P,x[g+3]=S,x[g+4]=j,x[g+5]=P,g+=6}this.addAttribute("index",new i.BufferAttribute(x,1)),this.addAttribute("position",new i.BufferAttribute(f,3)),this.addAttribute("normal",new i.BufferAttribute(p,3)),this.addAttribute("uv",new i.BufferAttribute(m,2))},i.PlaneBufferGeometry.prototype=Object.create(i.BufferGeometry.prototype),i.PlaneBufferGeometry.prototype.constructor=i.PlaneBufferGeometry,i.RingGeometry=function(e,t,n,r,o,a){i.Geometry.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:o,thetaLength:a},e=e||0,t=t||50,o=void 0!==o?o:0,a=void 0!==a?a:2*Math.PI,n=void 0!==n?Math.max(3,n):8,r=void 0!==r?Math.max(1,r):8;var s,c,l=[],u=e,h=(t-e)/r;for(s=0;s<r+1;s++){for(c=0;c<n+1;c++){var d=new i.Vector3,f=o+c/n*a;d.x=u*Math.cos(f),d.y=u*Math.sin(f),this.vertices.push(d),l.push(new i.Vector2((d.x/t+1)/2,(d.y/t+1)/2))}u+=h}var p=new i.Vector3(0,0,1);for(s=0;s<r;s++){var m=s*(n+1);for(c=0;c<n;c++){var f=c+m,g=f,v=f+n+1,b=f+n+2;this.faces.push(new i.Face3(g,v,b,[p.clone(),p.clone(),p.clone()])),this.faceVertexUvs[0].push([l[g].clone(),l[v].clone(),l[b].clone()]),g=f,v=f+n+2,b=f+1,this.faces.push(new i.Face3(g,v,b,[p.clone(),p.clone(),p.clone()])),this.faceVertexUvs[0].push([l[g].clone(),l[v].clone(),l[b].clone()])}}this.computeFaceNormals(),this.boundingSphere=new i.Sphere(new i.Vector3,u)},i.RingGeometry.prototype=Object.create(i.Geometry.prototype),i.RingGeometry.prototype.constructor=i.RingGeometry,i.SphereGeometry=function(e,t,n,r,o,a,s){i.Geometry.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:o,thetaStart:a,thetaLength:s},e=e||50,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,o=void 0!==o?o:2*Math.PI,a=void 0!==a?a:0,s=void 0!==s?s:Math.PI;var c,l,u=[],h=[];for(l=0;l<=n;l++){var d=[],f=[];for(c=0;c<=t;c++){var p=c/t,m=l/n,g=new i.Vector3;g.x=-e*Math.cos(r+p*o)*Math.sin(a+m*s),g.y=e*Math.cos(a+m*s),g.z=e*Math.sin(r+p*o)*Math.sin(a+m*s),this.vertices.push(g),d.push(this.vertices.length-1),f.push(new i.Vector2(p,1-m))}u.push(d),h.push(f)}for(l=0;l<n;l++)for(c=0;c<t;c++){var v=u[l][c+1],b=u[l][c],y=u[l+1][c],w=u[l+1][c+1],_=this.vertices[v].clone().normalize(),x=this.vertices[b].clone().normalize(),k=this.vertices[y].clone().normalize(),S=this.vertices[w].clone().normalize(),j=h[l][c+1].clone(),P=h[l][c].clone(),E=h[l+1][c].clone(),A=h[l+1][c+1].clone();Math.abs(this.vertices[v].y)===e?(j.x=(j.x+P.x)/2,this.faces.push(new i.Face3(v,y,w,[_,k,S])),this.faceVertexUvs[0].push([j,E,A])):Math.abs(this.vertices[y].y)===e?(E.x=(E.x+A.x)/2,this.faces.push(new i.Face3(v,b,y,[_,x,k])),this.faceVertexUvs[0].push([j,P,E])):(this.faces.push(new i.Face3(v,b,w,[_,x,S])),this.faceVertexUvs[0].push([j,P,A]),this.faces.push(new i.Face3(b,y,w,[x.clone(),k,S.clone()])),this.faceVertexUvs[0].push([P.clone(),E,A.clone()]))}this.computeFaceNormals(),this.boundingSphere=new i.Sphere(new i.Vector3,e)},i.SphereGeometry.prototype=Object.create(i.Geometry.prototype),i.SphereGeometry.prototype.constructor=i.SphereGeometry,i.TextGeometry=function(e,t){t=t||{};var n=i.FontUtils.generateShapes(e,t);t.amount=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),i.ExtrudeGeometry.call(this,n,t),this.type="TextGeometry"},i.TextGeometry.prototype=Object.create(i.ExtrudeGeometry.prototype),i.TextGeometry.prototype.constructor=i.TextGeometry,i.TorusGeometry=function(e,t,n,r,o){i.Geometry.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:o},e=e||100,t=t||40,n=n||8,r=r||6,o=o||2*Math.PI;for(var a=new i.Vector3,s=[],c=[],l=0;l<=n;l++)for(var u=0;u<=r;u++){var h=u/r*o,d=l/n*Math.PI*2;a.x=e*Math.cos(h),a.y=e*Math.sin(h);var f=new i.Vector3;f.x=(e+t*Math.cos(d))*Math.cos(h),f.y=(e+t*Math.cos(d))*Math.sin(h),f.z=t*Math.sin(d),this.vertices.push(f),s.push(new i.Vector2(u/r,l/n)),c.push(f.clone().sub(a).normalize())}for(var l=1;l<=n;l++)for(var u=1;u<=r;u++){var p=(r+1)*l+u-1,m=(r+1)*(l-1)+u-1,g=(r+1)*(l-1)+u,v=(r+1)*l+u,b=new i.Face3(p,m,v,[c[p].clone(),c[m].clone(),c[v].clone()]);this.faces.push(b),this.faceVertexUvs[0].push([s[p].clone(),s[m].clone(),s[v].clone()]),b=new i.Face3(m,g,v,[c[m].clone(),c[g].clone(),c[v].clone()]),this.faces.push(b),this.faceVertexUvs[0].push([s[m].clone(),s[g].clone(),s[v].clone()])}this.computeFaceNormals()},i.TorusGeometry.prototype=Object.create(i.Geometry.prototype),i.TorusGeometry.prototype.constructor=i.TorusGeometry,i.TorusKnotGeometry=function(e,t,n,r,o,a,s){function c(e,t,n,r,o){var a=Math.cos(e),s=Math.sin(e),c=t/n*e,l=Math.cos(c),u=r*(2+l)*.5*a,h=r*(2+l)*s*.5,d=o*r*Math.sin(c)*.5;return new i.Vector3(u,h,d)}i.Geometry.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,p:o,q:a,heightScale:s},e=e||100,t=t||40,n=n||64,r=r||8,o=o||2,a=a||3,s=s||1;for(var l=new Array(n),u=new i.Vector3,h=new i.Vector3,d=new i.Vector3,f=0;f<n;++f){l[f]=new Array(r);var p=f/n*2*o*Math.PI,m=c(p,a,o,e,s),g=c(p+.01,a,o,e,s);u.subVectors(g,m),h.addVectors(g,m),d.crossVectors(u,h),h.crossVectors(d,u),d.normalize(),h.normalize();for(var v=0;v<r;++v){var b=v/r*2*Math.PI,y=-t*Math.cos(b),w=t*Math.sin(b),_=new i.Vector3;_.x=m.x+y*h.x+w*d.x,_.y=m.y+y*h.y+w*d.y,_.z=m.z+y*h.z+w*d.z,l[f][v]=this.vertices.push(_)-1}}for(var f=0;f<n;++f)for(var v=0;v<r;++v){var x=(f+1)%n,k=(v+1)%r,S=l[f][v],j=l[x][v],P=l[x][k],E=l[f][k],A=new i.Vector2(f/n,v/r),T=new i.Vector2((f+1)/n,v/r),C=new i.Vector2((f+1)/n,(v+1)/r),M=new i.Vector2(f/n,(v+1)/r);this.faces.push(new i.Face3(S,j,E)),this.faceVertexUvs[0].push([A,T,M]),this.faces.push(new i.Face3(j,P,E)),this.faceVertexUvs[0].push([T.clone(),C,M.clone()])}this.computeFaceNormals(),this.computeVertexNormals()},i.TorusKnotGeometry.prototype=Object.create(i.Geometry.prototype),i.TorusKnotGeometry.prototype.constructor=i.TorusKnotGeometry,i.TubeGeometry=function(e,t,n,r,o,a){function s(e,t,n){return C.vertices.push(new i.Vector3(e,t,n))-1}i.Geometry.call(this),this.type="TubeGeometry",this.parameters={path:e,segments:t,radius:n,radialSegments:r,closed:o},t=t||64,n=n||1,r=r||8,o=o||!1,a=a||i.TubeGeometry.NoTaper;var c,l,u,h,d,f,p,m,g,v,b,y,w,_,x,k,S,j,P,E,A,T=[],C=this,M=t+1,O=new i.Vector3,I=new i.TubeGeometry.FrenetFrames(e,t,o),F=I.tangents,D=I.normals,L=I.binormals;for(this.tangents=F,this.normals=D,this.binormals=L,v=0;v<M;v++)for(T[v]=[],h=v/(M-1),g=e.getPointAt(h),c=F[v],l=D[v],u=L[v],f=n*a(h),b=0;b<r;b++)d=b/r*2*Math.PI,p=-f*Math.cos(d),m=f*Math.sin(d),O.copy(g),O.x+=p*l.x+m*u.x,O.y+=p*l.y+m*u.y,O.z+=p*l.z+m*u.z,T[v][b]=s(O.x,O.y,O.z);for(v=0;v<t;v++)for(b=0;b<r;b++)y=o?(v+1)%t:v+1,w=(b+1)%r,_=T[v][b],x=T[y][b],k=T[y][w],S=T[v][w],j=new i.Vector2(v/t,b/r),P=new i.Vector2((v+1)/t,b/r),E=new i.Vector2((v+1)/t,(b+1)/r),A=new i.Vector2(v/t,(b+1)/r),this.faces.push(new i.Face3(_,x,S)),this.faceVertexUvs[0].push([j,P,A]),this.faces.push(new i.Face3(x,k,S)),this.faceVertexUvs[0].push([P.clone(),E,A.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},i.TubeGeometry.prototype=Object.create(i.Geometry.prototype),i.TubeGeometry.prototype.constructor=i.TubeGeometry,i.TubeGeometry.NoTaper=function(e){return 1},i.TubeGeometry.SinusoidalTaper=function(e){return Math.sin(Math.PI*e)},i.TubeGeometry.FrenetFrames=function(e,t,n){function r(){p[0]=new i.Vector3,m[0]=new i.Vector3,a=Number.MAX_VALUE,s=Math.abs(f[0].x),c=Math.abs(f[0].y),l=Math.abs(f[0].z),s<=a&&(a=s,d.set(1,0,0)),c<=a&&(a=c,d.set(0,1,0)),l<=a&&d.set(0,0,1),g.crossVectors(f[0],d).normalize(),p[0].crossVectors(f[0],g),m[0].crossVectors(f[0],p[0])}var o,a,s,c,l,u,h,d=(new i.Vector3,new i.Vector3),f=(new i.Vector3,[]),p=[],m=[],g=new i.Vector3,v=new i.Matrix4,b=t+1,y=1e-4;for(this.tangents=f,this.normals=p,this.binormals=m,u=0;u<b;u++)h=u/(b-1),f[u]=e.getTangentAt(h),f[u].normalize();for(r(),u=1;u<b;u++)p[u]=p[u-1].clone(),m[u]=m[u-1].clone(),g.crossVectors(f[u-1],f[u]),g.length()>y&&(g.normalize(),o=Math.acos(i.Math.clamp(f[u-1].dot(f[u]),-1,1)),p[u].applyMatrix4(v.makeRotationAxis(g,o))),m[u].crossVectors(f[u],p[u]);if(n)for(o=Math.acos(i.Math.clamp(p[0].dot(p[b-1]),-1,1)),o/=b-1,f[0].dot(g.crossVectors(p[0],p[b-1]))>0&&(o=-o),u=1;u<b;u++)p[u].applyMatrix4(v.makeRotationAxis(f[u],o*u)),m[u].crossVectors(f[u],p[u])},i.PolyhedronGeometry=function(e,t,n,r){function o(e){var t=e.normalize().clone();t.index=h.vertices.push(t)-1;var n=c(e)/2/Math.PI+.5,r=l(e)/Math.PI+.5;return t.uv=new i.Vector2(n,1-r),t}function a(e,t,n){var r=new i.Face3(e.index,t.index,n.index,[e.clone(),t.clone(),n.clone()]);h.faces.push(r),w.copy(e).add(t).add(n).divideScalar(3);var o=c(w);h.faceVertexUvs[0].push([u(e.uv,e,o),u(t.uv,t,o),u(n.uv,n,o)])}function s(e,t){for(var n=Math.pow(2,t),r=(Math.pow(4,t),o(h.vertices[e.a])),i=o(h.vertices[e.b]),s=o(h.vertices[e.c]),c=[],l=0;l<=n;l++){c[l]=[];for(var u=o(r.clone().lerp(s,l/n)),d=o(i.clone().lerp(s,l/n)),f=n-l,p=0;p<=f;p++)0==p&&l==n?c[l][p]=u:c[l][p]=o(u.clone().lerp(d,p/f))}for(var l=0;l<n;l++)for(var p=0;p<2*(n-l)-1;p++){var m=Math.floor(p/2);p%2==0?a(c[l][m+1],c[l+1][m],c[l][m]):a(c[l][m+1],c[l+1][m+1],c[l+1][m])}}function c(e){return Math.atan2(e.z,-e.x)}function l(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}function u(e,t,n){return n<0&&1===e.x&&(e=new i.Vector2(e.x-1,e.y)),0===t.x&&0===t.z&&(e=new i.Vector2(n/2/Math.PI+.5,e.y)),e.clone()}i.Geometry.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1,r=r||0;for(var h=this,d=0,f=e.length;d<f;d+=3)o(new i.Vector3(e[d],e[d+1],e[d+2]));for(var p=this.vertices,m=[],d=0,g=0,f=t.length;d<f;d+=3,g++){var v=p[t[d]],b=p[t[d+1]],y=p[t[d+2]];m[g]=new i.Face3(v.index,b.index,y.index,[v.clone(),b.clone(),y.clone()])}for(var w=new i.Vector3,d=0,f=m.length;d<f;d++)s(m[d],r);for(var d=0,f=this.faceVertexUvs[0].length;d<f;d++){var _=this.faceVertexUvs[0][d],x=_[0].x,k=_[1].x,S=_[2].x,j=Math.max(x,Math.max(k,S)),P=Math.min(x,Math.min(k,S));j>.9&&P<.1&&(x<.2&&(_[0].x+=1),k<.2&&(_[1].x+=1),S<.2&&(_[2].x+=1))}for(var d=0,f=this.vertices.length;d<f;d++)this.vertices[d].multiplyScalar(n);this.mergeVertices(),this.computeFaceNormals(),this.boundingSphere=new i.Sphere(new i.Vector3,n)},i.PolyhedronGeometry.prototype=Object.create(i.Geometry.prototype),i.PolyhedronGeometry.prototype.constructor=i.PolyhedronGeometry,i.DodecahedronGeometry=function(e,t){this.parameters={radius:e,detail:t};var n=(1+Math.sqrt(5))/2,r=1/n,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];i.PolyhedronGeometry.call(this,o,a,e,t)},i.DodecahedronGeometry.prototype=Object.create(i.Geometry.prototype),i.DodecahedronGeometry.prototype.constructor=i.DodecahedronGeometry,i.IcosahedronGeometry=function(e,t){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];i.PolyhedronGeometry.call(this,r,o,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}},i.IcosahedronGeometry.prototype=Object.create(i.Geometry.prototype),i.IcosahedronGeometry.prototype.constructor=i.IcosahedronGeometry,i.OctahedronGeometry=function(e,t){this.parameters={radius:e,detail:t};var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];i.PolyhedronGeometry.call(this,n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}},i.OctahedronGeometry.prototype=Object.create(i.Geometry.prototype),i.OctahedronGeometry.prototype.constructor=i.OctahedronGeometry,i.TetrahedronGeometry=function(e,t){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];i.PolyhedronGeometry.call(this,n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}},i.TetrahedronGeometry.prototype=Object.create(i.Geometry.prototype),i.TetrahedronGeometry.prototype.constructor=i.TetrahedronGeometry,i.ParametricGeometry=function(e,t,n){i.Geometry.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n};var r,o,a,s,c,l=this.vertices,u=this.faces,h=this.faceVertexUvs[0],d=t+1;for(r=0;r<=n;r++)for(c=r/n,o=0;o<=t;o++)s=o/t,a=e(s,c),l.push(a);var f,p,m,g,v,b,y,w;for(r=0;r<n;r++)for(o=0;o<t;o++)f=r*d+o,p=r*d+o+1,m=(r+1)*d+o+1,g=(r+1)*d+o,v=new i.Vector2(o/t,r/n),b=new i.Vector2((o+1)/t,r/n),y=new i.Vector2((o+1)/t,(r+1)/n),w=new i.Vector2(o/t,(r+1)/n),u.push(new i.Face3(f,p,g)),h.push([v,b,w]),u.push(new i.Face3(p,m,g)),h.push([b.clone(),y,w.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},i.ParametricGeometry.prototype=Object.create(i.Geometry.prototype),i.ParametricGeometry.prototype.constructor=i.ParametricGeometry,i.AxisHelper=function(e){e=e||1;var t=new Float32Array([0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e]),n=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]),r=new i.BufferGeometry;r.addAttribute("position",new i.BufferAttribute(t,3)),r.addAttribute("color",new i.BufferAttribute(n,3));var o=new i.LineBasicMaterial({vertexColors:i.VertexColors});i.Line.call(this,r,o,i.LinePieces)},i.AxisHelper.prototype=Object.create(i.Line.prototype),i.AxisHelper.prototype.constructor=i.AxisHelper,i.ArrowHelper=function(){var e=new i.Geometry;e.vertices.push(new i.Vector3(0,0,0),new i.Vector3(0,1,0));var t=new i.CylinderGeometry(0,.5,1,5,1);return t.applyMatrix((new i.Matrix4).makeTranslation(0,-.5,0)),function(n,r,o,a,s,c){i.Object3D.call(this),void 0===a&&(a=16776960),void 0===o&&(o=1),void 0===s&&(s=.2*o),void 0===c&&(c=.2*s),this.position.copy(r),this.line=new i.Line(e,new i.LineBasicMaterial({color:a})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new i.Mesh(t,new i.MeshBasicMaterial({color:a})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(n),this.setLength(o,s,c)}}(),i.ArrowHelper.prototype=Object.create(i.Object3D.prototype),i.ArrowHelper.prototype.constructor=i.ArrowHelper,i.ArrowHelper.prototype.setDirection=function(){var e,t=new i.Vector3;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(t.set(n.z,0,-n.x).normalize(),e=Math.acos(n.y),this.quaternion.setFromAxisAngle(t,e))}}(),i.ArrowHelper.prototype.setLength=function(e,t,n){
void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,e-t,1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},i.ArrowHelper.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},i.BoxHelper=function(e){var t=new i.BufferGeometry;t.addAttribute("position",new i.BufferAttribute(new Float32Array(72),3)),i.Line.call(this,t,new i.LineBasicMaterial({color:16776960}),i.LinePieces),void 0!==e&&this.update(e)},i.BoxHelper.prototype=Object.create(i.Line.prototype),i.BoxHelper.prototype.constructor=i.BoxHelper,i.BoxHelper.prototype.update=function(e){var t=e.geometry;null===t.boundingBox&&t.computeBoundingBox();var n=t.boundingBox.min,r=t.boundingBox.max,i=this.geometry.attributes.position.array;i[0]=r.x,i[1]=r.y,i[2]=r.z,i[3]=n.x,i[4]=r.y,i[5]=r.z,i[6]=n.x,i[7]=r.y,i[8]=r.z,i[9]=n.x,i[10]=n.y,i[11]=r.z,i[12]=n.x,i[13]=n.y,i[14]=r.z,i[15]=r.x,i[16]=n.y,i[17]=r.z,i[18]=r.x,i[19]=n.y,i[20]=r.z,i[21]=r.x,i[22]=r.y,i[23]=r.z,i[24]=r.x,i[25]=r.y,i[26]=n.z,i[27]=n.x,i[28]=r.y,i[29]=n.z,i[30]=n.x,i[31]=r.y,i[32]=n.z,i[33]=n.x,i[34]=n.y,i[35]=n.z,i[36]=n.x,i[37]=n.y,i[38]=n.z,i[39]=r.x,i[40]=n.y,i[41]=n.z,i[42]=r.x,i[43]=n.y,i[44]=n.z,i[45]=r.x,i[46]=r.y,i[47]=n.z,i[48]=r.x,i[49]=r.y,i[50]=r.z,i[51]=r.x,i[52]=r.y,i[53]=n.z,i[54]=n.x,i[55]=r.y,i[56]=r.z,i[57]=n.x,i[58]=r.y,i[59]=n.z,i[60]=n.x,i[61]=n.y,i[62]=r.z,i[63]=n.x,i[64]=n.y,i[65]=n.z,i[66]=r.x,i[67]=n.y,i[68]=r.z,i[69]=r.x,i[70]=n.y,i[71]=n.z,this.geometry.attributes.position.needsUpdate=!0,this.geometry.computeBoundingSphere(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1},i.BoundingBoxHelper=function(e,t){var n=void 0!==t?t:8947848;this.object=e,this.box=new i.Box3,i.Mesh.call(this,new i.BoxGeometry(1,1,1),new i.MeshBasicMaterial({color:n,wireframe:!0}))},i.BoundingBoxHelper.prototype=Object.create(i.Mesh.prototype),i.BoundingBoxHelper.prototype.constructor=i.BoundingBoxHelper,i.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object),this.box.size(this.scale),this.box.center(this.position)},i.CameraHelper=function(e){function t(e,t,r){n(e,r),n(t,r)}function n(e,t){r.vertices.push(new i.Vector3),r.colors.push(new i.Color(t)),void 0===a[e]&&(a[e]=[]),a[e].push(r.vertices.length-1)}var r=new i.Geometry,o=new i.LineBasicMaterial({color:16777215,vertexColors:i.FaceColors}),a={},s=16755200,c=16711680,l=43775,u=16777215,h=3355443;t("n1","n2",s),t("n2","n4",s),t("n4","n3",s),t("n3","n1",s),t("f1","f2",s),t("f2","f4",s),t("f4","f3",s),t("f3","f1",s),t("n1","f1",s),t("n2","f2",s),t("n3","f3",s),t("n4","f4",s),t("p","n1",c),t("p","n2",c),t("p","n3",c),t("p","n4",c),t("u1","u2",l),t("u2","u3",l),t("u3","u1",l),t("c","t",u),t("p","c",h),t("cn1","cn2",h),t("cn3","cn4",h),t("cf1","cf2",h),t("cf3","cf4",h),i.Line.call(this,r,o,i.LinePieces),this.camera=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()},i.CameraHelper.prototype=Object.create(i.Line.prototype),i.CameraHelper.prototype.constructor=i.CameraHelper,i.CameraHelper.prototype.update=function(){var e,t,n=new i.Vector3,r=new i.Camera,o=function(i,o,a,s){n.set(o,a,s).unproject(r);var c=t[i];if(void 0!==c)for(var l=0,u=c.length;l<u;l++)e.vertices[c[l]].copy(n)};return function(){e=this.geometry,t=this.pointMap;var n=1,i=1;r.projectionMatrix.copy(this.camera.projectionMatrix),o("c",0,0,-1),o("t",0,0,1),o("n1",-n,-i,-1),o("n2",n,-i,-1),o("n3",-n,i,-1),o("n4",n,i,-1),o("f1",-n,-i,1),o("f2",n,-i,1),o("f3",-n,i,1),o("f4",n,i,1),o("u1",.7*n,1.1*i,-1),o("u2",.7*-n,1.1*i,-1),o("u3",0,2*i,-1),o("cf1",-n,0,1),o("cf2",n,0,1),o("cf3",0,-i,1),o("cf4",0,i,1),o("cn1",-n,0,-1),o("cn2",n,0,-1),o("cn3",0,-i,-1),o("cn4",0,i,-1),e.verticesNeedUpdate=!0}}(),i.DirectionalLightHelper=function(e,t){i.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,t=t||1;var n=new i.Geometry;n.vertices.push(new i.Vector3((-t),t,0),new i.Vector3(t,t,0),new i.Vector3(t,(-t),0),new i.Vector3((-t),(-t),0),new i.Vector3((-t),t,0));var r=new i.LineBasicMaterial({fog:!1});r.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.lightPlane=new i.Line(n,r),this.add(this.lightPlane),n=new i.Geometry,n.vertices.push(new i.Vector3,new i.Vector3),r=new i.LineBasicMaterial({fog:!1}),r.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine=new i.Line(n,r),this.add(this.targetLine),this.update()},i.DirectionalLightHelper.prototype=Object.create(i.Object3D.prototype),i.DirectionalLightHelper.prototype.constructor=i.DirectionalLightHelper,i.DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},i.DirectionalLightHelper.prototype.update=function(){var e=new i.Vector3,t=new i.Vector3,n=new i.Vector3;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(t,e),this.lightPlane.lookAt(n),this.lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine.geometry.vertices[1].copy(n),this.targetLine.geometry.verticesNeedUpdate=!0,this.targetLine.material.color.copy(this.lightPlane.material.color)}}(),i.EdgesHelper=function(e,t){var n=void 0!==t?t:16777215,r=[0,0],o={},a=function(e,t){return e-t},s=["a","b","c"],c=new i.BufferGeometry,l=e.geometry.clone();l.mergeVertices(),l.computeFaceNormals();for(var u=l.vertices,h=l.faces,d=0,f=0,p=h.length;f<p;f++)for(var m=h[f],g=0;g<3;g++){r[0]=m[s[g]],r[1]=m[s[(g+1)%3]],r.sort(a);var v=r.toString();void 0===o[v]?(o[v]={vert1:r[0],vert2:r[1],face1:f,face2:void 0},d++):o[v].face2=f}var b=new Float32Array(2*d*3),y=0;for(var v in o){var w=o[v];if(void 0===w.face2||h[w.face1].normal.dot(h[w.face2].normal)<.9999){var _=u[w.vert1];b[y++]=_.x,b[y++]=_.y,b[y++]=_.z,_=u[w.vert2],b[y++]=_.x,b[y++]=_.y,b[y++]=_.z}}c.addAttribute("position",new i.BufferAttribute(b,3)),i.Line.call(this,c,new i.LineBasicMaterial({color:n}),i.LinePieces),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1},i.EdgesHelper.prototype=Object.create(i.Line.prototype),i.EdgesHelper.prototype.constructor=i.EdgesHelper,i.FaceNormalsHelper=function(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;for(var o=void 0!==n?n:16776960,a=void 0!==r?r:1,s=new i.Geometry,c=this.object.geometry.faces,l=0,u=c.length;l<u;l++)s.vertices.push(new i.Vector3,new i.Vector3);i.Line.call(this,s,new i.LineBasicMaterial({color:o,linewidth:a}),i.LinePieces),this.matrixAutoUpdate=!1,this.normalMatrix=new i.Matrix3,this.update()},i.FaceNormalsHelper.prototype=Object.create(i.Line.prototype),i.FaceNormalsHelper.prototype.constructor=i.FaceNormalsHelper,i.FaceNormalsHelper.prototype.update=function(){var e=this.geometry.vertices,t=this.object,n=t.geometry.vertices,r=t.geometry.faces,i=t.matrixWorld;t.updateMatrixWorld(!0),this.normalMatrix.getNormalMatrix(i);for(var o=0,a=0,s=r.length;o<s;o++,a+=2){var c=r[o];e[a].copy(n[c.a]).add(n[c.b]).add(n[c.c]).divideScalar(3).applyMatrix4(i),e[a+1].copy(c.normal).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size).add(e[a])}return this.geometry.verticesNeedUpdate=!0,this},i.GridHelper=function(e,t){var n=new i.Geometry,r=new i.LineBasicMaterial({vertexColors:i.VertexColors});this.color1=new i.Color(4473924),this.color2=new i.Color(8947848);for(var o=-e;o<=e;o+=t){n.vertices.push(new i.Vector3((-e),0,o),new i.Vector3(e,0,o),new i.Vector3(o,0,(-e)),new i.Vector3(o,0,e));var a=0===o?this.color1:this.color2;n.colors.push(a,a,a,a)}i.Line.call(this,n,r,i.LinePieces)},i.GridHelper.prototype=Object.create(i.Line.prototype),i.GridHelper.prototype.constructor=i.GridHelper,i.GridHelper.prototype.setColors=function(e,t){this.color1.set(e),this.color2.set(t),this.geometry.colorsNeedUpdate=!0},i.HemisphereLightHelper=function(e,t,n,r){i.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new i.Color,new i.Color];var o=new i.SphereGeometry(t,4,2);o.applyMatrix((new i.Matrix4).makeRotationX(-Math.PI/2));for(var a=0,s=8;a<s;a++)o.faces[a].color=this.colors[a<4?0:1];var c=new i.MeshBasicMaterial({vertexColors:i.FaceColors,wireframe:!0});this.lightSphere=new i.Mesh(o,c),this.add(this.lightSphere),this.update()},i.HemisphereLightHelper.prototype=Object.create(i.Object3D.prototype),i.HemisphereLightHelper.prototype.constructor=i.HemisphereLightHelper,i.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose(),this.lightSphere.material.dispose()},i.HemisphereLightHelper.prototype.update=function(){var e=new i.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),this.lightSphere.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate()),this.lightSphere.geometry.colorsNeedUpdate=!0}}(),i.PointLightHelper=function(e,t){this.light=e,this.light.updateMatrixWorld();var n=new i.SphereGeometry(t,4,2),r=new i.MeshBasicMaterial({wireframe:!0,fog:!1});r.color.copy(this.light.color).multiplyScalar(this.light.intensity),i.Mesh.call(this,n,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1},i.PointLightHelper.prototype=Object.create(i.Mesh.prototype),i.PointLightHelper.prototype.constructor=i.PointLightHelper,i.PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},i.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},i.SkeletonHelper=function(e){this.bones=this.getBoneList(e);for(var t=new i.Geometry,n=0;n<this.bones.length;n++){var r=this.bones[n];r.parent instanceof i.Bone&&(t.vertices.push(new i.Vector3),t.vertices.push(new i.Vector3),t.colors.push(new i.Color(0,0,1)),t.colors.push(new i.Color(0,1,0)))}var o=new i.LineBasicMaterial({vertexColors:i.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});i.Line.call(this,t,o,i.LinePieces),this.root=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.update()},i.SkeletonHelper.prototype=Object.create(i.Line.prototype),i.SkeletonHelper.prototype.constructor=i.SkeletonHelper,i.SkeletonHelper.prototype.getBoneList=function(e){var t=[];e instanceof i.Bone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,this.getBoneList(e.children[n]));return t},i.SkeletonHelper.prototype.update=function(){for(var e=this.geometry,t=(new i.Matrix4).getInverse(this.root.matrixWorld),n=new i.Matrix4,r=0,o=0;o<this.bones.length;o++){var a=this.bones[o];a.parent instanceof i.Bone&&(n.multiplyMatrices(t,a.matrixWorld),e.vertices[r].setFromMatrixPosition(n),n.multiplyMatrices(t,a.parent.matrixWorld),e.vertices[r+1].setFromMatrixPosition(n),r+=2)}e.verticesNeedUpdate=!0,e.computeBoundingSphere()},i.SpotLightHelper=function(e){i.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;var t=new i.CylinderGeometry(0,1,1,8,1,(!0));t.applyMatrix((new i.Matrix4).makeTranslation(0,-.5,0)),t.applyMatrix((new i.Matrix4).makeRotationX(-Math.PI/2));var n=new i.MeshBasicMaterial({wireframe:!0,fog:!1});this.cone=new i.Mesh(t,n),this.add(this.cone),this.update()},i.SpotLightHelper.prototype=Object.create(i.Object3D.prototype),i.SpotLightHelper.prototype.constructor=i.SpotLightHelper,i.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},i.SpotLightHelper.prototype.update=function(){var e=new i.Vector3,t=new i.Vector3;return function(){var n=this.light.distance?this.light.distance:1e4,r=n*Math.tan(this.light.angle);this.cone.scale.set(r,r,n),e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t.sub(e)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),i.VertexNormalsHelper=function(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;for(var o=void 0!==n?n:16711680,a=void 0!==r?r:1,s=new i.Geometry,c=(e.geometry.vertices,e.geometry.faces),l=0,u=c.length;l<u;l++)for(var h=c[l],d=0,f=h.vertexNormals.length;d<f;d++)s.vertices.push(new i.Vector3,new i.Vector3);i.Line.call(this,s,new i.LineBasicMaterial({color:o,linewidth:a}),i.LinePieces),this.matrixAutoUpdate=!1,this.normalMatrix=new i.Matrix3,this.update()},i.VertexNormalsHelper.prototype=Object.create(i.Line.prototype),i.VertexNormalsHelper.prototype.constructor=i.VertexNormalsHelper,i.VertexNormalsHelper.prototype.update=function(e){var t=new i.Vector3;return function(e){var n=["a","b","c","d"];this.object.updateMatrixWorld(!0),this.normalMatrix.getNormalMatrix(this.object.matrixWorld);for(var r=this.geometry.vertices,i=this.object.geometry.vertices,o=this.object.geometry.faces,a=this.object.matrixWorld,s=0,c=0,l=o.length;c<l;c++)for(var u=o[c],h=0,d=u.vertexNormals.length;h<d;h++){var f=u[n[h]],p=i[f],m=u.vertexNormals[h];r[s].copy(p).applyMatrix4(a),t.copy(m).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size),t.add(r[s]),s+=1,r[s].copy(t),s+=1}return this.geometry.verticesNeedUpdate=!0,this}}(),i.VertexTangentsHelper=function(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;for(var o=void 0!==n?n:255,a=void 0!==r?r:1,s=new i.Geometry,c=(e.geometry.vertices,e.geometry.faces),l=0,u=c.length;l<u;l++)for(var h=c[l],d=0,f=h.vertexTangents.length;d<f;d++)s.vertices.push(new i.Vector3),s.vertices.push(new i.Vector3);i.Line.call(this,s,new i.LineBasicMaterial({color:o,linewidth:a}),i.LinePieces),this.matrixAutoUpdate=!1,this.update()},i.VertexTangentsHelper.prototype=Object.create(i.Line.prototype),i.VertexTangentsHelper.prototype.constructor=i.VertexTangentsHelper,i.VertexTangentsHelper.prototype.update=function(e){var t=new i.Vector3;return function(e){var n=["a","b","c","d"];this.object.updateMatrixWorld(!0);for(var r=this.geometry.vertices,i=this.object.geometry.vertices,o=this.object.geometry.faces,a=this.object.matrixWorld,s=0,c=0,l=o.length;c<l;c++)for(var u=o[c],h=0,d=u.vertexTangents.length;h<d;h++){var f=u[n[h]],p=i[f],m=u.vertexTangents[h];r[s].copy(p).applyMatrix4(a),t.copy(m).transformDirection(a).multiplyScalar(this.size),t.add(r[s]),s+=1,r[s].copy(t),s+=1}return this.geometry.verticesNeedUpdate=!0,this}}(),i.WireframeHelper=function(e,t){var n=void 0!==t?t:16777215,r=[0,0],o={},a=function(e,t){return e-t},s=["a","b","c"],c=new i.BufferGeometry;if(e.geometry instanceof i.Geometry){for(var l=e.geometry.vertices,u=e.geometry.faces,h=0,d=new Uint32Array(6*u.length),f=0,p=u.length;f<p;f++)for(var m=u[f],g=0;g<3;g++){r[0]=m[s[g]],r[1]=m[s[(g+1)%3]],r.sort(a);var v=r.toString();void 0===o[v]&&(d[2*h]=r[0],d[2*h+1]=r[1],o[v]=!0,h++)}for(var b=new Float32Array(2*h*3),f=0,p=h;f<p;f++)for(var g=0;g<2;g++){var y=l[d[2*f+g]],w=6*f+3*g;b[w+0]=y.x,b[w+1]=y.y,b[w+2]=y.z}c.addAttribute("position",new i.BufferAttribute(b,3))}else if(e.geometry instanceof i.BufferGeometry)if(void 0!==e.geometry.attributes.index){var l=e.geometry.attributes.position.array,_=e.geometry.attributes.index.array,x=e.geometry.drawcalls,h=0;0===x.length&&(x=[{count:_.length,index:0,start:0}]);for(var d=new Uint32Array(2*_.length),k=0,S=x.length;k<S;++k)for(var j=x[k].start,P=x[k].count,w=x[k].index,f=j,E=j+P;f<E;f+=3)for(var g=0;g<3;g++){r[0]=w+_[f+g],r[1]=w+_[f+(g+1)%3],r.sort(a);var v=r.toString();void 0===o[v]&&(d[2*h]=r[0],d[2*h+1]=r[1],o[v]=!0,h++)}for(var b=new Float32Array(2*h*3),f=0,p=h;f<p;f++)for(var g=0;g<2;g++){var w=6*f+3*g,A=3*d[2*f+g];b[w+0]=l[A],b[w+1]=l[A+1],b[w+2]=l[A+2]}c.addAttribute("position",new i.BufferAttribute(b,3))}else{for(var l=e.geometry.attributes.position.array,h=l.length/3,T=h/3,b=new Float32Array(2*h*3),f=0,p=T;f<p;f++)for(var g=0;g<3;g++){var w=18*f+6*g,C=9*f+3*g;b[w+0]=l[C],b[w+1]=l[C+1],b[w+2]=l[C+2];var A=9*f+3*((g+1)%3);b[w+3]=l[A],b[w+4]=l[A+1],b[w+5]=l[A+2]}c.addAttribute("position",new i.BufferAttribute(b,3))}i.Line.call(this,c,new i.LineBasicMaterial({color:n}),i.LinePieces),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1},i.WireframeHelper.prototype=Object.create(i.Line.prototype),i.WireframeHelper.prototype.constructor=i.WireframeHelper,i.ImmediateRenderObject=function(){i.Object3D.call(this),this.render=function(e){}},i.ImmediateRenderObject.prototype=Object.create(i.Object3D.prototype),i.ImmediateRenderObject.prototype.constructor=i.ImmediateRenderObject,i.MorphBlendMesh=function(e,t){i.Mesh.call(this,e,t),this.animationsMap={},this.animationsList=[];var n=this.geometry.morphTargets.length,r="__default",o=0,a=n-1,s=n/1;this.createAnimation(r,o,a,s),this.setAnimationWeight(r,1)},i.MorphBlendMesh.prototype=Object.create(i.Mesh.prototype),i.MorphBlendMesh.prototype.constructor=i.MorphBlendMesh,i.MorphBlendMesh.prototype.createAnimation=function(e,t,n,r){var i={startFrame:t,endFrame:n,length:n-t+1,fps:r,duration:(n-t)/r,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[e]=i,this.animationsList.push(i)},i.MorphBlendMesh.prototype.autoCreateAnimations=function(e){for(var t,n=/([a-z]+)_?(\d+)/,r={},i=this.geometry,o=0,a=i.morphTargets.length;o<a;o++){var s=i.morphTargets[o],c=s.name.match(n);if(c&&c.length>1){var l=c[1];c[2];r[l]||(r[l]={start:1/0,end:-(1/0)});var u=r[l];o<u.start&&(u.start=o),o>u.end&&(u.end=o),t||(t=l)}}for(var l in r){var u=r[l];this.createAnimation(l,u.start,u.end,e)}this.firstAnimation=t},i.MorphBlendMesh.prototype.setAnimationDirectionForward=function(e){var t=this.animationsMap[e];t&&(t.direction=1,t.directionBackwards=!1)},i.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(e){var t=this.animationsMap[e];t&&(t.direction=-1,t.directionBackwards=!0)},i.MorphBlendMesh.prototype.setAnimationFPS=function(e,t){var n=this.animationsMap[e];n&&(n.fps=t,n.duration=(n.end-n.start)/n.fps)},i.MorphBlendMesh.prototype.setAnimationDuration=function(e,t){var n=this.animationsMap[e];n&&(n.duration=t,n.fps=(n.end-n.start)/n.duration)},i.MorphBlendMesh.prototype.setAnimationWeight=function(e,t){var n=this.animationsMap[e];n&&(n.weight=t)},i.MorphBlendMesh.prototype.setAnimationTime=function(e,t){var n=this.animationsMap[e];n&&(n.time=t)},i.MorphBlendMesh.prototype.getAnimationTime=function(e){var t=0,n=this.animationsMap[e];return n&&(t=n.time),t},i.MorphBlendMesh.prototype.getAnimationDuration=function(e){var t=-1,n=this.animationsMap[e];return n&&(t=n.duration),t},i.MorphBlendMesh.prototype.playAnimation=function(e){var t=this.animationsMap[e];t?(t.time=0,t.active=!0):console.warn("animation["+e+"] undefined")},i.MorphBlendMesh.prototype.stopAnimation=function(e){var t=this.animationsMap[e];t&&(t.active=!1)},i.MorphBlendMesh.prototype.update=function(e){for(var t=0,n=this.animationsList.length;t<n;t++){var r=this.animationsList[t];if(r.active){var o=r.duration/r.length;r.time+=r.direction*e,r.mirroredLoop?(r.time>r.duration||r.time<0)&&(r.direction*=-1,r.time>r.duration&&(r.time=r.duration,r.directionBackwards=!0),r.time<0&&(r.time=0,r.directionBackwards=!1)):(r.time=r.time%r.duration,r.time<0&&(r.time+=r.duration));var a=r.startFrame+i.Math.clamp(Math.floor(r.time/o),0,r.length-1),s=r.weight;a!==r.currentFrame&&(this.morphTargetInfluences[r.lastFrame]=0,this.morphTargetInfluences[r.currentFrame]=1*s,this.morphTargetInfluences[a]=0,r.lastFrame=r.currentFrame,r.currentFrame=a);var c=r.time%o/o;r.directionBackwards&&(c=1-c),this.morphTargetInfluences[r.currentFrame]=c*s,this.morphTargetInfluences[r.lastFrame]=(1-c)*s}}},"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=i),n.THREE=i):this.THREE=i},{}],431:[function(e,t,n){t.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},{}],432:[function(e,t,n){"use strict";function r(e){if(e){var t=e.split(P);if(t){for(var n=null,r=null,i=null,o=null,a=null,s=null,c=0;c<t.length;c++){var l=t[c].trim();if(l.length){var u;if(null===i&&(u=F.exec(l))){if(n=parseInt(u[1],10),r=parseInt(u[2],10),i=parseInt(u[3],10),n>23||r>59||i>59)return}else if(null===o&&(u=I.exec(l))){if(o=parseInt(u,10),o<1||o>31)return}else if(null===a&&(u=D.exec(l)))a=L[u[1].toLowerCase()];else if(null===s&&(u=U.exec(l),u&&(s=parseInt(u[0],10),70<=s&&s<=99?s+=1900:0<=s&&s<=69&&(s+=2e3),s<1601)))return}}if(null!==i&&null!==o&&null!==a&&null!==s)return new Date(Date.UTC(s,a,o,n,r,i))}}}function i(e){var t=e.getUTCDate();t=t>=10?t:"0"+t;var n=e.getUTCHours();n=n>=10?n:"0"+n;var r=e.getUTCMinutes();r=r>=10?r:"0"+r;var i=e.getUTCSeconds();return i=i>=10?i:"0"+i,N[e.getUTCDay()]+", "+t+" "+R[e.getUTCMonth()]+" "+e.getUTCFullYear()+" "+n+":"+r+":"+i+" GMT"}function o(e){return null==e?null:(e=e.trim().replace(/^\./,""),v&&/[^\u0001-\u007f]/.test(e)&&(e=v.toASCII(e)),e.toLowerCase())}function a(e,t,n){if(null==e||null==t)return null;if(n!==!1&&(e=o(e),t=o(t)),e==t)return!0;if(b.isIP(e))return!1;var r=e.indexOf(t);return!(r<=0)&&(e.length===t.length+r&&"."===e.substr(r-1,1))}function s(e){if(!e||"/"!==e.substr(0,1))return"/";if("/"===e)return e;var t=e.lastIndexOf("/");return 0===t?"/":e.slice(0,t)}function c(e,t){t&&"object"==typeof t||(t={}),e=e.trim();var n=e.indexOf(";"),i=t.loose?M:C,o=i.exec(n===-1?e:e.substr(0,n));if(o){var a=new p;if(o[1]?a.key=o[2].trim():a.key="",a.value=o[3].trim(),!T.test(a.key)&&!T.test(a.value)){if(n===-1)return a;var s=e.slice(n+1).trim();if(0===s.length)return a;for(var c=s.split(";");c.length;){var l=c.shift().trim();if(0!==l.length){var u,h,d=l.indexOf("=");switch(d===-1?(u=l,h=null):(u=l.substr(0,d),h=l.substr(d+1)),u=u.trim().toLowerCase(),h&&(h=h.trim()),u){case"expires":if(h){var f=r(h);f&&(a.expires=f)}break;case"max-age":if(h&&/^-?[0-9]+$/.test(h)){var m=parseInt(h,10);a.setMaxAge(m)}break;case"domain":if(h){var g=h.trim().replace(/^\./,"");g&&(a.domain=g.toLowerCase())}break;case"path":a.path=h&&"/"===h[0]?h:null;break;case"secure":a.secure=!0;break;case"httponly":a.httpOnly=!0;break;default:a.extensions=a.extensions||[],a.extensions.push(l)}}}return a}}}function l(e){var t;try{t=JSON.parse(e)}catch(n){return n}return t}function u(e){if(!e)return null;var t;if("string"==typeof e){if(t=l(e),t instanceof Error)return null}else t=e;for(var n=new p,r=0;r<p.serializableProperties.length;r++){var i=p.serializableProperties[r];void 0!==t[i]&&t[i]!==p.prototype[i]&&("expires"===i||"creation"===i||"lastAccessed"===i?null===t[i]?n[i]=null:n[i]="Infinity"==t[i]?"Infinity":new Date(t[i]):n[i]=t[i])}return n}function h(e,t){var n=0,r=e.path?e.path.length:0,i=t.path?t.path.length:0;if(n=i-r,0!==n)return n;var o=e.creation?e.creation.getTime():$,a=t.creation?t.creation.getTime():$;return n=o-a,0!==n?n:n=e.creationIndex-t.creationIndex}function d(e){if("/"===e)return["/"];e.lastIndexOf("/")===e.length-1&&(e=e.substr(0,e.length-1));for(var t=[e];e.length>1;){var n=e.lastIndexOf("/");if(0===n)break;e=e.substr(0,n),t.push(e)}return t.push("/"),t}function f(e){if(e instanceof Object)return e;try{e=decodeURI(e)}catch(t){}return y(e)}function p(e){e=e||{},Object.keys(e).forEach(function(t){p.prototype.hasOwnProperty(t)&&p.prototype[t]!==e[t]&&"_"!==t.substr(0,1)&&(this[t]=e[t])},this),this.creation=this.creation||new Date,Object.defineProperty(this,"creationIndex",{configurable:!1,enumerable:!1,writable:!0,value:++p.cookiesCreated})}function m(e,t){"boolean"==typeof t?t={rejectPublicSuffixes:t}:null==t&&(t={}),null!=t.rejectPublicSuffixes&&(this.rejectPublicSuffixes=t.rejectPublicSuffixes),null!=t.looseMode&&(this.enableLooseMode=t.looseMode),e||(e=new x),this.store=e}function g(e){return function(){if(!this.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");var t,n,r=Array.prototype.slice.call(arguments);if(r.push(function(e,r){t=e,n=r}),this[e].apply(this,r),t)throw t;return n}}var v,b=e("net"),y=e("url").parse,w=e("./pubsuffix"),_=e("./store").Store,x=e("./memstore").MemoryCookieStore,k=e("./pathMatch").pathMatch,S=e("../package.json").version;try{v=e("punycode")}catch(j){console.warn("cookie: can't load punycode; won't use punycode for domain normalization")}var P=/[\x09\x20-\x2F\x3B-\x40\x5B-\x60\x7B-\x7E]/,E=/[\x21\x23-\x2B\x2D-\x3A\x3C-\x5B\x5D-\x7E]/,A=new RegExp("^"+E.source+"+$"),T=/[\x00-\x1F]/,C=/^(([^=;]+))\s{0,256}=\s*([^\n\r\0]*)/,M=/^((?:=)?([^=;]*)\s{0,256}=\s*)?([^\n\r\0]*)/,O=/[\x20-\x3A\x3C-\x7E]+/,I=/^(\d{1,2})[^\d]*$/,F=/^(\d{1,2})[^\d]*:(\d{1,2})[^\d]*:(\d{1,2})[^\d]*$/,D=/^(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)/i,L={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],N=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],U=/^(\d{2}|\d{4})$/,$=2147483647e3,z=0;p.cookiesCreated=0,p.parse=c,p.fromJSON=u,p.prototype.key="",p.prototype.value="",p.prototype.expires="Infinity",p.prototype.maxAge=null,p.prototype.domain=null,p.prototype.path=null,p.prototype.secure=!1,p.prototype.httpOnly=!1,p.prototype.extensions=null,p.prototype.hostOnly=null,p.prototype.pathIsDefault=null,p.prototype.creation=null,p.prototype.lastAccessed=null,Object.defineProperty(p.prototype,"creationIndex",{configurable:!0,enumerable:!1,writable:!0,value:0}),p.serializableProperties=Object.keys(p.prototype).filter(function(e){return!(p.prototype[e]instanceof Function||"creationIndex"===e||"_"===e.substr(0,1))}),p.prototype.inspect=function(){var e=Date.now();return'Cookie="'+this.toString()+"; hostOnly="+(null!=this.hostOnly?this.hostOnly:"?")+"; aAge="+(this.lastAccessed?e-this.lastAccessed.getTime()+"ms":"?")+"; cAge="+(this.creation?e-this.creation.getTime()+"ms":"?")+'"'},p.prototype.toJSON=function(){for(var e={},t=p.serializableProperties,n=0;n<t.length;n++){var r=t[n];this[r]!==p.prototype[r]&&("expires"===r||"creation"===r||"lastAccessed"===r?null===this[r]?e[r]=null:e[r]="Infinity"==this[r]?"Infinity":this[r].toISOString():"maxAge"===r?null!==this[r]&&(e[r]=this[r]==1/0||this[r]==-(1/0)?this[r].toString():this[r]):this[r]!==p.prototype[r]&&(e[r]=this[r]))}return e},p.prototype.clone=function(){return u(this.toJSON())},p.prototype.validate=function(){if(!A.test(this.value))return!1;if(!(this.expires==1/0||this.expires instanceof Date||r(this.expires)))return!1;if(null!=this.maxAge&&this.maxAge<=0)return!1;if(null!=this.path&&!O.test(this.path))return!1;var e=this.cdomain();if(e){if(e.match(/\.$/))return!1;var t=w.getPublicSuffix(e);if(null==t)return!1}return!0},p.prototype.setExpires=function(e){e instanceof Date?this.expires=e:this.expires=r(e)||"Infinity"},p.prototype.setMaxAge=function(e){e===1/0||e===-(1/0)?this.maxAge=e.toString():this.maxAge=e},p.prototype.cookieString=function(){var e=this.value;return null==e&&(e=""),""===this.key?e:this.key+"="+e},p.prototype.toString=function(){var e=this.cookieString();return this.expires!=1/0&&(e+=this.expires instanceof Date?"; Expires="+i(this.expires):"; Expires="+this.expires),null!=this.maxAge&&this.maxAge!=1/0&&(e+="; Max-Age="+this.maxAge),this.domain&&!this.hostOnly&&(e+="; Domain="+this.domain),this.path&&(e+="; Path="+this.path),this.secure&&(e+="; Secure"),this.httpOnly&&(e+="; HttpOnly"),this.extensions&&this.extensions.forEach(function(t){e+="; "+t}),e},p.prototype.TTL=function(e){if(null!=this.maxAge)return this.maxAge<=0?0:1e3*this.maxAge;var t=this.expires;return t!=1/0?(t instanceof Date||(t=r(t)||1/0),t==1/0?1/0:t.getTime()-(e||Date.now())):1/0},p.prototype.expiryTime=function(e){if(null!=this.maxAge){var t=e||this.creation||new Date,n=this.maxAge<=0?-(1/0):1e3*this.maxAge;return t.getTime()+n}return this.expires==1/0?1/0:this.expires.getTime()},p.prototype.expiryDate=function(e){var t=this.expiryTime(e);return t==1/0?new Date($):t==-(1/0)?new Date(z):new Date(t)},p.prototype.isPersistent=function(){return null!=this.maxAge||this.expires!=1/0},p.prototype.cdomain=p.prototype.canonicalizedDomain=function(){return null==this.domain?null:o(this.domain)},m.prototype.store=null,m.prototype.rejectPublicSuffixes=!0,m.prototype.enableLooseMode=!1;var B=[];B.push("setCookie"),m.prototype.setCookie=function(e,t,n,r){function i(t,i){if(t)return r(t);var o=function(t){return t?r(t):void r(null,e)};if(i){if(n.http===!1&&i.httpOnly)return t=new Error("old Cookie is HttpOnly and this isn't an HTTP API"),r(n.ignoreError?null:t);e.creation=i.creation,e.creationIndex=i.creationIndex,e.lastAccessed=d,g.updateCookie(i,e,o)}else e.creation=e.lastAccessed=d,g.putCookie(e,o)}var c,l=f(t);n instanceof Function&&(r=n,n={});var u=o(l.hostname),h=this.enableLooseMode;if(null!=n.loose&&(h=n.loose),e instanceof p||(e=p.parse(e,{loose:h})),!e)return c=new Error("Cookie failed to parse"),r(n.ignoreError?null:c);var d=n.now||new Date;if(this.rejectPublicSuffixes&&e.domain){var m=w.getPublicSuffix(e.cdomain());if(null==m)return c=new Error("Cookie has domain set to a public suffix"),r(n.ignoreError?null:c)}if(e.domain){if(!a(u,e.cdomain(),!1))return c=new Error("Cookie not in this host's domain. Cookie:"+e.cdomain()+" Request:"+u),r(n.ignoreError?null:c);null==e.hostOnly&&(e.hostOnly=!1)}else e.hostOnly=!0,e.domain=u;if(e.path&&"/"===e.path[0]||(e.path=s(l.pathname),e.pathIsDefault=!0),n.http===!1&&e.httpOnly)return c=new Error("Cookie is HttpOnly and this isn't an HTTP API"),r(n.ignoreError?null:c);var g=this.store;g.updateCookie||(g.updateCookie=function(e,t,n){this.putCookie(t,n)}),g.findCookie(e.domain,e.path,e.key,i)},B.push("getCookies"),m.prototype.getCookies=function(e,t,n){function r(e){if(e.hostOnly){if(e.domain!=s)return!1}else if(!a(s,e.domain,!1))return!1;return!(!m&&!k(c,e.path))&&(!(e.secure&&!l)&&(!(e.httpOnly&&!u)&&(!(p&&e.expiryTime()<=d)||(g.removeCookie(e.domain,e.path,e.key,function(){}),!1))))}var i=f(e);t instanceof Function&&(n=t,t={});var s=o(i.hostname),c=i.pathname||"/",l=t.secure;null!=l||!i.protocol||"https:"!=i.protocol&&"wss:"!=i.protocol||(l=!0);var u=t.http;null==u&&(u=!0);var d=t.now||Date.now(),p=t.expire!==!1,m=!!t.allPaths,g=this.store;g.findCookies(s,m?null:c,function(e,i){if(e)return n(e);i=i.filter(r),t.sort!==!1&&(i=i.sort(h));var o=new Date;i.forEach(function(e){e.lastAccessed=o}),n(null,i)})},B.push("getCookieString"),m.prototype.getCookieString=function(){var e=Array.prototype.slice.call(arguments,0),t=e.pop(),n=function(e,n){e?t(e):t(null,n.sort(h).map(function(e){return e.cookieString()}).join("; "))};e.push(n),this.getCookies.apply(this,e)},B.push("getSetCookieStrings"),m.prototype.getSetCookieStrings=function(){var e=Array.prototype.slice.call(arguments,0),t=e.pop(),n=function(e,n){e?t(e):t(null,n.map(function(e){return e.toString()}))};e.push(n),this.getCookies.apply(this,e)},B.push("serialize"),m.prototype.serialize=function(e){var t=this.store.constructor.name;"Object"===t&&(t=null);var n={version:"tough-cookie@"+S,storeType:t,rejectPublicSuffixes:!!this.rejectPublicSuffixes,cookies:[]};return this.store.getAllCookies&&"function"==typeof this.store.getAllCookies?void this.store.getAllCookies(function(t,r){return t?e(t):(n.cookies=r.map(function(e){return e=e instanceof p?e.toJSON():e,delete e.creationIndex,e}),e(null,n))}):e(new Error("store does not support getAllCookies and cannot be serialized"))},m.prototype.toJSON=function(){return this.serializeSync()},B.push("_importCookies"),m.prototype._importCookies=function(e,t){function n(e){if(e)return t(e);if(!i.length)return t(e,r);var o;try{o=u(i.shift())}catch(a){return t(a)}return null===o?n(null):void r.store.putCookie(o,n)}var r=this,i=e.cookies;return i&&Array.isArray(i)?(i=i.slice(),void n()):t(new Error("serialized jar has no cookies array"))},m.deserialize=function(e,t,n){3!==arguments.length&&(n=t,t=null);var r;if("string"==typeof e){
if(r=l(e),r instanceof Error)return n(r)}else r=e;var i=new m(t,r.rejectPublicSuffixes);i._importCookies(r,function(e){return e?n(e):void n(null,i)})},m.deserializeSync=function(e,t){var n="string"==typeof e?JSON.parse(e):e,r=new m(t,n.rejectPublicSuffixes);if(!r.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");return r._importCookiesSync(n),r},m.fromJSON=m.deserializeSync,B.push("clone"),m.prototype.clone=function(e,t){1===arguments.length&&(t=e,e=null),this.serialize(function(n,r){return n?t(n):void m.deserialize(e,r,t)})},B.forEach(function(e){m.prototype[e+"Sync"]=g(e)}),t.exports={CookieJar:m,Cookie:p,Store:_,MemoryCookieStore:x,parseDate:r,formatDate:i,parse:c,fromJSON:u,domainMatch:a,defaultPath:s,pathMatch:k,getPublicSuffix:w.getPublicSuffix,cookieCompare:h,permuteDomain:e("./permuteDomain").permuteDomain,permutePath:d,canonicalDomain:o}},{"../package.json":438,"./memstore":433,"./pathMatch":434,"./permuteDomain":435,"./pubsuffix":436,"./store":437,net:129,punycode:136,url:143}],433:[function(e,t,n){"use strict";function r(){i.call(this),this.idx={}}var i=e("./store").Store,o=e("./permuteDomain").permuteDomain,a=e("./pathMatch").pathMatch,s=e("util");s.inherits(r,i),n.MemoryCookieStore=r,r.prototype.idx=null,r.prototype.synchronous=!0,r.prototype.inspect=function(){return"{ idx: "+s.inspect(this.idx,!1,2)+" }"},r.prototype.findCookie=function(e,t,n,r){return this.idx[e]&&this.idx[e][t]?r(null,this.idx[e][t][n]||null):r(null,void 0)},r.prototype.findCookies=function(e,t,n){var r=[];if(!e)return n(null,[]);var i;i=t?function(e){Object.keys(e).forEach(function(n){if(a(t,n)){var i=e[n];for(var o in i)r.push(i[o])}})}:function(e){for(var t in e){var n=e[t];for(var i in n)r.push(n[i])}};var s=o(e)||[e],c=this.idx;s.forEach(function(e){var t=c[e];t&&i(t)}),n(null,r)},r.prototype.putCookie=function(e,t){this.idx[e.domain]||(this.idx[e.domain]={}),this.idx[e.domain][e.path]||(this.idx[e.domain][e.path]={}),this.idx[e.domain][e.path][e.key]=e,t(null)},r.prototype.updateCookie=function(e,t,n){this.putCookie(t,n)},r.prototype.removeCookie=function(e,t,n,r){this.idx[e]&&this.idx[e][t]&&this.idx[e][t][n]&&delete this.idx[e][t][n],r(null)},r.prototype.removeCookies=function(e,t,n){return this.idx[e]&&(t?delete this.idx[e][t]:delete this.idx[e]),n(null)},r.prototype.getAllCookies=function(e){var t=[],n=this.idx,r=Object.keys(n);r.forEach(function(e){var r=Object.keys(n[e]);r.forEach(function(r){var i=Object.keys(n[e][r]);i.forEach(function(i){null!==i&&t.push(n[e][r][i])})})}),t.sort(function(e,t){return(e.creationIndex||0)-(t.creationIndex||0)}),e(null,t)}},{"./pathMatch":434,"./permuteDomain":435,"./store":437,util:451}],434:[function(e,t,n){"use strict";function r(e,t){if(t===e)return!0;var n=e.indexOf(t);if(0===n){if("/"===t.substr(-1))return!0;if("/"===e.substr(t.length,1))return!0}return!1}n.pathMatch=r},{}],435:[function(e,t,n){"use strict";function r(e){var t=i.getPublicSuffix(e);if(!t)return null;if(t==e)return[e];for(var n=e.slice(0,-(t.length+1)),r=n.split(".").reverse(),o=t,a=[o];r.length;)o=r.shift()+"."+o,a.push(o);return a}var i=e("./pubsuffix");n.permuteDomain=r},{"./pubsuffix":436}],436:[function(e,t,n){"use strict";var r=e("punycode");t.exports.getPublicSuffix=function(e){if(!e)return null;if(e.match(/^\./))return null;var t=r.toASCII(e),n=!1;if(t!==e&&(e=t,n=!0),i[e])return null;e=e.toLowerCase();for(var o=e.split(".").reverse(),a="",s=0,c=0;c<o.length;c++){var l=o[c],u="*"+a,h=l+a;i[u]?(s=c+1,i[h]===!1&&s--):i[h]&&(s=c+1),a="."+h}if(i["*"+a])return null;if(s=s||1,o.length>s){var d=o.slice(0,s+1).reverse().join(".");return n?r.toUnicode(d):d}return null};var i=t.exports.index=Object.freeze({ac:!0,"com.ac":!0,"edu.ac":!0,"gov.ac":!0,"net.ac":!0,"mil.ac":!0,"org.ac":!0,ad:!0,"nom.ad":!0,ae:!0,"co.ae":!0,"net.ae":!0,"org.ae":!0,"sch.ae":!0,"ac.ae":!0,"gov.ae":!0,"mil.ae":!0,aero:!0,"accident-investigation.aero":!0,"accident-prevention.aero":!0,"aerobatic.aero":!0,"aeroclub.aero":!0,"aerodrome.aero":!0,"agents.aero":!0,"aircraft.aero":!0,"airline.aero":!0,"airport.aero":!0,"air-surveillance.aero":!0,"airtraffic.aero":!0,"air-traffic-control.aero":!0,"ambulance.aero":!0,"amusement.aero":!0,"association.aero":!0,"author.aero":!0,"ballooning.aero":!0,"broker.aero":!0,"caa.aero":!0,"cargo.aero":!0,"catering.aero":!0,"certification.aero":!0,"championship.aero":!0,"charter.aero":!0,"civilaviation.aero":!0,"club.aero":!0,"conference.aero":!0,"consultant.aero":!0,"consulting.aero":!0,"control.aero":!0,"council.aero":!0,"crew.aero":!0,"design.aero":!0,"dgca.aero":!0,"educator.aero":!0,"emergency.aero":!0,"engine.aero":!0,"engineer.aero":!0,"entertainment.aero":!0,"equipment.aero":!0,"exchange.aero":!0,"express.aero":!0,"federation.aero":!0,"flight.aero":!0,"freight.aero":!0,"fuel.aero":!0,"gliding.aero":!0,"government.aero":!0,"groundhandling.aero":!0,"group.aero":!0,"hanggliding.aero":!0,"homebuilt.aero":!0,"insurance.aero":!0,"journal.aero":!0,"journalist.aero":!0,"leasing.aero":!0,"logistics.aero":!0,"magazine.aero":!0,"maintenance.aero":!0,"media.aero":!0,"microlight.aero":!0,"modelling.aero":!0,"navigation.aero":!0,"parachuting.aero":!0,"paragliding.aero":!0,"passenger-association.aero":!0,"pilot.aero":!0,"press.aero":!0,"production.aero":!0,"recreation.aero":!0,"repbody.aero":!0,"res.aero":!0,"research.aero":!0,"rotorcraft.aero":!0,"safety.aero":!0,"scientist.aero":!0,"services.aero":!0,"show.aero":!0,"skydiving.aero":!0,"software.aero":!0,"student.aero":!0,"trader.aero":!0,"trading.aero":!0,"trainer.aero":!0,"union.aero":!0,"workinggroup.aero":!0,"works.aero":!0,af:!0,"gov.af":!0,"com.af":!0,"org.af":!0,"net.af":!0,"edu.af":!0,ag:!0,"com.ag":!0,"org.ag":!0,"net.ag":!0,"co.ag":!0,"nom.ag":!0,ai:!0,"off.ai":!0,"com.ai":!0,"net.ai":!0,"org.ai":!0,al:!0,"com.al":!0,"edu.al":!0,"gov.al":!0,"mil.al":!0,"net.al":!0,"org.al":!0,am:!0,ao:!0,"ed.ao":!0,"gv.ao":!0,"og.ao":!0,"co.ao":!0,"pb.ao":!0,"it.ao":!0,aq:!0,ar:!0,"com.ar":!0,"edu.ar":!0,"gob.ar":!0,"gov.ar":!0,"int.ar":!0,"mil.ar":!0,"net.ar":!0,"org.ar":!0,"tur.ar":!0,arpa:!0,"e164.arpa":!0,"in-addr.arpa":!0,"ip6.arpa":!0,"iris.arpa":!0,"uri.arpa":!0,"urn.arpa":!0,as:!0,"gov.as":!0,asia:!0,at:!0,"ac.at":!0,"co.at":!0,"gv.at":!0,"or.at":!0,au:!0,"com.au":!0,"net.au":!0,"org.au":!0,"edu.au":!0,"gov.au":!0,"asn.au":!0,"id.au":!0,"info.au":!0,"conf.au":!0,"oz.au":!0,"act.au":!0,"nsw.au":!0,"nt.au":!0,"qld.au":!0,"sa.au":!0,"tas.au":!0,"vic.au":!0,"wa.au":!0,"act.edu.au":!0,"nsw.edu.au":!0,"nt.edu.au":!0,"qld.edu.au":!0,"sa.edu.au":!0,"tas.edu.au":!0,"vic.edu.au":!0,"wa.edu.au":!0,"qld.gov.au":!0,"sa.gov.au":!0,"tas.gov.au":!0,"vic.gov.au":!0,"wa.gov.au":!0,aw:!0,"com.aw":!0,ax:!0,az:!0,"com.az":!0,"net.az":!0,"int.az":!0,"gov.az":!0,"org.az":!0,"edu.az":!0,"info.az":!0,"pp.az":!0,"mil.az":!0,"name.az":!0,"pro.az":!0,"biz.az":!0,ba:!0,"com.ba":!0,"edu.ba":!0,"gov.ba":!0,"mil.ba":!0,"net.ba":!0,"org.ba":!0,bb:!0,"biz.bb":!0,"co.bb":!0,"com.bb":!0,"edu.bb":!0,"gov.bb":!0,"info.bb":!0,"net.bb":!0,"org.bb":!0,"store.bb":!0,"tv.bb":!0,"*.bd":!0,be:!0,"ac.be":!0,bf:!0,"gov.bf":!0,bg:!0,"a.bg":!0,"b.bg":!0,"c.bg":!0,"d.bg":!0,"e.bg":!0,"f.bg":!0,"g.bg":!0,"h.bg":!0,"i.bg":!0,"j.bg":!0,"k.bg":!0,"l.bg":!0,"m.bg":!0,"n.bg":!0,"o.bg":!0,"p.bg":!0,"q.bg":!0,"r.bg":!0,"s.bg":!0,"t.bg":!0,"u.bg":!0,"v.bg":!0,"w.bg":!0,"x.bg":!0,"y.bg":!0,"z.bg":!0,"0.bg":!0,"1.bg":!0,"2.bg":!0,"3.bg":!0,"4.bg":!0,"5.bg":!0,"6.bg":!0,"7.bg":!0,"8.bg":!0,"9.bg":!0,bh:!0,"com.bh":!0,"edu.bh":!0,"net.bh":!0,"org.bh":!0,"gov.bh":!0,bi:!0,"co.bi":!0,"com.bi":!0,"edu.bi":!0,"or.bi":!0,"org.bi":!0,biz:!0,bj:!0,"asso.bj":!0,"barreau.bj":!0,"gouv.bj":!0,bm:!0,"com.bm":!0,"edu.bm":!0,"gov.bm":!0,"net.bm":!0,"org.bm":!0,"*.bn":!0,bo:!0,"com.bo":!0,"edu.bo":!0,"gov.bo":!0,"gob.bo":!0,"int.bo":!0,"org.bo":!0,"net.bo":!0,"mil.bo":!0,"tv.bo":!0,br:!0,"adm.br":!0,"adv.br":!0,"agr.br":!0,"am.br":!0,"arq.br":!0,"art.br":!0,"ato.br":!0,"b.br":!0,"bio.br":!0,"blog.br":!0,"bmd.br":!0,"cim.br":!0,"cng.br":!0,"cnt.br":!0,"com.br":!0,"coop.br":!0,"ecn.br":!0,"eco.br":!0,"edu.br":!0,"emp.br":!0,"eng.br":!0,"esp.br":!0,"etc.br":!0,"eti.br":!0,"far.br":!0,"flog.br":!0,"fm.br":!0,"fnd.br":!0,"fot.br":!0,"fst.br":!0,"g12.br":!0,"ggf.br":!0,"gov.br":!0,"imb.br":!0,"ind.br":!0,"inf.br":!0,"jor.br":!0,"jus.br":!0,"leg.br":!0,"lel.br":!0,"mat.br":!0,"med.br":!0,"mil.br":!0,"mp.br":!0,"mus.br":!0,"net.br":!0,"*.nom.br":!0,"not.br":!0,"ntr.br":!0,"odo.br":!0,"org.br":!0,"ppg.br":!0,"pro.br":!0,"psc.br":!0,"psi.br":!0,"qsl.br":!0,"radio.br":!0,"rec.br":!0,"slg.br":!0,"srv.br":!0,"taxi.br":!0,"teo.br":!0,"tmp.br":!0,"trd.br":!0,"tur.br":!0,"tv.br":!0,"vet.br":!0,"vlog.br":!0,"wiki.br":!0,"zlg.br":!0,bs:!0,"com.bs":!0,"net.bs":!0,"org.bs":!0,"edu.bs":!0,"gov.bs":!0,bt:!0,"com.bt":!0,"edu.bt":!0,"gov.bt":!0,"net.bt":!0,"org.bt":!0,bv:!0,bw:!0,"co.bw":!0,"org.bw":!0,by:!0,"gov.by":!0,"mil.by":!0,"com.by":!0,"of.by":!0,bz:!0,"com.bz":!0,"net.bz":!0,"org.bz":!0,"edu.bz":!0,"gov.bz":!0,ca:!0,"ab.ca":!0,"bc.ca":!0,"mb.ca":!0,"nb.ca":!0,"nf.ca":!0,"nl.ca":!0,"ns.ca":!0,"nt.ca":!0,"nu.ca":!0,"on.ca":!0,"pe.ca":!0,"qc.ca":!0,"sk.ca":!0,"yk.ca":!0,"gc.ca":!0,cat:!0,cc:!0,cd:!0,"gov.cd":!0,cf:!0,cg:!0,ch:!0,ci:!0,"org.ci":!0,"or.ci":!0,"com.ci":!0,"co.ci":!0,"edu.ci":!0,"ed.ci":!0,"ac.ci":!0,"net.ci":!0,"go.ci":!0,"asso.ci":!0,"xn--aroport-bya.ci":!0,"int.ci":!0,"presse.ci":!0,"md.ci":!0,"gouv.ci":!0,"*.ck":!0,"www.ck":!1,cl:!0,"gov.cl":!0,"gob.cl":!0,"co.cl":!0,"mil.cl":!0,cm:!0,"co.cm":!0,"com.cm":!0,"gov.cm":!0,"net.cm":!0,cn:!0,"ac.cn":!0,"com.cn":!0,"edu.cn":!0,"gov.cn":!0,"net.cn":!0,"org.cn":!0,"mil.cn":!0,"xn--55qx5d.cn":!0,"xn--io0a7i.cn":!0,"xn--od0alg.cn":!0,"ah.cn":!0,"bj.cn":!0,"cq.cn":!0,"fj.cn":!0,"gd.cn":!0,"gs.cn":!0,"gz.cn":!0,"gx.cn":!0,"ha.cn":!0,"hb.cn":!0,"he.cn":!0,"hi.cn":!0,"hl.cn":!0,"hn.cn":!0,"jl.cn":!0,"js.cn":!0,"jx.cn":!0,"ln.cn":!0,"nm.cn":!0,"nx.cn":!0,"qh.cn":!0,"sc.cn":!0,"sd.cn":!0,"sh.cn":!0,"sn.cn":!0,"sx.cn":!0,"tj.cn":!0,"xj.cn":!0,"xz.cn":!0,"yn.cn":!0,"zj.cn":!0,"hk.cn":!0,"mo.cn":!0,"tw.cn":!0,co:!0,"arts.co":!0,"com.co":!0,"edu.co":!0,"firm.co":!0,"gov.co":!0,"info.co":!0,"int.co":!0,"mil.co":!0,"net.co":!0,"nom.co":!0,"org.co":!0,"rec.co":!0,"web.co":!0,com:!0,coop:!0,cr:!0,"ac.cr":!0,"co.cr":!0,"ed.cr":!0,"fi.cr":!0,"go.cr":!0,"or.cr":!0,"sa.cr":!0,cu:!0,"com.cu":!0,"edu.cu":!0,"org.cu":!0,"net.cu":!0,"gov.cu":!0,"inf.cu":!0,cv:!0,cw:!0,"com.cw":!0,"edu.cw":!0,"net.cw":!0,"org.cw":!0,cx:!0,"gov.cx":!0,cy:!0,"ac.cy":!0,"biz.cy":!0,"com.cy":!0,"ekloges.cy":!0,"gov.cy":!0,"ltd.cy":!0,"name.cy":!0,"net.cy":!0,"org.cy":!0,"parliament.cy":!0,"press.cy":!0,"pro.cy":!0,"tm.cy":!0,cz:!0,de:!0,dj:!0,dk:!0,dm:!0,"com.dm":!0,"net.dm":!0,"org.dm":!0,"edu.dm":!0,"gov.dm":!0,"do":!0,"art.do":!0,"com.do":!0,"edu.do":!0,"gob.do":!0,"gov.do":!0,"mil.do":!0,"net.do":!0,"org.do":!0,"sld.do":!0,"web.do":!0,dz:!0,"com.dz":!0,"org.dz":!0,"net.dz":!0,"gov.dz":!0,"edu.dz":!0,"asso.dz":!0,"pol.dz":!0,"art.dz":!0,ec:!0,"com.ec":!0,"info.ec":!0,"net.ec":!0,"fin.ec":!0,"k12.ec":!0,"med.ec":!0,"pro.ec":!0,"org.ec":!0,"edu.ec":!0,"gov.ec":!0,"gob.ec":!0,"mil.ec":!0,edu:!0,ee:!0,"edu.ee":!0,"gov.ee":!0,"riik.ee":!0,"lib.ee":!0,"med.ee":!0,"com.ee":!0,"pri.ee":!0,"aip.ee":!0,"org.ee":!0,"fie.ee":!0,eg:!0,"com.eg":!0,"edu.eg":!0,"eun.eg":!0,"gov.eg":!0,"mil.eg":!0,"name.eg":!0,"net.eg":!0,"org.eg":!0,"sci.eg":!0,"*.er":!0,es:!0,"com.es":!0,"nom.es":!0,"org.es":!0,"gob.es":!0,"edu.es":!0,et:!0,"com.et":!0,"gov.et":!0,"org.et":!0,"edu.et":!0,"biz.et":!0,"name.et":!0,"info.et":!0,"net.et":!0,eu:!0,fi:!0,"aland.fi":!0,"*.fj":!0,"*.fk":!0,fm:!0,fo:!0,fr:!0,"com.fr":!0,"asso.fr":!0,"nom.fr":!0,"prd.fr":!0,"presse.fr":!0,"tm.fr":!0,"aeroport.fr":!0,"assedic.fr":!0,"avocat.fr":!0,"avoues.fr":!0,"cci.fr":!0,"chambagri.fr":!0,"chirurgiens-dentistes.fr":!0,"experts-comptables.fr":!0,"geometre-expert.fr":!0,"gouv.fr":!0,"greta.fr":!0,"huissier-justice.fr":!0,"medecin.fr":!0,"notaires.fr":!0,"pharmacien.fr":!0,"port.fr":!0,"veterinaire.fr":!0,ga:!0,gb:!0,gd:!0,ge:!0,"com.ge":!0,"edu.ge":!0,"gov.ge":!0,"org.ge":!0,"mil.ge":!0,"net.ge":!0,"pvt.ge":!0,gf:!0,gg:!0,"co.gg":!0,"net.gg":!0,"org.gg":!0,gh:!0,"com.gh":!0,"edu.gh":!0,"gov.gh":!0,"org.gh":!0,"mil.gh":!0,gi:!0,"com.gi":!0,"ltd.gi":!0,"gov.gi":!0,"mod.gi":!0,"edu.gi":!0,"org.gi":!0,gl:!0,"co.gl":!0,"com.gl":!0,"edu.gl":!0,"net.gl":!0,"org.gl":!0,gm:!0,gn:!0,"ac.gn":!0,"com.gn":!0,"edu.gn":!0,"gov.gn":!0,"org.gn":!0,"net.gn":!0,gov:!0,gp:!0,"com.gp":!0,"net.gp":!0,"mobi.gp":!0,"edu.gp":!0,"org.gp":!0,"asso.gp":!0,gq:!0,gr:!0,"com.gr":!0,"edu.gr":!0,"net.gr":!0,"org.gr":!0,"gov.gr":!0,gs:!0,gt:!0,"com.gt":!0,"edu.gt":!0,"gob.gt":!0,"ind.gt":!0,"mil.gt":!0,"net.gt":!0,"org.gt":!0,"*.gu":!0,gw:!0,gy:!0,"co.gy":!0,"com.gy":!0,"edu.gy":!0,"gov.gy":!0,"net.gy":!0,"org.gy":!0,hk:!0,"com.hk":!0,"edu.hk":!0,"gov.hk":!0,"idv.hk":!0,"net.hk":!0,"org.hk":!0,"xn--55qx5d.hk":!0,"xn--wcvs22d.hk":!0,"xn--lcvr32d.hk":!0,"xn--mxtq1m.hk":!0,"xn--gmqw5a.hk":!0,"xn--ciqpn.hk":!0,"xn--gmq050i.hk":!0,"xn--zf0avx.hk":!0,"xn--io0a7i.hk":!0,"xn--mk0axi.hk":!0,"xn--od0alg.hk":!0,"xn--od0aq3b.hk":!0,"xn--tn0ag.hk":!0,"xn--uc0atv.hk":!0,"xn--uc0ay4a.hk":!0,hm:!0,hn:!0,"com.hn":!0,"edu.hn":!0,"org.hn":!0,"net.hn":!0,"mil.hn":!0,"gob.hn":!0,hr:!0,"iz.hr":!0,"from.hr":!0,"name.hr":!0,"com.hr":!0,ht:!0,"com.ht":!0,"shop.ht":!0,"firm.ht":!0,"info.ht":!0,"adult.ht":!0,"net.ht":!0,"pro.ht":!0,"org.ht":!0,"med.ht":!0,"art.ht":!0,"coop.ht":!0,"pol.ht":!0,"asso.ht":!0,"edu.ht":!0,"rel.ht":!0,"gouv.ht":!0,"perso.ht":!0,hu:!0,"co.hu":!0,"info.hu":!0,"org.hu":!0,"priv.hu":!0,"sport.hu":!0,"tm.hu":!0,"2000.hu":!0,"agrar.hu":!0,"bolt.hu":!0,"casino.hu":!0,"city.hu":!0,"erotica.hu":!0,"erotika.hu":!0,"film.hu":!0,"forum.hu":!0,"games.hu":!0,"hotel.hu":!0,"ingatlan.hu":!0,"jogasz.hu":!0,"konyvelo.hu":!0,"lakas.hu":!0,"media.hu":!0,"news.hu":!0,"reklam.hu":!0,"sex.hu":!0,"shop.hu":!0,"suli.hu":!0,"szex.hu":!0,"tozsde.hu":!0,"utazas.hu":!0,"video.hu":!0,id:!0,"ac.id":!0,"biz.id":!0,"co.id":!0,"desa.id":!0,"go.id":!0,"mil.id":!0,"my.id":!0,"net.id":!0,"or.id":!0,"sch.id":!0,"web.id":!0,ie:!0,"gov.ie":!0,il:!0,"ac.il":!0,"co.il":!0,"gov.il":!0,"idf.il":!0,"k12.il":!0,"muni.il":!0,"net.il":!0,"org.il":!0,im:!0,"ac.im":!0,"co.im":!0,"com.im":!0,"ltd.co.im":!0,"net.im":!0,"org.im":!0,"plc.co.im":!0,"tt.im":!0,"tv.im":!0,"in":!0,"co.in":!0,"firm.in":!0,"net.in":!0,"org.in":!0,"gen.in":!0,"ind.in":!0,"nic.in":!0,"ac.in":!0,"edu.in":!0,"res.in":!0,"gov.in":!0,"mil.in":!0,info:!0,"int":!0,"eu.int":!0,io:!0,"com.io":!0,iq:!0,"gov.iq":!0,"edu.iq":!0,"mil.iq":!0,"com.iq":!0,"org.iq":!0,"net.iq":!0,ir:!0,"ac.ir":!0,"co.ir":!0,"gov.ir":!0,"id.ir":!0,"net.ir":!0,"org.ir":!0,"sch.ir":!0,"xn--mgba3a4f16a.ir":!0,"xn--mgba3a4fra.ir":!0,is:!0,"net.is":!0,"com.is":!0,"edu.is":!0,"gov.is":!0,"org.is":!0,"int.is":!0,it:!0,"gov.it":!0,"edu.it":!0,"abr.it":!0,"abruzzo.it":!0,"aosta-valley.it":!0,"aostavalley.it":!0,"bas.it":!0,"basilicata.it":!0,"cal.it":!0,"calabria.it":!0,"cam.it":!0,"campania.it":!0,"emilia-romagna.it":!0,"emiliaromagna.it":!0,"emr.it":!0,"friuli-v-giulia.it":!0,"friuli-ve-giulia.it":!0,"friuli-vegiulia.it":!0,"friuli-venezia-giulia.it":!0,"friuli-veneziagiulia.it":!0,"friuli-vgiulia.it":!0,"friuliv-giulia.it":!0,"friulive-giulia.it":!0,"friulivegiulia.it":!0,"friulivenezia-giulia.it":!0,"friuliveneziagiulia.it":!0,"friulivgiulia.it":!0,"fvg.it":!0,"laz.it":!0,"lazio.it":!0,"lig.it":!0,"liguria.it":!0,"lom.it":!0,"lombardia.it":!0,"lombardy.it":!0,"lucania.it":!0,"mar.it":!0,"marche.it":!0,"mol.it":!0,"molise.it":!0,"piedmont.it":!0,"piemonte.it":!0,"pmn.it":!0,"pug.it":!0,"puglia.it":!0,"sar.it":!0,"sardegna.it":!0,"sardinia.it":!0,"sic.it":!0,"sicilia.it":!0,"sicily.it":!0,"taa.it":!0,"tos.it":!0,"toscana.it":!0,"trentino-a-adige.it":!0,"trentino-aadige.it":!0,"trentino-alto-adige.it":!0,"trentino-altoadige.it":!0,"trentino-s-tirol.it":!0,"trentino-stirol.it":!0,"trentino-sud-tirol.it":!0,"trentino-sudtirol.it":!0,"trentino-sued-tirol.it":!0,"trentino-suedtirol.it":!0,"trentinoa-adige.it":!0,"trentinoaadige.it":!0,"trentinoalto-adige.it":!0,"trentinoaltoadige.it":!0,"trentinos-tirol.it":!0,"trentinostirol.it":!0,"trentinosud-tirol.it":!0,"trentinosudtirol.it":!0,"trentinosued-tirol.it":!0,"trentinosuedtirol.it":!0,"tuscany.it":!0,"umb.it":!0,"umbria.it":!0,"val-d-aosta.it":!0,"val-daosta.it":!0,"vald-aosta.it":!0,"valdaosta.it":!0,"valle-aosta.it":!0,"valle-d-aosta.it":!0,"valle-daosta.it":!0,"valleaosta.it":!0,"valled-aosta.it":!0,"valledaosta.it":!0,"vallee-aoste.it":!0,"valleeaoste.it":!0,"vao.it":!0,"vda.it":!0,"ven.it":!0,"veneto.it":!0,"ag.it":!0,"agrigento.it":!0,"al.it":!0,"alessandria.it":!0,"alto-adige.it":!0,"altoadige.it":!0,"an.it":!0,"ancona.it":!0,"andria-barletta-trani.it":!0,"andria-trani-barletta.it":!0,"andriabarlettatrani.it":!0,"andriatranibarletta.it":!0,"ao.it":!0,"aosta.it":!0,"aoste.it":!0,"ap.it":!0,"aq.it":!0,"aquila.it":!0,"ar.it":!0,"arezzo.it":!0,"ascoli-piceno.it":!0,"ascolipiceno.it":!0,"asti.it":!0,"at.it":!0,"av.it":!0,"avellino.it":!0,"ba.it":!0,"balsan.it":!0,"bari.it":!0,"barletta-trani-andria.it":!0,"barlettatraniandria.it":!0,"belluno.it":!0,"benevento.it":!0,"bergamo.it":!0,"bg.it":!0,"bi.it":!0,"biella.it":!0,"bl.it":!0,"bn.it":!0,"bo.it":!0,"bologna.it":!0,"bolzano.it":!0,"bozen.it":!0,"br.it":!0,"brescia.it":!0,"brindisi.it":!0,"bs.it":!0,"bt.it":!0,"bz.it":!0,"ca.it":!0,"cagliari.it":!0,"caltanissetta.it":!0,"campidano-medio.it":!0,"campidanomedio.it":!0,"campobasso.it":!0,"carbonia-iglesias.it":!0,"carboniaiglesias.it":!0,"carrara-massa.it":!0,"carraramassa.it":!0,"caserta.it":!0,"catania.it":!0,"catanzaro.it":!0,"cb.it":!0,"ce.it":!0,"cesena-forli.it":!0,"cesenaforli.it":!0,"ch.it":!0,"chieti.it":!0,"ci.it":!0,"cl.it":!0,"cn.it":!0,"co.it":!0,"como.it":!0,"cosenza.it":!0,"cr.it":!0,"cremona.it":!0,"crotone.it":!0,"cs.it":!0,"ct.it":!0,"cuneo.it":!0,"cz.it":!0,"dell-ogliastra.it":!0,"dellogliastra.it":!0,"en.it":!0,"enna.it":!0,"fc.it":!0,"fe.it":!0,"fermo.it":!0,"ferrara.it":!0,"fg.it":!0,"fi.it":!0,"firenze.it":!0,"florence.it":!0,"fm.it":!0,"foggia.it":!0,"forli-cesena.it":!0,"forlicesena.it":!0,"fr.it":!0,"frosinone.it":!0,"ge.it":!0,"genoa.it":!0,"genova.it":!0,"go.it":!0,"gorizia.it":!0,"gr.it":!0,"grosseto.it":!0,"iglesias-carbonia.it":!0,"iglesiascarbonia.it":!0,"im.it":!0,"imperia.it":!0,"is.it":!0,"isernia.it":!0,"kr.it":!0,"la-spezia.it":!0,"laquila.it":!0,"laspezia.it":!0,"latina.it":!0,"lc.it":!0,"le.it":!0,"lecce.it":!0,"lecco.it":!0,"li.it":!0,"livorno.it":!0,"lo.it":!0,"lodi.it":!0,"lt.it":!0,"lu.it":!0,"lucca.it":!0,"macerata.it":!0,"mantova.it":!0,"massa-carrara.it":!0,"massacarrara.it":!0,"matera.it":!0,"mb.it":!0,"mc.it":!0,"me.it":!0,"medio-campidano.it":!0,"mediocampidano.it":!0,"messina.it":!0,"mi.it":!0,"milan.it":!0,"milano.it":!0,"mn.it":!0,"mo.it":!0,"modena.it":!0,"monza-brianza.it":!0,"monza-e-della-brianza.it":!0,"monza.it":!0,"monzabrianza.it":!0,"monzaebrianza.it":!0,"monzaedellabrianza.it":!0,"ms.it":!0,"mt.it":!0,"na.it":!0,"naples.it":!0,"napoli.it":!0,"no.it":!0,"novara.it":!0,"nu.it":!0,"nuoro.it":!0,"og.it":!0,"ogliastra.it":!0,"olbia-tempio.it":!0,"olbiatempio.it":!0,"or.it":!0,"oristano.it":!0,"ot.it":!0,"pa.it":!0,"padova.it":!0,"padua.it":!0,"palermo.it":!0,"parma.it":!0,"pavia.it":!0,"pc.it":!0,"pd.it":!0,"pe.it":!0,"perugia.it":!0,"pesaro-urbino.it":!0,"pesarourbino.it":!0,"pescara.it":!0,"pg.it":!0,"pi.it":!0,"piacenza.it":!0,"pisa.it":!0,"pistoia.it":!0,"pn.it":!0,"po.it":!0,"pordenone.it":!0,"potenza.it":!0,"pr.it":!0,"prato.it":!0,"pt.it":!0,"pu.it":!0,"pv.it":!0,"pz.it":!0,"ra.it":!0,"ragusa.it":!0,"ravenna.it":!0,"rc.it":!0,"re.it":!0,"reggio-calabria.it":!0,"reggio-emilia.it":!0,"reggiocalabria.it":!0,"reggioemilia.it":!0,"rg.it":!0,"ri.it":!0,"rieti.it":!0,"rimini.it":!0,"rm.it":!0,"rn.it":!0,"ro.it":!0,"roma.it":!0,"rome.it":!0,"rovigo.it":!0,"sa.it":!0,"salerno.it":!0,"sassari.it":!0,"savona.it":!0,"si.it":!0,"siena.it":!0,"siracusa.it":!0,"so.it":!0,"sondrio.it":!0,"sp.it":!0,"sr.it":!0,"ss.it":!0,"suedtirol.it":!0,"sv.it":!0,"ta.it":!0,"taranto.it":!0,"te.it":!0,"tempio-olbia.it":!0,"tempioolbia.it":!0,"teramo.it":!0,"terni.it":!0,"tn.it":!0,"to.it":!0,"torino.it":!0,"tp.it":!0,"tr.it":!0,"trani-andria-barletta.it":!0,"trani-barletta-andria.it":!0,"traniandriabarletta.it":!0,"tranibarlettaandria.it":!0,"trapani.it":!0,"trentino.it":!0,"trento.it":!0,"treviso.it":!0,"trieste.it":!0,"ts.it":!0,"turin.it":!0,"tv.it":!0,"ud.it":!0,"udine.it":!0,"urbino-pesaro.it":!0,"urbinopesaro.it":!0,"va.it":!0,"varese.it":!0,"vb.it":!0,"vc.it":!0,"ve.it":!0,"venezia.it":!0,"venice.it":!0,"verbania.it":!0,"vercelli.it":!0,"verona.it":!0,"vi.it":!0,"vibo-valentia.it":!0,"vibovalentia.it":!0,"vicenza.it":!0,"viterbo.it":!0,"vr.it":!0,"vs.it":!0,"vt.it":!0,"vv.it":!0,je:!0,"co.je":!0,"net.je":!0,"org.je":!0,"*.jm":!0,jo:!0,"com.jo":!0,"org.jo":!0,"net.jo":!0,"edu.jo":!0,"sch.jo":!0,"gov.jo":!0,"mil.jo":!0,"name.jo":!0,jobs:!0,jp:!0,"ac.jp":!0,"ad.jp":!0,"co.jp":!0,"ed.jp":!0,"go.jp":!0,"gr.jp":!0,"lg.jp":!0,"ne.jp":!0,"or.jp":!0,"aichi.jp":!0,"akita.jp":!0,"aomori.jp":!0,"chiba.jp":!0,"ehime.jp":!0,"fukui.jp":!0,"fukuoka.jp":!0,"fukushima.jp":!0,"gifu.jp":!0,"gunma.jp":!0,"hiroshima.jp":!0,"hokkaido.jp":!0,"hyogo.jp":!0,"ibaraki.jp":!0,"ishikawa.jp":!0,"iwate.jp":!0,"kagawa.jp":!0,"kagoshima.jp":!0,"kanagawa.jp":!0,"kochi.jp":!0,"kumamoto.jp":!0,"kyoto.jp":!0,"mie.jp":!0,"miyagi.jp":!0,"miyazaki.jp":!0,"nagano.jp":!0,"nagasaki.jp":!0,"nara.jp":!0,"niigata.jp":!0,"oita.jp":!0,"okayama.jp":!0,"okinawa.jp":!0,"osaka.jp":!0,"saga.jp":!0,"saitama.jp":!0,"shiga.jp":!0,"shimane.jp":!0,"shizuoka.jp":!0,"tochigi.jp":!0,"tokushima.jp":!0,"tokyo.jp":!0,"tottori.jp":!0,"toyama.jp":!0,"wakayama.jp":!0,"yamagata.jp":!0,"yamaguchi.jp":!0,"yamanashi.jp":!0,"xn--4pvxs.jp":!0,"xn--vgu402c.jp":!0,"xn--c3s14m.jp":!0,"xn--f6qx53a.jp":!0,"xn--8pvr4u.jp":!0,"xn--uist22h.jp":!0,"xn--djrs72d6uy.jp":!0,"xn--mkru45i.jp":!0,"xn--0trq7p7nn.jp":!0,"xn--8ltr62k.jp":!0,"xn--2m4a15e.jp":!0,"xn--efvn9s.jp":!0,"xn--32vp30h.jp":!0,"xn--4it797k.jp":!0,"xn--1lqs71d.jp":!0,"xn--5rtp49c.jp":!0,"xn--5js045d.jp":!0,"xn--ehqz56n.jp":!0,"xn--1lqs03n.jp":!0,"xn--qqqt11m.jp":!0,"xn--kbrq7o.jp":!0,"xn--pssu33l.jp":!0,"xn--ntsq17g.jp":!0,"xn--uisz3g.jp":!0,"xn--6btw5a.jp":!0,"xn--1ctwo.jp":!0,"xn--6orx2r.jp":!0,"xn--rht61e.jp":!0,"xn--rht27z.jp":!0,"xn--djty4k.jp":!0,"xn--nit225k.jp":!0,"xn--rht3d.jp":!0,"xn--klty5x.jp":!0,"xn--kltx9a.jp":!0,"xn--kltp7d.jp":!0,"xn--uuwu58a.jp":!0,"xn--zbx025d.jp":!0,"xn--ntso0iqx3a.jp":!0,"xn--elqq16h.jp":!0,"xn--4it168d.jp":!0,"xn--klt787d.jp":!0,"xn--rny31h.jp":!0,"xn--7t0a264c.jp":!0,"xn--5rtq34k.jp":!0,"xn--k7yn95e.jp":!0,"xn--tor131o.jp":!0,"xn--d5qv7z876c.jp":!0,"*.kawasaki.jp":!0,"*.kitakyushu.jp":!0,"*.kobe.jp":!0,"*.nagoya.jp":!0,"*.sapporo.jp":!0,"*.sendai.jp":!0,"*.yokohama.jp":!0,"city.kawasaki.jp":!1,"city.kitakyushu.jp":!1,"city.kobe.jp":!1,"city.nagoya.jp":!1,"city.sapporo.jp":!1,"city.sendai.jp":!1,"city.yokohama.jp":!1,"aisai.aichi.jp":!0,"ama.aichi.jp":!0,"anjo.aichi.jp":!0,"asuke.aichi.jp":!0,"chiryu.aichi.jp":!0,"chita.aichi.jp":!0,"fuso.aichi.jp":!0,"gamagori.aichi.jp":!0,"handa.aichi.jp":!0,"hazu.aichi.jp":!0,"hekinan.aichi.jp":!0,"higashiura.aichi.jp":!0,"ichinomiya.aichi.jp":!0,"inazawa.aichi.jp":!0,"inuyama.aichi.jp":!0,"isshiki.aichi.jp":!0,"iwakura.aichi.jp":!0,"kanie.aichi.jp":!0,"kariya.aichi.jp":!0,"kasugai.aichi.jp":!0,"kira.aichi.jp":!0,"kiyosu.aichi.jp":!0,"komaki.aichi.jp":!0,"konan.aichi.jp":!0,"kota.aichi.jp":!0,"mihama.aichi.jp":!0,"miyoshi.aichi.jp":!0,"nishio.aichi.jp":!0,"nisshin.aichi.jp":!0,"obu.aichi.jp":!0,"oguchi.aichi.jp":!0,"oharu.aichi.jp":!0,"okazaki.aichi.jp":!0,"owariasahi.aichi.jp":!0,"seto.aichi.jp":!0,"shikatsu.aichi.jp":!0,"shinshiro.aichi.jp":!0,"shitara.aichi.jp":!0,"tahara.aichi.jp":!0,"takahama.aichi.jp":!0,"tobishima.aichi.jp":!0,"toei.aichi.jp":!0,"togo.aichi.jp":!0,"tokai.aichi.jp":!0,"tokoname.aichi.jp":!0,"toyoake.aichi.jp":!0,"toyohashi.aichi.jp":!0,"toyokawa.aichi.jp":!0,"toyone.aichi.jp":!0,"toyota.aichi.jp":!0,"tsushima.aichi.jp":!0,"yatomi.aichi.jp":!0,"akita.akita.jp":!0,"daisen.akita.jp":!0,"fujisato.akita.jp":!0,"gojome.akita.jp":!0,"hachirogata.akita.jp":!0,"happou.akita.jp":!0,"higashinaruse.akita.jp":!0,"honjo.akita.jp":!0,"honjyo.akita.jp":!0,"ikawa.akita.jp":!0,"kamikoani.akita.jp":!0,"kamioka.akita.jp":!0,"katagami.akita.jp":!0,"kazuno.akita.jp":!0,"kitaakita.akita.jp":!0,"kosaka.akita.jp":!0,"kyowa.akita.jp":!0,"misato.akita.jp":!0,"mitane.akita.jp":!0,"moriyoshi.akita.jp":!0,"nikaho.akita.jp":!0,"noshiro.akita.jp":!0,"odate.akita.jp":!0,"oga.akita.jp":!0,"ogata.akita.jp":!0,"semboku.akita.jp":!0,"yokote.akita.jp":!0,"yurihonjo.akita.jp":!0,"aomori.aomori.jp":!0,"gonohe.aomori.jp":!0,"hachinohe.aomori.jp":!0,"hashikami.aomori.jp":!0,"hiranai.aomori.jp":!0,"hirosaki.aomori.jp":!0,"itayanagi.aomori.jp":!0,"kuroishi.aomori.jp":!0,"misawa.aomori.jp":!0,"mutsu.aomori.jp":!0,"nakadomari.aomori.jp":!0,"noheji.aomori.jp":!0,"oirase.aomori.jp":!0,"owani.aomori.jp":!0,"rokunohe.aomori.jp":!0,"sannohe.aomori.jp":!0,"shichinohe.aomori.jp":!0,"shingo.aomori.jp":!0,"takko.aomori.jp":!0,"towada.aomori.jp":!0,"tsugaru.aomori.jp":!0,"tsuruta.aomori.jp":!0,"abiko.chiba.jp":!0,"asahi.chiba.jp":!0,"chonan.chiba.jp":!0,"chosei.chiba.jp":!0,"choshi.chiba.jp":!0,"chuo.chiba.jp":!0,"funabashi.chiba.jp":!0,"futtsu.chiba.jp":!0,"hanamigawa.chiba.jp":!0,"ichihara.chiba.jp":!0,"ichikawa.chiba.jp":!0,"ichinomiya.chiba.jp":!0,"inzai.chiba.jp":!0,"isumi.chiba.jp":!0,"kamagaya.chiba.jp":!0,"kamogawa.chiba.jp":!0,"kashiwa.chiba.jp":!0,"katori.chiba.jp":!0,"katsuura.chiba.jp":!0,"kimitsu.chiba.jp":!0,"kisarazu.chiba.jp":!0,"kozaki.chiba.jp":!0,"kujukuri.chiba.jp":!0,"kyonan.chiba.jp":!0,"matsudo.chiba.jp":!0,"midori.chiba.jp":!0,"mihama.chiba.jp":!0,"minamiboso.chiba.jp":!0,"mobara.chiba.jp":!0,"mutsuzawa.chiba.jp":!0,"nagara.chiba.jp":!0,"nagareyama.chiba.jp":!0,"narashino.chiba.jp":!0,"narita.chiba.jp":!0,"noda.chiba.jp":!0,"oamishirasato.chiba.jp":!0,"omigawa.chiba.jp":!0,"onjuku.chiba.jp":!0,"otaki.chiba.jp":!0,"sakae.chiba.jp":!0,"sakura.chiba.jp":!0,"shimofusa.chiba.jp":!0,"shirako.chiba.jp":!0,"shiroi.chiba.jp":!0,"shisui.chiba.jp":!0,"sodegaura.chiba.jp":!0,"sosa.chiba.jp":!0,"tako.chiba.jp":!0,"tateyama.chiba.jp":!0,"togane.chiba.jp":!0,"tohnosho.chiba.jp":!0,"tomisato.chiba.jp":!0,"urayasu.chiba.jp":!0,"yachimata.chiba.jp":!0,"yachiyo.chiba.jp":!0,"yokaichiba.chiba.jp":!0,"yokoshibahikari.chiba.jp":!0,"yotsukaido.chiba.jp":!0,"ainan.ehime.jp":!0,"honai.ehime.jp":!0,"ikata.ehime.jp":!0,"imabari.ehime.jp":!0,"iyo.ehime.jp":!0,"kamijima.ehime.jp":!0,"kihoku.ehime.jp":!0,"kumakogen.ehime.jp":!0,"masaki.ehime.jp":!0,"matsuno.ehime.jp":!0,"matsuyama.ehime.jp":!0,"namikata.ehime.jp":!0,"niihama.ehime.jp":!0,"ozu.ehime.jp":!0,"saijo.ehime.jp":!0,"seiyo.ehime.jp":!0,"shikokuchuo.ehime.jp":!0,"tobe.ehime.jp":!0,"toon.ehime.jp":!0,"uchiko.ehime.jp":!0,"uwajima.ehime.jp":!0,"yawatahama.ehime.jp":!0,"echizen.fukui.jp":!0,"eiheiji.fukui.jp":!0,"fukui.fukui.jp":!0,"ikeda.fukui.jp":!0,"katsuyama.fukui.jp":!0,"mihama.fukui.jp":!0,"minamiechizen.fukui.jp":!0,"obama.fukui.jp":!0,"ohi.fukui.jp":!0,"ono.fukui.jp":!0,"sabae.fukui.jp":!0,"sakai.fukui.jp":!0,"takahama.fukui.jp":!0,"tsuruga.fukui.jp":!0,"wakasa.fukui.jp":!0,"ashiya.fukuoka.jp":!0,"buzen.fukuoka.jp":!0,"chikugo.fukuoka.jp":!0,"chikuho.fukuoka.jp":!0,"chikujo.fukuoka.jp":!0,"chikushino.fukuoka.jp":!0,"chikuzen.fukuoka.jp":!0,"chuo.fukuoka.jp":!0,"dazaifu.fukuoka.jp":!0,"fukuchi.fukuoka.jp":!0,"hakata.fukuoka.jp":!0,"higashi.fukuoka.jp":!0,"hirokawa.fukuoka.jp":!0,"hisayama.fukuoka.jp":!0,"iizuka.fukuoka.jp":!0,"inatsuki.fukuoka.jp":!0,"kaho.fukuoka.jp":!0,"kasuga.fukuoka.jp":!0,"kasuya.fukuoka.jp":!0,"kawara.fukuoka.jp":!0,"keisen.fukuoka.jp":!0,"koga.fukuoka.jp":!0,"kurate.fukuoka.jp":!0,"kurogi.fukuoka.jp":!0,"kurume.fukuoka.jp":!0,"minami.fukuoka.jp":!0,"miyako.fukuoka.jp":!0,"miyama.fukuoka.jp":!0,"miyawaka.fukuoka.jp":!0,"mizumaki.fukuoka.jp":!0,"munakata.fukuoka.jp":!0,"nakagawa.fukuoka.jp":!0,"nakama.fukuoka.jp":!0,"nishi.fukuoka.jp":!0,"nogata.fukuoka.jp":!0,"ogori.fukuoka.jp":!0,"okagaki.fukuoka.jp":!0,"okawa.fukuoka.jp":!0,"oki.fukuoka.jp":!0,"omuta.fukuoka.jp":!0,"onga.fukuoka.jp":!0,"onojo.fukuoka.jp":!0,"oto.fukuoka.jp":!0,"saigawa.fukuoka.jp":!0,"sasaguri.fukuoka.jp":!0,"shingu.fukuoka.jp":!0,"shinyoshitomi.fukuoka.jp":!0,"shonai.fukuoka.jp":!0,"soeda.fukuoka.jp":!0,"sue.fukuoka.jp":!0,"tachiarai.fukuoka.jp":!0,"tagawa.fukuoka.jp":!0,"takata.fukuoka.jp":!0,"toho.fukuoka.jp":!0,"toyotsu.fukuoka.jp":!0,"tsuiki.fukuoka.jp":!0,"ukiha.fukuoka.jp":!0,"umi.fukuoka.jp":!0,"usui.fukuoka.jp":!0,"yamada.fukuoka.jp":!0,"yame.fukuoka.jp":!0,"yanagawa.fukuoka.jp":!0,"yukuhashi.fukuoka.jp":!0,"aizubange.fukushima.jp":!0,"aizumisato.fukushima.jp":!0,"aizuwakamatsu.fukushima.jp":!0,"asakawa.fukushima.jp":!0,"bandai.fukushima.jp":!0,"date.fukushima.jp":!0,"fukushima.fukushima.jp":!0,"furudono.fukushima.jp":!0,"futaba.fukushima.jp":!0,"hanawa.fukushima.jp":!0,"higashi.fukushima.jp":!0,"hirata.fukushima.jp":!0,"hirono.fukushima.jp":!0,"iitate.fukushima.jp":!0,"inawashiro.fukushima.jp":!0,"ishikawa.fukushima.jp":!0,"iwaki.fukushima.jp":!0,"izumizaki.fukushima.jp":!0,"kagamiishi.fukushima.jp":!0,"kaneyama.fukushima.jp":!0,"kawamata.fukushima.jp":!0,"kitakata.fukushima.jp":!0,"kitashiobara.fukushima.jp":!0,"koori.fukushima.jp":!0,"koriyama.fukushima.jp":!0,"kunimi.fukushima.jp":!0,"miharu.fukushima.jp":!0,"mishima.fukushima.jp":!0,"namie.fukushima.jp":!0,"nango.fukushima.jp":!0,"nishiaizu.fukushima.jp":!0,"nishigo.fukushima.jp":!0,"okuma.fukushima.jp":!0,"omotego.fukushima.jp":!0,"ono.fukushima.jp":!0,"otama.fukushima.jp":!0,"samegawa.fukushima.jp":!0,"shimogo.fukushima.jp":!0,"shirakawa.fukushima.jp":!0,"showa.fukushima.jp":!0,"soma.fukushima.jp":!0,"sukagawa.fukushima.jp":!0,"taishin.fukushima.jp":!0,"tamakawa.fukushima.jp":!0,"tanagura.fukushima.jp":!0,"tenei.fukushima.jp":!0,"yabuki.fukushima.jp":!0,"yamato.fukushima.jp":!0,"yamatsuri.fukushima.jp":!0,"yanaizu.fukushima.jp":!0,"yugawa.fukushima.jp":!0,"anpachi.gifu.jp":!0,"ena.gifu.jp":!0,"gifu.gifu.jp":!0,"ginan.gifu.jp":!0,"godo.gifu.jp":!0,"gujo.gifu.jp":!0,"hashima.gifu.jp":!0,"hichiso.gifu.jp":!0,"hida.gifu.jp":!0,"higashishirakawa.gifu.jp":!0,"ibigawa.gifu.jp":!0,"ikeda.gifu.jp":!0,"kakamigahara.gifu.jp":!0,"kani.gifu.jp":!0,"kasahara.gifu.jp":!0,"kasamatsu.gifu.jp":!0,"kawaue.gifu.jp":!0,"kitagata.gifu.jp":!0,"mino.gifu.jp":!0,"minokamo.gifu.jp":!0,"mitake.gifu.jp":!0,"mizunami.gifu.jp":!0,"motosu.gifu.jp":!0,"nakatsugawa.gifu.jp":!0,"ogaki.gifu.jp":!0,"sakahogi.gifu.jp":!0,"seki.gifu.jp":!0,"sekigahara.gifu.jp":!0,"shirakawa.gifu.jp":!0,"tajimi.gifu.jp":!0,"takayama.gifu.jp":!0,"tarui.gifu.jp":!0,"toki.gifu.jp":!0,"tomika.gifu.jp":!0,"wanouchi.gifu.jp":!0,"yamagata.gifu.jp":!0,"yaotsu.gifu.jp":!0,"yoro.gifu.jp":!0,"annaka.gunma.jp":!0,"chiyoda.gunma.jp":!0,"fujioka.gunma.jp":!0,"higashiagatsuma.gunma.jp":!0,"isesaki.gunma.jp":!0,"itakura.gunma.jp":!0,"kanna.gunma.jp":!0,"kanra.gunma.jp":!0,"katashina.gunma.jp":!0,"kawaba.gunma.jp":!0,"kiryu.gunma.jp":!0,"kusatsu.gunma.jp":!0,"maebashi.gunma.jp":!0,"meiwa.gunma.jp":!0,"midori.gunma.jp":!0,"minakami.gunma.jp":!0,"naganohara.gunma.jp":!0,"nakanojo.gunma.jp":!0,"nanmoku.gunma.jp":!0,"numata.gunma.jp":!0,"oizumi.gunma.jp":!0,"ora.gunma.jp":!0,"ota.gunma.jp":!0,"shibukawa.gunma.jp":!0,"shimonita.gunma.jp":!0,"shinto.gunma.jp":!0,"showa.gunma.jp":!0,"takasaki.gunma.jp":!0,"takayama.gunma.jp":!0,"tamamura.gunma.jp":!0,"tatebayashi.gunma.jp":!0,"tomioka.gunma.jp":!0,"tsukiyono.gunma.jp":!0,"tsumagoi.gunma.jp":!0,"ueno.gunma.jp":!0,"yoshioka.gunma.jp":!0,"asaminami.hiroshima.jp":!0,"daiwa.hiroshima.jp":!0,"etajima.hiroshima.jp":!0,"fuchu.hiroshima.jp":!0,"fukuyama.hiroshima.jp":!0,"hatsukaichi.hiroshima.jp":!0,"higashihiroshima.hiroshima.jp":!0,"hongo.hiroshima.jp":!0,"jinsekikogen.hiroshima.jp":!0,"kaita.hiroshima.jp":!0,"kui.hiroshima.jp":!0,"kumano.hiroshima.jp":!0,"kure.hiroshima.jp":!0,"mihara.hiroshima.jp":!0,
"miyoshi.hiroshima.jp":!0,"naka.hiroshima.jp":!0,"onomichi.hiroshima.jp":!0,"osakikamijima.hiroshima.jp":!0,"otake.hiroshima.jp":!0,"saka.hiroshima.jp":!0,"sera.hiroshima.jp":!0,"seranishi.hiroshima.jp":!0,"shinichi.hiroshima.jp":!0,"shobara.hiroshima.jp":!0,"takehara.hiroshima.jp":!0,"abashiri.hokkaido.jp":!0,"abira.hokkaido.jp":!0,"aibetsu.hokkaido.jp":!0,"akabira.hokkaido.jp":!0,"akkeshi.hokkaido.jp":!0,"asahikawa.hokkaido.jp":!0,"ashibetsu.hokkaido.jp":!0,"ashoro.hokkaido.jp":!0,"assabu.hokkaido.jp":!0,"atsuma.hokkaido.jp":!0,"bibai.hokkaido.jp":!0,"biei.hokkaido.jp":!0,"bifuka.hokkaido.jp":!0,"bihoro.hokkaido.jp":!0,"biratori.hokkaido.jp":!0,"chippubetsu.hokkaido.jp":!0,"chitose.hokkaido.jp":!0,"date.hokkaido.jp":!0,"ebetsu.hokkaido.jp":!0,"embetsu.hokkaido.jp":!0,"eniwa.hokkaido.jp":!0,"erimo.hokkaido.jp":!0,"esan.hokkaido.jp":!0,"esashi.hokkaido.jp":!0,"fukagawa.hokkaido.jp":!0,"fukushima.hokkaido.jp":!0,"furano.hokkaido.jp":!0,"furubira.hokkaido.jp":!0,"haboro.hokkaido.jp":!0,"hakodate.hokkaido.jp":!0,"hamatonbetsu.hokkaido.jp":!0,"hidaka.hokkaido.jp":!0,"higashikagura.hokkaido.jp":!0,"higashikawa.hokkaido.jp":!0,"hiroo.hokkaido.jp":!0,"hokuryu.hokkaido.jp":!0,"hokuto.hokkaido.jp":!0,"honbetsu.hokkaido.jp":!0,"horokanai.hokkaido.jp":!0,"horonobe.hokkaido.jp":!0,"ikeda.hokkaido.jp":!0,"imakane.hokkaido.jp":!0,"ishikari.hokkaido.jp":!0,"iwamizawa.hokkaido.jp":!0,"iwanai.hokkaido.jp":!0,"kamifurano.hokkaido.jp":!0,"kamikawa.hokkaido.jp":!0,"kamishihoro.hokkaido.jp":!0,"kamisunagawa.hokkaido.jp":!0,"kamoenai.hokkaido.jp":!0,"kayabe.hokkaido.jp":!0,"kembuchi.hokkaido.jp":!0,"kikonai.hokkaido.jp":!0,"kimobetsu.hokkaido.jp":!0,"kitahiroshima.hokkaido.jp":!0,"kitami.hokkaido.jp":!0,"kiyosato.hokkaido.jp":!0,"koshimizu.hokkaido.jp":!0,"kunneppu.hokkaido.jp":!0,"kuriyama.hokkaido.jp":!0,"kuromatsunai.hokkaido.jp":!0,"kushiro.hokkaido.jp":!0,"kutchan.hokkaido.jp":!0,"kyowa.hokkaido.jp":!0,"mashike.hokkaido.jp":!0,"matsumae.hokkaido.jp":!0,"mikasa.hokkaido.jp":!0,"minamifurano.hokkaido.jp":!0,"mombetsu.hokkaido.jp":!0,"moseushi.hokkaido.jp":!0,"mukawa.hokkaido.jp":!0,"muroran.hokkaido.jp":!0,"naie.hokkaido.jp":!0,"nakagawa.hokkaido.jp":!0,"nakasatsunai.hokkaido.jp":!0,"nakatombetsu.hokkaido.jp":!0,"nanae.hokkaido.jp":!0,"nanporo.hokkaido.jp":!0,"nayoro.hokkaido.jp":!0,"nemuro.hokkaido.jp":!0,"niikappu.hokkaido.jp":!0,"niki.hokkaido.jp":!0,"nishiokoppe.hokkaido.jp":!0,"noboribetsu.hokkaido.jp":!0,"numata.hokkaido.jp":!0,"obihiro.hokkaido.jp":!0,"obira.hokkaido.jp":!0,"oketo.hokkaido.jp":!0,"okoppe.hokkaido.jp":!0,"otaru.hokkaido.jp":!0,"otobe.hokkaido.jp":!0,"otofuke.hokkaido.jp":!0,"otoineppu.hokkaido.jp":!0,"oumu.hokkaido.jp":!0,"ozora.hokkaido.jp":!0,"pippu.hokkaido.jp":!0,"rankoshi.hokkaido.jp":!0,"rebun.hokkaido.jp":!0,"rikubetsu.hokkaido.jp":!0,"rishiri.hokkaido.jp":!0,"rishirifuji.hokkaido.jp":!0,"saroma.hokkaido.jp":!0,"sarufutsu.hokkaido.jp":!0,"shakotan.hokkaido.jp":!0,"shari.hokkaido.jp":!0,"shibecha.hokkaido.jp":!0,"shibetsu.hokkaido.jp":!0,"shikabe.hokkaido.jp":!0,"shikaoi.hokkaido.jp":!0,"shimamaki.hokkaido.jp":!0,"shimizu.hokkaido.jp":!0,"shimokawa.hokkaido.jp":!0,"shinshinotsu.hokkaido.jp":!0,"shintoku.hokkaido.jp":!0,"shiranuka.hokkaido.jp":!0,"shiraoi.hokkaido.jp":!0,"shiriuchi.hokkaido.jp":!0,"sobetsu.hokkaido.jp":!0,"sunagawa.hokkaido.jp":!0,"taiki.hokkaido.jp":!0,"takasu.hokkaido.jp":!0,"takikawa.hokkaido.jp":!0,"takinoue.hokkaido.jp":!0,"teshikaga.hokkaido.jp":!0,"tobetsu.hokkaido.jp":!0,"tohma.hokkaido.jp":!0,"tomakomai.hokkaido.jp":!0,"tomari.hokkaido.jp":!0,"toya.hokkaido.jp":!0,"toyako.hokkaido.jp":!0,"toyotomi.hokkaido.jp":!0,"toyoura.hokkaido.jp":!0,"tsubetsu.hokkaido.jp":!0,"tsukigata.hokkaido.jp":!0,"urakawa.hokkaido.jp":!0,"urausu.hokkaido.jp":!0,"uryu.hokkaido.jp":!0,"utashinai.hokkaido.jp":!0,"wakkanai.hokkaido.jp":!0,"wassamu.hokkaido.jp":!0,"yakumo.hokkaido.jp":!0,"yoichi.hokkaido.jp":!0,"aioi.hyogo.jp":!0,"akashi.hyogo.jp":!0,"ako.hyogo.jp":!0,"amagasaki.hyogo.jp":!0,"aogaki.hyogo.jp":!0,"asago.hyogo.jp":!0,"ashiya.hyogo.jp":!0,"awaji.hyogo.jp":!0,"fukusaki.hyogo.jp":!0,"goshiki.hyogo.jp":!0,"harima.hyogo.jp":!0,"himeji.hyogo.jp":!0,"ichikawa.hyogo.jp":!0,"inagawa.hyogo.jp":!0,"itami.hyogo.jp":!0,"kakogawa.hyogo.jp":!0,"kamigori.hyogo.jp":!0,"kamikawa.hyogo.jp":!0,"kasai.hyogo.jp":!0,"kasuga.hyogo.jp":!0,"kawanishi.hyogo.jp":!0,"miki.hyogo.jp":!0,"minamiawaji.hyogo.jp":!0,"nishinomiya.hyogo.jp":!0,"nishiwaki.hyogo.jp":!0,"ono.hyogo.jp":!0,"sanda.hyogo.jp":!0,"sannan.hyogo.jp":!0,"sasayama.hyogo.jp":!0,"sayo.hyogo.jp":!0,"shingu.hyogo.jp":!0,"shinonsen.hyogo.jp":!0,"shiso.hyogo.jp":!0,"sumoto.hyogo.jp":!0,"taishi.hyogo.jp":!0,"taka.hyogo.jp":!0,"takarazuka.hyogo.jp":!0,"takasago.hyogo.jp":!0,"takino.hyogo.jp":!0,"tamba.hyogo.jp":!0,"tatsuno.hyogo.jp":!0,"toyooka.hyogo.jp":!0,"yabu.hyogo.jp":!0,"yashiro.hyogo.jp":!0,"yoka.hyogo.jp":!0,"yokawa.hyogo.jp":!0,"ami.ibaraki.jp":!0,"asahi.ibaraki.jp":!0,"bando.ibaraki.jp":!0,"chikusei.ibaraki.jp":!0,"daigo.ibaraki.jp":!0,"fujishiro.ibaraki.jp":!0,"hitachi.ibaraki.jp":!0,"hitachinaka.ibaraki.jp":!0,"hitachiomiya.ibaraki.jp":!0,"hitachiota.ibaraki.jp":!0,"ibaraki.ibaraki.jp":!0,"ina.ibaraki.jp":!0,"inashiki.ibaraki.jp":!0,"itako.ibaraki.jp":!0,"iwama.ibaraki.jp":!0,"joso.ibaraki.jp":!0,"kamisu.ibaraki.jp":!0,"kasama.ibaraki.jp":!0,"kashima.ibaraki.jp":!0,"kasumigaura.ibaraki.jp":!0,"koga.ibaraki.jp":!0,"miho.ibaraki.jp":!0,"mito.ibaraki.jp":!0,"moriya.ibaraki.jp":!0,"naka.ibaraki.jp":!0,"namegata.ibaraki.jp":!0,"oarai.ibaraki.jp":!0,"ogawa.ibaraki.jp":!0,"omitama.ibaraki.jp":!0,"ryugasaki.ibaraki.jp":!0,"sakai.ibaraki.jp":!0,"sakuragawa.ibaraki.jp":!0,"shimodate.ibaraki.jp":!0,"shimotsuma.ibaraki.jp":!0,"shirosato.ibaraki.jp":!0,"sowa.ibaraki.jp":!0,"suifu.ibaraki.jp":!0,"takahagi.ibaraki.jp":!0,"tamatsukuri.ibaraki.jp":!0,"tokai.ibaraki.jp":!0,"tomobe.ibaraki.jp":!0,"tone.ibaraki.jp":!0,"toride.ibaraki.jp":!0,"tsuchiura.ibaraki.jp":!0,"tsukuba.ibaraki.jp":!0,"uchihara.ibaraki.jp":!0,"ushiku.ibaraki.jp":!0,"yachiyo.ibaraki.jp":!0,"yamagata.ibaraki.jp":!0,"yawara.ibaraki.jp":!0,"yuki.ibaraki.jp":!0,"anamizu.ishikawa.jp":!0,"hakui.ishikawa.jp":!0,"hakusan.ishikawa.jp":!0,"kaga.ishikawa.jp":!0,"kahoku.ishikawa.jp":!0,"kanazawa.ishikawa.jp":!0,"kawakita.ishikawa.jp":!0,"komatsu.ishikawa.jp":!0,"nakanoto.ishikawa.jp":!0,"nanao.ishikawa.jp":!0,"nomi.ishikawa.jp":!0,"nonoichi.ishikawa.jp":!0,"noto.ishikawa.jp":!0,"shika.ishikawa.jp":!0,"suzu.ishikawa.jp":!0,"tsubata.ishikawa.jp":!0,"tsurugi.ishikawa.jp":!0,"uchinada.ishikawa.jp":!0,"wajima.ishikawa.jp":!0,"fudai.iwate.jp":!0,"fujisawa.iwate.jp":!0,"hanamaki.iwate.jp":!0,"hiraizumi.iwate.jp":!0,"hirono.iwate.jp":!0,"ichinohe.iwate.jp":!0,"ichinoseki.iwate.jp":!0,"iwaizumi.iwate.jp":!0,"iwate.iwate.jp":!0,"joboji.iwate.jp":!0,"kamaishi.iwate.jp":!0,"kanegasaki.iwate.jp":!0,"karumai.iwate.jp":!0,"kawai.iwate.jp":!0,"kitakami.iwate.jp":!0,"kuji.iwate.jp":!0,"kunohe.iwate.jp":!0,"kuzumaki.iwate.jp":!0,"miyako.iwate.jp":!0,"mizusawa.iwate.jp":!0,"morioka.iwate.jp":!0,"ninohe.iwate.jp":!0,"noda.iwate.jp":!0,"ofunato.iwate.jp":!0,"oshu.iwate.jp":!0,"otsuchi.iwate.jp":!0,"rikuzentakata.iwate.jp":!0,"shiwa.iwate.jp":!0,"shizukuishi.iwate.jp":!0,"sumita.iwate.jp":!0,"tanohata.iwate.jp":!0,"tono.iwate.jp":!0,"yahaba.iwate.jp":!0,"yamada.iwate.jp":!0,"ayagawa.kagawa.jp":!0,"higashikagawa.kagawa.jp":!0,"kanonji.kagawa.jp":!0,"kotohira.kagawa.jp":!0,"manno.kagawa.jp":!0,"marugame.kagawa.jp":!0,"mitoyo.kagawa.jp":!0,"naoshima.kagawa.jp":!0,"sanuki.kagawa.jp":!0,"tadotsu.kagawa.jp":!0,"takamatsu.kagawa.jp":!0,"tonosho.kagawa.jp":!0,"uchinomi.kagawa.jp":!0,"utazu.kagawa.jp":!0,"zentsuji.kagawa.jp":!0,"akune.kagoshima.jp":!0,"amami.kagoshima.jp":!0,"hioki.kagoshima.jp":!0,"isa.kagoshima.jp":!0,"isen.kagoshima.jp":!0,"izumi.kagoshima.jp":!0,"kagoshima.kagoshima.jp":!0,"kanoya.kagoshima.jp":!0,"kawanabe.kagoshima.jp":!0,"kinko.kagoshima.jp":!0,"kouyama.kagoshima.jp":!0,"makurazaki.kagoshima.jp":!0,"matsumoto.kagoshima.jp":!0,"minamitane.kagoshima.jp":!0,"nakatane.kagoshima.jp":!0,"nishinoomote.kagoshima.jp":!0,"satsumasendai.kagoshima.jp":!0,"soo.kagoshima.jp":!0,"tarumizu.kagoshima.jp":!0,"yusui.kagoshima.jp":!0,"aikawa.kanagawa.jp":!0,"atsugi.kanagawa.jp":!0,"ayase.kanagawa.jp":!0,"chigasaki.kanagawa.jp":!0,"ebina.kanagawa.jp":!0,"fujisawa.kanagawa.jp":!0,"hadano.kanagawa.jp":!0,"hakone.kanagawa.jp":!0,"hiratsuka.kanagawa.jp":!0,"isehara.kanagawa.jp":!0,"kaisei.kanagawa.jp":!0,"kamakura.kanagawa.jp":!0,"kiyokawa.kanagawa.jp":!0,"matsuda.kanagawa.jp":!0,"minamiashigara.kanagawa.jp":!0,"miura.kanagawa.jp":!0,"nakai.kanagawa.jp":!0,"ninomiya.kanagawa.jp":!0,"odawara.kanagawa.jp":!0,"oi.kanagawa.jp":!0,"oiso.kanagawa.jp":!0,"sagamihara.kanagawa.jp":!0,"samukawa.kanagawa.jp":!0,"tsukui.kanagawa.jp":!0,"yamakita.kanagawa.jp":!0,"yamato.kanagawa.jp":!0,"yokosuka.kanagawa.jp":!0,"yugawara.kanagawa.jp":!0,"zama.kanagawa.jp":!0,"zushi.kanagawa.jp":!0,"aki.kochi.jp":!0,"geisei.kochi.jp":!0,"hidaka.kochi.jp":!0,"higashitsuno.kochi.jp":!0,"ino.kochi.jp":!0,"kagami.kochi.jp":!0,"kami.kochi.jp":!0,"kitagawa.kochi.jp":!0,"kochi.kochi.jp":!0,"mihara.kochi.jp":!0,"motoyama.kochi.jp":!0,"muroto.kochi.jp":!0,"nahari.kochi.jp":!0,"nakamura.kochi.jp":!0,"nankoku.kochi.jp":!0,"nishitosa.kochi.jp":!0,"niyodogawa.kochi.jp":!0,"ochi.kochi.jp":!0,"okawa.kochi.jp":!0,"otoyo.kochi.jp":!0,"otsuki.kochi.jp":!0,"sakawa.kochi.jp":!0,"sukumo.kochi.jp":!0,"susaki.kochi.jp":!0,"tosa.kochi.jp":!0,"tosashimizu.kochi.jp":!0,"toyo.kochi.jp":!0,"tsuno.kochi.jp":!0,"umaji.kochi.jp":!0,"yasuda.kochi.jp":!0,"yusuhara.kochi.jp":!0,"amakusa.kumamoto.jp":!0,"arao.kumamoto.jp":!0,"aso.kumamoto.jp":!0,"choyo.kumamoto.jp":!0,"gyokuto.kumamoto.jp":!0,"kamiamakusa.kumamoto.jp":!0,"kikuchi.kumamoto.jp":!0,"kumamoto.kumamoto.jp":!0,"mashiki.kumamoto.jp":!0,"mifune.kumamoto.jp":!0,"minamata.kumamoto.jp":!0,"minamioguni.kumamoto.jp":!0,"nagasu.kumamoto.jp":!0,"nishihara.kumamoto.jp":!0,"oguni.kumamoto.jp":!0,"ozu.kumamoto.jp":!0,"sumoto.kumamoto.jp":!0,"takamori.kumamoto.jp":!0,"uki.kumamoto.jp":!0,"uto.kumamoto.jp":!0,"yamaga.kumamoto.jp":!0,"yamato.kumamoto.jp":!0,"yatsushiro.kumamoto.jp":!0,"ayabe.kyoto.jp":!0,"fukuchiyama.kyoto.jp":!0,"higashiyama.kyoto.jp":!0,"ide.kyoto.jp":!0,"ine.kyoto.jp":!0,"joyo.kyoto.jp":!0,"kameoka.kyoto.jp":!0,"kamo.kyoto.jp":!0,"kita.kyoto.jp":!0,"kizu.kyoto.jp":!0,"kumiyama.kyoto.jp":!0,"kyotamba.kyoto.jp":!0,"kyotanabe.kyoto.jp":!0,"kyotango.kyoto.jp":!0,"maizuru.kyoto.jp":!0,"minami.kyoto.jp":!0,"minamiyamashiro.kyoto.jp":!0,"miyazu.kyoto.jp":!0,"muko.kyoto.jp":!0,"nagaokakyo.kyoto.jp":!0,"nakagyo.kyoto.jp":!0,"nantan.kyoto.jp":!0,"oyamazaki.kyoto.jp":!0,"sakyo.kyoto.jp":!0,"seika.kyoto.jp":!0,"tanabe.kyoto.jp":!0,"uji.kyoto.jp":!0,"ujitawara.kyoto.jp":!0,"wazuka.kyoto.jp":!0,"yamashina.kyoto.jp":!0,"yawata.kyoto.jp":!0,"asahi.mie.jp":!0,"inabe.mie.jp":!0,"ise.mie.jp":!0,"kameyama.mie.jp":!0,"kawagoe.mie.jp":!0,"kiho.mie.jp":!0,"kisosaki.mie.jp":!0,"kiwa.mie.jp":!0,"komono.mie.jp":!0,"kumano.mie.jp":!0,"kuwana.mie.jp":!0,"matsusaka.mie.jp":!0,"meiwa.mie.jp":!0,"mihama.mie.jp":!0,"minamiise.mie.jp":!0,"misugi.mie.jp":!0,"miyama.mie.jp":!0,"nabari.mie.jp":!0,"shima.mie.jp":!0,"suzuka.mie.jp":!0,"tado.mie.jp":!0,"taiki.mie.jp":!0,"taki.mie.jp":!0,"tamaki.mie.jp":!0,"toba.mie.jp":!0,"tsu.mie.jp":!0,"udono.mie.jp":!0,"ureshino.mie.jp":!0,"watarai.mie.jp":!0,"yokkaichi.mie.jp":!0,"furukawa.miyagi.jp":!0,"higashimatsushima.miyagi.jp":!0,"ishinomaki.miyagi.jp":!0,"iwanuma.miyagi.jp":!0,"kakuda.miyagi.jp":!0,"kami.miyagi.jp":!0,"kawasaki.miyagi.jp":!0,"marumori.miyagi.jp":!0,"matsushima.miyagi.jp":!0,"minamisanriku.miyagi.jp":!0,"misato.miyagi.jp":!0,"murata.miyagi.jp":!0,"natori.miyagi.jp":!0,"ogawara.miyagi.jp":!0,"ohira.miyagi.jp":!0,"onagawa.miyagi.jp":!0,"osaki.miyagi.jp":!0,"rifu.miyagi.jp":!0,"semine.miyagi.jp":!0,"shibata.miyagi.jp":!0,"shichikashuku.miyagi.jp":!0,"shikama.miyagi.jp":!0,"shiogama.miyagi.jp":!0,"shiroishi.miyagi.jp":!0,"tagajo.miyagi.jp":!0,"taiwa.miyagi.jp":!0,"tome.miyagi.jp":!0,"tomiya.miyagi.jp":!0,"wakuya.miyagi.jp":!0,"watari.miyagi.jp":!0,"yamamoto.miyagi.jp":!0,"zao.miyagi.jp":!0,"aya.miyazaki.jp":!0,"ebino.miyazaki.jp":!0,"gokase.miyazaki.jp":!0,"hyuga.miyazaki.jp":!0,"kadogawa.miyazaki.jp":!0,"kawaminami.miyazaki.jp":!0,"kijo.miyazaki.jp":!0,"kitagawa.miyazaki.jp":!0,"kitakata.miyazaki.jp":!0,"kitaura.miyazaki.jp":!0,"kobayashi.miyazaki.jp":!0,"kunitomi.miyazaki.jp":!0,"kushima.miyazaki.jp":!0,"mimata.miyazaki.jp":!0,"miyakonojo.miyazaki.jp":!0,"miyazaki.miyazaki.jp":!0,"morotsuka.miyazaki.jp":!0,"nichinan.miyazaki.jp":!0,"nishimera.miyazaki.jp":!0,"nobeoka.miyazaki.jp":!0,"saito.miyazaki.jp":!0,"shiiba.miyazaki.jp":!0,"shintomi.miyazaki.jp":!0,"takaharu.miyazaki.jp":!0,"takanabe.miyazaki.jp":!0,"takazaki.miyazaki.jp":!0,"tsuno.miyazaki.jp":!0,"achi.nagano.jp":!0,"agematsu.nagano.jp":!0,"anan.nagano.jp":!0,"aoki.nagano.jp":!0,"asahi.nagano.jp":!0,"azumino.nagano.jp":!0,"chikuhoku.nagano.jp":!0,"chikuma.nagano.jp":!0,"chino.nagano.jp":!0,"fujimi.nagano.jp":!0,"hakuba.nagano.jp":!0,"hara.nagano.jp":!0,"hiraya.nagano.jp":!0,"iida.nagano.jp":!0,"iijima.nagano.jp":!0,"iiyama.nagano.jp":!0,"iizuna.nagano.jp":!0,"ikeda.nagano.jp":!0,"ikusaka.nagano.jp":!0,"ina.nagano.jp":!0,"karuizawa.nagano.jp":!0,"kawakami.nagano.jp":!0,"kiso.nagano.jp":!0,"kisofukushima.nagano.jp":!0,"kitaaiki.nagano.jp":!0,"komagane.nagano.jp":!0,"komoro.nagano.jp":!0,"matsukawa.nagano.jp":!0,"matsumoto.nagano.jp":!0,"miasa.nagano.jp":!0,"minamiaiki.nagano.jp":!0,"minamimaki.nagano.jp":!0,"minamiminowa.nagano.jp":!0,"minowa.nagano.jp":!0,"miyada.nagano.jp":!0,"miyota.nagano.jp":!0,"mochizuki.nagano.jp":!0,"nagano.nagano.jp":!0,"nagawa.nagano.jp":!0,"nagiso.nagano.jp":!0,"nakagawa.nagano.jp":!0,"nakano.nagano.jp":!0,"nozawaonsen.nagano.jp":!0,"obuse.nagano.jp":!0,"ogawa.nagano.jp":!0,"okaya.nagano.jp":!0,"omachi.nagano.jp":!0,"omi.nagano.jp":!0,"ookuwa.nagano.jp":!0,"ooshika.nagano.jp":!0,"otaki.nagano.jp":!0,"otari.nagano.jp":!0,"sakae.nagano.jp":!0,"sakaki.nagano.jp":!0,"saku.nagano.jp":!0,"sakuho.nagano.jp":!0,"shimosuwa.nagano.jp":!0,"shinanomachi.nagano.jp":!0,"shiojiri.nagano.jp":!0,"suwa.nagano.jp":!0,"suzaka.nagano.jp":!0,"takagi.nagano.jp":!0,"takamori.nagano.jp":!0,"takayama.nagano.jp":!0,"tateshina.nagano.jp":!0,"tatsuno.nagano.jp":!0,"togakushi.nagano.jp":!0,"togura.nagano.jp":!0,"tomi.nagano.jp":!0,"ueda.nagano.jp":!0,"wada.nagano.jp":!0,"yamagata.nagano.jp":!0,"yamanouchi.nagano.jp":!0,"yasaka.nagano.jp":!0,"yasuoka.nagano.jp":!0,"chijiwa.nagasaki.jp":!0,"futsu.nagasaki.jp":!0,"goto.nagasaki.jp":!0,"hasami.nagasaki.jp":!0,"hirado.nagasaki.jp":!0,"iki.nagasaki.jp":!0,"isahaya.nagasaki.jp":!0,"kawatana.nagasaki.jp":!0,"kuchinotsu.nagasaki.jp":!0,"matsuura.nagasaki.jp":!0,"nagasaki.nagasaki.jp":!0,"obama.nagasaki.jp":!0,"omura.nagasaki.jp":!0,"oseto.nagasaki.jp":!0,"saikai.nagasaki.jp":!0,"sasebo.nagasaki.jp":!0,"seihi.nagasaki.jp":!0,"shimabara.nagasaki.jp":!0,"shinkamigoto.nagasaki.jp":!0,"togitsu.nagasaki.jp":!0,"tsushima.nagasaki.jp":!0,"unzen.nagasaki.jp":!0,"ando.nara.jp":!0,"gose.nara.jp":!0,"heguri.nara.jp":!0,"higashiyoshino.nara.jp":!0,"ikaruga.nara.jp":!0,"ikoma.nara.jp":!0,"kamikitayama.nara.jp":!0,"kanmaki.nara.jp":!0,"kashiba.nara.jp":!0,"kashihara.nara.jp":!0,"katsuragi.nara.jp":!0,"kawai.nara.jp":!0,"kawakami.nara.jp":!0,"kawanishi.nara.jp":!0,"koryo.nara.jp":!0,"kurotaki.nara.jp":!0,"mitsue.nara.jp":!0,"miyake.nara.jp":!0,"nara.nara.jp":!0,"nosegawa.nara.jp":!0,"oji.nara.jp":!0,"ouda.nara.jp":!0,"oyodo.nara.jp":!0,"sakurai.nara.jp":!0,"sango.nara.jp":!0,"shimoichi.nara.jp":!0,"shimokitayama.nara.jp":!0,"shinjo.nara.jp":!0,"soni.nara.jp":!0,"takatori.nara.jp":!0,"tawaramoto.nara.jp":!0,"tenkawa.nara.jp":!0,"tenri.nara.jp":!0,"uda.nara.jp":!0,"yamatokoriyama.nara.jp":!0,"yamatotakada.nara.jp":!0,"yamazoe.nara.jp":!0,"yoshino.nara.jp":!0,"aga.niigata.jp":!0,"agano.niigata.jp":!0,"gosen.niigata.jp":!0,"itoigawa.niigata.jp":!0,"izumozaki.niigata.jp":!0,"joetsu.niigata.jp":!0,"kamo.niigata.jp":!0,"kariwa.niigata.jp":!0,"kashiwazaki.niigata.jp":!0,"minamiuonuma.niigata.jp":!0,"mitsuke.niigata.jp":!0,"muika.niigata.jp":!0,"murakami.niigata.jp":!0,"myoko.niigata.jp":!0,"nagaoka.niigata.jp":!0,"niigata.niigata.jp":!0,"ojiya.niigata.jp":!0,"omi.niigata.jp":!0,"sado.niigata.jp":!0,"sanjo.niigata.jp":!0,"seiro.niigata.jp":!0,"seirou.niigata.jp":!0,"sekikawa.niigata.jp":!0,"shibata.niigata.jp":!0,"tagami.niigata.jp":!0,"tainai.niigata.jp":!0,"tochio.niigata.jp":!0,"tokamachi.niigata.jp":!0,"tsubame.niigata.jp":!0,"tsunan.niigata.jp":!0,"uonuma.niigata.jp":!0,"yahiko.niigata.jp":!0,"yoita.niigata.jp":!0,"yuzawa.niigata.jp":!0,"beppu.oita.jp":!0,"bungoono.oita.jp":!0,"bungotakada.oita.jp":!0,"hasama.oita.jp":!0,"hiji.oita.jp":!0,"himeshima.oita.jp":!0,"hita.oita.jp":!0,"kamitsue.oita.jp":!0,"kokonoe.oita.jp":!0,"kuju.oita.jp":!0,"kunisaki.oita.jp":!0,"kusu.oita.jp":!0,"oita.oita.jp":!0,"saiki.oita.jp":!0,"taketa.oita.jp":!0,"tsukumi.oita.jp":!0,"usa.oita.jp":!0,"usuki.oita.jp":!0,"yufu.oita.jp":!0,"akaiwa.okayama.jp":!0,"asakuchi.okayama.jp":!0,"bizen.okayama.jp":!0,"hayashima.okayama.jp":!0,"ibara.okayama.jp":!0,"kagamino.okayama.jp":!0,"kasaoka.okayama.jp":!0,"kibichuo.okayama.jp":!0,"kumenan.okayama.jp":!0,"kurashiki.okayama.jp":!0,"maniwa.okayama.jp":!0,"misaki.okayama.jp":!0,"nagi.okayama.jp":!0,"niimi.okayama.jp":!0,"nishiawakura.okayama.jp":!0,"okayama.okayama.jp":!0,"satosho.okayama.jp":!0,"setouchi.okayama.jp":!0,"shinjo.okayama.jp":!0,"shoo.okayama.jp":!0,"soja.okayama.jp":!0,"takahashi.okayama.jp":!0,"tamano.okayama.jp":!0,"tsuyama.okayama.jp":!0,"wake.okayama.jp":!0,"yakage.okayama.jp":!0,"aguni.okinawa.jp":!0,"ginowan.okinawa.jp":!0,"ginoza.okinawa.jp":!0,"gushikami.okinawa.jp":!0,"haebaru.okinawa.jp":!0,"higashi.okinawa.jp":!0,"hirara.okinawa.jp":!0,"iheya.okinawa.jp":!0,"ishigaki.okinawa.jp":!0,"ishikawa.okinawa.jp":!0,"itoman.okinawa.jp":!0,"izena.okinawa.jp":!0,"kadena.okinawa.jp":!0,"kin.okinawa.jp":!0,"kitadaito.okinawa.jp":!0,"kitanakagusuku.okinawa.jp":!0,"kumejima.okinawa.jp":!0,"kunigami.okinawa.jp":!0,"minamidaito.okinawa.jp":!0,"motobu.okinawa.jp":!0,"nago.okinawa.jp":!0,"naha.okinawa.jp":!0,"nakagusuku.okinawa.jp":!0,"nakijin.okinawa.jp":!0,"nanjo.okinawa.jp":!0,"nishihara.okinawa.jp":!0,"ogimi.okinawa.jp":!0,"okinawa.okinawa.jp":!0,"onna.okinawa.jp":!0,"shimoji.okinawa.jp":!0,"taketomi.okinawa.jp":!0,"tarama.okinawa.jp":!0,"tokashiki.okinawa.jp":!0,"tomigusuku.okinawa.jp":!0,"tonaki.okinawa.jp":!0,"urasoe.okinawa.jp":!0,"uruma.okinawa.jp":!0,"yaese.okinawa.jp":!0,"yomitan.okinawa.jp":!0,"yonabaru.okinawa.jp":!0,"yonaguni.okinawa.jp":!0,"zamami.okinawa.jp":!0,"abeno.osaka.jp":!0,"chihayaakasaka.osaka.jp":!0,"chuo.osaka.jp":!0,"daito.osaka.jp":!0,"fujiidera.osaka.jp":!0,"habikino.osaka.jp":!0,"hannan.osaka.jp":!0,"higashiosaka.osaka.jp":!0,"higashisumiyoshi.osaka.jp":!0,"higashiyodogawa.osaka.jp":!0,"hirakata.osaka.jp":!0,"ibaraki.osaka.jp":!0,"ikeda.osaka.jp":!0,"izumi.osaka.jp":!0,"izumiotsu.osaka.jp":!0,"izumisano.osaka.jp":!0,"kadoma.osaka.jp":!0,"kaizuka.osaka.jp":!0,"kanan.osaka.jp":!0,"kashiwara.osaka.jp":!0,"katano.osaka.jp":!0,"kawachinagano.osaka.jp":!0,"kishiwada.osaka.jp":!0,"kita.osaka.jp":!0,"kumatori.osaka.jp":!0,"matsubara.osaka.jp":!0,"minato.osaka.jp":!0,"minoh.osaka.jp":!0,"misaki.osaka.jp":!0,"moriguchi.osaka.jp":!0,"neyagawa.osaka.jp":!0,"nishi.osaka.jp":!0,"nose.osaka.jp":!0,"osakasayama.osaka.jp":!0,"sakai.osaka.jp":!0,"sayama.osaka.jp":!0,"sennan.osaka.jp":!0,"settsu.osaka.jp":!0,"shijonawate.osaka.jp":!0,"shimamoto.osaka.jp":!0,"suita.osaka.jp":!0,"tadaoka.osaka.jp":!0,"taishi.osaka.jp":!0,"tajiri.osaka.jp":!0,"takaishi.osaka.jp":!0,"takatsuki.osaka.jp":!0,"tondabayashi.osaka.jp":!0,"toyonaka.osaka.jp":!0,"toyono.osaka.jp":!0,"yao.osaka.jp":!0,"ariake.saga.jp":!0,"arita.saga.jp":!0,"fukudomi.saga.jp":!0,"genkai.saga.jp":!0,"hamatama.saga.jp":!0,"hizen.saga.jp":!0,"imari.saga.jp":!0,"kamimine.saga.jp":!0,"kanzaki.saga.jp":!0,"karatsu.saga.jp":!0,"kashima.saga.jp":!0,"kitagata.saga.jp":!0,"kitahata.saga.jp":!0,"kiyama.saga.jp":!0,"kouhoku.saga.jp":!0,"kyuragi.saga.jp":!0,"nishiarita.saga.jp":!0,"ogi.saga.jp":!0,"omachi.saga.jp":!0,"ouchi.saga.jp":!0,"saga.saga.jp":!0,"shiroishi.saga.jp":!0,"taku.saga.jp":!0,"tara.saga.jp":!0,"tosu.saga.jp":!0,"yoshinogari.saga.jp":!0,"arakawa.saitama.jp":!0,"asaka.saitama.jp":!0,"chichibu.saitama.jp":!0,"fujimi.saitama.jp":!0,"fujimino.saitama.jp":!0,"fukaya.saitama.jp":!0,"hanno.saitama.jp":!0,"hanyu.saitama.jp":!0,"hasuda.saitama.jp":!0,"hatogaya.saitama.jp":!0,"hatoyama.saitama.jp":!0,"hidaka.saitama.jp":!0,"higashichichibu.saitama.jp":!0,"higashimatsuyama.saitama.jp":!0,"honjo.saitama.jp":!0,"ina.saitama.jp":!0,"iruma.saitama.jp":!0,"iwatsuki.saitama.jp":!0,"kamiizumi.saitama.jp":!0,"kamikawa.saitama.jp":!0,"kamisato.saitama.jp":!0,"kasukabe.saitama.jp":!0,"kawagoe.saitama.jp":!0,"kawaguchi.saitama.jp":!0,"kawajima.saitama.jp":!0,"kazo.saitama.jp":!0,"kitamoto.saitama.jp":!0,"koshigaya.saitama.jp":!0,"kounosu.saitama.jp":!0,"kuki.saitama.jp":!0,"kumagaya.saitama.jp":!0,"matsubushi.saitama.jp":!0,"minano.saitama.jp":!0,"misato.saitama.jp":!0,"miyashiro.saitama.jp":!0,"miyoshi.saitama.jp":!0,"moroyama.saitama.jp":!0,"nagatoro.saitama.jp":!0,"namegawa.saitama.jp":!0,"niiza.saitama.jp":!0,"ogano.saitama.jp":!0,"ogawa.saitama.jp":!0,"ogose.saitama.jp":!0,"okegawa.saitama.jp":!0,"omiya.saitama.jp":!0,"otaki.saitama.jp":!0,"ranzan.saitama.jp":!0,"ryokami.saitama.jp":!0,"saitama.saitama.jp":!0,"sakado.saitama.jp":!0,"satte.saitama.jp":!0,"sayama.saitama.jp":!0,"shiki.saitama.jp":!0,"shiraoka.saitama.jp":!0,"soka.saitama.jp":!0,"sugito.saitama.jp":!0,"toda.saitama.jp":!0,"tokigawa.saitama.jp":!0,"tokorozawa.saitama.jp":!0,"tsurugashima.saitama.jp":!0,"urawa.saitama.jp":!0,"warabi.saitama.jp":!0,"yashio.saitama.jp":!0,"yokoze.saitama.jp":!0,"yono.saitama.jp":!0,"yorii.saitama.jp":!0,"yoshida.saitama.jp":!0,"yoshikawa.saitama.jp":!0,"yoshimi.saitama.jp":!0,"aisho.shiga.jp":!0,"gamo.shiga.jp":!0,"higashiomi.shiga.jp":!0,"hikone.shiga.jp":!0,"koka.shiga.jp":!0,"konan.shiga.jp":!0,"kosei.shiga.jp":!0,"koto.shiga.jp":!0,"kusatsu.shiga.jp":!0,"maibara.shiga.jp":!0,"moriyama.shiga.jp":!0,"nagahama.shiga.jp":!0,"nishiazai.shiga.jp":!0,"notogawa.shiga.jp":!0,"omihachiman.shiga.jp":!0,"otsu.shiga.jp":!0,"ritto.shiga.jp":!0,"ryuoh.shiga.jp":!0,"takashima.shiga.jp":!0,"takatsuki.shiga.jp":!0,"torahime.shiga.jp":!0,"toyosato.shiga.jp":!0,"yasu.shiga.jp":!0,"akagi.shimane.jp":!0,"ama.shimane.jp":!0,"gotsu.shimane.jp":!0,"hamada.shimane.jp":!0,"higashiizumo.shimane.jp":!0,"hikawa.shimane.jp":!0,"hikimi.shimane.jp":!0,"izumo.shimane.jp":!0,"kakinoki.shimane.jp":!0,"masuda.shimane.jp":!0,"matsue.shimane.jp":!0,"misato.shimane.jp":!0,"nishinoshima.shimane.jp":!0,"ohda.shimane.jp":!0,"okinoshima.shimane.jp":!0,"okuizumo.shimane.jp":!0,"shimane.shimane.jp":!0,"tamayu.shimane.jp":!0,"tsuwano.shimane.jp":!0,"unnan.shimane.jp":!0,"yakumo.shimane.jp":!0,"yasugi.shimane.jp":!0,"yatsuka.shimane.jp":!0,"arai.shizuoka.jp":!0,"atami.shizuoka.jp":!0,"fuji.shizuoka.jp":!0,"fujieda.shizuoka.jp":!0,"fujikawa.shizuoka.jp":!0,"fujinomiya.shizuoka.jp":!0,"fukuroi.shizuoka.jp":!0,"gotemba.shizuoka.jp":!0,"haibara.shizuoka.jp":!0,"hamamatsu.shizuoka.jp":!0,"higashiizu.shizuoka.jp":!0,"ito.shizuoka.jp":!0,"iwata.shizuoka.jp":!0,"izu.shizuoka.jp":!0,"izunokuni.shizuoka.jp":!0,"kakegawa.shizuoka.jp":!0,"kannami.shizuoka.jp":!0,"kawanehon.shizuoka.jp":!0,"kawazu.shizuoka.jp":!0,"kikugawa.shizuoka.jp":!0,"kosai.shizuoka.jp":!0,"makinohara.shizuoka.jp":!0,"matsuzaki.shizuoka.jp":!0,"minamiizu.shizuoka.jp":!0,"mishima.shizuoka.jp":!0,"morimachi.shizuoka.jp":!0,"nishiizu.shizuoka.jp":!0,"numazu.shizuoka.jp":!0,"omaezaki.shizuoka.jp":!0,"shimada.shizuoka.jp":!0,"shimizu.shizuoka.jp":!0,"shimoda.shizuoka.jp":!0,"shizuoka.shizuoka.jp":!0,"susono.shizuoka.jp":!0,"yaizu.shizuoka.jp":!0,"yoshida.shizuoka.jp":!0,"ashikaga.tochigi.jp":!0,"bato.tochigi.jp":!0,"haga.tochigi.jp":!0,"ichikai.tochigi.jp":!0,"iwafune.tochigi.jp":!0,"kaminokawa.tochigi.jp":!0,"kanuma.tochigi.jp":!0,"karasuyama.tochigi.jp":!0,"kuroiso.tochigi.jp":!0,"mashiko.tochigi.jp":!0,"mibu.tochigi.jp":!0,"moka.tochigi.jp":!0,"motegi.tochigi.jp":!0,"nasu.tochigi.jp":!0,"nasushiobara.tochigi.jp":!0,"nikko.tochigi.jp":!0,"nishikata.tochigi.jp":!0,"nogi.tochigi.jp":!0,"ohira.tochigi.jp":!0,"ohtawara.tochigi.jp":!0,"oyama.tochigi.jp":!0,"sakura.tochigi.jp":!0,"sano.tochigi.jp":!0,"shimotsuke.tochigi.jp":!0,"shioya.tochigi.jp":!0,"takanezawa.tochigi.jp":!0,"tochigi.tochigi.jp":!0,"tsuga.tochigi.jp":!0,"ujiie.tochigi.jp":!0,"utsunomiya.tochigi.jp":!0,"yaita.tochigi.jp":!0,"aizumi.tokushima.jp":!0,"anan.tokushima.jp":!0,"ichiba.tokushima.jp":!0,"itano.tokushima.jp":!0,"kainan.tokushima.jp":!0,"komatsushima.tokushima.jp":!0,"matsushige.tokushima.jp":!0,"mima.tokushima.jp":!0,"minami.tokushima.jp":!0,"miyoshi.tokushima.jp":!0,"mugi.tokushima.jp":!0,"nakagawa.tokushima.jp":!0,"naruto.tokushima.jp":!0,"sanagochi.tokushima.jp":!0,"shishikui.tokushima.jp":!0,"tokushima.tokushima.jp":!0,"wajiki.tokushima.jp":!0,"adachi.tokyo.jp":!0,"akiruno.tokyo.jp":!0,"akishima.tokyo.jp":!0,"aogashima.tokyo.jp":!0,"arakawa.tokyo.jp":!0,"bunkyo.tokyo.jp":!0,"chiyoda.tokyo.jp":!0,"chofu.tokyo.jp":!0,"chuo.tokyo.jp":!0,"edogawa.tokyo.jp":!0,"fuchu.tokyo.jp":!0,"fussa.tokyo.jp":!0,"hachijo.tokyo.jp":!0,"hachioji.tokyo.jp":!0,"hamura.tokyo.jp":!0,"higashikurume.tokyo.jp":!0,"higashimurayama.tokyo.jp":!0,"higashiyamato.tokyo.jp":!0,"hino.tokyo.jp":!0,"hinode.tokyo.jp":!0,"hinohara.tokyo.jp":!0,"inagi.tokyo.jp":!0,"itabashi.tokyo.jp":!0,"katsushika.tokyo.jp":!0,"kita.tokyo.jp":!0,"kiyose.tokyo.jp":!0,"kodaira.tokyo.jp":!0,"koganei.tokyo.jp":!0,"kokubunji.tokyo.jp":!0,"komae.tokyo.jp":!0,"koto.tokyo.jp":!0,"kouzushima.tokyo.jp":!0,"kunitachi.tokyo.jp":!0,"machida.tokyo.jp":!0,"meguro.tokyo.jp":!0,"minato.tokyo.jp":!0,"mitaka.tokyo.jp":!0,"mizuho.tokyo.jp":!0,"musashimurayama.tokyo.jp":!0,"musashino.tokyo.jp":!0,"nakano.tokyo.jp":!0,"nerima.tokyo.jp":!0,"ogasawara.tokyo.jp":!0,"okutama.tokyo.jp":!0,"ome.tokyo.jp":!0,"oshima.tokyo.jp":!0,"ota.tokyo.jp":!0,"setagaya.tokyo.jp":!0,"shibuya.tokyo.jp":!0,"shinagawa.tokyo.jp":!0,"shinjuku.tokyo.jp":!0,"suginami.tokyo.jp":!0,"sumida.tokyo.jp":!0,"tachikawa.tokyo.jp":!0,"taito.tokyo.jp":!0,"tama.tokyo.jp":!0,"toshima.tokyo.jp":!0,"chizu.tottori.jp":!0,"hino.tottori.jp":!0,"kawahara.tottori.jp":!0,"koge.tottori.jp":!0,"kotoura.tottori.jp":!0,"misasa.tottori.jp":!0,"nanbu.tottori.jp":!0,"nichinan.tottori.jp":!0,"sakaiminato.tottori.jp":!0,"tottori.tottori.jp":!0,"wakasa.tottori.jp":!0,"yazu.tottori.jp":!0,"yonago.tottori.jp":!0,"asahi.toyama.jp":!0,"fuchu.toyama.jp":!0,"fukumitsu.toyama.jp":!0,"funahashi.toyama.jp":!0,"himi.toyama.jp":!0,"imizu.toyama.jp":!0,"inami.toyama.jp":!0,"johana.toyama.jp":!0,"kamiichi.toyama.jp":!0,"kurobe.toyama.jp":!0,"nakaniikawa.toyama.jp":!0,"namerikawa.toyama.jp":!0,"nanto.toyama.jp":!0,"nyuzen.toyama.jp":!0,"oyabe.toyama.jp":!0,"taira.toyama.jp":!0,"takaoka.toyama.jp":!0,"tateyama.toyama.jp":!0,"toga.toyama.jp":!0,"tonami.toyama.jp":!0,"toyama.toyama.jp":!0,"unazuki.toyama.jp":!0,"uozu.toyama.jp":!0,"yamada.toyama.jp":!0,"arida.wakayama.jp":!0,"aridagawa.wakayama.jp":!0,"gobo.wakayama.jp":!0,"hashimoto.wakayama.jp":!0,"hidaka.wakayama.jp":!0,"hirogawa.wakayama.jp":!0,"inami.wakayama.jp":!0,"iwade.wakayama.jp":!0,"kainan.wakayama.jp":!0,"kamitonda.wakayama.jp":!0,"katsuragi.wakayama.jp":!0,"kimino.wakayama.jp":!0,"kinokawa.wakayama.jp":!0,"kitayama.wakayama.jp":!0,"koya.wakayama.jp":!0,"koza.wakayama.jp":!0,"kozagawa.wakayama.jp":!0,"kudoyama.wakayama.jp":!0,"kushimoto.wakayama.jp":!0,"mihama.wakayama.jp":!0,"misato.wakayama.jp":!0,"nachikatsuura.wakayama.jp":!0,"shingu.wakayama.jp":!0,"shirahama.wakayama.jp":!0,"taiji.wakayama.jp":!0,"tanabe.wakayama.jp":!0,"wakayama.wakayama.jp":!0,"yuasa.wakayama.jp":!0,"yura.wakayama.jp":!0,"asahi.yamagata.jp":!0,"funagata.yamagata.jp":!0,"higashine.yamagata.jp":!0,"iide.yamagata.jp":!0,"kahoku.yamagata.jp":!0,"kaminoyama.yamagata.jp":!0,"kaneyama.yamagata.jp":!0,"kawanishi.yamagata.jp":!0,"mamurogawa.yamagata.jp":!0,"mikawa.yamagata.jp":!0,"murayama.yamagata.jp":!0,"nagai.yamagata.jp":!0,"nakayama.yamagata.jp":!0,"nanyo.yamagata.jp":!0,"nishikawa.yamagata.jp":!0,"obanazawa.yamagata.jp":!0,"oe.yamagata.jp":!0,"oguni.yamagata.jp":!0,"ohkura.yamagata.jp":!0,"oishida.yamagata.jp":!0,"sagae.yamagata.jp":!0,"sakata.yamagata.jp":!0,"sakegawa.yamagata.jp":!0,"shinjo.yamagata.jp":!0,"shirataka.yamagata.jp":!0,"shonai.yamagata.jp":!0,"takahata.yamagata.jp":!0,"tendo.yamagata.jp":!0,"tozawa.yamagata.jp":!0,"tsuruoka.yamagata.jp":!0,"yamagata.yamagata.jp":!0,"yamanobe.yamagata.jp":!0,"yonezawa.yamagata.jp":!0,"yuza.yamagata.jp":!0,"abu.yamaguchi.jp":!0,"hagi.yamaguchi.jp":!0,"hikari.yamaguchi.jp":!0,"hofu.yamaguchi.jp":!0,"iwakuni.yamaguchi.jp":!0,"kudamatsu.yamaguchi.jp":!0,"mitou.yamaguchi.jp":!0,"nagato.yamaguchi.jp":!0,"oshima.yamaguchi.jp":!0,"shimonoseki.yamaguchi.jp":!0,"shunan.yamaguchi.jp":!0,"tabuse.yamaguchi.jp":!0,"tokuyama.yamaguchi.jp":!0,"toyota.yamaguchi.jp":!0,"ube.yamaguchi.jp":!0,"yuu.yamaguchi.jp":!0,"chuo.yamanashi.jp":!0,"doshi.yamanashi.jp":!0,"fuefuki.yamanashi.jp":!0,"fujikawa.yamanashi.jp":!0,"fujikawaguchiko.yamanashi.jp":!0,"fujiyoshida.yamanashi.jp":!0,"hayakawa.yamanashi.jp":!0,"hokuto.yamanashi.jp":!0,"ichikawamisato.yamanashi.jp":!0,"kai.yamanashi.jp":!0,"kofu.yamanashi.jp":!0,"koshu.yamanashi.jp":!0,"kosuge.yamanashi.jp":!0,"minami-alps.yamanashi.jp":!0,"minobu.yamanashi.jp":!0,"nakamichi.yamanashi.jp":!0,"nanbu.yamanashi.jp":!0,"narusawa.yamanashi.jp":!0,"nirasaki.yamanashi.jp":!0,"nishikatsura.yamanashi.jp":!0,"oshino.yamanashi.jp":!0,"otsuki.yamanashi.jp":!0,"showa.yamanashi.jp":!0,"tabayama.yamanashi.jp":!0,"tsuru.yamanashi.jp":!0,"uenohara.yamanashi.jp":!0,"yamanakako.yamanashi.jp":!0,"yamanashi.yamanashi.jp":!0,"*.ke":!0,kg:!0,"org.kg":!0,"net.kg":!0,"com.kg":!0,"edu.kg":!0,"gov.kg":!0,"mil.kg":!0,"*.kh":!0,ki:!0,"edu.ki":!0,"biz.ki":!0,"net.ki":!0,"org.ki":!0,"gov.ki":!0,"info.ki":!0,"com.ki":!0,km:!0,"org.km":!0,"nom.km":!0,"gov.km":!0,"prd.km":!0,"tm.km":!0,"edu.km":!0,"mil.km":!0,"ass.km":!0,"com.km":!0,"coop.km":!0,"asso.km":!0,"presse.km":!0,"medecin.km":!0,"notaires.km":!0,"pharmaciens.km":!0,"veterinaire.km":!0,"gouv.km":!0,kn:!0,"net.kn":!0,"org.kn":!0,"edu.kn":!0,"gov.kn":!0,kp:!0,"com.kp":!0,"edu.kp":!0,"gov.kp":!0,"org.kp":!0,"rep.kp":!0,"tra.kp":!0,kr:!0,"ac.kr":!0,"co.kr":!0,"es.kr":!0,"go.kr":!0,"hs.kr":!0,"kg.kr":!0,"mil.kr":!0,"ms.kr":!0,"ne.kr":!0,"or.kr":!0,"pe.kr":!0,"re.kr":!0,"sc.kr":!0,"busan.kr":!0,"chungbuk.kr":!0,"chungnam.kr":!0,"daegu.kr":!0,"daejeon.kr":!0,"gangwon.kr":!0,"gwangju.kr":!0,"gyeongbuk.kr":!0,"gyeonggi.kr":!0,"gyeongnam.kr":!0,"incheon.kr":!0,"jeju.kr":!0,"jeonbuk.kr":!0,"jeonnam.kr":!0,"seoul.kr":!0,"ulsan.kr":!0,"*.kw":!0,ky:!0,"edu.ky":!0,"gov.ky":!0,"com.ky":!0,"org.ky":!0,"net.ky":!0,kz:!0,"org.kz":!0,"edu.kz":!0,"net.kz":!0,"gov.kz":!0,"mil.kz":!0,"com.kz":!0,la:!0,"int.la":!0,"net.la":!0,"info.la":!0,"edu.la":!0,"gov.la":!0,"per.la":!0,"com.la":!0,"org.la":!0,lb:!0,"com.lb":!0,"edu.lb":!0,"gov.lb":!0,"net.lb":!0,"org.lb":!0,lc:!0,"com.lc":!0,"net.lc":!0,"co.lc":!0,"org.lc":!0,"edu.lc":!0,"gov.lc":!0,li:!0,lk:!0,"gov.lk":!0,"sch.lk":!0,"net.lk":!0,"int.lk":!0,"com.lk":!0,"org.lk":!0,"edu.lk":!0,"ngo.lk":!0,"soc.lk":!0,"web.lk":!0,"ltd.lk":!0,"assn.lk":!0,"grp.lk":!0,"hotel.lk":!0,"ac.lk":!0,lr:!0,"com.lr":!0,"edu.lr":!0,"gov.lr":!0,"org.lr":!0,"net.lr":!0,ls:!0,"co.ls":!0,"org.ls":!0,lt:!0,"gov.lt":!0,lu:!0,lv:!0,"com.lv":!0,"edu.lv":!0,"gov.lv":!0,"org.lv":!0,"mil.lv":!0,"id.lv":!0,"net.lv":!0,"asn.lv":!0,"conf.lv":!0,ly:!0,"com.ly":!0,"net.ly":!0,"gov.ly":!0,"plc.ly":!0,"edu.ly":!0,"sch.ly":!0,"med.ly":!0,"org.ly":!0,"id.ly":!0,ma:!0,"co.ma":!0,"net.ma":!0,"gov.ma":!0,"org.ma":!0,"ac.ma":!0,"press.ma":!0,mc:!0,"tm.mc":!0,"asso.mc":!0,md:!0,me:!0,"co.me":!0,"net.me":!0,"org.me":!0,"edu.me":!0,"ac.me":!0,"gov.me":!0,"its.me":!0,"priv.me":!0,mg:!0,"org.mg":!0,"nom.mg":!0,"gov.mg":!0,
"prd.mg":!0,"tm.mg":!0,"edu.mg":!0,"mil.mg":!0,"com.mg":!0,"co.mg":!0,mh:!0,mil:!0,mk:!0,"com.mk":!0,"org.mk":!0,"net.mk":!0,"edu.mk":!0,"gov.mk":!0,"inf.mk":!0,"name.mk":!0,ml:!0,"com.ml":!0,"edu.ml":!0,"gouv.ml":!0,"gov.ml":!0,"net.ml":!0,"org.ml":!0,"presse.ml":!0,"*.mm":!0,mn:!0,"gov.mn":!0,"edu.mn":!0,"org.mn":!0,mo:!0,"com.mo":!0,"net.mo":!0,"org.mo":!0,"edu.mo":!0,"gov.mo":!0,mobi:!0,mp:!0,mq:!0,mr:!0,"gov.mr":!0,ms:!0,"com.ms":!0,"edu.ms":!0,"gov.ms":!0,"net.ms":!0,"org.ms":!0,mt:!0,"com.mt":!0,"edu.mt":!0,"net.mt":!0,"org.mt":!0,mu:!0,"com.mu":!0,"net.mu":!0,"org.mu":!0,"gov.mu":!0,"ac.mu":!0,"co.mu":!0,"or.mu":!0,museum:!0,"academy.museum":!0,"agriculture.museum":!0,"air.museum":!0,"airguard.museum":!0,"alabama.museum":!0,"alaska.museum":!0,"amber.museum":!0,"ambulance.museum":!0,"american.museum":!0,"americana.museum":!0,"americanantiques.museum":!0,"americanart.museum":!0,"amsterdam.museum":!0,"and.museum":!0,"annefrank.museum":!0,"anthro.museum":!0,"anthropology.museum":!0,"antiques.museum":!0,"aquarium.museum":!0,"arboretum.museum":!0,"archaeological.museum":!0,"archaeology.museum":!0,"architecture.museum":!0,"art.museum":!0,"artanddesign.museum":!0,"artcenter.museum":!0,"artdeco.museum":!0,"arteducation.museum":!0,"artgallery.museum":!0,"arts.museum":!0,"artsandcrafts.museum":!0,"asmatart.museum":!0,"assassination.museum":!0,"assisi.museum":!0,"association.museum":!0,"astronomy.museum":!0,"atlanta.museum":!0,"austin.museum":!0,"australia.museum":!0,"automotive.museum":!0,"aviation.museum":!0,"axis.museum":!0,"badajoz.museum":!0,"baghdad.museum":!0,"bahn.museum":!0,"bale.museum":!0,"baltimore.museum":!0,"barcelona.museum":!0,"baseball.museum":!0,"basel.museum":!0,"baths.museum":!0,"bauern.museum":!0,"beauxarts.museum":!0,"beeldengeluid.museum":!0,"bellevue.museum":!0,"bergbau.museum":!0,"berkeley.museum":!0,"berlin.museum":!0,"bern.museum":!0,"bible.museum":!0,"bilbao.museum":!0,"bill.museum":!0,"birdart.museum":!0,"birthplace.museum":!0,"bonn.museum":!0,"boston.museum":!0,"botanical.museum":!0,"botanicalgarden.museum":!0,"botanicgarden.museum":!0,"botany.museum":!0,"brandywinevalley.museum":!0,"brasil.museum":!0,"bristol.museum":!0,"british.museum":!0,"britishcolumbia.museum":!0,"broadcast.museum":!0,"brunel.museum":!0,"brussel.museum":!0,"brussels.museum":!0,"bruxelles.museum":!0,"building.museum":!0,"burghof.museum":!0,"bus.museum":!0,"bushey.museum":!0,"cadaques.museum":!0,"california.museum":!0,"cambridge.museum":!0,"can.museum":!0,"canada.museum":!0,"capebreton.museum":!0,"carrier.museum":!0,"cartoonart.museum":!0,"casadelamoneda.museum":!0,"castle.museum":!0,"castres.museum":!0,"celtic.museum":!0,"center.museum":!0,"chattanooga.museum":!0,"cheltenham.museum":!0,"chesapeakebay.museum":!0,"chicago.museum":!0,"children.museum":!0,"childrens.museum":!0,"childrensgarden.museum":!0,"chiropractic.museum":!0,"chocolate.museum":!0,"christiansburg.museum":!0,"cincinnati.museum":!0,"cinema.museum":!0,"circus.museum":!0,"civilisation.museum":!0,"civilization.museum":!0,"civilwar.museum":!0,"clinton.museum":!0,"clock.museum":!0,"coal.museum":!0,"coastaldefence.museum":!0,"cody.museum":!0,"coldwar.museum":!0,"collection.museum":!0,"colonialwilliamsburg.museum":!0,"coloradoplateau.museum":!0,"columbia.museum":!0,"columbus.museum":!0,"communication.museum":!0,"communications.museum":!0,"community.museum":!0,"computer.museum":!0,"computerhistory.museum":!0,"xn--comunicaes-v6a2o.museum":!0,"contemporary.museum":!0,"contemporaryart.museum":!0,"convent.museum":!0,"copenhagen.museum":!0,"corporation.museum":!0,"xn--correios-e-telecomunicaes-ghc29a.museum":!0,"corvette.museum":!0,"costume.museum":!0,"countryestate.museum":!0,"county.museum":!0,"crafts.museum":!0,"cranbrook.museum":!0,"creation.museum":!0,"cultural.museum":!0,"culturalcenter.museum":!0,"culture.museum":!0,"cyber.museum":!0,"cymru.museum":!0,"dali.museum":!0,"dallas.museum":!0,"database.museum":!0,"ddr.museum":!0,"decorativearts.museum":!0,"delaware.museum":!0,"delmenhorst.museum":!0,"denmark.museum":!0,"depot.museum":!0,"design.museum":!0,"detroit.museum":!0,"dinosaur.museum":!0,"discovery.museum":!0,"dolls.museum":!0,"donostia.museum":!0,"durham.museum":!0,"eastafrica.museum":!0,"eastcoast.museum":!0,"education.museum":!0,"educational.museum":!0,"egyptian.museum":!0,"eisenbahn.museum":!0,"elburg.museum":!0,"elvendrell.museum":!0,"embroidery.museum":!0,"encyclopedic.museum":!0,"england.museum":!0,"entomology.museum":!0,"environment.museum":!0,"environmentalconservation.museum":!0,"epilepsy.museum":!0,"essex.museum":!0,"estate.museum":!0,"ethnology.museum":!0,"exeter.museum":!0,"exhibition.museum":!0,"family.museum":!0,"farm.museum":!0,"farmequipment.museum":!0,"farmers.museum":!0,"farmstead.museum":!0,"field.museum":!0,"figueres.museum":!0,"filatelia.museum":!0,"film.museum":!0,"fineart.museum":!0,"finearts.museum":!0,"finland.museum":!0,"flanders.museum":!0,"florida.museum":!0,"force.museum":!0,"fortmissoula.museum":!0,"fortworth.museum":!0,"foundation.museum":!0,"francaise.museum":!0,"frankfurt.museum":!0,"franziskaner.museum":!0,"freemasonry.museum":!0,"freiburg.museum":!0,"fribourg.museum":!0,"frog.museum":!0,"fundacio.museum":!0,"furniture.museum":!0,"gallery.museum":!0,"garden.museum":!0,"gateway.museum":!0,"geelvinck.museum":!0,"gemological.museum":!0,"geology.museum":!0,"georgia.museum":!0,"giessen.museum":!0,"glas.museum":!0,"glass.museum":!0,"gorge.museum":!0,"grandrapids.museum":!0,"graz.museum":!0,"guernsey.museum":!0,"halloffame.museum":!0,"hamburg.museum":!0,"handson.museum":!0,"harvestcelebration.museum":!0,"hawaii.museum":!0,"health.museum":!0,"heimatunduhren.museum":!0,"hellas.museum":!0,"helsinki.museum":!0,"hembygdsforbund.museum":!0,"heritage.museum":!0,"histoire.museum":!0,"historical.museum":!0,"historicalsociety.museum":!0,"historichouses.museum":!0,"historisch.museum":!0,"historisches.museum":!0,"history.museum":!0,"historyofscience.museum":!0,"horology.museum":!0,"house.museum":!0,"humanities.museum":!0,"illustration.museum":!0,"imageandsound.museum":!0,"indian.museum":!0,"indiana.museum":!0,"indianapolis.museum":!0,"indianmarket.museum":!0,"intelligence.museum":!0,"interactive.museum":!0,"iraq.museum":!0,"iron.museum":!0,"isleofman.museum":!0,"jamison.museum":!0,"jefferson.museum":!0,"jerusalem.museum":!0,"jewelry.museum":!0,"jewish.museum":!0,"jewishart.museum":!0,"jfk.museum":!0,"journalism.museum":!0,"judaica.museum":!0,"judygarland.museum":!0,"juedisches.museum":!0,"juif.museum":!0,"karate.museum":!0,"karikatur.museum":!0,"kids.museum":!0,"koebenhavn.museum":!0,"koeln.museum":!0,"kunst.museum":!0,"kunstsammlung.museum":!0,"kunstunddesign.museum":!0,"labor.museum":!0,"labour.museum":!0,"lajolla.museum":!0,"lancashire.museum":!0,"landes.museum":!0,"lans.museum":!0,"xn--lns-qla.museum":!0,"larsson.museum":!0,"lewismiller.museum":!0,"lincoln.museum":!0,"linz.museum":!0,"living.museum":!0,"livinghistory.museum":!0,"localhistory.museum":!0,"london.museum":!0,"losangeles.museum":!0,"louvre.museum":!0,"loyalist.museum":!0,"lucerne.museum":!0,"luxembourg.museum":!0,"luzern.museum":!0,"mad.museum":!0,"madrid.museum":!0,"mallorca.museum":!0,"manchester.museum":!0,"mansion.museum":!0,"mansions.museum":!0,"manx.museum":!0,"marburg.museum":!0,"maritime.museum":!0,"maritimo.museum":!0,"maryland.museum":!0,"marylhurst.museum":!0,"media.museum":!0,"medical.museum":!0,"medizinhistorisches.museum":!0,"meeres.museum":!0,"memorial.museum":!0,"mesaverde.museum":!0,"michigan.museum":!0,"midatlantic.museum":!0,"military.museum":!0,"mill.museum":!0,"miners.museum":!0,"mining.museum":!0,"minnesota.museum":!0,"missile.museum":!0,"missoula.museum":!0,"modern.museum":!0,"moma.museum":!0,"money.museum":!0,"monmouth.museum":!0,"monticello.museum":!0,"montreal.museum":!0,"moscow.museum":!0,"motorcycle.museum":!0,"muenchen.museum":!0,"muenster.museum":!0,"mulhouse.museum":!0,"muncie.museum":!0,"museet.museum":!0,"museumcenter.museum":!0,"museumvereniging.museum":!0,"music.museum":!0,"national.museum":!0,"nationalfirearms.museum":!0,"nationalheritage.museum":!0,"nativeamerican.museum":!0,"naturalhistory.museum":!0,"naturalhistorymuseum.museum":!0,"naturalsciences.museum":!0,"nature.museum":!0,"naturhistorisches.museum":!0,"natuurwetenschappen.museum":!0,"naumburg.museum":!0,"naval.museum":!0,"nebraska.museum":!0,"neues.museum":!0,"newhampshire.museum":!0,"newjersey.museum":!0,"newmexico.museum":!0,"newport.museum":!0,"newspaper.museum":!0,"newyork.museum":!0,"niepce.museum":!0,"norfolk.museum":!0,"north.museum":!0,"nrw.museum":!0,"nuernberg.museum":!0,"nuremberg.museum":!0,"nyc.museum":!0,"nyny.museum":!0,"oceanographic.museum":!0,"oceanographique.museum":!0,"omaha.museum":!0,"online.museum":!0,"ontario.museum":!0,"openair.museum":!0,"oregon.museum":!0,"oregontrail.museum":!0,"otago.museum":!0,"oxford.museum":!0,"pacific.museum":!0,"paderborn.museum":!0,"palace.museum":!0,"paleo.museum":!0,"palmsprings.museum":!0,"panama.museum":!0,"paris.museum":!0,"pasadena.museum":!0,"pharmacy.museum":!0,"philadelphia.museum":!0,"philadelphiaarea.museum":!0,"philately.museum":!0,"phoenix.museum":!0,"photography.museum":!0,"pilots.museum":!0,"pittsburgh.museum":!0,"planetarium.museum":!0,"plantation.museum":!0,"plants.museum":!0,"plaza.museum":!0,"portal.museum":!0,"portland.museum":!0,"portlligat.museum":!0,"posts-and-telecommunications.museum":!0,"preservation.museum":!0,"presidio.museum":!0,"press.museum":!0,"project.museum":!0,"public.museum":!0,"pubol.museum":!0,"quebec.museum":!0,"railroad.museum":!0,"railway.museum":!0,"research.museum":!0,"resistance.museum":!0,"riodejaneiro.museum":!0,"rochester.museum":!0,"rockart.museum":!0,"roma.museum":!0,"russia.museum":!0,"saintlouis.museum":!0,"salem.museum":!0,"salvadordali.museum":!0,"salzburg.museum":!0,"sandiego.museum":!0,"sanfrancisco.museum":!0,"santabarbara.museum":!0,"santacruz.museum":!0,"santafe.museum":!0,"saskatchewan.museum":!0,"satx.museum":!0,"savannahga.museum":!0,"schlesisches.museum":!0,"schoenbrunn.museum":!0,"schokoladen.museum":!0,"school.museum":!0,"schweiz.museum":!0,"science.museum":!0,"scienceandhistory.museum":!0,"scienceandindustry.museum":!0,"sciencecenter.museum":!0,"sciencecenters.museum":!0,"science-fiction.museum":!0,"sciencehistory.museum":!0,"sciences.museum":!0,"sciencesnaturelles.museum":!0,"scotland.museum":!0,"seaport.museum":!0,"settlement.museum":!0,"settlers.museum":!0,"shell.museum":!0,"sherbrooke.museum":!0,"sibenik.museum":!0,"silk.museum":!0,"ski.museum":!0,"skole.museum":!0,"society.museum":!0,"sologne.museum":!0,"soundandvision.museum":!0,"southcarolina.museum":!0,"southwest.museum":!0,"space.museum":!0,"spy.museum":!0,"square.museum":!0,"stadt.museum":!0,"stalbans.museum":!0,"starnberg.museum":!0,"state.museum":!0,"stateofdelaware.museum":!0,"station.museum":!0,"steam.museum":!0,"steiermark.museum":!0,"stjohn.museum":!0,"stockholm.museum":!0,"stpetersburg.museum":!0,"stuttgart.museum":!0,"suisse.museum":!0,"surgeonshall.museum":!0,"surrey.museum":!0,"svizzera.museum":!0,"sweden.museum":!0,"sydney.museum":!0,"tank.museum":!0,"tcm.museum":!0,"technology.museum":!0,"telekommunikation.museum":!0,"television.museum":!0,"texas.museum":!0,"textile.museum":!0,"theater.museum":!0,"time.museum":!0,"timekeeping.museum":!0,"topology.museum":!0,"torino.museum":!0,"touch.museum":!0,"town.museum":!0,"transport.museum":!0,"tree.museum":!0,"trolley.museum":!0,"trust.museum":!0,"trustee.museum":!0,"uhren.museum":!0,"ulm.museum":!0,"undersea.museum":!0,"university.museum":!0,"usa.museum":!0,"usantiques.museum":!0,"usarts.museum":!0,"uscountryestate.museum":!0,"usculture.museum":!0,"usdecorativearts.museum":!0,"usgarden.museum":!0,"ushistory.museum":!0,"ushuaia.museum":!0,"uslivinghistory.museum":!0,"utah.museum":!0,"uvic.museum":!0,"valley.museum":!0,"vantaa.museum":!0,"versailles.museum":!0,"viking.museum":!0,"village.museum":!0,"virginia.museum":!0,"virtual.museum":!0,"virtuel.museum":!0,"vlaanderen.museum":!0,"volkenkunde.museum":!0,"wales.museum":!0,"wallonie.museum":!0,"war.museum":!0,"washingtondc.museum":!0,"watchandclock.museum":!0,"watch-and-clock.museum":!0,"western.museum":!0,"westfalen.museum":!0,"whaling.museum":!0,"wildlife.museum":!0,"williamsburg.museum":!0,"windmill.museum":!0,"workshop.museum":!0,"york.museum":!0,"yorkshire.museum":!0,"yosemite.museum":!0,"youth.museum":!0,"zoological.museum":!0,"zoology.museum":!0,"xn--9dbhblg6di.museum":!0,"xn--h1aegh.museum":!0,mv:!0,"aero.mv":!0,"biz.mv":!0,"com.mv":!0,"coop.mv":!0,"edu.mv":!0,"gov.mv":!0,"info.mv":!0,"int.mv":!0,"mil.mv":!0,"museum.mv":!0,"name.mv":!0,"net.mv":!0,"org.mv":!0,"pro.mv":!0,mw:!0,"ac.mw":!0,"biz.mw":!0,"co.mw":!0,"com.mw":!0,"coop.mw":!0,"edu.mw":!0,"gov.mw":!0,"int.mw":!0,"museum.mw":!0,"net.mw":!0,"org.mw":!0,mx:!0,"com.mx":!0,"org.mx":!0,"gob.mx":!0,"edu.mx":!0,"net.mx":!0,my:!0,"com.my":!0,"net.my":!0,"org.my":!0,"gov.my":!0,"edu.my":!0,"mil.my":!0,"name.my":!0,mz:!0,"ac.mz":!0,"adv.mz":!0,"co.mz":!0,"edu.mz":!0,"gov.mz":!0,"mil.mz":!0,"net.mz":!0,"org.mz":!0,na:!0,"info.na":!0,"pro.na":!0,"name.na":!0,"school.na":!0,"or.na":!0,"dr.na":!0,"us.na":!0,"mx.na":!0,"ca.na":!0,"in.na":!0,"cc.na":!0,"tv.na":!0,"ws.na":!0,"mobi.na":!0,"co.na":!0,"com.na":!0,"org.na":!0,name:!0,nc:!0,"asso.nc":!0,ne:!0,net:!0,nf:!0,"com.nf":!0,"net.nf":!0,"per.nf":!0,"rec.nf":!0,"web.nf":!0,"arts.nf":!0,"firm.nf":!0,"info.nf":!0,"other.nf":!0,"store.nf":!0,ng:!0,"com.ng":!0,"edu.ng":!0,"gov.ng":!0,"i.ng":!0,"mil.ng":!0,"mobi.ng":!0,"name.ng":!0,"net.ng":!0,"org.ng":!0,"sch.ng":!0,"com.ni":!0,"gob.ni":!0,"edu.ni":!0,"org.ni":!0,"nom.ni":!0,"net.ni":!0,"mil.ni":!0,"co.ni":!0,"biz.ni":!0,"web.ni":!0,"int.ni":!0,"ac.ni":!0,"in.ni":!0,"info.ni":!0,nl:!0,"bv.nl":!0,no:!0,"fhs.no":!0,"vgs.no":!0,"fylkesbibl.no":!0,"folkebibl.no":!0,"museum.no":!0,"idrett.no":!0,"priv.no":!0,"mil.no":!0,"stat.no":!0,"dep.no":!0,"kommune.no":!0,"herad.no":!0,"aa.no":!0,"ah.no":!0,"bu.no":!0,"fm.no":!0,"hl.no":!0,"hm.no":!0,"jan-mayen.no":!0,"mr.no":!0,"nl.no":!0,"nt.no":!0,"of.no":!0,"ol.no":!0,"oslo.no":!0,"rl.no":!0,"sf.no":!0,"st.no":!0,"svalbard.no":!0,"tm.no":!0,"tr.no":!0,"va.no":!0,"vf.no":!0,"gs.aa.no":!0,"gs.ah.no":!0,"gs.bu.no":!0,"gs.fm.no":!0,"gs.hl.no":!0,"gs.hm.no":!0,"gs.jan-mayen.no":!0,"gs.mr.no":!0,"gs.nl.no":!0,"gs.nt.no":!0,"gs.of.no":!0,"gs.ol.no":!0,"gs.oslo.no":!0,"gs.rl.no":!0,"gs.sf.no":!0,"gs.st.no":!0,"gs.svalbard.no":!0,"gs.tm.no":!0,"gs.tr.no":!0,"gs.va.no":!0,"gs.vf.no":!0,"akrehamn.no":!0,"xn--krehamn-dxa.no":!0,"algard.no":!0,"xn--lgrd-poac.no":!0,"arna.no":!0,"brumunddal.no":!0,"bryne.no":!0,"bronnoysund.no":!0,"xn--brnnysund-m8ac.no":!0,"drobak.no":!0,"xn--drbak-wua.no":!0,"egersund.no":!0,"fetsund.no":!0,"floro.no":!0,"xn--flor-jra.no":!0,"fredrikstad.no":!0,"hokksund.no":!0,"honefoss.no":!0,"xn--hnefoss-q1a.no":!0,"jessheim.no":!0,"jorpeland.no":!0,"xn--jrpeland-54a.no":!0,"kirkenes.no":!0,"kopervik.no":!0,"krokstadelva.no":!0,"langevag.no":!0,"xn--langevg-jxa.no":!0,"leirvik.no":!0,"mjondalen.no":!0,"xn--mjndalen-64a.no":!0,"mo-i-rana.no":!0,"mosjoen.no":!0,"xn--mosjen-eya.no":!0,"nesoddtangen.no":!0,"orkanger.no":!0,"osoyro.no":!0,"xn--osyro-wua.no":!0,"raholt.no":!0,"xn--rholt-mra.no":!0,"sandnessjoen.no":!0,"xn--sandnessjen-ogb.no":!0,"skedsmokorset.no":!0,"slattum.no":!0,"spjelkavik.no":!0,"stathelle.no":!0,"stavern.no":!0,"stjordalshalsen.no":!0,"xn--stjrdalshalsen-sqb.no":!0,"tananger.no":!0,"tranby.no":!0,"vossevangen.no":!0,"afjord.no":!0,"xn--fjord-lra.no":!0,"agdenes.no":!0,"al.no":!0,"xn--l-1fa.no":!0,"alesund.no":!0,"xn--lesund-hua.no":!0,"alstahaug.no":!0,"alta.no":!0,"xn--lt-liac.no":!0,"alaheadju.no":!0,"xn--laheadju-7ya.no":!0,"alvdal.no":!0,"amli.no":!0,"xn--mli-tla.no":!0,"amot.no":!0,"xn--mot-tla.no":!0,"andebu.no":!0,"andoy.no":!0,"xn--andy-ira.no":!0,"andasuolo.no":!0,"ardal.no":!0,"xn--rdal-poa.no":!0,"aremark.no":!0,"arendal.no":!0,"xn--s-1fa.no":!0,"aseral.no":!0,"xn--seral-lra.no":!0,"asker.no":!0,"askim.no":!0,"askvoll.no":!0,"askoy.no":!0,"xn--asky-ira.no":!0,"asnes.no":!0,"xn--snes-poa.no":!0,"audnedaln.no":!0,"aukra.no":!0,"aure.no":!0,"aurland.no":!0,"aurskog-holand.no":!0,"xn--aurskog-hland-jnb.no":!0,"austevoll.no":!0,"austrheim.no":!0,"averoy.no":!0,"xn--avery-yua.no":!0,"balestrand.no":!0,"ballangen.no":!0,"balat.no":!0,"xn--blt-elab.no":!0,"balsfjord.no":!0,"bahccavuotna.no":!0,"xn--bhccavuotna-k7a.no":!0,"bamble.no":!0,"bardu.no":!0,"beardu.no":!0,"beiarn.no":!0,"bajddar.no":!0,"xn--bjddar-pta.no":!0,"baidar.no":!0,"xn--bidr-5nac.no":!0,"berg.no":!0,"bergen.no":!0,"berlevag.no":!0,"xn--berlevg-jxa.no":!0,"bearalvahki.no":!0,"xn--bearalvhki-y4a.no":!0,"bindal.no":!0,"birkenes.no":!0,"bjarkoy.no":!0,"xn--bjarky-fya.no":!0,"bjerkreim.no":!0,"bjugn.no":!0,"bodo.no":!0,"xn--bod-2na.no":!0,"badaddja.no":!0,"xn--bdddj-mrabd.no":!0,"budejju.no":!0,"bokn.no":!0,"bremanger.no":!0,"bronnoy.no":!0,"xn--brnny-wuac.no":!0,"bygland.no":!0,"bykle.no":!0,"barum.no":!0,"xn--brum-voa.no":!0,"bo.telemark.no":!0,"xn--b-5ga.telemark.no":!0,"bo.nordland.no":!0,"xn--b-5ga.nordland.no":!0,"bievat.no":!0,"xn--bievt-0qa.no":!0,"bomlo.no":!0,"xn--bmlo-gra.no":!0,"batsfjord.no":!0,"xn--btsfjord-9za.no":!0,"bahcavuotna.no":!0,"xn--bhcavuotna-s4a.no":!0,"dovre.no":!0,"drammen.no":!0,"drangedal.no":!0,"dyroy.no":!0,"xn--dyry-ira.no":!0,"donna.no":!0,"xn--dnna-gra.no":!0,"eid.no":!0,"eidfjord.no":!0,"eidsberg.no":!0,"eidskog.no":!0,"eidsvoll.no":!0,"eigersund.no":!0,"elverum.no":!0,"enebakk.no":!0,"engerdal.no":!0,"etne.no":!0,"etnedal.no":!0,"evenes.no":!0,"evenassi.no":!0,"xn--eveni-0qa01ga.no":!0,"evje-og-hornnes.no":!0,"farsund.no":!0,"fauske.no":!0,"fuossko.no":!0,"fuoisku.no":!0,"fedje.no":!0,"fet.no":!0,"finnoy.no":!0,"xn--finny-yua.no":!0,"fitjar.no":!0,"fjaler.no":!0,"fjell.no":!0,"flakstad.no":!0,"flatanger.no":!0,"flekkefjord.no":!0,"flesberg.no":!0,"flora.no":!0,"fla.no":!0,"xn--fl-zia.no":!0,"folldal.no":!0,"forsand.no":!0,"fosnes.no":!0,"frei.no":!0,"frogn.no":!0,"froland.no":!0,"frosta.no":!0,"frana.no":!0,"xn--frna-woa.no":!0,"froya.no":!0,"xn--frya-hra.no":!0,"fusa.no":!0,"fyresdal.no":!0,"forde.no":!0,"xn--frde-gra.no":!0,"gamvik.no":!0,"gangaviika.no":!0,"xn--ggaviika-8ya47h.no":!0,"gaular.no":!0,"gausdal.no":!0,"gildeskal.no":!0,"xn--gildeskl-g0a.no":!0,"giske.no":!0,"gjemnes.no":!0,"gjerdrum.no":!0,"gjerstad.no":!0,"gjesdal.no":!0,"gjovik.no":!0,"xn--gjvik-wua.no":!0,"gloppen.no":!0,"gol.no":!0,"gran.no":!0,"grane.no":!0,"granvin.no":!0,"gratangen.no":!0,"grimstad.no":!0,"grong.no":!0,"kraanghke.no":!0,"xn--kranghke-b0a.no":!0,"grue.no":!0,"gulen.no":!0,"hadsel.no":!0,"halden.no":!0,"halsa.no":!0,"hamar.no":!0,"hamaroy.no":!0,"habmer.no":!0,"xn--hbmer-xqa.no":!0,"hapmir.no":!0,"xn--hpmir-xqa.no":!0,"hammerfest.no":!0,"hammarfeasta.no":!0,"xn--hmmrfeasta-s4ac.no":!0,"haram.no":!0,"hareid.no":!0,"harstad.no":!0,"hasvik.no":!0,"aknoluokta.no":!0,"xn--koluokta-7ya57h.no":!0,"hattfjelldal.no":!0,"aarborte.no":!0,"haugesund.no":!0,"hemne.no":!0,"hemnes.no":!0,"hemsedal.no":!0,"heroy.more-og-romsdal.no":!0,"xn--hery-ira.xn--mre-og-romsdal-qqb.no":!0,"heroy.nordland.no":!0,"xn--hery-ira.nordland.no":!0,"hitra.no":!0,"hjartdal.no":!0,"hjelmeland.no":!0,"hobol.no":!0,"xn--hobl-ira.no":!0,"hof.no":!0,"hol.no":!0,"hole.no":!0,"holmestrand.no":!0,"holtalen.no":!0,"xn--holtlen-hxa.no":!0,"hornindal.no":!0,"horten.no":!0,"hurdal.no":!0,"hurum.no":!0,"hvaler.no":!0,"hyllestad.no":!0,"hagebostad.no":!0,"xn--hgebostad-g3a.no":!0,"hoyanger.no":!0,"xn--hyanger-q1a.no":!0,"hoylandet.no":!0,"xn--hylandet-54a.no":!0,"ha.no":!0,"xn--h-2fa.no":!0,"ibestad.no":!0,"inderoy.no":!0,"xn--indery-fya.no":!0,"iveland.no":!0,"jevnaker.no":!0,"jondal.no":!0,"jolster.no":!0,"xn--jlster-bya.no":!0,"karasjok.no":!0,"karasjohka.no":!0,"xn--krjohka-hwab49j.no":!0,"karlsoy.no":!0,"galsa.no":!0,"xn--gls-elac.no":!0,"karmoy.no":!0,"xn--karmy-yua.no":!0,"kautokeino.no":!0,"guovdageaidnu.no":!0,"klepp.no":!0,"klabu.no":!0,"xn--klbu-woa.no":!0,"kongsberg.no":!0,"kongsvinger.no":!0,"kragero.no":!0,"xn--krager-gya.no":!0,"kristiansand.no":!0,"kristiansund.no":!0,"krodsherad.no":!0,"xn--krdsherad-m8a.no":!0,"kvalsund.no":!0,"rahkkeravju.no":!0,"xn--rhkkervju-01af.no":!0,"kvam.no":!0,"kvinesdal.no":!0,"kvinnherad.no":!0,"kviteseid.no":!0,"kvitsoy.no":!0,"xn--kvitsy-fya.no":!0,"kvafjord.no":!0,"xn--kvfjord-nxa.no":!0,"giehtavuoatna.no":!0,"kvanangen.no":!0,"xn--kvnangen-k0a.no":!0,"navuotna.no":!0,"xn--nvuotna-hwa.no":!0,"kafjord.no":!0,"xn--kfjord-iua.no":!0,"gaivuotna.no":!0,"xn--givuotna-8ya.no":!0,"larvik.no":!0,"lavangen.no":!0,"lavagis.no":!0,"loabat.no":!0,"xn--loabt-0qa.no":!0,"lebesby.no":!0,"davvesiida.no":!0,"leikanger.no":!0,"leirfjord.no":!0,"leka.no":!0,"leksvik.no":!0,"lenvik.no":!0,"leangaviika.no":!0,"xn--leagaviika-52b.no":!0,"lesja.no":!0,"levanger.no":!0,"lier.no":!0,"lierne.no":!0,"lillehammer.no":!0,"lillesand.no":!0,"lindesnes.no":!0,"lindas.no":!0,"xn--linds-pra.no":!0,"lom.no":!0,"loppa.no":!0,"lahppi.no":!0,"xn--lhppi-xqa.no":!0,"lund.no":!0,"lunner.no":!0,"luroy.no":!0,"xn--lury-ira.no":!0,"luster.no":!0,"lyngdal.no":!0,"lyngen.no":!0,"ivgu.no":!0,"lardal.no":!0,"lerdal.no":!0,"xn--lrdal-sra.no":!0,"lodingen.no":!0,"xn--ldingen-q1a.no":!0,"lorenskog.no":!0,"xn--lrenskog-54a.no":!0,"loten.no":!0,"xn--lten-gra.no":!0,"malvik.no":!0,"masoy.no":!0,"xn--msy-ula0h.no":!0,"muosat.no":!0,"xn--muost-0qa.no":!0,"mandal.no":!0,"marker.no":!0,"marnardal.no":!0,"masfjorden.no":!0,"meland.no":!0,"meldal.no":!0,"melhus.no":!0,"meloy.no":!0,"xn--mely-ira.no":!0,"meraker.no":!0,"xn--merker-kua.no":!0,"moareke.no":!0,"xn--moreke-jua.no":!0,"midsund.no":!0,"midtre-gauldal.no":!0,"modalen.no":!0,"modum.no":!0,"molde.no":!0,"moskenes.no":!0,"moss.no":!0,"mosvik.no":!0,"malselv.no":!0,"xn--mlselv-iua.no":!0,"malatvuopmi.no":!0,"xn--mlatvuopmi-s4a.no":!0,"namdalseid.no":!0,"aejrie.no":!0,"namsos.no":!0,"namsskogan.no":!0,"naamesjevuemie.no":!0,"xn--nmesjevuemie-tcba.no":!0,"laakesvuemie.no":!0,"nannestad.no":!0,"narvik.no":!0,"narviika.no":!0,"naustdal.no":!0,"nedre-eiker.no":!0,"nes.akershus.no":!0,"nes.buskerud.no":!0,"nesna.no":!0,"nesodden.no":!0,"nesseby.no":!0,"unjarga.no":!0,"xn--unjrga-rta.no":!0,"nesset.no":!0,"nissedal.no":!0,"nittedal.no":!0,"nord-aurdal.no":!0,"nord-fron.no":!0,"nord-odal.no":!0,"norddal.no":!0,"nordkapp.no":!0,"davvenjarga.no":!0,"xn--davvenjrga-y4a.no":!0,"nordre-land.no":!0,"nordreisa.no":!0,"raisa.no":!0,"xn--risa-5na.no":!0,"nore-og-uvdal.no":!0,"notodden.no":!0,"naroy.no":!0,"xn--nry-yla5g.no":!0,"notteroy.no":!0,"xn--nttery-byae.no":!0,"odda.no":!0,"oksnes.no":!0,"xn--ksnes-uua.no":!0,"oppdal.no":!0,"oppegard.no":!0,"xn--oppegrd-ixa.no":!0,"orkdal.no":!0,"orland.no":!0,"xn--rland-uua.no":!0,"orskog.no":!0,"xn--rskog-uua.no":!0,"orsta.no":!0,"xn--rsta-fra.no":!0,"os.hedmark.no":!0,"os.hordaland.no":!0,"osen.no":!0,"osteroy.no":!0,"xn--ostery-fya.no":!0,"ostre-toten.no":!0,"xn--stre-toten-zcb.no":!0,"overhalla.no":!0,"ovre-eiker.no":!0,"xn--vre-eiker-k8a.no":!0,"oyer.no":!0,"xn--yer-zna.no":!0,"oygarden.no":!0,"xn--ygarden-p1a.no":!0,"oystre-slidre.no":!0,"xn--ystre-slidre-ujb.no":!0,"porsanger.no":!0,"porsangu.no":!0,"xn--porsgu-sta26f.no":!0,"porsgrunn.no":!0,"radoy.no":!0,"xn--rady-ira.no":!0,"rakkestad.no":!0,"rana.no":!0,"ruovat.no":!0,"randaberg.no":!0,"rauma.no":!0,"rendalen.no":!0,"rennebu.no":!0,"rennesoy.no":!0,"xn--rennesy-v1a.no":!0,"rindal.no":!0,"ringebu.no":!0,"ringerike.no":!0,"ringsaker.no":!0,"rissa.no":!0,"risor.no":!0,"xn--risr-ira.no":!0,"roan.no":!0,"rollag.no":!0,"rygge.no":!0,"ralingen.no":!0,"xn--rlingen-mxa.no":!0,"rodoy.no":!0,"xn--rdy-0nab.no":!0,"romskog.no":!0,"xn--rmskog-bya.no":!0,"roros.no":!0,"xn--rros-gra.no":!0,"rost.no":!0,"xn--rst-0na.no":!0,"royken.no":!0,"xn--ryken-vua.no":!0,"royrvik.no":!0,"xn--ryrvik-bya.no":!0,"rade.no":!0,"xn--rde-ula.no":!0,"salangen.no":!0,"siellak.no":!0,"saltdal.no":!0,"salat.no":!0,"xn--slt-elab.no":!0,"xn--slat-5na.no":!0,"samnanger.no":!0,"sande.more-og-romsdal.no":!0,"sande.xn--mre-og-romsdal-qqb.no":!0,"sande.vestfold.no":!0,"sandefjord.no":!0,"sandnes.no":!0,"sandoy.no":!0,"xn--sandy-yua.no":!0,"sarpsborg.no":!0,"sauda.no":!0,"sauherad.no":!0,"sel.no":!0,"selbu.no":!0,"selje.no":!0,"seljord.no":!0,"sigdal.no":!0,"siljan.no":!0,"sirdal.no":!0,"skaun.no":!0,"skedsmo.no":!0,"ski.no":!0,"skien.no":!0,"skiptvet.no":!0,"skjervoy.no":!0,"xn--skjervy-v1a.no":!0,"skierva.no":!0,"xn--skierv-uta.no":!0,"skjak.no":!0,"xn--skjk-soa.no":!0,"skodje.no":!0,"skanland.no":!0,"xn--sknland-fxa.no":!0,"skanit.no":!0,"xn--sknit-yqa.no":!0,"smola.no":!0,"xn--smla-hra.no":!0,"snillfjord.no":!0,"snasa.no":!0,"xn--snsa-roa.no":!0,"snoasa.no":!0,"snaase.no":!0,"xn--snase-nra.no":!0,"sogndal.no":!0,"sokndal.no":!0,"sola.no":!0,"solund.no":!0,"songdalen.no":!0,"sortland.no":!0,"spydeberg.no":!0,"stange.no":!0,"stavanger.no":!0,"steigen.no":!0,"steinkjer.no":!0,"stjordal.no":!0,"xn--stjrdal-s1a.no":!0,"stokke.no":!0,"stor-elvdal.no":!0,"stord.no":!0,"stordal.no":!0,"storfjord.no":!0,"omasvuotna.no":!0,"strand.no":!0,"stranda.no":!0,"stryn.no":!0,"sula.no":!0,"suldal.no":!0,"sund.no":!0,"sunndal.no":!0,"surnadal.no":!0,"sveio.no":!0,"svelvik.no":!0,"sykkylven.no":!0,"sogne.no":!0,"xn--sgne-gra.no":!0,"somna.no":!0,"xn--smna-gra.no":!0,"sondre-land.no":!0,"xn--sndre-land-0cb.no":!0,"sor-aurdal.no":!0,"xn--sr-aurdal-l8a.no":!0,"sor-fron.no":!0,"xn--sr-fron-q1a.no":!0,"sor-odal.no":!0,"xn--sr-odal-q1a.no":!0,"sor-varanger.no":!0,"xn--sr-varanger-ggb.no":!0,"matta-varjjat.no":!0,"xn--mtta-vrjjat-k7af.no":!0,"sorfold.no":!0,"xn--srfold-bya.no":!0,"sorreisa.no":!0,"xn--srreisa-q1a.no":!0,"sorum.no":!0,"xn--srum-gra.no":!0,"tana.no":!0,"deatnu.no":!0,"time.no":!0,"tingvoll.no":!0,"tinn.no":!0,"tjeldsund.no":!0,"dielddanuorri.no":!0,"tjome.no":!0,"xn--tjme-hra.no":!0,"tokke.no":!0,"tolga.no":!0,"torsken.no":!0,"tranoy.no":!0,"xn--trany-yua.no":!0,"tromso.no":!0,"xn--troms-zua.no":!0,"tromsa.no":!0,"romsa.no":!0,"trondheim.no":!0,"troandin.no":!0,"trysil.no":!0,"trana.no":!0,"xn--trna-woa.no":!0,"trogstad.no":!0,"xn--trgstad-r1a.no":!0,"tvedestrand.no":!0,"tydal.no":!0,"tynset.no":!0,"tysfjord.no":!0,"divtasvuodna.no":!0,"divttasvuotna.no":!0,"tysnes.no":!0,"tysvar.no":!0,"xn--tysvr-vra.no":!0,"tonsberg.no":!0,"xn--tnsberg-q1a.no":!0,"ullensaker.no":!0,"ullensvang.no":!0,"ulvik.no":!0,"utsira.no":!0,"vadso.no":!0,"xn--vads-jra.no":!0,"cahcesuolo.no":!0,"xn--hcesuolo-7ya35b.no":!0,"vaksdal.no":!0,"valle.no":!0,"vang.no":!0,"vanylven.no":!0,"vardo.no":!0,"xn--vard-jra.no":!0,"varggat.no":!0,"xn--vrggt-xqad.no":!0,"vefsn.no":!0,"vaapste.no":!0,"vega.no":!0,"vegarshei.no":!0,"xn--vegrshei-c0a.no":!0,"vennesla.no":!0,"verdal.no":!0,"verran.no":!0,"vestby.no":!0,"vestnes.no":!0,"vestre-slidre.no":!0,"vestre-toten.no":!0,"vestvagoy.no":!0,"xn--vestvgy-ixa6o.no":!0,"vevelstad.no":!0,"vik.no":!0,"vikna.no":!0,"vindafjord.no":!0,"volda.no":!0,"voss.no":!0,"varoy.no":!0,"xn--vry-yla5g.no":!0,"vagan.no":!0,"xn--vgan-qoa.no":!0,"voagat.no":!0,"vagsoy.no":!0,"xn--vgsy-qoa0j.no":!0,"vaga.no":!0,"xn--vg-yiab.no":!0,"valer.ostfold.no":!0,"xn--vler-qoa.xn--stfold-9xa.no":!0,"valer.hedmark.no":!0,"xn--vler-qoa.hedmark.no":!0,"*.np":!0,nr:!0,"biz.nr":!0,"info.nr":!0,"gov.nr":!0,"edu.nr":!0,"org.nr":!0,"net.nr":!0,"com.nr":!0,nu:!0,nz:!0,"ac.nz":!0,"co.nz":!0,"cri.nz":!0,"geek.nz":!0,"gen.nz":!0,"govt.nz":!0,"health.nz":!0,"iwi.nz":!0,"kiwi.nz":!0,"maori.nz":!0,"mil.nz":!0,"xn--mori-qsa.nz":!0,"net.nz":!0,"org.nz":!0,"parliament.nz":!0,"school.nz":!0,om:!0,"co.om":!0,"com.om":!0,"edu.om":!0,"gov.om":!0,"med.om":!0,"museum.om":!0,"net.om":!0,"org.om":!0,"pro.om":!0,org:!0,pa:!0,"ac.pa":!0,"gob.pa":!0,"com.pa":!0,"org.pa":!0,"sld.pa":!0,"edu.pa":!0,"net.pa":!0,"ing.pa":!0,"abo.pa":!0,"med.pa":!0,"nom.pa":!0,pe:!0,"edu.pe":!0,"gob.pe":!0,"nom.pe":!0,"mil.pe":!0,"org.pe":!0,"com.pe":!0,"net.pe":!0,pf:!0,"com.pf":!0,"org.pf":!0,"edu.pf":!0,"*.pg":!0,ph:!0,"com.ph":!0,"net.ph":!0,"org.ph":!0,"gov.ph":!0,"edu.ph":!0,"ngo.ph":!0,"mil.ph":!0,"i.ph":!0,pk:!0,"com.pk":!0,"net.pk":!0,"edu.pk":!0,"org.pk":!0,"fam.pk":!0,"biz.pk":!0,"web.pk":!0,"gov.pk":!0,"gob.pk":!0,"gok.pk":!0,"gon.pk":!0,"gop.pk":!0,"gos.pk":!0,"info.pk":!0,pl:!0,"com.pl":!0,"net.pl":!0,"org.pl":!0,"aid.pl":!0,"agro.pl":!0,"atm.pl":!0,"auto.pl":!0,"biz.pl":!0,"edu.pl":!0,"gmina.pl":!0,"gsm.pl":!0,"info.pl":!0,"mail.pl":!0,"miasta.pl":!0,"media.pl":!0,"mil.pl":!0,"nieruchomosci.pl":!0,"nom.pl":!0,"pc.pl":!0,"powiat.pl":!0,"priv.pl":!0,"realestate.pl":!0,"rel.pl":!0,"sex.pl":!0,"shop.pl":!0,"sklep.pl":!0,"sos.pl":!0,"szkola.pl":!0,"targi.pl":!0,"tm.pl":!0,"tourism.pl":!0,"travel.pl":!0,"turystyka.pl":!0,"gov.pl":!0,"ap.gov.pl":!0,"ic.gov.pl":!0,"is.gov.pl":!0,"us.gov.pl":!0,"kmpsp.gov.pl":!0,"kppsp.gov.pl":!0,"kwpsp.gov.pl":!0,"psp.gov.pl":!0,"wskr.gov.pl":!0,"kwp.gov.pl":!0,"mw.gov.pl":!0,"ug.gov.pl":!0,"um.gov.pl":!0,"umig.gov.pl":!0,"ugim.gov.pl":!0,"upow.gov.pl":!0,"uw.gov.pl":!0,"starostwo.gov.pl":!0,"pa.gov.pl":!0,"po.gov.pl":!0,"psse.gov.pl":!0,"pup.gov.pl":!0,"rzgw.gov.pl":!0,"sa.gov.pl":!0,"so.gov.pl":!0,"sr.gov.pl":!0,"wsa.gov.pl":!0,"sko.gov.pl":!0,"uzs.gov.pl":!0,"wiih.gov.pl":!0,"winb.gov.pl":!0,"pinb.gov.pl":!0,"wios.gov.pl":!0,"witd.gov.pl":!0,"wzmiuw.gov.pl":!0,"piw.gov.pl":!0,"wiw.gov.pl":!0,"griw.gov.pl":!0,"wif.gov.pl":!0,"oum.gov.pl":!0,"sdn.gov.pl":!0,"zp.gov.pl":!0,"uppo.gov.pl":!0,"mup.gov.pl":!0,"wuoz.gov.pl":!0,"konsulat.gov.pl":!0,"oirm.gov.pl":!0,"augustow.pl":!0,"babia-gora.pl":!0,"bedzin.pl":!0,"beskidy.pl":!0,"bialowieza.pl":!0,"bialystok.pl":!0,"bielawa.pl":!0,"bieszczady.pl":!0,"boleslawiec.pl":!0,"bydgoszcz.pl":!0,"bytom.pl":!0,"cieszyn.pl":!0,"czeladz.pl":!0,"czest.pl":!0,"dlugoleka.pl":!0,"elblag.pl":!0,"elk.pl":!0,"glogow.pl":!0,"gniezno.pl":!0,"gorlice.pl":!0,"grajewo.pl":!0,"ilawa.pl":!0,"jaworzno.pl":!0,"jelenia-gora.pl":!0,"jgora.pl":!0,"kalisz.pl":!0,"kazimierz-dolny.pl":!0,"karpacz.pl":!0,"kartuzy.pl":!0,"kaszuby.pl":!0,"katowice.pl":!0,"kepno.pl":!0,"ketrzyn.pl":!0,"klodzko.pl":!0,"kobierzyce.pl":!0,"kolobrzeg.pl":!0,"konin.pl":!0,"konskowola.pl":!0,"kutno.pl":!0,"lapy.pl":!0,"lebork.pl":!0,"legnica.pl":!0,"lezajsk.pl":!0,"limanowa.pl":!0,"lomza.pl":!0,"lowicz.pl":!0,"lubin.pl":!0,"lukow.pl":!0,"malbork.pl":!0,"malopolska.pl":!0,"mazowsze.pl":!0,"mazury.pl":!0,"mielec.pl":!0,"mielno.pl":!0,"mragowo.pl":!0,"naklo.pl":!0,"nowaruda.pl":!0,"nysa.pl":!0,"olawa.pl":!0,"olecko.pl":!0,"olkusz.pl":!0,"olsztyn.pl":!0,"opoczno.pl":!0,"opole.pl":!0,"ostroda.pl":!0,"ostroleka.pl":!0,"ostrowiec.pl":!0,"ostrowwlkp.pl":!0,"pila.pl":!0,"pisz.pl":!0,"podhale.pl":!0,"podlasie.pl":!0,"polkowice.pl":!0,"pomorze.pl":!0,"pomorskie.pl":!0,"prochowice.pl":!0,"pruszkow.pl":!0,"przeworsk.pl":!0,"pulawy.pl":!0,"radom.pl":!0,"rawa-maz.pl":!0,"rybnik.pl":!0,"rzeszow.pl":!0,"sanok.pl":!0,"sejny.pl":!0,"slask.pl":!0,"slupsk.pl":!0,"sosnowiec.pl":!0,"stalowa-wola.pl":!0,"skoczow.pl":!0,"starachowice.pl":!0,"stargard.pl":!0,"suwalki.pl":!0,"swidnica.pl":!0,"swiebodzin.pl":!0,"swinoujscie.pl":!0,"szczecin.pl":!0,"szczytno.pl":!0,"tarnobrzeg.pl":!0,"tgory.pl":!0,"turek.pl":!0,"tychy.pl":!0,"ustka.pl":!0,"walbrzych.pl":!0,"warmia.pl":!0,"warszawa.pl":!0,"waw.pl":!0,"wegrow.pl":!0,"wielun.pl":!0,"wlocl.pl":!0,"wloclawek.pl":!0,"wodzislaw.pl":!0,"wolomin.pl":!0,"wroclaw.pl":!0,"zachpomor.pl":!0,"zagan.pl":!0,"zarow.pl":!0,"zgora.pl":!0,"zgorzelec.pl":!0,pm:!0,pn:!0,"gov.pn":!0,"co.pn":!0,"org.pn":!0,"edu.pn":!0,"net.pn":!0,post:!0,pr:!0,"com.pr":!0,"net.pr":!0,"org.pr":!0,"gov.pr":!0,"edu.pr":!0,"isla.pr":!0,"pro.pr":!0,"biz.pr":!0,"info.pr":!0,"name.pr":!0,"est.pr":!0,"prof.pr":!0,"ac.pr":!0,pro:!0,"aaa.pro":!0,"aca.pro":!0,"acct.pro":!0,"avocat.pro":!0,"bar.pro":!0,"cpa.pro":!0,"eng.pro":!0,"jur.pro":!0,"law.pro":!0,"med.pro":!0,"recht.pro":!0,ps:!0,"edu.ps":!0,"gov.ps":!0,"sec.ps":!0,"plo.ps":!0,"com.ps":!0,"org.ps":!0,"net.ps":!0,pt:!0,"net.pt":!0,"gov.pt":!0,"org.pt":!0,"edu.pt":!0,"int.pt":!0,"publ.pt":!0,"com.pt":!0,"nome.pt":!0,pw:!0,"co.pw":!0,"ne.pw":!0,"or.pw":!0,"ed.pw":!0,"go.pw":!0,"belau.pw":!0,py:!0,"com.py":!0,"coop.py":!0,"edu.py":!0,"gov.py":!0,"mil.py":!0,"net.py":!0,"org.py":!0,
qa:!0,"com.qa":!0,"edu.qa":!0,"gov.qa":!0,"mil.qa":!0,"name.qa":!0,"net.qa":!0,"org.qa":!0,"sch.qa":!0,re:!0,"asso.re":!0,"com.re":!0,"nom.re":!0,ro:!0,"arts.ro":!0,"com.ro":!0,"firm.ro":!0,"info.ro":!0,"nom.ro":!0,"nt.ro":!0,"org.ro":!0,"rec.ro":!0,"store.ro":!0,"tm.ro":!0,"www.ro":!0,rs:!0,"ac.rs":!0,"co.rs":!0,"edu.rs":!0,"gov.rs":!0,"in.rs":!0,"org.rs":!0,ru:!0,"ac.ru":!0,"com.ru":!0,"edu.ru":!0,"int.ru":!0,"net.ru":!0,"org.ru":!0,"pp.ru":!0,"adygeya.ru":!0,"altai.ru":!0,"amur.ru":!0,"arkhangelsk.ru":!0,"astrakhan.ru":!0,"bashkiria.ru":!0,"belgorod.ru":!0,"bir.ru":!0,"bryansk.ru":!0,"buryatia.ru":!0,"cbg.ru":!0,"chel.ru":!0,"chelyabinsk.ru":!0,"chita.ru":!0,"chukotka.ru":!0,"chuvashia.ru":!0,"dagestan.ru":!0,"dudinka.ru":!0,"e-burg.ru":!0,"grozny.ru":!0,"irkutsk.ru":!0,"ivanovo.ru":!0,"izhevsk.ru":!0,"jar.ru":!0,"joshkar-ola.ru":!0,"kalmykia.ru":!0,"kaluga.ru":!0,"kamchatka.ru":!0,"karelia.ru":!0,"kazan.ru":!0,"kchr.ru":!0,"kemerovo.ru":!0,"khabarovsk.ru":!0,"khakassia.ru":!0,"khv.ru":!0,"kirov.ru":!0,"koenig.ru":!0,"komi.ru":!0,"kostroma.ru":!0,"krasnoyarsk.ru":!0,"kuban.ru":!0,"kurgan.ru":!0,"kursk.ru":!0,"lipetsk.ru":!0,"magadan.ru":!0,"mari.ru":!0,"mari-el.ru":!0,"marine.ru":!0,"mordovia.ru":!0,"msk.ru":!0,"murmansk.ru":!0,"nalchik.ru":!0,"nnov.ru":!0,"nov.ru":!0,"novosibirsk.ru":!0,"nsk.ru":!0,"omsk.ru":!0,"orenburg.ru":!0,"oryol.ru":!0,"palana.ru":!0,"penza.ru":!0,"perm.ru":!0,"ptz.ru":!0,"rnd.ru":!0,"ryazan.ru":!0,"sakhalin.ru":!0,"samara.ru":!0,"saratov.ru":!0,"simbirsk.ru":!0,"smolensk.ru":!0,"spb.ru":!0,"stavropol.ru":!0,"stv.ru":!0,"surgut.ru":!0,"tambov.ru":!0,"tatarstan.ru":!0,"tom.ru":!0,"tomsk.ru":!0,"tsaritsyn.ru":!0,"tsk.ru":!0,"tula.ru":!0,"tuva.ru":!0,"tver.ru":!0,"tyumen.ru":!0,"udm.ru":!0,"udmurtia.ru":!0,"ulan-ude.ru":!0,"vladikavkaz.ru":!0,"vladimir.ru":!0,"vladivostok.ru":!0,"volgograd.ru":!0,"vologda.ru":!0,"voronezh.ru":!0,"vrn.ru":!0,"vyatka.ru":!0,"yakutia.ru":!0,"yamal.ru":!0,"yaroslavl.ru":!0,"yekaterinburg.ru":!0,"yuzhno-sakhalinsk.ru":!0,"amursk.ru":!0,"baikal.ru":!0,"cmw.ru":!0,"fareast.ru":!0,"jamal.ru":!0,"kms.ru":!0,"k-uralsk.ru":!0,"kustanai.ru":!0,"kuzbass.ru":!0,"mytis.ru":!0,"nakhodka.ru":!0,"nkz.ru":!0,"norilsk.ru":!0,"oskol.ru":!0,"pyatigorsk.ru":!0,"rubtsovsk.ru":!0,"snz.ru":!0,"syzran.ru":!0,"vdonsk.ru":!0,"zgrad.ru":!0,"gov.ru":!0,"mil.ru":!0,"test.ru":!0,rw:!0,"gov.rw":!0,"net.rw":!0,"edu.rw":!0,"ac.rw":!0,"com.rw":!0,"co.rw":!0,"int.rw":!0,"mil.rw":!0,"gouv.rw":!0,sa:!0,"com.sa":!0,"net.sa":!0,"org.sa":!0,"gov.sa":!0,"med.sa":!0,"pub.sa":!0,"edu.sa":!0,"sch.sa":!0,sb:!0,"com.sb":!0,"edu.sb":!0,"gov.sb":!0,"net.sb":!0,"org.sb":!0,sc:!0,"com.sc":!0,"gov.sc":!0,"net.sc":!0,"org.sc":!0,"edu.sc":!0,sd:!0,"com.sd":!0,"net.sd":!0,"org.sd":!0,"edu.sd":!0,"med.sd":!0,"tv.sd":!0,"gov.sd":!0,"info.sd":!0,se:!0,"a.se":!0,"ac.se":!0,"b.se":!0,"bd.se":!0,"brand.se":!0,"c.se":!0,"d.se":!0,"e.se":!0,"f.se":!0,"fh.se":!0,"fhsk.se":!0,"fhv.se":!0,"g.se":!0,"h.se":!0,"i.se":!0,"k.se":!0,"komforb.se":!0,"kommunalforbund.se":!0,"komvux.se":!0,"l.se":!0,"lanbib.se":!0,"m.se":!0,"n.se":!0,"naturbruksgymn.se":!0,"o.se":!0,"org.se":!0,"p.se":!0,"parti.se":!0,"pp.se":!0,"press.se":!0,"r.se":!0,"s.se":!0,"t.se":!0,"tm.se":!0,"u.se":!0,"w.se":!0,"x.se":!0,"y.se":!0,"z.se":!0,sg:!0,"com.sg":!0,"net.sg":!0,"org.sg":!0,"gov.sg":!0,"edu.sg":!0,"per.sg":!0,sh:!0,"com.sh":!0,"net.sh":!0,"gov.sh":!0,"org.sh":!0,"mil.sh":!0,si:!0,sj:!0,sk:!0,sl:!0,"com.sl":!0,"net.sl":!0,"edu.sl":!0,"gov.sl":!0,"org.sl":!0,sm:!0,sn:!0,"art.sn":!0,"com.sn":!0,"edu.sn":!0,"gouv.sn":!0,"org.sn":!0,"perso.sn":!0,"univ.sn":!0,so:!0,"com.so":!0,"net.so":!0,"org.so":!0,sr:!0,st:!0,"co.st":!0,"com.st":!0,"consulado.st":!0,"edu.st":!0,"embaixada.st":!0,"gov.st":!0,"mil.st":!0,"net.st":!0,"org.st":!0,"principe.st":!0,"saotome.st":!0,"store.st":!0,su:!0,"adygeya.su":!0,"arkhangelsk.su":!0,"balashov.su":!0,"bashkiria.su":!0,"bryansk.su":!0,"dagestan.su":!0,"grozny.su":!0,"ivanovo.su":!0,"kalmykia.su":!0,"kaluga.su":!0,"karelia.su":!0,"khakassia.su":!0,"krasnodar.su":!0,"kurgan.su":!0,"lenug.su":!0,"mordovia.su":!0,"msk.su":!0,"murmansk.su":!0,"nalchik.su":!0,"nov.su":!0,"obninsk.su":!0,"penza.su":!0,"pokrovsk.su":!0,"sochi.su":!0,"spb.su":!0,"togliatti.su":!0,"troitsk.su":!0,"tula.su":!0,"tuva.su":!0,"vladikavkaz.su":!0,"vladimir.su":!0,"vologda.su":!0,sv:!0,"com.sv":!0,"edu.sv":!0,"gob.sv":!0,"org.sv":!0,"red.sv":!0,sx:!0,"gov.sx":!0,sy:!0,"edu.sy":!0,"gov.sy":!0,"net.sy":!0,"mil.sy":!0,"com.sy":!0,"org.sy":!0,sz:!0,"co.sz":!0,"ac.sz":!0,"org.sz":!0,tc:!0,td:!0,tel:!0,tf:!0,tg:!0,th:!0,"ac.th":!0,"co.th":!0,"go.th":!0,"in.th":!0,"mi.th":!0,"net.th":!0,"or.th":!0,tj:!0,"ac.tj":!0,"biz.tj":!0,"co.tj":!0,"com.tj":!0,"edu.tj":!0,"go.tj":!0,"gov.tj":!0,"int.tj":!0,"mil.tj":!0,"name.tj":!0,"net.tj":!0,"nic.tj":!0,"org.tj":!0,"test.tj":!0,"web.tj":!0,tk:!0,tl:!0,"gov.tl":!0,tm:!0,"com.tm":!0,"co.tm":!0,"org.tm":!0,"net.tm":!0,"nom.tm":!0,"gov.tm":!0,"mil.tm":!0,"edu.tm":!0,tn:!0,"com.tn":!0,"ens.tn":!0,"fin.tn":!0,"gov.tn":!0,"ind.tn":!0,"intl.tn":!0,"nat.tn":!0,"net.tn":!0,"org.tn":!0,"info.tn":!0,"perso.tn":!0,"tourism.tn":!0,"edunet.tn":!0,"rnrt.tn":!0,"rns.tn":!0,"rnu.tn":!0,"mincom.tn":!0,"agrinet.tn":!0,"defense.tn":!0,"turen.tn":!0,to:!0,"com.to":!0,"gov.to":!0,"net.to":!0,"org.to":!0,"edu.to":!0,"mil.to":!0,tr:!0,"com.tr":!0,"info.tr":!0,"biz.tr":!0,"net.tr":!0,"org.tr":!0,"web.tr":!0,"gen.tr":!0,"tv.tr":!0,"av.tr":!0,"dr.tr":!0,"bbs.tr":!0,"name.tr":!0,"tel.tr":!0,"gov.tr":!0,"bel.tr":!0,"pol.tr":!0,"mil.tr":!0,"k12.tr":!0,"edu.tr":!0,"kep.tr":!0,"nc.tr":!0,"gov.nc.tr":!0,travel:!0,tt:!0,"co.tt":!0,"com.tt":!0,"org.tt":!0,"net.tt":!0,"biz.tt":!0,"info.tt":!0,"pro.tt":!0,"int.tt":!0,"coop.tt":!0,"jobs.tt":!0,"mobi.tt":!0,"travel.tt":!0,"museum.tt":!0,"aero.tt":!0,"name.tt":!0,"gov.tt":!0,"edu.tt":!0,tv:!0,tw:!0,"edu.tw":!0,"gov.tw":!0,"mil.tw":!0,"com.tw":!0,"net.tw":!0,"org.tw":!0,"idv.tw":!0,"game.tw":!0,"ebiz.tw":!0,"club.tw":!0,"xn--zf0ao64a.tw":!0,"xn--uc0atv.tw":!0,"xn--czrw28b.tw":!0,tz:!0,"ac.tz":!0,"co.tz":!0,"go.tz":!0,"hotel.tz":!0,"info.tz":!0,"me.tz":!0,"mil.tz":!0,"mobi.tz":!0,"ne.tz":!0,"or.tz":!0,"sc.tz":!0,"tv.tz":!0,ua:!0,"com.ua":!0,"edu.ua":!0,"gov.ua":!0,"in.ua":!0,"net.ua":!0,"org.ua":!0,"cherkassy.ua":!0,"cherkasy.ua":!0,"chernigov.ua":!0,"chernihiv.ua":!0,"chernivtsi.ua":!0,"chernovtsy.ua":!0,"ck.ua":!0,"cn.ua":!0,"cr.ua":!0,"crimea.ua":!0,"cv.ua":!0,"dn.ua":!0,"dnepropetrovsk.ua":!0,"dnipropetrovsk.ua":!0,"dominic.ua":!0,"donetsk.ua":!0,"dp.ua":!0,"if.ua":!0,"ivano-frankivsk.ua":!0,"kh.ua":!0,"kharkiv.ua":!0,"kharkov.ua":!0,"kherson.ua":!0,"khmelnitskiy.ua":!0,"khmelnytskyi.ua":!0,"kiev.ua":!0,"kirovograd.ua":!0,"km.ua":!0,"kr.ua":!0,"krym.ua":!0,"ks.ua":!0,"kv.ua":!0,"kyiv.ua":!0,"lg.ua":!0,"lt.ua":!0,"lugansk.ua":!0,"lutsk.ua":!0,"lv.ua":!0,"lviv.ua":!0,"mk.ua":!0,"mykolaiv.ua":!0,"nikolaev.ua":!0,"od.ua":!0,"odesa.ua":!0,"odessa.ua":!0,"pl.ua":!0,"poltava.ua":!0,"rivne.ua":!0,"rovno.ua":!0,"rv.ua":!0,"sb.ua":!0,"sebastopol.ua":!0,"sevastopol.ua":!0,"sm.ua":!0,"sumy.ua":!0,"te.ua":!0,"ternopil.ua":!0,"uz.ua":!0,"uzhgorod.ua":!0,"vinnica.ua":!0,"vinnytsia.ua":!0,"vn.ua":!0,"volyn.ua":!0,"yalta.ua":!0,"zaporizhzhe.ua":!0,"zaporizhzhia.ua":!0,"zhitomir.ua":!0,"zhytomyr.ua":!0,"zp.ua":!0,"zt.ua":!0,ug:!0,"co.ug":!0,"or.ug":!0,"ac.ug":!0,"sc.ug":!0,"go.ug":!0,"ne.ug":!0,"com.ug":!0,"org.ug":!0,uk:!0,"ac.uk":!0,"co.uk":!0,"gov.uk":!0,"ltd.uk":!0,"me.uk":!0,"net.uk":!0,"nhs.uk":!0,"org.uk":!0,"plc.uk":!0,"police.uk":!0,"*.sch.uk":!0,us:!0,"dni.us":!0,"fed.us":!0,"isa.us":!0,"kids.us":!0,"nsn.us":!0,"ak.us":!0,"al.us":!0,"ar.us":!0,"as.us":!0,"az.us":!0,"ca.us":!0,"co.us":!0,"ct.us":!0,"dc.us":!0,"de.us":!0,"fl.us":!0,"ga.us":!0,"gu.us":!0,"hi.us":!0,"ia.us":!0,"id.us":!0,"il.us":!0,"in.us":!0,"ks.us":!0,"ky.us":!0,"la.us":!0,"ma.us":!0,"md.us":!0,"me.us":!0,"mi.us":!0,"mn.us":!0,"mo.us":!0,"ms.us":!0,"mt.us":!0,"nc.us":!0,"nd.us":!0,"ne.us":!0,"nh.us":!0,"nj.us":!0,"nm.us":!0,"nv.us":!0,"ny.us":!0,"oh.us":!0,"ok.us":!0,"or.us":!0,"pa.us":!0,"pr.us":!0,"ri.us":!0,"sc.us":!0,"sd.us":!0,"tn.us":!0,"tx.us":!0,"ut.us":!0,"vi.us":!0,"vt.us":!0,"va.us":!0,"wa.us":!0,"wi.us":!0,"wv.us":!0,"wy.us":!0,"k12.ak.us":!0,"k12.al.us":!0,"k12.ar.us":!0,"k12.as.us":!0,"k12.az.us":!0,"k12.ca.us":!0,"k12.co.us":!0,"k12.ct.us":!0,"k12.dc.us":!0,"k12.de.us":!0,"k12.fl.us":!0,"k12.ga.us":!0,"k12.gu.us":!0,"k12.ia.us":!0,"k12.id.us":!0,"k12.il.us":!0,"k12.in.us":!0,"k12.ks.us":!0,"k12.ky.us":!0,"k12.la.us":!0,"k12.ma.us":!0,"k12.md.us":!0,"k12.me.us":!0,"k12.mi.us":!0,"k12.mn.us":!0,"k12.mo.us":!0,"k12.ms.us":!0,"k12.mt.us":!0,"k12.nc.us":!0,"k12.ne.us":!0,"k12.nh.us":!0,"k12.nj.us":!0,"k12.nm.us":!0,"k12.nv.us":!0,"k12.ny.us":!0,"k12.oh.us":!0,"k12.ok.us":!0,"k12.or.us":!0,"k12.pa.us":!0,"k12.pr.us":!0,"k12.ri.us":!0,"k12.sc.us":!0,"k12.tn.us":!0,"k12.tx.us":!0,"k12.ut.us":!0,"k12.vi.us":!0,"k12.vt.us":!0,"k12.va.us":!0,"k12.wa.us":!0,"k12.wi.us":!0,"k12.wy.us":!0,"cc.ak.us":!0,"cc.al.us":!0,"cc.ar.us":!0,"cc.as.us":!0,"cc.az.us":!0,"cc.ca.us":!0,"cc.co.us":!0,"cc.ct.us":!0,"cc.dc.us":!0,"cc.de.us":!0,"cc.fl.us":!0,"cc.ga.us":!0,"cc.gu.us":!0,"cc.hi.us":!0,"cc.ia.us":!0,"cc.id.us":!0,"cc.il.us":!0,"cc.in.us":!0,"cc.ks.us":!0,"cc.ky.us":!0,"cc.la.us":!0,"cc.ma.us":!0,"cc.md.us":!0,"cc.me.us":!0,"cc.mi.us":!0,"cc.mn.us":!0,"cc.mo.us":!0,"cc.ms.us":!0,"cc.mt.us":!0,"cc.nc.us":!0,"cc.nd.us":!0,"cc.ne.us":!0,"cc.nh.us":!0,"cc.nj.us":!0,"cc.nm.us":!0,"cc.nv.us":!0,"cc.ny.us":!0,"cc.oh.us":!0,"cc.ok.us":!0,"cc.or.us":!0,"cc.pa.us":!0,"cc.pr.us":!0,"cc.ri.us":!0,"cc.sc.us":!0,"cc.sd.us":!0,"cc.tn.us":!0,"cc.tx.us":!0,"cc.ut.us":!0,"cc.vi.us":!0,"cc.vt.us":!0,"cc.va.us":!0,"cc.wa.us":!0,"cc.wi.us":!0,"cc.wv.us":!0,"cc.wy.us":!0,"lib.ak.us":!0,"lib.al.us":!0,"lib.ar.us":!0,"lib.as.us":!0,"lib.az.us":!0,"lib.ca.us":!0,"lib.co.us":!0,"lib.ct.us":!0,"lib.dc.us":!0,"lib.fl.us":!0,"lib.ga.us":!0,"lib.gu.us":!0,"lib.hi.us":!0,"lib.ia.us":!0,"lib.id.us":!0,"lib.il.us":!0,"lib.in.us":!0,"lib.ks.us":!0,"lib.ky.us":!0,"lib.la.us":!0,"lib.ma.us":!0,"lib.md.us":!0,"lib.me.us":!0,"lib.mi.us":!0,"lib.mn.us":!0,"lib.mo.us":!0,"lib.ms.us":!0,"lib.mt.us":!0,"lib.nc.us":!0,"lib.nd.us":!0,"lib.ne.us":!0,"lib.nh.us":!0,"lib.nj.us":!0,"lib.nm.us":!0,"lib.nv.us":!0,"lib.ny.us":!0,"lib.oh.us":!0,"lib.ok.us":!0,"lib.or.us":!0,"lib.pa.us":!0,"lib.pr.us":!0,"lib.ri.us":!0,"lib.sc.us":!0,"lib.sd.us":!0,"lib.tn.us":!0,"lib.tx.us":!0,"lib.ut.us":!0,"lib.vi.us":!0,"lib.vt.us":!0,"lib.va.us":!0,"lib.wa.us":!0,"lib.wi.us":!0,"lib.wy.us":!0,"pvt.k12.ma.us":!0,"chtr.k12.ma.us":!0,"paroch.k12.ma.us":!0,uy:!0,"com.uy":!0,"edu.uy":!0,"gub.uy":!0,"mil.uy":!0,"net.uy":!0,"org.uy":!0,uz:!0,"co.uz":!0,"com.uz":!0,"net.uz":!0,"org.uz":!0,va:!0,vc:!0,"com.vc":!0,"net.vc":!0,"org.vc":!0,"gov.vc":!0,"mil.vc":!0,"edu.vc":!0,ve:!0,"arts.ve":!0,"co.ve":!0,"com.ve":!0,"e12.ve":!0,"edu.ve":!0,"firm.ve":!0,"gob.ve":!0,"gov.ve":!0,"info.ve":!0,"int.ve":!0,"mil.ve":!0,"net.ve":!0,"org.ve":!0,"rec.ve":!0,"store.ve":!0,"tec.ve":!0,"web.ve":!0,vg:!0,vi:!0,"co.vi":!0,"com.vi":!0,"k12.vi":!0,"net.vi":!0,"org.vi":!0,vn:!0,"com.vn":!0,"net.vn":!0,"org.vn":!0,"edu.vn":!0,"gov.vn":!0,"int.vn":!0,"ac.vn":!0,"biz.vn":!0,"info.vn":!0,"name.vn":!0,"pro.vn":!0,"health.vn":!0,vu:!0,"com.vu":!0,"edu.vu":!0,"net.vu":!0,"org.vu":!0,wf:!0,ws:!0,"com.ws":!0,"net.ws":!0,"org.ws":!0,"gov.ws":!0,"edu.ws":!0,yt:!0,"xn--mgbaam7a8h":!0,"xn--y9a3aq":!0,"xn--54b7fta0cc":!0,"xn--90ais":!0,"xn--fiqs8s":!0,"xn--fiqz9s":!0,"xn--lgbbat1ad8j":!0,"xn--wgbh1c":!0,"xn--e1a4c":!0,"xn--node":!0,"xn--qxam":!0,"xn--j6w193g":!0,"xn--h2brj9c":!0,"xn--mgbbh1a71e":!0,"xn--fpcrj9c3d":!0,"xn--gecrj9c":!0,"xn--s9brj9c":!0,"xn--45brj9c":!0,"xn--xkc2dl3a5ee0h":!0,"xn--mgba3a4f16a":!0,"xn--mgba3a4fra":!0,"xn--mgbtx2b":!0,"xn--mgbayh7gpa":!0,"xn--3e0b707e":!0,"xn--80ao21a":!0,"xn--fzc2c9e2c":!0,"xn--xkc2al3hye2a":!0,"xn--mgbc0a9azcg":!0,"xn--d1alf":!0,"xn--l1acc":!0,"xn--mix891f":!0,"xn--mix082f":!0,"xn--mgbx4cd0ab":!0,"xn--mgb9awbf":!0,"xn--mgbai9azgqp6j":!0,"xn--mgbai9a5eva00b":!0,"xn--ygbi2ammx":!0,"xn--90a3ac":!0,"xn--o1ac.xn--90a3ac":!0,"xn--c1avg.xn--90a3ac":!0,"xn--90azh.xn--90a3ac":!0,"xn--d1at.xn--90a3ac":!0,"xn--o1ach.xn--90a3ac":!0,"xn--80au.xn--90a3ac":!0,"xn--p1ai":!0,"xn--wgbl6a":!0,"xn--mgberp4a5d4ar":!0,"xn--mgberp4a5d4a87g":!0,"xn--mgbqly7c0a67fbc":!0,"xn--mgbqly7cvafr":!0,"xn--mgbpl2fh":!0,"xn--yfro4i67o":!0,"xn--clchc0ea0b2g2a9gcd":!0,"xn--ogbpf8fl":!0,"xn--mgbtf8fl":!0,"xn--o3cw4h":!0,"xn--pgbs0dh":!0,"xn--kpry57d":!0,"xn--kprw13d":!0,"xn--nnx388a":!0,"xn--j1amh":!0,"xn--mgb2ddes":!0,xxx:!0,"*.ye":!0,"ac.za":!0,"agric.za":!0,"alt.za":!0,"co.za":!0,"edu.za":!0,"gov.za":!0,"grondar.za":!0,"law.za":!0,"mil.za":!0,"net.za":!0,"ngo.za":!0,"nis.za":!0,"nom.za":!0,"org.za":!0,"school.za":!0,"tm.za":!0,"web.za":!0,zm:!0,"ac.zm":!0,"biz.zm":!0,"co.zm":!0,"com.zm":!0,"edu.zm":!0,"gov.zm":!0,"info.zm":!0,"mil.zm":!0,"net.zm":!0,"org.zm":!0,"sch.zm":!0,"*.zw":!0,aaa:!0,aarp:!0,abarth:!0,abb:!0,abbott:!0,abbvie:!0,abc:!0,able:!0,abogado:!0,abudhabi:!0,academy:!0,accenture:!0,accountant:!0,accountants:!0,aco:!0,active:!0,actor:!0,adac:!0,ads:!0,adult:!0,aeg:!0,aetna:!0,afamilycompany:!0,afl:!0,africa:!0,agakhan:!0,agency:!0,aig:!0,aigo:!0,airbus:!0,airforce:!0,airtel:!0,akdn:!0,alfaromeo:!0,alibaba:!0,alipay:!0,allfinanz:!0,allstate:!0,ally:!0,alsace:!0,alstom:!0,americanexpress:!0,americanfamily:!0,amex:!0,amfam:!0,amica:!0,amsterdam:!0,analytics:!0,android:!0,anquan:!0,anz:!0,aol:!0,apartments:!0,app:!0,apple:!0,aquarelle:!0,arab:!0,aramco:!0,archi:!0,army:!0,art:!0,arte:!0,asda:!0,associates:!0,athleta:!0,attorney:!0,auction:!0,audi:!0,audible:!0,audio:!0,auspost:!0,author:!0,auto:!0,autos:!0,avianca:!0,aws:!0,axa:!0,azure:!0,baby:!0,baidu:!0,banamex:!0,bananarepublic:!0,band:!0,bank:!0,bar:!0,barcelona:!0,barclaycard:!0,barclays:!0,barefoot:!0,bargains:!0,baseball:!0,basketball:!0,bauhaus:!0,bayern:!0,bbc:!0,bbt:!0,bbva:!0,bcg:!0,bcn:!0,beats:!0,beauty:!0,beer:!0,bentley:!0,berlin:!0,best:!0,bestbuy:!0,bet:!0,bharti:!0,bible:!0,bid:!0,bike:!0,bing:!0,bingo:!0,bio:!0,black:!0,blackfriday:!0,blanco:!0,blockbuster:!0,blog:!0,bloomberg:!0,blue:!0,bms:!0,bmw:!0,bnl:!0,bnpparibas:!0,boats:!0,boehringer:!0,bofa:!0,bom:!0,bond:!0,boo:!0,book:!0,booking:!0,boots:!0,bosch:!0,bostik:!0,boston:!0,bot:!0,boutique:!0,box:!0,bradesco:!0,bridgestone:!0,broadway:!0,broker:!0,brother:!0,brussels:!0,budapest:!0,bugatti:!0,build:!0,builders:!0,business:!0,buy:!0,buzz:!0,bzh:!0,cab:!0,cafe:!0,cal:!0,call:!0,calvinklein:!0,cam:!0,camera:!0,camp:!0,cancerresearch:!0,canon:!0,capetown:!0,capital:!0,capitalone:!0,car:!0,caravan:!0,cards:!0,care:!0,career:!0,careers:!0,cars:!0,cartier:!0,casa:!0,"case":!0,caseih:!0,cash:!0,casino:!0,catering:!0,catholic:!0,cba:!0,cbn:!0,cbre:!0,cbs:!0,ceb:!0,center:!0,ceo:!0,cern:!0,cfa:!0,cfd:!0,chanel:!0,channel:!0,chase:!0,chat:!0,cheap:!0,chintai:!0,chloe:!0,christmas:!0,chrome:!0,chrysler:!0,church:!0,cipriani:!0,circle:!0,cisco:!0,citadel:!0,citi:!0,citic:!0,city:!0,cityeats:!0,claims:!0,cleaning:!0,click:!0,clinic:!0,clinique:!0,clothing:!0,cloud:!0,club:!0,clubmed:!0,coach:!0,codes:!0,coffee:!0,college:!0,cologne:!0,comcast:!0,commbank:!0,community:!0,company:!0,compare:!0,computer:!0,comsec:!0,condos:!0,construction:!0,consulting:!0,contact:!0,contractors:!0,cooking:!0,cookingchannel:!0,cool:!0,corsica:!0,country:!0,coupon:!0,coupons:!0,courses:!0,credit:!0,creditcard:!0,creditunion:!0,cricket:!0,crown:!0,crs:!0,cruise:!0,cruises:!0,csc:!0,cuisinella:!0,cymru:!0,cyou:!0,dabur:!0,dad:!0,dance:!0,data:!0,date:!0,dating:!0,datsun:!0,day:!0,dclk:!0,dds:!0,deal:!0,dealer:!0,deals:!0,degree:!0,delivery:!0,dell:!0,deloitte:!0,delta:!0,democrat:!0,dental:!0,dentist:!0,desi:!0,design:!0,dev:!0,dhl:!0,diamonds:!0,diet:!0,digital:!0,direct:!0,directory:!0,discount:!0,discover:!0,dish:!0,diy:!0,dnp:!0,docs:!0,doctor:!0,dodge:!0,dog:!0,doha:!0,domains:!0,dot:!0,download:!0,drive:!0,dtv:!0,dubai:!0,duck:!0,dunlop:!0,duns:!0,dupont:!0,durban:!0,dvag:!0,dvr:!0,dwg:!0,earth:!0,eat:!0,eco:!0,edeka:!0,education:!0,email:!0,emerck:!0,emerson:!0,energy:!0,engineer:!0,engineering:!0,enterprises:!0,epost:!0,epson:!0,equipment:!0,ericsson:!0,erni:!0,esq:!0,estate:!0,esurance:!0,etisalat:!0,eurovision:!0,eus:!0,events:!0,everbank:!0,exchange:!0,expert:!0,exposed:!0,express:!0,extraspace:!0,fage:!0,fail:!0,fairwinds:!0,faith:!0,family:!0,fan:!0,fans:!0,farm:!0,farmers:!0,fashion:!0,fast:!0,fedex:!0,feedback:!0,ferrari:!0,ferrero:!0,fiat:!0,fidelity:!0,fido:!0,film:!0,"final":!0,finance:!0,financial:!0,fire:!0,firestone:!0,firmdale:!0,fish:!0,fishing:!0,fit:!0,fitness:!0,flickr:!0,flights:!0,flir:!0,florist:!0,flowers:!0,fly:!0,foo:!0,food:!0,foodnetwork:!0,football:!0,ford:!0,forex:!0,forsale:!0,forum:!0,foundation:!0,fox:!0,free:!0,fresenius:!0,frl:!0,frogans:!0,frontdoor:!0,frontier:!0,ftr:!0,fujitsu:!0,fujixerox:!0,fun:!0,fund:!0,furniture:!0,futbol:!0,fyi:!0,gal:!0,gallery:!0,gallo:!0,gallup:!0,game:!0,games:!0,gap:!0,garden:!0,gbiz:!0,gdn:!0,gea:!0,gent:!0,genting:!0,george:!0,ggee:!0,gift:!0,gifts:!0,gives:!0,giving:!0,glade:!0,glass:!0,gle:!0,global:!0,globo:!0,gmail:!0,gmbh:!0,gmo:!0,gmx:!0,godaddy:!0,gold:!0,goldpoint:!0,golf:!0,goo:!0,goodhands:!0,goodyear:!0,goog:!0,google:!0,gop:!0,got:!0,grainger:!0,graphics:!0,gratis:!0,green:!0,gripe:!0,grocery:!0,group:!0,guardian:!0,gucci:!0,guge:!0,guide:!0,guitars:!0,guru:!0,hair:!0,hamburg:!0,hangout:!0,haus:!0,hbo:!0,hdfc:!0,hdfcbank:!0,health:!0,healthcare:!0,help:!0,helsinki:!0,here:!0,hermes:!0,hgtv:!0,hiphop:!0,hisamitsu:!0,hitachi:!0,hiv:!0,hkt:!0,hockey:!0,holdings:!0,holiday:!0,homedepot:!0,homegoods:!0,homes:!0,homesense:!0,honda:!0,honeywell:!0,horse:!0,host:!0,hosting:!0,hot:!0,hoteles:!0,hotels:!0,hotmail:!0,house:!0,how:!0,hsbc:!0,htc:!0,hughes:!0,hyatt:!0,hyundai:!0,ibm:!0,icbc:!0,ice:!0,icu:!0,ieee:!0,ifm:!0,iinet:!0,ikano:!0,imamat:!0,imdb:!0,immo:!0,immobilien:!0,industries:!0,infiniti:!0,ing:!0,ink:!0,institute:!0,insurance:!0,insure:!0,intel:!0,international:!0,intuit:!0,investments:!0,ipiranga:!0,irish:!0,iselect:!0,ismaili:!0,ist:!0,istanbul:!0,itau:!0,itv:!0,iveco:!0,iwc:!0,jaguar:!0,java:!0,jcb:!0,jcp:!0,jeep:!0,jetzt:!0,jewelry:!0,jio:!0,jlc:!0,jll:!0,jmp:!0,jnj:!0,joburg:!0,jot:!0,joy:!0,jpmorgan:!0,jprs:!0,juegos:!0,juniper:!0,kaufen:!0,kddi:!0,kerryhotels:!0,kerrylogistics:!0,kerryproperties:!0,kfh:!0,kia:!0,kim:!0,kinder:!0,kindle:!0,kitchen:!0,kiwi:!0,koeln:!0,komatsu:!0,kosher:!0,kpmg:!0,kpn:!0,krd:!0,kred:!0,kuokgroup:!0,kyoto:!0,lacaixa:!0,ladbrokes:!0,lamborghini:!0,lamer:!0,lancaster:!0,lancia:!0,lancome:!0,land:!0,landrover:!0,lanxess:!0,lasalle:!0,lat:!0,latino:!0,latrobe:!0,law:!0,lawyer:!0,lds:!0,lease:!0,leclerc:!0,lefrak:!0,legal:!0,lego:!0,lexus:!0,lgbt:!0,liaison:!0,lidl:!0,life:!0,lifeinsurance:!0,lifestyle:!0,lighting:!0,like:!0,lilly:!0,limited:!0,limo:!0,lincoln:!0,linde:!0,link:!0,lipsy:!0,live:!0,living:!0,lixil:!0,loan:!0,loans:!0,locker:!0,locus:!0,loft:!0,lol:!0,london:!0,lotte:!0,lotto:!0,love:!0,lpl:!0,lplfinancial:!0,ltd:!0,ltda:!0,lundbeck:!0,lupin:!0,luxe:!0,luxury:!0,macys:!0,madrid:!0,maif:!0,maison:!0,makeup:!0,man:!0,management:!0,mango:!0,map:!0,market:!0,marketing:!0,markets:!0,marriott:!0,marshalls:!0,maserati:!0,mattel:!0,mba:!0,mcd:!0,mcdonalds:!0,mckinsey:!0,med:!0,media:!0,meet:!0,melbourne:!0,meme:!0,memorial:!0,men:!0,menu:!0,meo:!0,merckmsd:!0,metlife:!0,miami:!0,microsoft:!0,mini:!0,mint:!0,mit:!0,mitsubishi:!0,mlb:!0,mls:!0,mma:!0,mobile:!0,mobily:!0,moda:!0,moe:!0,moi:!0,mom:!0,monash:!0,money:!0,monster:!0,montblanc:!0,mopar:!0,mormon:!0,mortgage:!0,moscow:!0,moto:!0,motorcycles:!0,mov:!0,movie:!0,movistar:!0,msd:!0,mtn:!0,mtpc:!0,mtr:!0,mutual:!0,mutuelle:!0,nab:!0,nadex:!0,nagoya:!0,nationwide:!0,natura:!0,navy:!0,nba:!0,nec:!0,netbank:!0,netflix:!0,network:!0,neustar:!0,"new":!0,newholland:!0,news:!0,next:!0,nextdirect:!0,nexus:!0,nfl:!0,ngo:!0,nhk:!0,nico:!0,nike:!0,nikon:!0,ninja:!0,nissan:!0,nissay:!0,nokia:!0,northwesternmutual:!0,norton:!0,now:!0,nowruz:!0,nowtv:!0,nra:!0,nrw:!0,ntt:!0,nyc:!0,obi:!0,observer:!0,off:!0,office:!0,okinawa:!0,olayan:!0,olayangroup:!0,oldnavy:!0,ollo:!0,omega:!0,one:!0,ong:!0,onl:!0,online:!0,onyourside:!0,ooo:!0,open:!0,oracle:!0,orange:!0,organic:!0,orientexpress:!0,origins:!0,osaka:!0,otsuka:!0,ott:!0,ovh:!0,page:!0,pamperedchef:!0,panasonic:!0,panerai:!0,paris:!0,pars:!0,partners:!0,parts:!0,party:!0,passagens:!0,pay:!0,pccw:!0,pet:!0,pfizer:!0,pharmacy:!0,phd:!0,philips:!0,phone:!0,photo:!0,photography:!0,photos:!0,physio:!0,piaget:!0,pics:!0,pictet:!0,pictures:!0,pid:!0,pin:!0,ping:!0,pink:!0,pioneer:!0,pizza:!0,place:!0,play:!0,playstation:!0,plumbing:!0,plus:!0,pnc:!0,pohl:!0,poker:!0,politie:!0,porn:!0,pramerica:!0,praxi:!0,press:!0,prime:!0,prod:!0,productions:!0,prof:!0,progressive:!0,promo:!0,properties:!0,property:!0,protection:!0,pru:!0,prudential:!0,pub:!0,pwc:!0,qpon:!0,quebec:!0,quest:!0,qvc:!0,racing:!0,radio:!0,raid:!0,read:!0,realestate:!0,realtor:!0,realty:!0,recipes:!0,red:!0,redstone:!0,redumbrella:!0,rehab:!0,reise:!0,reisen:!0,reit:!0,reliance:!0,ren:!0,rent:!0,rentals:!0,repair:!0,report:!0,republican:!0,rest:!0,restaurant:!0,review:!0,reviews:!0,rexroth:!0,rich:!0,richardli:!0,ricoh:!0,rightathome:!0,ril:!0,rio:!0,rip:!0,rmit:!0,rocher:!0,rocks:!0,rodeo:!0,rogers:!0,room:!0,rsvp:!0,ruhr:!0,run:!0,rwe:!0,ryukyu:!0,saarland:!0,safe:!0,safety:!0,sakura:!0,sale:!0,salon:!0,samsclub:!0,samsung:!0,sandvik:!0,sandvikcoromant:!0,sanofi:!0,sap:!0,sapo:!0,sarl:!0,sas:!0,save:!0,saxo:!0,sbi:!0,sbs:!0,sca:!0,scb:!0,schaeffler:!0,schmidt:!0,scholarships:!0,school:!0,schule:!0,schwarz:!0,science:!0,scjohnson:!0,scor:!0,scot:!0,search:!0,seat:!0,secure:!0,security:!0,seek:!0,select:!0,sener:!0,services:!0,ses:!0,seven:!0,sew:!0,sex:!0,sexy:!0,sfr:!0,shangrila:!0,sharp:!0,shaw:!0,shell:!0,shia:!0,shiksha:!0,shoes:!0,shop:!0,shopping:!0,shouji:!0,show:!0,showtime:!0,shriram:!0,silk:!0,sina:!0,singles:!0,site:!0,ski:!0,skin:!0,sky:!0,skype:!0,sling:!0,smart:!0,smile:!0,sncf:!0,soccer:!0,social:!0,softbank:!0,software:!0,sohu:!0,solar:!0,solutions:!0,song:!0,sony:!0,soy:!0,space:!0,spiegel:!0,spot:!0,spreadbetting:!0,srl:!0,srt:!0,stada:!0,staples:!0,star:!0,starhub:!0,statebank:!0,statefarm:!0,statoil:!0,stc:!0,stcgroup:!0,stockholm:!0,storage:!0,store:!0,stream:!0,studio:!0,study:!0,style:!0,sucks:!0,supplies:!0,supply:!0,support:!0,surf:!0,surgery:!0,suzuki:!0,swatch:!0,swiftcover:!0,swiss:!0,sydney:!0,symantec:!0,systems:!0,tab:!0,taipei:!0,talk:!0,taobao:!0,target:!0,tatamotors:!0,tatar:!0,tattoo:!0,tax:!0,taxi:!0,tci:!0,tdk:!0,team:!0,tech:!0,technology:!0,telecity:!0,telefonica:!0,temasek:!0,tennis:!0,teva:!0,thd:!0,theater:!0,theatre:!0,theguardian:!0,tiaa:!0,tickets:!0,tienda:!0,tiffany:!0,tips:!0,tires:!0,tirol:!0,tjmaxx:!0,tjx:!0,tkmaxx:!0,tmall:!0,today:!0,tokyo:!0,tools:!0,top:!0,toray:!0,toshiba:!0,total:!0,tours:!0,town:!0,toyota:!0,toys:!0,trade:!0,trading:!0,training:!0,travelchannel:!0,travelers:!0,travelersinsurance:!0,trust:!0,trv:!0,tube:!0,tui:!0,tunes:!0,tushu:!0,tvs:!0,ubank:!0,ubs:!0,uconnect:!0,unicom:!0,university:!0,uno:!0,uol:!0,ups:!0,vacations:!0,vana:!0,vanguard:!0,vegas:!0,ventures:!0,verisign:!0,versicherung:!0,vet:!0,viajes:!0,video:!0,vig:!0,viking:!0,villas:!0,vin:!0,vip:!0,virgin:!0,visa:!0,vision:!0,vista:!0,vistaprint:!0,viva:!0,vivo:!0,vlaanderen:!0,vodka:!0,volkswagen:!0,volvo:!0,vote:!0,voting:!0,voto:!0,voyage:!0,vuelos:!0,wales:!0,walmart:!0,walter:!0,wang:!0,wanggou:!0,warman:!0,watch:!0,watches:!0,weather:!0,weatherchannel:!0,webcam:!0,weber:!0,website:!0,wed:!0,wedding:!0,weibo:!0,weir:!0,whoswho:!0,wien:!0,wiki:!0,williamhill:!0,win:!0,windows:!0,wine:!0,winners:!0,wme:!0,wolterskluwer:!0,woodside:!0,work:!0,works:!0,world:!0,wow:!0,wtc:!0,wtf:!0,xbox:!0,xerox:!0,xfinity:!0,xihuan:!0,xin:!0,"xn--11b4c3d":!0,"xn--1ck2e1b":!0,"xn--1qqw23a":!0,"xn--30rr7y":!0,"xn--3bst00m":!0,"xn--3ds443g":!0,"xn--3oq18vl8pn36a":!0,"xn--3pxu8k":!0,"xn--42c2d9a":!0,"xn--45q11c":!0,"xn--4gbrim":!0,"xn--4gq48lf9j":!0,"xn--55qw42g":!0,"xn--55qx5d":!0,"xn--5su34j936bgsg":!0,"xn--5tzm5g":!0,"xn--6frz82g":!0,"xn--6qq986b3xl":!0,"xn--80adxhks":!0,"xn--80aqecdr1a":!0,"xn--80asehdb":!0,"xn--80aswg":!0,"xn--8y0a063a":!0,"xn--9dbq2a":!0,"xn--9et52u":!0,"xn--9krt00a":!0,"xn--b4w605ferd":!0,"xn--bck1b9a5dre4c":!0,"xn--c1avg":!0,"xn--c2br7g":!0,"xn--cck2b3b":!0,"xn--cg4bki":!0,"xn--czr694b":!0,"xn--czrs0t":!0,"xn--czru2d":!0,"xn--d1acj3b":!0,"xn--eckvdtc9d":!0,"xn--efvy88h":!0,"xn--estv75g":!0,"xn--fct429k":!0,"xn--fhbei":!0,"xn--fiq228c5hs":!0,"xn--fiq64b":!0,"xn--fjq720a":!0,"xn--flw351e":!0,"xn--fzys8d69uvgm":!0,"xn--g2xx48c":!0,"xn--gckr3f0f":!0,"xn--gk3at1e":!0,"xn--hxt814e":!0,"xn--i1b6b1a6a2e":!0,"xn--imr513n":!0,"xn--io0a7i":!0,"xn--j1aef":!0,"xn--jlq61u9w7b":!0,"xn--jvr189m":!0,"xn--kcrx77d1x4a":!0,"xn--kpu716f":!0,"xn--kput3i":!0,"xn--mgba3a3ejt":!0,"xn--mgba7c0bbn0a":!0,"xn--mgbaakc7dvf":!0,"xn--mgbab2bd":!0,"xn--mgbb9fbpob":!0,"xn--mgbca7dzdo":!0,"xn--mgbi4ecexp":!0,"xn--mgbt3dhd":!0,"xn--mk1bu44c":!0,"xn--mxtq1m":!0,"xn--ngbc5azd":!0,"xn--ngbe9e0a":!0,"xn--ngbrx":!0,"xn--nqv7f":!0,"xn--nqv7fs00ema":!0,"xn--nyqy26a":!0,"xn--p1acf":!0,"xn--pbt977c":!0,"xn--pssy2u":!0,"xn--q9jyb4c":!0,"xn--qcka1pmc":!0,"xn--rhqv96g":!0,"xn--rovu88b":!0,"xn--ses554g":!0,"xn--t60b56a":!0,"xn--tckwe":!0,"xn--tiq49xqyj":!0,"xn--unup4y":!0,"xn--vermgensberater-ctb":!0,"xn--vermgensberatung-pwb":!0,"xn--vhquv":!0,"xn--vuq861b":!0,"xn--w4r85el8fhu5dnra":!0,"xn--w4rs40l":!0,"xn--xhq521b":!0,"xn--zfr164b":!0,xperia:!0,xyz:!0,yachts:!0,yahoo:!0,yamaxun:!0,yandex:!0,yodobashi:!0,yoga:!0,yokohama:!0,you:!0,youtube:!0,yun:!0,zappos:!0,zara:!0,zero:!0,zip:!0,zippo:!0,zone:!0,zuerich:!0,"beep.pl":!0,"*.compute.estate":!0,"*.alces.network":!0,"*.alwaysdata.net":!0,"cloudfront.net":!0,"compute.amazonaws.com":!0,"ap-northeast-1.compute.amazonaws.com":!0,"ap-northeast-2.compute.amazonaws.com":!0,"ap-southeast-1.compute.amazonaws.com":!0,"ap-southeast-2.compute.amazonaws.com":!0,"eu-central-1.compute.amazonaws.com":!0,"eu-west-1.compute.amazonaws.com":!0,"sa-east-1.compute.amazonaws.com":!0,"us-gov-west-1.compute.amazonaws.com":!0,"us-west-1.compute.amazonaws.com":!0,"us-west-2.compute.amazonaws.com":!0,"compute-1.amazonaws.com":!0,"z-1.compute-1.amazonaws.com":!0,"z-2.compute-1.amazonaws.com":!0,"us-east-1.amazonaws.com":!0,"compute.amazonaws.com.cn":!0,"cn-north-1.compute.amazonaws.com.cn":!0,"elasticbeanstalk.com":!0,"elb.amazonaws.com":!0,"s3.amazonaws.com":!0,"s3-ap-northeast-1.amazonaws.com":!0,"s3-ap-northeast-2.amazonaws.com":!0,"s3-ap-southeast-1.amazonaws.com":!0,"s3-ap-southeast-2.amazonaws.com":!0,"s3-eu-central-1.amazonaws.com":!0,"s3-eu-west-1.amazonaws.com":!0,"s3-external-1.amazonaws.com":!0,"s3-external-2.amazonaws.com":!0,"s3-fips-us-gov-west-1.amazonaws.com":!0,"s3-sa-east-1.amazonaws.com":!0,"s3-us-gov-west-1.amazonaws.com":!0,"s3-us-west-1.amazonaws.com":!0,"s3-us-west-2.amazonaws.com":!0,"s3.ap-northeast-2.amazonaws.com":!0,"s3.cn-north-1.amazonaws.com.cn":!0,"s3.eu-central-1.amazonaws.com":!0,"on-aptible.com":!0,"pimienta.org":!0,"poivron.org":!0,"potager.org":!0,"sweetpepper.org":!0,"myasustor.com":!0,"myfritz.net":!0,"backplaneapp.io":!0,"betainabox.com":!0,"bnr.la":!0,"boxfuse.io":!0,"browsersafetymark.io":!0,"mycd.eu":!0,"ae.org":!0,"ar.com":!0,"br.com":!0,"cn.com":!0,"com.de":!0,"com.se":!0,"de.com":!0,"eu.com":!0,"gb.com":!0,"gb.net":!0,"hu.com":!0,"hu.net":!0,"jp.net":!0,"jpn.com":!0,"kr.com":!0,"mex.com":!0,"no.com":!0,"qc.com":!0,"ru.com":!0,"sa.com":!0,"se.com":!0,"se.net":!0,"uk.com":!0,"uk.net":!0,"us.com":!0,"uy.com":!0,"za.bz":!0,"za.com":!0,"africa.com":!0,"gr.com":!0,"in.net":!0,"us.org":!0,"co.com":!0,"c.la":!0,"certmgr.org":!0,"xenapponazure.com":!0,"virtueeldomein.nl":!0,"cloudcontrolled.com":!0,"cloudcontrolapp.com":!0,"co.ca":!0,"co.cz":!0,"c.cdn77.org":!0,"cdn77-ssl.net":!0,"r.cdn77.net":!0,"rsc.cdn77.org":!0,"ssl.origin.cdn77-secure.org":!0,"cloudns.asia":!0,"cloudns.biz":!0,"cloudns.club":!0,"cloudns.cc":!0,"cloudns.eu":!0,"cloudns.in":!0,"cloudns.info":!0,"cloudns.org":!0,"cloudns.pro":!0,"cloudns.pw":!0,"cloudns.us":!0,"co.nl":!0,"co.no":!0,"*.platform.sh":!0,"realm.cz":!0,"*.cryptonomic.net":!0,"cupcake.is":!0,"cyon.link":!0,"cyon.site":!0,"daplie.me":!0,"biz.dk":!0,"co.dk":!0,"firm.dk":!0,"reg.dk":!0,"store.dk":!0,"dedyn.io":!0,"dnshome.de":!0,"dreamhosters.com":!0,"mydrobo.com":!0,"drud.io":!0,"drud.us":!0,"duckdns.org":!0,"dy.fi":!0,"tunk.org":!0,"dyndns-at-home.com":!0,"dyndns-at-work.com":!0,"dyndns-blog.com":!0,"dyndns-free.com":!0,"dyndns-home.com":!0,"dyndns-ip.com":!0,"dyndns-mail.com":!0,"dyndns-office.com":!0,"dyndns-pics.com":!0,"dyndns-remote.com":!0,"dyndns-server.com":!0,"dyndns-web.com":!0,"dyndns-wiki.com":!0,"dyndns-work.com":!0,"dyndns.biz":!0,"dyndns.info":!0,"dyndns.org":!0,"dyndns.tv":!0,"at-band-camp.net":!0,"ath.cx":!0,"barrel-of-knowledge.info":!0,"barrell-of-knowledge.info":!0,"better-than.tv":!0,"blogdns.com":!0,"blogdns.net":!0,"blogdns.org":!0,"blogsite.org":!0,"boldlygoingnowhere.org":!0,"broke-it.net":!0,"buyshouses.net":!0,"cechire.com":!0,"dnsalias.com":!0,"dnsalias.net":!0,"dnsalias.org":!0,"dnsdojo.com":!0,"dnsdojo.net":!0,"dnsdojo.org":!0,"does-it.net":!0,"doesntexist.com":!0,"doesntexist.org":!0,"dontexist.com":!0,"dontexist.net":!0,"dontexist.org":!0,"doomdns.com":!0,"doomdns.org":!0,"dvrdns.org":!0,"dyn-o-saur.com":!0,"dynalias.com":!0,"dynalias.net":!0,"dynalias.org":!0,"dynathome.net":!0,"dyndns.ws":!0,"endofinternet.net":!0,"endofinternet.org":!0,"endoftheinternet.org":!0,"est-a-la-maison.com":!0,"est-a-la-masion.com":!0,"est-le-patron.com":!0,"est-mon-blogueur.com":!0,"for-better.biz":!0,"for-more.biz":!0,"for-our.info":!0,"for-some.biz":!0,"for-the.biz":!0,"forgot.her.name":!0,"forgot.his.name":!0,"from-ak.com":!0,"from-al.com":!0,"from-ar.com":!0,"from-az.net":!0,"from-ca.com":!0,"from-co.net":!0,"from-ct.com":!0,"from-dc.com":!0,"from-de.com":!0,"from-fl.com":!0,"from-ga.com":!0,"from-hi.com":!0,"from-ia.com":!0,"from-id.com":!0,"from-il.com":!0,"from-in.com":!0,"from-ks.com":!0,"from-ky.com":!0,"from-la.net":!0,"from-ma.com":!0,"from-md.com":!0,"from-me.org":!0,"from-mi.com":!0,"from-mn.com":!0,"from-mo.com":!0,"from-ms.com":!0,"from-mt.com":!0,"from-nc.com":!0,"from-nd.com":!0,"from-ne.com":!0,"from-nh.com":!0,"from-nj.com":!0,"from-nm.com":!0,"from-nv.com":!0,"from-ny.net":!0,"from-oh.com":!0,"from-ok.com":!0,"from-or.com":!0,"from-pa.com":!0,"from-pr.com":!0,"from-ri.com":!0,"from-sc.com":!0,"from-sd.com":!0,"from-tn.com":!0,"from-tx.com":!0,"from-ut.com":!0,"from-va.com":!0,"from-vt.com":!0,"from-wa.com":!0,"from-wi.com":!0,"from-wv.com":!0,"from-wy.com":!0,"ftpaccess.cc":!0,"fuettertdasnetz.de":!0,"game-host.org":!0,"game-server.cc":!0,"getmyip.com":!0,"gets-it.net":!0,"go.dyndns.org":!0,"gotdns.com":!0,"gotdns.org":!0,"groks-the.info":!0,"groks-this.info":!0,"ham-radio-op.net":!0,"here-for-more.info":!0,"hobby-site.com":!0,"hobby-site.org":!0,"home.dyndns.org":!0,"homedns.org":!0,"homeftp.net":!0,"homeftp.org":!0,"homeip.net":!0,"homelinux.com":!0,"homelinux.net":!0,"homelinux.org":!0,"homeunix.com":!0,"homeunix.net":!0,"homeunix.org":!0,"iamallama.com":!0,"in-the-band.net":!0,"is-a-anarchist.com":!0,"is-a-blogger.com":!0,"is-a-bookkeeper.com":!0,"is-a-bruinsfan.org":!0,"is-a-bulls-fan.com":!0,"is-a-candidate.org":!0,"is-a-caterer.com":!0,"is-a-celticsfan.org":!0,"is-a-chef.com":!0,"is-a-chef.net":!0,"is-a-chef.org":!0,"is-a-conservative.com":!0,"is-a-cpa.com":!0,"is-a-cubicle-slave.com":!0,"is-a-democrat.com":!0,"is-a-designer.com":!0,"is-a-doctor.com":!0,"is-a-financialadvisor.com":!0,"is-a-geek.com":!0,"is-a-geek.net":!0,"is-a-geek.org":!0,"is-a-green.com":!0,"is-a-guru.com":!0,"is-a-hard-worker.com":!0,"is-a-hunter.com":!0,"is-a-knight.org":!0,"is-a-landscaper.com":!0,"is-a-lawyer.com":!0,"is-a-liberal.com":!0,"is-a-libertarian.com":!0,"is-a-linux-user.org":!0,"is-a-llama.com":!0,"is-a-musician.com":!0,"is-a-nascarfan.com":!0,"is-a-nurse.com":!0,"is-a-painter.com":!0,"is-a-patsfan.org":!0,"is-a-personaltrainer.com":!0,"is-a-photographer.com":!0,
"is-a-player.com":!0,"is-a-republican.com":!0,"is-a-rockstar.com":!0,"is-a-socialist.com":!0,"is-a-soxfan.org":!0,"is-a-student.com":!0,"is-a-teacher.com":!0,"is-a-techie.com":!0,"is-a-therapist.com":!0,"is-an-accountant.com":!0,"is-an-actor.com":!0,"is-an-actress.com":!0,"is-an-anarchist.com":!0,"is-an-artist.com":!0,"is-an-engineer.com":!0,"is-an-entertainer.com":!0,"is-by.us":!0,"is-certified.com":!0,"is-found.org":!0,"is-gone.com":!0,"is-into-anime.com":!0,"is-into-cars.com":!0,"is-into-cartoons.com":!0,"is-into-games.com":!0,"is-leet.com":!0,"is-lost.org":!0,"is-not-certified.com":!0,"is-saved.org":!0,"is-slick.com":!0,"is-uberleet.com":!0,"is-very-bad.org":!0,"is-very-evil.org":!0,"is-very-good.org":!0,"is-very-nice.org":!0,"is-very-sweet.org":!0,"is-with-theband.com":!0,"isa-geek.com":!0,"isa-geek.net":!0,"isa-geek.org":!0,"isa-hockeynut.com":!0,"issmarterthanyou.com":!0,"isteingeek.de":!0,"istmein.de":!0,"kicks-ass.net":!0,"kicks-ass.org":!0,"knowsitall.info":!0,"land-4-sale.us":!0,"lebtimnetz.de":!0,"leitungsen.de":!0,"likes-pie.com":!0,"likescandy.com":!0,"merseine.nu":!0,"mine.nu":!0,"misconfused.org":!0,"mypets.ws":!0,"myphotos.cc":!0,"neat-url.com":!0,"office-on-the.net":!0,"on-the-web.tv":!0,"podzone.net":!0,"podzone.org":!0,"readmyblog.org":!0,"saves-the-whales.com":!0,"scrapper-site.net":!0,"scrapping.cc":!0,"selfip.biz":!0,"selfip.com":!0,"selfip.info":!0,"selfip.net":!0,"selfip.org":!0,"sells-for-less.com":!0,"sells-for-u.com":!0,"sells-it.net":!0,"sellsyourhome.org":!0,"servebbs.com":!0,"servebbs.net":!0,"servebbs.org":!0,"serveftp.net":!0,"serveftp.org":!0,"servegame.org":!0,"shacknet.nu":!0,"simple-url.com":!0,"space-to-rent.com":!0,"stuff-4-sale.org":!0,"stuff-4-sale.us":!0,"teaches-yoga.com":!0,"thruhere.net":!0,"traeumtgerade.de":!0,"webhop.biz":!0,"webhop.info":!0,"webhop.net":!0,"webhop.org":!0,"worse-than.tv":!0,"writesthisblog.com":!0,"ddnss.de":!0,"dyn.ddnss.de":!0,"dyndns.ddnss.de":!0,"dyndns1.de":!0,"dyn-ip24.de":!0,"home-webserver.de":!0,"dyn.home-webserver.de":!0,"myhome-server.de":!0,"ddnss.org":!0,"dynv6.net":!0,"e4.cz":!0,"eu.org":!0,"al.eu.org":!0,"asso.eu.org":!0,"at.eu.org":!0,"au.eu.org":!0,"be.eu.org":!0,"bg.eu.org":!0,"ca.eu.org":!0,"cd.eu.org":!0,"ch.eu.org":!0,"cn.eu.org":!0,"cy.eu.org":!0,"cz.eu.org":!0,"de.eu.org":!0,"dk.eu.org":!0,"edu.eu.org":!0,"ee.eu.org":!0,"es.eu.org":!0,"fi.eu.org":!0,"fr.eu.org":!0,"gr.eu.org":!0,"hr.eu.org":!0,"hu.eu.org":!0,"ie.eu.org":!0,"il.eu.org":!0,"in.eu.org":!0,"int.eu.org":!0,"is.eu.org":!0,"it.eu.org":!0,"jp.eu.org":!0,"kr.eu.org":!0,"lt.eu.org":!0,"lu.eu.org":!0,"lv.eu.org":!0,"mc.eu.org":!0,"me.eu.org":!0,"mk.eu.org":!0,"mt.eu.org":!0,"my.eu.org":!0,"net.eu.org":!0,"ng.eu.org":!0,"nl.eu.org":!0,"no.eu.org":!0,"nz.eu.org":!0,"paris.eu.org":!0,"pl.eu.org":!0,"pt.eu.org":!0,"q-a.eu.org":!0,"ro.eu.org":!0,"ru.eu.org":!0,"se.eu.org":!0,"si.eu.org":!0,"sk.eu.org":!0,"tr.eu.org":!0,"uk.eu.org":!0,"us.eu.org":!0,"eu-1.evennode.com":!0,"eu-2.evennode.com":!0,"us-1.evennode.com":!0,"us-2.evennode.com":!0,"apps.fbsbx.com":!0,"a.ssl.fastly.net":!0,"b.ssl.fastly.net":!0,"global.ssl.fastly.net":!0,"a.prod.fastly.net":!0,"global.prod.fastly.net":!0,"fhapp.xyz":!0,"firebaseapp.com":!0,"flynnhub.com":!0,"freebox-os.com":!0,"freeboxos.com":!0,"fbx-os.fr":!0,"fbxos.fr":!0,"freebox-os.fr":!0,"freeboxos.fr":!0,"myfusion.cloud":!0,"futuremailing.at":!0,"*.ex.ortsinfo.at":!0,"*.kunden.ortsinfo.at":!0,"service.gov.uk":!0,"github.io":!0,"githubusercontent.com":!0,"githubcloud.com":!0,"*.api.githubcloud.com":!0,"*.ext.githubcloud.com":!0,"gist.githubcloud.com":!0,"*.githubcloudusercontent.com":!0,"gitlab.io":!0,"ro.com":!0,"ro.im":!0,"shop.ro":!0,"goip.de":!0,"*.0emm.com":!0,"appspot.com":!0,"blogspot.ae":!0,"blogspot.al":!0,"blogspot.am":!0,"blogspot.ba":!0,"blogspot.be":!0,"blogspot.bg":!0,"blogspot.bj":!0,"blogspot.ca":!0,"blogspot.cf":!0,"blogspot.ch":!0,"blogspot.cl":!0,"blogspot.co.at":!0,"blogspot.co.id":!0,"blogspot.co.il":!0,"blogspot.co.ke":!0,"blogspot.co.nz":!0,"blogspot.co.uk":!0,"blogspot.co.za":!0,"blogspot.com":!0,"blogspot.com.ar":!0,"blogspot.com.au":!0,"blogspot.com.br":!0,"blogspot.com.by":!0,"blogspot.com.co":!0,"blogspot.com.cy":!0,"blogspot.com.ee":!0,"blogspot.com.eg":!0,"blogspot.com.es":!0,"blogspot.com.mt":!0,"blogspot.com.ng":!0,"blogspot.com.tr":!0,"blogspot.com.uy":!0,"blogspot.cv":!0,"blogspot.cz":!0,"blogspot.de":!0,"blogspot.dk":!0,"blogspot.fi":!0,"blogspot.fr":!0,"blogspot.gr":!0,"blogspot.hk":!0,"blogspot.hr":!0,"blogspot.hu":!0,"blogspot.ie":!0,"blogspot.in":!0,"blogspot.is":!0,"blogspot.it":!0,"blogspot.jp":!0,"blogspot.kr":!0,"blogspot.li":!0,"blogspot.lt":!0,"blogspot.lu":!0,"blogspot.md":!0,"blogspot.mk":!0,"blogspot.mr":!0,"blogspot.mx":!0,"blogspot.my":!0,"blogspot.nl":!0,"blogspot.no":!0,"blogspot.pe":!0,"blogspot.pt":!0,"blogspot.qa":!0,"blogspot.re":!0,"blogspot.ro":!0,"blogspot.rs":!0,"blogspot.ru":!0,"blogspot.se":!0,"blogspot.sg":!0,"blogspot.si":!0,"blogspot.sk":!0,"blogspot.sn":!0,"blogspot.td":!0,"blogspot.tw":!0,"blogspot.ug":!0,"blogspot.vn":!0,"cloudfunctions.net":!0,"codespot.com":!0,"googleapis.com":!0,"googlecode.com":!0,"pagespeedmobilizer.com":!0,"publishproxy.com":!0,"withgoogle.com":!0,"withyoutube.com":!0,"hashbang.sh":!0,"hasura-app.io":!0,"hepforge.org":!0,"herokuapp.com":!0,"herokussl.com":!0,"iki.fi":!0,"biz.at":!0,"info.at":!0,"ac.leg.br":!0,"al.leg.br":!0,"am.leg.br":!0,"ap.leg.br":!0,"ba.leg.br":!0,"ce.leg.br":!0,"df.leg.br":!0,"es.leg.br":!0,"go.leg.br":!0,"ma.leg.br":!0,"mg.leg.br":!0,"ms.leg.br":!0,"mt.leg.br":!0,"pa.leg.br":!0,"pb.leg.br":!0,"pe.leg.br":!0,"pi.leg.br":!0,"pr.leg.br":!0,"rj.leg.br":!0,"rn.leg.br":!0,"ro.leg.br":!0,"rr.leg.br":!0,"rs.leg.br":!0,"sc.leg.br":!0,"se.leg.br":!0,"sp.leg.br":!0,"to.leg.br":!0,"*.triton.zone":!0,"*.cns.joyent.com":!0,"js.org":!0,"keymachine.de":!0,"knightpoint.systems":!0,"co.krd":!0,"edu.krd":!0,"*.magentosite.cloud":!0,"meteorapp.com":!0,"eu.meteorapp.com":!0,"co.pl":!0,"azurewebsites.net":!0,"azure-mobile.net":!0,"cloudapp.net":!0,"bmoattachments.org":!0,"4u.com":!0,"ngrok.io":!0,"nfshost.com":!0,"nsupdate.info":!0,"nerdpol.ovh":!0,"blogsyte.com":!0,"brasilia.me":!0,"cable-modem.org":!0,"ciscofreak.com":!0,"collegefan.org":!0,"couchpotatofries.org":!0,"damnserver.com":!0,"ddns.me":!0,"ditchyourip.com":!0,"dnsfor.me":!0,"dnsiskinky.com":!0,"dvrcam.info":!0,"dynns.com":!0,"eating-organic.net":!0,"fantasyleague.cc":!0,"geekgalaxy.com":!0,"golffan.us":!0,"health-carereform.com":!0,"homesecuritymac.com":!0,"homesecuritypc.com":!0,"hopto.me":!0,"ilovecollege.info":!0,"loginto.me":!0,"mlbfan.org":!0,"mmafan.biz":!0,"myactivedirectory.com":!0,"mydissent.net":!0,"myeffect.net":!0,"mymediapc.net":!0,"mypsx.net":!0,"mysecuritycamera.com":!0,"mysecuritycamera.net":!0,"mysecuritycamera.org":!0,"net-freaks.com":!0,"nflfan.org":!0,"nhlfan.net":!0,"no-ip.ca":!0,"no-ip.co.uk":!0,"no-ip.net":!0,"noip.us":!0,"onthewifi.com":!0,"pgafan.net":!0,"point2this.com":!0,"pointto.us":!0,"privatizehealthinsurance.net":!0,"quicksytes.com":!0,"read-books.org":!0,"securitytactics.com":!0,"serveexchange.com":!0,"servehumour.com":!0,"servep2p.com":!0,"servesarcasm.com":!0,"stufftoread.com":!0,"ufcfan.org":!0,"unusualperson.com":!0,"workisboring.com":!0,"3utilities.com":!0,"bounceme.net":!0,"ddns.net":!0,"ddnsking.com":!0,"gotdns.ch":!0,"hopto.org":!0,"myftp.biz":!0,"myftp.org":!0,"myvnc.com":!0,"no-ip.biz":!0,"no-ip.info":!0,"no-ip.org":!0,"noip.me":!0,"redirectme.net":!0,"servebeer.com":!0,"serveblog.net":!0,"servecounterstrike.com":!0,"serveftp.com":!0,"servegame.com":!0,"servehalflife.com":!0,"servehttp.com":!0,"serveirc.com":!0,"serveminecraft.net":!0,"servemp3.com":!0,"servepics.com":!0,"servequake.com":!0,"sytes.net":!0,"webhop.me":!0,"zapto.org":!0,"nyc.mn":!0,"nid.io":!0,"opencraft.hosting":!0,"operaunite.com":!0,"outsystemscloud.com":!0,"ownprovider.com":!0,"oy.lc":!0,"pgfog.com":!0,"pagefrontapp.com":!0,"art.pl":!0,"gliwice.pl":!0,"krakow.pl":!0,"poznan.pl":!0,"wroc.pl":!0,"zakopane.pl":!0,"pantheonsite.io":!0,"gotpantheon.com":!0,"mypep.link":!0,"xen.prgmr.com":!0,"priv.at":!0,"protonet.io":!0,"chirurgiens-dentistes-en-france.fr":!0,"qa2.com":!0,"dev-myqnapcloud.com":!0,"alpha-myqnapcloud.com":!0,"myqnapcloud.com":!0,"rackmaze.com":!0,"rackmaze.net":!0,"rhcloud.com":!0,"hzc.io":!0,"wellbeingzone.eu":!0,"ptplus.fit":!0,"wellbeingzone.co.uk":!0,"sandcats.io":!0,"logoip.de":!0,"logoip.com":!0,"firewall-gateway.com":!0,"firewall-gateway.de":!0,"my-gateway.de":!0,"my-router.de":!0,"spdns.de":!0,"spdns.eu":!0,"firewall-gateway.net":!0,"my-firewall.org":!0,"myfirewall.org":!0,"spdns.org":!0,"biz.ua":!0,"co.ua":!0,"pp.ua":!0,"shiftedit.io":!0,"myshopblocks.com":!0,"1kapp.com":!0,"appchizi.com":!0,"applinzi.com":!0,"sinaapp.com":!0,"vipsinaapp.com":!0,"bounty-full.com":!0,"alpha.bounty-full.com":!0,"beta.bounty-full.com":!0,"static.land":!0,"dev.static.land":!0,"sites.static.land":!0,"apps.lair.io":!0,"*.stolos.io":!0,"spacekit.io":!0,"stackspace.space":!0,"diskstation.me":!0,"dscloud.biz":!0,"dscloud.me":!0,"dscloud.mobi":!0,"dsmynas.com":!0,"dsmynas.net":!0,"dsmynas.org":!0,"familyds.com":!0,"familyds.net":!0,"familyds.org":!0,"i234.me":!0,"myds.me":!0,"synology.me":!0,"taifun-dns.de":!0,"gda.pl":!0,"gdansk.pl":!0,"gdynia.pl":!0,"med.pl":!0,"sopot.pl":!0,"bloxcms.com":!0,"townnews-staging.com":!0,"*.transurl.be":!0,"*.transurl.eu":!0,"*.transurl.nl":!0,"tuxfamily.org":!0,"hk.com":!0,"hk.org":!0,"ltd.hk":!0,"inc.hk":!0,"lib.de.us":!0,"router.management":!0,"wmflabs.org":!0,"yolasite.com":!0,"za.net":!0,"za.org":!0,"now.sh":!0})},{punycode:136}],437:[function(e,t,n){"use strict";function r(){}n.Store=r,r.prototype.synchronous=!1,r.prototype.findCookie=function(e,t,n,r){throw new Error("findCookie is not implemented")},r.prototype.findCookies=function(e,t,n){throw new Error("findCookies is not implemented")},r.prototype.putCookie=function(e,t){throw new Error("putCookie is not implemented")},r.prototype.updateCookie=function(e,t,n){throw new Error("updateCookie is not implemented")},r.prototype.removeCookie=function(e,t,n,r){throw new Error("removeCookie is not implemented")},r.prototype.removeCookies=function(e,t,n){throw new Error("removeCookies is not implemented")},r.prototype.getAllCookies=function(e){throw new Error("getAllCookies is not implemented (therefore jar cannot be serialized)")}},{}],438:[function(e,t,n){t.exports={_args:[[{name:"tough-cookie",raw:"tough-cookie@~2.3.3",rawSpec:"~2.3.3",scope:null,spec:">=2.3.3 <2.4.0",type:"range"},"/var/www/production/node_modules/request"]],_from:"tough-cookie@>=2.3.3 <2.4.0",_id:"tough-cookie@2.3.3",_inCache:!0,_installable:!0,_location:"/tough-cookie",_nodeVersion:"7.9.0",_npmOperationalInternal:{host:"s3://npm-registry-packages",tmp:"tmp/tough-cookie-2.3.3.tgz_1506027901957_0.13104762020520866"},_npmUser:{email:"jstash@gmail.com",name:"jstash"},_npmVersion:"4.2.0",_phantomChildren:{},_requested:{name:"tough-cookie",raw:"tough-cookie@~2.3.3",rawSpec:"~2.3.3",scope:null,spec:">=2.3.3 <2.4.0",type:"range"},_requiredBy:["/bower-registry-client/request","/coveralls/request","/debowerify/request","/google-auth-library/request","/jsdom","/loggly/request","/phantomjs-prebuilt/request","/popsicle","/request","/request-promise"],_resolved:"https://registry.npmjs.org/tough-cookie/-/tough-cookie-2.3.3.tgz",_shasum:"0b618a5565b6dea90bf3425d04d55edc475a7561",_shrinkwrap:null,_spec:"tough-cookie@~2.3.3",_where:"/var/www/production/node_modules/request",author:{email:"jstashewsky@salesforce.com",name:"Jeremy Stashewsky"},bugs:{url:"https://github.com/salesforce/tough-cookie/issues"},contributors:[{name:"Alexander Savin"},{name:"Ian Livingstone"},{name:"Ivan Nikulin"},{name:"Lalit Kapoor"},{name:"Sam Thompson"},{name:"Sebastian Mayr"}],dependencies:{punycode:"^1.4.1"},description:"RFC6265 Cookies and Cookie Jar for node.js",devDependencies:{async:"^1.4.2","string.prototype.repeat":"^0.2.0",vows:"^0.8.1"},directories:{},dist:{shasum:"0b618a5565b6dea90bf3425d04d55edc475a7561",tarball:"https://registry.npmjs.org/tough-cookie/-/tough-cookie-2.3.3.tgz"},engines:{node:">=0.8"},files:["lib"],gitHead:"12d426678f77bd34dd1234b7acbf47b299f50439",homepage:"https://github.com/salesforce/tough-cookie",keywords:["HTTP","cookie","cookies","set-cookie","cookiejar","jar","RFC6265","RFC2965"],license:"BSD-3-Clause",main:"./lib/cookie",maintainers:[{email:"awaterma@awaterma.net",name:"awaterma"},{email:"jstash@gmail.com",name:"jstash"},{email:"emily@contactvibe.com",name:"nexxy"}],name:"tough-cookie",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git://github.com/salesforce/tough-cookie.git"},scripts:{suffixup:"curl -o public_suffix_list.dat https://publicsuffix.org/list/public_suffix_list.dat && ./generate-pubsuffix.js",test:"vows test/*_test.js"},version:"2.3.3"}},{}],439:[function(e,t,n){(function(t){"use strict";function r(e){var t=new s(e);return t.request=h.request,t}function i(e){var t=new s(e);return t.request=h.request,t.createSocket=c,t.defaultPort=443,t}function o(e){var t=new s(e);return t.request=d.request,t}function a(e){var t=new s(e);return t.request=d.request,t.createSocket=c,t.defaultPort=443,t}function s(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||h.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(e,n,r){for(var i=0,o=t.requests.length;i<o;++i){var a=t.requests[i];if(a.host===n&&a.port===r)return t.requests.splice(i,1),void a.request.onSocket(e)}e.destroy(),t.removeSocket(e)})}function c(e,t){var n=this;s.prototype.createSocket.call(n,e,function(r){var i=u.connect(0,l({},n.options,{servername:e.host,socket:r}));n.sockets[n.sockets.indexOf(r)]=i,t(i)})}function l(e){for(var t=1,n=arguments.length;t<n;++t){var r=arguments[t];if("object"==typeof r)for(var i=Object.keys(r),o=0,a=i.length;o<a;++o){var s=i[o];void 0!==r[s]&&(e[s]=r[s])}}return e}var u=(e("net"),e("tls")),h=e("http"),d=e("https"),f=e("events"),p=e("assert"),m=e("util"),g=e("safe-buffer").Buffer;n.httpOverHttp=r,n.httpsOverHttp=i,n.httpOverHttps=o,n.httpsOverHttps=a,m.inherits(s,f.EventEmitter),s.prototype.addRequest=function(e,t){var n=this;return"string"==typeof t&&(t={host:t,port:arguments[2],path:arguments[3]}),n.sockets.length>=this.maxSockets?void n.requests.push({host:t.host,port:t.port,request:e}):void n.createConnection({host:t.host,port:t.port,request:e})},s.prototype.createConnection=function(e){var t=this;t.createSocket(e,function(n){function r(){t.emit("free",n,e.host,e.port)}function i(e){t.removeSocket(n),n.removeListener("free",r),n.removeListener("close",i),n.removeListener("agentRemove",i)}n.on("free",r),n.on("close",i),n.on("agentRemove",i),e.request.onSocket(n)})},s.prototype.createSocket=function(e,n){function r(e){e.upgrade=!0}function i(e,n,r){t.nextTick(function(){o(e,n,r)})}function o(t,r,i){if(h.removeAllListeners(),r.removeAllListeners(),200===t.statusCode)p.equal(i.length,0),v("tunneling connection has established"),s.sockets[s.sockets.indexOf(c)]=r,n(r);else{v("tunneling socket could not be established, statusCode=%d",t.statusCode);var o=new Error("tunneling socket could not be established, statusCode="+t.statusCode);o.code="ECONNRESET",e.request.emit("error",o),s.removeSocket(c)}}function a(t){h.removeAllListeners(),v("tunneling socket could not be established, cause=%s\n",t.message,t.stack);var n=new Error("tunneling socket could not be established, cause="+t.message);n.code="ECONNRESET",e.request.emit("error",n),s.removeSocket(c)}var s=this,c={};s.sockets.push(c);var u=l({},s.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1});u.proxyAuth&&(u.headers=u.headers||{},u.headers["Proxy-Authorization"]="Basic "+g.from(u.proxyAuth).toString("base64")),v("making CONNECT request");var h=s.request(u);h.useChunkedEncodingByDefault=!1,h.once("response",r),h.once("upgrade",i),h.once("connect",o),h.once("error",a),h.end()},s.prototype.removeSocket=function(e){var t=this.sockets.indexOf(e);if(t!==-1){this.sockets.splice(t,1);var n=this.requests.shift();n&&this.createConnection(n)}};var v;v=t.env.NODE_DEBUG&&/\btunnel\b/.test(t.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments);"string"==typeof e[0]?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:function(){},n.debug=v}).call(this,e("_process"))},{_process:352,assert:79,events:134,http:288,https:296,net:129,"safe-buffer":383,tls:129,util:451}],440:[function(e,t,n){!function(t){"use strict";function n(e,t,n,r){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n,e[t+4]=r>>24&255,e[t+5]=r>>16&255,e[t+6]=r>>8&255,e[t+7]=255&r}function r(e,t,n,r,i){var o,a=0;for(o=0;o<i;o++)a|=e[t+o]^n[r+o];return(1&a-1>>>8)-1}function i(e,t,n,i){return r(e,t,n,i,16)}function o(e,t,n,i){return r(e,t,n,i,32)}function a(e,t,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,l=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,u=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,v=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,b=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,y=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,w=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,_=o,x=a,k=s,S=c,j=l,P=u,E=h,A=d,T=f,C=p,M=m,O=g,I=v,F=b,D=y,L=w,R=0;R<20;R+=2)i=_+I|0,j^=i<<7|i>>>25,i=j+_|0,T^=i<<9|i>>>23,i=T+j|0,I^=i<<13|i>>>19,i=I+T|0,_^=i<<18|i>>>14,i=P+x|0,C^=i<<7|i>>>25,i=C+P|0,F^=i<<9|i>>>23,i=F+C|0,x^=i<<13|i>>>19,i=x+F|0,P^=i<<18|i>>>14,i=M+E|0,D^=i<<7|i>>>25,i=D+M|0,k^=i<<9|i>>>23,i=k+D|0,E^=i<<13|i>>>19,i=E+k|0,M^=i<<18|i>>>14,i=L+O|0,S^=i<<7|i>>>25,i=S+L|0,A^=i<<9|i>>>23,i=A+S|0,O^=i<<13|i>>>19,i=O+A|0,L^=i<<18|i>>>14,i=_+S|0,x^=i<<7|i>>>25,i=x+_|0,k^=i<<9|i>>>23,i=k+x|0,S^=i<<13|i>>>19,i=S+k|0,_^=i<<18|i>>>14,i=P+j|0,E^=i<<7|i>>>25,i=E+P|0,A^=i<<9|i>>>23,i=A+E|0,j^=i<<13|i>>>19,i=j+A|0,P^=i<<18|i>>>14,i=M+C|0,O^=i<<7|i>>>25,i=O+M|0,T^=i<<9|i>>>23,i=T+O|0,C^=i<<13|i>>>19,i=C+T|0,M^=i<<18|i>>>14,i=L+D|0,I^=i<<7|i>>>25,i=I+L|0,F^=i<<9|i>>>23,i=F+I|0,D^=i<<13|i>>>19,i=D+F|0,L^=i<<18|i>>>14;_=_+o|0,x=x+a|0,k=k+s|0,S=S+c|0,j=j+l|0,P=P+u|0,E=E+h|0,A=A+d|0,T=T+f|0,C=C+p|0,M=M+m|0,O=O+g|0,I=I+v|0,F=F+b|0,D=D+y|0,L=L+w|0,e[0]=_>>>0&255,e[1]=_>>>8&255,e[2]=_>>>16&255,e[3]=_>>>24&255,e[4]=x>>>0&255,e[5]=x>>>8&255,e[6]=x>>>16&255,e[7]=x>>>24&255,e[8]=k>>>0&255,e[9]=k>>>8&255,e[10]=k>>>16&255,e[11]=k>>>24&255,e[12]=S>>>0&255,e[13]=S>>>8&255,e[14]=S>>>16&255,e[15]=S>>>24&255,e[16]=j>>>0&255,e[17]=j>>>8&255,e[18]=j>>>16&255,e[19]=j>>>24&255,e[20]=P>>>0&255,e[21]=P>>>8&255,e[22]=P>>>16&255,e[23]=P>>>24&255,e[24]=E>>>0&255,e[25]=E>>>8&255,e[26]=E>>>16&255,e[27]=E>>>24&255,e[28]=A>>>0&255,e[29]=A>>>8&255,e[30]=A>>>16&255,e[31]=A>>>24&255,e[32]=T>>>0&255,e[33]=T>>>8&255,e[34]=T>>>16&255,e[35]=T>>>24&255,e[36]=C>>>0&255,e[37]=C>>>8&255,e[38]=C>>>16&255,e[39]=C>>>24&255,e[40]=M>>>0&255,e[41]=M>>>8&255,e[42]=M>>>16&255,e[43]=M>>>24&255,e[44]=O>>>0&255,e[45]=O>>>8&255,e[46]=O>>>16&255,e[47]=O>>>24&255,e[48]=I>>>0&255,e[49]=I>>>8&255,e[50]=I>>>16&255,e[51]=I>>>24&255,e[52]=F>>>0&255,e[53]=F>>>8&255,e[54]=F>>>16&255,e[55]=F>>>24&255,e[56]=D>>>0&255,e[57]=D>>>8&255,e[58]=D>>>16&255,e[59]=D>>>24&255,e[60]=L>>>0&255,e[61]=L>>>8&255,e[62]=L>>>16&255,e[63]=L>>>24&255}function s(e,t,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,l=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,u=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,v=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,b=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,y=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,w=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,_=o,x=a,k=s,S=c,j=l,P=u,E=h,A=d,T=f,C=p,M=m,O=g,I=v,F=b,D=y,L=w,R=0;R<20;R+=2)i=_+I|0,j^=i<<7|i>>>25,i=j+_|0,T^=i<<9|i>>>23,i=T+j|0,I^=i<<13|i>>>19,i=I+T|0,_^=i<<18|i>>>14,i=P+x|0,C^=i<<7|i>>>25,i=C+P|0,F^=i<<9|i>>>23,i=F+C|0,x^=i<<13|i>>>19,i=x+F|0,P^=i<<18|i>>>14,i=M+E|0,D^=i<<7|i>>>25,i=D+M|0,k^=i<<9|i>>>23,i=k+D|0,E^=i<<13|i>>>19,i=E+k|0,M^=i<<18|i>>>14,i=L+O|0,S^=i<<7|i>>>25,i=S+L|0,A^=i<<9|i>>>23,i=A+S|0,O^=i<<13|i>>>19,i=O+A|0,L^=i<<18|i>>>14,i=_+S|0,x^=i<<7|i>>>25,i=x+_|0,k^=i<<9|i>>>23,i=k+x|0,S^=i<<13|i>>>19,i=S+k|0,_^=i<<18|i>>>14,i=P+j|0,E^=i<<7|i>>>25,i=E+P|0,A^=i<<9|i>>>23,i=A+E|0,j^=i<<13|i>>>19,i=j+A|0,P^=i<<18|i>>>14,i=M+C|0,O^=i<<7|i>>>25,i=O+M|0,T^=i<<9|i>>>23,i=T+O|0,C^=i<<13|i>>>19,i=C+T|0,M^=i<<18|i>>>14,i=L+D|0,I^=i<<7|i>>>25,i=I+L|0,F^=i<<9|i>>>23,i=F+I|0,D^=i<<13|i>>>19,i=D+F|0,L^=i<<18|i>>>14;e[0]=_>>>0&255,e[1]=_>>>8&255,e[2]=_>>>16&255,e[3]=_>>>24&255,e[4]=P>>>0&255,e[5]=P>>>8&255,e[6]=P>>>16&255,e[7]=P>>>24&255,e[8]=M>>>0&255,e[9]=M>>>8&255,e[10]=M>>>16&255,e[11]=M>>>24&255,e[12]=L>>>0&255,e[13]=L>>>8&255,e[14]=L>>>16&255,e[15]=L>>>24&255,e[16]=E>>>0&255,e[17]=E>>>8&255,e[18]=E>>>16&255,e[19]=E>>>24&255,e[20]=A>>>0&255,e[21]=A>>>8&255,e[22]=A>>>16&255,e[23]=A>>>24&255,e[24]=T>>>0&255,e[25]=T>>>8&255,e[26]=T>>>16&255,e[27]=T>>>24&255,e[28]=C>>>0&255,e[29]=C>>>8&255,e[30]=C>>>16&255,e[31]=C>>>24&255}function c(e,t,n,r){a(e,t,n,r)}function l(e,t,n,r){s(e,t,n,r)}function u(e,t,n,r,i,o,a){var s,l,u=new Uint8Array(16),h=new Uint8Array(64);for(l=0;l<16;l++)u[l]=0;for(l=0;l<8;l++)u[l]=o[l];for(;i>=64;){for(c(h,u,a,de),l=0;l<64;l++)e[t+l]=n[r+l]^h[l];for(s=1,l=8;l<16;l++)s=s+(255&u[l])|0,u[l]=255&s,s>>>=8;i-=64,t+=64,r+=64}if(i>0)for(c(h,u,a,de),l=0;l<i;l++)e[t+l]=n[r+l]^h[l];return 0}function h(e,t,n,r,i){var o,a,s=new Uint8Array(16),l=new Uint8Array(64);for(a=0;a<16;a++)s[a]=0;for(a=0;a<8;a++)s[a]=r[a];for(;n>=64;){for(c(l,s,i,de),a=0;a<64;a++)e[t+a]=l[a];for(o=1,a=8;a<16;a++)o=o+(255&s[a])|0,s[a]=255&o,o>>>=8;n-=64,t+=64}if(n>0)for(c(l,s,i,de),a=0;a<n;a++)e[t+a]=l[a];return 0}function d(e,t,n,r,i){var o=new Uint8Array(32);l(o,r,i,de);for(var a=new Uint8Array(8),s=0;s<8;s++)a[s]=r[s+16];return h(e,t,n,a,o)}function f(e,t,n,r,i,o,a){var s=new Uint8Array(32);l(s,o,a,de);for(var c=new Uint8Array(8),h=0;h<8;h++)c[h]=o[h+16];return u(e,t,n,r,i,c,s)}function p(e,t,n,r,i,o){var a=new fe(o);return a.update(n,r,i),a.finish(e,t),0}function m(e,t,n,r,o,a){var s=new Uint8Array(16);return p(s,0,n,r,o,a),i(e,t,s,0)}function g(e,t,n,r,i){var o;if(n<32)return-1;for(f(e,0,t,0,n,r,i),p(e,16,e,32,n-32,e),o=0;o<16;o++)e[o]=0;return 0}function v(e,t,n,r,i){var o,a=new Uint8Array(32);if(n<32)return-1;if(d(a,0,32,r,i),0!==m(t,16,t,32,n-32,a))return-1;for(f(e,0,t,0,n,r,i),o=0;o<32;o++)e[o]=0;return 0}function b(e,t){var n;for(n=0;n<16;n++)e[n]=0|t[n]}function y(e){var t,n,r=1;for(t=0;t<16;t++)n=e[t]+r+65535,r=Math.floor(n/65536),e[t]=n-65536*r;e[0]+=r-1+37*(r-1)}function w(e,t,n){for(var r,i=~(n-1),o=0;o<16;o++)r=i&(e[o]^t[o]),e[o]^=r,t[o]^=r}function _(e,t){var n,r,i,o=ee(),a=ee();for(n=0;n<16;n++)a[n]=t[n];for(y(a),y(a),y(a),r=0;r<2;r++){for(o[0]=a[0]-65517,n=1;n<15;n++)o[n]=a[n]-65535-(o[n-1]>>16&1),o[n-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),i=o[15]>>16&1,o[14]&=65535,w(a,o,1-i)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function x(e,t){var n=new Uint8Array(32),r=new Uint8Array(32);return _(n,e),_(r,t),o(n,0,r,0)}function k(e){var t=new Uint8Array(32);return _(t,e),1&t[0]}function S(e,t){var n;for(n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}function j(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]+n[r]}function P(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]-n[r]}function E(e,t,n){var r,i,o=0,a=0,s=0,c=0,l=0,u=0,h=0,d=0,f=0,p=0,m=0,g=0,v=0,b=0,y=0,w=0,_=0,x=0,k=0,S=0,j=0,P=0,E=0,A=0,T=0,C=0,M=0,O=0,I=0,F=0,D=0,L=n[0],R=n[1],N=n[2],U=n[3],$=n[4],z=n[5],B=n[6],q=n[7],V=n[8],H=n[9],W=n[10],G=n[11],Y=n[12],K=n[13],X=n[14],Q=n[15];r=t[0],o+=r*L,a+=r*R,s+=r*N,c+=r*U,l+=r*$,u+=r*z,h+=r*B,d+=r*q,f+=r*V,p+=r*H,m+=r*W,g+=r*G,v+=r*Y,b+=r*K,y+=r*X,w+=r*Q,r=t[1],a+=r*L,s+=r*R,c+=r*N,l+=r*U,u+=r*$,h+=r*z,d+=r*B,f+=r*q,p+=r*V,m+=r*H,g+=r*W,v+=r*G,b+=r*Y,y+=r*K,w+=r*X,_+=r*Q,r=t[2],s+=r*L,c+=r*R,l+=r*N,u+=r*U,h+=r*$,d+=r*z,f+=r*B,p+=r*q,m+=r*V,g+=r*H,v+=r*W,b+=r*G,y+=r*Y,w+=r*K,_+=r*X,x+=r*Q,r=t[3],c+=r*L,l+=r*R,u+=r*N,h+=r*U,d+=r*$,f+=r*z,p+=r*B,m+=r*q,g+=r*V,v+=r*H,b+=r*W,y+=r*G,w+=r*Y,_+=r*K,x+=r*X,k+=r*Q,r=t[4],l+=r*L,u+=r*R,h+=r*N,d+=r*U,f+=r*$,p+=r*z,m+=r*B,g+=r*q,v+=r*V,b+=r*H,y+=r*W,w+=r*G,_+=r*Y,x+=r*K,k+=r*X,S+=r*Q,r=t[5],u+=r*L,h+=r*R,d+=r*N,f+=r*U,p+=r*$,m+=r*z,g+=r*B,v+=r*q,b+=r*V,y+=r*H,w+=r*W,_+=r*G,x+=r*Y,k+=r*K,S+=r*X,j+=r*Q,r=t[6],h+=r*L,d+=r*R,f+=r*N,p+=r*U,m+=r*$,g+=r*z,v+=r*B,b+=r*q,y+=r*V,w+=r*H,_+=r*W,x+=r*G,k+=r*Y,S+=r*K,j+=r*X,P+=r*Q,r=t[7],d+=r*L,f+=r*R,p+=r*N,m+=r*U,g+=r*$,v+=r*z,b+=r*B,y+=r*q,w+=r*V,_+=r*H,x+=r*W,k+=r*G,S+=r*Y,j+=r*K,P+=r*X,E+=r*Q,r=t[8],f+=r*L,p+=r*R,m+=r*N,g+=r*U,v+=r*$,b+=r*z,y+=r*B,w+=r*q,_+=r*V,x+=r*H,k+=r*W,S+=r*G,j+=r*Y,P+=r*K,E+=r*X,A+=r*Q,r=t[9],p+=r*L,m+=r*R,g+=r*N,v+=r*U,b+=r*$,y+=r*z,w+=r*B,_+=r*q,x+=r*V,k+=r*H,S+=r*W,j+=r*G,P+=r*Y,E+=r*K,A+=r*X,T+=r*Q,r=t[10],m+=r*L,g+=r*R,v+=r*N,b+=r*U,y+=r*$,w+=r*z,_+=r*B,x+=r*q,k+=r*V,S+=r*H,j+=r*W,P+=r*G,E+=r*Y,A+=r*K,T+=r*X,C+=r*Q,r=t[11],g+=r*L,v+=r*R,b+=r*N,y+=r*U,w+=r*$,_+=r*z,x+=r*B,k+=r*q,S+=r*V,j+=r*H,P+=r*W,E+=r*G,A+=r*Y,T+=r*K,C+=r*X,M+=r*Q,r=t[12],v+=r*L,b+=r*R,y+=r*N,w+=r*U,_+=r*$,x+=r*z,k+=r*B,S+=r*q,j+=r*V,P+=r*H,E+=r*W,A+=r*G,T+=r*Y,C+=r*K,M+=r*X,O+=r*Q,r=t[13],b+=r*L,y+=r*R,w+=r*N,_+=r*U,x+=r*$,k+=r*z,S+=r*B,j+=r*q,P+=r*V,E+=r*H,A+=r*W,T+=r*G,C+=r*Y,M+=r*K,O+=r*X,I+=r*Q,r=t[14],y+=r*L,w+=r*R,_+=r*N,x+=r*U,k+=r*$,S+=r*z,j+=r*B,P+=r*q,E+=r*V,A+=r*H,T+=r*W,C+=r*G,M+=r*Y,O+=r*K,I+=r*X,F+=r*Q,r=t[15],w+=r*L,_+=r*R,x+=r*N,k+=r*U,S+=r*$,j+=r*z,P+=r*B,E+=r*q,A+=r*V,T+=r*H,C+=r*W,M+=r*G,O+=r*Y,I+=r*K,F+=r*X,D+=r*Q,o+=38*_,a+=38*x,s+=38*k,c+=38*S,l+=38*j,u+=38*P,h+=38*E,d+=38*A,f+=38*T,p+=38*C,m+=38*M,g+=38*O,v+=38*I,b+=38*F,y+=38*D,i=1,r=o+i+65535,i=Math.floor(r/65536),o=r-65536*i,r=a+i+65535,i=Math.floor(r/65536),a=r-65536*i,r=s+i+65535,i=Math.floor(r/65536),s=r-65536*i,r=c+i+65535,i=Math.floor(r/65536),c=r-65536*i,r=l+i+65535,i=Math.floor(r/65536),l=r-65536*i,r=u+i+65535,i=Math.floor(r/65536),u=r-65536*i,r=h+i+65535,i=Math.floor(r/65536),h=r-65536*i,r=d+i+65535,i=Math.floor(r/65536),d=r-65536*i,r=f+i+65535,i=Math.floor(r/65536),f=r-65536*i,r=p+i+65535,i=Math.floor(r/65536),p=r-65536*i,r=m+i+65535,i=Math.floor(r/65536),m=r-65536*i,r=g+i+65535,i=Math.floor(r/65536),g=r-65536*i,r=v+i+65535,i=Math.floor(r/65536),v=r-65536*i,r=b+i+65535,i=Math.floor(r/65536),b=r-65536*i,r=y+i+65535,i=Math.floor(r/65536),y=r-65536*i,r=w+i+65535,i=Math.floor(r/65536),w=r-65536*i,o+=i-1+37*(i-1),i=1,r=o+i+65535,i=Math.floor(r/65536),o=r-65536*i,r=a+i+65535,i=Math.floor(r/65536),a=r-65536*i,r=s+i+65535,i=Math.floor(r/65536),s=r-65536*i,r=c+i+65535,i=Math.floor(r/65536),c=r-65536*i,r=l+i+65535,i=Math.floor(r/65536),l=r-65536*i,r=u+i+65535,i=Math.floor(r/65536),u=r-65536*i,r=h+i+65535,i=Math.floor(r/65536),h=r-65536*i,r=d+i+65535,i=Math.floor(r/65536),d=r-65536*i,r=f+i+65535,i=Math.floor(r/65536),f=r-65536*i,r=p+i+65535,i=Math.floor(r/65536),p=r-65536*i,r=m+i+65535,i=Math.floor(r/65536),m=r-65536*i,r=g+i+65535,i=Math.floor(r/65536),g=r-65536*i,r=v+i+65535,i=Math.floor(r/65536),v=r-65536*i,r=b+i+65535,i=Math.floor(r/65536),b=r-65536*i,r=y+i+65535,i=Math.floor(r/65536),y=r-65536*i,r=w+i+65535,i=Math.floor(r/65536),w=r-65536*i,o+=i-1+37*(i-1),e[0]=o,e[1]=a,e[2]=s,e[3]=c,e[4]=l,e[5]=u,e[6]=h,e[7]=d,e[8]=f,e[9]=p,e[10]=m,e[11]=g,e[12]=v,e[13]=b,e[14]=y,e[15]=w}function A(e,t){E(e,t,t)}function T(e,t){var n,r=ee();for(n=0;n<16;n++)r[n]=t[n];for(n=253;n>=0;n--)A(r,r),2!==n&&4!==n&&E(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}function C(e,t){var n,r=ee();for(n=0;n<16;n++)r[n]=t[n];for(n=250;n>=0;n--)A(r,r),1!==n&&E(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}function M(e,t,n){var r,i,o=new Uint8Array(32),a=new Float64Array(80),s=ee(),c=ee(),l=ee(),u=ee(),h=ee(),d=ee();for(i=0;i<31;i++)o[i]=t[i];for(o[31]=127&t[31]|64,o[0]&=248,S(a,n),i=0;i<16;i++)c[i]=a[i],u[i]=s[i]=l[i]=0;for(s[0]=u[0]=1,i=254;i>=0;--i)r=o[i>>>3]>>>(7&i)&1,w(s,c,r),w(l,u,r),j(h,s,l),P(s,s,l),j(l,c,u),P(c,c,u),A(u,h),A(d,s),E(s,l,s),E(l,c,h),j(h,s,l),P(s,s,l),A(c,s),P(l,u,d),E(s,l,ae),j(s,s,u),E(l,l,s),E(s,u,d),E(u,c,a),A(c,h),w(s,c,r),w(l,u,r);for(i=0;i<16;i++)a[i+16]=s[i],a[i+32]=l[i],a[i+48]=c[i],a[i+64]=u[i];var f=a.subarray(32),p=a.subarray(16);return T(f,f),E(p,p,f),_(e,p),0}function O(e,t){return M(e,t,re)}function I(e,t){return te(t,32),O(e,t)}function F(e,t,n){var r=new Uint8Array(32);return M(r,n,t),l(e,ne,r,de)}function D(e,t,n,r,i,o){var a=new Uint8Array(32);return F(a,i,o),pe(e,t,n,r,a)}function L(e,t,n,r,i,o){var a=new Uint8Array(32);return F(a,i,o),me(e,t,n,r,a)}function R(e,t,n,r){for(var i,o,a,s,c,l,u,h,d,f,p,m,g,v,b,y,w,_,x,k,S,j,P,E,A,T,C=new Int32Array(16),M=new Int32Array(16),O=e[0],I=e[1],F=e[2],D=e[3],L=e[4],R=e[5],N=e[6],U=e[7],$=t[0],z=t[1],B=t[2],q=t[3],V=t[4],H=t[5],W=t[6],G=t[7],Y=0;r>=128;){for(x=0;x<16;x++)k=8*x+Y,C[x]=n[k+0]<<24|n[k+1]<<16|n[k+2]<<8|n[k+3],M[x]=n[k+4]<<24|n[k+5]<<16|n[k+6]<<8|n[k+7];for(x=0;x<80;x++)if(i=O,o=I,a=F,s=D,c=L,l=R,u=N,h=U,d=$,f=z,p=B,m=q,g=V,v=H,b=W,y=G,S=U,j=G,P=65535&j,E=j>>>16,A=65535&S,T=S>>>16,S=(L>>>14|V<<18)^(L>>>18|V<<14)^(V>>>9|L<<23),j=(V>>>14|L<<18)^(V>>>18|L<<14)^(L>>>9|V<<23),P+=65535&j,E+=j>>>16,A+=65535&S,T+=S>>>16,S=L&R^~L&N,j=V&H^~V&W,P+=65535&j,E+=j>>>16,A+=65535&S,T+=S>>>16,S=ge[2*x],j=ge[2*x+1],P+=65535&j,E+=j>>>16,A+=65535&S,T+=S>>>16,S=C[x%16],j=M[x%16],P+=65535&j,E+=j>>>16,A+=65535&S,T+=S>>>16,E+=P>>>16,A+=E>>>16,T+=A>>>16,w=65535&A|T<<16,_=65535&P|E<<16,S=w,j=_,P=65535&j,E=j>>>16,A=65535&S,T=S>>>16,S=(O>>>28|$<<4)^($>>>2|O<<30)^($>>>7|O<<25),j=($>>>28|O<<4)^(O>>>2|$<<30)^(O>>>7|$<<25),P+=65535&j,E+=j>>>16,A+=65535&S,T+=S>>>16,S=O&I^O&F^I&F,j=$&z^$&B^z&B,P+=65535&j,E+=j>>>16,A+=65535&S,T+=S>>>16,E+=P>>>16,A+=E>>>16,T+=A>>>16,h=65535&A|T<<16,y=65535&P|E<<16,S=s,j=m,P=65535&j,E=j>>>16,A=65535&S,T=S>>>16,S=w,j=_,P+=65535&j,E+=j>>>16,A+=65535&S,T+=S>>>16,E+=P>>>16,A+=E>>>16,T+=A>>>16,s=65535&A|T<<16,m=65535&P|E<<16,I=i,F=o,D=a,L=s,R=c,N=l,U=u,O=h,z=d,B=f,q=p,V=m,H=g,W=v,G=b,$=y,x%16===15)for(k=0;k<16;k++)S=C[k],j=M[k],P=65535&j,E=j>>>16,A=65535&S,T=S>>>16,S=C[(k+9)%16],j=M[(k+9)%16],P+=65535&j,E+=j>>>16,A+=65535&S,T+=S>>>16,w=C[(k+1)%16],_=M[(k+1)%16],S=(w>>>1|_<<31)^(w>>>8|_<<24)^w>>>7,j=(_>>>1|w<<31)^(_>>>8|w<<24)^(_>>>7|w<<25),P+=65535&j,E+=j>>>16,A+=65535&S,T+=S>>>16,w=C[(k+14)%16],_=M[(k+14)%16],S=(w>>>19|_<<13)^(_>>>29|w<<3)^w>>>6,j=(_>>>19|w<<13)^(w>>>29|_<<3)^(_>>>6|w<<26),P+=65535&j,E+=j>>>16,A+=65535&S,T+=S>>>16,E+=P>>>16,A+=E>>>16,T+=A>>>16,C[k]=65535&A|T<<16,M[k]=65535&P|E<<16;S=O,j=$,P=65535&j,E=j>>>16,A=65535&S,T=S>>>16,S=e[0],j=t[0],P+=65535&j,E+=j>>>16,A+=65535&S,T+=S>>>16,E+=P>>>16,A+=E>>>16,T+=A>>>16,e[0]=O=65535&A|T<<16,t[0]=$=65535&P|E<<16,S=I,j=z,P=65535&j,E=j>>>16,A=65535&S,T=S>>>16,S=e[1],j=t[1],P+=65535&j,E+=j>>>16,A+=65535&S,T+=S>>>16,E+=P>>>16,A+=E>>>16,T+=A>>>16,e[1]=I=65535&A|T<<16,t[1]=z=65535&P|E<<16,S=F,j=B,P=65535&j,E=j>>>16,A=65535&S,T=S>>>16,S=e[2],j=t[2],P+=65535&j,E+=j>>>16,A+=65535&S,T+=S>>>16,E+=P>>>16,A+=E>>>16,T+=A>>>16,e[2]=F=65535&A|T<<16,t[2]=B=65535&P|E<<16,S=D,j=q,P=65535&j,E=j>>>16,A=65535&S,T=S>>>16,S=e[3],j=t[3],P+=65535&j,E+=j>>>16,A+=65535&S,T+=S>>>16,E+=P>>>16,A+=E>>>16,
T+=A>>>16,e[3]=D=65535&A|T<<16,t[3]=q=65535&P|E<<16,S=L,j=V,P=65535&j,E=j>>>16,A=65535&S,T=S>>>16,S=e[4],j=t[4],P+=65535&j,E+=j>>>16,A+=65535&S,T+=S>>>16,E+=P>>>16,A+=E>>>16,T+=A>>>16,e[4]=L=65535&A|T<<16,t[4]=V=65535&P|E<<16,S=R,j=H,P=65535&j,E=j>>>16,A=65535&S,T=S>>>16,S=e[5],j=t[5],P+=65535&j,E+=j>>>16,A+=65535&S,T+=S>>>16,E+=P>>>16,A+=E>>>16,T+=A>>>16,e[5]=R=65535&A|T<<16,t[5]=H=65535&P|E<<16,S=N,j=W,P=65535&j,E=j>>>16,A=65535&S,T=S>>>16,S=e[6],j=t[6],P+=65535&j,E+=j>>>16,A+=65535&S,T+=S>>>16,E+=P>>>16,A+=E>>>16,T+=A>>>16,e[6]=N=65535&A|T<<16,t[6]=W=65535&P|E<<16,S=U,j=G,P=65535&j,E=j>>>16,A=65535&S,T=S>>>16,S=e[7],j=t[7],P+=65535&j,E+=j>>>16,A+=65535&S,T+=S>>>16,E+=P>>>16,A+=E>>>16,T+=A>>>16,e[7]=U=65535&A|T<<16,t[7]=G=65535&P|E<<16,Y+=128,r-=128}return r}function N(e,t,r){var i,o=new Int32Array(8),a=new Int32Array(8),s=new Uint8Array(256),c=r;for(o[0]=1779033703,o[1]=3144134277,o[2]=1013904242,o[3]=2773480762,o[4]=1359893119,o[5]=2600822924,o[6]=528734635,o[7]=1541459225,a[0]=4089235720,a[1]=2227873595,a[2]=4271175723,a[3]=1595750129,a[4]=2917565137,a[5]=725511199,a[6]=4215389547,a[7]=327033209,R(o,a,t,r),r%=128,i=0;i<r;i++)s[i]=t[c-r+i];for(s[r]=128,r=256-128*(r<112?1:0),s[r-9]=0,n(s,r-8,c/536870912|0,c<<3),R(o,a,s,r),i=0;i<8;i++)n(e,8*i,o[i],a[i]);return 0}function U(e,t){var n=ee(),r=ee(),i=ee(),o=ee(),a=ee(),s=ee(),c=ee(),l=ee(),u=ee();P(n,e[1],e[0]),P(u,t[1],t[0]),E(n,n,u),j(r,e[0],e[1]),j(u,t[0],t[1]),E(r,r,u),E(i,e[3],t[3]),E(i,i,ce),E(o,e[2],t[2]),j(o,o,o),P(a,r,n),P(s,o,i),j(c,o,i),j(l,r,n),E(e[0],a,s),E(e[1],l,c),E(e[2],c,s),E(e[3],a,l)}function $(e,t,n){var r;for(r=0;r<4;r++)w(e[r],t[r],n)}function z(e,t){var n=ee(),r=ee(),i=ee();T(i,t[2]),E(n,t[0],i),E(r,t[1],i),_(e,r),e[31]^=k(n)<<7}function B(e,t,n){var r,i;for(b(e[0],ie),b(e[1],oe),b(e[2],oe),b(e[3],ie),i=255;i>=0;--i)r=n[i/8|0]>>(7&i)&1,$(e,t,r),U(t,e),U(e,e),$(e,t,r)}function q(e,t){var n=[ee(),ee(),ee(),ee()];b(n[0],le),b(n[1],ue),b(n[2],oe),E(n[3],le,ue),B(e,n,t)}function V(e,t,n){var r,i=new Uint8Array(64),o=[ee(),ee(),ee(),ee()];for(n||te(t,32),N(i,t,32),i[0]&=248,i[31]&=127,i[31]|=64,q(o,i),z(e,o),r=0;r<32;r++)t[r+32]=e[r];return 0}function H(e,t){var n,r,i,o;for(r=63;r>=32;--r){for(n=0,i=r-32,o=r-12;i<o;++i)t[i]+=n-16*t[r]*ve[i-(r-32)],n=t[i]+128>>8,t[i]-=256*n;t[i]+=n,t[r]=0}for(n=0,i=0;i<32;i++)t[i]+=n-(t[31]>>4)*ve[i],n=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=n*ve[i];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function W(e){var t,n=new Float64Array(64);for(t=0;t<64;t++)n[t]=e[t];for(t=0;t<64;t++)e[t]=0;H(e,n)}function G(e,t,n,r){var i,o,a=new Uint8Array(64),s=new Uint8Array(64),c=new Uint8Array(64),l=new Float64Array(64),u=[ee(),ee(),ee(),ee()];N(a,r,32),a[0]&=248,a[31]&=127,a[31]|=64;var h=n+64;for(i=0;i<n;i++)e[64+i]=t[i];for(i=0;i<32;i++)e[32+i]=a[32+i];for(N(c,e.subarray(32),n+32),W(c),q(u,c),z(e,u),i=32;i<64;i++)e[i]=r[i];for(N(s,e,n+64),W(s),i=0;i<64;i++)l[i]=0;for(i=0;i<32;i++)l[i]=c[i];for(i=0;i<32;i++)for(o=0;o<32;o++)l[i+o]+=s[i]*a[o];return H(e.subarray(32),l),h}function Y(e,t){var n=ee(),r=ee(),i=ee(),o=ee(),a=ee(),s=ee(),c=ee();return b(e[2],oe),S(e[1],t),A(i,e[1]),E(o,i,se),P(i,i,e[2]),j(o,e[2],o),A(a,o),A(s,a),E(c,s,a),E(n,c,i),E(n,n,o),C(n,n),E(n,n,i),E(n,n,o),E(n,n,o),E(e[0],n,o),A(r,e[0]),E(r,r,o),x(r,i)&&E(e[0],e[0],he),A(r,e[0]),E(r,r,o),x(r,i)?-1:(k(e[0])===t[31]>>7&&P(e[0],ie,e[0]),E(e[3],e[0],e[1]),0)}function K(e,t,n,r){var i,a,s=new Uint8Array(32),c=new Uint8Array(64),l=[ee(),ee(),ee(),ee()],u=[ee(),ee(),ee(),ee()];if(a=-1,n<64)return-1;if(Y(u,r))return-1;for(i=0;i<n;i++)e[i]=t[i];for(i=0;i<32;i++)e[i+32]=r[i];if(N(c,e,n),W(c),B(l,u,c),q(u,t.subarray(32)),U(l,u),z(s,l),n-=64,o(t,0,s,0)){for(i=0;i<n;i++)e[i]=0;return-1}for(i=0;i<n;i++)e[i]=t[i+64];return a=n}function X(e,t){if(e.length!==be)throw new Error("bad key size");if(t.length!==ye)throw new Error("bad nonce size")}function Q(e,t){if(e.length!==Se)throw new Error("bad public key size");if(t.length!==je)throw new Error("bad secret key size")}function Z(){var e,t;for(t=0;t<arguments.length;t++)if("[object Uint8Array]"!==(e=Object.prototype.toString.call(arguments[t])))throw new TypeError("unexpected type "+e+", use Uint8Array")}function J(e){for(var t=0;t<e.length;t++)e[t]=0}var ee=function(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;t++)n[t]=e[t];return n},te=function(){throw new Error("no PRNG")},ne=new Uint8Array(16),re=new Uint8Array(32);re[0]=9;var ie=ee(),oe=ee([1]),ae=ee([56129,1]),se=ee([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),ce=ee([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),le=ee([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),ue=ee([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),he=ee([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]),de=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),fe=function(e){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var t,n,r,i,o,a,s,c;t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,n=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|n<<3),r=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(n>>>10|r<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(r>>>7|i<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,a=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|a<<2),s=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(a>>>11|s<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(s>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};fe.prototype.blocks=function(e,t,n){for(var r,i,o,a,s,c,l,u,h,d,f,p,m,g,v,b,y,w,_,x=this.fin?0:2048,k=this.h[0],S=this.h[1],j=this.h[2],P=this.h[3],E=this.h[4],A=this.h[5],T=this.h[6],C=this.h[7],M=this.h[8],O=this.h[9],I=this.r[0],F=this.r[1],D=this.r[2],L=this.r[3],R=this.r[4],N=this.r[5],U=this.r[6],$=this.r[7],z=this.r[8],B=this.r[9];n>=16;)r=255&e[t+0]|(255&e[t+1])<<8,k+=8191&r,i=255&e[t+2]|(255&e[t+3])<<8,S+=8191&(r>>>13|i<<3),o=255&e[t+4]|(255&e[t+5])<<8,j+=8191&(i>>>10|o<<6),a=255&e[t+6]|(255&e[t+7])<<8,P+=8191&(o>>>7|a<<9),s=255&e[t+8]|(255&e[t+9])<<8,E+=8191&(a>>>4|s<<12),A+=s>>>1&8191,c=255&e[t+10]|(255&e[t+11])<<8,T+=8191&(s>>>14|c<<2),l=255&e[t+12]|(255&e[t+13])<<8,C+=8191&(c>>>11|l<<5),u=255&e[t+14]|(255&e[t+15])<<8,M+=8191&(l>>>8|u<<8),O+=u>>>5|x,h=0,d=h,d+=k*I,d+=S*(5*B),d+=j*(5*z),d+=P*(5*$),d+=E*(5*U),h=d>>>13,d&=8191,d+=A*(5*N),d+=T*(5*R),d+=C*(5*L),d+=M*(5*D),d+=O*(5*F),h+=d>>>13,d&=8191,f=h,f+=k*F,f+=S*I,f+=j*(5*B),f+=P*(5*z),f+=E*(5*$),h=f>>>13,f&=8191,f+=A*(5*U),f+=T*(5*N),f+=C*(5*R),f+=M*(5*L),f+=O*(5*D),h+=f>>>13,f&=8191,p=h,p+=k*D,p+=S*F,p+=j*I,p+=P*(5*B),p+=E*(5*z),h=p>>>13,p&=8191,p+=A*(5*$),p+=T*(5*U),p+=C*(5*N),p+=M*(5*R),p+=O*(5*L),h+=p>>>13,p&=8191,m=h,m+=k*L,m+=S*D,m+=j*F,m+=P*I,m+=E*(5*B),h=m>>>13,m&=8191,m+=A*(5*z),m+=T*(5*$),m+=C*(5*U),m+=M*(5*N),m+=O*(5*R),h+=m>>>13,m&=8191,g=h,g+=k*R,g+=S*L,g+=j*D,g+=P*F,g+=E*I,h=g>>>13,g&=8191,g+=A*(5*B),g+=T*(5*z),g+=C*(5*$),g+=M*(5*U),g+=O*(5*N),h+=g>>>13,g&=8191,v=h,v+=k*N,v+=S*R,v+=j*L,v+=P*D,v+=E*F,h=v>>>13,v&=8191,v+=A*I,v+=T*(5*B),v+=C*(5*z),v+=M*(5*$),v+=O*(5*U),h+=v>>>13,v&=8191,b=h,b+=k*U,b+=S*N,b+=j*R,b+=P*L,b+=E*D,h=b>>>13,b&=8191,b+=A*F,b+=T*I,b+=C*(5*B),b+=M*(5*z),b+=O*(5*$),h+=b>>>13,b&=8191,y=h,y+=k*$,y+=S*U,y+=j*N,y+=P*R,y+=E*L,h=y>>>13,y&=8191,y+=A*D,y+=T*F,y+=C*I,y+=M*(5*B),y+=O*(5*z),h+=y>>>13,y&=8191,w=h,w+=k*z,w+=S*$,w+=j*U,w+=P*N,w+=E*R,h=w>>>13,w&=8191,w+=A*L,w+=T*D,w+=C*F,w+=M*I,w+=O*(5*B),h+=w>>>13,w&=8191,_=h,_+=k*B,_+=S*z,_+=j*$,_+=P*U,_+=E*N,h=_>>>13,_&=8191,_+=A*R,_+=T*L,_+=C*D,_+=M*F,_+=O*I,h+=_>>>13,_&=8191,h=(h<<2)+h|0,h=h+d|0,d=8191&h,h>>>=13,f+=h,k=d,S=f,j=p,P=m,E=g,A=v,T=b,C=y,M=w,O=_,t+=16,n-=16;this.h[0]=k,this.h[1]=S,this.h[2]=j,this.h[3]=P,this.h[4]=E,this.h[5]=A,this.h[6]=T,this.h[7]=C,this.h[8]=M,this.h[9]=O},fe.prototype.finish=function(e,t){var n,r,i,o,a=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=n,n=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,a[0]=this.h[0]+5,n=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this.h[o]+n,n=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,r=(1^n)-1,o=0;o<10;o++)a[o]&=r;for(r=~r,o=0;o<10;o++)this.h[o]=this.h[o]&r|a[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},fe.prototype.update=function(e,t,n){var r,i;if(this.leftover){for(i=16-this.leftover,i>n&&(i=n),r=0;r<i;r++)this.buffer[this.leftover+r]=e[t+r];if(n-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(i=n-n%16,this.blocks(e,t,i),t+=i,n-=i),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=e[t+r];this.leftover+=n}};var pe=g,me=v,ge=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],ve=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),be=32,ye=24,we=32,_e=16,xe=32,ke=32,Se=32,je=32,Pe=32,Ee=ye,Ae=we,Te=_e,Ce=64,Me=32,Oe=64,Ie=32,Fe=64;t.lowlevel={crypto_core_hsalsa20:l,crypto_stream_xor:f,crypto_stream:d,crypto_stream_salsa20_xor:u,crypto_stream_salsa20:h,crypto_onetimeauth:p,crypto_onetimeauth_verify:m,crypto_verify_16:i,crypto_verify_32:o,crypto_secretbox:g,crypto_secretbox_open:v,crypto_scalarmult:M,crypto_scalarmult_base:O,crypto_box_beforenm:F,crypto_box_afternm:pe,crypto_box:D,crypto_box_open:L,crypto_box_keypair:I,crypto_hash:N,crypto_sign:G,crypto_sign_keypair:V,crypto_sign_open:K,crypto_secretbox_KEYBYTES:be,crypto_secretbox_NONCEBYTES:ye,crypto_secretbox_ZEROBYTES:we,crypto_secretbox_BOXZEROBYTES:_e,crypto_scalarmult_BYTES:xe,crypto_scalarmult_SCALARBYTES:ke,crypto_box_PUBLICKEYBYTES:Se,crypto_box_SECRETKEYBYTES:je,crypto_box_BEFORENMBYTES:Pe,crypto_box_NONCEBYTES:Ee,crypto_box_ZEROBYTES:Ae,crypto_box_BOXZEROBYTES:Te,crypto_sign_BYTES:Ce,crypto_sign_PUBLICKEYBYTES:Me,crypto_sign_SECRETKEYBYTES:Oe,crypto_sign_SEEDBYTES:Ie,crypto_hash_BYTES:Fe},t.util||(t.util={},t.util.decodeUTF8=t.util.encodeUTF8=t.util.encodeBase64=t.util.decodeBase64=function(){throw new Error("nacl.util moved into separate package: https://github.com/dchest/tweetnacl-util-js")}),t.randomBytes=function(e){var t=new Uint8Array(e);return te(t,e),t},t.secretbox=function(e,t,n){Z(e,t,n),X(n,t);for(var r=new Uint8Array(we+e.length),i=new Uint8Array(r.length),o=0;o<e.length;o++)r[o+we]=e[o];return g(i,r,r.length,t,n),i.subarray(_e)},t.secretbox.open=function(e,t,n){Z(e,t,n),X(n,t);for(var r=new Uint8Array(_e+e.length),i=new Uint8Array(r.length),o=0;o<e.length;o++)r[o+_e]=e[o];return!(r.length<32)&&(0===v(i,r,r.length,t,n)&&i.subarray(we))},t.secretbox.keyLength=be,t.secretbox.nonceLength=ye,t.secretbox.overheadLength=_e,t.scalarMult=function(e,t){if(Z(e,t),e.length!==ke)throw new Error("bad n size");if(t.length!==xe)throw new Error("bad p size");var n=new Uint8Array(xe);return M(n,e,t),n},t.scalarMult.base=function(e){if(Z(e),e.length!==ke)throw new Error("bad n size");var t=new Uint8Array(xe);return O(t,e),t},t.scalarMult.scalarLength=ke,t.scalarMult.groupElementLength=xe,t.box=function(e,n,r,i){var o=t.box.before(r,i);return t.secretbox(e,n,o)},t.box.before=function(e,t){Z(e,t),Q(e,t);var n=new Uint8Array(Pe);return F(n,e,t),n},t.box.after=t.secretbox,t.box.open=function(e,n,r,i){var o=t.box.before(r,i);return t.secretbox.open(e,n,o)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var e=new Uint8Array(Se),t=new Uint8Array(je);return I(e,t),{publicKey:e,secretKey:t}},t.box.keyPair.fromSecretKey=function(e){if(Z(e),e.length!==je)throw new Error("bad secret key size");var t=new Uint8Array(Se);return O(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},t.box.publicKeyLength=Se,t.box.secretKeyLength=je,t.box.sharedKeyLength=Pe,t.box.nonceLength=Ee,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(e,t){if(Z(e,t),t.length!==Oe)throw new Error("bad secret key size");var n=new Uint8Array(Ce+e.length);return G(n,e,e.length,t),n},t.sign.open=function(e,t){if(2!==arguments.length)throw new Error("nacl.sign.open accepts 2 arguments; did you mean to use nacl.sign.detached.verify?");if(Z(e,t),t.length!==Me)throw new Error("bad public key size");var n=new Uint8Array(e.length),r=K(n,e,e.length,t);if(r<0)return null;for(var i=new Uint8Array(r),o=0;o<i.length;o++)i[o]=n[o];return i},t.sign.detached=function(e,n){for(var r=t.sign(e,n),i=new Uint8Array(Ce),o=0;o<i.length;o++)i[o]=r[o];return i},t.sign.detached.verify=function(e,t,n){if(Z(e,t,n),t.length!==Ce)throw new Error("bad signature size");if(n.length!==Me)throw new Error("bad public key size");var r,i=new Uint8Array(Ce+e.length),o=new Uint8Array(Ce+e.length);for(r=0;r<Ce;r++)i[r]=t[r];for(r=0;r<e.length;r++)i[r+Ce]=e[r];return K(o,i,i.length,n)>=0},t.sign.keyPair=function(){var e=new Uint8Array(Me),t=new Uint8Array(Oe);return V(e,t),{publicKey:e,secretKey:t}},t.sign.keyPair.fromSecretKey=function(e){if(Z(e),e.length!==Oe)throw new Error("bad secret key size");for(var t=new Uint8Array(Me),n=0;n<t.length;n++)t[n]=e[32+n];return{publicKey:t,secretKey:new Uint8Array(e)}},t.sign.keyPair.fromSeed=function(e){if(Z(e),e.length!==Ie)throw new Error("bad seed size");for(var t=new Uint8Array(Me),n=new Uint8Array(Oe),r=0;r<32;r++)n[r]=e[r];return V(t,n,!0),{publicKey:t,secretKey:n}},t.sign.publicKeyLength=Me,t.sign.secretKeyLength=Oe,t.sign.seedLength=Ie,t.sign.signatureLength=Ce,t.hash=function(e){Z(e);var t=new Uint8Array(Fe);return N(t,e,e.length),t},t.hash.hashLength=Fe,t.verify=function(e,t){return Z(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===r(e,0,t,0,e.length))},t.setPRNG=function(e){te=e},function(){var n="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(n&&n.getRandomValues){var r=65536;t.setPRNG(function(e,t){var i,o=new Uint8Array(t);for(i=0;i<t;i+=r)n.getRandomValues(o.subarray(i,i+Math.min(t-i,r)));for(i=0;i<t;i++)e[i]=o[i];J(o)})}else"undefined"!=typeof e&&(n=e("crypto"),n&&n.randomBytes&&t.setPRNG(function(e,t){var r,i=n.randomBytes(t);for(r=0;r<t;r++)e[r]=i[r];J(i)}))}()}("undefined"!=typeof t&&t.exports?t.exports:self.nacl=self.nacl||{})},{crypto:100}],441:[function(e,t,n){!function(){"use strict";function e(e){return angular.isUndefined(e)||null===e}var t={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(e){var n=e.which;switch(n){case t.COMMAND:case t.SHIFT:case t.CTRL:case t.ALT:return!0}return!!(e.metaKey||e.ctrlKey||e.altKey)},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&e<=123},isVerticalMovement:function(e){return~[t.UP,t.DOWN].indexOf(e)},isHorizontalMovement:function(e){return~[t.LEFT,t.RIGHT,t.BACKSPACE,t.DELETE].indexOf(e)},toSeparator:function(e){var n={ENTER:"\n",TAB:"\t",SPACE:" "}[e];return n?n:t[e]?void 0:e}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(e){for(var t=this[0],n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(n.bind(t)(e))return t;t=t.parentElement}return!1});var n=0,r=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",removeSelected:!0,resetSearchInput:!0,generateId:function(){return n++},appendToBody:!1,spinnerEnabled:!1,spinnerClass:"glyphicon glyphicon-refresh ui-select-spin",backspaceReset:!0}).service("uiSelectMinErr",function(){var e=angular.$$minErr("ui.select");return function(){var t=e.apply(this,arguments),n=t.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(n)}}).directive("uisTranscludeAppend",function(){return{link:function(e,t,n,r,i){i(e,function(e){t.append(e)})}}}).filter("highlight",function(){function e(e){return(""+e).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n&&t?(""+t).replace(new RegExp(e(n),"gi"),'<span class="ui-select-highlight">$&</span>'):t}}).factory("uisOffset",["$document","$window",function(e,t){return function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}}}]);r.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(e,t,n,r,i){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){t.addClass("ui-select-choices");var n=t.parent().attr("theme")||e.theme;return n+"/choices.tpl.html"},compile:function(r,o){if(!o.repeat)throw n("repeat","Expected 'repeat' expression.");var a=o.groupBy,s=o.groupFilter;if(a){var c=r.querySelectorAll(".ui-select-choices-group");if(1!==c.length)throw n("rows","Expected 1 .ui-select-choices-group but got '{0}'.",c.length);c.attr("ng-repeat",t.getGroupNgRepeatExpression())}var l=t.parse(o.repeat),u=r.querySelectorAll(".ui-select-choices-row");if(1!==u.length)throw n("rows","Expected 1 .ui-select-choices-row but got '{0}'.",u.length);u.attr("ng-repeat",l.repeatExpression(a)).attr("ng-if","$select.open");var h=r.querySelectorAll(".ui-select-choices-row-inner");if(1!==h.length)throw n("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",h.length);h.attr("uis-transclude-append","");var d=i.document.addEventListener?u:h;return d.attr("ng-click","$select.select("+l.itemName+",$select.skipFocusser,$event)"),function(t,n,i,o){o.parseRepeatAttr(i.repeat,a,s),o.disableChoiceExpression=i.uiDisableChoice,o.onHighlightCallback=i.onHighlight,o.minimumInputLength=parseInt(i.minimumInputLength)||0,o.dropdownPosition=i.position?i.position.toLowerCase():e.dropdownPosition,t.$watch("$select.search",function(e){e&&!o.open&&o.multiple&&o.activate(!1,!0),o.activeIndex=o.tagging.isActivated?-1:0,!i.minimumInputLength||o.search.length>=i.minimumInputLength?o.refresh(i.refresh):o.items=[]}),i.$observe("refreshDelay",function(){var n=t.$eval(i.refreshDelay);o.refreshDelay=void 0!==n?n:e.refreshDelay}),t.$watch("$select.open",function(e){e?(r.attr("role","listbox"),o.refresh(i.refresh)):n.removeAttr("role")})}}}}]),r.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","$$uisDebounce","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function(n,r,i,o,a,s,c,l,u,h,d){function f(e,t,n){if(e.findIndex)return e.findIndex(t,n);for(var r,i=Object(e),o=i.length>>>0,a=0;a<o;a++)if(r=i[a],t.call(n,r,a,i))return a;return-1}function p(){_.resetSearchInput&&(_.search=x,_.selected&&_.items.length&&!_.multiple&&(_.activeIndex=f(_.items,function(e){return angular.equals(this,e)},_.selected)))}function m(e,t){var n,r,i=[];for(n=0;n<t.length;n++)for(r=0;r<e.length;r++)e[r].name==[t[n]]&&i.push(e[r]);return i}function g(e,t){var n=j.indexOf(e);t&&n===-1&&j.push(e),!t&&n>-1&&j.splice(n,1)}function v(e){return j.indexOf(e)>-1}function b(e){function t(e,t){var n=r.indexOf(e);t&&n===-1&&r.push(e),!t&&n>-1&&r.splice(n,1)}function n(e){return r.indexOf(e)>-1}if(e){var r=[];_.isLocked=function(e,r){var i=!1,o=_.selected[r];return o&&(e?(i=!!e.$eval(_.lockChoiceExpression),t(o,i)):i=n(o)),i}}}function y(e){var n=!0;switch(e){case t.DOWN:if(!_.open&&_.multiple)_.activate(!1,!0);else if(_.activeIndex<_.items.length-1)for(var r=++_.activeIndex;v(_.items[r])&&r<_.items.length;)_.activeIndex=++r;break;case t.UP:var i=0===_.search.length&&_.tagging.isActivated?-1:0;if(!_.open&&_.multiple)_.activate(!1,!0);else if(_.activeIndex>i)for(var o=--_.activeIndex;v(_.items[o])&&o>i;)_.activeIndex=--o;break;case t.TAB:_.multiple&&!_.open||_.select(_.items[_.activeIndex],!0);break;case t.ENTER:_.open&&(_.tagging.isActivated||_.activeIndex>=0)?_.select(_.items[_.activeIndex],_.skipFocusser):_.activate(!1,!0);break;case t.ESC:_.close();break;default:n=!1}return n}function w(){var e=r.querySelectorAll(".ui-select-choices-content"),t=e.querySelectorAll(".ui-select-choices-row");if(t.length<1)throw c("choices","Expected multiple .ui-select-choices-row but got '{0}'.",t.length);if(!(_.activeIndex<0)){var n=t[_.activeIndex],i=n.offsetTop+n.clientHeight-e[0].scrollTop,o=e[0].offsetHeight;i>o?e[0].scrollTop+=i-o:i<n.clientHeight&&(_.isGrouped&&0===_.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=n.clientHeight-i)}}var _=this,x="";if(_.placeholder=l.placeholder,_.searchEnabled=l.searchEnabled,_.sortable=l.sortable,_.refreshDelay=l.refreshDelay,_.paste=l.paste,_.resetSearchInput=l.resetSearchInput,_.refreshing=!1,_.spinnerEnabled=l.spinnerEnabled,_.spinnerClass=l.spinnerClass,_.removeSelected=l.removeSelected,_.closeOnSelect=!0,_.skipFocusser=!1,_.search=x,_.activeIndex=0,_.items=[],_.open=!1,_.focus=!1,_.disabled=!1,_.selected=void 0,_.dropdownPosition="auto",_.focusser=void 0,_.multiple=void 0,_.disableChoiceExpression=void 0,_.tagging={isActivated:!1,fct:void 0},_.taggingTokens={isActivated:!1,tokens:void 0},_.lockChoiceExpression=void 0,_.clickTriggeredSelect=!1,_.$filter=o,_.$element=r,_.$animate=function(){try{return h.get("$animate")}catch(e){return null}}(),_.searchInput=r.querySelectorAll("input.ui-select-search"),1!==_.searchInput.length)throw c("searchInput","Expected 1 input.ui-select-search but got '{0}'.",_.searchInput.length);_.isEmpty=function(){return e(_.selected)||""===_.selected||_.multiple&&0===_.selected.length},_.activate=function(e,t){if(_.disabled||_.open)_.open&&!_.searchEnabled&&_.close();else{t||p(),n.$broadcast("uis:activate"),_.open=!0,_.activeIndex=_.activeIndex>=_.items.length?0:_.activeIndex,_.activeIndex===-1&&_.taggingLabel!==!1&&(_.activeIndex=0);var o=r.querySelectorAll(".ui-select-choices-content"),a=r.querySelectorAll(".ui-select-search");if(_.$animate&&_.$animate.on&&_.$animate.enabled(o[0])){var s=function(t,n){"start"===n&&0===_.items.length?(_.$animate.off("removeClass",a[0],s),i(function(){_.focusSearchInput(e)})):"close"===n&&(_.$animate.off("enter",o[0],s),i(function(){_.focusSearchInput(e)}))};_.items.length>0?_.$animate.on("enter",o[0],s):_.$animate.on("removeClass",a[0],s)}else i(function(){_.focusSearchInput(e),!_.tagging.isActivated&&_.items.length>1&&w()})}},_.focusSearchInput=function(e){_.search=e||_.search,_.searchInput[0].focus()},_.findGroupByName=function(e){return _.groups&&_.groups.filter(function(t){return t.name===e})[0]},_.parseRepeatAttr=function(e,t,r){function i(e){var i=n.$eval(t);if(_.groups=[],angular.forEach(e,function(e){var t=angular.isFunction(i)?i(e):e[i],n=_.findGroupByName(t);n?n.items.push(e):_.groups.push({name:t,items:[e]})}),r){var o=n.$eval(r);angular.isFunction(o)?_.groups=o(_.groups):angular.isArray(o)&&(_.groups=m(_.groups,o))}_.items=[],_.groups.forEach(function(e){_.items=_.items.concat(e.items)})}function o(e){_.items=e||[]}_.setItemsFn=t?i:o,_.parserResult=s.parse(e),_.isGrouped=!!t,_.itemProperty=_.parserResult.itemName;var a=_.parserResult.source,l=function(){var e=a(n);n.$uisSource=Object.keys(e).map(function(t){var n={};return n[_.parserResult.keyName]=t,n.value=e[t],n})};_.parserResult.keyName&&(l(),_.parserResult.source=u("$uisSource"+_.parserResult.filters),n.$watch(a,function(e,t){e!==t&&l()},!0)),_.refreshItems=function(e){e=e||_.parserResult.source(n);var t=_.selected;if(_.isEmpty()||angular.isArray(t)&&!t.length||!_.multiple||!_.removeSelected)_.setItemsFn(e);else if(void 0!==e&&null!==e){var r=e.filter(function(e){return angular.isArray(t)?t.every(function(t){return!angular.equals(e,t)}):!angular.equals(e,t)});_.setItemsFn(r)}"auto"!==_.dropdownPosition&&"up"!==_.dropdownPosition||n.calculateDropdownPos(),n.$broadcast("uis:refresh")},n.$watchCollection(_.parserResult.source,function(e){if(void 0===e||null===e)_.items=[];else{if(!angular.isArray(e))throw c("items","Expected an array but got '{0}'.",e);_.refreshItems(e),angular.isDefined(_.ngModel.$modelValue)&&(_.ngModel.$modelValue=null)}})};var k;_.refresh=function(e){void 0!==e&&(k&&i.cancel(k),k=i(function(){if(n.$select.search.length>=n.$select.minimumInputLength){var t=n.$eval(e);t&&angular.isFunction(t.then)&&!_.refreshing&&(_.refreshing=!0,t["finally"](function(){_.refreshing=!1}))}},_.refreshDelay))},_.isActive=function(e){if(!_.open)return!1;var t=_.items.indexOf(e[_.itemProperty]),n=t==_.activeIndex;return!(!n||t<0)&&(n&&!angular.isUndefined(_.onHighlightCallback)&&e.$eval(_.onHighlightCallback),n)};var S=function(e){return _.selected&&angular.isArray(_.selected)&&_.selected.filter(function(t){return angular.equals(t,e)}).length>0},j=[];_.isDisabled=function(e){if(_.open){var t=e[_.itemProperty],n=_.items.indexOf(t),r=!1;if(n>=0&&(angular.isDefined(_.disableChoiceExpression)||_.multiple)){if(t.isTag)return!1;_.multiple&&(r=S(t)),!r&&angular.isDefined(_.disableChoiceExpression)&&(r=!!e.$eval(_.disableChoiceExpression)),g(t,r)}return r}},_.select=function(t,r,i){if(e(t)||!v(t)){if(!_.items&&!_.search&&!_.tagging.isActivated)return;if(!t||!v(t)){if(_.clickTriggeredSelect=!1,i&&("click"===i.type||"touchend"===i.type)&&t&&(_.clickTriggeredSelect=!0),_.tagging.isActivated&&_.clickTriggeredSelect===!1){if(_.taggingLabel===!1)if(_.activeIndex<0){if(void 0===t&&(t=void 0!==_.tagging.fct?_.tagging.fct(_.search):_.search),!t||angular.equals(_.items[0],t))return}else t=_.items[_.activeIndex];else if(0===_.activeIndex){if(void 0===t)return;if(void 0!==_.tagging.fct&&"string"==typeof t){if(t=_.tagging.fct(t),!t)return}else"string"==typeof t&&(t=t.replace(_.taggingLabel,"").trim())}if(S(t))return void _.close(r)}p(),n.$broadcast("uis:select",t),_.closeOnSelect&&_.close(r)}}},_.close=function(e){_.open&&(_.ngModel&&_.ngModel.$setTouched&&_.ngModel.$setTouched(),_.open=!1,p(),n.$broadcast("uis:close",e))},_.setFocus=function(){_.focus||_.focusInput[0].focus()},_.clear=function(e){_.select(null),e.stopPropagation(),i(function(){_.focusser[0].focus()},0,!1)},_.toggle=function(e){_.open?(_.close(),e.preventDefault(),e.stopPropagation()):_.activate()},_.isLocked=function(){return!1},n.$watch(function(){return angular.isDefined(_.lockChoiceExpression)&&""!==_.lockChoiceExpression},b);var P=null,E=!1;_.sizeSearchInput=function(){var e=_.searchInput[0],t=_.$element[0],r=function(){return t.clientWidth*!!e.offsetParent},o=function(t){if(0===t)return!1;var n=t-e.offsetLeft;return n<50&&(n=t),_.searchInput.css("width",n+"px"),!0};_.searchInput.css("width","10px"),i(function(){null!==P||o(r())||(P=n.$watch(function(){E||(E=!0,n.$$postDigest(function(){E=!1,o(r())&&(P(),P=null)}))},angular.noop))})},_.searchInput.on("keydown",function(e){var r=e.which;~[t.ENTER,t.ESC].indexOf(r)&&(e.preventDefault(),e.stopPropagation()),n.$apply(function(){var n=!1;if((_.items.length>0||_.tagging.isActivated)&&(y(r)||_.searchEnabled||(e.preventDefault(),e.stopPropagation()),_.taggingTokens.isActivated)){for(var o=0;o<_.taggingTokens.tokens.length;o++)_.taggingTokens.tokens[o]===t.MAP[e.keyCode]&&_.search.length>0&&(n=!0);n&&i(function(){_.searchInput.triggerHandler("tagged");var n=_.search.replace(t.MAP[e.keyCode],"").trim();_.tagging.fct&&(n=_.tagging.fct(n)),n&&_.select(n,!0)})}}),t.isVerticalMovement(r)&&_.items.length>0&&w(),r!==t.ENTER&&r!==t.ESC||(e.preventDefault(),e.stopPropagation())}),_.searchInput.on("paste",function(e){var n;if(n=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(e.originalEvent||e).clipboardData.getData("text/plain"),n=_.search+n,n&&n.length>0)if(_.taggingTokens.isActivated){for(var r=[],i=0;i<_.taggingTokens.tokens.length;i++){var o=t.toSeparator(_.taggingTokens.tokens[i])||_.taggingTokens.tokens[i];if(n.indexOf(o)>-1){r=n.split(o);break}}0===r.length&&(r=[n]);var a=_.search;angular.forEach(r,function(e){var t=_.tagging.fct?_.tagging.fct(e):e;t&&_.select(t,!0)}),_.search=a||x,e.preventDefault(),e.stopPropagation()}else _.paste&&(_.paste(n),_.search=x,e.preventDefault(),e.stopPropagation())}),_.searchInput.on("tagged",function(){i(function(){p()})});var A=a(function(){_.sizeSearchInput();
},50);angular.element(d).bind("resize",A),n.$on("$destroy",function(){_.searchInput.off("keyup keydown tagged blur paste"),angular.element(d).off("resize",A)}),n.$watch("$select.activeIndex",function(e){e&&r.find("input").attr("aria-activedescendant","ui-select-choices-row-"+_.generatedId+"-"+e)}),n.$watch("$select.open",function(e){e||r.find("input").removeAttr("aria-activedescendant")})}]),r.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(e,t,n,r,i,o,a){return{restrict:"EA",templateUrl:function(e,n){var r=n.theme||t.theme;return r+(angular.isDefined(n.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(i,s){var c=/{(.*)}\s*{(.*)}/.exec(s.ngClass);if(c){var l="{"+c[1]+", "+c[2]+"}";s.ngClass=l,i.attr("ng-class",l)}return angular.isDefined(s.multiple)?i.append("<ui-select-multiple/>").removeAttr("multiple"):i.append("<ui-select-single/>"),s.inputId&&(i.querySelectorAll("input.ui-select-search")[0].id=s.inputId),function(i,s,c,l,u){function h(e){if(p.open){var t=!1;if(t=window.jQuery?window.jQuery.contains(s[0],e.target):s[0].contains(e.target),!t&&!p.clickTriggeredSelect){var n;if(p.skipFocusser)n=!0;else{var r=["input","button","textarea","select"],o=angular.element(e.target).controller("uiSelect");n=o&&o!==p,n||(n=~r.indexOf(e.target.tagName.toLowerCase()))}p.close(n),i.$digest()}p.clickTriggeredSelect=!1}}function d(){var t=r(s);v=angular.element('<div class="ui-select-placeholder"></div>'),v[0].style.width=t.width+"px",v[0].style.height=t.height+"px",s.after(v),b=s[0].style.width,e.find("body").append(s),s[0].style.position="absolute",s[0].style.left=t.left+"px",s[0].style.top=t.top+"px",s[0].style.width=t.width+"px"}function f(){null!==v&&(v.replaceWith(s),v=null,s[0].style.position="",s[0].style.left="",s[0].style.top="",s[0].style.width=b,p.setFocus())}var p=l[0],m=l[1];p.generatedId=t.generateId(),p.baseTitle=c.title||"Select box",p.focusserTitle=p.baseTitle+" focus",p.focusserId="focusser-"+p.generatedId,p.closeOnSelect=function(){return angular.isDefined(c.closeOnSelect)?o(c.closeOnSelect)():t.closeOnSelect}(),i.$watch("skipFocusser",function(){var e=i.$eval(c.skipFocusser);p.skipFocusser=void 0!==e?e:t.skipFocusser}),p.onSelectCallback=o(c.onSelect),p.onRemoveCallback=o(c.onRemove),p.ngModel=m,p.choiceGrouped=function(e){return p.isGrouped&&e&&e.name},c.tabindex&&c.$observe("tabindex",function(e){p.focusInput.attr("tabindex",e),s.removeAttr("tabindex")}),i.$watch(function(){return i.$eval(c.searchEnabled)},function(e){p.searchEnabled=void 0!==e?e:t.searchEnabled}),i.$watch("sortable",function(){var e=i.$eval(c.sortable);p.sortable=void 0!==e?e:t.sortable}),c.$observe("backspaceReset",function(){var e=i.$eval(c.backspaceReset);p.backspaceReset=void 0===e||e}),c.$observe("limit",function(){p.limit=angular.isDefined(c.limit)?parseInt(c.limit,10):void 0}),i.$watch("removeSelected",function(){var e=i.$eval(c.removeSelected);p.removeSelected=void 0!==e?e:t.removeSelected}),c.$observe("disabled",function(){p.disabled=void 0!==c.disabled&&c.disabled}),c.$observe("resetSearchInput",function(){var e=i.$eval(c.resetSearchInput);p.resetSearchInput=void 0===e||e}),c.$observe("paste",function(){p.paste=i.$eval(c.paste)}),c.$observe("tagging",function(){if(void 0!==c.tagging){var e=i.$eval(c.tagging);p.tagging={isActivated:!0,fct:e!==!0?e:void 0}}else p.tagging={isActivated:!1,fct:void 0}}),c.$observe("taggingLabel",function(){void 0!==c.tagging&&("false"===c.taggingLabel?p.taggingLabel=!1:p.taggingLabel=void 0!==c.taggingLabel?c.taggingLabel:"(new)")}),c.$observe("taggingTokens",function(){if(void 0!==c.tagging){var e=void 0!==c.taggingTokens?c.taggingTokens.split("|"):[",","ENTER"];p.taggingTokens={isActivated:!0,tokens:e}}}),c.$observe("spinnerEnabled",function(){var e=i.$eval(c.spinnerEnabled);p.spinnerEnabled=void 0!==e?e:t.spinnerEnabled}),c.$observe("spinnerClass",function(){var e=c.spinnerClass;p.spinnerClass=void 0!==e?c.spinnerClass:t.spinnerClass}),angular.isDefined(c.autofocus)&&a(function(){p.setFocus()}),angular.isDefined(c.focusOn)&&i.$on(c.focusOn,function(){a(function(){p.setFocus()})}),e.on("click",h),i.$on("$destroy",function(){e.off("click",h)}),u(i,function(e){var t=angular.element("<div>").append(e),r=t.querySelectorAll(".ui-select-match");if(r.removeAttr("ui-select-match"),r.removeAttr("data-ui-select-match"),1!==r.length)throw n("transcluded","Expected 1 .ui-select-match but got '{0}'.",r.length);s.querySelectorAll(".ui-select-match").replaceWith(r);var i=t.querySelectorAll(".ui-select-choices");if(i.removeAttr("ui-select-choices"),i.removeAttr("data-ui-select-choices"),1!==i.length)throw n("transcluded","Expected 1 .ui-select-choices but got '{0}'.",i.length);s.querySelectorAll(".ui-select-choices").replaceWith(i);var o=t.querySelectorAll(".ui-select-no-choice");o.removeAttr("ui-select-no-choice"),o.removeAttr("data-ui-select-no-choice"),1==o.length&&s.querySelectorAll(".ui-select-no-choice").replaceWith(o)});var g=i.$eval(c.appendToBody);(void 0!==g?g:t.appendToBody)&&(i.$watch("$select.open",function(e){e?d():f()}),i.$on("$destroy",function(){f()}));var v=null,b="",y=null,w="direction-up";i.$watch("$select.open",function(){"auto"!==p.dropdownPosition&&"up"!==p.dropdownPosition||i.calculateDropdownPos()});var _=function(e,t){e=e||r(s),t=t||r(y),y[0].style.position="absolute",y[0].style.top=t.height*-1+"px",s.addClass(w)},x=function(e,t){s.removeClass(w),e=e||r(s),t=t||r(y),y[0].style.position="",y[0].style.top=""},k=function(){a(function(){if("up"===p.dropdownPosition)_();else{s.removeClass(w);var t=r(s),n=r(y),i=e[0].documentElement.scrollTop||e[0].body.scrollTop;t.top+t.height+n.height>i+e[0].documentElement.clientHeight?_(t,n):x(t,n)}y[0].style.opacity=1})},S=!1;i.calculateDropdownPos=function(){if(p.open){if(y=angular.element(s).querySelectorAll(".ui-select-dropdown"),0===y.length)return;if(""!==p.search||S||(y[0].style.opacity=0,S=!0),!r(y).height&&p.$animate&&p.$animate.on&&p.$animate.enabled(y)){var e=!0;p.$animate.on("enter",y,function(t,n){"close"===n&&e&&(k(),e=!1)})}else k()}else{if(null===y||0===y.length)return;y[0].style.opacity=0,y[0].style.position="",y[0].style.top="",s.removeClass(w)}}}}}}]),r.directive("uiSelectMatch",["uiSelectConfig",function(e){function t(e,t){return e[0].hasAttribute(t)?e.attr(t):e[0].hasAttribute("data-"+t)?e.attr("data-"+t):e[0].hasAttribute("x-"+t)?e.attr("x-"+t):void 0}return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(n){n.addClass("ui-select-match");var r=n.parent(),i=t(r,"theme")||e.theme,o=angular.isDefined(t(r,"multiple"));return i+(o?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,n,r,i){function o(e){i.allowClear=!!angular.isDefined(e)&&(""===e||"true"===e.toLowerCase())}i.lockChoiceExpression=r.uiLockChoice,r.$observe("placeholder",function(t){i.placeholder=void 0!==t?t:e.placeholder}),r.$observe("allowClear",o),o(r.allowClear),i.multiple&&i.sizeSearchInput()}}}]),r.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(n,r){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(e,t){var n,r=this,i=e.$select;angular.isUndefined(i.selected)&&(i.selected=[]),e.$evalAsync(function(){n=e.ngModel}),r.activeMatchIndex=-1,r.updateModel=function(){n.$setViewValue(Date.now()),r.refreshComponent()},r.refreshComponent=function(){i.refreshItems&&i.refreshItems(),i.sizeSearchInput&&i.sizeSearchInput()},r.removeChoice=function(n){if(i.isLocked(null,n))return!1;var o=i.selected[n],a={};return a[i.parserResult.itemName]=o,i.selected.splice(n,1),r.activeMatchIndex=-1,i.sizeSearchInput(),t(function(){i.onRemoveCallback(e,{$item:o,$model:i.parserResult.modelMapper(e,a)})}),r.updateModel(),!0},r.getPlaceholder=function(){if(!i.selected||!i.selected.length)return i.placeholder}}],controllerAs:"$selectMultiple",link:function(i,o,a,s){function c(e){return angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length}function l(e){function n(){switch(e){case t.LEFT:return~p.activeMatchIndex?u:a;case t.RIGHT:return~p.activeMatchIndex&&s!==a?l:(d.activate(),!1);case t.BACKSPACE:return~p.activeMatchIndex?p.removeChoice(s)?u:s:a;case t.DELETE:return!!~p.activeMatchIndex&&(p.removeChoice(p.activeMatchIndex),s)}}var r=c(d.searchInput[0]),i=d.selected.length,o=0,a=i-1,s=p.activeMatchIndex,l=p.activeMatchIndex+1,u=p.activeMatchIndex-1,h=s;return!(r>0||d.search.length&&e==t.RIGHT)&&(d.close(),h=n(),d.selected.length&&h!==!1?p.activeMatchIndex=Math.min(a,Math.max(o,h)):p.activeMatchIndex=-1,!0)}function u(e){if(void 0===e||void 0===d.search)return!1;var t=e.filter(function(e){return void 0!==d.search.toUpperCase()&&void 0!==e&&e.toUpperCase()===d.search.toUpperCase()}).length>0;return t}function h(e,t){var n=-1;if(angular.isArray(e))for(var r=angular.copy(e),i=0;i<r.length;i++)if(void 0===d.tagging.fct)r[i]+" "+d.taggingLabel===t&&(n=i);else{var o=r[i];angular.isObject(o)&&(o.isTag=!0),angular.equals(o,t)&&(n=i)}return n}var d=s[0],f=i.ngModel=s[1],p=i.$selectMultiple;d.multiple=!0,d.focusInput=d.searchInput,f.$isEmpty=function(e){return!e||0===e.length},f.$parsers.unshift(function(){for(var e,t={},n=[],r=d.selected.length-1;r>=0;r--)t={},t[d.parserResult.itemName]=d.selected[r],e=d.parserResult.modelMapper(i,t),n.unshift(e);return n}),f.$formatters.unshift(function(e){var t,n=d.parserResult&&d.parserResult.source(i,{$select:{search:""}}),r={};if(!n)return e;var o=[],a=function(e,n){if(e&&e.length){for(var a=e.length-1;a>=0;a--){if(r[d.parserResult.itemName]=e[a],t=d.parserResult.modelMapper(i,r),d.parserResult.trackByExp){var s=/(\w*)\./.exec(d.parserResult.trackByExp),c=/\.([^\s]+)/.exec(d.parserResult.trackByExp);if(s&&s.length>0&&s[1]==d.parserResult.itemName&&c&&c.length>0&&t[c[1]]==n[c[1]])return o.unshift(e[a]),!0}if(angular.equals(t,n))return o.unshift(e[a]),!0}return!1}};if(!e)return o;for(var s=e.length-1;s>=0;s--)a(d.selected,e[s])||a(n,e[s])||o.unshift(e[s]);return o}),i.$watchCollection(function(){return f.$modelValue},function(e,t){t!=e&&(angular.isDefined(f.$modelValue)&&(f.$modelValue=null),p.refreshComponent())}),f.$render=function(){if(!angular.isArray(f.$viewValue)){if(!e(f.$viewValue))throw n("multiarr","Expected model value to be array but got '{0}'",f.$viewValue);f.$viewValue=[]}d.selected=f.$viewValue,p.refreshComponent(),i.$evalAsync()},i.$on("uis:select",function(e,t){if(!(d.selected.length>=d.limit)){d.selected.push(t);var n={};n[d.parserResult.itemName]=t,r(function(){d.onSelectCallback(i,{$item:t,$model:d.parserResult.modelMapper(i,n)})}),p.updateModel()}}),i.$on("uis:activate",function(){p.activeMatchIndex=-1}),i.$watch("$select.disabled",function(e,t){t&&!e&&d.sizeSearchInput()}),d.searchInput.on("keydown",function(e){var n=e.which;i.$apply(function(){var r=!1;t.isHorizontalMovement(n)&&(r=l(n)),r&&n!=t.TAB&&(e.preventDefault(),e.stopPropagation())})}),d.searchInput.on("keyup",function(e){if(t.isVerticalMovement(e.which)||i.$evalAsync(function(){d.activeIndex=d.taggingLabel===!1?-1:0}),d.tagging.isActivated&&d.search.length>0){if(e.which===t.TAB||t.isControl(e)||t.isFunctionKey(e)||e.which===t.ESC||t.isVerticalMovement(e.which))return;if(d.activeIndex=d.taggingLabel===!1?-1:0,d.taggingLabel===!1)return;var n,r,o,a,s=angular.copy(d.items),c=angular.copy(d.items),l=!1,f=-1;if(void 0!==d.tagging.fct){if(o=d.$filter("filter")(s,{isTag:!0}),o.length>0&&(a=o[0]),s.length>0&&a&&(l=!0,s=s.slice(1,s.length),c=c.slice(1,c.length)),n=d.tagging.fct(d.search),c.some(function(e){return angular.equals(e,n)})||d.selected.some(function(e){return angular.equals(e,n)}))return void i.$evalAsync(function(){d.activeIndex=0,d.items=s});n&&(n.isTag=!0)}else{if(o=d.$filter("filter")(s,function(e){return e.match(d.taggingLabel)}),o.length>0&&(a=o[0]),r=s[0],void 0!==r&&s.length>0&&a&&(l=!0,s=s.slice(1,s.length),c=c.slice(1,c.length)),n=d.search+" "+d.taggingLabel,h(d.selected,d.search)>-1)return;if(u(c.concat(d.selected)))return void(l&&(s=c,i.$evalAsync(function(){d.activeIndex=0,d.items=s})));if(u(c))return void(l&&(d.items=c.slice(1,c.length)))}l&&(f=h(d.selected,n)),f>-1?s=s.slice(f+1,s.length-1):(s=[],n&&s.push(n),s=s.concat(c)),i.$evalAsync(function(){if(d.activeIndex=0,d.items=s,d.isGrouped){var e=n?s.slice(1):s;d.setItemsFn(e),n&&(d.items.unshift(n),d.groups.unshift({name:"",items:[n],tagging:!0}))}})}}),d.searchInput.on("blur",function(){r(function(){p.activeMatchIndex=-1})})}}}]),r.directive("uiSelectNoChoice",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){t.addClass("ui-select-no-choice");var n=t.parent().attr("theme")||e.theme;return n+"/no-choice.tpl.html"}}}]),r.directive("uiSelectSingle",["$timeout","$compile",function(n,r){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(i,o,a,s){var c=s[0],l=s[1];l.$parsers.unshift(function(t){if(e(t))return t;var n,r={};return r[c.parserResult.itemName]=t,n=c.parserResult.modelMapper(i,r)}),l.$formatters.unshift(function(t){if(e(t))return t;var n,r=c.parserResult&&c.parserResult.source(i,{$select:{search:""}}),o={};if(r){var a=function(e){return o[c.parserResult.itemName]=e,n=c.parserResult.modelMapper(i,o),n===t};if(c.selected&&a(c.selected))return c.selected;for(var s=r.length-1;s>=0;s--)if(a(r[s]))return r[s]}return t}),i.$watch("$select.selected",function(e){l.$viewValue!==e&&l.$setViewValue(e)}),l.$render=function(){c.selected=l.$viewValue},i.$on("uis:select",function(t,r){c.selected=r;var o={};o[c.parserResult.itemName]=r,n(function(){c.onSelectCallback(i,{$item:r,$model:e(r)?r:c.parserResult.modelMapper(i,o)})})}),i.$on("uis:close",function(e,t){n(function(){c.focusser.prop("disabled",!1),t||c.focusser[0].focus()},0,!1)}),i.$on("uis:activate",function(){u.prop("disabled",!0)});var u=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");r(u)(i),c.focusser=u,c.focusInput=u,o.parent().append(u),u.bind("focus",function(){i.$evalAsync(function(){c.focus=!0})}),u.bind("blur",function(){i.$evalAsync(function(){c.focus=!1})}),u.bind("keydown",function(e){return e.which===t.BACKSPACE&&c.backspaceReset!==!1?(e.preventDefault(),e.stopPropagation(),c.select(void 0),void i.$apply()):void(e.which===t.TAB||t.isControl(e)||t.isFunctionKey(e)||e.which===t.ESC||(e.which!=t.DOWN&&e.which!=t.UP&&e.which!=t.ENTER&&e.which!=t.SPACE||(e.preventDefault(),e.stopPropagation(),c.activate()),i.$digest()))}),u.bind("keyup input",function(e){e.which===t.TAB||t.isControl(e)||t.isFunctionKey(e)||e.which===t.ESC||e.which==t.ENTER||e.which===t.BACKSPACE||(c.activate(u.val()),u.val(""),i.$digest())})}}}]),r.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(e,t,n){return{require:["^^uiSelect","^ngModel"],link:function(t,r,i,o){if(null===t[i.uiSelectSort])throw n("sort","Expected a list to sort");var a=o[0],s=o[1],c=angular.extend({axis:"horizontal"},t.$eval(i.uiSelectSortOptions)),l=c.axis,u="dragging",h="dropping",d="dropping-before",f="dropping-after";t.$watch(function(){return a.sortable},function(e){e?r.attr("draggable",!0):r.removeAttr("draggable")}),r.on("dragstart",function(e){r.addClass(u),(e.dataTransfer||e.originalEvent.dataTransfer).setData("text",t.$index.toString())}),r.on("dragend",function(){g(u)});var p,m=function(e,t){this.splice(t,0,this.splice(e,1)[0])},g=function(e){angular.forEach(a.$element.querySelectorAll("."+e),function(t){angular.element(t).removeClass(e)})},v=function(e){e.preventDefault();var t="vertical"===l?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0);t<this["vertical"===l?"offsetHeight":"offsetWidth"]/2?(g(f),r.addClass(d)):(g(d),r.addClass(f))},b=function(t){t.preventDefault();var n=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text"),10);e.cancel(p),p=e(function(){y(n)},20)},y=function(e){var n=t.$eval(i.uiSelectSort),o=n[e],a=null;a=r.hasClass(d)?e<t.$index?t.$index-1:t.$index:e<t.$index?t.$index:t.$index+1,m.apply(n,[e,a]),s.$setViewValue(Date.now()),t.$apply(function(){t.$emit("uiSelectSort:change",{array:n,item:o,from:e,to:a})}),g(h),g(d),g(f),r.off("drop",b)};r.on("dragenter",function(){r.hasClass(u)||(r.addClass(h),r.on("dragover",v),r.on("drop",b))}),r.on("dragleave",function(e){e.target==r&&(g(h),g(d),g(f),r.off("dragover",v),r.off("drop",b))})}}}]),r.factory("$$uisDebounce",["$timeout",function(e){return function(t,n){var r;return function(){var i=this,o=Array.prototype.slice.call(arguments);r&&e.cancel(r),r=e(function(){t.apply(i,o)},n)}}}]),r.directive("uisOpenClose",["$parse","$timeout",function(e,t){return{restrict:"A",require:"uiSelect",link:function(n,r,i,o){o.onOpenCloseCallback=e(i.uisOpenClose),n.$watch("$select.open",function(e,r){e!==r&&t(function(){o.onOpenCloseCallback(n,{isOpen:e})})})}}}]),r.service("uisRepeatParser",["uiSelectMinErr","$parse",function(e,t){var n=this;n.parse=function(n){var r;if(r=n.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),!r)throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);var i=r[5],o="";if(r[3]){i=r[5].replace(/(^\()|(\)$)/g,"");var a=r[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);a&&a[1].trim()&&(o=a[1],i=i.replace(o,""))}return{itemName:r[4]||r[2],keyName:r[3],source:t(i),filters:o,trackByExp:r[6],modelMapper:t(r[1]||r[4]||r[2]),repeatExpression:function(e){var t=this.itemName+" in "+(e?"$group.items":"$select.items");return this.trackByExp&&(t+=" track by "+this.trackByExp),t}}},n.getGroupNgRepeatExpression=function(){return"$group in $select.groups track by $group.name"}}])}(),angular.module("ui.select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" ng-show="$select.open && $select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><span class="ui-select-choices-row-inner"></span></div></li></ul>'),e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected track by $index"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),e.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open && $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),e.put("bootstrap/no-choice.tpl.html",'<ul class="ui-select-no-choice dropdown-menu" ng-show="$select.items.length == 0"><li ng-transclude=""></li></ul>'),e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-expanded="{{$select.open}}" aria-label="{{$select.baseTitle}}" ng-class="{\'spinner\': $select.refreshing}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><span ng-show="$select.open && $select.refreshing && $select.spinnerEnabled" class="ui-select-refreshing {{$select.spinnerClass}}"></span> <input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" class="form-control ui-select-search" ng-class="{ \'ui-select-search-hidden\' : !$select.searchEnabled }" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.open"><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("select2/choices.tpl.html",'<ul tabindex="-1" class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected track by $index" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),e.put("select2/no-choice.tpl.html",'<div class="ui-select-no-choice dropdown" ng-show="$select.items.length == 0"><div class="dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),e.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open || $select.items.length === 0}"><div class="ui-select-choices"></div></div></div>'),e.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="search-container" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled, \'select2-search\':$select.searchEnabled}"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" ng-class="{\'select2-active\': $select.refreshing}" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div></div>'),e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown" ng-class="{\'single\': !$select.multiple, \'multi\': $select.multiple}"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),e.put("selectize/match-multiple.tpl.html",'<div class="ui-select-match" data-value="" ng-repeat="$item in $select.selected track by $index" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'active\':$selectMultiple.activeMatchIndex === $index}" ui-select-sort="$select.selected"><span class="ui-select-match-item" ng-class="{\'select-locked\':$select.isLocked(this, $index)}"><span uis-transclude-append=""></span> <span class="remove ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&times;</span></span></div>'),e.put("selectize/match.tpl.html",'<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match"><span ng-show="!$select.searchEnabled && ($select.isEmpty() || $select.open)" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty() || $select.open" ng-transclude=""></span></div>'),e.put("selectize/no-choice.tpl.html",'<div class="ui-select-no-choice selectize-dropdown" ng-show="$select.items.length == 0"><div class="selectize-dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),e.put("selectize/select-multiple.tpl.html",'<div class="ui-select-container selectize-control multi plugin-remove_button" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-model="$select.search" ng-disabled="$select.disabled" aria-expanded="{{$select.open}}" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.isEmpty() && !$select.open" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>')}])},{}],442:[function(e,t,n){e("./dist/select.js"),t.exports="ui.select"},{"./dist/select.js":441}],443:[function(e,t,n){(function(){function e(e){function t(t,n,r,i,o,a){for(;o>=0&&o<a;o+=e){var s=i?i[o]:o;r=n(r,t[s],s,t)}return r}return function(n,r,i,o){r=_(r,o,4);var a=!A(n)&&w.keys(n),s=(a||n).length,c=e>0?0:s-1;return arguments.length<3&&(i=n[a?a[c]:c],c+=e),t(n,r,i,a,c,s)}}function r(e){return function(t,n,r){n=x(n,r);for(var i=E(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}function i(e,t,n){return function(r,i,o){var a=0,s=E(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(d.call(r,a,s),w.isNaN),o>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(r[o]===i)return o;return-1}}function o(e,t){var n=I.length,r=e.constructor,i=w.isFunction(r)&&r.prototype||l,o="constructor";for(w.has(e,o)&&!w.contains(t,o)&&t.push(o);n--;)o=I[n],o in e&&e[o]!==i[o]&&!w.contains(t,o)&&t.push(o)}var a=this,s=a._,c=Array.prototype,l=Object.prototype,u=Function.prototype,h=c.push,d=c.slice,f=l.toString,p=l.hasOwnProperty,m=Array.isArray,g=Object.keys,v=u.bind,b=Object.create,y=function(){},w=function(e){return e instanceof w?e:this instanceof w?void(this._wrapped=e):new w(e)};"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=w),n._=w):a._=w,w.VERSION="1.8.3";var _=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},x=function(e,t,n){return null==e?w.identity:w.isFunction(e)?_(e,t,n):w.isObject(e)?w.matcher(e):w.property(e);
};w.iteratee=function(e,t){return x(e,t,1/0)};var k=function(e,t){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=e(o),s=a.length,c=0;c<s;c++){var l=a[c];t&&void 0!==n[l]||(n[l]=o[l])}return n}},S=function(e){if(!w.isObject(e))return{};if(b)return b(e);y.prototype=e;var t=new y;return y.prototype=null,t},j=function(e){return function(t){return null==t?void 0:t[e]}},P=Math.pow(2,53)-1,E=j("length"),A=function(e){var t=E(e);return"number"==typeof t&&t>=0&&t<=P};w.each=w.forEach=function(e,t,n){t=_(t,n);var r,i;if(A(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=w.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},w.map=w.collect=function(e,t,n){t=x(t,n);for(var r=!A(e)&&w.keys(e),i=(r||e).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=t(e[s],s,e)}return o},w.reduce=w.foldl=w.inject=e(1),w.reduceRight=w.foldr=e(-1),w.find=w.detect=function(e,t,n){var r;if(r=A(e)?w.findIndex(e,t,n):w.findKey(e,t,n),void 0!==r&&r!==-1)return e[r]},w.filter=w.select=function(e,t,n){var r=[];return t=x(t,n),w.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},w.reject=function(e,t,n){return w.filter(e,w.negate(x(t)),n)},w.every=w.all=function(e,t,n){t=x(t,n);for(var r=!A(e)&&w.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},w.some=w.any=function(e,t,n){t=x(t,n);for(var r=!A(e)&&w.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},w.contains=w.includes=w.include=function(e,t,n,r){return A(e)||(e=w.values(e)),("number"!=typeof n||r)&&(n=0),w.indexOf(e,t,n)>=0},w.invoke=function(e,t){var n=d.call(arguments,2),r=w.isFunction(t);return w.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},w.pluck=function(e,t){return w.map(e,w.property(t))},w.where=function(e,t){return w.filter(e,w.matcher(t))},w.findWhere=function(e,t){return w.find(e,w.matcher(t))},w.max=function(e,t,n){var r,i,o=-(1/0),a=-(1/0);if(null==t&&null!=e){e=A(e)?e:w.values(e);for(var s=0,c=e.length;s<c;s++)r=e[s],r>o&&(o=r)}else t=x(t,n),w.each(e,function(e,n,r){i=t(e,n,r),(i>a||i===-(1/0)&&o===-(1/0))&&(o=e,a=i)});return o},w.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t&&null!=e){e=A(e)?e:w.values(e);for(var s=0,c=e.length;s<c;s++)r=e[s],r<o&&(o=r)}else t=x(t,n),w.each(e,function(e,n,r){i=t(e,n,r),(i<a||i===1/0&&o===1/0)&&(o=e,a=i)});return o},w.shuffle=function(e){for(var t,n=A(e)?e:w.values(e),r=n.length,i=Array(r),o=0;o<r;o++)t=w.random(0,o),t!==o&&(i[o]=i[t]),i[t]=n[o];return i},w.sample=function(e,t,n){return null==t||n?(A(e)||(e=w.values(e)),e[w.random(e.length-1)]):w.shuffle(e).slice(0,Math.max(0,t))},w.sortBy=function(e,t,n){return t=x(t,n),w.pluck(w.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,n,r){var i={};return n=x(n,r),w.each(t,function(r,o){var a=n(r,o,t);e(i,r,a)}),i}};w.groupBy=T(function(e,t,n){w.has(e,n)?e[n].push(t):e[n]=[t]}),w.indexBy=T(function(e,t,n){e[n]=t}),w.countBy=T(function(e,t,n){w.has(e,n)?e[n]++:e[n]=1}),w.toArray=function(e){return e?w.isArray(e)?d.call(e):A(e)?w.map(e,w.identity):w.values(e):[]},w.size=function(e){return null==e?0:A(e)?e.length:w.keys(e).length},w.partition=function(e,t,n){t=x(t,n);var r=[],i=[];return w.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},w.first=w.head=w.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:w.initial(e,e.length-t)},w.initial=function(e,t,n){return d.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},w.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:w.rest(e,Math.max(0,e.length-t))},w.rest=w.tail=w.drop=function(e,t,n){return d.call(e,null==t||n?1:t)},w.compact=function(e){return w.filter(e,w.identity)};var C=function(e,t,n,r){for(var i=[],o=0,a=r||0,s=E(e);a<s;a++){var c=e[a];if(A(c)&&(w.isArray(c)||w.isArguments(c))){t||(c=C(c,t,n));var l=0,u=c.length;for(i.length+=u;l<u;)i[o++]=c[l++]}else n||(i[o++]=c)}return i};w.flatten=function(e,t){return C(e,t,!1)},w.without=function(e){return w.difference(e,d.call(arguments,1))},w.uniq=w.unique=function(e,t,n,r){w.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=x(n,r));for(var i=[],o=[],a=0,s=E(e);a<s;a++){var c=e[a],l=n?n(c,a,e):c;t?(a&&o===l||i.push(c),o=l):n?w.contains(o,l)||(o.push(l),i.push(c)):w.contains(i,c)||i.push(c)}return i},w.union=function(){return w.uniq(C(arguments,!0,!0))},w.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=E(e);r<i;r++){var o=e[r];if(!w.contains(t,o)){for(var a=1;a<n&&w.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},w.difference=function(e){var t=C(arguments,!0,!0,1);return w.filter(e,function(e){return!w.contains(t,e)})},w.zip=function(){return w.unzip(arguments)},w.unzip=function(e){for(var t=e&&w.max(e,E).length||0,n=Array(t),r=0;r<t;r++)n[r]=w.pluck(e,r);return n},w.object=function(e,t){for(var n={},r=0,i=E(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},w.findIndex=r(1),w.findLastIndex=r(-1),w.sortedIndex=function(e,t,n,r){n=x(n,r,1);for(var i=n(t),o=0,a=E(e);o<a;){var s=Math.floor((o+a)/2);n(e[s])<i?o=s+1:a=s}return o},w.indexOf=i(1,w.findIndex,w.sortedIndex),w.lastIndexOf=i(-1,w.findLastIndex),w.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i};var M=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=S(e.prototype),a=e.apply(o,i);return w.isObject(a)?a:o};w.bind=function(e,t){if(v&&e.bind===v)return v.apply(e,d.call(arguments,1));if(!w.isFunction(e))throw new TypeError("Bind must be called on a function");var n=d.call(arguments,2),r=function(){return M(e,r,t,this,n.concat(d.call(arguments)))};return r},w.partial=function(e){var t=d.call(arguments,1),n=function(){for(var r=0,i=t.length,o=Array(i),a=0;a<i;a++)o[a]=t[a]===w?arguments[r++]:t[a];for(;r<arguments.length;)o.push(arguments[r++]);return M(e,n,this,this,o)};return n},w.bindAll=function(e){var t,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(t=1;t<r;t++)n=arguments[t],e[n]=w.bind(e[n],e);return e},w.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return w.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},w.delay=function(e,t){var n=d.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},w.defer=w.partial(w.delay,w,1),w.throttle=function(e,t,n){var r,i,o,a=null,s=0;n||(n={});var c=function(){s=n.leading===!1?0:w.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var l=w.now();s||n.leading!==!1||(s=l);var u=t-(l-s);return r=this,i=arguments,u<=0||u>t?(a&&(clearTimeout(a),a=null),s=l,o=e.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(c,u)),o}},w.debounce=function(e,t,n){var r,i,o,a,s,c=function(){var l=w.now()-a;l<t&&l>=0?r=setTimeout(c,t-l):(r=null,n||(s=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=w.now();var l=n&&!r;return r||(r=setTimeout(c,t)),l&&(s=e.apply(o,i),o=i=null),s}},w.wrap=function(e,t){return w.partial(t,e)},w.negate=function(e){return function(){return!e.apply(this,arguments)}},w.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},w.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},w.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},w.once=w.partial(w.before,2);var O=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];w.keys=function(e){if(!w.isObject(e))return[];if(g)return g(e);var t=[];for(var n in e)w.has(e,n)&&t.push(n);return O&&o(e,t),t},w.allKeys=function(e){if(!w.isObject(e))return[];var t=[];for(var n in e)t.push(n);return O&&o(e,t),t},w.values=function(e){for(var t=w.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},w.mapObject=function(e,t,n){t=x(t,n);for(var r,i=w.keys(e),o=i.length,a={},s=0;s<o;s++)r=i[s],a[r]=t(e[r],r,e);return a},w.pairs=function(e){for(var t=w.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},w.invert=function(e){for(var t={},n=w.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},w.functions=w.methods=function(e){var t=[];for(var n in e)w.isFunction(e[n])&&t.push(n);return t.sort()},w.extend=k(w.allKeys),w.extendOwn=w.assign=k(w.keys),w.findKey=function(e,t,n){t=x(t,n);for(var r,i=w.keys(e),o=0,a=i.length;o<a;o++)if(r=i[o],t(e[r],r,e))return r},w.pick=function(e,t,n){var r,i,o={},a=e;if(null==a)return o;w.isFunction(t)?(i=w.allKeys(a),r=_(t,n)):(i=C(arguments,!1,!1,1),r=function(e,t,n){return t in n},a=Object(a));for(var s=0,c=i.length;s<c;s++){var l=i[s],u=a[l];r(u,l,a)&&(o[l]=u)}return o},w.omit=function(e,t,n){if(w.isFunction(t))t=w.negate(t);else{var r=w.map(C(arguments,!1,!1,1),String);t=function(e,t){return!w.contains(r,t)}}return w.pick(e,t,n)},w.defaults=k(w.allKeys,!0),w.create=function(e,t){var n=S(e);return t&&w.extendOwn(n,t),n},w.clone=function(e){return w.isObject(e)?w.isArray(e)?e.slice():w.extend({},e):e},w.tap=function(e,t){return t(e),e},w.isMatch=function(e,t){var n=w.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0};var F=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof w&&(e=e._wrapped),t instanceof w&&(t=t._wrapped);var i=f.call(e);if(i!==f.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(w.isFunction(a)&&a instanceof a&&w.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var c=n.length;c--;)if(n[c]===e)return r[c]===t;if(n.push(e),r.push(t),o){if(c=e.length,c!==t.length)return!1;for(;c--;)if(!F(e[c],t[c],n,r))return!1}else{var l,u=w.keys(e);if(c=u.length,w.keys(t).length!==c)return!1;for(;c--;)if(l=u[c],!w.has(t,l)||!F(e[l],t[l],n,r))return!1}return n.pop(),r.pop(),!0};w.isEqual=function(e,t){return F(e,t)},w.isEmpty=function(e){return null==e||(A(e)&&(w.isArray(e)||w.isString(e)||w.isArguments(e))?0===e.length:0===w.keys(e).length)},w.isElement=function(e){return!(!e||1!==e.nodeType)},w.isArray=m||function(e){return"[object Array]"===f.call(e)},w.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},w.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){w["is"+e]=function(t){return f.call(t)==="[object "+e+"]"}}),w.isArguments(arguments)||(w.isArguments=function(e){return w.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(w.isFunction=function(e){return"function"==typeof e||!1}),w.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},w.isNaN=function(e){return w.isNumber(e)&&e!==+e},w.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===f.call(e)},w.isNull=function(e){return null===e},w.isUndefined=function(e){return void 0===e},w.has=function(e,t){return null!=e&&p.call(e,t)},w.noConflict=function(){return a._=s,this},w.identity=function(e){return e},w.constant=function(e){return function(){return e}},w.noop=function(){},w.property=j,w.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},w.matcher=w.matches=function(e){return e=w.extendOwn({},e),function(t){return w.isMatch(t,e)}},w.times=function(e,t,n){var r=Array(Math.max(0,e));t=_(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},w.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},w.now=Date.now||function(){return(new Date).getTime()};var D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},L=w.invert(D),R=function(e){var t=function(t){return e[t]},n="(?:"+w.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};w.escape=R(D),w.unescape=R(L),w.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),w.isFunction(r)?r.call(e):r};var N=0;w.uniqueId=function(e){var t=++N+"";return e?e+t:t},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,$={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},z=/\\|'|\r|\n|\u2028|\u2029/g,B=function(e){return"\\"+$[e]};w.template=function(e,t,n){!t&&n&&(t=n),t=w.defaults({},t,w.templateSettings);var r=RegExp([(t.escape||U).source,(t.interpolate||U).source,(t.evaluate||U).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,a,s){return o+=e.slice(i,s).replace(z,B),i=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(s){throw s.source=o,s}var c=function(e){return a.call(this,e,w)},l=t.variable||"obj";return c.source="function("+l+"){\n"+o+"}",c},w.chain=function(e){var t=w(e);return t._chain=!0,t};var q=function(e,t){return e._chain?w(t).chain():t};w.mixin=function(e){w.each(w.functions(e),function(t){var n=w[t]=e[t];w.prototype[t]=function(){var e=[this._wrapped];return h.apply(e,arguments),q(this,n.apply(w,e))}})},w.mixin(w),w.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=c[e];w.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],q(this,n)}}),w.each(["concat","join","slice"],function(e){var t=c[e];w.prototype[e]=function(){return q(this,t.apply(this._wrapped,arguments))}}),w.prototype.value=function(){return this._wrapped},w.prototype.valueOf=w.prototype.toJSON=w.prototype.value,w.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return w})}).call(this)},{}],444:[function(e,t,n){t.exports=e("./lib/index.js")},{"./lib/index.js":446}],445:[function(e,t,n){t.exports={protocolVersion:"1",hostname:"http://www.google-analytics.com",path:"/collect",batchPath:"/batch",batching:!0,batchSize:10,acceptedParameters:["v","tid","aip","ds","qt","z","cid","uid","sc","uip","ua","geoid","dr","cn","cs","cm","ck","cc","ci","gclid","dclid","sr","vp","de","sd","ul","je","fl","t","ni","dl","dh","dp","dt","cd","linkid","an","aid","av","aiid","ec","ea","el","ev","ti","ta","tr","ts","tt","in","ip","iq","ic","iv","cu","pa","tcc","pal","cos","col","promoa","sn","sa","st","utc","utv","utt","utl","plt","dns","pdt","rrt","tcp","srt","dit","clt","exd","exf","xid","xvar"],acceptedParametersRegex:[/^cm[0-9]+$/,/^cd[0-9]+$/,/^cg(10|[0-9])$/,/pr[0-9]{1,3}id/,/pr[0-9]{1,3}nm/,/pr[0-9]{1,3}br/,/pr[0-9]{1,3}ca/,/pr[0-9]{1,3}va/,/pr[0-9]{1,3}pr/,/pr[0-9]{1,3}qt/,/pr[0-9]{1,3}cc/,/pr[0-9]{1,3}ps/,/pr[0-9]{1,3}cd[0-9]{1,3}/,/pr[0-9]{1,3}cm[0-9]{1,3}/,/il[0-9]{1,3}nm/,/il[0-9]{1,3}pi[0-9]{1,3}id/,/il[0-9]{1,3}pi[0-9]{1,3}nm/,/il[0-9]{1,3}pi[0-9]{1,3}br/,/il[0-9]{1,3}pi[0-9]{1,3}ca/,/il[0-9]{1,3}pi[0-9]{1,3}va/,/il[0-9]{1,3}pi[0-9]{1,3}ps/,/il[0-9]{1,3}pi[0-9]{1,3}pr/,/il[0-9]{1,3}pi[0-9]{1,3}cd[0-9]{1,3}/,/il[0-9]{1,3}pi[0-9]{1,3}cm[0-9]{1,3}/,/promo[0-9]{1,3}id/,/promo[0-9]{1,3}nm/,/promo[0-9]{1,3}cr/,/promo[0-9]{1,3}ps/],parametersMap:{protocolVersion:"v",trackingId:"tid",webPropertyId:"tid",anonymizeIp:"aip",dataSource:"ds",queueTime:"qt",cacheBuster:"z",clientId:"cid",userId:"uid",sessionControl:"sc",ipOverride:"uip",userAgentOverride:"ua",documentReferrer:"dr",campaignName:"cn",campaignSource:"cs",campaignMedium:"cm",campaignKeyword:"ck",campaignContent:"cc",campaignId:"ci",googleAdwordsId:"gclid",googleDisplayAdsId:"dclid",screenResolution:"sr",viewportSize:"vp",documentEncoding:"de",screenColors:"sd",userLanguage:"ul",javaEnabled:"je",flashVersion:"fl",hitType:"t","non-interactionHit":"ni",documentLocationUrl:"dl",documentHostName:"dh",documentPath:"dp",documentTitle:"dt",screenName:"cd",linkId:"linkid",applicationName:"an",applicationId:"aid",applicationVersion:"av",applicationInstallerId:"aiid",eventCategory:"ec",eventAction:"ea",eventLabel:"el",eventValue:"ev",transactionId:"ti",transactionAffiliation:"ta",transactionRevenue:"tr",transactionShipping:"ts",transactionTax:"tt",itemName:"in",itemPrice:"ip",itemQuantity:"iq",itemCode:"ic",itemCategory:"iv",currencyCode:"cu",socialNetwork:"sn",socialAction:"sa",socialActionTarget:"st",userTimingCategory:"utc",userTimingVariableName:"utv",userTimingTime:"utt",userTimingLabel:"utl",pageLoadTime:"plt",dnsTime:"dns",pageDownloadTime:"pdt",redirectResponseTime:"rrt",tcpConnectTime:"tcp",serverResponseTime:"srt",domInteractiveTime:"dit",contentLoadTime:"clt",exceptionDescription:"exd",isExceptionFatal:"exf","isExceptionFatal?":"exf",experimentId:"xid",experimentVariant:"xvar"}}},{}],446:[function(e,t,n){function r(e,t,n){return new d(e,t,n)}var i=e("async"),o=e("underscore"),a=e("request"),s=e("uuid"),c=e("querystring"),l=e("./utils"),u=e("./config"),h=e("url");t.exports=r;var d=t.exports.Visitor=function(e,t,n,r,i){if("object"==typeof e?(n=e,e=t=null):"object"==typeof t&&(n=t,t=null),this._queue=[],this.options=n||{},this.options.hostname&&(u.hostname=this.options.hostname),this.options.path&&(u.path=this.options.path),this.options.https){var o=h.parse(u.hostname);u.hostname="https://"+o.host}void 0!==this.options.enableBatching&&(u.batching=n.enableBatching),this.options.batchSize&&(u.batchSize=this.options.batchSize),this._context=r||{},this._persistentParams=i||{},this.tid=e||this.options.tid,this.cid=this._determineCid(t,this.options.cid,this.options.strictCidFormat!==!1),this.options.uid&&(this.uid=this.options.uid)};t.exports.middleware=function(e,n){this.tid=e,this.options=n;var i=(this.options||{}).cookieName||"_ga";return function(o,a,s){if(o.visitor=t.exports.createFromSession(o.session),o.visitor)return s();var c;if(o.cookies&&o.cookies[i]){var l=o.cookies[i].split(".");c=l[2]+"."+l[3]}o.visitor=r(e,c,n),o.session&&(o.session.cid=o.visitor.cid),s()}},t.exports.createFromSession=function(e){if(e&&e.cid)return r(this.tid,e.cid,this.options)},d.prototype={debug:function(e){return this.options.debug=0===arguments.length||e,this._log("Logging enabled"),this},reset:function(){return this._context=null,this},set:function(e,t){this._persistentParams=this._persistentParams||{},this._persistentParams[e]=t},pageview:function(e,t,n,r,i){return"object"==typeof e&&null!=e?(r=e,"function"==typeof t&&(i=t),e=t=n=null):"function"==typeof t?(i=t,t=n=null):"function"==typeof n?(i=n,n=null):"function"==typeof r&&(i=r,r=null),r=this._translateParams(r),r=o.extend({},this._persistentParams||{},r),r.dp=e||r.dp||this._context.dp,r.dh=t||r.dh||this._context.dh,r.dt=n||r.dt||this._context.dt,this._tidyParameters(r),r.dp||r.dl?this._withContext(r)._enqueue("pageview",r,i):this._handleError("Please provide either a page path (dp) or a document location (dl)",i)},screenview:function(e,t,n,r,i,a,s){return"object"==typeof e&&null!=e?(a=e,"function"==typeof t&&(s=t),e=t=n=r=i=null):"function"==typeof t?(s=t,t=n=r=i=null):"function"==typeof n?(s=n,n=r=i=null):"function"==typeof r?(s=r,r=i=null):"function"==typeof i?(s=i,i=null):"function"==typeof a&&(s=a,a=null),a=this._translateParams(a),a=o.extend({},this._persistentParams||{},a),a.cd=e||a.cd||this._context.cd,a.an=t||a.an||this._context.an,a.av=n||a.av||this._context.av,a.aid=r||a.aid||this._context.aid,a.aiid=i||a.aiid||this._context.aiid,this._tidyParameters(a),a.cd&&a.an?this._withContext(a)._enqueue("screenview",a,s):this._handleError("Please provide at least a screen name (cd) and an app name (an)",s)},event:function(e,t,n,r,i,a){return"object"==typeof e&&null!=e?(i=e,"function"==typeof t&&(a=t),e=t=n=r=null):"function"==typeof n?(a=n,n=r=null):"function"==typeof r?(a=r,r=null):"function"==typeof i&&(a=i,i=null),i=this._translateParams(i),i=o.extend({},this._persistentParams||{},i),i.ec=e||i.ec||this._context.ec,i.ea=t||i.ea||this._context.ea,i.el=n||i.el||this._context.el,i.ev=r||i.ev||this._context.ev,i.p=i.p||i.dp||this._context.p||this._context.dp,delete i.dp,this._tidyParameters(i),i.ec&&i.ea?this._withContext(i)._enqueue("event",i,a):this._handleError("Please provide at least an event category (ec) and an event action (ea)",a)},transaction:function(e,t,n,r,i,a,s){return"object"==typeof e?(a=e,"function"==typeof t&&(s=t),e=t=n=r=i=null):"function"==typeof t?(s=t,t=n=r=i=null):"function"==typeof n?(s=n,n=r=i=null):"function"==typeof r?(s=r,r=i=null):"function"==typeof i?(s=i,i=null):"function"==typeof a&&(s=a,a=null),a=this._translateParams(a),a=o.extend({},this._persistentParams||{},a),a.ti=e||a.ti||this._context.ti,a.tr=t||a.tr||this._context.tr,a.ts=n||a.ts||this._context.ts,a.tt=r||a.tt||this._context.tt,a.ta=i||a.ta||this._context.ta,a.p=a.p||this._context.p||this._context.dp,this._tidyParameters(a),a.ti?this._withContext(a)._enqueue("transaction",a,s):this._handleError("Please provide at least a transaction ID (ti)",s)},item:function(e,t,n,r,i,a,s){return"object"==typeof e?(a=e,"function"==typeof t&&(s=t),e=t=n=r=i=null):"function"==typeof t?(s=t,t=n=r=i=null):"function"==typeof n?(s=n,n=r=i=null):"function"==typeof r?(s=r,r=i=null):"function"==typeof i?(s=i,i=null):"function"==typeof a&&(s=a,a=null),a=this._translateParams(a),a=o.extend({},this._persistentParams||{},a),a.ip=e||a.ip||this._context.ip,a.iq=t||a.iq||this._context.iq,a.ic=n||a.ic||this._context.ic,a["in"]=r||a["in"]||this._context["in"],a.iv=i||a.iv||this._context.iv,a.p=a.p||this._context.p||this._context.dp,a.ti=a.ti||this._context.ti,this._tidyParameters(a),a.ti?this._withContext(a)._enqueue("item",a,s):this._handleError("Please provide at least an item transaction ID (ti)",s)},exception:function(e,t,n,r){return"object"==typeof e?(n=e,"function"==typeof t&&(r=t),e=t=null):"function"==typeof t?(r=t,t=0):"function"==typeof n&&(r=n,n=null),n=this._translateParams(n),n=o.extend({},this._persistentParams||{},n),n.exd=e||n.exd||this._context.exd,n.exf=+!!(t||n.exf||this._context.exf),0===n.exf&&delete n.exf,this._tidyParameters(n),this._withContext(n)._enqueue("exception",n,r)},timing:function(e,t,n,r,i,a){return"object"==typeof e?(i=e,"function"==typeof t&&(a=t),e=t=n=r=null):"function"==typeof t?(a=t,t=n=r=null):"function"==typeof n?(a=n,n=r=null):"function"==typeof r?(a=r,r=null):"function"==typeof i&&(a=i,i=null),i=this._translateParams(i),i=o.extend({},this._persistentParams||{},i),i.utc=e||i.utc||this._context.utc,i.utv=t||i.utv||this._context.utv,i.utt=n||i.utt||this._context.utt,i.utl=r||i.utl||this._context.utl,this._tidyParameters(i),this._withContext(i)._enqueue("timing",i,a)},send:function(e){var t=this,n=1,e=e||function(){};t._log("Sending "+t._queue.length+" tracking call(s)");var r=function(){return t._queue.length>0},s=function(e){return e.map(function(e){return c.stringify(e)}).join("\n")},l=function(e){var r=[];u.batching?r=t._queue.splice(0,Math.min(t._queue.length,u.batchSize)):r.push(t._queue.shift());var i=r.length>1,c=u.hostname+(i?u.batchPath:u.path);t._log(n++ +": "+JSON.stringify(r));var l=o.extend({},t.options.requestOptions,{body:s(r),headers:t.options.headers||{}});a.post(c,l,e)};i.whilst(r,l,function(r){t._log("Finished sending tracking calls"),e.call(t,r||null,n-1)})},_enqueue:function(e,t,n){return"function"==typeof t&&(n=t,t={}),t=this._translateParams(t)||{},o.extend(t,{v:u.protocolVersion,tid:this.tid,cid:this.cid,t:e}),this.uid&&(t.uid=this.uid),this._queue.push(t),this.options.debug&&this._checkParameters(t),this._log("Enqueued "+e+" ("+JSON.stringify(t)+")"),n&&this.send(n),this},_handleError:function(e,t){return this._log("Error: "+e),t&&t.call(this,new Error(e)),this},_determineCid:function(){var e,t=Array.prototype.splice.call(arguments,0),n=t.length-1,r=t[n];if(r)for(var i=0;i<n;i++){if(e=l.ensureValidCid(t[i]),e!==!1)return e;null!=e&&this._log("Warning! Invalid UUID format '"+t[i]+"'")}else for(var i=0;i<n;i++)if(t[i])return t[i];return s.v4()},_checkParameters:function(e){for(var t in e)u.acceptedParameters.indexOf(t)!==-1||u.acceptedParametersRegex.filter(function(e){return e.test(t)}).length||this._log("Warning! Unsupported tracking parameter "+t+" ("+e[t]+")")},_translateParams:function(e){var t={};for(var n in e)u.parametersMap.hasOwnProperty(n)?t[u.parametersMap[n]]=e[n]:t[n]=e[n];return t},_tidyParameters:function(e){for(var t in e)null!==e[t]&&void 0!==e[t]||delete e[t];return e},_log:function(e){this.options.debug&&console.log("[universal-analytics] "+e)},_withContext:function(e){var t=new d(this.tid,this.cid,this.options,e,this._persistentParams);return t._queue=this._queue,t}},d.prototype.pv=d.prototype.pageview,d.prototype.e=d.prototype.event,d.prototype.t=d.prototype.transaction,d.prototype.i=d.prototype.item},{"./config":445,"./utils":447,async:448,querystring:367,request:370,underscore:443,url:143,uuid:452}],447:[function(e,t,n){t.exports.isUuid=function(e){return!!e&&(e=e.toString().toLowerCase(),/[0-9a-f]{8}\-?[0-9a-f]{4}\-?4[0-9a-f]{3}\-?[89ab][0-9a-f]{3}\-?[0-9a-f]{12}/.test(e))},t.exports.isCookieCid=function(e){return/^[0-9]+\.[0-9]+$/.test(e)},t.exports.ensureValidCid=function(e){return this.isUuid(e)?(e=e.replace(/\-/g,""),""+e.substring(0,8)+"-"+e.substring(8,12)+"-"+e.substring(12,16)+"-"+e.substring(16,20)+"-"+e.substring(20)):!!this.isCookieCid(e)&&e}},{}],448:[function(e,t,n){(function(e,n){!function(){function r(){}function i(e){var t=!1;return function(){if(t)throw new Error("Callback was already called.");t=!0,e.apply(this,arguments)}}function o(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function a(e){return R(e)||"number"==typeof e.length&&e.length>=0&&e.length%1===0}function s(e,t){return a(e)?c(e,t):d(e,t)}function c(e,t){for(var n=-1,r=e.length;++n<r;)t(e[n],n,e)}function l(e,t){for(var n=-1,r=e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function u(e){return l(Array(e),function(e,t){return t})}function h(e,t,n){return c(e,function(e,r,i){n=t(n,e,r,i)}),n}function d(e,t){c(N(e),function(n){t(e[n],n)})}function f(e){var t,n,r=-1;return a(e)?(t=e.length,function(){return r++,r<t?r:null}):(n=N(e),t=n.length,function(){return r++,r<t?n[r]:null})}function p(e,t){t=t||0;var n=-1,r=e.length;t&&(r-=t,r=r<0?0:r);for(var i=Array(r);++n<r;)i[n]=e[n+t];return i}function m(e){return function(t,n,r){return e(t,r)}}function g(e){return function(t,n,a){a=o(a||r),t=t||[];var s=f(t);if(e<=0)return a(null);var c=!1,l=0,u=!1;!function h(){if(c&&l<=0)return a(null);for(;l<e&&!u;){var r=s();if(null===r)return c=!0,void(l<=0&&a(null));l+=1,n(t[r],r,i(function(e){l-=1,e?(a(e),u=!0):h()}))}}()}}function v(e){return function(t,n,r){return e(F.eachOf,t,n,r)}}function b(e,t){return function(n,r,i){return t(g(e),n,r,i)}}function y(e){return function(t,n,r){return e(F.eachOfSeries,t,n,r)}}function w(e,t,n,i){i=o(i||r);var a=[];e(t,function(e,t,r){n(e,function(e,n){a[t]=n,r(e)})},function(e){i(e,a)})}function _(e){return b(e,w)}function x(e,t,n,r){var i=[];t=l(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t,r){n(e.value,function(t){t&&i.push(e),r()})},function(){r(l(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})}function k(e,t,n,r){var i=[];t=l(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t,r){n(e.value,function(t){t||i.push(e),r()})},function(){r(l(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})}function S(e,t,n,i){e(t,function(e,t,o){n(e,function(t){t?(i(e),i=r):o()})},function(){i()})}function j(e,t,n){n=n||r;var i=a(t)?[]:{};e(t,function(e,t,n){e(function(e){var r=p(arguments,1);r.length<=1&&(r=r[0]),i[t]=r,n(e)})},function(e){n(e,i)})}function P(e,t,n,r){var i=[];e(t,function(e,t,r){n(e,function(e,t){i=i.concat(t||[]),r(e)})},function(e){r(e,i)})}function E(e,t,n){function o(e,t,n,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");return e.started=!0,R(t)||(t=[t]),0===t.length&&e.idle()?F.setImmediate(function(){e.drain()}):(c(t,function(t){var o={data:t,callback:i||r};n?e.tasks.unshift(o):e.tasks.push(o),e.tasks.length===e.concurrency&&e.saturated()}),void F.setImmediate(e.process))}function a(e,t){return function(){s-=1;var n=arguments;c(t,function(e){e.callback.apply(e,n)}),e.tasks.length+s===0&&e.drain(),e.process()}}if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var s=0,u={tasks:[],concurrency:t,saturated:r,empty:r,drain:r,started:!1,paused:!1,push:function(e,t){o(u,e,!1,t)},kill:function(){u.drain=r,u.tasks=[]},unshift:function(e,t){o(u,e,!0,t)},process:function(){if(!u.paused&&s<u.concurrency&&u.tasks.length)for(;s<u.concurrency&&u.tasks.length;){var t=n?u.tasks.splice(0,n):u.tasks.splice(0,u.tasks.length),r=l(t,function(e){return e.data});0===u.tasks.length&&u.empty(),s+=1;var o=i(a(u,t));e(r,o)}},length:function(){return u.tasks.length},running:function(){return s},idle:function(){return u.tasks.length+s===0},pause:function(){u.paused=!0},resume:function(){if(u.paused!==!1){u.paused=!1;for(var e=Math.min(u.concurrency,u.tasks.length),t=1;t<=e;t++)F.setImmediate(u.process)}}};return u}function A(e){return function(t){var n=p(arguments,1);t.apply(null,n.concat([function(t){var n=p(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[e]&&c(n,function(t){console[e](t)}))}]))}}function T(e){return function(t,n,r){e(u(t),n,r)}}function C(e,t){function n(){var n=this,r=p(arguments),i=r.pop();return e(t,function(e,t,i){e.apply(n,r.concat([i]))},i)}if(arguments.length>2){var r=p(arguments,2);return n.apply(this,r)}return n}function M(e){return function(){var t=p(arguments),n=t.pop();t.push(function(){var e=arguments;r?F.setImmediate(function(){n.apply(null,e)}):n.apply(null,e)});var r=!0;e.apply(this,t),r=!1}}var O,I,F={};O="object"==typeof window&&this===window?window:"object"==typeof n&&this===n?n:this,null!=O&&(I=O.async),F.noConflict=function(){return O.async=I,F};var D,L=Object.prototype.toString,R=Array.isArray||function(e){return"[object Array]"===L.call(e)},N=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};"function"==typeof setImmediate&&(D=setImmediate),"undefined"!=typeof e&&e.nextTick?(F.nextTick=e.nextTick,D?F.setImmediate=function(e){D(e)}:F.setImmediate=F.nextTick):D?(F.nextTick=function(e){D(e)},F.setImmediate=F.nextTick):(F.nextTick=function(e){setTimeout(e,0)},F.setImmediate=F.nextTick),F.forEach=F.each=function(e,t,n){return F.eachOf(e,m(t),n)},F.forEachSeries=F.eachSeries=function(e,t,n){return F.eachOfSeries(e,m(t),n)},F.forEachLimit=F.eachLimit=function(e,t,n,r){return g(t)(e,m(n),r)},F.forEachOf=F.eachOf=function(e,t,n){function c(e){e?n(e):(u+=1,u>=l&&n(null))}n=o(n||r),e=e||[];var l=a(e)?e.length:N(e).length,u=0;return l?void s(e,function(n,r){t(e[r],r,i(c))}):n(null)},F.forEachOfSeries=F.eachOfSeries=function(e,t,n){function a(){var r=!0;return null===c?n(null):(t(e[c],c,i(function(e){if(e)n(e);else{if(c=s(),null===c)return n(null);r?F.nextTick(a):a()}})),void(r=!1))}n=o(n||r),e=e||[];var s=f(e),c=s();a()},F.forEachOfLimit=F.eachOfLimit=function(e,t,n,r){g(t)(e,n,r)},F.map=v(w),F.mapSeries=y(w),F.mapLimit=function(e,t,n,r){return _(t)(e,n,r)},F.inject=F.foldl=F.reduce=function(e,t,n,r){F.eachOfSeries(e,function(e,r,i){n(t,e,function(e,n){t=n,i(e)})},function(e){r(e||null,t)})},F.foldr=F.reduceRight=function(e,t,n,r){var i=l(e,function(e){return e}).reverse();F.reduce(i,t,n,r)},F.select=F.filter=v(x),F.selectSeries=F.filterSeries=y(x),
F.reject=v(k),F.rejectSeries=y(k),F.detect=v(S),F.detectSeries=y(S),F.any=F.some=function(e,t,n){F.eachOf(e,function(e,i,o){t(e,function(e){e&&(n(!0),n=r),o()})},function(){n(!1)})},F.all=F.every=function(e,t,n){F.eachOf(e,function(e,i,o){t(e,function(e){e||(n(!1),n=r),o()})},function(){n(!0)})},F.sortBy=function(e,t,n){function r(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}F.map(e,function(e,n){t(e,function(t,r){t?n(t):n(null,{value:e,criteria:r})})},function(e,t){return e?n(e):void n(null,l(t.sort(r),function(e){return e.value}))})},F.auto=function(e,t){function n(e){d.unshift(e)}function i(e){for(var t=0;t<d.length;t+=1)if(d[t]===e)return void d.splice(t,1)}function a(){l--,c(d.slice(0),function(e){e()})}t=o(t||r);var s=N(e),l=s.length;if(!l)return t(null);var u={},d=[];n(function(){l||t(null,u)}),c(s,function(r){function o(e){var n=p(arguments,1);if(n.length<=1&&(n=n[0]),e){var i={};c(N(u),function(e){i[e]=u[e]}),i[r]=n,t(e,i)}else u[r]=n,F.setImmediate(a)}function s(){return h(m,function(e,t){return e&&u.hasOwnProperty(t)},!0)&&!u.hasOwnProperty(r)}function l(){s()&&(i(l),f[f.length-1](o,u))}for(var d,f=R(e[r])?e[r]:[e[r]],m=f.slice(0,Math.abs(f.length-1))||[],g=m.length;g--;){if(!(d=e[m[g]]))throw new Error("Has inexistant dependency");if(R(d)&&~d.indexOf(r))throw new Error("Has cyclic dependencies")}s()?f[f.length-1](o,u):n(l)})},F.retry=function(e,t,n){function r(r,i){function a(e,t){return function(n){e(function(e,r){n(!e||t,{err:e,result:r})},i)}}for(;e;)o.push(a(t,!(e-=1)));F.series(o,function(e,t){t=t[t.length-1],(r||n)(t.err,t.result)})}var i=5,o=[];return"function"==typeof e&&(n=t,t=e,e=i),e=parseInt(e,10)||i,n?r():r},F.waterfall=function(e,t){function n(e){return function(r){if(r)t.apply(null,arguments);else{var i=p(arguments,1),o=e.next();o?i.push(n(o)):i.push(t),M(e).apply(null,i)}}}if(t=o(t||r),!R(e)){var i=new Error("First argument to waterfall must be an array of functions");return t(i)}return e.length?void n(F.iterator(e))():t()},F.parallel=function(e,t){j(F.eachOf,e,t)},F.parallelLimit=function(e,t,n){j(g(t),e,n)},F.series=function(e,t){t=t||r;var n=a(e)?[]:{};F.eachOfSeries(e,function(e,t,r){e(function(e){var i=p(arguments,1);i.length<=1&&(i=i[0]),n[t]=i,r(e)})},function(e){t(e,n)})},F.iterator=function(e){function t(n){function r(){return e.length&&e[n].apply(null,arguments),r.next()}return r.next=function(){return n<e.length-1?t(n+1):null},r}return t(0)},F.apply=function(e){var t=p(arguments,1);return function(){return e.apply(null,t.concat(p(arguments)))}},F.concat=v(P),F.concatSeries=y(P),F.whilst=function(e,t,n){e()?t(function(r){return r?n(r):void F.whilst(e,t,n)}):n(null)},F.doWhilst=function(e,t,n){e(function(r){if(r)return n(r);var i=p(arguments,1);t.apply(null,i)?F.doWhilst(e,t,n):n(null)})},F.until=function(e,t,n){e()?n(null):t(function(r){return r?n(r):void F.until(e,t,n)})},F.doUntil=function(e,t,n){e(function(r){if(r)return n(r);var i=p(arguments,1);t.apply(null,i)?n(null):F.doUntil(e,t,n)})},F.queue=function(e,t){var n=E(function(t,n){e(t[0],n)},t,1);return n},F.priorityQueue=function(e,t){function n(e,t){return e.priority-t.priority}function i(e,t,n){for(var r=-1,i=e.length-1;r<i;){var o=r+(i-r+1>>>1);n(t,e[o])>=0?r=o:i=o-1}return r}function o(e,t,o,a){if(null!=a&&"function"!=typeof a)throw new Error("task callback must be a function");return e.started=!0,R(t)||(t=[t]),0===t.length?F.setImmediate(function(){e.drain()}):void c(t,function(t){var s={data:t,priority:o,callback:"function"==typeof a?a:r};e.tasks.splice(i(e.tasks,s,n)+1,0,s),e.tasks.length===e.concurrency&&e.saturated(),F.setImmediate(e.process)})}var a=F.queue(e,t);return a.push=function(e,t,n){o(a,e,t,n)},delete a.unshift,a},F.cargo=function(e,t){return E(e,1,t)},F.log=A("log"),F.dir=A("dir"),F.memoize=function(e,t){function n(){var n=p(arguments),o=n.pop(),a=t.apply(null,n);a in r?F.nextTick(function(){o.apply(null,r[a])}):a in i?i[a].push(o):(i[a]=[o],e.apply(null,n.concat([function(){r[a]=p(arguments);var e=i[a];delete i[a];for(var t=0,n=e.length;t<n;t++)e[t].apply(null,arguments)}])))}var r={},i={};return t=t||function(e){return e},n.memo=r,n.unmemoized=e,n},F.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},F.times=T(F.map),F.timesSeries=T(F.mapSeries),F.timesLimit=function(e,t,n,r){return F.mapLimit(u(e),t,n,r)},F.seq=function(){var e=arguments;return function(){var t=this,n=p(arguments),i=n.slice(-1)[0];"function"==typeof i?n.pop():i=r,F.reduce(e,n,function(e,n,r){n.apply(t,e.concat([function(){var e=arguments[0],t=p(arguments,1);r(e,t)}]))},function(e,n){i.apply(t,[e].concat(n))})}},F.compose=function(){return F.seq.apply(null,Array.prototype.reverse.call(arguments))},F.applyEach=function(){var e=p(arguments);return C.apply(null,[F.eachOf].concat(e))},F.applyEachSeries=function(){var e=p(arguments);return C.apply(null,[F.eachOfSeries].concat(e))},F.forever=function(e,t){function n(e){return e?o(e):void a(n)}var o=i(t||r),a=M(e);n()},F.ensureAsync=M,"undefined"!=typeof t&&t.exports?t.exports=F:"undefined"!=typeof define&&define.amd?define([],function(){return F}):O.async=F}()}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:352}],449:[function(e,t,n){arguments[4][299][0].apply(n,arguments)},{dup:299}],450:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],451:[function(e,t,n){(function(t,r){function i(e,t){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(t)?r.showHidden=t:t&&n._extend(r,t),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),c(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function a(e,t){return e}function s(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function c(e,t,r){if(e.customInspect&&t&&P(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return y(i)||(i=c(e,i,r)),i}var o=l(e,t);if(o)return o;var a=Object.keys(t),m=s(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),j(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return u(t);if(0===a.length){if(P(t)){var g=t.name?": "+t.name:"";return e.stylize("[Function"+g+"]","special")}if(x(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(S(t))return e.stylize(Date.prototype.toString.call(t),"date");if(j(t))return u(t)}var v="",b=!1,w=["{","}"];if(p(t)&&(b=!0,w=["[","]"]),P(t)){var _=t.name?": "+t.name:"";v=" [Function"+_+"]"}if(x(t)&&(v=" "+RegExp.prototype.toString.call(t)),S(t)&&(v=" "+Date.prototype.toUTCString.call(t)),j(t)&&(v=" "+u(t)),0===a.length&&(!b||0==t.length))return w[0]+v+w[1];if(r<0)return x(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var k;return k=b?h(e,t,r,m,a):a.map(function(n){return d(e,t,r,m,n,b)}),e.seen.pop(),f(k,v,w)}function l(e,t){if(_(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return b(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)M(t,String(a))?o.push(d(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(d(e,t,n,r,i,!0))}),o}function d(e,t,n,r,i,o){var a,s,l;if(l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},l.get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),M(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=g(n)?c(e,l.value,null):c(e,l.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),_(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function f(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function p(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return null==e}function b(e){return"number"==typeof e}function y(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function _(e){return void 0===e}function x(e){return k(e)&&"[object RegExp]"===A(e)}function k(e){return"object"==typeof e&&null!==e}function S(e){return k(e)&&"[object Date]"===A(e)}function j(e){return k(e)&&("[object Error]"===A(e)||e instanceof Error)}function P(e){return"function"==typeof e}function E(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function A(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}function C(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),D[e.getMonth()],t].join(" ")}function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var O=/%[sdj%]/g;n.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(e).replace(O,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),s=r[n];n<o;s=r[++n])a+=g(s)||!k(s)?" "+s:" "+i(s);return a},n.deprecate=function(e,i){function o(){if(!a){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),a=!0}return e.apply(this,arguments)}if(_(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(t.noDeprecation===!0)return e;var a=!1;return o};var I,F={};n.debuglog=function(e){if(_(I)&&(I=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!F[e])if(new RegExp("\\b"+e+"\\b","i").test(I)){var r=t.pid;F[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else F[e]=function(){};return F[e]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=m,n.isNull=g,n.isNullOrUndefined=v,n.isNumber=b,n.isString=y,n.isSymbol=w,n.isUndefined=_,n.isRegExp=x,n.isObject=k,n.isDate=S,n.isError=j,n.isFunction=P,n.isPrimitive=E,n.isBuffer=e("./support/isBuffer");var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",C(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!k(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":450,_process:352,inherits:449}],452:[function(e,t,n){var r=e("./v1"),i=e("./v4"),o=i;o.v1=r,o.v4=i,t.exports=o},{"./v1":455,"./v4":456}],453:[function(e,t,n){function r(e,t){var n=t||0,r=i;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}for(var i=[],o=0;o<256;++o)i[o]=(o+256).toString(16).substr(1);t.exports=r},{}],454:[function(e,t,n){(function(e){var n,r=e.crypto||e.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],455:[function(e,t,n){function r(e,t,n){var r=t&&n||0,i=t||[];e=e||{};var a=void 0!==e.clockseq?e.clockseq:c,h=void 0!==e.msecs?e.msecs:(new Date).getTime(),d=void 0!==e.nsecs?e.nsecs:u+1,f=h-l+(d-u)/1e4;if(f<0&&void 0===e.clockseq&&(a=a+1&16383),(f<0||h>l)&&void 0===e.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=h,u=d,c=a,h+=122192928e5;var p=(1e4*(268435455&h)+d)%4294967296;i[r++]=p>>>24&255,i[r++]=p>>>16&255,i[r++]=p>>>8&255,i[r++]=255&p;var m=h/4294967296*1e4&268435455;i[r++]=m>>>8&255,i[r++]=255&m,i[r++]=m>>>24&15|16,i[r++]=m>>>16&255,i[r++]=a>>>8|128,i[r++]=255&a;for(var g=e.node||s,v=0;v<6;++v)i[r+v]=g[v];return t?t:o(i)}var i=e("./lib/rng"),o=e("./lib/bytesToUuid"),a=i(),s=[1|a[0],a[1],a[2],a[3],a[4],a[5]],c=16383&(a[6]<<8|a[7]),l=0,u=0;t.exports=r},{"./lib/bytesToUuid":453,"./lib/rng":454}],456:[function(e,t,n){function r(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[r+s]=a[s];return t||o(a)}var i=e("./lib/rng"),o=e("./lib/bytesToUuid");t.exports=r},{"./lib/bytesToUuid":453,"./lib/rng":454}],457:[function(e,t,n){function r(e){var t,n,r,i,o;if(c.object(e,"args"),c.bool(e.strict,"args.strict"),c.array(e.argv,"args.argv"),t=e.argv,0===t.length)n={},r=[];else if(h(t[0]))n={cause:t[0]},r=t.slice(1);else if("object"==typeof t[0]){n={};for(o in t[0])n[o]=t[0][o];r=t.slice(1)}else c.string(t[0],"first argument to VError, SError, or WError constructor must be a string, object, or Error"),n={},r=t;return c.object(n),n.strict||e.strict||(r=r.map(function(e){return null===e?"null":void 0===e?"undefined":e})),i=0===r.length?"":d.apply(null,r),{options:n,shortmessage:i}}function i(){var e,t,n,o,a,s,l;if(e=Array.prototype.slice.call(arguments,0),!(this instanceof i))return t=Object.create(i.prototype),i.apply(t,arguments),t;if(n=r({argv:e,strict:!1}),n.options.name&&(c.string(n.options.name,'error\'s "name" must be a string'),this.name=n.options.name),this.jse_shortmsg=n.shortmessage,s=n.shortmessage,o=n.options.cause,o&&(c.ok(h(o),"cause is not an Error"),this.jse_cause=o,n.options.skipCauseMessage||(s+=": "+o.message)),this.jse_info={},n.options.info)for(l in n.options.info)this.jse_info[l]=n.options.info[l];return this.message=s,Error.call(this,s),Error.captureStackTrace&&(a=n.options.constructorOpt||this.constructor,Error.captureStackTrace(this,a)),this}function o(){var e,t,n,a;return e=Array.prototype.slice.call(arguments,0),this instanceof o?(n=r({argv:e,strict:!0}),a=n.options,i.call(this,a,"%s",n.shortmessage),this):(t=Object.create(o.prototype),o.apply(t,arguments),t)}function a(e){c.array(e,"list of errors"),c.ok(e.length>0,"must be at least one error"),this.ase_errors=e,i.call(this,{cause:e[0]},"first of %d error%s",e.length,1==e.length?"":"s")}function s(){var e,t,n,o;return e=Array.prototype.slice.call(arguments,0),this instanceof s?(n=r({argv:e,strict:!1}),o=n.options,o.skipCauseMessage=!0,i.call(this,o,"%s",n.shortmessage),this):(t=Object.create(s.prototype),s.apply(t,e),t)}var c=e("assert-plus"),l=e("util"),u=e("extsprintf"),h=e("core-util-is").isError,d=u.sprintf;t.exports=i,i.VError=i,i.SError=o,i.WError=s,i.MultiError=a,l.inherits(i,Error),i.prototype.name="VError",i.prototype.toString=function(){var e=this.hasOwnProperty("name")&&this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(e+=": "+this.message),e},i.prototype.cause=function(){var e=i.cause(this);return null===e?void 0:e},i.cause=function(e){return c.ok(h(e),"err must be an Error"),h(e.jse_cause)?e.jse_cause:null},i.info=function(e){var t,n,r;if(c.ok(h(e),"err must be an Error"),n=i.cause(e),t=null!==n?i.info(n):{},"object"==typeof e.jse_info&&null!==e.jse_info)for(r in e.jse_info)t[r]=e.jse_info[r];return t},i.findCauseByName=function(e,t){var n;for(c.ok(h(e),"err must be an Error"),c.string(t,"name"),c.ok(t.length>0,"name cannot be empty"),n=e;null!==n;n=i.cause(n))if(c.ok(h(n)),n.name==t)return n;return null},i.hasCauseWithName=function(e,t){return null!==i.findCauseByName(e,t)},i.fullStack=function(e){c.ok(h(e),"err must be an Error");var t=i.cause(e);return t?e.stack+"\ncaused by: "+i.fullStack(t):e.stack},i.errorFromList=function(e){return c.arrayOfObject(e,"errors"),0===e.length?null:(e.forEach(function(e){c.ok(h(e))}),1==e.length?e[0]:new a(e))},i.errorForEach=function(e,t){c.ok(h(e),"err must be an Error"),c.func(t,"func"),e instanceof a?e.errors().forEach(function(e){t(e)}):t(e)},l.inherits(o,i),l.inherits(a,i),a.prototype.name="MultiError",a.prototype.errors=function(){return this.ase_errors.slice(0)},l.inherits(s,i),s.prototype.name="WError",s.prototype.toString=function(){var e=this.hasOwnProperty("name")&&this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(e+=": "+this.message),this.jse_cause&&this.jse_cause.message&&(e+="; caused by "+this.jse_cause.toString()),e},s.prototype.cause=function(e){return h(e)&&(this.jse_cause=e),this.jse_cause}},{"assert-plus":78,"core-util-is":207,extsprintf:247,util:451}],458:[function(require,module,exports){function Context(){}var indexOf=require("indexof"),Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(e){return this instanceof Script?void(this.code=e):new Script(e)};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,r=n.eval,i=n.execScript;!r&&i&&(i.call(n,"null"),r=n.eval),forEach(Object_keys(e),function(t){n[t]=e[t]}),forEach(globals,function(t){e[t]&&(n[t]=e[t])});var o=Object_keys(n),a=r.call(n,this.code);return forEach(Object_keys(n),function(t){(t in e||indexOf(o,t)===-1)&&(e[t]=n[t])}),forEach(globals,function(t){t in e||defineProp(e,t,n[t])}),document.body.removeChild(t),a},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),n=this.runInContext(t);return forEach(Object_keys(t),function(n){e[n]=t[n]}),n},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var n=Script(t);return n[e].apply(n,[].slice.call(arguments,1))}}),exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(n){t[n]=e[n]}),t}},{indexof:298}],459:[function(e,t,n){!function(e){var r=function(){var e,t=document.createElement("canvas"),n=["webgl","experimental-webgl","moz-webgl","webkit-3d"];if(~navigator.userAgent.indexOf("MSIE"))try{e=WebGLHelper.CreateGLContext(t,"canvas")}catch(r){}else for(var i=0;i<n.length;i++)try{if(e=t.getContext(n[i]))break}catch(r){}return!!e}();"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=r),n.webglDetect=r):"function"==typeof define&&define.amd?define([],function(){return r}):e.webglDetect=r}(this)},{}],460:[function(e,t,n){(function(n){var r=e("../lib/decorators/unhandledRejection"),i=r(e("../lib/Promise"));t.exports="undefined"!=typeof n?n.Promise=i:"undefined"!=typeof self?self.Promise=i:i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/Promise":461,"../lib/decorators/unhandledRejection":464}],461:[function(e,t,n){!function(e){"use strict";e(function(e){var t=e("./makePromise"),n=e("./Scheduler"),r=e("./env").asap;return t({scheduler:new n(r)})})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"./Scheduler":463,"./env":465,"./makePromise":466}],462:[function(e,t,n){!function(e){"use strict";e(function(){function e(e){this.head=this.tail=this.length=0,this.buffer=new Array(1<<e)}return e.prototype.push=function(e){return this.length===this.buffer.length&&this._ensureCapacity(2*this.length),this.buffer[this.tail]=e,this.tail=this.tail+1&this.buffer.length-1,++this.length,this.length},e.prototype.shift=function(){var e=this.buffer[this.head];return this.buffer[this.head]=void 0,this.head=this.head+1&this.buffer.length-1,--this.length,e},e.prototype._ensureCapacity=function(e){var t,n=this.head,r=this.buffer,i=new Array(e),o=0;if(0===n)for(t=this.length;o<t;++o)i[o]=r[o];else{for(e=r.length,t=this.tail;n<e;++o,++n)i[o]=r[n];for(n=0;n<t;++o,++n)i[o]=r[n]}this.buffer=i,this.head=0,this.tail=this.length},e})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],463:[function(e,t,n){!function(e){"use strict";e(function(e){function t(e){this._async=e,this._queue=new r(15),this._afterQueue=new r(5),this._running=!1;var t=this;this.drain=function(){t._drain()}}function n(e){for(;e.length>0;)e.shift().run()}var r=e("./Queue");return t.prototype.enqueue=function(e){this._add(this._queue,e)},t.prototype.afterQueue=function(e){this._add(this._afterQueue,e)},t.prototype._drain=function(){n(this._queue),this._running=!1,n(this._afterQueue)},t.prototype._add=function(e,t){e.push(t),this._running||(this._running=!0,this._async(this.drain))},t})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"./Queue":462}],464:[function(e,t,n){!function(e){"use strict";e(function(e){function t(e){var t="object"==typeof e&&e.stack?e.stack:n(e);return e instanceof Error?t:t+" (WARNING: non-Error used)"}function n(e){var t=String(e);return"[object Object]"===t&&"undefined"!=typeof JSON&&(t=r(e,t)),t}function r(e,t){try{return JSON.stringify(e)}catch(e){return t}}function i(e){throw e}function o(){}var a=e("../env").setTimer;return function(e){function r(e){e.handled||(f.push(e),u("Potentially unhandled rejection ["+e.id+"] "+t(e.value)))}function s(e){var t=f.indexOf(e);t>=0&&(f.splice(t,1),h("Handled previous rejection ["+e.id+"] "+n(e.value)))}function c(e,t){d.push(e,t),p||(p=!0,p=a(l,0))}function l(){for(p=!1;d.length>0;)d.shift()(d.shift())}var u=o,h=o;"undefined"!=typeof console&&(u="undefined"!=typeof console.error?function(e){console.error(e)}:function(e){console.log(e)},h="undefined"!=typeof console.info?function(e){console.info(e)}:function(e){console.log(e)}),e.onPotentiallyUnhandledRejection=function(e){c(r,e)},e.onPotentiallyUnhandledRejectionHandled=function(e){c(s,e)},e.onFatalRejection=function(e){c(i,e.value)};var d=[],f=[],p=!1;return e}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../env":465}],465:[function(e,t,n){(function(n){!function(e){"use strict";e(function(e){function t(){return"undefined"!=typeof n&&null!==n&&"function"==typeof n.nextTick}function r(){return"function"==typeof MutationObserver&&MutationObserver||"function"==typeof WebKitMutationObserver&&WebKitMutationObserver}function i(e){function t(){var e=n;n=void 0,e()}var n,r=document.createTextNode(""),i=new e(t);i.observe(r,{characterData:!0});var o=0;return function(e){n=e,r.data=o^=1}}var o,a="undefined"!=typeof setTimeout&&setTimeout,s=function(e,t){return setTimeout(e,t)},c=function(e){return clearTimeout(e)},l=function(e){return a(e,0)};if(t())l=function(e){return n.nextTick(e)};else if(o=r())l=i(o);else if(!a){var u=e,h=u("vertx");s=function(e,t){return h.setTimer(t,e)},c=h.cancelTimer,l=h.runOnLoop||h.runOnContext}return{setTimer:s,clearTimer:c,asap:l}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})}).call(this,e("_process"))},{_process:352}],466:[function(e,t,n){!function(e){"use strict";e(function(){return function(e){function t(e,t){this._handler=e===p?t:n(e)}function n(e){function t(e){i.resolve(e)}function n(e){i.reject(e)}function r(e){i.notify(e)}var i=new g;try{e(t,n,r)}catch(o){n(o)}return i}function r(e){return A(e)?e:new t(p,new v(h(e)))}function i(e){return new t(p,new v(new w(e)))}function o(){return q}function a(){return new t(p,new g)}function s(e){function n(e,t,n){this[e]=t,0===--l&&n.become(new y(this))}var r,i,o,a,s=new g,l=e.length>>>0,u=new Array(l);for(r=0;r<e.length;++r)if(o=e[r],void 0!==o||r in e)if(T(o))if(i=d(o),a=i.state(),0===a)i.fold(n,r,u,s);else{if(!(a>0)){c(e,r+1,i,s);break}u[r]=i.value,--l}else u[r]=o,--l;else--l;return 0===l&&s.become(new y(u)),new t(p,s)}function c(e,t,n,r){r.become(n);var i,o,a;for(i=t;i<e.length;++i)a=e[i],T(a)&&(o=d(a),o!==n&&o.visit(o,void 0,o._unreport))}function l(e){return"object"!=typeof e||null===e?i(new TypeError("non-iterable passed to race()")):0===e.length?o():1===e.length?r(e[0]):u(e)}function u(e){var n,r,i,o=new g;for(n=0;n<e.length;++n)if(r=e[n],void 0!==r||n in e){if(i=h(r),0!==i.state()){c(e,n+1,i,o);break}i.visit(o,o.resolve,o.reject)}return new t(p,o)}function h(e){return A(e)?e._handler.join():T(e)?f(e):new y(e)}function d(e){return A(e)?e._handler.join():f(e)}function f(e){try{var t=e.then;return"function"==typeof t?new b(t,e):new y(e)}catch(n){return new w(n)}}function p(){}function m(){}function g(e,n){t.createContext(this,n),this.consumers=void 0,this.receiver=e,this.handler=void 0,this.resolved=!1}function v(e){this.handler=e}function b(e,t){g.call(this),N.enqueue(new P(e,t,this))}function y(e){t.createContext(this),this.value=e}function w(e){t.createContext(this),this.id=++z,this.value=e,this.handled=!1,this.reported=!1,this._report()}function _(e,t){this.rejection=e,this.context=t}function x(e){this.rejection=e}function k(){return new w(new TypeError("Promise cycle"))}function S(e,t){this.continuation=e,this.handler=t}function j(e,t){this.handler=t,this.value=e}function P(e,t,n){this._then=e,this.thenable=t,this.resolver=n}function E(e,t,n,r,i){try{e.call(t,n,r,i)}catch(o){r(o)}}function A(e){return e instanceof t}function T(e){return("object"==typeof e||"function"==typeof e)&&null!==e}function C(e,n,r,i){return"function"!=typeof e?i.become(n):(t.enterContext(n),I(e,n.value,r,i),void t.exitContext())}function M(e,n,r,i,o){return"function"!=typeof e?o.become(r):(t.enterContext(r),F(e,n,r.value,i,o),void t.exitContext())}function O(e,n,r,i,o){return"function"!=typeof e?o.notify(n):(t.enterContext(r),D(e,n,i,o),void t.exitContext())}function I(e,t,n,r){try{r.become(h(e.call(n,t)))}catch(i){r.become(new w(i))}}function F(e,t,n,r,i){try{e.call(r,t,n,i)}catch(o){i.become(new w(o))}}function D(e,t,n,r){try{r.notify(e.call(n,t))}catch(i){r.notify(i)}}function L(e,t){t.prototype=U(e.prototype),t.prototype.constructor=t}function R(){}var N=e.scheduler,U=Object.create||function(e){function t(){}return t.prototype=e,new t};t.resolve=r,t.reject=i,t.never=o,t._defer=a,t._handler=h,t.prototype.then=function(e,t){var n=this._handler,r=n.join().state();if("function"!=typeof e&&r>0||"function"!=typeof t&&r<0)return new this.constructor(p,n);var i=this._beget(),o=i._handler;return n.chain(o,n.receiver,e,t,arguments.length>2?arguments[2]:void 0),i},t.prototype["catch"]=function(e){return this.then(void 0,e)},t.prototype._beget=function(){var e=this._handler,t=new g(e.receiver,e.join().context);return new this.constructor(p,t)},t.all=s,t.race=l,p.prototype.when=p.prototype.become=p.prototype.notify=p.prototype.fail=p.prototype._unreport=p.prototype._report=R,p.prototype._state=0,p.prototype.state=function(){return this._state},p.prototype.join=function(){for(var e=this;void 0!==e.handler;)e=e.handler;return e},p.prototype.chain=function(e,t,n,r,i){this.when({resolver:e,receiver:t,fulfilled:n,rejected:r,progress:i})},p.prototype.visit=function(e,t,n,r){this.chain($,e,t,n,r)},p.prototype.fold=function(e,t,n,r){this.visit(r,function(r){e.call(n,t,r,this)},r.reject,r.notify)},L(p,m),m.prototype.become=function(e){e.fail()};var $=new m;L(p,g),g.prototype._state=0,g.prototype.resolve=function(e){this.become(h(e))},g.prototype.reject=function(e){this.resolved||this.become(new w(e))},g.prototype.join=function(){if(!this.resolved)return this;for(var e=this;void 0!==e.handler;)if(e=e.handler,e===this)return this.handler=k();return e},g.prototype.run=function(){var e=this.consumers,t=this.join();this.consumers=void 0;for(var n=0;n<e.length;++n)t.when(e[n])},g.prototype.become=function(e){this.resolved||(this.resolved=!0,this.handler=e,void 0!==this.consumers&&N.enqueue(this),void 0!==this.context&&e._report(this.context))},g.prototype.when=function(e){this.resolved?N.enqueue(new S(e,this.handler)):void 0===this.consumers?this.consumers=[e]:this.consumers.push(e)},g.prototype.notify=function(e){this.resolved||N.enqueue(new j(e,this))},g.prototype.fail=function(e){var t="undefined"==typeof e?this.context:e;this.resolved&&this.handler.join().fail(t)},g.prototype._report=function(e){this.resolved&&this.handler.join()._report(e)},g.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},L(p,v),v.prototype.when=function(e){N.enqueue(new S(e,this))},v.prototype._report=function(e){this.join()._report(e)},v.prototype._unreport=function(){this.join()._unreport()},L(g,b),L(p,y),y.prototype._state=1,y.prototype.fold=function(e,t,n,r){M(e,t,this,n,r)},y.prototype.when=function(e){C(e.fulfilled,this,e.receiver,e.resolver)};var z=0;L(p,w),w.prototype._state=-1,w.prototype.fold=function(e,t,n,r){r.become(this)},w.prototype.when=function(e){"function"==typeof e.rejected&&this._unreport(),C(e.rejected,this,e.receiver,e.resolver)},w.prototype._report=function(e){N.afterQueue(new _(this,e))},w.prototype._unreport=function(){this.handled=!0,N.afterQueue(new x(this))},w.prototype.fail=function(e){t.onFatalRejection(this,void 0===e?this.context:e)},_.prototype.run=function(){this.rejection.handled||(this.rejection.reported=!0,t.onPotentiallyUnhandledRejection(this.rejection,this.context))},x.prototype.run=function(){this.rejection.reported&&t.onPotentiallyUnhandledRejectionHandled(this.rejection)},t.createContext=t.enterContext=t.exitContext=t.onPotentiallyUnhandledRejection=t.onPotentiallyUnhandledRejectionHandled=t.onFatalRejection=R;var B=new p,q=new t(p,B);return S.prototype.run=function(){this.handler.join().when(this.continuation)},j.prototype.run=function(){var e=this.handler.consumers;if(void 0!==e)for(var t,n=0;n<e.length;++n)t=e[n],O(t.progress,this.value,this.handler,t.receiver,t.resolver)},P.prototype.run=function(){function e(e){r.resolve(e)}function t(e){r.reject(e)}function n(e){r.notify(e)}var r=this.resolver;E(this._then,this.thenable,e,t,n)},t}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],467:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("floor-editor/fe-editor-model/fe-object-model-export-plan",function(e,t,n){"use strict";var r=e("three"),i=e("../../lib/util/assert"),o=e("../../lib/util/math"),a=e("../../lib/util/util"),s=e("../../lib/house/object-model/base-object"),c=e("../../lib/model/collection"),l=a.makeClass(Object,{},{
constructor:function(e,t,n,r){i.isNotDefinedOrNumber(e),i.isNotDefinedOrNumber(t),i.isNotDefinedOrNumber(n),i.isNotDefinedOrNumber(r),this.top=e||0,this.right=t||0,this.bottom=n||0,this.left=r||0},equals:function(e){return i.isNotDefinedOrTypeof(e,l),e&&this.top===e.top&&this.right===e.right&&this.bottom===e.bottom&&this.left===e.left},clone:function(){return new l(this.top,this.right,this.bottom,this.left)},toObject:function(){return{top:this.top,right:this.right,bottom:this.bottom,left:this.left}},fromObject:function(e){i.isObject(e),this.top=e.top||0,this.right=e.right||0,this.bottom=e.bottom||0,this.left=e.left||0}}),u=a.makeClass(Object,{},{constructor:function(e,t,n){i.isNotDefinedOrNumber(e),i.isNotDefinedOrNumber(t),i.isNotDefinedOrString(n),this.width=e||0,this.height=t||0,this.name=n||0},equals:function(e){return i.isNotDefinedOrTypeof(e,u),e&&this.width===e.width&&this.height===e.height&&this.name===e.name},toObject:function(){return{width:this.width,height:this.height,name:this.name}},fromObject:function(e){i.isObject(e),this.width=e.width||0,this.height=e.height||0,this.name=e.name||0}}),h=a.makeClass(s,{DOC_MARGIN:50,FLOOR_DATA_FONT:"40pt Arial",FLOOR_DATA_FONT_SIZE:40,DISCLAIMER:"Disclaimer: The floorplans depicted and the stated dimensions in this illustration are indicative only and serve as an approximation of existing structures and features. This illustration is not guaranteed to be accurate or complete. The accuracy of all information should be verified through personal inspection and/or with appropriate professionals.",DISCLAIMER_FONT:"20pt Arial",DISCLAIMER_TEXT_COLOR:"#9aa0ad",DISCLAIMER_FONT_SIZE:20,DISCLAIMER_ROW_SPACING_FACTOR:2,DEFAULT_LOGO_HEIGHT:205,ROW_SPACING_FACTOR:1.2,CONST_SPACE_FROM_LOGO:100,POSITION_TOP_LEFT:"Top Left",POSITION_UNDER_LOGO:"Under the Logo",POSITION_BOTTOM:"Bottom",POSITION_BOTTOM_LEFT:"Bottom Left",POSITION_VISIBLE:"On",POSITION_NOT_VISIBLE:"Off",SIZE_TEXT:"Total size of the floor is ",NO_LOGO_URL:"transparency.png",getTextPositions:function(){return[h.POSITION_VISIBLE,h.POSITION_NOT_VISIBLE]}},{constructor:function(){s.call(this),this._dimensions=null,this._logo=null,this._floorMargins=null,this._addressPosition=h.ADDRESS_POSITION_TOP_LEFT,this._isNameShown=!0,this._isSizeShown=!0,this._textElements=new c,this._floorAreaTextModelIndex=NaN,this._isLogoOnTop=!0},textElements:{get:function(){return this._textElements},set:function(e){this._textElements!==e&&(this._textElements=e,this._triggerUpdated())}},isSizeShown:{get:function(){return this._isSizeShown},set:function(e){i.isBoolean(e),this._isSizeShown!==e&&(this._isSizeShown=e,this._triggerUpdated())}},isNameShown:{get:function(){return this._isNameShown},set:function(e){i.isBoolean(e),this._isNameShown!==e&&(this._isNameShown=e,this._triggerUpdated())}},dimensions:{get:function(){return this._dimensions},set:function(e){i.isNotDefinedOrTypeof(e,u),e&&e.equals(this._dimensions)||(this._dimensions=e,this._triggerUpdated())}},addressPosition:{get:function(){return this._addressPosition},set:function(e){i.isString(e),this._addressPosition!==e&&(this._addressPosition=e,this._triggerUpdated())}},logo:{get:function(){return this._logo},set:function(e){this._logo!==e&&(this._logo=e,this._triggerUpdated())}},isLogoOnTop:{get:function(){return this._isLogoOnTop},set:function(e){this._isLogoOnTop!==e&&(this._isLogoOnTop=e,this._triggerUpdated())}},floorMargins:{get:function(){return this._floorMargins},set:function(e){i.isNotDefinedOrTypeof(e,l),e&&e.equals(this._floorMargins)||(this._floorMargins=e,this._triggerUpdated())}},disclaimer:{get:function(){return h.DISCLAIMER}},pageMargins:{get:function(){var e=h.DOC_MARGIN;return new l(e,e,e,e)}},absolutePageMargins:{get:function(){var e=null;return this.dimensions&&(e=new l(h.DOC_MARGIN,this.dimensions.width-h.DOC_MARGIN,this.dimensions.height-h.DOC_MARGIN,h.DOC_MARGIN)),e}},absoluteFloorMargins:{get:function(){var e=null,t=this._logo?this._logo.height:h.DEFAULT_LOGO_HEIGHT;if(this.floorMargins&&this.dimensions){var n=this.absolutePageMargins,r=this.floorMargins;if(this._isLogoOnTop)var i=n.top+t+r.top,o=n.bottom-r.bottom-(1+h.ROW_SPACING_FACTOR)*h.DISCLAIMER_FONT_SIZE;else var i=n.top+r.top,o=n.bottom-r.bottom-t-(1+h.ROW_SPACING_FACTOR)*h.DISCLAIMER_FONT_SIZE;var a=n.left+r.left,s=n.right-r.right;e=new l(i,s,o,a)}return e}},absoluteFloorCenter:{get:function(){var e=null,t=this.absoluteFloorMargins;return t&&(e=new r.Vector2(t.left+t.right,t.top+t.bottom).divideScalar(2)),e}},absoluteFloorForCroppedCenter:{get:function(){var e=null,t=this.absolutePageMargins;return t&&(e=new r.Vector2(t.left+t.right,t.top+t.bottom).divideScalar(2)),e}},availableFloorSpace:{get:function(){var e=null,t=this.absoluteFloorMargins;return t&&(e=new r.Vector2(t.right-t.left,t.bottom-t.top)),e}},floorAreaTextModel:{get:function(){var e=this._floorAreaTextModelIndex||-1;return this._textElements.get(e)},set:function(e){this.floorAreaTextModel!==e&&(this._floorAreaTextModelIndex=this._textElements.length,this._textElements.push(e))}},toObject:function(){var e=this._dimensions?this._dimensions.toObject():void 0,t=this._floorMargins?this._floorMargins.toObject():void 0;return{dimensions:e,floorMargins:t}},fromObject:function(e){e.dimensions&&(this._dimensions=new u,this._dimensions.fromObject(e.dimensions)),e.floorMargins&&(this._floorMargins=new l,this._floorMargins.fromObject(e.floorMargins))},setIsMetricSystemUsed:function(e,t){var n=h.SIZE_TEXT;if(e)n+=o.round(o.convertSqCmToSqM(t),0)+" m².";else{var r=o.convertSqCmToSqFt(t);n+=o.round(r,0)+" sq.ft."}this.floorAreaTextModel&&(this.floorAreaTextModel.text=n)}});n.exports={PageDimensions:u,ExportPlanModel:h,Margins:l}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/house/object-model/base-object":481,"../../lib/model/collection":486,"../../lib/util/assert":519,"../../lib/util/math":525,"../../lib/util/util":527,three:430}],468:[function(e,t,n){t.exports={POSSIBLE_ROOM_NAMES:["Attic","Ballroom","Bar","Bath","Bathroom","Basement","Bedroom","Bonus Room","Breakfast Nook","Balcony","Barbecue Area","Barbecue","Carport","Cabinet","Cabinetry","Cellar","Closet","Dining Area","Den","Detached Garage","D/W","Deck","Dining Room","Ensuite","Entrance","Entertainment Room","Fireplace","Furnace","Family Room","Formal Dining","Foyer","Game Room","Gazebo","Grill","Gallery","Garage","Great Room","Guest House","Guest Room","Gym","Home Theater","Hall","Half Bath","Hallway","Kitchen","Laundry","Laundry Room","Landing","Library","Linen","Living Room","Loft","Laboratory","Lobby","M.Bath","Meeting Room","Master Bathroom","Master Bedroom","Office","Ovens","Oven","Pantry","Pool House","Patio","Parking","Parking Covered","Pool","Porch","Powder Room","Sauna","Solarium","Seat","Slab","Shelf","Shelves","Shower","Storage","Stairs","Sun Room","TV Room","Terrace","Tennis Court","Tool Shed","Under-Stairs Closet","Utility Room","Walk-In Closet","WC","Wine Storage","Workshop","Wood Deck","Water Heater","Yard"],AREA_TEXT:["Total Livable Area m","Total Area m","Total Livable Square Footage sqft","Total Square Footage sqft"],NON_LIVABBLE_ROOM_NAMES:["garage","car port","carport","landing"],NAMES_THAT_SHOULD_NOT_AFFECT_AREA:["deck","patio","closet","outdoor","yard","porch","outside","lawn","pool","driveway","court"],WRONG_TEXT:["newroom","defaulttext","test","defaultroom","testroom","undefinedroom"]}},{}],469:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/analytics/abstract-analytics",function(e,t,n){var r=e("../util").core,i=e("parse").Parse,o=e("../util/assert"),a=e("universal-analytics"),s=r.makeClass(Object,{TRACKER_WEBSITE_USER:"trackerWebsiteUser",TRACKER_WEBSITE_OPERATOR:"trackerWebsiteOperator",TRACKER_WEBSITE_INFRASTRUCTURE:"trackerWebsiteInfrastructure",TRACKERS:{}},{constructor:function(e,t){o.isString(e),o.isString(t),this._trackerName=e,this._category=t,this._pageLoadingTime=0,this._visitor=c.getVisitor(this._trackerName)},moduleLoaded:function(){var e=this._getClientId();this._pageLoadingTime=this._getCurrentTime(),this._logTiming("loadTime",this._pageLoadingTime,e)},_getCurrentTime:function(){return window.performance?Math.round(window.performance.now()):-1},_getClientId:function(){return this._visitor.cid||void 0},_logEvent:function(e,t,n){o.isString(e);var r=this._category;r&&e?(this._visitor.event(r,e,t,n,this._errorCallback).send(),console.debug("EVENT SENT: "+this._trackerName+" | "+r+" | "+e+" | "+t+" | "+n)):console.error("Analytics event: undefined parameters")},_logTiming:function(e,t,n){o.isString(e);var r=this._category;r&&e&&t?(this._visitor.timing(r,e,t,n,this._errorCallback).send(),console.debug("TIMING SENT: "+this._trackerName+" | "+r+" | "+e+" | "+t+" | "+n)):console.error("Analytics timing: undefined parameters")},logPageView:function(e,t,n){o.isString(e),e?(this._visitor.pageview(e,t,n).send(),console.debug("PAGEVIEW SENT: "+this._trackerName+" | "+e+" | "+t+" | "+n)):console.error("Analytics pageview: undefined parameters")},_errorCallback:function(e){e&&(console.error("[Analytics sending error]"),console.error(e))}}),c={getVisitor:function(e){return this.visitors[e]||(console.debug("Initializing analytics visitor: "+e),this.visitors[e]=this.inits[e]()),this.visitors[e]},inits:{},visitors:{}};c.inits[s.TRACKER_WEBSITE_USER]=function(){var e=i.User.current(),t=e?e.id:"guest";return a("UA-55628106-1",t,{https:!0,strictCidFormat:!1})},c.inits[s.TRACKER_WEBSITE_OPERATOR]=function(){return a("UA-55628106-2",{https:!0})},c.inits[s.TRACKER_WEBSITE_INFRASTRUCTURE]=function(){return a("UA-55628106-4",{https:!0})},n.exports=s})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util":524,"../util/assert":519,parse:343,"universal-analytics":444}],470:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/analytics/website-analytics",function(e,t,n){var r=e("./abstract-analytics"),i=e("../util").core,o=i.makeClass(r,{CATEGORY:"Website",EVENT_LOGIN:"userLogin"},{constructor:function(){r.call(this,r.TRACKER_WEBSITE_USER,o.CATEGORY)},userLogin:function(e){var t=this._getClientId();this._logEvent(o.EVENT_LOGIN,t)}});n.exports=o})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util":524,"./abstract-analytics":469}],471:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/browser/angular",function(e,t,n){"use strict";var r=e("../../lib/util");e("angular");var i=!1,o=n.exports={bootstrap:function(e){angular.element(document).ready(function(){r.debug.startTimer();angular.bootstrap(document,[e]),angular.element(document.querySelector("im-debug-console-log-table"))&&r.debug.hideHtmlLog()})},element:function(e){var t;if(t=e&&"body"!==e?document.getElementById(e):document.body,!t)throw new Error("Invalid DOM element: "+e);return angular.element(t)},scope:function(e){return o.element(e).scope()},injector:function(e){return o.element(e).injector()},controller:function(e){return o.element(e).controller()},triggerUpdate:function(e){i||(i=!0,o.callScope(e,function(){i=!1}))},callRootScope:function(e,t){return o.callScope(void 0,e)},callScope:function(e,t,n){n=n||{};var i=o.element(e).scope();return i.$$phase,r.core.setTimeoutAsync(0).then(function(){i.$apply(function(){t.call(n||{},i)})}),!0},wrapPromise:function(e){return e.then(function(e){return insidemaps.angularUtils.triggerUpdate(),e},function(e){throw insidemaps.angularUtils.triggerUpdate(),e})}}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/util":524,angular:57}],472:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/browser/components/project-menu-component",function(e,t,n){"use strict";var r=e("./project-menu-controller"),i=e("../../../lib/util");e("angular"),n.exports="project-service";var o=angular.module(n.exports,[e("../modules/ui-components")]);o.controller("ProjectMenuController",r);var a=i.core.makeClass({},{},{constructor:function(){this.projectController_=new r},getProjectController:function(){return this.projectController_},setProjectController:function(e){this.projectController_=e},setParseProject:function(e){this.projectController_=(new r).fromParseProject(e)}});a.$inject=[],o.service("project",a);var s=function(e){return e.compile&&(e.compile=e.compile.bind(e)),e.link&&(e.link=e.link.bind(e)),e},c=i.core.makeClass({},{factory:function(e){return s(new c(e))}},{restrict:"EA",scope:!0,transclude:!0,templateUrl:"/app/lib/browser/components/project-menu-component.html",controller:"ProjectMenuController",controllerAs:"projectMenu",constructor:function(e){this.projectService=e,this.room=null,this.floor=null,this.project=null},link:function(e,t,n){e.menuIconColor=n.color||"white",e.dropdownMenuRight=n.right,void 0!==n.room?e.$watch(n.room,function(t){console.debug(t),this.room=n.room,this.floor=e.room.getFloor(),this.project=e.floor.getProject()}.bind(this)):void 0!==n.floor?e.$watch(n.floor,function(t){console.debug(t),this.floor=n.floor,this.project=e.floor.getProject()}.bind(this)):void 0!==n.project&&e.$watch(n.project,function(t){console.debug(t),this.project=t,this.project&&e.projectMenu.fromParseProject(this.project)}.bind(this)),e.getProjectController=function(){return e.projectMenu?e.projectMenu:this.projectService.getProjectController()}.bind(this)}});c.factory.$inject=["project"],o.directive("imProjectMenu",c.factory)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../lib/util":524,"../modules/ui-components":476,"./project-menu-controller":473,angular:57}],473:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/browser/components/project-menu-controller",function(e,t,n){"use strict";var r=(e("path"),e("../../../lib/util")),i=e("../../../lib/browser"),o=e("../../../lib/storage/dao"),a=(e("../../../lib/storage/urls"),e("../../../lib/storage/project")),s=(e("../../../lib/misc/filename-utils"),e("../../../lib/misc/event-publisher"),e("../../../lib/shared-modules/controllers/im-base-controller"));n.exports=r.core.makeClass(s,{},{constructor:function(e){s.call(this,e),this.parseProject=null,this.project=null,this.projectId="",this.floorId="",this.roomId="",this.noticeList=[],this._error=null,this._workingMessage="",this._loadPromise=null},fromParseProject:function(e){return this.projectId=e.id,this.parseProject=e,this.project=new a(e),this},fromProjectIdAsync:function(e){return console.debug("Loading project"),this.projectId=e||r.params.getString("project"),Promise.resolve().then(function(){return o.projectTable.getAsync(this.projectId,["organization"])}.bind(this)).then(function(e){this.parseProject=e,this.$scope.project=this.parseProject,this.project=new a(e)}.bind(this))},trackPromise:function(e,t,n){this._workingMessage=n,e.then(function(e){return this._workingMessage="",i.angular.triggerUpdate(),e}.bind(this))["catch"](function(e){return this._workingMessage="",i.angular.triggerUpdate(),e}.bind(this))},setError:function(e){r.debug.setError(e)},getError:function(){return r.debug.getError().message},getWorkingMessage:function(){return this._workingMessage},addNotice:function(e,t){this.noticeList.push({message:e})},removeNotice:function(e){this.noticeList.pop()},getEventPublisher:function(){return this.eventPublisher},getPhotoAnalyzerLink:function(e){return e=e||this.getProjectId(),e?"/app/photo-analyzer?project="+e+"&env="+r.params.getEnvironmentName()+"&debug":""},getVirtualTourLink:function(e){return e=e||this.getProjectId(),e?"/project/"+e+"/virtual-tour/json?env="+r.params.getEnvironmentName()+"&debug":""},getUserProjectViewLink:function(e){return e=e||this.getProjectId(),e?"/project/"+e+"?env="+r.params.getEnvironmentName():""},getOperatorProjectViewLink:function(e){return e=e||this.getProjectId(),e?"/app/photo-analyzer/?project="+e+"&env="+r.params.getEnvironmentName():""},getProjectLogLink:function(e){return e=e||this.getProjectId(),e?"/projectLog/"+e+"?env="+r.params.getEnvironmentName():""},getFloorEditorLink:function(e){return e=e||this.getFloorId(),e?"/app/floor-editor/index.php?floor="+e+"&env="+r.params.getEnvironmentName():""},get3DFloorEditorLink:function(e){return e=e||this.getFloorId(),e?"/app/3d-floor-editor/?floorId="+e+"&env="+r.params.getEnvironmentName():""},getDeveloperDashboardLink:function(e){return e=e||this.getRoomId(),e?"/operator/developerDashboard?roomId="+e+"&env="+r.params.getEnvironmentName():""},getTriangulatorLink:function(e){return e=e||this.getRoomId(),e?"/3dre/"+e+"?env="+r.params.getEnvironmentName():""},getRoomEditor2DLink:function(e,t){return e=e||this.getRoomId(),t=t||this.getProjectId(),e&&t?"/operator/roomEditor.php?action=update&projectItemName="+t+"&roomItemName="+e:""},getProjectCategory:function(){var e=this.getProject();return e?e.get("category"):""},toggleProjectCategory:function(e){var t=this.getProject();t&&(e==t.get("category",e)&&(e=""),t.set("category",e),t.saveAsync().then(function(){i.angular.triggerUpdate()}.bind(this)))},getProject:function(){return this.project&&this.project.getParseProject()},getProjectId:function(){return this.projectId},getFloorId:function(){return this.floorId},getRoomId:function(){return this.roomId},handleEvent:function(e){console.debug("Ignored message ",e)}})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../lib/browser":475,"../../../lib/misc/event-publisher":483,"../../../lib/misc/filename-utils":484,"../../../lib/shared-modules/controllers/im-base-controller":491,"../../../lib/storage/dao":514,"../../../lib/storage/project":516,"../../../lib/storage/urls":517,"../../../lib/util":524,path:344}],474:[function(e,t,n){(function(r){var o=r.define||function(r,i){i(e,n,t)};o("lib/browser/graphics",function(e,t,n){"use strict";var r=e("jquery"),o=n.exports={hasFlash:function(){var e=!1;try{e=Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(t){e="undefined"!=typeof navigator.mimeTypes["application/x-shockwave-flash"]}return e},openNewBackgroundTab:function(e){var t=document.createElement("a");t.href=e;var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!0,!1,!1,!1,0,null),t.dispatchEvent(n)},isFullScreenEnabled:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.oFullscreenEnabled)},getFullScreenElement:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.oFullscreenElement||null},cancelFullScreen:function(){var e=document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen||document.oCancelFullscreen;e&&e.call(document)},activateFullScreen:function(){var e=document.getElementsByTagName("body")[0],t=e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||e.oRequestFullscreen;t&&t.call(e,Element.ALLOW_KEYBOARD_INPUT||null)},bindFullScreenChangeHandler:function(e){r(document).bind("fullscreenchange",e).bind("webkitfullscreenchange",e).bind("mozfullscreenchange",e).bind("msfullscreenchange",e).bind("ofullscreenchange",e)},isEmbedded:function(){return window.location!==window.parent.location},getRelativeCoords:function(e,t){var n=0,r=0,i=e;do n+=i.offsetLeft-i.scrollLeft,r+=i.offsetTop-i.scrollTop;while(i=i.offsetParent);return{x:t.pageX-n,y:t.pageY-r}},bindEvent:function(e,t,n,r,i){r=r||{};var o=r.stopPropagation||!0,a=r.preventDefaults||!0,s=r.unbind||!0;s&&e.unbind(t),e.bind(t,{},function(e){return o&&e.stopPropagation(),a&&e.preventDefault(),!!n&&n.call(i,e)})},selectFileDialog:function(e,t,n,i,o){e=e||{},n=n||{},i=void 0===i||i;var a=r(document.createElement("input"));a.attr("type","file"),a.attr("multiple",i),o&&a.attr("accept",o),a.css("visibility","hidden"),a.css("position","absolute"),a.css("top",0),a.css("left",0);var s=a.get(0);return r(document.body).append(a),s.addEventListener("change",function(e){a.remove();var r=e.target.files;i?t.call(n,r):t.call(n,r[0])},!1),a.trigger("click"),s},readFileAsTextAsync:function(e,t){return new Promise(function(n,r){t=t||new FileReader,t.onload=function(e){n(e.target.result)},t.onerror=function(e){r(insidemaps.debug.getImprovedError(e,"File read failed"))},t.readAsText(e)})},readFileAsDataURLAsync:function(e,t){return new Promise(function(n,r){t=t||new FileReader,t.onload=function(e){n(e.target.result)},t.onerror=function(e){r(insidemaps.debug.getImprovedError(e,"File read failed"))},t.readAsDataURL(e)})},imageURItoBlob:function(e){var t=e.indexOf(":"),n=e.indexOf(";"),r=e.substring(t+1,n);return o.dataURItoBlob(e,r)},dataURItoBlob:function(e,t){for(var n=atob(e.split(",")[1]),r=[],i=0;i<n.length;i++)r.push(n.charCodeAt(i));return new Blob([new Uint8Array(r)],{type:t})},canvasToBlobAsync:function(e,t,n){return new Promise(function(r,i){return e.toBlob(r,t,n)})},convertDataURIToBinaryArray:function(e){var t=";base64,",n=e.indexOf(t)+t.length,r=e.substring(n),o=window.atob(r),a=o.length,s=new Uint8Array(new ArrayBuffer(a));for(i=0;i<a;i++)s[i]=o.charCodeAt(i);return s},loadImageAsync:function(e,t){return new Promise(function(n,r){t=t||new Image,t.onload=function(){return"naturalHeight"in this&&this.naturalHeight+this.naturalWidth===0?void this.onerror():this.width+this.height===0?void this.onerror():void n(this)},t.onerror=function(){r(new Error("Could not load image: "+this.src+". Most likely the image url was not found or was not accessible, or the image is stored in an unsupported format"))},t.src=e})},resizeImageOnCanvas:function(e,t,n){t=t||{},n=n||document.createElement("canvas");var r=t.width?t.width:e.width,i=t.height?t.height:e.height,o=r/i;!t.aspectRatio||t.width||t.height||(t.aspectRatio>o?i*=o/t.aspectRatio:t.aspectRatio<o&&(r*=t.aspectRatio/o),o=t.aspectRatio);var a=0,s=0,c=e.width,l=e.height,u=c/l;if(o>u){var h=l*u/o;s=(l-h)/2,l=h}else{var d=c*o/u;a=(c-d)/2,c=d}n.width=r,n.height=i,console.debug("Resize - Image: "+e.width+"x"+e.height+" - Canvas: "+n.width+"x"+n.height);var f=n.getContext("2d");return f.fillStyle="#FFFFFF",f.fillRect(0,0,n.width,n.height),f.drawImage(e,a,s,c,l,0,0,r,i),n},resizeImageUrlToLocalUrlAsync:function(e,t){var n=this;return o.loadImageAsync(e).then(function(e){var r=n.resizeImageOnCanvas(e,t);return r.toDataURL()})},resizeImageUrlToCanvasAsync:function(e,t){var n=this;return o.loadImageAsync(e).then(function(e){var r=n.resizeImageOnCanvas(e,t);return r})},createImageDataURL:function(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");return n.drawImage(e,0,0),t.toDataURL("image/png")}}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{jquery:304}],475:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/browser/index",function(e,t,n){"use strict";n.exports={angular:e("./angular"),graphics:e("./graphics"),wheelzoom:e("./wheelzoom")}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./angular":471,"./graphics":474,"./wheelzoom":478}],476:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/browser/modules/ui-components",function(e,t,n){"use strict";var i=e("../../../lib/util"),o=e("../../../lib/browser/angular"),a=e("parse").Parse;e("angular"),e("angular-bootstrap"),e("angular-dialog-service"),e("angular-sanitize"),n.exports="ui-components";var s=(angular.module("ui-components",[e("./utility-components"),e("../../shared-modules/shared-module"),"ui.bootstrap","dialogs.main","translate.sub"]),e("jquery"));e("turnjs"),angular.module("ui-components").config(["dialogsProvider",function(e){e.useBackdrop("static"),e.useEscClose(!0),e.useCopy(!1),e.setSize("lg")}]).run(["dialogs","$sce","imUserService",function(e,t,n){var o=!1;i.debug.errorHandler=function(t){if(t.showWarningDialog)return void s("#webgl-missing-modal").modal("show");if(t.code&&100===t.code)return t.userError=!0,void console.debug("Error code 100. Will not show dialog box.");var c=!!a.User.current();if(t.code&&101===t.code&&!o&&i.debug.DEBUGLEVEL<2){o=!0,t.userError=!0;e.create("no-permission-signin","NoPermController as nopermission",{user:c,text:"You either do not have access to this project or it does not exist."},{size:"lg",windowClass:"nopermissionmodal",backdrop:!1,keyboard:!1,animation:!1})}else{if(t.code&&209===t.code){var l=function(){window.location.reload()};return void n.logoutUser().then(l,l)}if(!o&&r.insidemaps_.errorState&&!r.insidemaps_.errorState.scriptLoadingFailed){o=!0;var u="object"==typeof t&&t.title?t.title:"Error",h=i.debug.getDetailedErrorMessage(t,{html:!0,loggedIn:c});if(h.indexOf("responseText")<0){var d=e.notify(u,h,{windowClass:"im-error-dialog"});d.result.then(function(){o=!1},function(){o=!1})}}}}}]).directive("flipbook",function(){return{restrict:"E",replace:!0,link:function(e,t,n){function r(e,t){if(e%2===0){var n=e/2-1,r=s("<div><div class='gradient'></div></div>").css({background:"url('"+i[n]+"')","background-size":"cover"}),o=s("<div><div class='gradient' </div></div>").css({background:"url('"+i[n]+"')","background-size":"cover","background-position":"right top"});t.turn("addPage",o,e),t.turn("addPage",r,e)}}t.turn({width:"933px",height:"700px",autoCenter:!0,duration:2e3,elevation:100,pages:1e3}).turn("peel","br"),t.addClass("flipbook"),t.bind("turning",function(e,t){console.log("turning"),r(t,s(this))});var i=["images/lookbooktest/living_room.jpg","images/lookbooktest/kitchen.jpg","images/lookbooktest/bedroom_1.jpg","images/lookbooktest/bedroom_3.jpg"]},controller:function(e,t){e.show_page=function(n){console.log("page",n,e.$id),t.turn("page",n)}},templateUrl:"flipbook-template"}}).directive("backImg",[function(){return function(e,t,n){n.$observe("backImg",function(e){t.css({"background-image":"url("+e+")"})})}}]).directive("endRepeat",[function(){return function(e,t,n){e.$last&&setTimeout(function(){e.$evalAsync(n.endRepeat)},100)}}]).directive("imTouchstart",[function(){return function(e,t,n){t.on("touchstart",function(t){e.$apply(function(){e.$eval(n.imTouchstart)})})}}]).directive("imTouchend",["$parse",function(e){return function(t,n,r){n.on("touchend",function(n){var i=e(r.imTouchend);i(t,{$event:n}),t.$apply()})}}]).directive("imTouchmove",["$parse",function(e){return function(t,n,r){n.on("touchmove",function(n){var i=e(r.imTouchmove);i(t,{$event:n}),t.$apply()})}}]).directive("imTouchstartPrevent",[function(){return function(e,t,n){t.on("touchstart",function(t){t.preventDefault(),console.log("touch start directive"),e.$apply(function(){e.$eval(n.imTouchstartPrevent)})})}}]).directive("imTouchmovePrevent",["$parse",function(e){return function(t,n,r){n.on("touchmove",function(n){n.preventDefault();var i=e(r.imTouchmovePrevent);i(t,{$event:n}),t.$apply()})}}]).directive("ngRightClick",["$parse",function(e){return function(t,n,r){var i=e(r.ngRightClick);n.bind("contextmenu",function(e){t.$apply(function(){e.preventDefault(),i(t,{$event:e})})})}}]).directive("elemReady",[function(){return function(e,t,n){t.ready(function(){e.$evalAsync(n.elemReady)})}}]).directive("disableNgAnimate",["$animate",function(e){return{restrict:"A",link:function(t,n){e.enabled(!1,n)}}}]);var c=i.core.makeClass({},{getFactory:function(){var e=function(e){return new c(e)};return e.$inject=["parse"],e}},{constructor:function(e){this.$parse=e},link:function(e,t,n){var r=$parse(n.imContextMenu);t.bind("contextmenu",function(t){e.$apply(function(){t.preventDefault(),r&&r(e,{$event:t})})})}});angular.module("ui-components").directive("imContextMenu",c.getFactory());var l=i.core.makeClass({},{template:"<div class='modal fade {{windowClass}}' role='dialog'>\t\t\t<div class='modal-dialog'>\t\t\t\t<div class='modal-content'>\t\t\t\t\t<div class='modal-header'>\t\t\t\t\t\t<button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button>\t\t\t\t\t\t<h4 class='modal-title'>{{dialogTitle}}</h4>\t\t\t\t\t</div>\t\t\t\t\t<div data-ng-transclude>\t\t\t\t\t</div>\t\t\t\t</div><!-- /.modal-content -->\t\t\t</div><!-- /.modal-dialog -->\t\t</div>",getFactory:function(){return function(){return new l}}},{constructor:function(){this.restrict="EA",this.scope={animate:"="},this.replace=!0,this.transclude=!0},link:function(e,t,n){e.windowClass=n.windowClass||"",e.dialogTitle=n.dialogTitle||"Untitled Modal"}});angular.module("ui-components").directive("imUiModalDialog",l.getFactory());var u=i.core.makeClass({},{template:'\t\t<div >\t\t\t<div class="modal-header dialog-header-notify">\t\t\t\t<button type="button" class="close" data-dismiss="modal" ng-click="modal.close()" aria-hidden="true">&times;</button>\t\t\t\t<h4 class="modal-title" ng-class="params.class">{{params.title}}</h4>\t\t\t</div>\t\t\t<div class="modal-body">\t\t\t\t<div data-ng-transclude></div>\t\t\t</div>\t\t\t<div class="modal-footer">\t\t\t\t<button type="button" class="btn btn-default" data-dismiss="modal" ng-click="modal.close()">Cancel</button>\t\t\t\t<button type="button" class="btn btn-primary" ng-click="modal.action(params.button5)" ng-disabled="($dirty && $invalid) || $pristine" ng-show="params.button5">{{params.button5}}</button>\t\t\t\t<button type="button" class="btn btn-primary" ng-click="modal.action(params.button4)" ng-disabled="($dirty && $invalid) || $pristine" ng-show="params.button4">{{params.button4}}</button>\t\t\t\t<button type="button" class="btn btn-primary" ng-click="modal.action(params.button3)" ng-disabled="($dirty && $invalid) || $pristine" ng-show="params.button3">{{params.button3}}</button>\t\t\t\t<button type="button" class="btn btn-primary" ng-click="modal.action(params.button2)" ng-disabled="($dirty && $invalid) || $pristine" ng-show="params.button2">{{params.button2}}</button>\t\t\t\t<button type="button" class="btn btn-primary" ng-click="modal.action(params.button1)" ng-disabled="($dirty && $invalid) || $pristine">{{params.button1}}</button>\t\t\t</div>\t\t</div>',getFactory:function(){return function(){return new u}}},{constructor:function(){this.restrict="EA",this.replace=!0,this.transclude=!0,this.template=u.template},link:function(e,t,n){e.params=Object.assign(e.params,{"class":e.params["class"]||n.windowClass||"",title:e.params.title||n.title||"Untitled Modal",button1:e.params.button||n.button||n.button1||"OK",button2:e.params.button2||n.button2||void 0,button3:e.params.button3||n.button3||void 0,button4:e.params.button4||n.button4||void 0,button5:e.params.button5||n.button5||void 0})}});angular.module("ui-components").directive("insidemapsModalBody",u.getFactory()),angular.module("ui-components").controller("ModalServiceController",i.core.makeClass({},{$inject:["$scope","$q","dialogs","$modalInstance"]},{constructor:function(e,t,n,r){this.$scope=e,this.$q=t,this.dialogs=n,this.$modalInstance=r,this.modalOptions=e.modalOptions,this.modalOptions.scope=e,this.$scope.params={title:this.modalOptions.title,button:this.modalOptions.button,button1:this.modalOptions.button1}},action:function(e){this.$q["try"](function(){this.modalOptions.action(this.$scope,e)}.bind(this))["catch"](function(e){this.finalize(),console.error(e),this.dialogs.error("Error",i.debug.getDetailedErrorMessage(e,{html:!0}))}.bind(this)).then(function(e){this.finalize(),this.$modalInstance.close(e)}.bind(this))},close:function(e){this.$modalInstance.dismiss("cancel")},finalize:function(){try{this.modalOptions["finally"]&&this.modalOptions["finally"](this.$scope)}catch(e){console.error(e),this.dialogs.error("Error Closing Dialog",i.debug.getDetailedErrorMessage(e,{html:!0}))}}}));var h=i.core.makeClass({},{$inject:["$modal","$q","$rootScope"]
},{constructor:function(e,t,n){this.$modal=e,this.$q=t,this.$rootScope=n},show:function(e,t){return t=Object.assign({},this._defaultAngularModalOptions,t||{}),e=Object.assign({},this._defaultModalOptions,e||{},t),e.windowClass=e.windowClass||e["class"],e.scope=e.scope?e.scope.$new():this.$rootScope.$new(),e.scope.modalOptions=e,this.$q.all(e.resolve).then(function(t){angular.forEach(t,function(t,n){e.scope[n]=t}),delete e.resolve}.bind(this)).then(function(){return this.$modal.open(e).result}.bind(this)).then(function(){e.finalize&&e.finalize()})["catch"](function(t){e.close&&e.close(),e.finalize&&e.finalize()}.bind(this))},showModal:function(e,t){return t=t||{},t.backdrop="static",this.show(e,t)},_defaultModalOptions:{closeButtonText:"Cancel",buttonText:"OK",button2Text:"OK2",button3Text:"OK3",headerText:"Proceed?",bodyText:"Perform this action?",controller:"ModalServiceController as modal"},_defaultAngularModalOptions:{backdrop:"true",keyboard:!0,modalFade:!0}});if(angular.module("ui-components").service("modalService",h),i.debug.DEBUGLEVEL>=2){var d=function(e){return i.core.containsString(e,"debug")?"info":i.core.containsString(e,"warn")?"warning":i.core.containsString(e,"err","exception")?"danger":""},f=i.core.makeClass({},{getFactory:function(){var e=function(){return new f};return e.$inject=[],e}},{constructor:function(){this.restrict="AE",this.replace="true",this.templateUrl="/app/lib/browser/modules/ui-components.debug-console.html",this.scope={}}}),p=i.core.makeClass({},{getFactory:function(){var e=function(){return new p};return e.$inject=[],e}},{constructor:function(){this.restrict="AE",this.replace="true",this.templateUrl="/app/lib/browser/modules/ui-components.debug-console.html",this.scope={},this.controller=i.core.makeClass({},{$inject:["$scope","php"]},{constructor:function(e,t){e.php=t,e.util=i.core,e.debug=i.debug,e.getClassFromType=d,i.debug.hideHtmlLog(),i.debug.logCallback=o.triggerUpdate()}})}});angular.module("ui-components").directive("insidemapsDebugConsole",f.getFactory()).directive("insidemapsDebugConsolePhp",p.getFactory())}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../lib/browser/angular":471,"../../../lib/util":524,"../../shared-modules/shared-module":495,"./utility-components":477,angular:57,"angular-bootstrap":49,"angular-dialog-service":"angular-dialog-service","angular-sanitize":55,jquery:304,parse:343,turnjs:"turnjs"}],477:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/browser/modules/utility-components",function(e,t,n){"use strict";var r=e("../../../lib/util");n.exports="utility-components",angular.module("utility-components",[]).run(["$rootScope",function(e){window.onload=function(){}}]).factory("util",function(){return r.core}).factory("debug",function(){return r.debug}).filter("has_property",function(){return function(e,t){return e.filter(function(e){return void 0!==e[t]})}}).filter("trust_as_html",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]).filter("startFrom",function(){return function(e,t){return e.slice(t)}}).filter("newlines",function(){return function(e){return e.replace(/\n/g,"<br/>")}}).filter("stripDirectory",function(){return function(e){return e.substring(e.lastIndexOf("/")+1)}}).filter("stripFilename",function(){return function(e){return e.substring(0,e.lastIndexOf("/"))}}).filter("encodeUri",["$window",function(e){return function(t){return e.encodeURIComponent(t)}}]).filter("not",["func",function(e){return function(t){return!e(t)}}]).filter("count",function(){return function(e){return r.core.size(e)}}).filter("empty",function(){return function(e){return r.core.empty(e)}}).config(["$provide",function(e){e.decorator("$q",["$delegate",function(e){var t=function(e){var r=e.then,i=e["catch"];return e.then=function(n,i,o){return t(r.call(e,n,i))},e["catch"]=function(t){return i.call(e,function(e){try{t.call({},e)}catch(r){var i=n();return i.reject(r),i.promise}})},e},n=e.defer;e.defer=function(){var e=n(),r=e.promise;return t(r),e};var r=e.when;e.when=function(e){return t(r(e))};var i=e.all;return e.all=function(e){return t(i(e))},e["try"]=function(t){var n=e.defer();try{var r=Array.prototype.slice(arguments,1);n.resolve(t.apply({},r))}catch(i){n.reject(i)}return n.promise},e.fcall=e["try"],e}])}]).config(["$provide",function(e){e.decorator("$exceptionHandler",["$delegate",function(e){return function(e,t){var n=r.debug.interceptConsole(!1);r.debug.interceptConsole(n),r.debug.handleError(e)}}])}])})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../lib/util":524}],478:[function(e,t,n){t.exports=function(){var e={zoom:.1,maxZoom:!1},t=document.createElement("canvas"),n=function(n,r){function i(e){e.style.backgroundImage='url("'+e.src+'")',e.style.backgroundRepeat="no-repeat",t.width=e.naturalWidth,t.height=e.naturalHeight,y=t.toDataURL(),e.src=y}function o(){g>0?g=0:g<d-p&&(g=d-p),v>0?v=0:v<f-m&&(v=f-m),n.style.backgroundSize=p+"px "+m+"px",n.style.backgroundPosition=g+"px "+v+"px"}function a(){p=d,m=f,g=v=0,o()}function s(e){var t=0;e.preventDefault(),e.deltaY?t=e.deltaY:e.wheelDelta&&(t=-e.wheelDelta);var r=n.getBoundingClientRect(),i=e.pageX-r.left-window.pageXOffset,s=e.pageY-r.top-window.pageYOffset,c=i-g,l=s-v,u=c/p,h=l/m;t<0?(p+=p*w.zoom,m+=m*w.zoom):(p-=p*w.zoom,m-=m*w.zoom),w.maxZoom&&(p=Math.min(d*w.maxZoom,p),m=Math.min(f*w.maxZoom,m)),g=i-p*u,v=s-m*h,p<=d||m<=f?a():o()}function c(e){e.preventDefault();var t=n.style.transform&&JSON.parse(n.style.transform.replace("rotate(","").replace("deg)",""));90===t?(g+=e.pageY-b.pageY,v-=e.pageX-b.pageX):180===t?(g-=e.pageX-b.pageX,v-=e.pageY-b.pageY):270===t?(g-=e.pageY-b.pageY,v+=e.pageX-b.pageX):(g+=e.pageX-b.pageX,v+=e.pageY-b.pageY),b=e,o()}function l(){document.removeEventListener("mouseup",l),document.removeEventListener("mousemove",c)}function u(e){e.preventDefault(),b=e,document.addEventListener("mousemove",c),document.addEventListener("mouseup",l)}function h(){if(n.src!==y){var e=window.getComputedStyle(n,null);d=parseInt(e.width,10),f=parseInt(e.height,10),p=d,m=f,g=0,v=0,i(n),n.style.backgroundSize=d+"px "+f+"px",n.style.backgroundPosition="0 0",n.addEventListener("wheelzoom.reset",a),n.addEventListener("wheel",s),n.addEventListener("mousedown",u)}}if(n&&n.nodeName&&"IMG"===n.nodeName){var d,f,p,m,g,v,b,y,w={},_=function(e){n.removeEventListener("wheelzoom.destroy",_),n.removeEventListener("wheelzoom.reset",a),n.removeEventListener("load",h),n.removeEventListener("mouseup",l),n.removeEventListener("mousemove",c),n.removeEventListener("mousedown",u),n.removeEventListener("wheel",s),n.style.backgroundImage=e.backgroundImage,n.style.backgroundRepeat=e.backgroundRepeat,n.src=e.src}.bind(null,{backgroundImage:n.style.backgroundImage,backgroundRepeat:n.style.backgroundRepeat,src:n.src});n.addEventListener("wheelzoom.destroy",_),r=r||{},Object.keys(e).forEach(function(t){w[t]=void 0!==r[t]?r[t]:e[t]}),n.complete&&h(),n.addEventListener("load",h)}};return"function"!=typeof window.getComputedStyle?function(e){return e}:function(e,t){return e&&e.length?Array.prototype.forEach.call(e,n,t):e&&e.nodeName&&n(e,t),e}}()},{}],479:[function(e,t,n){(function(r,i){var o=r.define||function(r,i){i(e,n,t)};o("lib/config",function(e,t,n){"use strict";var r="default-config.json",o="config.json",a=function(e){var t=/[^\:]\/\/.*/gm,n=e.replace(t,"");return JSON.parse(n)},s=function(t){var n=e("path"),r=e("fs"),o=n.join(i+"/../../../"),s=n.join(o,t),c=r.readFileSync(s).toString();return a(c)},c=function(e){return"object"==typeof e&&null!==e&&e.constructor===Object},l=function(e,t){for(var n in t){var r=t[n];c(r)&&c(e[n])?l(e[n],r):e[n]=r}},u={overrideConfig:function(e){try{var t=s(e);l(u,t)}catch(n){console.warn("Configuration not loaded: "+n.message)}}};u.overrideConfig(r),u.overrideConfig(o),n.exports=u})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},"/webroot/app/lib")},{fs:129,path:344}],480:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/csv-exporter",function(e,t,n){"use strict";var r=function(e){var t,n,r,i,o,a,s;return s=e.data||null,null!=s&&s.length?(i=e.columnDelimiter||",",a=e.lineDelimiter||"\n",o=e.cellDelimiter||"",r=Object.keys(s[0]),t="",t+=o+r.join(o+i+o)+o,t+=a,s.forEach(function(e){n=0,r.forEach(function(r){n>0&&(t+=i),t+=o+e[r]+o,n++}),t+=a}),t):null};n.exports={exportCSV:function(e,t){var n,i,o,a=r(Object.assign({data:t},e));null!=a&&(i=e.filename||"export.csv",a.match(/^data:text\/csv/i)||(a="data:text/csv;charset=utf-8,"+a),n=encodeURI(a),o=document.createElement("a"),o.setAttribute("href",n),o.setAttribute("download",i),o.click())}}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],481:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/house/object-model/base-object",function(e,t,n){"use strict";var r=e("../../../lib/util"),i=(e("three"),e("parse").Parse,e("../../../lib/util/assert")),o=e("../../../lib/util/event-manager"),a=n.exports=r.core.makeClass(o,{GEOMETRY_CREATION_METHOD_CORNERS:{value:1,writeable:!1},GEOMETRY_CREATION_METHOD_STUDS:{value:2,writeable:!1},EVENT_UPDATED:"EventUpdated",objectMap:{"base-object":{},floor:{},room:{},wall:{},stud:{},"wall-height":{},"wall-element":{},label:{},geometryCreationMethod:2},clearObjectMap:function(){a.objectMap["base-object"]={},a.objectMap.floor={},a.objectMap.room={},a.objectMap.wall={},a.objectMap.stud={},a.objectMap["wall-height"]={},a.objectMap["wall-element"]={},a.objectMap.label={}},OBJECT_TYPE:"base-object"},{constructor:function(e){o.call(this),this.objectMap=e||a.objectMap,this.id=r.core.generateUUID(),this._parseId=null,this._parseObject=null,this._isDirty=!1},id:{get:function(){return this._id},set:function(e){delete this.objectMap[this.OBJECT_TYPE][this._id],this._id=e,this.objectMap[this.OBJECT_TYPE][this._id]=this}},parseId:{get:function(){return this._parseId||this.getParseObject().id}},parseObject:{get:function(){return this._parseObject},set:function(e){this._parseObject!==e&&(this._parseObject=e)}},isDirty:{get:function(){return this._isDirty}},boundingBox2D:{get:function(){throw new Error("Abstract Getter")}},clone:function(e){return e=e||new a,e._parseId=this.parseId,e},getObjectFromId:function(e,t){return t=t||this.OBJECT_TYPE,this.objectMap[t][e]},getParseObject:function(){return this.parseObject=this.parseObject||this.createParseObject(),this.parseObject},setParseObject:function(e){this.parseObject,this.parseObject=e,e&&(e.calculatedProperties=this,this.objectMap[this.OBJECT_TYPE]&&(this.objectMap[this.OBJECT_TYPE][e.id]=this))},setRawObject:function(e){if(this.rawObject)throw new Error("Setting parse object on element that already has an object");this.rawObject=e,e&&(this.objectMap[this.OBJECT_TYPE]&&(this.objectMap[this.OBJECT_TYPE][e.id]=this),this.id=e.id)},getDebugName:function(){return"Object-"+this.id},createParseObject:function(){return{}},fromJson:function(e){this.id=e.id,this._parseId=e.parseId},toJson:function(){var e={};return e.id=this.id,e.parseId=this.parseId,e},fromParse:function(){throw new Error("Not implemented by subclass")},toParse:function(){throw new Error("Not implemented by subclass")},isParseDirty:function(){throw new Error("Not implemented by subclass")},to1DString:function(){throw new Error("Not implemented by subclass")},onUpdated:function(e,t){i.isFunction(e),i.isObject(t),this.on(a.EVENT_UPDATED,e,t)},offUpdated:function(e){i.isFunction(e),this.off(a.EVENT_UPDATED,e)},createNewId:function(){this.id=r.core.generateUUID()},_triggerUpdated:function(e,t,n){this._isDirty=!0;var r={target:this,propertyName:e,oldValue:t,newValue:n};this.trigger(a.EVENT_UPDATED,r)},validate:function(){this._isDirty=!1},_cloneUsingJson:function(e){var t=e.id;return e.fromJson(this.toJson()),e.id=t,e}})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../lib/util":524,"../../../lib/util/assert":519,"../../../lib/util/event-manager":521,parse:343,three:430}],482:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/login",function(e,t,n){"use strict";var r=e("../lib/util"),i=e("./analytics/website-analytics"),o=e("./storage/dao"),a=e("parse").Parse,s=function(e,t){t?localStorage.setItem("ROLES_MAP_CACHE_"+e,JSON.stringify(t)):localStorage.removeItem("ROLES_MAP_CACHE_"+e)},c=function(e){if(e){var t=localStorage.getItem("ROLES_MAP_CACHE_"+e);if(t)return JSON.parse(t)}};n.exports={SESSION_TOKEN:"userSessionToken",loginPromise:null,user:a.User.current(),websiteAnalytics:new i,userRolesMap:c(a.User.current()?a.User.current().id:null),resolveCachedUser:function(e){var t=this;if(t.loginPromise)return t.loginPromise;t.loginPromise=new a.Promise;var n=t.getSessionCookie();return t.user?(e&&t.loginPromise.resolve(t.user),t.user.fetch().then(function(r){t.user=r,console.debug("Already logged in as "+t.user.get("username")),n||(console.debug("Recreating IM_SESSION cookie."),t.setCookie("IM_SESSION",r.getSessionToken(),365)),e||t.loginPromise.resolve(t.user)},function(n){console.error("Unable to fetch data of the current user.",n),e?t.logout():t.loginPromise.reject(n)})):n&&!r.params.getBoolean("disableResources")?a.User.become(n).then(function(e){t.user=e,t.operatorRole=e.get("operatorRole"),t.websiteAnalytics.userLogin(e.get("username")),console.debug("Logged in as "+e.get("username")),t.loginPromise.resolve(e)}).fail(function(e){if(console.debug("Session expired, logging out..."),t.clearSessionCookie(),209!=e.code){if("QuotaExceededError"===e.name)throw r.debug.getImprovedError(e,"Error occured while trying to log you in. Are you using a private window? If so please try logging in without it.");throw t.loginPromise.reject(e),r.debug.getImprovedError(e,"Could not log in user")}t.loginPromise.resolve(null)}):(console.debug("Not logged in."),t.loginPromise.resolve(null)),t.loginPromise.then(function(e){var t=this,n=function(n){return t.userRolesMap={},n.forEach(function(e){t.userRolesMap[e.getName()]=!0}.bind(t)),s(e.id,t.userRolesMap),Promise.resolve(e)}.bind(t);if(e){if(!t.userRolesMap)return o.roleTable.listAllRolesForUserLoggedIn().then(n);o.roleTable.listAllRolesForUserLoggedIn().then(n)}return Promise.resolve(e)}.bind(t),function(n){return console.error("Unable to get roles of the user.",n),e?void t.logout():Promise.reject(n)})},setCookie:function(e,t,n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var i="expires="+r.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"},getCookie:function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return unescape(i.substring(t.length,i.length))}return null},getSessionCookie:function(){return this.getCookie("IM_SESSION")},clearSessionCookie:function(){this.getSessionCookie()&&this.setCookie("IM_SESSION","",-1)},logoutUser:function(){return this.clearSessionCookie(),this.loginPromise=null,s(this.user.id,null),a.User.logOut().fail(function(e){console.error(e),console.error(e.stack)})},logout:function(){return this.logoutUser().then(function(){window.location="/"}.bind(this))},logoutMobile:function(){Promise.all([a.User.logOut(),r.core.httpGetAsync("/login/logout-service")]).then(function(){this.user=null,this.operatorRole=null,window.location="/mobile"}.bind(this))}}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/util":524,"./analytics/website-analytics":470,"./storage/dao":514,parse:343}],483:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/misc/event-publisher",function(e,t,n){"use strict";var r=e("../../lib/util"),i=r.params.getBoolean("collab",!1)?e("pubnub"):null;n.exports=r.core.makeClass({},{},{constructor:function(e,t){return i?(this._pubnub=i.init({subscribe_key:"sub-c-f2e482e2-22a9-11e6-8bc8-0619f8945a4f",publish_key:"pub-c-67537425-d9f7-4c0c-a134-96ff532a23c7",ssl:!0}),this._uuid=this._pubnub.uuid(),this._enabled=!0,this._eventHandler=t,this._channel="project-"+e,this._pubnub.subscribe({channel:this._channel,message:function(e){this.eventHandler(e)}.bind(this)}),void Object.seal(this)):void(this._enabled=!1)},getChannel:function(){return this._channel},publish:function(e){this._enabled&&r.params.getBoolean("leader",!1)&&this._pubnub.publish({channel:this._channel,message:{uuid:this._uuid,m:e}})},stop:function(){this._enabled&&this._pubnub.unsubscribe({channel:this._channel})},eventHandler:function(e){this._enabled&&this._eventHandler&&(e.m?this._eventHandler(e.m):this._eventHandler(e))}})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/util":524,pubnub:359}],484:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/misc/filename-utils",function(e,t,n){"use strict";var r=e("../../lib/util"),i=e("path"),o=n.exports={removePathPrefix:function(e,t,n){if(t.endsWith(i.sep)||(t+=i.sep),!e.startsWith(t)){if(n)return e;throw new Error("Cannot remove path prefix "+t+" from "+e)}return e.substr(t.length)},FileList:r.core.makeClass({},{},{constructor:function(e){this.files=e||[]},fromDirectoryList:function(e){this.files=e.toFiles()},removePath:function(e,t){var n=[];this.files.forEach(function(r,i){n.push(o.removePathPrefix(r,e,t))}),this.files=n},joinPath:function(e){var t={};this.files.forEach(function(n){t.push(e.join(e,directory))}),this.files=t},resolvePath:function(e){var t={};this.files.forEach(function(n){t.push(e.resolve(e,n))}),this.files=t},filterFiles:function(e,t,n){var r=new FileList;return this.files.forEach(function(i){e(i,t,n)&&r.files.push(i)}),r}}),DirectoryList:r.core.makeClass({},{},{constructor:function(){this.directories={}},fromFiles:function(e){return r.core.forEach(e,function(e){this.insert(e)},this),this},fromFileList:function(e){return this.fromFiles(e.files),this},size:{get:function(){return r.core.size(this.directories)}},forEach:function(e,t){r.core.forEach(this.directories,e,t)},keys:function(){return Object.keys(this.directories)},insert:function(e){var t=i.dirname(e);this.directories[t]=this.directories[t]||[],this.directories[t].push(i.basename(e))},getDirectories:function(){return Object.keys(this.directories)},getFiles:function(){return r.core.concat(this.directories,function(e,t){return e.map(function(n){e.push(i.join(t,n))})})},removePath:function(e,t){e.endsWith(e.sep)||(e+=e.sep);var n={};this.directories.forEach(function(t,r){n[o.removePathPrefix(r,e)]=t}),this.directories=n},joinPath:function(e){var t={};this.directories.forEach(function(n,r){t[e.join(e,r)]=n}),this.directories=t},resolvePath:function(e){var t={};this.directories.forEach(function(n,r){t[e.resolve(e,r)]=n}),this.directories=t},filterFiles:function(e,t,n){var r=new DirectoryList,i=r.directories;return this.directories.forEach(function(r,o){i[o]=[],r.forEach(function(r){e(r,t,n)&&i[o].push(r)})}),r}})}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/util":524,path:344}],485:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/misc/php",function(e,t,n){"use strict";function r(e){var t,n,i,o="",a="",s=0,c=function(e){var t=0,n=0,r=e.length,i="";for(n=0;n<r;n++)i=e.charCodeAt(n),t+=i<128?1:i<2048?2:3;return t},l=function(e){var t,n,r,i,o=typeof e;if("object"===o&&!e)return"null";if("object"===o){if(!e.constructor)return"object";r=e.constructor.toString(),t=r.match(/(\w+)\(/),t&&(r=t[1].toLowerCase()),i=["boolean","number","string","array"];for(n in i)if(r==i[n]){o=i[n];break}}return o},u=l(e);switch(u){case"function":t="";break;case"boolean":t="b:"+(e?"1":"0");break;case"number":t=(Math.round(e)==e?"i":"d")+":"+e;break;case"string":t="s:"+c(e)+':"'+e+'"';break;case"array":case"object":t="a";for(n in e)if(e.hasOwnProperty(n)){if(o=l(e[n]),"function"===o)continue;i=n.match(/^[0-9]+$/)?parseInt(n,10):n,a+=r(i)+r(e[n]),s++}t+=":"+s+":{"+a+"}";break;case"undefined":default:t="N"}return"object"!==u&&"array"!==u&&(t+=";"),t}var i=(e("../../lib/util"),e("phpunserialize"));n.exports={unserialize:function(e){return i(e)},serialize:function(e){return r(e)}}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/util":524,phpunserialize:351}],486:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/model/collection",function(e,t,n){"use strict";var r=e("../util/assert"),i=e("../util/util"),o=e("../util/event-manager"),a=i.makeClass(o,{EVENT_ITEMS_ADDED:"EventCollectionItemsAdded",EVENT_ITEMS_REMOVED:"EventCollectionItemsRemoved",EVENT_UPDATED:"EventCollectionUpdated"},{constructor:function(e){r.isNotDefinedOrArray(e),o.call(this),this._array=e||[]},length:{get:function(){return this._array.length}},forEach:function(e,t){r.isFunction(e),r.isNotDefinedOrObject(t),this._array.forEach(e,t)},every:function(e,t){return r.isFunction(e),r.isNotDefinedOrObject(t),this._array.every(e,t)},some:function(e,t){return r.isFunction(e),r.isNotDefinedOrObject(t),this._array.some(e,t)},filter:function(e,t){r.isFunction(e),r.isNotDefinedOrObject(t);var n=this._array.filter(e,t);return new a(n)},map:function(e,t){r.isFunction(e),r.isNotDefinedOrObject(t);var n=this._array.map(e,t);return new a(n)},reduce:function(e,t){return r.isFunction(e),r.isNotDefinedOrObject(t),this._array.reduce(e,t)},reduceRight:function(e,t){return r.isFunction(e),r.isNotDefinedOrObject(t),this._array.reduceRight(e,t)},indexOf:function(e,t){return r.isObject(e),r.isNotDefinedOrNumber(t),this._array.indexOf(e,t)},lastIndexOf:function(e,t){return r.isObject(e),r.isNotDefinedOrNumber(t),this._array.lastIndexOf(e,t)},concat:function(){var e=this._array.concat.apply(this._array,arguments);return new a(e)},slice:function(e,t){r.isNotDefinedOrNumber(e),r.isNotDefinedOrNumber(t);var n=this._array.slice(e,t);return new a(n)},reverse:function(){this._array.reverse(),this._triggerUpdated()},sort:function(e){r.isNotDefinedOrFunction(e),this._array.sort(e),this._triggerUpdated()},pop:function(){var e=this._array.pop();if(e){var t=[{index:this._array.length,data:e}];this._triggerItemsRemoved(t),this._triggerUpdated()}return e},shift:function(){var e=this._array.shift();if(e){var t=[{index:0,data:e}];this._triggerItemsRemoved(t),this._triggerUpdated()}return e},get:function(e){return r.isNumber(e),this._array[e]},push:function(){var e=this._array.length,t=this._array.push.apply(this._array,arguments);if(arguments.length>0){for(var n=[],r=0;r<arguments.length;r++)n.push({index:e+r,data:arguments[r]});this._triggerItemsAdded(n),this._triggerUpdated()}return t},unshift:function(){var e=this._array.unshift.apply(this._array,arguments);if(arguments.length>0){for(var t=[],n=0;n<arguments.length;n++)t.push({index:n,data:arguments[n]});this._triggerItemsAdded(t),this._triggerUpdated()}return e},set:function(e,t){r.isNumber(e),r.isNotDefinedOrObject(t),this._array[e]!==t&&(this._array[e]=t,this._triggerUpdated())},splice:function(e,t){r.isNumber(e),r.isNotDefinedOrNumber(t);var n,i=this._array.splice.apply(this._array,arguments),o=arguments.length-2,s=[];for(n=0;n<t;n++)s.push({index:e+n,data:i[n]});var c=[];for(n=0;n<o;n++)c.push({index:e+n,data:arguments[2+n]});return this._triggerItemsRemoved(s),this._triggerItemsAdded(c),(s.length>0||c.length>0)&&this._triggerUpdated(),new a(i)},clear:function(){this._array.length>0&&this.splice(0,this._array.length)},join:function(e){return r.isNotDefinedOrString(e),this._array.join(e)},toString:function(){return this._array.toString()},toArray:function(){return this._array.slice()},removeElement:function(e){var t=this.indexOf(e);t>-1&&this.splice(t,1)},onAdded:function(e,t){this.on(a.EVENT_ITEMS_ADDED,e,t)},offAdded:function(e){this.off(a.EVENT_ITEMS_ADDED,e)},onRemoved:function(e,t){this.on(a.EVENT_ITEMS_REMOVED,e,t)},offRemoved:function(e){this.off(a.EVENT_ITEMS_REMOVED,e)},onUpdated:function(e,t){this.on(a.EVENT_UPDATED,e,t)},offUpdated:function(e){this.off(a.EVENT_UPDATED,e)},_triggerItemsRemoved:function(e){r.isNotDefinedOrArray(e),e&&e.length>0&&this.trigger(a.EVENT_ITEMS_REMOVED,e)},_triggerItemsAdded:function(e){r.isNotDefinedOrArray(e),e&&e.length>0&&this.trigger(a.EVENT_ITEMS_ADDED,e)},_triggerUpdated:function(){this.trigger(a.EVENT_UPDATED)}});n.exports=a})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/assert":519,"../util/event-manager":521,"../util/util":527}],487:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/organization-config/organization-analytics-config",function(e,t,n){"use strict";n.exports={DIMENSIONS:[{name:"Event Type",key:"type",values:["visit","impression"]},{name:"Product",key:"product",values:["walkthrough","3dmodel"]},{name:"Origin",key:"origin",values:["direct","embedded"]},{name:"Device",key:"device",values:["mobile","desktop"]}],METRICS:["source","loadTime"],BLACKLISTED_SOURCES:["operations.insidemaps.com","local.insidemaps.com","test.spidie.com"],getDimensionKeys:function(){return this.DIMENSIONS.map(function(e){return e.key})},getMetricKeys:function(){return this.METRICS},isBlacklistedSource:function(e){return this.BLACKLISTED_SOURCES.indexOf(e)>-1},generateProjectUserKey:function(e,t){if(e&&t)return e.id+":"+t.id},checkProjectUserKey:function(e){var t=!0,n=this._splitProjectUserKey(e.key);if(2===n.length){var r=n[0];t=t&&(!e.projectId||e.projectId===r);var i=n[1];t=t&&(!e.userId||e.userId===i)}else t=!1;return t},_splitProjectUserKey:function(e){return e.split(":")}}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],488:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/project-config/pricing-models-config",function(e,t,n){"use strict";var r=e("parse").Parse;n.exports={DEFAULT_PRICING_MODEL_ID:"gdkq16CzCT",PRICING_MODEL_DATA:[{name:"Custom Pricing Model",type:"custom",data:{baseArea:0,basePrice:0,maxUnitPrice:0},fixedServices:[]},{name:"Coded Pricing Model",type:"coded",data:{code:"return undefined;"},fixedServices:[]}],getDefaultPricingModelPointer:function(){var e=r.Object.extend("PricingModel"),t=new e;return t.id=this.DEFAULT_PRICING_MODEL_ID,t},calculatePrice:function(e,t){var n=void 0,r=e.livableArea;if(t)switch(t.type){case"custom":var i=t.data.baseArea,o=t.data.basePrice,a=t.data.maxUnitPrice;isNaN(i)||isNaN(o)||isNaN(a)||(n=r>i?a*r:o);break;case"coded":var s=new Function("billingInfo","area",t.data.code);n=s(e,r)}return t.fixedServices&&t.fixedServices.length&&t.fixedServices.forEach(function(e){n+=e.price||0}.bind(this)),n},calculateDiscount:function(e){}}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{parse:343}],489:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/project-config/pricing-packages-config",function(e,t,n){"use strict";var r="https://www.insidemaps.com/pricing";n.exports={PACKAGES:{MARKETING:{codeName:"MARKETING",name:"Marketing Package",nameShort:"Marketing",flags:{marketing:!0,inspection:!1,customModel:!1,panoTour:!0,floorplan:!0,photosAndPanoramas:!0},iosAppInfo:{title:"Basic Package - Marketing",description:"Basic package is a set of InsideMaps primary products containing 3D Walkthrough, Floor Plan and HDR Photos",tintColor:{r:207,g:85,b:65,a:1},imageName:"BasicPackage.jpg",defaultImageName:"BasicPackage",pricingUrl:r},order:-1},INSPECTION:{codeName:"INSPECTION",name:"Inspection Package",nameShort:"Inspection",flags:{marketing:!1,inspection:!0,customModel:!1,panoTour:!0,floorplan:!0,photosAndPanoramas:!0},iosAppInfo:{title:"Basic Package - Inspection",description:"Basic package is a set of InsideMaps primary products containing 3D Walkthrough, Floor Plan and HDR Photos",tintColor:{r:207,g:85,b:65,a:1},imageName:"BasicPackage.jpg",defaultImageName:"BasicPackage",pricingUrl:r},order:-2},HDR_PHOTOS:{codeName:"HDR_PHOTOS",name:"HDR Photos Package",nameShort:"HDR Photos",flags:{marketing:!1,inspection:!1,customModel:!1,panoTour:!1,floorplan:!1,photosAndPanoramas:!0},iosAppInfo:{title:"HDR Photos",description:"High definition photos and panoramas with vivid HDR quality images",tintColor:{r:101,g:201,b:101,a:1},imageName:"HDRPhotos.jpg",defaultImageName:"HDRPhotosPackage",pricingUrl:r},order:2},FLOOR_PLAN:{codeName:"FLOOR_PLAN",name:"Floor Plan Package",nameShort:"Floor Plan",flags:{marketing:!1,inspection:!1,customModel:!1,panoTour:!1,floorplan:!0,photosAndPanoramas:!0},iosAppInfo:{title:"Floorplan",description:"Detailed floor plan with labels and measurements exportable in multiple formats",tintColor:{r:128,g:128,b:128,a:1},imageName:"Floorplan.jpg",defaultImageName:"FloorplanPackage",pricingUrl:r},order:3},STANDARD:{codeName:"STANDARD",name:"Standard Package",nameShort:"Standard",flags:{marketing:!1,inspection:!1,customModel:!1,panoTour:!0,floorplan:!0,photosAndPanoramas:!0},iosAppInfo:{title:"Basic Package",description:"Basic package is a set of InsideMaps primary products containing 3D Walkthrough, Floor Plan and HDR Photos",tintColor:{r:207,g:85,b:65,a:1},imageName:"BasicPackage.jpg",defaultImageName:"BasicPackage",pricingUrl:r},order:0},PRO:{codeName:"PRO",name:"Pro Package",nameShort:"Pro",flags:{marketing:!1,inspection:!1,customModel:!0,panoTour:!0,floorplan:!0,photosAndPanoramas:!0},iosAppInfo:{title:"Pro Package",description:"Pro package contains all of the items from the basic package plus a realistic 3D model",tintColor:{r:115,g:163,b:212,a:1},imageName:"ProPackage.jpg",defaultImageName:"ProPackage",pricingUrl:r},order:1}},getPricingPackageForProject:function(e){var t=e.getDesiredProduct()||{};for(var n in this.PACKAGES){var r=this.PACKAGES[n],i=r?r.flags:{},o=!0;for(var a in i){var s=!!i[a],c=!!t[a];s!==c&&(o=!1)}if(o)return r}},packageSortFunction:function(e,t){return e.order-t.order},setPricingPackageForProject:function(e,t){var n=t?t.flags:{},r=e.getDesiredProduct()||{};for(var i in n)r[i]=n[i];e.setDesiredProduct(r)},getDefaultPackages:function(){return[this.PACKAGES.HDR_PHOTOS,this.PACKAGES.FLOOR_PLAN,this.PACKAGES.STANDARD,this.PACKAGES.PRO].sort(this.packageSortFunction)},getPackagesForPricingModel:function(e){var t=e?e.getData():{},n=[];for(var r in t)n.push(this.PACKAGES[r]);return n.sort(this.packageSortFunction)},getDefaultPackagesForUser:function(e){var t;return t=e.getPricingModel()?this.getPackagesForPricingModel(e.getPricingModel()):this.getDefaultPackages(),t.sort(this.packageSortFunction)}}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],490:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/project-config/project-states-config",function(e,t,n){"use strict";var r={created:0,unassigned:1,defined:2,submitted:3,ready:4,operator_assigned:5,ready_for_operator_qa:6,operator_qa:7,ready_for_modelers:8,modeler_assigned:9,blocked:10,blocked_issue_system:11,blocked_issue_customer:12,finished:13};n.exports={getAllProjectStatesMap:function(){return r},getAllProjectStates:function(){var e=[];for(var t in r)e.push(t);return e},getStatesRange:function(e,t){var n=r[e],i=r[t],o=[];if(!isNaN(n)&&!isNaN(i)&&n<=i)for(var a in r){var s=r[a];s>=n&&s<=i&&o.push(a)}return o},compareStates:function(e,t){var n=r[e],i=r[t];if(isNaN(n)||isNaN(i)){var o=[n,i];throw new Error("One of projects states is not regular - "+o)}return n-i},isGreaterState:function(e,t){return this.compareStates(e,t)>0},isGreaterOrEqualState:function(e,t){return this.compareStates(e,t)>=0},isLesserState:function(e,t){return this.compareStates(e,t)<0},isLesserOrEqualState:function(e,t){return this.compareStates(e,t)<=0;
},getNextState:function(e){var t=r[e];if(t){var n=t+1;for(var i in r)if(r[i]==n)return i}return e}}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],491:[function(e,t,n){var r=e("../../util").core,i=r.makeClass({},{$inject:["$scope"]},{constructor:function(e){this.$scope=e},refreshGUI:function(){this.$scope.$$phase||this.$scope.$apply()},onDropdownToggleClicked:function(e){var t=document.getElementById(e),n=!t.classList.contains("show");this._closeOpenDropdowns(),n&&t.classList.add("show")},_closeOpenDropdowns:function(){for(var e=document.getElementsByClassName("dropdown-content"),t=0;t<e.length;t++){var n=e[t];n.classList.contains("show")&&n.classList.remove("show")}}});t.exports=i},{"../../util":524}],492:[function(e,t,n){var r=e("../../util"),i=e("../../util").core,o=e("./im-base-controller"),a=i.makeClass(o,{$inject:["$scope","$modalInstance","data","imUserService","imProjectService","imProgressBarService"]},{constructor:function(e,t,n,r,i,a){o.call(this,e),this._modalInstance=t,this._imUserService=r,this._imProgressBarService=a,this._imProjectService=i,this.project=n.project,this.issueData=void 0,this.issues=void 0,this.user=this._imUserService.user(),this.init()},init:function(){this.issueData=this.project.getIssueData()||{},this.issues=this.issueData.issues||[]},getIssueProjectColor:function(e){var t=void 0;return t=e.fixed?"bg-success":e.blocking?"bg-danger":"bg-warning"},fixIssue:function(e){var t={issueId:e.id,projectId:this.project.id},n=r.core.callApiAsync("POST","/api/v1/project/fixIssue",t).then(function(){return this.project.fetchAsync()}.bind(this)).then(function(){this.init()}.bind(this));return this._imProgressBarService.progressBarWrapUp("Project Issue","Fixing Issue...",n)},close:function(){this._modalInstance.close()}});t.exports=a},{"../../util":524,"./im-base-controller":491}],493:[function(e,t,n){var r=e("../../util"),i=e("../../util").core,o=e("./im-base-controller"),a=e("../../storage/dao"),s=i.makeClass(o,{$inject:["$modalInstance","projects","property","propertyName","options","optionCheck","resolveFunction","rejectFunction","imProgressBarService"]},{constructor:function(e,t,n,r,i,o,a,s,c){this._$modal=e,this._imProgressBarService=c,this.projects=t,this.property=n,this.propertyName=r,this.options=i||[],this.optionsFiltered,this.optionCheck=o,this.propertyValue,this.propertyFilter,this._resolveFunction=a,this._rejectFunction=s,this._isDataChanged=!1,this.applyPropertyFilter()},getPropertyRepresentation:function(e){var t=this.propertyName;return t&&e?e.get(t):e},applyPropertyFilter:function(){this.optionsFiltered=this.options.filter(function(e){var t=this.getPropertyRepresentation(e);return!this.propertyFilter||t.search(new RegExp(this.propertyFilter,"i"))!==-1}.bind(this))},onApplyClicked:function(){var e=this.projects.map(function(e){return e.id}.bind(this)),t=r.core.callApiAsync("POST","/api/v1/project/changeObjectProperty",{projectIds:e,propertyName:this.property,propertyValue:this.propertyValue&&this.propertyValue.id||this.propertyValue}).then(function(){return this._isDataChanged=!0,a.imRefreshAllAsync(this.projects)}.bind(this));return this._imProgressBarService.progressBarWrapUp("Project Property","Updating...",t)},onCloseClicked:function(){this._$modal.close(),this._resolveFunction(this._isDataChanged)}});t.exports=s},{"../../storage/dao":514,"../../util":524,"./im-base-controller":491}],494:[function(e,t,n){var r=e("../../util").core,i=r.makeClass({},{$inject:["$scope","dialogs","imUserService"]},{constructor:function(e,t,n){this.$scope=e,this._dialogs=t,this._imUserService=n,this.email=null,this.password=null,this.passwordRepeat=null,this.firstName=null,this.lastName=null,this.errorMessage=null,this._resetMessage()},signUpUser:function(e){this._resetMessage(),e?this._imUserService.signUp(this.email,this.email,this.password,this.firstName,this.lastName).then(function(e){switch(this._imUserService.referralOrganization){case"exitrealty":r.callApiAsync("POST","/api/v1/zoho/createTicketReferredUserSignup",{orgFlag:this._imUserService.referralOrganization}),window.location.href="/exitrealty/welcome";break;default:this._dialogs.notify("Account successfully created","Please verify your account with verification email sent to your email address: <b>"+this.email+"</b>").result.then(function(){window.location.href="/"})}}.bind(this))["catch"](function(e){this.errorMessage=e.message,this.$scope.$apply()}.bind(this)):this.errorMessage="Cannot register because some input fields are incorrect."},showRepeatError:function(e){return e.$error.valmatch&&!e.$error.required},_resetMessage:function(){this.errorMessage=" "}});t.exports=i},{"../../util":524}],495:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/shared-modules/shared-module",function(e,t,n){"use strict";function r(e,t){t.parents&&t.parents(".modal").length&&t.on("touchstart",function(e){t.focus(),e.preventDefault(),e.stopPropagation()})}var i=e("../storage/dao"),o=e("../util");e("angular-cookies"),e("angular-sanitize"),e("angular-localization"),n.exports="insidemaps.app.shared";var a=angular.module(n.exports,["ngLocalize"]);e("./shared-services/im-dao-service"),e("./shared-services/im-user-service"),e("./shared-services/im-role-service"),e("./shared-services/im-project-service"),e("./shared-services/im-color-service"),e("./shared-services/im-localize-service"),e("./shared-services/im-url-service"),e("./shared-services/im-progress-bar-service"),e("./shared-services/im-organization-service"),e("./shared-services/im-payment-service"),e("./shared-services/im-pricing-model-service"),e("./shared-services/im-invoice-service"),e("./shared-services/im-financial-service"),e("./shared-services/im-email-service"),e("./shared-services/im-notification-service"),e("./shared-services/im-dom-effects-service"),e("./shared-services/im-diagnostic-service"),e("./shared-services/im-streetview-service");var s=e("./controllers/signup-controller"),c=e("./controllers/project-issues-controller"),l=e("./controllers/project-property-changer-controller");a.controller("SignupController",s),a.controller("ProjectIssuesController",c),a.controller("ProjectPropertyChangerController",l),a.controller("PasswordResetController",o.core.makeClass({},{$inject:["$scope","imUserService","dialogs"]},{constructor:function(e,t,n){this.$scope=e,this._imUserService=t,this._dialogs=n,this.email=null,this.errorMessage=null,this._resetMessage()},sendResetPasswordEmail:function(e){this._resetMessage(),this._imUserService.resetPasswordEmail(this.email).then(function(e){this.email="",this._dialogs.notify("Password Reset","An email with password-reset link has been sent to: "+e)}.bind(this))["catch"](function(e){this.errorMessage=e.message,this.$scope.$apply()}.bind(this))},_resetMessage:function(){this.errorMessage=" "}})),a.controller("LocalizeController",o.core.makeClass({},{$inject:["$scope","imLocalizeService"]},{constructor:function(e,t){this.$scope=e,this._imLocalizeService=t,this.locales=this._imLocalizeService.getLocales(),this.locale=this._imLocalizeService.getLocale()},changeLocale:function(){this.locale&&this.locale!==this._imLocalizeService.getLocale()&&this._imLocalizeService.setLocale(this.locale)}})),a.controller("NoPermController",o.core.makeClass({},{$inject:["$scope","$modalInstance","$location","$rootScope","data","imUserService"]},{constructor:function(e,t,n,r,i,o){this.$scope=e,this.$modalInstance=t,this.$location=n,this.user=i.user,this.text=i.text,this._imUserService=o},close:function(){this.$modalInstance.close()},attemptLogin:function(){this._imUserService.showLoginModal()}})),a.factory("projectLogService",["imUserService",function(e){var t=e.user();return{fetchProjectLogs:function(e){return i.projectLogTable.findProjectLogsAsync(e)},leaveProjectLogComment:function(e,n){return i.projectLogTable.createLogEntry(e,t,"Comment",n,t.getUsername()).saveAsync()},deleteProjectLogComment:function(e){return i.projectLogTable.deleteLogEntry(e)}}}]),a.factory("imPromptModalService",["$modal",function(e){return{showModal:function(t,n,r){var i,o,a=new Promise(function(e,t){i=e,o=t});return e.open({templateUrl:"prompt-modal-template",controller:"PromptController as controller",size:"md",resolve:{title:function(){return t},text:function(){return r},placeholder:function(){return n},resolveFunction:function(){return i},rejectFunction:function(){return o}}}),a}}}]),a.factory("imMultipleInputService",["$modal",function(e){return{showModal:function(t,n,r){var i,o,a=new Promise(function(e,t){i=e,o=t});return e.open({templateUrl:"multi-input-modal-template",controller:"MultipleInputController as multiInputController",size:"md",resolve:{title:function(){return t},subTitle:function(){return n},values:function(){return r},resolveFunction:function(){return i},rejectFunction:function(){return o}}}),a}}}]),a.factory("imMultiplePicker",["$modal",function(e){return{showModal:function(t,n,r){var i,o,a=new Promise(function(e,t){i=e,o=t});return e.open({templateUrl:"multiple-picker-template",controller:"MultiplePickerController as multiplePickerCtrl",size:"md",resolve:{title:function(){return t},allOptions:function(){return n},selectedOptions:function(){return r},resolveFunction:function(){return i},rejectFunction:function(){return o}}}),a}}}]),a.factory("imProjectPropertyChanger",["$modal",function(e){return{showModal:function(t,n,r,i,o){var a,s,c=new Promise(function(e,t){a=e,s=t});return e.open({templateUrl:"project-property-changer-template",controller:"ProjectPropertyChangerController as projectPropertyChangerCtrl",size:"lg",resolve:{projects:function(){return t},property:function(){return n},propertyName:function(){return r},options:function(){return i},optionCheck:function(){return o},resolveFunction:function(){return a},rejectFunction:function(){return s}}}),c}}}]),a.controller("PromptController",o.core.makeClass({},{$inject:["$modalInstance","title","text","placeholder","resolveFunction","rejectFunction"]},{constructor:function(e,t,n,r,i,o){this._$modal=e,this._title=t||"",this._text=n||"",this._placeholder=r||"",this._resolveFunction=i,this._rejectFunction=o},title:{get:function(){return this._title}},placeholder:{get:function(){return this._placeholder}},text:{get:function(){return this._text},set:function(e){this._text=e}},onOkPressed:function(){this._$modal.close(),this._resolveFunction(this._text)},onCancelPressed:function(){this._$modal.close(),this._rejectFunction()}})),a.controller("MultiplePickerController",o.core.makeClass({},{$inject:["$modalInstance","title","allOptions","selectedOptions","resolveFunction","rejectFunction"]},{constructor:function(e,t,n,r,i,o){this._$modal=e,this.title=t||"Multiple Picker",this._allOptions=n||[],this._selectedOptions=r||[],this.options=this._allOptions.map(function(e){return{name:e,selected:this._selectedOptions.indexOf(e)!==-1}}.bind(this)),this._resolveFunction=i,this._rejectFunction=o},onSelectAllPressed:function(){this.options.forEach(function(e){e.selected=!0}.bind(this))},onDeselectAllPressed:function(){this.options.forEach(function(e){e.selected=!1}.bind(this))},onOkPressed:function(){this._$modal.close();var e=this.options.filter(function(e){return e.selected}.bind(this)).map(function(e){return e.name}.bind(this));this._resolveFunction(e)},onCancelPressed:function(){this._$modal.close(),this._rejectFunction()}})),a.controller("MultipleInputController",o.core.makeClass({},{$inject:["$modalInstance","title","subTitle","values","resolveFunction","rejectFunction"]},{constructor:function(e,t,n,r,i,o){this._$modal=e,this._title=t||"",this._subTitle=n||"",this._values=r||[],this._resolveFunction=i,this._rejectFunction=o},title:{get:function(){return this._title}},subTitle:{get:function(){return this._subTitle}},values:{get:function(){return this._values}},onOkPressed:function(){this._$modal.close(),this._resolveFunction(this._values)},onCancelPressed:function(){this._$modal.close(),this._rejectFunction()}})),a.directive("repeatCheck",[function(){return{require:"ngModel",link:function(e,t,n,r){var i="#"+n.repeatCheck;t.add(i).on("keyup",function(){e.$apply(function(){var e=t.val()===$(i).val();r.$setValidity("valmatch",e)})})}}}]),a.directive("lowercase",function(){return{require:"ngModel",link:function(e,t,n,r){var i=function(e){void 0==e&&(e="");var t=e.toLowerCase();return t!==e&&(r.$setViewValue(t),r.$render()),t};r.$parsers.push(i),i(e[n.ngModel])}}}),a.directive("stopccp",function(){return{scope:{},link:function(e,t){t.on("cut copy paste",function(e){e.preventDefault()})}}}),a.directive("input",[function(){return{restrict:"E",link:r}}]),a.directive("textarea",[function(){return{restrict:"E",link:r}}]),a.directive("autofocus",["$timeout",function(e){return{restrict:"A",link:function(t,n){e(function(){n[0].focus()})}}}]),a.directive("jsonText",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){function i(e){try{return JSON.parse(e)}catch(t){return e}}function o(e){return JSON.stringify(e)}r.$parsers.push(i),r.$formatters.push(o)}}}),a.directive("selectOnClick",["$window",function(e){return{restrict:"A",link:function(t,n,r){n.on("click",function(){e.getSelection().toString()||this.setSelectionRange(0,this.value.length)})}}}])})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../storage/dao":514,"../util":524,"./controllers/project-issues-controller":492,"./controllers/project-property-changer-controller":493,"./controllers/signup-controller":494,"./shared-services/im-color-service":496,"./shared-services/im-dao-service":497,"./shared-services/im-diagnostic-service":498,"./shared-services/im-dom-effects-service":499,"./shared-services/im-email-service":500,"./shared-services/im-financial-service":501,"./shared-services/im-invoice-service":502,"./shared-services/im-localize-service":503,"./shared-services/im-notification-service":504,"./shared-services/im-organization-service":505,"./shared-services/im-payment-service":506,"./shared-services/im-pricing-model-service":507,"./shared-services/im-progress-bar-service":508,"./shared-services/im-project-service":509,"./shared-services/im-role-service":510,"./shared-services/im-streetview-service":511,"./shared-services/im-url-service":512,"./shared-services/im-user-service":513,"angular-cookies":51,"angular-localization":"angular-localization","angular-sanitize":55}],496:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/shared-modules/shared-services/im-email-service",function(e,t,n){"use strict";e("../../util");n.exports="insidemaps.app.shared";var r=angular.module(n.exports);r.factory("imColorService",[function(){var e=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC","#FF0000","#00FF00","#0000FF","#FF00FF","#00FFFF","#FFFF00","#000000","#70DB93","#5C3317","#9F5F9F","#B5A642","#D9D919","#A62A2A","#8C7853","#A67D3D","#5F9F9F","#D98719","#B87333","#FF7F00","#42426F","#5C4033","#2F4F2F","#4A766E","#4F4F2F","#9932CD","#871F78","#6B238E","#2F4F4F","#97694F","#7093DB","#855E42","#545454","#856363","#D19275","#8E2323","#F5CCB0","#238E23","#CD7F32","#DBDB70","#C0C0C0","#527F76","#93DB70","#215E21","#4E2F2F","#9F9F5F","#C0D9D9","#A8A8A8","#8F8FBD","#E9C2A6","#32CD32","#E47833","#8E236B","#32CD99","#3232CD","#6B8E23","#EAEAAE","#9370DB","#426F42","#7F00FF","#7FFF00","#70DBDB","#DB7093","#A68064","#2F2F4F","#23238E","#4D4DFF","#FF6EC7","#00009C","#EBC79E","#CFB53B","#FF7F00","#FF2400","#DB70DB","#8FBC8F","#BC8F8F","#EAADEA","#D9D9F3","#5959AB","#6F4242","#8C1717","#238E68","#6B4226","#8E6B23","#E6E8FA","#3299CC","#007FFF","#FF1CAE","#00FF7F","#236B8E","#38B0DE","#DB9370","#D8BFD8","#ADEAEA","#5C4033","#CDCDCD","#4F2F4F","#CC3299","#D8D8BF","#99CC32"],t=0;return{reset:function(){t=0},getColor:function(){var n=e[t];return t=(t+1)%e.length,n}}}])})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../util":524}],497:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/shared-modules/shared-services/im-email-service",function(e,t,n){"use strict";var r=e("../../storage/dao");n.exports="insidemaps.app.shared";var i=angular.module(n.exports);i.factory("imDaoService",["imProgressBarService",function(e){return{getDao:function(){return r},listObjects:function(t,n,i){return e.progressBarWrapUp("Data","Fetching Data...",r.listObjects(t,n,i))}}}])})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../storage/dao":514}],498:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/shared-modules/shared-services/im-diagnostic-service",function(e,t,n){"use strict";n.exports="insidemaps.app.shared";var r=e("../../util"),i=e("../../shared-modules/controllers/im-base-controller"),o=e("../../storage/dao"),a=angular.module(n.exports);a.factory("imDiagnosticService",["dialogs","$rootScope","imProgressBarService","imProjectService","imProjectPropertyChanger","imOrganizationService","imUserService",function(e,t,n,i,a,s,c){var l=function(e,t){var n=e.permissionsById,r=t.permissionsById,i=!0;for(var o in n){var a=n[o]||{},s=r[o]||{};i=i&&a.write==s.write&&a.read==s.read}return i};return{acl:{updateProjectACL:function(e){var t={state:e.getStatus(),projectId:e.id},i=r.core.callApiAsync("POST","/api/v1/project/updateProjectACL",t);return n.progressBarWrapUp("Project ACL","Regenerating...",i)},showDetails:function(t,n){e.create("object-acl-template","ObjectACLController as objectACLCtrl",{parseObject:t,generatedACL:n},{size:"lg"}).result["catch"](function(){}.bind(this))},compareACL:function(e,t){if(e&&t){var n=l(e,t),r=l(t,e);return n&&r}},compareACLUnidirectional:function(e,t){if(e&&t)return l(e,t)}},parse:{getObjectSchema:function(e){if(e&&e.className){var t={schemaName:e.className},i=r.core.callApiAsync("GET","/api/v1/parse/schema",t);return n.progressBarWrapUp(e.className+" schema","Fetching...",i)}},showParseObjectViewer:function(t){e.create("parse-object-viewer-template","ParseObjectViewerController as parseObjectViewerCtrl",{parseObject:t},{size:"lg",windowClass:"almostfullmodal"}).result["catch"](function(){}.bind(this))},generateObjectPointer:function(e,t){return o.generateObjectPointer(e,t)},fetchIfPointer:function(e){return o.fetchIfPointer(e)},saveParseObjectAsync:function(e){return n.progressBarWrapUp("Object","Saving Object Data...",e.saveAsync())}},project:{submit:function(e,t){var i="/api/v1/photography/mobile/submitProject?projectId="+e.id+(t?"&userEmail="+t:""),o=r.core.callApiAsync("POST",i);return n.progressBarWrapUp("Project","Submitting...",o)},showInfo:function(t,n){e.create("project-info-viewer-template","ProjectInfoViewerController as projectInfoViewerController",{savedInfo:t,submittedInfo:n},{size:"lg",windowClass:"almostfullmodal"}).result["catch"](function(){}.bind(this))},changeProperty:function(e,t){var n,r;switch(t){case"organization":n="name",r=s.listOrganizations();break;case"user":n="username",r=c.listUsers()}if(r)return r.then(function(r){return a.showModal(e,t,n,r)}.bind(this))}}}}]),a.controller("ObjectACLController",r.core.makeClass(i,{$inject:["$scope","data"]},{constructor:function(e,t){this.$scope=e,this._data=t,this.parseObject=this._data.parseObject,this.currentACL=this.parseObject.getACL(),this.generatedACL=this._data.generatedACL}})),a.controller("ProjectInfoViewerController",r.core.makeClass(i,{$inject:["$scope","data"]},{constructor:function(e,t){this.$scope=e,this._data=t,this.savedInfo=this._data.savedInfo,this.submittedInfo=this._data.submittedInfo}})),a.controller("ParseObjectViewerController",r.core.makeClass(i,{$inject:["$scope","data","imDiagnosticService","imMultipleInputService","dialogs"]},{constructor:function(e,t,n,r,i){this.$scope=e,this._data=t,this._imDiagnosticService=n,this._imMultipleInputService=r,this._dialogs=i,this.schemaMap={},this.wrappedParseObjects=[this.generateWrapper(this._data.parseObject)],this.selected=void 0,this.selectParseObject(this.wrappedParseObjects[0])},fetchParseObjectSchema:function(e){e&&!this.schemaMap[e]?this._imDiagnosticService.parse.getObjectSchema(this.selected.parseObject).then(function(t){var n=JSON.parse(t).fields;this.schemaMap[e]=n,this.generateAngularModel()}.bind(this)):this.generateAngularModel()},generateAngularModel:function(){var e={},t=this.getCurrentSchema(),n=this.selected.parseObject;for(var r in t)e[r]=n.get(r)||n[r];this.selected.angularModel=e,this.refreshGUI()},pointerOpen:function(e){var t=this.selected.angularModel[e];this._imDiagnosticService.parse.fetchIfPointer(t).then(function(e){if(e){var t=this.getSelectedIndex();this.wrappedParseObjects.splice(t+1);var n=this.generateWrapper(e);this.wrappedParseObjects.push(n),this.selectParseObject(n)}else this._dialogs.error("Object not found","No Object / Pointer existing")}.bind(this))},pointerChange:function(e,t){var n=this.selected.angularModel[e],r=n?n.id:void 0,i={pointer:{label:"Object Id",inputType:"text",value:r}};this._imMultipleInputService.showModal("Change Pointer",e,i).then(function(n){var i=n?n.pointer.value||void 0:void 0;i!==r&&(this.selected.angularModel[e]=this._imDiagnosticService.parse.generateObjectPointer(t,i),this.modelChange(e))}.bind(this))["catch"](function(e){})},modelChange:function(e){var t=this.getCurrentSchema(),n=t[e].type,r=this.selected.angularModel[e];this.selected.parseObject;try{switch(n){case"Object":case"Array":"object"!=typeof r&&JSON.parse(r)}this.selected.validationMap[e]=void 0}catch(i){this.selected.validationMap[e]=i.message}},saveSelectedObject:function(){var e=this.selected.angularModel,t=this.getCurrentSchema(),n=this.selected.parseObject,r=!1;if(this.isParseObjectValid()){for(var i in t)if(this.isAttributeChanged(i)){r=!0;var o=e[i];o?n.set(i,e[i]):n.unset(i)}r&&this._imDiagnosticService.parse.saveParseObjectAsync(n).then(function(e){this.generateAngularModel()}.bind(this))["catch"](function(e){}.bind(this))}else this._dialogs.error("Cannot Save Parse Object","Invalid format of data for one or more attributes.")},generateWrapper:function(e){return{parseObject:e,angularModel:{},schemaName:e&&e.className,validationMap:{}}},selectPrevious:function(){var e=this.getPreviousIndex();this.selectParseObject(this.wrappedParseObjects[e])},selectNext:function(){var e=this.getNextIndex();this.selectParseObject(this.wrappedParseObjects[e])},getPreviousIndex:function(){var e=this.getSelectedIndex();return e-1<0?0:e-1},getNextIndex:function(){var e=this.wrappedParseObjects.length-1,t=this.getSelectedIndex();return t+1>e?e:t+1},selectParseObject:function(e){this.selected=e,this.fetchParseObjectSchema(this.selected.schemaName)},getSelectedIndex:function(){return this.wrappedParseObjects.indexOf(this.selected)},getCurrentSchema:function(){return this.schemaMap[this.selected.schemaName]||{}},resetAttribute:function(e){this.selected.angularModel[e]=this.selected.parseObject.get(e)},isAttributeChanged:function(e){return this.selected.angularModel[e]!==(this.selected.parseObject.get(e)||this.selected.parseObject[e])},isParseObjectValid:function(){var e=this.selected.validationMap;for(var t in e)if(e[t])return!1;return!0}}))})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../shared-modules/controllers/im-base-controller":491,"../../storage/dao":514,"../../util":524}],499:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/shared-modules/shared-services/im-dom-effects-service",function(e,t,n){"use strict";var r=e("jquery"),i=e("scrollreveal");n.exports="insidemaps.app.shared";var o=angular.module(n.exports);o.factory("imDomEffectsService",[function(){var e=[{selector:".js-floor-segment-1",delay:100,distance:"40px"},{selector:".js-floor-segment-2",delay:300,distance:"40px"},{selector:".js-floor-segment-3",delay:400,distance:"40px"},{selector:".js-floor-segment-4",delay:600,distance:"40px"}],t=i();return{lazyLoadIframes:function(){var e=r("iframe");e.each(function(){var e=r(this),t=e.data("src");t&&e.attr("src",t)})},revealOnScroll:function(n){n=n||e,n.forEach(function(e){t.reveal(e.selector,{delay:e.delay,distance:e.distance,reset:!0})})},paralax:function(e){e.on("touchstart",function(t){e.off("mousemove")}),e.on("mousemove",function(e){var t=r(this).width(),n=r(this).height(),i=.5-e.offsetX/t,o=.5-e.offsetY/n,a=e.offsetY-n/2,s=e.offsetX-t/2,c=Math.atan2(a,s),l=180*c/Math.PI-90,u=10,h="translateY("+-i*u+"px) rotateX("+-o*u+"deg) rotateY("+i*(2*u)+"deg)";l<0&&(l+=360),r(this).css("transform",h).css("z-index",1).css("box-shadow","6px 6px 18px rgba(0, 0, 0, 0.4)")}),e.on("mouseout",function(){r(this).css("transform","").css("z-index",0).css("box-shadow","")})}}}])})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{jquery:304,scrollreveal:384}],500:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/shared-modules/shared-services/im-email-service",function(e,t,n){"use strict";var r=(e("../../login"),e("../../storage/dao"),e("../../util"));e("parse").Parse;n.exports="insidemaps.app.shared";var i=angular.module(n.exports);i.factory("imEmailService",["imProgressBarService","imUserService","dialogs",function(e,t,n){return{listUserMailingLists:function(){var t=r.core.callApiAsync("GET","api/v1/email/getMailingLists");return e.progressBarWrapUp("Mailing Lists","Fetching your mailing lists...",t)},updateMailingListSubscription:function(t){var n=r.core.callApiAsync("POST","api/v1/email/updateMailingListSubscription",{mailingListId:t.id,demo:t.demo,production:t.production});return e.progressBarWrapUp("Mailing List","Updating your subscription status...",n)},updateUserMailingLists:function(t){var n=r.core.callApiAsync("POST","api/v1/email/updateUserMailingLists",{userId:t});return e.progressBarWrapUp("User Mailing Lists","Updating users mailing lists...",n)}}}])})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../login":482,"../../storage/dao":514,"../../util":524,parse:343}],501:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/shared-modules/shared-services/im-invoice-service",function(e,t,n){"use strict";var r=(e("../../util"),e("../../storage/dao"));n.exports="insidemaps.app.shared";var i=angular.module(n.exports);i.factory("imFinancialService",["imProgressBarService","imProjectService","imInvoiceService","imPaymentService","dialogs",function(e,t,n,i,o){var a,s,c,l,u=void 0,h=void 0,d=[],f=["payment","organization","user","invoice"],p={},m=function(){p={}},g=function(e){return e.fetchAsync().then(function(e){var t=[];return f.forEach(function(n){var r=e.get(n);r&&t.push(r.fetchAsync())}.bind(this)),Promise.all(t)}.bind(this)).then(function(){return this.updateProjects(),e}.bind(this))},v=function(e,t){return{name:e,parseOrganization:t,organizationUrl:t?"/organization/"+t.id:void 0,finished:{projects:[],amount:0},paid:{title:"Paid Projects",projects:[],amount:0},free:{title:"Free Projects",projects:[],amount:0},invoiced:{title:"Invoiced Projects",projects:[],amount:0},notPaid:{title:"Not Paid Projects",projects:[],amount:0},processing:{title:"Processing Projects",projects:[]},defined:{title:"Defined Projects",projects:[]},organization_new:0,organization_legacy:0,private_project:0,setParseOrganization:function(e){this.parseOrganization=e,this.organizationUrl="/organization/"+e.id},getRealization:function(){var e=this.paid.projects.length,t=this.finished.projects.length,n=(100*e/t).toFixed(0);return n=isNaN(n)?"/":n+"%"},getRealizationColor:function(){var e=this.paid.projects.length,t=this.finished.projects.length,n=223,r=255-n,i=(n+r*e/t).toFixed(0),o=(n+r*(t-e)/t).toFixed(0),a="rgb("+o+","+i+","+n+")";return{"background-color":a}},getHealth:function(){var e=this.organization_new,t=this.organization_legacy,n=(100*e/(e+t)).toFixed(0);return n=isNaN(n)?"/":n+"%"},getHealthColor:function(){var e=this.organization_new,t=this.organization_legacy,n=160,r=(n*e/(e+t)).toFixed(0),i=(n*t/(e+t)).toFixed(0),o="rgb("+i+","+r+",0)";return{color:o}},getProcessingColor:function(){var e=this.processing.projects.length,t=(this.finished.projects.length,160),n=(e?0:t).toFixed(0),r=(e?t:0).toFixed(0),i="rgb("+r+","+n+",0)";return{color:i}},getHealthTooltip:function(){return"Monitors how much projects are being created using new Organization objects, versus old way that uses OrganizationName field from Owner User.\nNew way: "+this.organization_new+"\nOld way: "+this.organization_legacy}}},b=function(e,t){return{parseProject:e,mode:t,createdAt:e.createdAt,fiscalPeriod:c,selected:!0,"public":e.getACL().getPublicReadAccess(),deleted:e.getDeleteMarker(),getBackgroundColor:function(){return this.deleted?"#f2f2f2":this.selected?"#f6fbfd":"#ffffff"},getPaymentType:function(){var e=this.parseProject.getPayment();return e?e.getType():void 0},getPaymentAmount:function(){var e=this.parseProject.getPayment();return e?e.getAmount():"-"},getProjectPrice:function(){return this.parseProject.getPrice()||"-"},getInvoiceName:function(){var e=this.parseProject.getInvoice();return e?e.getName():"-"},getInvoice:function(){return this.parseProject.getInvoice()},checkPrices:function(){var e=this.getProjectPrice(),t=this.getPaymentAmount();return e===t||!(!isNaN(t)||isNaN(e))},checkPricesTitle:function(){return"Project price: "+this.getProjectPrice()+"\nPayment amount: "+this.getPaymentAmount()},getUserTitle:function(){var t=e.getUser(),n=t?t.getUsername():"/",r=t?t.getEmail():"/";return"Username: "+n+"\nEmail: "+r},isRemovablePayment:function(){return this.getPaymentType()&&("manual"===this.getPaymentType()||"free"===this.getPaymentType()||"operator"===this.getPaymentType())},canMarkAsPaid:function(){return!this.getPaymentType()&&!this.getInvoice()&&"finished"===this.parseProject.getStatus()}}},y=function(e){e.forEach(function(e){w(e)}.bind(this));var t=[];for(name in p)t.push(p[name]);return t},w=function(e){var t=e.getOrganization(),n=e.getUser(),r=void 0,i=void 0;t?(r=e.getOrganization().getName(),i="organization_new"):n&&n.getOrganizationName()?(r=n.getOrganizationName(),i="organization_legacy"):(r="Private Projects",i="private_project"),p[r]?t&&p[r].setParseOrganization(t):p[r]=v(r,t);var o=p[r];o[i]++;var a=b(e,i),s=a.parseProject,c=s.getPayment(),l=s.getInvoice();if("finished"===s.getStatus())if(o.finished.projects.push(a),o.finished.amount+=s.getPrice(),c){var u=c.getType();switch(u){case"free":o.free.projects.push(a),o.free.amount+=c.getAmount();break;default:o.paid.projects.push(a),o.paid.amount+=c.getAmount()}}else l&&!l.isPaid()?(o.invoiced.projects.push(a),o.invoiced.amount+=s.getPrice()):(o.notPaid.projects.push(a),o.notPaid.amount+=s.getPrice());else"defined"===s.getStatus()?o.defined.projects.push(a):o.processing.projects.push(a)};return{getProjectsInclude:function(){return f},setSyncCallback:function(e,t,n){var r=void 0;e&&t&&(r={context:e,callback:t}),n?h=r:u=r},fiscalPeriodSelected:{get:function(){return c},set:function(e){c=e}},getWrappedOrganizationSelected:function(){return a},getWrappedOrganizations:function(){return l},selectOrganization:function(e){s=e,a=p[s]},fetchProjects:function(e){t.listProjects(e).then(function(e){d=e,this.updateProjects()}.bind(this))},updateProjects:function(){m(),l=y(d),this.selectOrganization(s),u&&u.callback.apply(u.context),h&&h.callback.apply(h.context)},addProjectsToInvoice:function(e){var t="<b>Cannot create Invoice.</b></br>",i=e.name,a=e.invoice,s=e.projects,c=e.organization,l=e.user;if(c){var u="Are you sure you want to add all "+s.length+" projects to "+(a?"existing invoice - "+a.getName():"new invoice - "+i)+"?";return o.confirm("Add Projects to Invoice",u).result.then(function(){var e={name:i,
organization:c,projects:s,user:l};return a=a||n.createInvoiceLite(e),s.forEach(function(e){var n=void 0;return"finished"!==e.getStatus()?n=" Project "+e.getName()+" is not yet finished":e.getPayment()&&"operator"!==e.getPayment().getType()?n=" Project "+e.getName()+" has already been paid.":e.getOrganization()&&e.getOrganization().id!==a.getOrganization().id?n=" Project "+e.getName()+" does not belong to an Organization "+a.getOrganization().getName()+" of an Invoice "+a.getName():e.getInvoice()&&(n=' Project "'+e.getName()+'" already belongs to an invoice - '+e.getInvoice().getName()),n?Promise.reject(new Error(t+n)):(e.setInvoice(a),void a.getProjects().add(e))}),r.saveAllAsync(s)}.bind(this)).then(function(e){return this.updateProjects(),a}.bind(this))["catch"](function(e){}.bind(this))}return Promise.reject(new Error("Cannot create Invoice without Organization."))},removeProjectsFromInvoice:function(e){var t=e.projects,n=e.invoice;return t.forEach(function(e){var t=e.getInvoice();t&&t.id===n.id&&(e.unsetInvoice(),n.getProjects().remove(e))}.bind(this)),r.saveAllAsync(t).then(function(e){return this.updateProjects(),n.saveAsync()}.bind(this))},updateProjectPayment:function(e,t){return i.markPaid(e,t).then(function(){return g(e)}.bind(this))["catch"](function(e){}.bind(this))},updateProjectVisibility:function(e,n){return t.makePublic(e,n).then(function(){return g(e)}.bind(this))}}}])})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../storage/dao":514,"../../util":524}],502:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/shared-modules/shared-services/im-invoice-service",function(e,t,n){"use strict";var r=e("../../util"),i=e("../../storage/dao"),o=e("../../project-config/pricing-packages-config"),a=e("../../csv-exporter"),s=e("../../util/math");n.exports="insidemaps.app.shared";var c=angular.module(n.exports);c.factory("imInvoiceService",["imProgressBarService","imUserService","dialogs",function(e,t,n){return{listInvoices:function(t){var n=i.invoiceTable.listInvoices(t);return e.progressBarWrapUp("Invoices","Fetching Invoices...",n)},createInvoiceLite:function(e){return i.invoiceTable.createInvoiceLite(e)},markPaid:function(i,o){var a=i.id,s=t.user();if(s){var c="Are you sure you want to mark this invoice "+(o?"paid":"unpaid")+"?";return n.confirm("Mark Paid",c).result.then(function(){var t={userId:s.id,invoiceId:a,paid:o},n=r.core.callApiAsync("POST","/api/v1/invoice/markPaid",t);return e.progressBarWrapUp("Invoice Payment Status Public Access","Updating invoice payment info...",n)}.bind(this))}return Promise.reject(new Error("You are not logged in, to perform this operation"))},fetchInvoiceProjects:function(t){var n=Promise.resolve([]);if(t){var r=t.getProjects().query();r.addDescending("createdAt"),r.limit(1e4),n=r.findAsync()}return e.progressBarWrapUp("Invoice Projects","Fetching...",n)},exportInvoiceToCSV:function(e){var t=e.getName(),n=e.getOrganization(),r=t+".csv";return this.fetchInvoiceProjects(e).then(function(e){var t=e.map(function(e){var t=e.createdAt,r=o.getPricingPackageForProject(e),i=e.getArea(),a=i?Math.round(s.convertSqCmToSqFt(1e4*i)):void 0,c=e.getLivableArea(),l=c?Math.round(s.convertSqCmToSqFt(1e4*c)):void 0,u=n&&n.getConfig().getPricingModel(),h=this.clearCommas(e.getName()),d={Year:t.getUTCFullYear(),Month:t.getUTCMonth()+1,Day:t.getUTCDate(),"Project Name":h,Street:this.clearCommas(e.getStreet()),City:this.clearCommas(e.getCity()),State:this.clearCommas(e.getState()),Zip:this.clearCommas(e.getZip()),Country:this.clearCommas(e.getCountry()),Package:r.name,"Total Area (sqft)":a,"Livable Area (sqft)":l};if(u){var f=u.getData()&&u.getData()[r.codeName];f&&f.fixedServices&&f.fixedServices.forEach(function(e){d[this.clearCommas(e.name)+" ($)"]=e.price}.bind(this))}return d["Total Price ($)"]=e.getPrice(),d}.bind(this)).reverse();return a.exportCSV({filename:r},t)}.bind(this))},clearCommas:function(e){return this.replaceCharacter(e,","," ")},replaceCharacter:function(e,t,n){return e&&t&&n?e.replace(new RegExp(t,"g"),n):e}}}])})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../csv-exporter":480,"../../project-config/pricing-packages-config":489,"../../storage/dao":514,"../../util":524,"../../util/math":525}],503:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/shared-modules/shared-services/im-project-service",function(e,t,n){"use strict";e("../../util");n.exports="insidemaps.app.shared";var r=angular.module(n.exports),i={"en-US":"EN","sr-SR":"СР"},o=[];for(var a in i)o.push(a);r.value("localeSupported",o),r.factory("imLocalizeService",["locale","localeSupported","localeEvents","$cookies",function(e,t,n,r){var o=function(){var t=r.get("locale")||"en-US";e.setLocale(t)};return o(),{setLocale:function(t){r.put("locale",t),e.setLocale(t)},getLocales:function(){return i},getLocale:function(){return e.getLocale()}}}])})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../util":524}],504:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/shared-modules/shared-services/im-notification-service",function(e,t,n){"use strict";e("../../login"),e("../../storage/dao"),e("../../util"),e("parse").Parse;n.exports="insidemaps.app.shared";var r=angular.module(n.exports);r.factory("imNotificationService",["imOrganizationService",function(e){var t={invites:void 0},n=void 0,r=function(){var e=0;for(var r in t)t[r]>0&&(e+=t[r]);n=e};return{updateInvitesCount:function(){return e.countUserInvites().then(function(e){t.invites=e,r()}.bind(this))},getInvitesCount:function(){return t.invites},getAllNotificationsCount:function(){return n}}}])})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../login":482,"../../storage/dao":514,"../../util":524,parse:343}],505:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/shared-modules/shared-services/im-organization-service",function(e,t,n){"use strict";var r=e("../../storage/dao"),i=e("../../util");n.exports="insidemaps.app.shared";var o=angular.module(n.exports);o.factory("imOrganizationService",["imProgressBarService","imUserService","dialogs",function(e,t,n){return{createOrganizationAsync:function(t){var n=i.core.callApiAsync("POST","api/v1/organization/createOrganization",{name:t});return e.progressBarWrapUp("Organizations","Creating Organizations...",n)},listOrganizations:function(t){return e.progressBarWrapUp("Organizations","Fetching Organizations...",r.organizationTable.listOrganizations(t))},listOrganizatonAnalytics:function(t){return e.progressBarWrapUp("Organization Analytics","Fetching Organization Analytics...",r.organizationAnalyticsTable.listOrganizationAnalytics(t))},deleteOrganization:function(t){return n.confirm("Delete Organization","Are you sure you want to delete entire organization - "+t.getName()+"?").result.then(function(){var n=i.core.callApiAsync("POST","api/v1/organization/deleteOrganization",{organizationId:t.id});return e.progressBarWrapUp("Organization Deletion","Deleting...",n)}.bind(this))},updateOrganizationMemberRole:function(t,r){return n.confirm("Group Role change","Are you sure you want to change group role?").result.then(function(){var n=i.core.callApiAsync("POST","api/v1/organization/updateOrganizationMemberRole",{organizationMemberId:t.id,isAdmin:r});return e.progressBarWrapUp("Group User Role Update","Updating...",n)}.bind(this))},listUserOrganizationMembers:function(){var n={descending:["confirmed","admin"],includes:["organization"],equals:{user:t.user()}};return e.progressBarWrapUp("Organizations","Fetching My Organizations...",r.organizationMemberTable.listOrganizationMembers(n))},getMembersForOrganization:function(t,n){return e.progressBarWrapUp("Organizations","Fetching Organization Details...",r.organizationMemberTable.getMembersForOrganization(t,n))},createOrganizationMember:function(t,n,r){var o=i.core.callApiAsync("POST","api/v1/organization/createOrganizationMember",{organizationId:t.id,email:n,isAdmin:r});return e.progressBarWrapUp("Organization Invite","Creating...",o)},confirmOrganizationMember:function(t){var n=i.core.callApiAsync("POST","api/v1/organization/confirmOrganizationMember",{organizationMemberId:t.id});return e.progressBarWrapUp("Organization Invite","Accepting...",n)},deleteOrganizationMember:function(t){var r=t.isConfirmed()?"Remove Membership":"Remove Invite",o="Are you sure you want to remove this "+(t.isConfirmed()?"membership?":"invite?");return n.confirm(r,o).result.then(function(){var n=i.core.callApiAsync("POST","api/v1/organization/deleteOrganizationMember",{organizationMemberId:t.id});return e.progressBarWrapUp("Leaving Organization","Removing membership...",n)}.bind(this))},toggleTest:function(t,r){var o=t.id,a=!r.isTest(),s=a?"Set as Test":"Unset as Test",c="Are you sure you want to "+(a?"set":"unset")+" organization "+t.getName()+" as Test?";return n.confirm(s,c).result.then(function(){var t=i.core.callApiAsync("PATCH","api/v1/organization/"+o,{test:a});return e.progressBarWrapUp("Organization Test Status",s+"...",t)}.bind(this)).then(function(){return r.fetchAsync()}.bind(this))},enableAPI:function(e){var t=r.organizationApiConfigTable.createLite(e);return e.setApiConfig(t),this.saveOrganizationConfigAsync(e)},generateApiToken:function(t,n){var r=i.core.callApiAsync("POST","api/v1/organization/generateApiToken",{organizationId:t.id,index:n});return e.progressBarWrapUp("Rest API Token","Generating...",r)},countUserInvites:function(){var e=t.user();return e?r.organizationMemberTable.countUserInvites(e):Promise.resolve(0)},saveOrganizationAsync:function(t){return e.progressBarWrapUp("Updating organization","Please wait while the organization changes are saved.",t.saveAsync())},saveOrganizationConfigAsync:function(t){return e.progressBarWrapUp("Organization Configuration","Saving Changes...",t.saveAsync())},saveOrganizationApiConfigAsync:function(t){return e.progressBarWrapUp("Organization API Configuration","Saving Changes...",t.saveAsync())}}}])})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../storage/dao":514,"../../util":524}],506:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/shared-modules/shared-services/im-payment-service",function(e,t,n){"use strict";var r=e("../../util");n.exports="insidemaps.app.shared";var i=angular.module(n.exports);i.factory("imPaymentService",["imProgressBarService","imUserService","dialogs","imMultipleInputService",function(e,t,n,i){return{getPaymentDetails:function(e){var t=r.core.callApiAsync("GET","/api/v1/payment/getPaymentDetails/"+e);return t},markPaid:function(o,a){var s=o.id,c=t.user();if(c){var l={free:{label:"Is this project free?",inputType:"checkbox",value:!1}},u=a?i.showModal("Mark project as paid",o.getName(),l):n.confirm("Mark Unpaid","Are you sure you want to mark this project unpaid?").result;return u.then(function(t){var n;a&&(n=!!t&&t.free.value);var i={userId:c.id,projectId:s,paid:a,free:n},o=r.core.callApiAsync("POST","/api/v1/payment/markPaid",i);return e.progressBarWrapUp("Project Payment Status","Updating project payment status...",o)})}return Promise.reject(new Error("You are not logged in, to perform this operation"))},purchasePayPal:function(n){var i=t.user();if(i){var o={userId:i.id,projectId:n},a=r.core.callApiAsync("GET","/api/v1/payment/paypalPaymentCreate",o);return e.progressBarWrapUp("PayPal payment","Initiating connection with PayPal...",a)}return Promise.reject(new Error("You are not logged in, to perform this operation"))}}}])})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../util":524}],507:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/shared-modules/shared-services/im-pricing-model-service",function(e,t,n){"use strict";var r=e("../../storage/dao");e("../../util");n.exports="insidemaps.app.shared";var i=angular.module(n.exports);e("parse").Parse;i.factory("imPricingModelService",["imProgressBarService","imUserService","dialogs",function(e,t,n){return{createPricingModelAsync:function(t){var n=r.pricingModelTable.createAsync({name:t});return e.progressBarWrapUp("Pricing Model","Creating Pricing Model...",n)},listPricingModels:function(t){return e.progressBarWrapUp("Pricing Models","Fetching Pricing Models...",r.pricingModelTable.listPricingModels(t))},deletePricingModel:function(t){return n.confirm("Delete Pricing Model","Are you sure you want to delete pricing model - "+t.getName()+"?").result.then(function(){return e.progressBarWrapUp("Organization Deletion","Deleting...",t.destroyAsync())}.bind(this))},savePricingModelAsync:function(t){return e.progressBarWrapUp("Pricing Model","Saving Changes...",t.saveAsync())}}}])})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../storage/dao":514,"../../util":524,parse:343}],508:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/shared-modules/shared-services/im-progress-bar-service",function(e,t,n){"use strict";n.exports="insidemaps.app.shared";var r=angular.module(n.exports);r.factory("imProgressBarService",["dialogs","$rootScope",function(e,t){var n=!1,r=function(t,r){n&&i(),e.wait(t,r,100,{keyboard:!1,backdrop:!1,size:"sm",animation:!1}),n=!0},i=function(){t.$broadcast("dialogs.wait.complete"),n=!1};return{progressBarWrapUp:function(t,n,o,a){return r(t,n),o.then(function(e){return i(),Promise.resolve(e)}.bind(this))["catch"](function(t){return i(),a||e.error("Action Error",t.message||t),Promise.reject(t)}.bind(this))}}}])})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],509:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/shared-modules/shared-services/im-project-service",function(e,t,n){"use strict";var r=(e("../../login"),e("../../storage/dao")),i=e("../../util"),o=e("parse").Parse;n.exports="insidemaps.app.shared";var a=angular.module(n.exports);a.factory("imProjectService",["dialogs","imPromptModalService","imUserService","imProgressBarService",function(e,t,n,a){var s=function(t,n){return n&&n.message?e.error(t+" - error",n.message).result.then(function(){return Promise.reject(n)}):n&&"no"!==n?Promise.reject(n):void 0};return{setPrice:function(i){var o=i.getPrice(),a=o?e.confirm("Existing old price","This project has already defined price, are you sure you want to change it?").result:Promise.resolve();return a.then(function(){return t.showModal("Set Project's Price","Current Price: "+(i.getPrice()?i.getPrice()+"$":"/"))}.bind(this)).then(function(e){var t=Number(e);if(isNaN(t))return Promise.reject(new Error("The value supplied has to be a number"));i.setPrice(t);var a=r.projectLogTable.createLogEntry(i,i.getUser(),"Price Changed","Old price: "+o+" New price: "+i.getPrice(),n.user().getUsername());return Promise.all([i.saveAsync(),a.saveAsync()])}.bind(this)).then(function(t){var n=t[0];return e.notify("Project Price Changed","Project price successfully changed to "+n.getPrice()+"$"),Promise.resolve(n)}.bind(this))["catch"](function(e){return s("Project Setting Price",e)}.bind(this))},unlockProject:function(t){var n="/api/v1/project/updateProjectStatus",r=(i.params.getEnvironmentName(),"defined");return e.confirm("Unlock Project","Are you sure you want to return this project to owner?").result.then(function(){return i.core.callApiAsync("POST",n,{projectId:t.id,projectStatus:r})}.bind(this)).then(function(){return e.notify("Project Unlocked","Project successfully unlocked, and returned to it's owner.").result}.bind(this))["catch"](function(e){return s("Project Unlock Error",e)}.bind(this))},assignProjectOperator:function(t,n){var r=n?"Assigning...":"Deassigning...",o=t.id,s=t.getOperator()?t.getOperator().id:void 0,c={projectId:o,email:n,oldOperatorId:s},l=i.core.callApiAsync("POST","/api/v1/project/assignOperator",c,{});return a.progressBarWrapUp("Project Operator",r,l).then(function(t){return e.notify("Project Assigned","Project <b>"+t.name+"</b> successfully assigned to operator - <b>"+n+"</b>").result}.bind(this))},assignProjectOperatorQA:function(t,n){var r=n?"Assigning...":"Deassigning...",o=t.id,s=t.getOperatorQA()?t.getOperatorQA().id:void 0,c={projectId:o,email:n,oldOperatorQAId:s},l=i.core.callApiAsync("POST","/api/v1/project/assignOperatorQA",c,{});return a.progressBarWrapUp("Project Operator QA",r,l).then(function(t){return e.notify("Project Assigned For Operator QA Check","Project <b>"+t.name+"</b> successfully assigned for QA check to operator - <b>"+n+"</b>").result}.bind(this))},assignProjectModeler:function(e,t){return i.core.callApiAsync("POST","/api/v1/project/assignModeler",{projectId:e,email:t},{}).then(function(e){return r.projectTable.findProjectAsync(e.objectId,["user"])}.bind(this))["catch"](function(e){return s("Project Modeler Assignment",e)}.bind(this))},setState:function(t,n,r){var o="/api/v1/project/setProjectState",c=i.params.getEnvironmentName(),l=e.confirm("Project state change","Are you sure you want to set this project to <b>"+n+"</b> state ?");return l.result.then(function(){return a.progressBarWrapUp("Project Lifecycle","Transitioning to <b>"+n+"</b> state...",i.core.callApiAsync("POST",o,{projectId:t,env:c,state:n}))}.bind(this)).then(function(){return e.notify("Project state changed","Project state successfully changed to <b>"+n+"</b> state.").result}.bind(this))["catch"](function(e){if("no"!==e)return s("Project State Change",e)}.bind(this))},listProjectsStatistics:function(e){var t=i.core.callApiAsync("GET","/api/v1/project/statistics",{createdFrom:e.dateFrom,createdTo:e.dateTo},{});return a.progressBarWrapUp("Project Statistics","Fetching Project Statistics ...",t)},listProjectsAssets:function(e){if(e.length){var t=r.assetTable.listAssets({descending:["project"],containedIn:{project:e}});return a.progressBarWrapUp("Project Assets","Fetching Project Assets ...",t)}return Promise.resolve([])},listNonDeletedProjects:function(e){var t=r.projectTable.listNonDeletedProjects(e);return a.progressBarWrapUp("Projects","Fetching Projects...",t)},listProjects:function(e){var t=r.projectTable.listProjects(e);return a.progressBarWrapUp("Projects","Fetching Projects...",t)},listProjectsWithAddress:function(e,t){var n=r.projectTable.listProjectsWithAddress(e,t);return a.progressBarWrapUp("Projects","Fetching Projects...",n)},makePublic:function(t,r){var o=t.id,s=n.user();if(s){var c="Are you sure you want to make this project "+(r?"public":"private")+"?";return e.confirm("Make Public",c).result.then(function(){var e={userId:s.id,projectId:o,"public":r},t=i.core.callApiAsync("POST","/api/v1/project/makePublic",e);return a.progressBarWrapUp("Project Public Access","Updating project public access...",t)}.bind(this))}return Promise.reject(new Error("You are not logged in, to perform this operation"))},listProjectsWithLocation:function(e){return a.progressBarWrapUp("Projects Map","Loading Projects...",r.projectTable.listProjectsWithLocation(e))},generateProjectACL:function(e,t){var n=t||e.getStatus(),r=i.core.callApiAsync("GET","/api/v1/project/generateProjectACL",{projectId:e.id,state:n},{}).then(function(e){var t=new o.ACL(e||{});return t}.bind(this));return r},saveProjectAsync:function(e){return a.progressBarWrapUp("Project","Saving Project Data...",e.saveAsync())},getOrganizationName:function(e){var t=e&&e.getOrganization(),n=e&&e.getUser(),r=void 0;return t?r=t.getName():n&&(n.getOrganizationName()?r=n.getOrganizationName():n.getEmail()&&(r=n.getEmail().slice(0,n.getEmail().indexOf("@"))),r=r?r+"*":void 0),r},showIssues:function(t){return e.create("project-issues-template","ProjectIssuesController as projectIssuesCtrl",{project:t},{size:"lg",windowClass:"almostfullmodal"}).result["catch"](function(){}.bind(this))},getProjectIssues:function(e){var t=e.getIssueData(),n=t&&t.issues?t.issues:[],r={all:{total:[],blocking:[],nonBlocking:[]},open:{total:[],blocking:[],nonBlocking:[]},fixed:{total:[],blocking:[],nonBlocking:[]}};return n.forEach(function(e){var t=r.all,n=e.fixed?r.fixed:r.open,i=e.blocking?n.blocking:n.nonBlocking,o=e.blocking?t.blocking:t.nonBlocking;t.total.push(e),o.push(e),n.total.push(e),i.push(e)}.bind(this)),r},getProjectCaptureTimes:function(t,n,r){if(!t)return void e.error("No organizations defined","You have to specify one or more organization partial names delimited by commas. Examples:<br/><br/>All Open Door organizations: <b>OD</b><br/>Organizations OD LV and OD PHX: <b>OD LV, OD PHX</b>");if(!n)return void e.error("No start date","Specify starting date (inclusive) of the report in format: <b>YYYY-MM-DD</b>");if(!r)return void e.error("No end date","Specify ending date (inclusive) of the report in format: <b>YYYY-MM-DD</b>");var o=new Date(n+" 00:00:00"),s=s=new Date(r+" 00:00:00");if(isNaN(o))return void e.error("Bad start date","Starting date is not in correct format. Specify starting date (inclusive) of the report in format: <b>YYYY-MM-DD</b>");if(isNaN(s))return void e.error("Bad end date","Ending date is not in correct format. Specify ending date (inclusive) of the report in format: <b>YYYY-MM-DD</b>");if(s<o)return void e.error("Bad end date","Ending date must be lesser or equal to starting date.");var c={organizations:t,dateFrom:n,dateTo:r,API_KEY:"9CV12etP33ZrbO5Ga7x0",format:"JSON"},l=i.core.callApiAsync("GET","/api/v1/migration/get-scan-duration",c).then(function(e){return e});return a.progressBarWrapUp("PROJECT CAPTURE TIME","Generating CSV report, please wait...",l)},changeProjectProperty:function(e,t,n){var r=i.core.callApiAsync("POST","/api/v1/project/changeObjectProperty",{projectIds:[e.id],propertyName:t,propertyValue:n&&n.id||n});return a.progressBarWrapUp("Changing Project Propery",'Changing property "'+t+'"...',r)}}}])})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../login":482,"../../storage/dao":514,"../../util":524,parse:343}],510:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/shared-modules/shared-services/im-role-service",function(e,t,n){"use strict";var r=(e("../../login"),e("../../storage/dao")),i=e("../../util");e("parse").Parse;n.exports="insidemaps.app.shared";var o=angular.module(n.exports),a={Developer:0,Supervisor:1,Operator:2};o.factory("imRoleService",["imEmailService",function(e){var t=function(e,t){var n="none",r=Number.MAX_SAFE_INTEGER;e.forEach(function(e){var t=e.getName();for(var i in a)t.indexOf(i)>-1&&a[i]<r&&(r=a[i],n=i)}.bind(this));var o=n.toLowerCase();return t.getOperatorRole()!==o?i.core.callApiAsync("POST","api/v1/user/setOldRoleColumn",{userId:t.id,roleString:o}):Promise.resolve()};return{createRole:function(e){return Promise.resolve(e).then(function(e){return e&&""!==e?r.roleTable.findByName(e):Promise.reject(new Error("Role name is not valid."))}.bind(this)).then(function(t){return t?Promise.reject(new Error("Role with this name already exists.")):r.roleTable.createRoleAsync(e,!0)}.bind(this))},addUserToRole:function(e,n){var i,o,a;return this._resolveUserAndRole(e,n).then(function(e){return o=e[0],a=e[1],a.getUsers().add(o),a.saveAsync()}.bind(this)).then(function(e){return i=e,r.roleTable.listAssignedRolesForUser(o,!0)}.bind(this)).then(function(e){return t(e,o)}.bind(this)).then(function(){return Promise.resolve(i)}.bind(this))},removeUserFromRole:function(n,i){var o,a,s;return this._resolveUserAndRole(n,i).then(function(e){return a=e[0],s=e[1],s.getUsers().remove(a),s.saveAsync()}.bind(this)).then(function(t){return o=t,e.updateUserMailingLists(a.id)}.bind(this)).then(function(){return r.roleTable.listAssignedRolesForUser(a,!0)}.bind(this)).then(function(e){return t(e,a)}.bind(this)).then(function(){return Promise.resolve(o)}.bind(this))},_resolveUserAndRole:function(e,t){var n=this._resolveUser(e),r=this._resolveRole(t);return Promise.all([n,r]).then(function(e){return e[0]&&e[1]?Promise.resolve(e):Promise.reject(new Error("User or Role cannot be found."))}.bind(this))},addChildRole:function(e,t){return this._resolveRoles(e,t).then(function(e){var t=e[0],n=e[1];return t.getRoles().add(n),t.saveAsync()}.bind(this))},removeChildRole:function(e,t){return this._resolveRoles(e,t).then(function(e){var t=e[0],n=e[1];return t.getRoles().remove(n),t.saveAsync()}.bind(this))},createRoleGroupAsync:function(e,t,n,i){return r.roleTable.createRoleGroupAsync(e,t,n,i,!0)},listChildUsersForRoles:function(e){return r.roleTable.listChildUsersForRoles(e)},_resolveRoles:function(e,t){var n=this._resolveRole(e),r=this._resolveRole(t);return Promise.all([n,r]).then(function(e){return e[0]&&e[1]?Promise.resolve(e):Promise.reject(new Error("One of roles cannot be found."))}.bind(this))},_resolveRole:function(e){return e&&"_Role"===e.className?Promise.resolve(e):r.roleTable.findByName(e)},_resolveUser:function(e){return e&&"_User"===e.className?Promise.resolve(e):r.userTable.findByUserName(e)},_getGroupName:function(e){return e.getName().split("_")[1]},_getGroupBase:function(e){return e.getName().split("_")[0]}}}])})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../login":482,"../../storage/dao":514,"../../util":524,parse:343}],511:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/shared-modules/shared-services/im-email-service",function(e,t,n){"use strict";var r=e("../../util");n.exports="insidemaps.app.shared";var i=angular.module(n.exports),o=e("three"),a=function(e){var t=e.geoLocation,n=(e.quaternion||new o.Quaternion,e.offset),r=t.latitude,i=t.longitude,a=6378137,s=n.latitude,c=n.longitude,l=s/a,u=c/(a*Math.cos(Math.PI*r/180)),h=r+180*l/Math.PI,d=i+180*u/Math.PI;return{lat:h,lng:d}};i.factory("imStreetviewService",["imProgressBarService","imUserService","$window","dialogs",function(e,t,n,i){return{getStreetviewData:function(t){var n="/api/v1/streetview/project/"+t.id,i=r.core.callApiAsync("GET",n);return e.progressBarWrapUp("Streetview","Fetching data for "+t.getName()+"...",i)},generateStreetviewData:function(t){var n="/api/v1/streetview/project/"+t.id+"?env="+r.params.getEnvironmentName(),i=r.core.callApiAsync("POST",n,{});return e.progressBarWrapUp("Streetview","Generating data for "+t.getName()+"...",i)},getStreetviewInputs:function(t){var n="/api/v1/streetview/project/"+t.id+"/inputs",i=r.core.callApiAsync("GET",n);return e.progressBarWrapUp("Streetview","Fetching inputs for "+t.getName()+"...",i)},updateStreetviewPositions:function(e){var t=e.markers,n=e.rotationCircle,r=e.rotationMarker,i=e.wallsPolyLine,s=e.selectedFloor,c=e.calibration,l=e.scale,u=c.geoLocation,h=o.Math.degToRad(c.rotation||0),d=new o.Euler(0,h,0,"YXZ"),f=(new o.Quaternion).setFromEuler(d);t.forEach(function(e){var t=e.imData||{},n=t.floorData,r=s===n,i=t.waypointData,h=i.transformation.quaternion||{},d=new o.Quaternion(h.x,h.y,h.z,h.w);d.multiply(f);var p=i.transformation.position,m=new o.Vector3(p.x,p.y,p.z);m.applyQuaternion(f),m.multiplyScalar(l);var g=c.number,v=isNaN(g)?0:3*g+m.y/100,b=(new o.Euler).setFromQuaternion(d,"YXZ"),y=(270-o.Math.radToDeg(b.y))%360,w=a({geoLocation:u,offset:{latitude:m.x/100,longitude:m.z/100}});i.streetviewPose={latLngPair:w,altitude:v,heading:y,pitch:0,roll:0,level:{number:g,name:"F"+g}},e.setPosition(w),e.setVisible(r)});var p=s.outStuds,m=[];p.forEach(function(e){var t=new o.Vector3(e.x,0,e.z);t.applyQuaternion(f),t.multiplyScalar(l);var n=a({geoLocation:u,offset:{latitude:t.x/100,longitude:t.z/100}});m.push(n)}),i.setPath(m);var g=n.getRadius(),v=new o.Vector3(g,0,0);v.applyQuaternion(f);var b=a({geoLocation:u,offset:{latitude:v.x,longitude:v.z}});r&&r.setPosition(b),n.setCenter({lat:u&&u.latitude,lng:u&&u.longitude})},saveStreetviewInputs:function(t,n){var i=n.calibration,o="/api/v1/streetview/project/"+t.id+"/inputs",a=r.core.callApiAsync("POST",o,{calibration:JSON.stringify(i)});return e.progressBarWrapUp("Streetview","Saving inputs for "+t.getName()+"...",a)},deleteAllPhotos:function(){var t="/api/v1/streetview/",n=r.core.callApiAsync("DELETE",t);return e.progressBarWrapUp("Streetview","Deleting all photos",n)},deleteProjectPhotos:function(t){var n="/api/v1/streetview/project/"+t.id+"?env="+r.params.getEnvironmentName(),i=r.core.callApiAsync("DELETE",n);return e.progressBarWrapUp("Streetview","Deleting project photos",i)},deleteProjectOrphans:function(t){var n="/api/v1/streetview/project/"+t.id+"/orphans?env="+r.params.getEnvironmentName(),i=r.core.callApiAsync("DELETE",n);return e.progressBarWrapUp("Streetview","Deleting project orphans",i)},submitProjectToStreetview:function(e,o){var a=e.id;return t.authenticateStreetview(a).then(function(t){if(!t.redirect_url){var a=o.data,s=a.floors,c=[];s.forEach(function(e){var t=e.activeWaypointsData||[];t.forEach(function(e){c.push(e)}.bind(this))}.bind(this));var l="/api/v1/streetview/project/"+e.id,u=r.core.callApiAsync("POST",l,{waypoints:JSON.stringify(c)});return i.notify("Streetview Upload","Upload to Google Streetview successfully started. You will be notified via email when it completes."),u}n.location.href=t.redirect_url}).then(function(e){i.notify("Streetview submission status",e)})}}}])})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../util":524,three:430}],512:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/shared-modules/shared-services/im-url-service",function(e,t,n){"use strict";n.exports="insidemaps.app.shared";var r=angular.module(n.exports);r.factory("imUrlService",["$location",function(e){var t={walkthrough:"/app/walkthrough/","3dmodel":"/app/3dmodel/",walkthroughEmbedded:"/app/walkthrough/embedded/","3dmodelEmbedded":"/app/3dmodel/embedded/",triangulator:"/app/triangulator/","pano-lite-webgl":"/app/pano-lite-webgl/","spin-viewer":"/app/spin-viewer/","furniture-viewer":"/app/furniture-viewer/"},n=function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n]===!0?n:n+"="+e[n];t=t+(t.length?"&":"?")+r}return t};return{getCompleteUrl:function(t,n){var r=e.$$protocol+"://"+e.$$host;return r+this.getUrl(t,n)},getBrandedUrl:function(e,t){var n="https://www.insidemaps.com";return n+this.getUrl(e,t)},getUnbrandedUrl:function(e,t){var n="https://unbranded.insidemaps.com";return n+this.getUrl(e,t)},getUrl:function(e,r){var i=t[e],o=r instanceof Object?n(r):r;if(i)return i+o},getIFrame:function(e){return'<iframe src="'+e+'" allowfullscreen frameborder="0" width="750px" height="560px"></iframe>'}}}])})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],513:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/shared-modules/shared-services/im-user-service",function(e,t,n){"use strict";var i=e("../../login"),o=e("../../storage/dao"),a=e("../../util"),s=e("parse").Parse;n.exports="insidemaps.app.shared";var c=angular.module(n.exports),l="GRANTED_ACCESS",u="NOT_AUTHENTICATED",h="NOT_AUTHORIZED";c.factory("imUserService",["$modal","$rootScope","$location","imProgressBarService","dialogs",function(e,t,n,c,d){var f="NO_CACHED_CREDENTIALS",p={login:!1};return{userRolesMap:function(){return i.userRolesMap},user:function(){return i.user},hasWriteAccess:function(e){if(e){var t=e.getACL();if(t.getPublicWriteAccess())return!0;var n=this.user();if(n){if(t.getWriteAccess(n))return!0;var r=this.userRolesMap();for(var i in r)if(t.getRoleWriteAccess(i))return!0}}return!1},isLoggedIn:function(){return!!i.user},logout:function(){return i.logout()},logoutUser:function(){return i.logoutUser()},logoutMobile:function(){return i.logoutMobile();
},authenticateStreetview:function(e){var t=n.url();return a.core.callApiAsync("POST","/api/v1/streetview/authenticate/"+e,{callbackUrl:t})},toggleTest:function(e){var t=e.id,n=!e.isTest(),r=n?"Set as Test":"Unset as Test",i="Are you sure you want to "+(n?"set":"unset")+" user "+e.getUsername()+" as Test?";return d.confirm(r,i).result.then(function(){var e=a.core.callApiAsync("PATCH","api/v1/user/"+t,{test:n});return c.progressBarWrapUp("User Test Status",r+"...",e)}.bind(this)).then(function(){return e.fetchAsync()}.bind(this))},handleRouteChange:function(e,t,n,r,i){var o=this.getAccessStatus(t);switch(o){case l:i?r.reload():(console.debug("Access granted."),n.isLoadingPage=!0,a.params.reloadParameters(),this.user()||this.resolveCachedUser().then(function(e){e&&n.$apply()}));break;case u:console.debug("Not authenticated."),e.preventDefault(),this.tryLogin().then(function(o){i?r.reload():this.handleRouteChange(e,t,n,r,!0)}.bind(this))["catch"](function(e){console.debug("Login modal shown.")});break;case h:console.debug("Not authorized."),e.preventDefault(),this.throwNotAuthorized()}},resolveCachedUser:function(){if(!a.core.isMobileDevice()){var e=location.host,t=(e.match(/\./g)||[]).length;1===t&&(e="www."+e),r.insidemaps_.domain=e,r.insidemaps_.isCustomDomain=location.host.indexOf("insidemaps.com")!==-1&&location.host.indexOf("spidie.com")!==-1,r.insidemaps_.customDomainProjectPromise=r.insidemaps_.isCustomDomain?o.projectTable.findProjectByCustomDomainAsync(r.insidemaps_.domain):Promise.resolve(null)}return r.insidemaps_.isCustomDomain||a.params.getBoolean("disableResources",!1)?Promise.reject("Wrong domain data, cannot login."):i.resolveCachedUser(!0)},fetchUserRoles:function(e){var t=e.current.$$route.access.acl,n=new s.Promise,r=new s.Query(s.Role);return r.containedIn("name",t),r.find().then(function(e){e.length>0?n.resolve(e):n.reject(new Error("You do not have permission to access this page."))})["catch"](function(){n.reject(new Error("You do not have permission to access this page."))}),n},listUsers:function(e){return c.progressBarWrapUp("Users","Fetching Users...",o.userTable.listUsers(e))},userHasRole:function(e){return!(!this.userRolesMap()||!this.userRolesMap()[e])},userOwnsProject:function(e){return e&&this.user()&&e.getUser()&&this.user().id===e.getUser().id},showLoginModal:function(t,n,r){this.tab=n,this.referralOrganization=r;var i={templateUrl:"login-modal-template",controller:"LoginController as newLogin",windowClass:"login-modal",scope:t,resolve:{tab:function(){return n},referralOrganization:function(){return r}}};a.core.isMobileDevice()?i.windowClass="mobile-login-modal":i.size="md",e.open(i)},tryLogin:function(e){return this.resolveCachedUser().then(function(t){return t?Promise.resolve(t):(this.showLoginModal(e),Promise.reject(f))}.bind(this))},signInUserPass:function(e,t){return o.User.logIn(e,t).then(function(e){return i.setCookie("IM_SESSION",e.getSessionToken(),365),i.user=e,e})},signUp:function(e,t,n,r,i){var a=this,s=new o.User;return s.set("email",e),s.set("username",t),s.set("password",n),s.set("passwordLogin",!0),r&&s.set("firstName",r),i&&s.set("lastName",i),s.signUp().then(function(e){return a.signInUserPass(t,n)})},resetPasswordEmail:function(e){return s.User.requestPasswordReset(e).then(function(){return e})},changePassword:function(e,t){var n=this.user();return this._callUserApi("GET","api/v1/user/resetPassword",{userId:n.id,oldPassword:e,newPassword:t,sessionToken:n.getSessionToken()}).then(function(){return!0})},updateUserInfo:function(e){return s.User.current().id===e.id?e.save().then(function(e){return e.fetch().then(function(e){var t="Parse/"+s.applicationId+"/currentUser",n=JSON.parse(localStorage.getItem(t)),r=e.toJSON();r._id=n._id,r._sessionToken=n._sessionToken,localStorage.setItem(t,JSON.stringify(r))})}.bind(this))["catch"](function(e){return Promise.reject(e.message)}.bind(this)):Promise.reject("Invalid user session object.")},getLinkedAccounts:function(){var e=this.user().id;return this._callUserApi("GET","api/v1/user/linkedAccounts",{userId:e})},revokeEmailVerification:function(e){return this._callUserApi("GET","api/v1/user/revokeEmailVerification",{userId:e.id,sessionToken:e.getSessionToken()})},isLoginRejection:function(e){return e===f},getAccessStatus:function(e){var t=this.user(),n=this.userRolesMap(),r=!0;if(e.$$route){var i=e.$$route.access||p,o=i.roles,a=i.acl,s=!!(i.login||o||a),c=!(!t||!n);if(r=!s||c){if(o){r=!1;var d=t.getOperatorRole()?[t.getOperatorRole()]:[];t.getPhotographer()&&d.push("photographer"),d.forEach(function(e){var t=o.indexOf(e);r=r||t>-1}.bind(this))}else a&&(r=!1,a.forEach(function(e){r=r||!!n[e]}.bind(this)));return r?l:h}return u}},throwNotAuthorized:function(){var e=new Error("You are not authorized to access this page.");throw e.userError=!0,a.debug.handleError(e)},_callUserApi:function(e,t,n){return a.core.callApiAsync(e,t,n)}}}]);var d=a.core.makeClass({},{$inject:["$scope","imUserService","tab","referralOrganization"]},{constructor:function(e,t,n,r){this.$scope=e,this._imUserService=t,this.username=null,this.password=null,this.errorMessage=null,this._resetMessage(),this.tab=n,this.referralOrganization=r||t.referralOrganization},attemptLogin:function(e){this._resetMessage();var t=Date.now();switch(e){case"google":window.location="/api/v1/user/oauth?provider=google&_"+t;break;case"microsoft":window.location="/api/v1/user/oauth?provider=live&_"+t;break;case"user-pass":this._imUserService.signInUserPass(this.username,this.password).then(function(e){window.location.pathname&&"/"!=window.location.pathname?window.location.reload():window.location="/dashboard"})["catch"](function(e){this.username="",this.password="",this.errorMessage="Invalid username or password.",this.$scope.$apply()}.bind(this));break;case"wechat":}},_resetMessage:function(){this.errorMessage=" "},openSignUp:function(){window.location.href="/signUp"},openResetPassword:function(){window.location.href="/resetPassword"}});c.controller("LoginBaseController",d),c.controller("LoginController",a.core.makeClass(d,{$inject:["$scope","$modalInstance","imUserService","tab"]},{constructor:function(e,t,n,r){d.call(this,e,n,r)},close:function(){this.$modalInstance.close()}}))})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../login":482,"../../storage/dao":514,"../../util":524,parse:343}],514:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/storage/dao",function(e,t,n){"use strict";var i={params:e("../../lib/util/params"),debug:e("../../lib/util/debug"),core:e("../../lib/util/util")},o=e("../../lib/organization-config/organization-analytics-config"),a=e("../../lib/project-config/pricing-packages-config"),s=e("crypto"),c=e("parse").Parse,l=e("../project-config/project-states-config"),u=n.exports={debug:!1,getIdFromObject:function(e){if(i.core.isString(e))return e;if(i.core.isObject(e)){if(e.id)return e.id;if(e.parseObject)return e.parseObject.id}throw console.error("Illegal argument to getIdFromObject",e),new Error("Cannot get parse id from object ")},getObjectDescriptor:function(e,t,n){n=n||i.params.getEnvironmentName();var r=n+":";return t&&(r+=t+":"),r+=e},getDatabasePrefix:function(e){return"production"===e||"prod"===e?"":e+"_"},createACLObject:function(){return new c.ACL},generateObjectPointer:function(e,t){if(t){var n=c.Object.extend(e),r=new n;return r.id=t,r}},fetchIfPointer:function(e){var t=Promise.resolve();return e&&(t=e._hasData?Promise.resolve(e):e.fetchAsync()),t.then(function(e){var t=void 0;return e&&e._hasData&&e.createdAt&&(t=e),Promise.resolve(t)})},listObjects:function(e){var t=e.query?e.query:new c.Query(e.table),n=e.searchParams||{},r=e.options;if(t.limit(n.pageSize||1e4),n.page&&t.skip(n.page*n.pageSize),n.ascending&&n.ascending.length){var i=n.ascending.join(",");t.addAscending(i)}if(n.descending&&n.descending.length){var o=n.descending.join(",");t.addDescending(o)}if(n.equals)for(var a in n.equals)"undefined"!=typeof n.equals[a]&&t.equalTo(a,n.equals[a]);if(n.notEqualTo)for(var a in n.notEqualTo)"undefined"!=typeof n.notEqualTo[a]&&t.notEqualTo(a,n.notEqualTo[a]);if(n.matches)for(var a in n.matches)n.matches[a]&&t.matches(a,new RegExp("^.*"+n.matches[a]+".*$","i"));if(n.contains)for(var a in n.contains)n.contains[a]&&t.contains(a,n.contains[a]);if(n.containedIn)for(var a in n.containedIn){var s=n.containedIn[a];s&&s.length&&t.containedIn(a,s)}if(n.exists&&n.exists.length&&n.exists.forEach(function(e){t.exists(e)}),n.doesNotExist&&n.doesNotExist.length&&n.doesNotExist.forEach(function(e){t.doesNotExist(e)}),n.dateFrom)for(var a in n.dateFrom)n.dateFrom[a]&&t.greaterThanOrEqualTo(a,n.dateFrom[a]);if(n.dateTo)for(var a in n.dateTo)n.dateTo[a]&&t.lessThanOrEqualTo(a,n.dateTo[a]);return u._addIncludesToQuery(t,n.includes),u._parseDebugWrapper("objects.query.listObjects",t.find,t)(r)},_databaseTables:{},getTablesForEnvironment:function(e){e=e||i.params.getEnvironmentName(),u._databaseTables[e]=u._databaseTables[e]||u._initializeEnvironmentDatabaseTables(e);var t=u._databaseTables[e];return{User:t.userTable,Material:t.materialTable,MaterialLibrary:t.materialLibraryTable,FurnitureModel:t.furnitureModelTable,agentTable:t.agentTable,Agent:t.agentTable,agentEmailTable:t.agentEmailTable,AgentEmail:t.agentEmailTable,mailingListTable:t.mailingListTable,MailingList:t.mailingListTable,DeviceList:t.deviceList,PhotoGallery:t.photoGalleryTable,calibrationTable:t.calibrationTable,Calibration:t.calibrationTable,projectTable:t.projectTable,autobakeStatisticsTable:t.autobakeStatisticsTable,VideoCaptureDataTable:t.videoCaptureDataTable,Project:t.projectTable,MaprTagsWalkthroughTable:t.maprTagsWalkthroughTable,VideoTemplateTable:t.videoTemplateTable,videoTemplate:t.videoTemplateTable,projectLogTable:t.projectLogTable,floorTable:t.floorTable,Floor:t.floorTable,roomTable:t.roomTable,Room:t.roomTable,wallTable:t.wallTable,Wall:t.wallTable,wallElementTable:t.wallElementTable,WallElement:t.wallElementTable,studTable:t.studTable,Stud:t.studTable,furnitureTable:t.furnitureTable,Furniture:t.furnitureTable,roomEditor3dTable:t.roomEditor3dTable,RoomEditor3d:t.roomEditor3dTable,labelTable:t.labelTable,Label:t.labelTable,wallHeightTable:t.wallHeightTable,WallHeight:t.wallHeightTable,showcaseTable:t.showcaseTable,Showcase:t.showcaseTable,ceilingConnectionTable:t.ceilingConnectionTable,CeilingConnection:t.ceilingConnectionTable,PhotoTable:t.photosTable,paymentTable:t.paymentTable,Payment:t.paymentTable,roleTable:t.roleTable,Role:t.roleTable,organizationTable:t.organizationTable,Organization:t.organizationTable,organizationMemberTable:t.organizationMemberTable,OrganizationMember:t.organizationMemberTable,organizationConfigTable:t.organizationConfigTable,OrganizationConfig:t.organizationConfigTable,projectStatisticsTable:t.projectStatisticsTable,ProjectStatistics:t.projectStatisticsTable,temporaryDataTable:t.temporaryDataTable,TemporaryData:t.temporaryDataTable,invoiceTable:t.invoiceTable,Invoice:t.invoiceTable,assetTable:t.assetTable,Asset:t.assetTable,organizationEventsTable:t.organizationEventsTable,OrganizationEvents:t.organizationEventsTable,organizationAnalyticsTable:t.organizationAnalyticsTable,organizationAnalytics:t.organizationAnalyticsTable,FloorPlanTemplate:t.floorPlanTemplateTable,ProjectNotes:t.projectNotesTable,ProjectNotesLog:t.projectNotesLogTable,pricingModelTable:t.pricingModelTable,PricingModel:t.pricingModelTable,organizationApiConfigTable:t.organizationApiConfigTable,OrganizationApiConfig:t.organizationApiConfigTable,languagesTable:t.languagesTable,propertyInfoTable:t.propertyInfoTable,streetviewDataTable:t.streetviewDataTable,StreetviewData:t.streetviewDataTable,ProjectBookmarks:t.ProjectBookmarks}},_initializeCommonDatabaseTables:function(){u.userTable=c.User.extend({getOperatorRole:function(){return this.get("operatorRole")},setOperatorRole:function(e){return this.set("operatorRole",e)},getUsername:function(){return this.get("username")},getPhotographer:function(){return this.get("photographer")},getEmail:function(){return this.get("email")},setEmail:function(e){return this.set("email",e)},getFirstName:function(){return this.get("firstName")},setFirstName:function(e){return this.set("firstName",e)},getLastName:function(){return this.get("lastName")},setLastName:function(e){return this.set("lastName",e)},getEmailVerified:function(){return this.get("emailVerified")},getPasswordLogin:function(){return this.get("passwordLogin")},getOrganizationName:function(){return this.get("organizationName")},setOrganizationName:function(e){return this.set("organizationName",e)},getProfileImage:function(){return this.get("profileImage")},setProfileImage:function(e){return this.set("profileImage",e)},getOfficePhoneNumber:function(){return this.get("officePhoneNumber")},setOfficePhoneNumber:function(e){return this.set("officePhoneNumber",e)},getMobilePhoneNumber:function(){return this.get("mobilePhoneNumber")},setMobilePhoneNumber:function(e){return this.set("mobilePhoneNumber",e)},getPricingModel:function(){return this.get("pricingModel")},setPricingModel:function(e){return this.set("pricingModel",e)},isTest:function(){return this.get("test")},setTest:function(e){this.set("test",e)}},{createLiteAsync:function(e,t){var n=new this;n.set("username",e),n.set("email",t);var r=new c.ACL;return r.setPublicReadAccess(!1),r.setPublicWriteAccess(!1),n.setACL(r),n},findUserAsync:function(e,t,n){return u._getAsyncHelper(this,e,t,n)},getPointerFromId:function(e){var t=c.User.extend(),n=new t;return n.id=e,n},findUsersAsync:function(e){var t=new c.Query(this);return t.containedIn("objectId",e),u._parseDebugWrapper("findUsersAsync.query().find",t.find,t)()},findUsersWithPartialEmailAsync:function(e){var t=new c.Query(this);return t.endsWith("email",e),u._parseDebugWrapper("findUsersAsync.query().find",t.find,t)()},findByEmail:function(e){var t=u._buildQuery(this,"email",e);return Promise.resolve(t.first())},findByUserName:function(e){var t=u._buildQuery(this,"username",e);return Promise.resolve(t.first())},filterByUserName:function(e){var t=new c.Query(this);return t.contains("username",e),u._parseDebugWrapper("filterUsersAsync.query().find",t.find,t)()},listUsers:function(e){return u.listObjects({table:this,searchParams:e})},getOperatorListAsync:function(e){var t=new c.Query(this),n=e||["operator","QA","supervisor"];return t.containedIn("operatorRole",n),t.ascending("email"),u._parseDebugWrapper("getOperatorListAsync.query().find",t.find,t)()},inflateUser:function(e,t){if(!e)return Promise.reject("No session token given.");var n=new c.Query("_Session");return n.equalTo("sessionToken",e),n.include("user"),u._parseDebugWrapper("inflateUser",n.first,n)(t).then(function(e){var t=e?e.get("user"):void 0;return Promise.resolve(t)}.bind(this))},inflateSession:function(e,t){var n=new c.Query("_Session");return n.equalTo("user",e),u._parseDebugWrapper("inflateSession",n.first,n)(t).then(function(e){return Promise.resolve(e._sessionToken)}.bind(this))},getSessionByToken:function(e){var t=new c.Query("_Session");return t.equalTo("sessionToken",e),u._parseDebugWrapper("getSessionByToken",t.first,t)()},getSessionById:function(e){var t=new c.Query("_Session");return t.equalTo("objectId",e),u._parseDebugWrapper("getSessionById",t.first,t)()}}),u._fixBrokenPromisesForTable(u.userTable),u.calibrationTable=c.Object.extend("Calibration",{getName:function(){return this.get("name")}},{getAsync:function(e,t){return u._getAsyncHelper(this,e,t)},findCalibrationsForSensorAsync:function(e){var t=new c.Query(this);return t.equalTo("name",e),t.descending("createdAt"),t.find()}}),u._fixBrokenPromisesForTable(u.calibrationTable),u.photoGalleryTable=c.Object.extend("PhotoGallery",{getPreviewName:function(){return this.get("previewName")},getFilename:function(){return this.get("filename")}},{findEnabledImagesAsync:function(){var e=new c.Query(this);return e.limit(1e3),e.equalTo("enabled",!0),u._parseDebugWrapper("materials.find",e.find,e)()}}),u._fixBrokenPromisesForTable(u.photoGalleryTable),u.materialLibraryTable=c.Object.extend("MaterialLibrary",{},{findMaterialsByCategoryAsync:function(e){var t=u._buildQuery(this,"category",e);return t.descending("favorite"),Promise.resolve(t.find())},findMaterialByNameAsync:function(e){var t=u._buildQuery(this,"name",e);return t.descending("favorite"),Promise.resolve(t.find())},findMaterialsWithNamesAsync:function(e){var t=new c.Query(this);return t.limit(1e3),t.descending("favorite"),t.addDescending("updatedAt"),t.addDescending("type"),e&&t.containedIn("name",e),t.find()},getTypeFromCodedMaterialName:function(e){var t,n=e.split("material-library/");return 2===n.length&&(n=n[1].split("/"),t=n[0]),t}}),u.materialTable=c.Object.extend("Material",{getType:function(){return this.get("type")},getName:function(){return this.get("name")},getMap:function(){return this.get("map")},getS3File:function(){return this.get("s3File")}},{findAllMaterialsAsync:function(e){var t=new c.Query(this);return t.limit(1e3),t.descending("updatedAt"),t.addDescending("type"),e&&t.containedIn("name",e),t.find()},addNewDefaultMaterialAsync:function(e,t){var n=new this;return n.set("name",e),n.set("path","testing"),n.set("type","testing"),n.set("map","S3"),n.set("s3File",t),n.set("wrapX",!0),n.set("wrapY",!0),u._parseDebugWrapper("newMaterial.save",n.save,n)()},addNewMaterialAsync:function(e,t,n,r,i){var o=new this;return o.set("name",e),o.set("type",t),o.set("path",n),o.set("map",r),o.set("wrapX",!0),o.set("wrapY",!0),i&&2===i.length&&o.set("size",i),u._parseDebugWrapper("newMaterial.save",o.save,o)()},findMaterialsByTypeAsync:function(e){var t=new c.Query(this);return t.limit(1e3),t.equalTo("type",e),u._parseDebugWrapper("materials.find",t.find,t)()},findMaterialsForTypesAsync:function(e){var t=new c.Query(this);return t.limit(1e3),t.containedIn("type",e),u._parseDebugWrapper("materials.find",t.find,t)()}}),u._fixBrokenPromisesForTable(u.materialTable),u.furnitureModelTable=c.Object.extend("FurnitureModel",{_parseVector:function(e){return e&&(e.x=parseFloat(e.x),e.y=parseFloat(e.y),e.z=parseFloat(e.z)),e},getName:function(){return this.get("name")},setName:function(e){return this.set("name",e)},getType:function(){return this.get("type")},setType:function(e){return this.set("type",e)},getModelFile:function(){return this.get("modelFile")},getDimensions:function(){var e=this.get("dimensions");return e?{width:parseFloat(e.width),height:parseFloat(e.height),depth:parseFloat(e.depth)}:null},getXYZ:function(){var e=this.get("xyz");return this._parseVector(e)},setXYZ:function(e){return this.set("xyz",e)},setDimensions:function(e){return this.set("dimensions",e)},getFloorPlanEnabled:function(){return this.get("floorPlanEnabled")},setFloorPlanEnabled:function(e){this.set("floorPlanEnabled",e)},getFloorPlanImageType:function(){return this.get("floorPlanImageType")},getMetaData:function(){return this.get("metadata")},setMetaData:function(e){return this.set("metadata",e)},getTableable:function(){return this.get("tableable")},setFloorPlanImageType:function(e){return this.set("floorPlanImageType",e)},getOptions:function(){return this.get("options")},setOptions:function(e){return this.set("options",e)},getModelVRScenePath:function(){return u.furnitureModelTable.getModelVRScenePath(this.getName())},getNodeVRScenePath:function(){return u.furnitureModelTable.getNodeVRScenePath(this.getName())},getTags:function(){return this.get("tags")},setTags:function(e){return this.set("tags",e)}},{addNewDefaultFurnitureAsync:function(e,t,n,r){var i=new this;return i.set("name",e),i.set("type",t),i.set("tags",n),i.set("options",r),i.set("locallyAvailable",!1),u._parseDebugWrapper("newFurniture.save",i.save,i)()},addNewFloorEditorModelAsync:function(e,t,n,r,i,o){var a=new this;return a.set("name",e),a.set("type",t),a.set("tags",n),a.set("dimensions",r),a.set("xyz",i),a.set("floorPlanEnabled",!0),a.set("floorPlanImageType",o),u._parseDebugWrapper("newFurniture.save",a.save,a)()},findAllFurnitureModelsAsync:function(e,t){var n=new Array,r=!1,i=0,o=1e3,a=this;return new Promise(function(s,l){var u=function(){var h=new c.Query(a);t&&t.limit&&(o=t.limit,r=!0),h.limit(o),t&&t.skip?(h.skip(t.skip||0),r=!0):t&&t.skipNumber?(h.skip(t.skipNumber||0),r=!0):h.skip(i),h.descending("updatedAt"),e=e||{};for(var d in e)h.equalTo(d,e[d]);h.find().then(function(e){n=n.concat(e),r||!e||e.length<o?s(n):(i+=o,u())},l)};u()})},findSingleFurnitureModelAsync:function(e){var t=new c.Query(this);return t.equalTo("name",e),u._parseDebugWrapper("furnituremodel.query(name).first",t.first,t)()},findSingleFurnitureModelByIdAsync:function(e){var t=new c.Query(this);return t.equalTo("objectId",e),u._parseDebugWrapper("furnituremodel.query(objectId).first",t.first,t)()},getModelVRScenePath:function(e){return"im-furniture:furniture/"+e+"/model.vrscene"},getNodeVRScenePath:function(e){return"im-furniture:furniture/"+e+"/node.vrscene"}}),u._fixBrokenPromisesForTable(u.furnitureModelTable),u.agentTable=c.Object.extend("Agent",{getFirstName:function(){return this.get("firstName")},setFirstName:function(e){return this.set("firstName",e)},getLastName:function(){return this.get("lastName")},setLastName:function(e){return this.set("lastName",e)},getEmail:function(){return this.get("email")},setEmail:function(e){return this.set("email",e)},getLicenceNumber:function(){return this.get("licenceNumber")},setLicenceNumber:function(e){return this.set("licenceNumber",e)},getUser:function(){return this.get("user")},setUser:function(e){return this.set("user",e)},getImageFile:function(){return this.get("imageFile")},setImageFile:function(e){return this.set("imageFile",e)},getOrganizationName:function(){return this.get("organizationName")},setOrganizationName:function(e){return this.set("organizationName",e)},getPhone:function(){return this.get("phoneNumber")},setPhone:function(e){return this.set("phoneNumber",e)}},{createLite:function(e){var t=new this,n=e.user;t.setUser(n),t.setFirstName(e.firstName),t.setLastName(e.lastName),t.setPhone(e.mobilePhoneNumber),t.setEmail(e.email),t.setImageFile(n?n.getProfileImage():void 0);var r=new c.ACL;return r.setPublicReadAccess(!0),r.setRoleWriteAccess("Admin",!0),r.setWriteAccess(n.id,!0),t.setACL(r),t},findAgentAsync:function(e){var t=new c.Query(this);return u._parseDebugWrapper("agent.query(id).get",t.get,t)(e)},findAgentByUserAsync:function(e){var t=u._buildQuery(this,"user",e);return u._parseDebugWrapper("agent.findAgentByUserAsync",t.first,t)()},findAgentWithEmailAsync:function(e){var t=new c.Query(this);return t.equalTo("email",e),u._parseDebugWrapper("agent.query(email).first",t.first,t)()},getAgentByFirstAndLastNameAsync:function(e,t){var n=new c.Query(this);return n.contains("firstName",e),n.contains("lastName",t),u._parseDebugWrapper("agent.query(firstName, lastName).get",n.first,n)()},saveAgent:function(e){return u._parseDebugWrapper("agent.save",e.save,e)()},createAgentAsync:function(e,t,n,r,i,o,a){var s=new this;s.set("email",e),s.set("firstName",t),s.set("lastName",n),s.set("organizationName",r),s.set("phoneNumber",i),s.set("thumbUrl",o),s.set("bre",a);var l=new c.ACL;return l.setPublicReadAccess(!0),l.setRoleWriteAccess("Admin",!0),l.setWriteAccess(user.id,!0),s.setACL(l),u._parseDebugWrapper("agent.save",s.save,s)()}}),u._fixBrokenPromisesForTable(u.agentTable),u.agentEmailTable=c.Object.extend("AgentEmail",{getEmail:function(){return this.get("email")},getProjectId:function(){return this.get("projectId")},getProjectPrefix:function(){return this.get("projectPrefix")}},{}),u._fixBrokenPromisesForTable(u.agentEmailTable),u.mailingListTable=c.Object.extend("MailingList",{getName:function(){return this.get("name")},getDescription:function(){return this.get("description")},getProductionMembers:function(){return this.get("productionMembers")},getDemoMembers:function(){return this.get("demoMembers")},getProductionRoleList:function(){return this.get("ProductionRoleList")},getDemoRoleList:function(){return this.get("DemoRoleList")},getSubscribersDemoRelation:function(){return this.relation("subscribersDemo")},getSubscribersProductionRelation:function(){return this.relation("subscribersProduction")},isNew:function(){return this.get("new")}},{CONTACT_US_SUBMISSION:"2GEkw81j0i",NEW_USERS:"opBqtdB6Yx",MODEL_3D:"BAy9ysVdOQ",ERRORS_IOS_ID:"eTpsMXJCWy",ERRORS_COMPUTER_VISION:"tJN4gzHV2Q",ERRORS_CLONING:"NAEo7oX66t",ERRORS_INFRASTRUCTURE:"uuQUugAAht",ROOM_SUBMITTED_ID:"mPRtwRYUvH",PROJECT_IDLE_ID:"yMQM7yReTo",PROJECT_SUBMITTED:"EuLpfQyNvq",PROJECT_OPERATOR_READY_ID:"7XTlTabXvq",PROJECT_MODELER_READY_ID:"wehOI9dsKe",PROJECT_FINISHED:"VjALSO5wes",OPERATORS_UTAH_ID:"GbGvyZnksY",OPERATORS_UKRAINE_ID:"B0lFDnfgQY",getAsync:function(e,t,n){return u._getAsyncHelper(this,e,t,n)},fetchAllAsync:function(){var e=new c.Query(this);return u._parseDebugWrapper("mailingList.query().find",e.find,e)()},fetchMailingLists:function(e){var t=new c.Query(this);return t.equalTo("new",!0),u._parseDebugWrapper("fetchMailingLists.query().find",t.find,t)(e)},fetchSubscribedMailingLists:function(e,t,n){var r=new c.Query(this);r.equalTo("new",!0),r.equalTo("subscribersDemo",e);var i=new c.Query(this);i.equalTo("new",!0),i.equalTo("subscribersProduction",e);var o;if(t&&n)o=c.Query.or(r,i);else if(t)o=r;else{if(!n)return null;o=i}return u._parseDebugWrapper("fetchSubscribedMailingLists.query().find",o.find,o)()}}),u._fixBrokenPromisesForTable(u.mailingListTable),u.deviceListTable=c.Object.extend("DeviceList",{getMacAddress:function(){return this.get("macAddress")},getSpinsCaptured:function(){return this.get("spinsCaptured")},getFirmwareVersion:function(){return this.get("firmwareVersion")},getLastCaptureType:function(){return this.get("lastCaptureType")},getNotes:function(){return this.get("notes")},getRevisionInfo:function(){return this.get("revisionInfo")},getLastUser:function(){return this.get("lastUser")},getLastLocation:function(){return this.get("lastLocation")},getName:function(){return this.get("name")},setMacAddress:function(e){return this.set("macAddress",e)},setSpinsCaptured:function(e){return this.set("spinsCaptured",e)},setFirmwareVersion:function(e){return this.set("firmwareVersion",e)},setLastCaptureType:function(e){return this.set("lastCaptureType",e)},setNotes:function(e){return this.set("notes",e)},setRevisionInfo:function(e){return this.set("revisionInfo",e)},setLastUser:function(e){return this.set("lastUser",e)},setLastLocation:function(e){return this.set("lastLocation",e)},setName:function(e){return this.set("name",e)},setRecentCity:function(e){return this.set("recentCity",e)},getRecentCity:function(e){return this.get("recentCity")}},{createNewDeviceAsync:function(e,t,n,r,i,o,a,s,l){var h=new this;h.set("macAddress",e),h.set("spinsCaptured",t),h.set("firmwareVersion",n),h.set("lastCaptureType",r),h.set("notes",i),h.set("revisionInfo",o),h.set("lastUser",a),h.set("lastLocation",s),h.set("recentCity",l);var d=new c.ACL;return d.setPublicReadAccess(!1),d.setRoleReadAccess("Operator",!0),d.setRoleWriteAccess("Operator",!0),h.setACL(d),u._parseDebugWrapper("newDevice.save",h.save,h)()},getDevicesAsync:function(){var e=new c.Query(this);return e.limit(200),e.include("lastUser"),e.descending("updatedAt"),u._parseDebugWrapper("deviceList.find",e.find,e)()},getDeviceByMacIDAsync:function(e){var t=new c.Query(this);return t.equalTo("macAddress",e),u._parseDebugWrapper("deviceList.find",t.first,t)()}}),u._fixBrokenPromisesForTable(u.deviceListTable)},_initializeEnvironmentDatabaseTables:function(e){var t=u.getDatabasePrefix(e),n={userTable:u.userTable,furnitureModelTable:u.furnitureModelTable,materialTable:u.materialTable,materialLibraryTable:u.materialLibraryTable,agentTable:u.agentTable,agentEmailTable:u.agentEmailTable,mailingListTable:u.mailingListTable,calibrationTable:u.calibrationTable};return n.maprTagsWalkthroughTable=c.Object.extend(t+"MaprTagsWalkthrough",{getImage:function(){return this.get("image")},setImage:function(e){return this.set("image",e)},getClientId:function(){return this.get("clientId")},setClientId:function(e){return this.set("clientId",e)},getTitle:function(){return this.get("title")},setTitle:function(e){return this.set("title",e)},getLink:function(){return this.get("link")},setLink:function(e){return this.set("link",e)},getVideoLink:function(){return this.get("videoLink")},setVideoLink:function(e){return this.set("videoLink",e)},getDescription:function(){return this.get("description")},setDescription:function(e){return this.set("description",e)},getDirection:function(){return this.get("direction")},setDirection:function(e){return this.set("direction",e)},getVisible:function(){return this.get("visible")},setVisible:function(e){return this.set("visible",e)},getRoomID:function(){return this.get("roomID")},setRoomID:function(e){return this.set("roomID",e)},getFloorID:function(){return this.get("floorID")},setFloorID:function(e){return this.set("floorID",e)},getProjectID:function(){return this.get("projectID")},setProjectID:function(e){return this.set("projectID",e)},getXPosition:function(){return this.get("xPosition")},setXPosition:function(e){return this.set("xPosition",e)},getYPosition:function(){return this.get("yPosition")},setYPosition:function(e){return this.set("yPosition",e)},getZPosition:function(){return this.get("zPosition")},setZPosition:function(e){return this.set("zPosition",e)},getIsOutside:function(){return this.get("isOutside")},setIsOutside:function(e){return this.set("isOutside",e)},getPlacementSpinResourceKey:function(){return this.get("placementSpinResourceKey")},setPlacementSpinResourceKey:function(e){return this.set("placementSpinResourceKey",e)},getTrifocalRotationMatrix:function(){return this.get("trifocalRotationMatrix")},setTrifocalRotationMatrix:function(e){return this.set("trifocalRotationMatrix",e)},getProject:function(){return this.get("project")},setProject:function(e){return this.set("project",e)},getFloor:function(){return this.get("floor")},setFloor:function(e){return this.set("floor",e)},getRoom:function(){return this.get("room")},setRoom:function(e){return this.set("room",e)},getSpinNumber:function(){return this.get("spinNumber")},setSpinNumber:function(e){return this.set("spinNumber",e)},getKeyframe:function(){return this.get("keyframe")},setKeyframe:function(e){return this.set("keyframe",e)},getKeyframeName:function(){return this.get("keyframeName")},setKeyframeName:function(e){return this.set("keyframeName",e)}},{getAsync:function(e,t,n){return u._getAsyncHelper(this,e,t,n)},findMaprTagsForProjectAsync:function(e){var t=u._buildQuery(this,"projectID",e);return Promise.resolve(t.find())},findMaprTagsForRoomAsync:function(e){var t=u._buildQuery(this,"roomID",e);return Promise.resolve(t.find())},findMaprTagsWithRoomPointerAsync:function(e){var t=u._buildQuery(this,"room",e);return Promise.resolve(t.find())},findMaprTagsWithProjectPointerAsync:function(e){var t=u._buildQuery(this,"project",e);return Promise.resolve(t.find())},findMaprTagWithClientIdAsync:function(e){var t=new c.Query(this);return t.equalTo("clientId",e),u._parseDebugWrapper("maprTag.query(findMaprTagWithClientIdAsync)",t.first,t)()}}),n.videoTemplateTable=c.Object.extend(t+"VideoTemplate",{getVideoBumperSet:function(){return this.get("videoBumperSet")},setVideoBumperSet:function(e){return this.set("videoBumperSet",e)},getSmallVideoBumperSet:function(){return this.set("smallVideoBumperSet")},setSmallVideoBumperSet:function(e){return this.set("smallVideoBumperSet",e)},getAddVideoBumperAtStart:function(){return this.get("addVideoBumperAtStart")},setAddVideoBumperAtStart:function(e){return this.set("addVideoBumperAtStart",e)},getAddVideoBumperAtEnd:function(){return this.get("addVideoBumperAtEnd")},setAddVideoBumperAtEnd:function(e){return this.set("addVideoBumperAtEnd",e)},getOrganization:function(){return this.get("organization")},setOrganization:function(e){return this.set("organization",e)},getAddLogoOnVideo:function(){return this.get("addLogoOnVideo");
},setAddLogoOnVideo:function(e){return this.set("addLogoOnVideo",e)},getAddAddressRoomNameOnVideo:function(){return this.get("addAddressRoomNameOnVideo")},setAddAddressRoomNameOnVideo:function(e){return this.set("addAddressRoomNameOnVideo",e)}},{findVideoTemplateForOrganizationAsync:function(e){var t=u._buildQuery(this,"organization",e);return Promise.resolve(t.first())}}),n.autobakeStatisticsTable=c.Object.extend(t+"AutobakeStatistics",{getAutobakePart:function(){return this.get("autobakePart")},setAutobakePart:function(e){return this.set("autobakePart",e)},getStartTime:function(){return this.get("startTime")},setStartTime:function(e){return this.set("startTime",e)},getEndTime:function(){return this.get("endTime")},setEndTime:function(e){return this.set("endTime",e)},getDurationMinutes:function(){return this.get("durationMinutes")},setDurationMinutes:function(e){return this.set("durationMinutes",e)},getProjectId:function(){return this.get("projectId")},setProjectId:function(e){return this.set("projectId",e)},getFloorId:function(){return this.get("floorId")},setFloorId:function(e){return this.set("floorId",e)}},{}),n.videoCaptureDataTable=c.Object.extend(t+"VideoCaptureData",{getCaptureData:function(){return this.get("captureData")},setCaptureData:function(e){return this.set("captureData",e)},getInProgress:function(){return this.get("inProgress")},setInProgress:function(e){return this.set("inProgress",e)},getCompleted:function(){return this.get("completed")},setCompleted:function(e){return this.set("completed",e)},getCaptureId:function(){return this.get("captureId")},setCaptureId:function(e){return this.set("captureId",e)}},{findCaptureTasksInProgressAsync:function(){var e=u._buildQuery(this,"inProgress","true");return Promise.resolve(e.find())},findCaptureTasksWaitingToBeProcessedAsync:function(){var e=u._buildQuery(this,"inProgress","false");return Promise.resolve(e.find())},findTasksWithCaptureIdAsync:function(e){var t=u._buildQuery(this,"captureId",e);return Promise.resolve(t.find())}}),n.projectTable=c.Object.extend(t+"Project",{getArea:function(){return this.get("area")},setArea:function(e){return this.set("area",e)},getLivableArea:function(){return this.get("livableArea")},setLivableArea:function(e){return this.set("livableArea",e)},getBillingInfo:function(){return this.get("billingInfo")},setBillingInfo:function(e){return this.set("billingInfo",e)},getItemName:function(){return this.get("itemName")},getUserItemName:function(){return this.get("userItemName")},getName:function(){return this.get("name")},setName:function(e){return this.set("name",e)},getStatus:function(){var e=this.get("status");return e||"undefined"},setStatus:function(e){return this.set("status",e)},isTest:function(){return this.get("test")},setTest:function(e){this.set("test",e)},getAppartmentNumber:function(){return this.get("appartmentNumber")},setAppartmentNumber:function(e){return this.set("appartmentNumber",e)},getStreet:function(){return this.get("street")},setStreet:function(e){return this.set("street",e)},getCity:function(){return this.get("city")},setCity:function(e){return this.set("city",e)},getState:function(){return this.get("state")},setState:function(e){return this.set("state",e)},getZip:function(){return this.get("zip")},setZip:function(e){return this.set("zip",e)},getCountry:function(){return this.get("country")},setCountry:function(e){return this.set("country",e)},getLogo:function(){return this.get("logo")},setLogo:function(e){return this.set("logo",e)},isUnbranded:function(){return this.get("unbranded")},setUnbranded:function(e){return this.set("unbranded",e)},getListingSettings:function(){return this.get("listingSettings")||{}},setListingSettings:function(e){return this.set("listingSettings",e)},getAppCreatedAt:function(){return this.get("appCreatedAt")},setAppCreatedAt:function(e){return this.set("appCreatedAt",e)},getRecentMaterialsForMaterialStep:function(){return this.get("recentMaterialsForMaterialStep")},setRecentMaterialsForMaterialStep:function(e){return this.set("recentMaterialsForMaterialStep",e)},getRecentlyUsedWallElementModels:function(){return this.get("recentWallElementModels")},setRecentlyUsedWallElementModels:function(e){return this.set("recentWallElementModels",e)},getProjectWallDefaultMaterial:function(){return this.get("projectWallDefaultMaterial")},setProjectWallDefaultMaterial:function(e){return this.set("projectWallDefaultMaterial",e)},areMetricImagesUploaded:function(){return this.get("areMetricImagesUploaded")},setAreMetricImagesUploaded:function(e){return this.set("areMetricImagesUploaded",e)},getCustomModelVersion:function(){return this.get("customModelVersion")},setCustomModelVersion:function(e){return this.set("customModelVersion",e)},getPaid:function(){return this.get("paid")||this.getPayment()},setPaid:function(e){return this.set("paid",e)},isUsingMetricSystem:function(){return this.get("usingMetricSystem")},setUsingMetricSystem:function(e){return this.set("usingMetricSystem",e)},getPayment:function(){return this.get("payment")},setPayment:function(e){return this.set("payment",e)},unsetPayment:function(){return this.unset("payment")},getInvoice:function(){return this.get("invoice")},setInvoice:function(e){return this.set("invoice",e)},unsetInvoice:function(){return this.unset("invoice")},getIssueData:function(){return this.get("issueData")},setIssueData:function(e){return this.set("issueData",e)},getPrice:function(){return this.get("price")},setPrice:function(e){return this.set("price",e)},getFloorPlanTemplate:function(){return this.get("floorPlanTemplate")},setFloorPlanTemplate:function(e){return this.set("floorPlanTemplate",e)},unsetFloorPlanTemplate:function(){return this.unset("floorPlanTemplate")},getFloorPlanVersion:function(){return this.get("floorPlanVersion")},increaseFloorPlanVersion:function(){var e=this.getFloorPlanVersion()||0;return this.set("floorPlanVersion",e+1)},getPriceTwoDigits:function(){var e=this.get("price"),t=e?Number(e.toFixed(2)):void 0;return t},getTags:function(){return this.get("tags")},setTags:function(e){return this.set("tags",e)},getAddress:function(){var e="",t=n.projectTable.ADDRESS_COLUMNS;return t.forEach(function(t){var n=this.get(t);n&&(e+=e?", "+n:n)}.bind(this)),e},getAddressForCSV:function(){var e="",t=n.projectTable.ADDRESS_COLUMNS;return t.forEach(function(t){var n=this.get(t)||" ";n=n.replace(/\,/g," djoka "),e+=e?", "+n:n}.bind(this)),e},urlsFileExists:function(){return this.get("urlsFile")},setUrlsFileExists:function(e){return this.set("urlsFile",e)},getDisableGoogleMaps:function(){return this.get("disableGoogleMaps")},setDisableGoogleMaps:function(e){return this.set("disableGoogleMaps",e)},getPreviousSelections:function(){return this.get("previousWallElements")},setPreviousSelections:function(e){return this.set("previousWallElements",e)},getActualAddressColumn:function(){return this.get("address")},getLat:function(){var e=this.get("latitude");return e&&0!==e?e:37.78803},getLon:function(){var e=this.get("longitude");return e&&0!==e?e:-122.407468},isClientProperty:function(){return this.get("clientModel")},isFinished:function(){return"finished"===this.get("status")},isPropertyReportGenerated:function(){return this.get("propertyReportGenerated")},setPropertyReportGenerated:function(e){return this.set("propertyReportGenerated",e)},getPropertyReportInfo:function(){return this.get("propertyReportInfo")},setPropertyReportInfo:function(e){return this.set("propertyReportInfo",e)},getDeleteMarker:function(){return this.get("deleteMarker")},setDeleteMarker:function(e){return this.set("deleteMarker",e)},getClientId:function(){return this.get("clientId")},setClientId:function(e){return this.set("clientId",e)},isRecovery:function(){return this.get("recovery")},setRecovery:function(e){return this.set("recovery",e)},isWaitingForInfo:function(){return this.get("waitingForInfo")},setWaitingForInfo:function(e){return this.set("waitingForInfo",e)},getRecoveryProjectAcl:function(){var e=new c.ACL;e.setRoleReadAccess("Developer",!0),e.setRoleWriteAccess("Developer",!0)},isCloned:function(){return this.get("cloned")},setCloned:function(e){return this.set("cloned",e)},getFavorited:function(){return this.get("favorited")},setFavorited:function(e){return this.set("favorited",e)},getAgent:function(){return this.get("agent")},setAgent:function(e){return this.set("agent",e)},getOrganization:function(){return this.get("organization")},setOrganization:function(e){return this.set("organization",e)},unsetOrganization:function(){return this.unset("organization")},getOperator:function(){return this.get("operator")},setOperator:function(e){return this.set("operator",e)},unsetOperator:function(){return this.unset("operator")},getOperatorQA:function(){return this.get("operatorQA")},setOperatorQA:function(e){return this.set("operatorQA",e)},unsetOperatorQA:function(){return this.unset("operatorQA")},getStatistics:function(){return this.get("statistics")},setStatistics:function(e){return this.set("statistics",e)},getUploadStatistics:function(){return this.get("uploadStatistics")},setUploadStatistics:function(e){return this.set("uploadStatistics",e)},getLoadMessage:function(){return this.get("loadMessage")},getPro:function(){return this.get("proModel")},setPro:function(e){return this.set("proModel",e)},getFancy:function(){return this.get("fancyName")},setFancy:function(e){return this.set("fancyName",e)},getInfoMessage:function(){return this.get("infoMessage")},getAgentDisplayName:function(){return this.get("agentDisplayName")},getAgentEmail:function(){return this.get("agentEmail")},getAgentPhotoUrl:function(){return this.get("agentPhotoUrl")},getAgentPhone:function(){return this.get("agentPhone")},getAgentSite:function(){return this.get("agentWebsite")},getPhotoSetCount:function(){return this.get("photoSetCount")},getPhotoPath:function(){return this.get("photoPath")},setPhotoPath:function(e){return this.set("photoPath",e)},setClone:function(e){return this.set("clone",e)},getClone:function(){return this.get("clone")},getPanoProject:function(){return this.get("panoProject")},setPanoProject:function(e){return this.set("panoProject",e)},getFirstPanoRoom:function(){return this.get("firstPanoRoom")},setFirstPanoRoom:function(e){return this.set("firstPanoRoom",e)},getCategory:function(){return this.get("category")},setCategory:function(e){return this.set("category",e)},getDesiredProduct:function(){return this.get("desiredProduct")},setDesiredProduct:function(e){return this.set("desiredProduct",e)},getRealEstatePhotosBoolean:function(){return this.get("realEstatePhotos")},getGeoLocation:function(){return this.get("geoLocation")},setGeoLocation:function(e){return this.set("geoLocation",e)},unsetGeoLocation:function(){return this.unset("geoLocation")},getGeoLocationOriginal:function(){return this.get("geoLocationOriginal")},setGeoLocationOriginal:function(e){return this.set("geoLocationOriginal",e)},unsetGeoLocationOriginal:function(){return this.unset("geoLocationOriginal")},getModeler:function(){return this.get("modeler")},setModeler:function(e){return this.set("modeler",e)},unsetModeler:function(){return this.unset("modeler")},getModelerReadyAt:function(){return this.get("modelerReadyAt")},setModelerReadyAt:function(e){return this.set("modelerReadyAt",e)},getProcessingReadyAt:function(){return this.get("processingReadyAt")},setProcessingReadyAt:function(e){return this.set("processingReadyAt",e)},getAgentAssignedAt:function(){return this.get("agentAssignedAt")},setAgentAssignedAt:function(e){return this.set("agentAssignedAt",e)},getCustomBackgroundImage:function(){return this.get("customBackgroundImage")},setCustomBackgroundImage:function(e){return this.set("customBackgroundImage",e)},getCustomModelSplash:function(){return this.get("customModelSplash")},setCustomModelSplash:function(e){return this.set("customModelSplash",e)},setWalkthroughWaypoints:function(e){return this.set("walkthroughWaypoints",e)},getWalkthroughWaypoints:function(){return this.get("walkthroughWaypoints")},getVideoCapturePath:function(){return this.get("videoCapturePath")},setVideoCapturePath:function(e){return this.set("videoCapturePath",e)},getDisabledPanos:function(){return this.get("disabledPanos")},setDisabledPanos:function(e){return this.set("disabledPanos",e)},setRealEstatePhotosBoolean:function(e){this.set("realEstatePhotos",e)},getBannerImage:function(){return this.get("bannerImage")},setBannerImage:function(e){return this.set("bannerImage",e)},getHDRPhotos:function(){return this.get("hdrPhotos")},setHDRPhotos:function(e){return this.set("hdrPhotos",e)},isVip:function(){return this.get("vip")},setVip:function(e){return this.set("vip",e)},getAlternateEmail:function(){return this.get("alternateEmail")},setAlternateEmail:function(e){return this.set("alternateEmail",e)},getStreetviewData:function(){return this.get("streetviewData")},setStreetviewData:function(e){return this.set("streetviewData",e)},getWalkthroughVideos:function(){return this.get("walkthroughVideos")},setWalkthroughVideos:function(e){return this.set("walkthroughVideos",e)},addVideo:function(e){for(var t=this.getWalkthroughVideos()||[],n=!1,r=0;r<t.length;r++)t[r].indexOf(e)>-1&&(n=!0,t[r]=e);return n===!1&&t.push(e),this.setWalkthroughVideos(t)},getPropertyInfo:function(){return this.get("propertyInformation")},isLocked:function(){return this.get("locked")},setLocked:function(e){return this.set("locked",e)},getThumb:function(){var e=this.get("thumbnail"),t=e?e.url():void 0;return t||"/img/im-example-image-cropped.jpg"},isVIP:function(){return!!this.get("vip")},setVIP:function(e){return this.set("vip",!!e)},hasScreenshot:function(){var e=this.get("screenshot"),t=e?e.url():void 0;return t},getScreenshotUrl:function(){var e=this.get("screenshot"),t=e?e.url():void 0;return t||"/app/main-website/Showcase_3.jpg"},getUser:function(){return this.get("user")},setUser:function(e){return this.set("user",e)},unsetUser:function(){return this.unset("user")},getMaterialOverrideProperties:function(){return this.get("materialOverrideProperties")||{}},setPhotoSetCount:function(e){this.set("photoSetCount",e)},setMaterialOverrideProperties:function(e){this.set("materialOverrideProperties",e||{})},resetACL:function(){var e=new c.ACL;return this.setACL(e),this},getCustomLogoUrl:function(){return this.get("customLogoUrl")},setCustomLogoUrl:function(e){return e?this.set("customLogoUrl",e):this.unset("customLogoUrl")},getDetailedStatus:function(){return this.get("detailedStatus")},setDetailedStatus:function(e){return this.set("detailedStatus",e)},setAgentInfo:function(e){return this.set("agentInfo",e)},getAgentInfo:function(){return this.get("agentInfo")||{}},deepClone:function(){var e=this.clone();return e.setAgentInfo(JSON.parse(JSON.stringify(this.getAgentInfo()))),e.setListingSettings(JSON.parse(JSON.stringify(this.getListingSettings()))),e},setHasCriticalIssues:function(e){return this.set("hasCriticalIssues",e)},hasCriticalIssues:function(){return this.get("hasCriticalIssues")},setPriority:function(e){return this.set("priority",e)},getPriority:function(){return this.get("priority")||n.projectTable.PRIORITIES.standard},setProjectInfo:function(e){return this.set("projectInfo",e)},getProjectInfo:function(){return this.get("projectInfo")},setMarketingProject:function(e){return this.set("marketingProject",e)},unsetMarketingProject:function(){return this.unset("marketingProject")},getMarketingProject:function(){return this.get("marketingProject")},setInspectionProject:function(e){return this.set("inspectionProject",e)},unsetInspectionProject:function(){return this.unset("inspectionProject")},getInspectionProject:function(){return this.get("inspectionProject")},getSpinHeightExplicitlySet:function(){return this.get("spinHeightExplicitlySet")},setSpinHeightExplicitlySet:function(e){return this.set("spinHeightExplicitlySet",e)},getHybridPanoTourExistsFlag:function(){return this.get("hybridPanoTourExists")},setHybridPanoTourExistsFlag:function(e){return this.set("hybridPanoTourExists",e)}},{INFO_CHANGE_TYPE:{DELETION:"deletion",RENAMING:"renaming"},PROJECT_DETAILED_STATUS:{ROOMS_CREATED:"RoomsCreated",ROOMS_CAPTURED:"RoomsCaptured",ROOMS_SUBMITTED:"RoomsSubmitted",ROOMS_DONE:"RoomsDone"},PROJECT_STATUS:{DEFINED:"defined",SUBMITTED:"submitted",READY:"ready",OPERATOR_ASSIGNED:"operator_assigned",READY_FOR_OPERATOR_QA:"ready_for_operator_qa",OPERATOR_QA:"operator_qa",FINISHED:"finished"},PRIORITIES:{ignore:-100,standard:0,high:100},ADDRESS_COLUMNS:["street","city","state","zip","country"],getAsync:function(e,t,n){return u._getAsyncHelper(this,e,t,n)},findProjectWithClientIdAsync:function(e,t){var n=u._buildQuery(this,"clientId",e);return u._addIncludesToQuery(n,t),u._parseDebugWrapper("project.findRoomWithClientIdAsync",n.first,n)()},findMultipleProjectWithClientIdAsync:function(e,t){var n=u._buildQuery(this,"clientId",e);return u._addIncludesToQuery(n,t),u._parseDebugWrapper("project.findMultipleProjectWithClientIdAsync",n.find,n)()},findUpdatedProjects:function(e,t,n){var r;if(t){var i=new c.Query(this);i.equalTo("status","finished");var o=new c.Query(this);o.exists("detailedStatus.UnlockedAt"),r=c.Query.or(i,o)}else r=new c.Query(this);return n||(console.debug("including deleted projects"),r.notEqualTo("deleteMarker",!0)),r.greaterThan("updatedAt",new Date(t)),r.equalTo("user",e),r.limit(1e6),u._parseDebugWrapper("project.query(findUpdatedProjects)",r.find,r)()},findProjectAsync:function(e,t,n){return u._getAsyncHelper(this,e,t,n)},findProjectByCustomDomainAsync:function(e){var t=new c.Query(this);return t.equalTo("customDomain",e),u._parseDebugWrapper("project.query(customDomain)",t.first,t)()},findProjectByFancyNameAsync:function(e){var t=new c.Query(this);return t.equalTo("fancyName",e),u._parseDebugWrapper("project.query(fancyName)",t.first,t)()},findProjectByProModelAsync:function(e){var t=new c.Query(this);return t.equalTo("proModel",e),u._parseDebugWrapper("project.query(proModel)",t.first,t)()},findUnpairedInspectionProjectsForOrganizations:function(e,t){var n=new c.Query(this);for(var r in t)n.equalTo("desiredProduct."+r,t[r]);return n.containedIn("organization",e),n.doesNotExist("marketingProject"),u._parseDebugWrapper("project.findUnpairedMarketingProjectsForOrganizations",n.find,n)()},findNullImageCountProjects:function(){var e=new c.Query(this);return e.equalTo("status","defined"),e.doesNotExist("imageCount"),e.limit(1e6),u._parseDebugWrapper("project.findNullImageCountProjects",e.find,e)()},createProjectAsync:function(e,t,n,r,i,o,a,s){var l=new this;l.set("user",e),l.set("name",t),l.set("street",n),l.set("city",r),l.set("country",i),l.set("originalBucketName",a),l.set("clientId",s),l.set("paid",!1),l.set("status","defined"),l.set("price",0),l.set("discount",0),l.set("latitude",0),l.set("longitude",0),l.set("versionCode",2);var h=new c.ACL;return h.setPublicReadAccess(!!o),l.setACL(h),u._parseDebugWrapper("newProject.save",l.save,l)()},createRequestedProjectAsync:function(e){var t=new this;t.setACL(new c.ACL);var n=a.PACKAGES[e.pricingPackage];return n?(a.setPricingPackageForProject(t,n),t.set("status","created"),t.set("organization",e.organization),t.set("name",e.name),t.saveAsync()):Promise.reject("Invalid or missing pricing package.")},createPointer:function(e){var t=new n.projectTable;return t.id=e,t},_getRecentProjectsQuery:function(e,t,r,i,o,a,s,l){e=e||100;var h=new c.Query(this);if(h.descending("createdAt"),h.notEqualTo("deleteMarker",!0),h.include("user"),h.include("organization"),h.include("operator"),"my"===o){var d=u.userTable.getPointerFromId(r);h.equalTo("operator",d)}else o&&"ignore"!==o&&h.equalTo("status",o);if(o&&"my"!==o||h.containedIn("status",i),"ignore"===o?h.equalTo("priority",n.projectTable.PRIORITIES.ignore):h.containedIn("priority",[void 0,n.projectTable.PRIORITIES.high,n.projectTable.PRIORITIES.standard]),a.userEmail){var f=new c.Query("_User");f.contains("email",a.userEmail),h.matchesQuery("user",f)}return a.id&&h.matches("objectId",new RegExp("^.*"+a.id+".*$")),a.name&&h.matches("name",new RegExp("^.*"+a.name+".*$","i")),a.address&&h.matches("street",new RegExp("^.*"+a.address+".*$","i")),a.status&&h.matches("status",new RegExp("^.*"+a.status+".*$","i")),a.lessThanCreatedAt&&h.lessThan("createdAt",a.lessThanCreatedAt),s&&h.greaterThanOrEqualTo("createdAt",s),l&&h.notEqualTo("cloned",!0),h.limit(e),t&&h.skip(t),h},getAllFinishedSinceDate:function(e,t){var n=1e3,r=[];return this.getRecentProjectsAsync(n,void 0,void 0,[this.PROJECT_STATUS.FINISHED],void 0,{lessThanCreatedAt:t},e,!0).then(function(t){if(t.length===n){r=t;var i=t[t.length-1].createdAt;return this.getAllFinishedSinceDate(e,i)}return Promise.resolve(t)}.bind(this)).then(function(e){return r=r.concat(e)}.bind(this))},getRecentProjectsAsync:function(e,t,n,r,i,o,a,s,l){var h=null;if(l){var d=this._getRecentProjectsQuery(1e3,0,n,r,i,o,a,s);d.equalTo("vip",!0),d.notEqualTo("status","finished"),d.select("objectId"),d.descending("createdAt");var f=this._getRecentProjectsQuery(e,t,n,r,i,o,a,s);f.matchesKeyInQuery("objectId","objectId",d),f.descending("vip"),f.addDescending("createdAt");var p=this._getRecentProjectsQuery(e,t,n,r,i,o,a,s);p.doesNotMatchKeyInQuery("objectId","objectId",d),h=c.Query.or.apply(this,[f,p]),h.descending("createdAt"),h.include("user"),h.include("organization"),h.include("operator"),h.limit(e),t&&h.skip(t)}else h=this._getRecentProjectsQuery(e,t,n,r,i,o,a,s);return u._parseDebugWrapper("project.query(user).find",h.find,h)()},findProjectWithItemNameAsync:function(e){var t=new c.Query(this);return t.equalTo("itemName",e),u._parseDebugWrapper("project.query(itemName).first",t.first,t)()},listProjectsForUserAsync:function(e,t,n,r,i){var o=new c.Query(this);return o.equalTo("user",e),o.notEqualTo("deleteMarker",!0),o.descending("createdAt"),o.limit(48),r&&o.containsAll("tags",r),n&&o.skip(n),u._parseDebugWrapper("project.query(user).find",o.find,o)()},listPrivateProjectsForUserAsync:function(e){var t={equals:{user:e},doesNotExist:["organization"]};return u.listObjects({table:this,searchParams:t})},listProjectsForUserAndOrgsAsync:function(e,t,n,r,i,o,a){var s=new c.Query(this);s.equalTo("user",e);var l=new c.Query(this);l.containedIn("organization",i);var h=c.Query.or(s,l);if(h.notEqualTo("deleteMarker",!0),r&&h.containsAll("tags",r),n&&h.skip(n),o&&h.limit(o),a)for(var d in a){var f=a[d],p=f.substring(0,1),m=f.substring(1);"-"==p?h.addDescending(m):"+"==p&&h.addAscending(m)}else h.descending("createdAt");return u._parseDebugWrapper("project.mainQuery(user).find",h.find,h)()},listOtherProjectsWithPro:function(e,t,n){var r=new c.Query(this);return r.notEqualTo("user",e),r.notEqualTo("deleteMarker",!0),r.notEqualTo("clientModel",!0),r.exists("proModel"),r.descending("updatedAt"),r.limit(48),n&&r.skip(n),u._parseDebugWrapper("project.query(!user, pro).find",r.find,r)()},listOtherProjectsWithoutPro:function(e,t,n){var r=new c.Query(this);return r.notEqualTo("user",e),r.notEqualTo("clientModel",!0),r.notEqualTo("deleteMarker",!0),r.doesNotExist("proModel"),r.descending("updatedAt"),r.limit(48),n&&r.skip(n),u._parseDebugWrapper("project.query(!user, !pro).find",r.find,r)()},listOtherProjectsAsync:function(e,t,n){var r=new c.Query(this);return r.notEqualTo("user",e),r.notEqualTo("deleteMarker",!0),r.notEqualTo("clientModel",!0),r.exists("proModel"),r.descending("proModel,updatedAt"),r.limit(48),n&&r.skip(n),i.core.toPromise({proModels:u._parseDebugWrapper("project.query(!user).find",r.find,r)()})},listProjectsForCategoryAsync:function(e,t,n){var r=new c.Query(this);return r.equalTo("category",e),r.addDescending("updatedAt"),r.limit(48),n&&r.skip(n),u._parseDebugWrapper("project.query.listProjectsForCategory",r.find,r)()},listProjectsWithLocation:function(e){var t=new c.Query(this);t.notEqualTo("category","test"),t.exists("geoLocation"),t.greaterThanOrEqualTo("createdAt",new Date("2013-01-01T21:00:00")),t.notEqualTo("deleteMarker",!0),t.notEqualTo("cloned",!0),t.equalTo("status","finished");var n=new c.Query(this);n.notEqualTo("category","test"),n.exists("geoLocation"),n.exists("proModel"),n.notEqualTo("deleteMarker",!0),n.notEqualTo("cloned",!0),n.equalTo("status","finished");var r=c.Query.or(t,n);return r.limit(4e3),e&&r.skip(e),u._parseDebugWrapper("project.query.listProjectsForCategory",r.find,r)()},listProjectsForDeveloperTesting:function(e,t,n){var r=new c.Query(this);return r.equalTo("developerTesting",!0),r.notEqualTo("deleteMarker",!0),r.descending("proModel"),r.addDescending("updatedAt"),r.limit(48),n&&r.skip(n),u._parseDebugWrapper("project.query(user).findDeveloperProjects",r.find,r)()},listClientProjectsAsync:function(e,t){var n=new c.Query(this);return n.equalTo("clientModel",!0),n.notEqualTo("deleteMarker",!0),n.descending("proModel"),n.addDescending("updatedAt"),n.limit(48),t&&n.skip(t),u._parseDebugWrapper("project.query(user).findClientProjects",n.find,n)()},listCloneProjects:function(e){var t=new c.Query(this);return t.equalTo("clone",!0),t.notEqualTo("deleteMarker",!0),t.descending("proModel"),t.addDescending("updatedAt"),t.limit(48),e&&t.skip(e),u._parseDebugWrapper("project.query().findCloneProjects",t.find,t)()},findNumberOfNameStartingWithAsync:function(e){var t=new c.Query(this);return t.startsWith("name",e),t.count()},findProjectWithPartialName:function(e,t){e=u._escapeRegexReservedChars(e);var n=new c.Query(this);return n.limit(1e3),t&&n.equalTo("user",t),n.matches("name",new RegExp("^."+e+".$","i")),n.notEqualTo("deleteMarker",!0),n.descending("updatedAt"),u._parseDebugWrapper("project.query.findAllProjects",n.find,n)()},findProjectWithPartialNameForUserAndOrg:function(e,t,n,r,i,o,a,s,l){e=u._escapeRegexReservedChars(e),e||(e="");var h=!t||0==t.length||"all"==t[0]||!e,d=e&&t.length>0&&t.indexOf("title")>=0||h,f=e&&t.length>0&&t.indexOf("address")>=0||h,p=e&&t.length>0&&t.indexOf("organization")>=0||h,m=e&&t.length>0&&t.indexOf("tags")>=0||h,g=null;if(e&&e.indexOf(",")>=0?g=e.replace(/\\/g,"").split(","):e&&(g=[e]),g)for(var v in g)g[v]=g[v].trim();var b=[],y=new c.Query(this);y.equalTo("user",n),d&&y.matches("name",new RegExp("^.*"+e+".*$","i"));var w=new c.Query(this);w.equalTo("user",n),f&&w.matches("street",new RegExp("^.*"+e+".*$","i"));var _=new c.Query(this);if(_.equalTo("user",n),p){var x=r.filter(function(t){var n=t.getName()||"";return n.search(new RegExp(e,"i"))!==-1}.bind(this));_.containedIn("organization",x)}var k=new c.Query(this);if(k.equalTo("user",n),g&&m&&k.containsAll("tags",g),d&&b.push(y),f&&b.push(w),g&&m&&b.push(k),p&&b.push(_),r&&r.length>0&&p){var S=new c.Query(this);S.containedIn("organization",r),S.matches("name",new RegExp("^.*"+e+".*$","i"));var j=new c.Query(this);j.containedIn("organization",r),j.matches("street",new RegExp("^.*"+e+".*$","i"));var P=new c.Query(this);S.containedIn("organization",r),g&&P.containsAll("tags",g),b.push(S),b.push(j),g&&b.push(P)}if(0==b.length)return c.Promise.as([]);var E=c.Query.or.apply(this,b);if(E.notEqualTo("deleteMarker",!0),o&&E.skip(o),a&&E.limit(a),l)for(var v in l){var A=0==v.indexOf("!");if(A){var T=v.substring(1);"[object Array]"===Object.prototype.toString.call(l[v])?E.notContainedIn(T,l[v]):E.notEqualTo(T,l[v])}else"[object Array]"===Object.prototype.toString.call(l[v])?E.containedIn(v,l[v]):E.equalTo(v,l[v])}if(s)for(var v in s){var C=s[v],M=C.substring(0,1),T=C.substring(1);"-"==M?E.addDescending(T):"+"==M&&E.addAscending(T)}else E.descending("createdAt");return E.include("organization"),u._parseDebugWrapper("project.mainQuery(user).find",E.find,E)()},listRecentProjectsCustomerSupport:function(e,t,n,r){var i=new c.Query(this),o=32;if(i.limit(o),e){var a=new c.Query("_User");a.matches("email",new RegExp("^.*"+e+".*$","i")),i.matchesQuery("user",a)}return n&&i.matches("name",new RegExp("^.*"+n+".*$","i")),t&&i.matches("street",new RegExp("^.*"+t+".*$","i")),r&&i.skip(r*o),i.notEqualTo("deleteMarker",!0),i.descending("createdAt"),u._addIncludesToQuery(i,["user","payment"]),u._parseDebugWrapper("project.query.findAllProjects",i.find,i)()},listProjectsForOrganization:function(e){var t={equals:{organization:e},notEqualTo:{cloned:!0}};return u.listObjects({table:this,searchParams:t})},findProjectsWithFloorPlanTemplate:function(e){var t={equals:{floorPlanTemplate:e}};return u.listObjects({table:this,searchParams:t})},listNonDeletedProjects:function(e){var t=e.notEqualTo||{};return t.deleteMarker=!0,e.notEqualTo=t,u.listObjects({table:this,searchParams:e})},listProjectsWithAddress:function(e,t){var r=new c.Query(this);if(t){var i=n.projectTable.ADDRESS_COLUMNS,o=i.map(function(e){var n=new c.Query(this);return n.matches(e,new RegExp("^.*"+t+".*$","i")),n}.bind(this));r=c.Query.or.apply(this,o)}return u.listObjects({query:r,searchParams:e})},listProjects:function(e){return u.listObjects({table:this,searchParams:e})}}),u._fixBrokenPromisesForTable(n.projectTable),n.photoTable=c.Object.extend(t+"Photo",{getPhotoName:function(){return this.get("virtualTourPhotoName")}},{findPhotosForFloorAsync:function(e){var t=new c.Query(this);return t.equalTo("floor",e),t.limit(1e3),u._parseDebugWrapper("photo.query(floor).findPhotos",t.find,t)()}}),n.projectLogTable=c.Object.extend(t+"ProjectLog",{getUser:function(){return this.get("user")},getTimeStamp:function(){return this.get("createdAt")},getEvent:function(){return this.get("event")},getMessage:function(){return this.get("message")},getUsername:function(){return this.get("username")},getLogData:function(){return this.get("logData")}},{createLogEntry:function(e,t,n,r,i,o){var a=new this;return a.set("project",e),t.id&&a.set("user",t),a.set("event",n),a.set("message",r),a.set("username",i),a.set("logData",o),a},findProjectLogsAsync:function(e){var t=new c.Query(this);return t.equalTo("project",e),t.ascending("createdAt"),t.limit(1e3),u._parseDebugWrapper("projectLog.query().findProjectLogs",t.find,t)()},deleteLogEntry:function(e){return u._getAsyncHelper(this,e.id).then(function(e){e.destroy()})}}),n.floorTable=c.Object.extend(t+"Floor",{getFloorPlanVersion:function(){return this.get("floorPlanVersion")},increaseFloorPlanVersion:function(){var e=this.getFloorPlanVersion()+1;return this.set("floorPlanVersion",e)},getOperatorNotes:function(){return this.get("operatorNotes")},setOperatorNotes:function(e){return this.set("operatorNotes",e)},getArea:function(){return this.get("area")},setArea:function(e){return this.set("area",e)},getHeight:function(){return this.get("height")},setHeight:function(e){return this.set("height",e)},getIndex:function(){return this.get("index")},setIndex:function(e){return this.set("index",e)},getItemName:function(){return this.get("itemName")},setItemName:function(e){return this.set("itemName",e)},getLeftMargin:function(){return this.get("leftMargin")},setLeftMargin:function(e){return this.set("leftMargin",e)},getLightmappedAt:function(){return this.get("lightmappedAt")},setLightmappedAt:function(e){return this.set("lightmappedAt",e)},getName:function(){return this.get("name")},setName:function(e){return this.set("name",e)},getProject:function(){return this.get("project")},setProject:function(e){return this.set("project",e)},getClientId:function(){return this.get("clientId")},setClientId:function(e){return this.set("clientId",e)},getProjectItemName:function(){return this.get("projectItemName")},setProjectItemName:function(e){return this.set("projectItemName",e)},getTag:function(){return this.get("tag")},setTag:function(e){this.set("tag",e)},getTopMargin:function(){return this.get("topMargin")},setTopMargin:function(e){return this.set("topMargin",e)},getUserGoogleEmail:function(){return this.get("userGoogleEmail")},setUserGoogleEmail:function(e){return this.set("userGoogleEmail",e)},getUserItemName:function(){return this.get("userItemName")},setUserItemName:function(e){return this.set("userItemName",e)},getVersionCode:function(){return this.get("versionCode")},setVersionCode:function(e){return this.set("versionCode",e)},getWidth:function(){return this.get("width")},setWidth:function(e){return this.set("width",e);
},getSpawn:function(){return this.get("spawnPoint")},setSpawn:function(e){this.set("spawnPoint",e)},getLeaderPosition:function(){return this.get("leaderPosition")},setLeaderPosition:function(e){this.set("leaderPosition",e)},getJsFile:function(){return this.get("jsFile")},setJsFile:function(e){this.set("jsFile",e)},getFlyby:function(){return this.get("flyby")},getOrderNumber:function(){return this.get("floorOrder")},setOrderNumber:function(e){return this.set("floorOrder",e)},getScale:function(){return this.get("scale")},setScale:function(e){return this.set("scale",e)},getStairs:function(){return this.get("stairs")},setStairs:function(e){return this.set("stairs",e)},getExportPlan:function(){return this.get("exportPlan")},setExportPlan:function(e){this.set("exportPlan",e)},getHotspots:function(){return this.get("hotspots")},setHotspots:function(e){return this.set("hotspots",e)},getPanoInfo:function(){return this.get("panoInfo")},setPanoInfo:function(e){return this.set("panoInfo",e)},getIsLabelEditorEnabled:function(){return this.get("isLabelEditorEnabled")},setIsLabelEditorEnabled:function(e){return this.set("isLabelEditorEnabled",e)},isDeleted:function(){return this.get("isDeleted")},setDeleted:function(e){return this.set("isDeleted",e)},isVisibilityGraphValid:function(){return this.get("visibilityGraphValid")},setVisibilityGraphValid:function(e){return this.set("visibilityGraphValid",e)},getLivableArea:function(){return this.get("livableArea")},setLivableArea:function(e){return this.set("livableArea",e)}},{JSON_VERSION:3,create:function(e){var t=e.project,n=e.name,r=new this;return r.setProject(t),r.setName(n),r.setACL(t.getACL()),r},createPointer:function(e){var t=new n.floorTable;return t.id=e,t},createAsync:function(e){var t=this.create(e);return t.saveAsync()},getAsync:function(e,t){return u._getAsyncHelper(this,e,t)},findFloorWithIdAsync:function(e,t){return t=t||[],t.shift("project"),u._getAsyncHelper(this,e,t)},findFloorWithClientIdAsync:function(e,t){var n=u._buildQuery(this,"clientId",e);return u._addIncludesToQuery(n,t),u._parseDebugWrapper("project.findFloorWithClientIdAsync",n.first,n)()},listFloorsForProjectAsync:function(e,t){var n=new c.Query(this);return n.equalTo("project",e),n.notEqualTo("isDeleted",!0),n.ascending("floorOrder"),u._addIncludesToQuery(n,t),u._parseDebugWrapper("floor.query(project).find",n.find,n)()},listDeletedFloorsForProjectAsync:function(e,t){var n=new c.Query(this);return n.equalTo("project",e),n.equalTo("isDeleted",!0),n.ascending("floorOrder"),u._addIncludesToQuery(n,t),u._parseDebugWrapper("floor.query(project).find",n.find,n)()},listFloors:function(e){return u.listObjects({table:this,searchParams:e})}}),u._fixBrokenPromisesForTable(n.floorTable),n.roomTable=c.Object.extend(t+"Room",{getTriangulatorHeight:function(){return this.get("triangulatorHeight")},setTriangulatorHeight:function(e){return this.set("triangulatorHeight",e)},getCaptureCameraHeight:function(){return this.get("captureCameraHeight")},setCaptureCameraHeight:function(e){return this.set("captureCameraHeight",e)},getProjectIndex:function(){return this.get("projectIndex")},setProjectIndex:function(e){return this.set("projectIndex",e)},getName:function(){return this.get("name")},setName:function(e){return this.set("name",e)},setClientId:function(e){return this.set("clientId",e)},getClientId:function(){return this.get("clientId")},getBlurredPanos:function(){return this.get("blurredPanos")},setBlurredPanos:function(e){return this.set("blurredPanos",e)},getHybridPanos:function(){return this.get("hybridPanos")},setHybridPanos:function(e){return this.set("hybridPanos",e)},getSpinInfoList:function(){return this.get("spinInfoList")},setSpinInfoList:function(e){return this.set("spinInfoList",e)},getVersionCode:function(){return this.get("versionCode")},setVersionCode:function(e){return this.set("versionCode",e)},unsetVersionCode:function(){return this.unset("versionCode")},getProject:function(){return this.get("project")},setProject:function(e){return this.set("project",e)},getFloor:function(){return this.get("floor")},setFloor:function(e){return this.set("floor",e)},getFloorMaterial:function(){return this.get("floorMaterial")},setFloorMaterial:function(e){return this.set("floorMaterial",e)},getCorners:function(){return this.get("corners")},setCorners:function(e){return this.set("corners",e)},getPlaced:function(){return this.get("placed")},isPlaced:function(){return this.get("placed")},setPlaced:function(e){return this.set("placed",e)},getFloorHeightOffset:function(){return this.get("floorHeightOffset")},setFloorHeightOffset:function(e){return this.set("floorHeightOffset",e)},getCeilingHeightOffset:function(){return this.get("ceilingHeightOffset")},setCeilingHeightOffset:function(e){return this.set("ceilingHeightOffset",e)},isProcessed:function(){return this.get("processed")},setProcessed:function(e){return this.set("processed",e)},getRemoteId:function(){return this.get("remoteId")},setRemoteId:function(e){return this.set("remoteId",e)},getRotation:function(){return this.get("rotation")},setRotation:function(e){return this.set("rotation",e)},getWidth:function(){return this.get("width")},setWidth:function(e){return this.set("width",e)},getHeight:function(){return this.get("height")},setHeight:function(e){return this.set("height",e)},getX:function(){return this.get("x")},setX:function(e){return this.set("x",e)},getY:function(){return this.get("y")},setY:function(e){return this.set("y",e)},getRoomTransformation:function(){return this.get("roomTransformation")},setRoomTransformation:function(e){return this.set("roomTransformation",e)},getOriginalRoom:function(){return this.get("originalRoom")||e+":"+this.id},setOriginalRoom:function(e){return this.set("originalRoom",e)},getFirstPhoto:function(){return this.get("firstPhoto")},setFirstPhoto:function(e){return this.set("firstPhoto",e)},getPhotoSequence:function(){return this.get("photoSequence")},setPhotoSequence:function(e){return this.set("photoSequence",e)},getArea:function(){return this.get("area")},setArea:function(e){return this.set("area",e)},getMobileStatus:function(){return this.get("mobileStatus")},setMobileStatus:function(e){return this.set("mobileStatus",e)},getCaptureSessions:function(){return this.get("captureSessions")},setCaptureSessions:function(e){return this.set("captureSessions",e)},getCaptureType:function(){return this.get("captureType")},setCaptureType:function(e){return this.set("captureType",e)},getHDRPhotos:function(){return this.get("hdrPhotos")},setHDRPhotos:function(e){return this.set("hdrPhotos",e)},getExcludedPhotos:function(){return this.get("excludedPhotos")},setExcludedPhotos:function(e){return this.set("excludedPhotos",e)},getStatus:function(){return this.get("status")},setStatus:function(e){return this.set("status",e)},getSubmitted:function(){return this.get("submitted")},setSubmitted:function(e){return this.set("submitted",e)},getReady:function(){return this.get("ready")},setReady:function(e){return this.set("ready",e)},isSkippedInTriangulator:function(){return this.get("isSkippedInTriangulator")},setSkippedInTriangulator:function(e){return this.set("isSkippedInTriangulator",e)},isMobile:function(){return"iphone"===this.getCaptureType()},getTrifocalSpinData:function(){return this.get("trifocalSpinData")},setTrifocalSpinData:function(e){return this.set("trifocalSpinData",e)},hasMeshOverride:function(){return this.get("hasMeshOverride")},setMeshOverride:function(e){return this.set("hasMeshOverride",e)},getTrifocalData:function(){var e=this.get("trifocalData");return e&&(e=JSON.parse(e)),""===e?void 0:e},setTrifocalData:function(e){return this.set("trifocalData",JSON.stringify(e)),this},clearTrifocalData:function(){var e={};return e[Date.now()]={step:"waiting",success:!0},console.info("setting trifocal data to "+JSON.stringify(e)),this.set("trifocalData",JSON.stringify(e))},getLastTrifocalDateTag:function(){var e,t=this.getTrifocalData();if(i.core.isObject(t)){var n=Object.keys(t).sort(function(e,t){return e<t});if(n.length>1)return n[n.length-1]}return e},getCenterX:function(){return this.get("centerX")},setCenterX:function(e){return this.set("centerX",e)},getCenterY:function(){return this.get("centerY")},setCenterY:function(e){return this.set("centerY",e)},isDeleted:function(){return this.get("deleted")},setDeleted:function(e){return this.set("deleted",e)},getDescription:function(){return this.get("description")},setDescription:function(e){return this.set("description",e)},isDone:function(){var e=this.getStatus(),t=e===n.roomTable.ROOM_STATUS.DONE_FAILED||e===n.roomTable.ROOM_STATUS.DONE_PANO_ONLY||e===n.roomTable.ROOM_STATUS.DONE_POSITIONS;return t},getNewFormatDescription:function(){return this.get("newFormatDescription")},setNewFormatDescription:function(e){return this.set("newFormatDescription",e)},findAllRoomObjectsAsync:function(){var e=new c.Promise,t=this.getFloor(),n={};return Promise.all([u.Wall.findWallsForRoomAsync(this),u.WallElement.findElementsForRoomAsync(this),u.Label.findLabelsForRoomAsync(this),u.WallHeight.findWallHeightsForFloorAsync(t),u.Stud.findStudsForFloorAsync(t)]).then(function(t){n.walls=t[0],n.wallElements=t[1],n.labels=t[2];var r=t[3],i=t[4],o={};n.walls.forEach(function(e){o[e.id]=e}),n.wallHeights=r.filter(function(e){return!!o[e.getWall().id]});var a={};i.forEach(function(e){a[e.id]=e}),n.studs=[],n.walls.forEach(function(e){[e.getStartStud(),e.getEndStud()].forEach(function(e){var t=a[e.id];n.studs.indexOf(t)===-1&&n.studs.push(t)})}),e.resolve(n)}),e}},{VERSION_3:3,ROOM_STATUS:{CREATED:"created",CAPTURED:"captured",SUBMITTED:"submitted",DONE_FAILED:"done-failed",DONE_PANO_ONLY:"done-pano-only",DONE_POSITIONS:"done-positions"},defaultRoomOrder:["Bedroom","Living Room","Bathroom","Dining Room","Kitchen","Foyer","Yard","Hall","Master Bedroom","Master Bathroom","Garage","Cart Port","Office","Den","Half Bath","Family Room","Patio","Deck","Stairs","Breakfast Nook","Loft","Laundry Room","Guest Room","Balcony","Great Room","Basement","Storage","Closet","Walk in Closet","Utility Room","Attic","Pantry","Cellar","Formal Dining","Library","Solarium","Pool House","Pool","Entertainment Room","Game Room","Tennis Court","Ballroom","Guest House"],create:function(e){var t=e.project,n=e.floor,r=e.name,i=e.mobileStatus;if(!t||!n||!r)throw new Error("insufficient arguments to Room.create");var o=new this;return o.setProject(t),o.setFloor(n),o.setName(r),i&&o.setMobileStatus(i),e.captureType&&o.setCaptureType(e.captureType),o.setACL(t.getACL()),o},createAsync:function(e){var t=this.create(e);return t.saveAsync()},getAsync:function(e,t,n){return u._getAsyncHelper(this,e,t,n)},findRoomWithClientIdAsync:function(e,t){var n=u._buildQuery(this,"clientId",e);return u._addIncludesToQuery(n,t),u._parseDebugWrapper("room.findRoomWithClientIdAsync",n.first,n)()},listRoomsForProjectAsync:function(e){var t=u._buildQuery(this,"project",e);return Promise.resolve(t.find())},findRoomsForProjectsAsync:function(e,t){var n=new c.Query(this);return n.containedIn("project",e),t||(console.debug("including deleted rooms"),n.notEqualTo("deleted",!0)),n.include("floor"),Promise.resolve(n.find())},findRoomsForFloorAsync:function(e){var t=u._buildQuery(this,"floor",e);return Promise.resolve(t.find())},findPlacedRoomsForFloorAsync:function(e){var t=u._buildQuery(this,"floor",e);return t.equalTo("placed",!0),Promise.resolve(t.find())},findPlacedRoomsForProjectAsync:function(e){var t=u._buildQuery(this,"project",e);return t.equalTo("placed",!0),Promise.resolve(t.find())},findNumberOfRoomsForProjectAsync:function(e){var t=new c.Query(this);return t.equalTo("project",e),Promise.resolve(t.count())},findNumberOfSubmittedRoomsForProjectAsync:function(e){var t=new c.Query(this);return t.equalTo("project",e),t.equalTo("submitted",!0),Promise.resolve(t.count())},findNumberOfReadyRoomsForProjectAsync:function(e){var t=new c.Query(this);return t.equalTo("project",e),t.equalTo("ready",!0),Promise.resolve(t.count())},findAllRoomsForProjectAsync:function(e,t){var n=u._buildQuery(this,"project",e);return n.include("floor"),t&&t.forEach(function(e){n.include(e)}),Promise.resolve(n.find())},findAllRoomsFromFloorsProject:function(e){return u.floorTable.findFloorWithIdAsync(e).then(function(e){return u.roomTable.findAllRoomsForProjectAsync(e.getProject())})},findAllRoomsAsync:function(e){var t=new c.Query(this);return e&&t.skip(e),t.limit(1e3),t.equalTo("captureType","iphone"),t.include("project"),t.include("project.user"),t.descending("createdAt"),Promise.resolve(t.find())},listNonDeletedRoomsForProject:function(e){var t={equals:{project:e},notEqualTo:{deleted:!0}};return u.listObjects({table:this,searchParams:t})},listRooms:function(e){return u.listObjects({table:this,searchParams:e})}}),u._fixBrokenPromisesForTable(n.roomTable),n.wallTable=c.Object.extend(t+"Wall",{getFloor:function(){return this.get("floor")},setFloor:function(e){return this.set("floor",e)},getRoom:function(){return this.get("room")},setRoom:function(e){return this.set("room",e)},getIndex:function(){return this.get("index")},setIndex:function(e){return this.set("index",e)},getThickness:function(){return this.get("thickness")},setThickness:function(e){return this.set("thickness",e)},getMaterial:function(){return this.get("material")},setMaterial:function(e){return this.set("material",e)},getMaterialProperties:function(){return this.get("materialProperties")},setMaterialProperties:function(e){return this.set("materialProperties",e)},getProperties:function(){return this.get("properties")},setProperties:function(e){return this.set("properties",e)},getStartStud:function(){return this.get("stud_1")},setStartStud:function(e){return this.set("stud_1",e)},getEndStud:function(){return this.get("stud_2")},setEndStud:function(e){return this.set("stud_2",e)},getLeftRoom:function(){return this.get("leftRoom")},setLeftRoom:function(e){return this.set("leftRoom",e)},unsetLeftRoom:function(){return this.unset("leftRoom")},getRightRoom:function(){return this.get("rightRoom")},setRightRoom:function(e){return this.set("rightRoom",e)},isDoubleWall:function(){return this.get("doubleWall")},setDoubleWall:function(e){return this.set("doubleWall",e)}},{findWallsForFloorAsync:function(e){var t=u._buildQuery(this,"floor",e);return Promise.resolve(t.find())},findWallsForRoomAsync:function(e){var t=u._buildQuery(this,"rightRoom",e);return Promise.resolve(t.find())}}),u._fixBrokenPromisesForTable(n.wallTable),n.ceilingConnectionTable=c.Object.extend(t+"CeilingConnection",{getFloor:function(){return this.get("floor")},setFloor:function(e){return this.set("floor",e)},getStart:function(){return this.get("start")},setStart:function(e){return this.set("start",e)},getEnd:function(){return this.get("end")},setEnd:function(e){return this.set("end",e)}},{findCeilingConnectionsForFloorAsync:function(e){var t=u._buildQuery(this,"floor",e);return Promise.resolve(t.find())}}),n.wallElementTable=c.Object.extend(t+"WallElement",{getFloor:function(){return this.get("floor")},setFloor:function(e){return this.set("floor",e)},getWall:function(){return this.get("wall")},setWall:function(e){return this.set("wall",e)},getType:function(){return this.get("type")},setType:function(e){return this.set("type",e)},getOffset:function(){return this.get("offset")},setOffset:function(e){return this.set("offset",e)},getWidth:function(){return this.get("width")},setWidth:function(e){return this.set("width",e)},getTop:function(){return this.get("top")},setTop:function(){return this.set("top",top)},getBottom:function(){return this.get("bottom")},setBottom:function(e){return this.set("bottom",e)},getProperties:function(){return this.get("properties")},setProperties:function(e){return this.set("properties",e)},getStartStud:function(){return this.get("stud_1")},setStartStud:function(e){return this.set("stud_1",e)},getEndStud:function(){return this.get("stud_2")},setEndStud:function(e){return this.set("stud_2",e)},getLeftRoom:function(){return this.get("leftRoom")},setLeftRoom:function(e){return this.set("leftRoom",e)},unsetLeftRoom:function(){return this.unset("leftRoom")},getRightRoom:function(){return this.get("rightRoom")},setRightRoom:function(e){return this.set("rightRoom",e)},isDoubleWall:function(){return this.get("doubleWall")},setDoubleWall:function(e){return this.set("doubleWall",e)}},{findWallsForFloorAsync:function(e){var t=u._buildQuery(this,"floor",e);return Promise.resolve(t.find())},findWallsForRoomAsync:function(e){var t=u._buildQuery(this,"rightRoom",e);return Promise.resolve(t.find())}}),u._fixBrokenPromisesForTable(n.wallTable),n.ceilingConnectionTable=c.Object.extend(t+"CeilingConnection",{getFloor:function(){return this.get("floor")},setFloor:function(e){return this.set("floor",e)},getStart:function(){return this.get("start")},setStart:function(e){return this.set("start",e)},getEnd:function(){return this.get("end")},setEnd:function(e){return this.set("end",e)}},{findCeilingConnectionsForFloorAsync:function(e){var t=u._buildQuery(this,"floor",e);return Promise.resolve(t.find())}}),n.wallElementTable=c.Object.extend(t+"WallElement",{getFloor:function(){return this.get("floor")},setFloor:function(e){return this.set("floor",e)},getWall:function(){return this.get("wall")},setWall:function(e){return this.set("wall",e)},getType:function(){return this.get("type")},setType:function(e){return this.set("type",e)},getOffset:function(){return this.get("offset")},setOffset:function(e){return this.set("offset",e)},getWidth:function(){return this.get("width")},setWidth:function(e){return this.set("width",e)},getTop:function(){return this.get("top")},setTop:function(){return this.set("top",top)},getBottom:function(){return this.get("bottom")},setBottom:function(e){return this.set("bottom",e)},getProperties:function(){return this.get("properties")},setProperties:function(e){return this.set("properties",e)},getRoom:function(){return this.get("room")},setRoom:function(e){return this.set("room",e)},getModelName:function(){return this.get("modelName")},setModelName:function(e){return this.set("modelName",e)}},{findElementsForFloorAsync:function(e){var t=u._buildQuery(this,"floor",e);return Promise.resolve(t.find())},findElementsForRoomAsync:function(e){var t=u._buildQuery(this,"room",e);return Promise.resolve(t.find())}}),u._fixBrokenPromisesForTable(n.wallElementTable),n.studTable=c.Object.extend(t+"Stud",{getFloor:function(){return this.get("floor")},setFloor:function(e){return this.set("floor",e)},getX:function(){return this.get("x")},setX:function(e){return this.set("x",e)},getY:function(){return this.get("y")},setY:function(e){return this.set("y",e)},getZ:function(){return this.get("z")},setZ:function(e){return this.set("z",e)},getPosition:function(){return{x:this.get("x"),y:this.get("y"),z:this.get("z")}},setPosition:function(e){return this.setX(e.x).setY(e.y).setZ(e.z)}},{findStudsForFloorAsync:function(e){var t=u._buildQuery(this,"floor",e);return Promise.resolve(t.find())}}),u._fixBrokenPromisesForTable(n.studTable),n.labelTable=c.Object.extend(t+"Label",{getArea:function(){return this.get("area")},setArea:function(e){return this.set("area",e)},getColor:function(){return this.get("color")},setColor:function(e){return this.set("color",e)},getFloor:function(){return this.get("floor")},setFloor:function(e){return this.set("floor",e)},getFontFamily:function(){return this.get("fontFamily")},setFontFamily:function(e){return this.set("fontFamily",e)},getFontSize:function(){return this.get("fontSize")},setFontSize:function(e){return this.set("fontSize",e)},getIsBold:function(){return this.get("isBold")},setIsBold:function(e){return this.set("isBold",e)},getKeepFontSize:function(){return this.get("keepFontSize")},setKeepFontSize:function(e){return this.set("keepFontSize",e)},getHeight:function(){return this.get("height")},setHeight:function(e){return this.set("height",e)},getRoom:function(){return this.get("room")},setRoom:function(e){return this.set("room",e)},getRotation:function(){return this.get("rotation")},setRotation:function(e){return this.set("rotation",e)},getShownArea:function(){return this.get("shownArea")},setShownArea:function(e){return this.set("shownArea",e)},getShownHeight:function(){return this.get("shownHeight")},setShownHeight:function(e){return this.set("shownHeight",e)},getShownWidth:function(){return this.get("shownWidth")},setShownWidth:function(e){return this.set("shownWidth",e)},getText:function(){return this.get("text")},setText:function(e){return this.set("text",e)},getVisibilitySize:function(){return this.get("visibilitySize")},setVisibilitySize:function(e){return this.set("visibilitySize",e)},getVisibilityText:function(){return this.get("visibilityText")},setVisibilityText:function(e){return this.set("visibilityText",e)},getWidth:function(){return this.get("width")},setWidth:function(e){return this.set("width",e)},getX:function(){return this.get("x")},setX:function(e){return this.set("x",e)},getY:function(){return this.get("y")},setY:function(e){return this.set("y",e)},getAreDimensionsOverridden:function(){return this.get("areDimensionsOverridden")},setAreDimensionsOverridden:function(e){return this.set("areDimensionsOverridden",e)}},{findLabelsForFloorAsync:function(e){var t=u._buildQuery(this,"floor",e);return Promise.resolve(t.find())},findLabelsForRoomAsync:function(e){var t=u._buildQuery(this,"room",e);return Promise.resolve(t.find())}}),n.furnitureTable=c.Object.extend(t+"Furniture",{getName:function(){return this.get("name")},setName:function(e){return this.set("name",e)},getFloor:function(){return this.get("floor")},setFloor:function(e){var t=e?e.getACL():new c.ACL;return this.setACL(t),this.getACL().setPublicReadAccess(!0),this.set("floor",e)},getExtendedProperties:function(){return this.get("extendedProperties")||{}},setExtendedProperties:function(e){this.set("extendedProperties",e||{})},getParentFurniture:function(){return this.get("parentFurniture")},setParentFurniture:function(e){return this.set("parentFurniture",e)},unsetParentFurniture:function(){return this.unset("parentFurniture")},getParentFurnitureModel:function(){return this.get("parentFurnitureModel")},setParentFurnitureModel:function(e){return this.set("parentFurnitureModel",e)},getXYZ:function(){return this.get("xyz")},setXYZ:function(e){return this.set("xyz",e)},getYPR:function(){return this.get("ypr")},setYPR:function(e){return this.set("ypr",e)},getShowcase:function(){return this.get("showcase")},setShowcase:function(e){return this.set("showcase",e)},getOptions:function(){return this.get("options")},setOptions:function(e){return this.set("options",e)},hasMetadata:function(){return this.get("hasMetadata")},getModelVRScenePath:function(){return u.furnitureModelTable.getModelVRScenePath(this.getName())},getNodeVRScenePath:function(){return u.furnitureModelTable.getNodeVRScenePath(this.getName())}},{createLite:function(e){var t=new this,n=e.floor;t.setName(e.name),t.setXYZ(e.xyz),t.setYPR(e.ypr),t.setFloor(n);var r=n?n.getACL():new c.ACL;return t.setACL(r),t.getACL().setPublicReadAccess(!0),t},getAsync:function(e,t){return u._getAsyncHelper(this,e,t)},findFurnitureForFloorAsync:function(e){var t=u._buildQuery(this,"floor",e);return t.include("parentFurnitureModel"),Promise.resolve(t.find())},findFurnitureForFloorIdAsync:function(e){var t=new n.floorTable;t.id=e;var r=u._buildQuery(this,"floor",t);return r.include("parentFurnitureModel"),Promise.resolve(r.find())},findFurnitureForFloorWithoutGroupsAsync:function(e){var t=u._buildQuery(this,"floor",e);return t.notEqualTo("name","group"),t.include("parentFurnitureModel"),Promise.resolve(t.find())},findFurnitureForShowcaseAsync:function(e,t){var n=new c.Query(this);return n.equalTo("showcase",e),n.include("parentFurnitureModel"),t&&n.equalTo("floor",t),u._parseDebugWrapper("furniture.query(showcase).find",n.find,n)()},findFurnitureForShowcaseIdAsync:function(e,t){var r=new c.Query(this),i=new n.showcaseTable;i.id=e;var o=new n.floorTable;return o.id=t,r.equalTo("showcase",i),r.include("parentFurnitureModel"),o&&r.equalTo("floor",o),u._parseDebugWrapper("furniture.query(showcaseId).find",r.find,r)()},findForProjectAsync:function(e){var n=c.Object.extend(t+"Floor"),r=u._buildQuery(n,"project",e),i=new c.Query(this);return i.limit(1e3),i.matchesQuery("floor",r),i.find()}}),u._fixBrokenPromisesForTable(n.furnitureTable),n.showcaseTable=c.Object.extend(t+"Showcase",{getMaterialOverrides:function(){return this.get("materialOverrides")},setMaterialOverrides:function(e){return this.set("materialOverrides",e)},getName:function(){return this.get("name")},setScreenshot:function(e){return this.set("thumbnail",e)}},{findShowcasesForProjectAsync:function(e){var t=new c.Query(this);return t.equalTo("project",e),u._parseDebugWrapper("showcase.query(project).find",t.find,t)()},createShowcaseAsync:function(e,t,n){var r=new this;return r.set("project",e),r.set("materialOverrides",t),r.set("thumbnail",n),r.set("name","New Showcase"),u._parseDebugWrapper("showscase.save",r.save,r)()},listShowcasesAsync:function(e){var t=new c.Query(this);return t.include("project"),t.limit(48),e&&t.skip(e),u._parseDebugWrapper("showcase.query().find",t.find,t)()},findShowcaseAsync:function(e){var t=new c.Query(this);return t.equalTo("objectId",e),u._parseDebugWrapper("showcase.query().find",t.find,t)()}}),n.roomEditor3dTable=c.Object.extend(t+"RoomEditor3d",{}),u._fixBrokenPromisesForTable(n.roomEditor3dTable),n.wallHeightTable=c.Object.extend(t+"WallHeight",{getWall:function(){return this.get("wall")},setWall:function(e){this.set("wall",e)},getFloor:function(){return this.get("floor")},setFloor:function(e){this.set("floor",e)},getOffset:function(){return this.get("offset")},setOffset:function(e){return this.set("offset",e)},getYOffset:function(){return this.get("yOffset")},setYOffset:function(e){return this.set("yOffset",e)},getRightHeight:function(){return this.get("rightHeight")},setRightHeight:function(e){this.set("rightHeight",e)},getLeftHeight:function(){return this.get("leftHeight")},setLeftHeight:function(e){this.set("leftHeight",e)},getCeilingConnections:function(){return this.get("ceilingConnections")},setCeilingConnections:function(e){return this.set("ceilingConnections",e)},getVersion:function(){return this.get("version")},setVersion:function(e){return this.set("version",e)},getHeight:function(){return this.get("height")},setHeight:function(e){return this.set("height",e)},getRoom:function(){return this.get("room")},setRoom:function(e){return this.set("room",e)}},{findWallHeightsForFloorAsync:function(e,t){var n=u._buildQuery(this,"floor",e);return t?n.equalTo("version",t):n.notEqualTo("version",1),Promise.resolve(n.find())}}),u._fixBrokenPromisesForTable(n.wallHeightTable),n.paymentTable=c.Object.extend(t+"Payment",{getProject:function(){return this.get("project")},setProject:function(e){this.set("project",e)},getUser:function(){return this.get("user")},setUser:function(e){this.set("user",e)},getAmount:function(){return this.get("amount")},setAmount:function(e){return this.set("amount",e)},getCurrency:function(){return this.get("currency")},setCurrency:function(e){return this.set("currency",e)},getType:function(){return this.get("type")},setType:function(e){this.set("type",e)},getData:function(){return this.get("data")},setData:function(e){this.set("data",e)}},{createPaymentAsync:function(e){var t=new this,n=e.currency?e.currency.toUpperCase():void 0;t.set("user",e.user),t.set("project",e.project),t.set("amount",e.amount),t.set("currency",n),t.set("data",e.data),t.set("type",e.type);var r=new c.ACL;return r.setRoleReadAccess("CustomerSupport",!0),t.setACL(r),u._parseDebugWrapper("newPayment.save",t.save,t)()},findPaymentAsync:function(e,t){return u._getAsyncHelper(this,e,t)},listApprovedPayments:function(e,t){var n=new c.Query(this);n.notEqualTo("category","test"),n.exists("geoLocation"),n.greaterThanOrEqualTo("createdAt",new Date("2013-01-01T21:00:00"));var r=new c.Query(this);r.notEqualTo("category","test"),r.exists("geoLocation"),r.exists("proModel");var i=c.Query.or(n,r);return i.limit(1e3),t&&i.skip(t),u._parseDebugWrapper("project.query.listProjectsForCategory",i.find,i)()},getList:function(e){var t=new c.Query(this),n=300;return t.limit(n),e&&t.skip(e*n),t.descending("createdAt"),u._parseDebugWrapper("project.query.getList",t.find,t)()},listPayments:function(e){return u.listObjects({table:this,searchParams:e})}}),u._fixBrokenPromisesForTable(n.paymentTable),n.invoiceTable=c.Object.extend(t+"Invoice",{getOrganization:function(){return this.get("organization")},getName:function(){return this.get("name")},isPaid:function(){return this.get("paid")},setPaid:function(e){return this.set("paid",e)},getUser:function(){return this.get("user")},setUser:function(e){return this.set("user",e)},getProjects:function(){return this.relation("projects")},setProjects:function(e){return this.set("projects",e)}},{createInvoiceLite:function(e){var t=e.organization;if(!t)throw new Error("No Organization is defined.");var n=new this;n.set("organization",e.organization),n.set("name",e.name),n.set("user",e.user);var r=new c.ACL;return r.setRoleReadAccess("CustomerSupport",!0),r.setRoleWriteAccess("CustomerSupport",!0),n.setACL(r),n},listInvoices:function(e){return u.listObjects({table:this,searchParams:e})}}),u._fixBrokenPromisesForTable(n.invoiceTable),n.projectStatisticsTable=c.Object.extend(t+"ProjectStatistics",{getProject:function(){return this.get("project")},getStates:function(){return this.get("states")},setStates:function(e){this.set("states",e)},getTransitions:function(){return this.get("transitions")},setTransitions:function(e){this.set("transitions",e)},addTransitions:function(e){this.add("transitions",e)}},{createLiteAsync:function(e){var t=new this,n=new c.ACL;return n.setRoleReadAccess("CustomerSupport",!0),n.setRoleReadAccess("GlobalSupervisor",!0),t.setACL(n),t.set("project",e),e.set("statistics",t),t},getForProjectAsync:function(e){var t=new c.Query(this);return t.equalTo("project",e),t.ascending("objectId"),u._parseDebugWrapper("projectStatistics.query().first",t.first,t)()},listProjectsStatistics:function(e,t){return u.listObjects({table:this,searchParams:e,options:t})}}),u._fixBrokenPromisesForTable(n.projectStatisticsTable),n.temporaryDataTable=c.Object.extend("TemporaryData",{getData:function(){return this.get("data")}},{createAsync:function(e){var t=new this;t.set("data",e);var n=new c.ACL;return t.setACL(n),u._parseDebugWrapper("newTemporaryData.save",t.save,t)()},findAsync:function(e,t){return u._getAsyncHelper(this,e,t)},listTemporaryData:function(e,t){return u.listObjects({table:this,searchParams:e,options:t})}}),u._fixBrokenPromisesForTable(n.temporaryDataTable),n.roleTable=c.Object.extend("_Role",{getName:function(){return this.get("name")},setName:function(e){this.set("name",e)}},{createRoleAsync:function(e,t){var n=new this,r=!!t;n.set("name",e),n.set("global",r);var i=new c.ACL;return i.setRoleWriteAccess("Admin",!0),i.setRoleReadAccess("Admin",!0),i.setRoleReadAccess(e,!0),n.setACL(i),u._parseDebugWrapper("newRole.save",n.save,n)()},findRoleAsync:function(e,t,n){return u._getAsyncHelper(this,e,t,n)},findByName:function(e,t){var n=u._buildQuery(this,"name",e);return Promise.resolve(n.first(t))},listChildRoles:function(e){var t=e.getRoles().query();return t.limit(1e3),t.ascending("name"),u._parseDebugWrapper("roles.query.listChildRoles",t.find,t)()},listChildUsers:function(e){var t=e.getUsers().query();return t.limit(1e3),t.ascending("username"),u._parseDebugWrapper("roles.query.listChildUsers",t.find,t)()},listChildUsersForRoles:function(e){var t=new c.Query(this);return t.containedIn("name",e),t.limit(1e3),u._parseDebugWrapper("roles.query.listMultipleRoles",t.find,t)().then(function(e){var t=e.map(function(e){return this.listChildUsers(e)}.bind(this));return Promise.all(t)}.bind(this))},listRoleGroups:function(e,t){var n=new c.Query(this),r=t+"_";n.limit(1e3),n.startsWith("name",r),n.ascending("name");var i=new c.Query(this),o=e+"_";
return i.limit(1e3),i.startsWith("name",o),i.ascending("name"),Promise.all([u._parseDebugWrapper("roles.query.listUserRoles",n.find,n)(),u._parseDebugWrapper("roles.query.listAdminGroups",i.find,i)()])},listAssignedRolesForUser:function(e,t){var n=new c.Query(this);return n.limit(1e3),n.ascending("name"),n.equalTo("users",e),t&&n.equalTo("global",!0),u._parseDebugWrapper("roles.query.listAssignedRolesForUser",n.find,n)()},listAllRolesForUserLoggedIn:function(){return u.listObjects({table:this,searchParams:{equals:{name:"CustomerSupport"}}}).then(function(e){var t=!!e.length;return u.listObjects({table:this,searchParams:{equals:{global:!!t||void 0}}})}.bind(this))},createRoleGroupAsync:function(e,t,n,r,i){var o={},a=!!i;return Promise.resolve().then(function(){return o.groupName=e,o.adminName=n+"_"+e,o.userName=r+"_"+e,e&&""!==e?Promise.all([this.findByName(o.adminName),this.findByName(o.userName)]):Promise.reject(new Error("Group name is not valid."))}.bind(this)).then(function(e){return e[0]||e[1]?Promise.reject(new Error("Group with this name already exists.")):Promise.all([this.createRoleAsync(o.adminName,a),this.createRoleAsync(o.userName,a),this.findByName(t),this.findByName(n),this.findByName(r)])}.bind(this)).then(function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4];return t.getRoles().add(r),n.getRoles().add(t),i.getRoles().add(t),o.getRoles().add(n),u.saveAllAsync([t,n,i,o]).then(function(e){return Promise.resolve(e)})}.bind(this))}}),u._fixBrokenPromisesForTable(n.roleTable),n.streetviewDataTable=c.Object.extend(t+"StreetviewData",{getGoogleAccount:function(){return this.get("googleAccount")},setGoogleAccount:function(e){return this.set("googleAccount",e)},getPhotos:function(){return this.get("photos")},setPhotos:function(e){return this.set("photos",e)},getCredentials:function(){return this.get("credentials")},setCredentials:function(e){return this.set("credentials",e)},getOrphanPhotos:function(){return this.get("orphanPhotos")},setOrphanPhotos:function(e){return this.set("orphanPhotos",e)},getCalibration:function(){return this.get("calibration")},setCalibration:function(e){return this.set("calibration",e)},setProject:function(e){return this.set("project",e)}},{createLite:function(e){var t=new this,n=new c.ACL;return n.setRoleReadAccess("CustomerSupport",!0),n.setRoleWriteAccess("CustomerSupport",!0),t.setACL(n),t.set("project",e),t},findForProject:function(e){var t=new c.Query(this);return t.equalTo("project",e),u._parseDebugWrapper("project.query(itemName).first",t.first,t)()}}),u._fixBrokenPromisesForTable(n.streetviewDataTable),n.organizationTable=c.Object.extend("Organization",{getName:function(){return this.get("name")},setName:function(e){this.set("name",e)},getGroupAdminRole:function(){return this.get("groupAdminRole")},getGroupUserRole:function(){return this.get("groupUserRole")},getCreator:function(){return this.get("creator")},getConfig:function(){return this.get("config")},setConfig:function(e){return this.set("config",e)},getApiConfig:function(){return this.get("apiConfig")},setApiConfig:function(e){return this.set("apiConfig",e)},getLogo:function(){return this.get("logo")},setLogo:function(e){return this.set("logo",e)},getPostpaid:function(){return this.get("postpaid")},setPostpaid:function(e){return this.set("postpaid",e)},isDeletable:function(){return this.get("deletable")},setDeletable:function(e){return this.set("deletable",e)},getSisterOrganizations:function(){return this.relation("sisterOrganizations")},setSisterOrganizations:function(e){return this.set("sisterOrganizations",e)}},{createOrganizationAsync:function(e,t,r){var i=new this;return i.set("name",e),i.set("creator",t),i.set("config",r),u._parseDebugWrapper("newOrganization.save",i.save,i)().then(function(e){return n.roleTable.createRoleGroupAsync(i.id,"CustomerSupport","GroupAdmin","GroupUser")}.bind(this)).then(function(e){var t=e[0],n=e[1];if(t&&n){i.set("groupAdminRole",t),i.set("groupUserRole",n);var r=new c.ACL;return r.setRoleReadAccess("Admin",!0),r.setRoleWriteAccess("Admin",!0),r.setRoleReadAccess("Operator",!0),r.setRoleReadAccess("Modeler",!0),r.setRoleReadAccess(t,!0),r.setRoleWriteAccess(t,!0),r.setRoleReadAccess(n,!0),i.setACL(r),i.saveAsync()}return i.destroyAsync().then(function(){return Promise.reject(new Error("Unable to create corresponding roles for this organization"))})}.bind(this))},listOrganizations:function(e){return u.listObjects({table:this,searchParams:e})},deleteOrganization:function(e){return n.organizationMemberTable.deleteMembersForOrganization(e).then(function(){var t=e.getGroupAdminRole(),n=e.getGroupUserRole(),r=e.getConfig();return u.destroyAllAsync([e,t,n,r])}.bind(this))},findOrganizationAsync:function(e,t,n){return u._getAsyncHelper(this,e,t,n)}}),u._fixBrokenPromisesForTable(n.organizationTable),n.organizationMemberTable=c.Object.extend("OrganizationMember",{isAdmin:function(){return this.get("admin")},setAdmin:function(e){this.set("admin",e)},getUser:function(){return this.get("user")},getOrganization:function(){return this.get("organization")},getCreator:function(){return this.get("creator")},isConfirmed:function(){return this.get("confirmed")},setConfirmed:function(e){this.set("confirmed",e)},getUserData:function(){return this.get("userData")},getOrganizationData:function(){return this.get("organizationData")},getOneTimeDigest:function(){return this.get("oneTimeDigest")},unsetOneTimeDigest:function(){return this.unset("oneTimeDigest")}},{createOrganizationMemberAsync:function(e){var t=e.organization,r=e.user,i=e.isAdmin,o=e.creator;return n.organizationMemberTable.findOrganizationMember(t,r).then(function(e){if(e&&e.length)return Promise.reject(new Error("This user is invited or already a member of this organization."));var n=t.getGroupAdminRole(),a=new this;a.set("user",r),a.set("organization",t),a.set("admin",i),a.set("creator",o),a.set("userData",{username:r.getUsername(),email:r.getEmail()}),a.set("organizationData",{name:t.getName()});var l=s.randomBytes(20).toString("hex");a.set("oneTimeDigest",l);var h=new c.ACL;return h.setRoleReadAccess("Admin",!0),h.setRoleWriteAccess("Admin",!0),h.setRoleReadAccess(n,!0),h.setRoleWriteAccess(n,!0),h.setReadAccess(r.id,!0),h.setWriteAccess(r.id,!0),a.setACL(h),u._parseDebugWrapper("newOrganizationMember.save",a.save,a)()}.bind(this))},listOrganizationMembers:function(e){return u.listObjects({table:this,searchParams:e})},getMembersForOrganization:function(e,t){return n.organizationMemberTable.listOrganizationMembers({equals:{organization:e},includes:t})},countUserInvites:function(e){var t=new c.Query(this);return t.equalTo("user",e),t.notEqualTo("confirmed",!0),Promise.resolve(t.count())},findUserOrganizationMembers:function(e,t,r,i){var o={equals:{user:e},includes:i||[]};return t!==!0&&t!==!1||(o.equals.confirmed=t),r!==!0&&r!==!1||(o.equals.admin=r),n.organizationMemberTable.listOrganizationMembers(o)},findOrganizationMember:function(e,t,r,i){var o={equals:{organization:e,user:t},includes:["user","organization"]};return r!==!0&&r!==!1||(o.equals.confirmed=r),i!==!0&&i!==!1||(o.equals.admin=i),n.organizationMemberTable.listOrganizationMembers(o)},deleteMembersForOrganization:function(e){return n.organizationMemberTable.getMembersForOrganization(e).then(function(e){return u.destroyAllAsync(e)}.bind(this))},updateOrganizationMemberRole:function(e,t,n,r){return t&&n?(e.setAdmin(r),e.isConfirmed()?e.getUser().fetchAsync().then(function(r){return e.isAdmin()?(t.getUsers().add(r),n.getUsers().remove(r)):(n.getUsers().add(r),t.getUsers().remove(r)),u.saveAllAsync([e,n,t])}.bind(this)):e.saveAsync()):Promise.reject(new Error("You are not authorized for this action."))},confirmOrganizationMember:function(e,t,n,r){return e.isAdmin()?(n.getUsers().add(t),r.getUsers().remove(t)):(r.getUsers().add(t),n.getUsers().remove(t)),e.setConfirmed(!0),e.unsetOneTimeDigest(),t.getACL().setRoleReadAccess(n,!0),u.saveAllAsync([e,n,r,t])},deleteOrganizationMember:function(e,t,n,r){return t?(n.getUsers().remove(t),r.getUsers().remove(t),t.getACL().setRoleReadAccess(n,!1),Promise.all([u.saveAllAsync([r,n,t]),e.destroyAsync()])):e.destroyAsync()},findOrganizationMemberAsync:function(e,t,n){return u._getAsyncHelper(this,e,t,n)}}),u._fixBrokenPromisesForTable(n.organizationMemberTable),n.projectNotesTable=c.Object.extend("ProjectNotes",{},{_removeEmptyGroups:function(e,t){if(e&&(0==e.get("type")||1==e.get("type")))if(e.notes&&Object.keys(e.notes).length>0)for(var r in e.notes){var i=e.notes[r];n.projectNotesTable._removeEmptyGroups(i,e)}else t&&delete t.notes[e.id]},_updateGroupCounts:function(e,t){if(e){if(0==e.get("type")||1==e.get("type")){if(e.notes&&Object.keys(e.notes).length>0){e.totalNotes=0,e.totalNotesDone=0;for(var r in e.notes){var i=e.notes[r];e.totalNotes+=n.projectNotesTable._updateGroupCounts(i,e)}return e.totalNotes}return 0}return 1}return 0},_notesToJson:function(e,t,n,r){var i={},o=null;return e.forEach(function(e){i[e.id]=e,0!=e.get("type")&&1!=e.get("type")||(e.notes={},e.expanded=!0)}),e.forEach(function(e){var r=!0;if(t)try{2!=e.get("type")||e.get("default")||!l.isLesserState(t,e.get("shownFrom"))&&!l.isGreaterOrEqualState(t,e.get("completedOn"))||(r=!1,i[e.id]&&delete i[e.id])}catch(a){console.error(a)}if(n)try{2==e.get("type")&&e.get("projectTypes")&&!e.get("projectTypes")[n]&&(r=!1,i[e.id]&&delete i[e.id])}catch(a){console.error(a)}e.get("parent")&&i[e.get("parent").id]?r&&(i[e.get("parent").id].notes[e.id]=e):e.get("parent")&&!i[e.get("parent").id]&&o?r&&(o.notes[e.id]=e):e.get("parent")||(o=e)}),o&&(o.allNotes=i,r&&this._removeEmptyGroups(o),this._updateGroupCounts(o)),o},_createNote:function(e,t,r,i,o,a,s,c,l){var u=new n.projectNotesTable;u.set("objectId",e),u.set("type",t),u.set("organization",r),u.set("parent",i),u.set("name",o),u.set("description",a),u.set("shownFrom",s),u.set("completedOn",c),u.set("projectTypes",l);var h=r.getACL();return h.setRoleWriteAccess("Operator",!1),h.setRoleReadAccess("Operator",!0),u.setACL(h),u},_saveNote:function(e,t,r,i,o,a,s,l,u){var h=this;return new Promise(function(d,f){n.organizationTable.findOrganizationAsync(r).then(function(r){if(!r)throw new Error("Unknown organization.");if(i){var p=new c.Query(n.projectNotesTable);p.equalTo("objectId",i),p.equalTo("organization",r),p.first().then(function(n){if(n){var i=h._createNote(e,t,r,n,o,a,s,l,u);i.save().then(d)}else f(new Error("Note group is no longer available. Refresh the page and try again."))})}else{var m=new c.Query(n.projectNotesTable);m.equalTo("type",0),m.equalTo("organization",r),m.first().then(function(n){if(n){var i=h._createNote(e,t,r,n,o,a,s,l);i.save().then(d)}else{var c=h._createNote(void 0,0,r,void 0,r.getName()+" Notes");c.save().then(function(n){var i=h._createNote(e,t,r,n,o,a,s,l,u);i.save().then(d)})}})}})})},getDefault:function(){var e=new c.Query(n.projectNotesTable);return e.equalTo("default",!0),e.include("parent"),e.ascending("type"),e.addAscending("name"),e.find()},getDefaultAsJSON:function(e,t,r){return n.projectNotesTable.getDefault().then(function(i){return n.projectNotesTable._notesToJson(i,e,t,r)})},getForOrganization:function(e){var t=new c.Query(n.projectNotesTable);return t.equalTo("organization",{__type:"Pointer",className:"Organization",objectId:e}),t.include("parent"),t.ascending("type"),t.addAscending("name"),t.find()},getForOrganizationAsJSON:function(e,t,r,i){return n.projectNotesTable.getForOrganization(e).then(function(e){return n.projectNotesTable._notesToJson(e,t,r,i)})},saveGroup:function(e,t,r,i,o,a){return n.projectNotesTable._saveNote(e,1,t,r,i,void 0,o,a)},saveNote:function(e,t,r,i,o,a,s,c){return n.projectNotesTable._saveNote(e,2,t,r,i,o,a,s,c)},_deleteNote:function(e,t){if(e){if(2==e.get("type")){var r=new c.Query(n.projectNotesLogTable);return r.equalTo("note",e),r.find().then(function(t){return t?c.Object.destroyAll(t).then(function(){return e.destroy()}):e.destroy()})}if(1==e.get("type")||0==e.get("type")){var i=new c.Query(n.projectNotesTable);return i.equalTo("parent",e),i.equalTo("organization",t),i.find().then(function(r){if(r.length>0){var i=[];return r.forEach(function(e){i.push(n.projectNotesTable._deleteNote(e,t))}),i.push(e.destroy()),Promise.all(i)}return e.destroy()})}}},deleteNote:function(e,t){return new Promise(function(r,i){n.organizationTable.findOrganizationAsync(t).then(function(t){if(t){var i=new c.Query(n.projectNotesTable);return i.equalTo("objectId",e),i.equalTo("organization",t),i.first().then(function(e){return n.projectNotesTable._deleteNote(e,t).then(function(){r()})})}throw new Error("Unknown organization.")})})}}),u._fixBrokenPromisesForTable(n.projectNotesTable),n.projectNotesLogTable=c.Object.extend(t+"ProjectNotesLog",{},{getLog:function(e){var n=new c.Query(this);return n.equalTo("project",{__type:"Pointer",className:t+"Project",objectId:e}),n.include("note"),n.include("doneBy"),n.find()},toggleNoteCompletition:function(e,r,i){var o=new c.Query(n.projectNotesLogTable);return o.equalTo("note",{__type:"Pointer",className:"ProjectNotes",objectId:e}),o.equalTo("project",{__type:"Pointer",className:t+"Project",objectId:r}),o.first().then(function(o){if(o)return o.get("done")?(o.set("done",!1),o.unset("doneAt"),o.unset("doneBy"),o.save()):(o.set("done",!0),o.set("doneAt",new Date),o.set("doneBy",{__type:"Pointer",className:"_User",objectId:i}),o.save());var a=new n.projectNotesLogTable;a.set("note",{__type:"Pointer",className:"ProjectNotes",objectId:e}),a.set("project",{__type:"Pointer",className:t+"Project",objectId:r}),a.set("done",!0),a.set("doneAt",new Date),a.set("doneBy",{__type:"Pointer",className:"_User",objectId:i});var s=u.createACLObject();return s.setRoleWriteAccess("Operator",!0),s.setRoleReadAccess("Operator",!0),a.setACL(s),a.save()})}}),u._fixBrokenPromisesForTable(n.projectNotesLogTable),n.organizationConfigTable=c.Object.extend("OrganizationConfig",{isPostpaid:function(){return this.get("postpaid")},setPostpaid:function(e){this.set("postpaid",e)},isAnalytics:function(){return this.get("analytics")},setAnalytics:function(e){this.set("analytics",e)},getPricingModel:function(){return this.get("pricingModel")},setPricingModel:function(e){this.set("pricingModel",e)},unsetPricingModel:function(e){this.unset("pricingModel")},getRoomOrder:function(){return this.get("roomOrder")},setRoomOrder:function(e){this.set("roomOrder",e)},isVIP:function(){return!!this.get("vip")},setVIP:function(e){this.set("vip",!!e)},getPackageOverrides:function(){return this.get("packageOverrides")},setPackageOverrides:function(e){return this.set("packageOverrides",e)},getEarlyLinkSend:function(){return this.get("earlyLinkSend")},setEarlyLinkSend:function(e){return this.set("earlyLinkSend",e)},getCustomPricingUrl:function(){return this.get("customPricingUrl")},setCustomPricingUrl:function(e){return this.set("customPricingUrl",e)},getTrifocalPriority:function(){return this.get("trifocalPriority")},setTrifocalPriority:function(e){return this.set("trifocalPriority",e)},isTest:function(){return this.get("test")},setTest:function(e){this.set("test",e)},getSmartTagPOIImage:function(){return this.get("smartTagPOIImage")},setSmartTagPOIImage:function(e){return this.set("smartTagPOIImage",e)},getPropertyReportRequired:function(){return this.get("propertyReportRequired")},setPropertyReportRequired:function(e){return this.set("propertyReportRequired",e)}},{createLiteAsync:function(){var e=new this,t=new c.ACL;return t.setRoleReadAccess("CustomerSupport",!0),t.setRoleWriteAccess("CustomerSupport",!0),e.setACL(t),e}}),u._fixBrokenPromisesForTable(n.organizationConfigTable),n.organizationApiConfigTable=c.Object.extend("OrganizationApiConfig",{getRestAuthToken:function(){return this.get("restAuthToken")},setRestAuthToken:function(e){this.set("restAuthToken",e)},getNotificationUrl:function(){return this.get("notificationUrl")},setNotificationUrl:function(e){this.set("notificationUrl",e)},getOrganization:function(){return this.get("organization")},getApiTokens:function(){return this.get("apiTokens")},setApiTokens:function(e){this.set("apiTokens",e)}},{createLite:function(e){var t=new this,n=e.getGroupAdminRole(),r=e.getGroupUserRole(),i=new c.ACL;return i.setRoleReadAccess("CustomerSupport",!0),i.setRoleWriteAccess("CustomerSupport",!0),i.setRoleReadAccess(n,!0),i.setRoleWriteAccess(n,!0),i.setRoleReadAccess(r,!0),t.setACL(i),t.set("organization",e),t.setApiTokens([{active:!1},{active:!1}]),t},listApiConfigurations:function(e){return u.listObjects({table:this,searchParams:e})}}),u._fixBrokenPromisesForTable(n.organizationApiConfigTable),n.organizationEventsTable=c.Object.extend("OrganizationEvents",{getType:function(){return this.get("type")},getProject:function(){return this.get("project")},getUser:function(){return this.get("user")},getOrganization:function(){return this.get("organization")},getData:function(){return this.get("data")},getAggregatedAt:function(){return this.get("aggregatedAt")},setAggregatedAt:function(e){this.set("aggregatedAt",e)},getAggregatedTo:function(){return this.get("aggregatedTo")},setAggregatedTo:function(e){this.set("aggregatedTo",e)},getAggregatingServer:function(){return this.get("aggregatingServer")},setAggregatingServer:function(e){this.set("aggregatingServer",e)},getError:function(){return this.get("error")},setError:function(e){this.set("error",e)}},{createOrganizationEventAsync:function(e,t,n){var r=e?e.getOrganization():void 0,i=e?e.getUser():void 0,a=o.getDimensionKeys(),s=o.getMetricKeys();if("Project"!==e.className)return Promise.reject(new Error("Organization Events are enabled only for production projects."));if(!e||!i||!r)return Promise.reject(new Error("No project / user / organization defined."));var c={dimensions:{},metrics:{}};a.forEach(function(e){c.dimensions[e]=t[e]}.bind(this)),s.forEach(function(e){c.metrics[e]=n[e]}.bind(this));var l=new this;return l.set("organization",r),l.set("project",e),l.set("user",i),l.set("data",c),l.saveAsync()},listOrganizationEvents:function(e,t){return u.listObjects({table:this,searchParams:e,options:t})}}),u._fixBrokenPromisesForTable(n.organizationEventsTable),n.organizationAnalyticsTable=c.Object.extend("OrganizationAnalytics",{getOrganization:function(){return this.get("organization")},getDate:function(){return this.get("date")},getEvents:function(){return this.get("events")},setEvents:function(e){return this.set("events",e)},getData:function(){return this.get("data")},setData:function(e){return this.set("data",e)}},{createOrganizationAnalyticsAsync:function(e){var t=this.createLiteAsync(e);return t?t.saveAsync():Promise.reject("No correct data provided for creation of OrganizationAnalytics.")},createLiteAsync:function(e){var t,n=e.organization;if(n){t=new this,t.set("date",e.date),t.set("organization",n);var r=n.getGroupAdminRole(),i=new c.ACL;i.setRoleReadAccess("CustomerSupport",!0),i.setRoleReadAccess(r,!0),t.setACL(i)}return t},listOrganizationAnalytics:function(e,t){return e.ascending=["date"],u.listObjects({table:this,searchParams:e,options:t})}}),u._fixBrokenPromisesForTable(n.organizationAnalyticsTable),n.pricingModelTable=c.Object.extend("PricingModel",{getName:function(){return this.get("name")},setName:function(e){this.set("name",e)},getData:function(){return this.get("data")},setData:function(e){this.set("data",e)}},{createAsync:function(e){var t=e.name;if(t){var n=new this;n.setName(t),n.setData({});var r=new c.ACL;return r.setRoleReadAccess("CustomerSupport",!0),r.setRoleWriteAccess("CustomerSupport",!0),n.setACL(r),n.saveAsync()}return Promise.reject(new Error("No name defined for new Pricing Model"))},listPricingModels:function(e){return u.listObjects({table:this,searchParams:e})},findAsync:function(e,t){return u._getAsyncHelper(this,e,t)}}),u._fixBrokenPromisesForTable(n.pricingModelTable),n.assetTable=c.Object.extend(t+"Asset",{getClientId:function(){return this.get("clientId")},setClientId:function(e){return this.set("clientId",e)},getAssetType:function(){return this.get("assetType")},setAssetType:function(e){return this.set("assetType",e)},getAssetDescription:function(){return this.get("assetDescription")},setAssetDescription:function(e){return this.set("assetDescription",e)},getAdditionalInfo:function(){return this.get("additionalInfo")},setAdditionalInfo:function(e){return this.set("additionalInfo",e)},getAssetBrand:function(){return this.get("assetBrand")},setAssetBrand:function(e){return this.set("assetBrand",e)},getRoom:function(){return this.get("room")},setRoom:function(e){return this.set("room",e)},getProject:function(){return this.get("project")},setProject:function(e){return this.set("project",e)}},{createAsset:function(e){var t=new this;return t.setClientId(e.clientId),t.setAssetType(e.assetType),t.setAssetDescription(e.assetDescription),t.setProject(e.project),e.project.getACL()&&t.setACL(e.project.getACL()),t},findAssetsForProjectWithIdAsync:function(e){var t=new n.projectTable.createPointer(e);return n.assetTable.findAssetsForProjectAsync(t)},findAssetsForProjectAsync:function(e){var t=u._buildQuery(this,"project",e);return u._parseDebugWrapper("findAssetsForProjectAsync.query().find",t.find,t)()},countAssetsForProjectWithIdAsync:function(e){var t=new n.projectTable.createPointer(e);return n.assetTable.countAssetsForProjectAsync(t)},countAssetsForProjectAsync:function(e){var t=u._buildQuery(this,"project",e);return u._parseDebugWrapper("countAssetsForProjectAsync.query().count",t.count,t)()},listAssets:function(e){return u.listObjects({table:this,searchParams:e})}}),u._fixBrokenPromisesForTable(n.assetTable),n.floorPlanTemplateTable=c.Object.extend("FloorPlanTemplate",{getFontFileName:function(){return this.get("fontFileName")||u.FloorPlanTemplate.DEFAULT_FONT_FILE},setFontFileName:function(e){return this.set("fontFileName",e)},getFontFileNameAddress:function(){return this.get("fontFileNameAddress")||u.FloorPlanTemplate.DEFAULT_FONT_FILE},setFontFileNameAddress:function(e){return this.set("fontFileNameAddress",e)},getOrganization:function(){return this.get("organization")},setOrganization:function(e){return this.set("organization",e)},unsetOrganization:function(){return this.unset("organization")},getUser:function(){return this.get("user")},setUser:function(e){return this.set("user",e)},isAreaDisabled:function(){return this.get("isAreaDisabled")},setAreaDisabled:function(e){return this.set("isAreaDisabled",e)},isLogoDisabled:function(){return this.get("isLogoDisabled")},setLogoDisabled:function(e){return this.set("isLogoDisabled",e)},isFloorNameDisabled:function(){return this.get("isFloorNameDisabled")},setFloorNameDisabled:function(e){return this.set("isFloorNameDisabled",e)},isAddressDisabled:function(){return this.get("isAddressDisabled")},setAddressDisabled:function(e){return this.set("isAddressDisabled",e)},isCroppedDisabled:function(){return this.get("isCroppedDisabled")},setCroppedDisabled:function(e){return this.set("isCroppedDisabled",e)},isProjectPageFloorTextDisabled:function(){return this.get("projectPageFloorTextDisabled")},setProjectPageFloorTextDisabled:function(e){return this.set("projectPageFloorTextDisabled",e)},isProjectPageFloorTextEnabledForSingleFloorProjects:function(){return this.get("projectPageFloorTextEnabledForSingleFloorProjects")},setProjectPageFloorTextEnabledForSingleFloorProjects:function(e){return this.set("projectPageFloorTextEnabledForSingleFloorProjects",e)},getProjectPageFloorTextType:function(){return this.get("projectPageFloorTextType")||u.FloorPlanTemplate.PROJECT_PAGE_FLOOR_TEXT_TYPES.name},setProjectPageFloorTextType:function(e){this.set("projectPageFloorTextType",e)},getAddressPosition:function(){return this.get("addressPosition")||u.FloorPlanTemplate._getDefaultAddressPosition()},setAddressPosition:function(e){return this.set("addressPosition",e)},getLogoPosition:function(){return this.get("logoPosition")||u.FloorPlanTemplate._getDefaultLogoPosition()},setLogoPosition:function(e){return this.set("logoPosition",e)},getLogoFrameSize:function(){return this.get("logoFrameSize")||u.FloorPlanTemplate.DEFAULT_LOGO_FRAME_SIZES["long"]},setLogoFrameSize:function(e){return this.set("logoFrameSize",e)},getFloorNamePosition:function(){return this.get("floorNamePosition")||u.FloorPlanTemplate._getDefaultFloorNamePosition()},setFloorNamePosition:function(e){return this.set("floorNamePosition",e)},getAreaPosition:function(){return this.get("areaPosition")||u.FloorPlanTemplate._getDefaultAreaPosition()},setAreaPosition:function(e){return this.set("areaPosition",e)},isTwoRowsAddressEnabled:function(){return this.get("isTwoRowsAddressEnabled")},setTwoRowsAddressEnabled:function(e){return this.set("isTwoRowsAddressEnabled",e)},isShowCountryInAddressEnabled:function(){return this.get("isShowCountryInAddressEnabled")},setShowCountryInAddressEnabled:function(e){return this.set("isShowCountryInAddressEnabled",e)},getFloorPlanWidth:function(){return this.get("floorPlanWidth")||u.FloorPlanTemplate.DEFAULT_FP_WIDTH},setFloorPlanWidth:function(e){return this.set("floorPlanWidth",e)},getFloorPlanHeight:function(){return this.get("floorPlanHeight")||u.FloorPlanTemplate.DEFAULT_FP_HEIGHT},setFloorPlanHeight:function(e){return this.set("floorPlanHeight",e)},getAddressFirstRowFontSize:function(){return this._getFontSize("addressFirstRowFontSize")},setAddressFirstRowFontSize:function(e){return this.set("addressFirstRowFontSize",e)},getAddressSecondRowFontSize:function(){return this._getFontSize("addressSecondRowFontSize")},setAddressSecondRowFontSize:function(e){return this.set("addressSecondRowFontSize",e)},getAreaFontSize:function(){return this._getFontSize("areaFontSize")},setAreaFontSize:function(e){return this.set("areaFontSize",e)},getLabelFontColor:function(){return this._getLabelFontColor("labelFontColor")},setLabelFontColor:function(e){return this.set("labelFontColor",e)},getAreaFontColor:function(){return this.get("areaFontColor")||u.FloorPlanTemplate.DEFAULT_LABEL_FONT_COLOR},setAreaFontColor:function(e){return this.set("areaFontColor",e)},getFloorNameFontColor:function(){return this.get("floorNameFontColor")||u.FloorPlanTemplate.DEFAULT_LABEL_FONT_COLOR},setFloorNameFontColor:function(e){return this.set("floorNameFontColor",e)},getAddressFontColor:function(){return this.get("addressFontColor")||u.FloorPlanTemplate.DEFAULT_LABEL_FONT_COLOR},setAddressFontColor:function(e){return this.set("addressFontColor",e)},getLabelDimensionsFontColor:function(){return this._getLabelFontColor("labelDimensionsFontColor")},setLabelDimensionsFontColor:function(e){return this.set("labelDimensionsFontColor",e)},getLanguage:function(){return this._getLanguage("language")},setLanguage:function(e){return this.set("language",e)},getLabelFontSize:function(){return this._getLabelFontSize("labelFontSize")},setLabelFontSize:function(e){return this.set("labelFontSize",e)},getScalingLabelsFontSizes:function(){return this.get("scalingLabelsFontSizes")||u.FloorPlanTemplate.DEFAULT_SCALING_OBJECTS_ARRAY},setScalingLabelsFontSizes:function(e){return this.set("scalingLabelsFontSizes",e)},getDimensionsPercentage:function(){return this.get("dimensionsPercentage")||u.FloorPlanTemplate.DEFAULT_DIMENSIONS_PERCENTAGE},setDimensionsPercentage:function(e){return this.set("dimensionsPercentage",e)},getLabelDimensionsFontSize:function(){return this._getLabelFontSize("labelDimensionsFontSize")},setLabelDimensionsFontSize:function(e){return this.set("labelDimensionsFontSize",e)},getFloorNameFontSize:function(){return this._getFontSize("floorNameFontSize")},setFloorNameFontSize:function(e){return this.set("floorNameFontSize",e)},getWallsStyle:function(){return this.get("wallsStyle")||u.FloorPlanTemplate.WALLS_STYLE.black},setWallsStyle:function(e){return this.set("wallsStyle",e)},isRoomSizeDisabled:function(){return this.get("isRoomSizeDisabled")},setRoomSizeDisabled:function(e){return this.set("isRoomSizeDisabled",e)},isPerformLabelScalingEnabled:function(){return this.get("isPerformLabelScalingEnabled")},setPerformLabelScalingEnabled:function(e){return this.set("isPerformLabelScalingEnabled",e)},isLivableAreaTextDisabled:function(){return this.get("isLivableAreaTextDisabled")},setLivableAreaTextDisabled:function(e){return this.set("isLivableAreaTextDisabled",e)},getWallsInAreaAreaMode:function(){return this.get("floorPlanAreaMode")||u.FloorPlanTemplate.WALLS_AREA_MODES.allWalls},setWallsInAreaAreaMode:function(e){return this.set("floorPlanAreaMode",e)},getWallsThickness:function(){return this.get("wallsThickness")||u.FloorPlanTemplate.DEFAULT_WALL_THICKNESS},setWallsThickness:function(e){return this.set("wallsThickness",e)},getExternalWallsThickness:function(){return this.get("externalWallsThickness")||this.getWallsThickness()},setExternalWallsThickness:function(e){return this.set("externalWallsThickness",e)},_getFontSize:function(e){var t=this.get(e);return t||0===t?t:u.FloorPlanTemplate.DEFAULT_FONT_SIZE},_getLabelFontSize:function(e){var t=this.get(e);return t||0===t?t:u.FloorPlanTemplate.DEFAULT_LABEL_FONT_SIZE},_getLabelFontColor:function(e){var t=this.get(e);return t?t:u.FloorPlanTemplate.DEFAULT_LABEL_FONT_COLOR},_getLanguage:function(e){var t=this.get(e);return t?t:u.FloorPlanTemplate.DEFAULT_LANGUAGE}},{DEFAULT_DIMENSIONS_PERCENTAGE:1,DEFAULT_WALL_THICKNESS:10,WALLS_AREA_MODES:{allWalls:"allWalls",outerWalls:"outerWalls",noWalls:"noWalls"},WALLS_STYLE:{black:"black",greyOutlined:"greyOutlined",navy:"navy"},DEFAULT_FONT_SIZE:40,DEFAULT_LABEL_FONT_SIZE:22,DEFAULT_LABEL_FONT_COLOR:"#000000",DEFAULT_LANGUAGE:"en",DEFAULT_FP_WIDTH:3508,DEFAULT_FP_HEIGHT:2481,VERTICAL_TEXT_POSITIONS:{top:"top",bottom:"bottom"},HORIZONTAL_TEXT_POSITIONS:{left:"left",center:"center",right:"right"},PROJECT_PAGE_FLOOR_TEXT_TYPES:{name:"name",floorAreaInfo:"floorAreaInfo"},DEFAULT_FONT_FILE:"arial.ttf",DEFAULT_LOGO_FRAME_SIZES:{small:"Small",medium:"Medium","long":"Long"},DEFAULT_SCALING_OBJECTS_ARRAY:[{dirty:!1,fontSize:18,areaStartRange:0,areaEndRange:3},{dirty:!1,fontSize:22,areaStartRange:3,areaEndRange:25},{dirty:!1,fontSize:36,areaStartRange:25,areaEndRange:9007199254740991}],_getDefaultAreaPosition:function(){return{horizontal:u.FloorPlanTemplate.HORIZONTAL_TEXT_POSITIONS.left,vertical:u.FloorPlanTemplate.VERTICAL_TEXT_POSITIONS.bottom}},_getDefaultAddressPosition:function(){return{horizontal:u.FloorPlanTemplate.HORIZONTAL_TEXT_POSITIONS.left,vertical:u.FloorPlanTemplate.VERTICAL_TEXT_POSITIONS.top}},_getDefaultLogoPosition:function(){return{horizontal:u.FloorPlanTemplate.HORIZONTAL_TEXT_POSITIONS.right,vertical:u.FloorPlanTemplate.VERTICAL_TEXT_POSITIONS.top}},_getDefaultFloorNamePosition:function(){return{horizontal:u.FloorPlanTemplate.HORIZONTAL_TEXT_POSITIONS.left,vertical:u.FloorPlanTemplate.VERTICAL_TEXT_POSITIONS.top}},_objectsEqual:function(e,t){return Object.keys(e).every(function(n){return e[n]===t[n]})},getAsync:function(e,t,n){return u._getAsyncHelper(this,e,t,n)},findForOrganizationAsync:function(e){var t=Promise.resolve([]);if(e&&e.id){var n=u._buildQuery(this,"organization",e);n.descending("isPrimary"),t=u._parseDebugWrapper("findForOrganizationAsync.query().find",n.find,n)()}return t},getForProjectAsync:function(e){var t=Promise.resolve();if(e.getFloorPlanTemplate()){var r=e.getFloorPlanTemplate();t=r.fetch()}else{var i=e.getOrganization();i&&(t=n.floorPlanTemplateTable.findForOrganizationAsync(i).then(function(e){return e[0]}))}return t}}),u._fixBrokenPromisesForTable(n.floorPlanTemplateTable),n.languagesTable=c.Object.extend("Languages",{getLanguageName:function(){return this.get("languageName")||u.Languages.DEFAULT_LANGUAGE.languageName},setLanguageName:function(e){return this.set("languageName",e)},getLanguageCode:function(){return this.get("languageCode")||u.Languages.DEFAULT_LANGUAGE.languageCode},setLanguageCode:function(e){return this.set("languageCode",e)},getPredefinedRoomsTranslationObject:function(){return this.get("predefinedRoomsTranslations")},setPredefinedRoomsTranslationObject:function(e){return this.set("predefinedRoomsTranslations",e)}},{DEFAULT_LANGUAGE:{
languageName:"English",languageCode:"en"},findByLanguageCode:function(e){var t=u._buildQuery(this,"languageCode",e);return Promise.resolve(t.first())},listLanguages:function(e){return u.listObjects({table:this,searchParams:e})},addNewLanguageAsync:function(e,t,n){var r=new this;return r.set("languageName",e),r.set("languageCode",t),r.set("predefinedRoomsTranslations",n),u._parseDebugWrapper("newLanguage.save",r.save,r)()}}),u._fixBrokenPromisesForTable(n.languagesTable),n.propertyInfoTable=c.Object.extend(t+"PropertyInfo",{getRoomsInfo:function(){return this.get("roomsInfo")},setRoomsInfo:function(e){return this.set("roomsInfo",e)},getAssetInfo:function(){return this.get("assetInfo")},setAssetInfo:function(e){return this.set("assetInfo",e)},getFeaturesInfo:function(){return this.get("featuresInfo")},setFeaturesInfo:function(e){return this.set("featuresInfo",e)},getLocationInfo:function(){return this.get("locationInfo")},setLocationInfo:function(e){return this.set("locationInfo",e)},getProjectInfo:function(){return this.get("projectInfo")},setProjectInfo:function(e){return this.set("projectInfo",e)},getScanningInfo:function(){return this.get("scanningInfo")},setScanningInfo:function(e){return this.set("scanningInfo",e)},getSizeInfo:function(){return this.get("sizeInfo")},setSizeInfo:function(e){return this.set("sizeInfo",e)},getProjectId:function(){return this.get("projectId")},setProjectId:function(e){return this.set("projectId",e)}},{findByProjectId:function(e){var t=u._buildQuery(this,"projectId",e);return Promise.resolve(t.first())},addPropertyInfo:function(e){var t=new this;return t.set("roomsInfo",e.roomsInfo||e.rooms),t.set("assetInfo",e.assetInfo||e.assets),t.set("featuresInfo",e.featuresInfo||e.features),t.set("locationInfo",e.locationInfo),t.set("projectInfo",e.projectInfo),t.set("scanningInfo",e.scanningInfo),t.set("sizeInfo",e.sizeInfo),t.set("projectId",e.projectId),t}}),u._fixBrokenPromisesForTable(n.propertyInfoTable),n.ProjectBookmarks=c.Object.extend(t+"ProjectBookmarks",{},{getBookmarksForProject:function(e,t){var n=new c.Query(this);return n.equalTo("project",e),t||n.notEqualTo("disabled",!0),n.ascending("label"),n.find().then(function(e){return e.sort(function(e,t){return e.get("label").toLowerCase()<=t.get("label").toLowerCase()?-1:1})})},deleteBookmark:function(e){return e.set("disabled",!0),e.save()},createBookmark:function(e,r,i,o,a,s){"string"==typeof e&&(e={__type:"Pointer",className:t+"Project",objectId:e}),"string"==typeof r&&(r={__type:"Pointer",className:t+"Floor",objectId:r}),"string"==typeof i&&(i={__type:"Pointer",className:t+"Room",objectId:i});var c=new this;return c.set("label",a),c.set("type",0),c.set("project",e),c.set("floor",r),c.set("room",i),c.set("spin",parseInt(o,10)),c.set("quaternion",s),c.save().then(function(){return n.ProjectBookmarks.getBookmarksForProject(e)}.bind(this))}}),u._fixBrokenPromisesForTable(n.ProjectBookmarks),n},_initializeDao:function(){if(u._fixBrokenPromises(),r.isBrowser){var e=i.core.getParseUserKeys();c.initialize(e.applicationId,e.javascriptKey),c.serverURL=i.core.getParseServerURLForBrowser(),c.VERSION="WebAPP/"+c.VERSION,u._initializeCommonDatabaseTables()}i.params.registerParameterWatcher(function(){u.updateEnvironment("Parameter change")})},_oldEnv:void 0,updateEnvironment:function(e){var t=i.params.getEnvironmentName();return u.oldEnv!==t&&(u.oldEnv=t,u.currentEnv=t,u.DATABASE_TABLE_PREFIX=u.getDatabasePrefix(t),!i.debug.DEBUGLEVEL&&r.isBrowser||(e=e||"setting dao environment",console.debug("ENVIRONMENT set to '"+t+"', database prefix = '"+u.getDatabasePrefix(t)+"' (set through "+e+")")),Object.assign(u,u.getTablesForEnvironment(t)),!0)},_fixBrokenPromises:function(){c.Promise.prototype["catch"]=function(e){console.error("Promise.catch called - strongly consider converting to ES6 promises"),this.fail(e)},c.Object.prototype.fetchIfNeededAsync=function(){return this.createdAt?Promise.resolve(this):Promise.resolve(this.fetch())};var e=c.Object.prototype.fetch;c.Object.prototype.fetchAsync=function(){return Promise.resolve(e.call(this))},c.Object.prototype.fetch=function(){return Promise.resolve(e.call(this))};var t=c.Object.prototype.save;c.Object.prototype.saveAsync=function(){return Promise.resolve(t.call(this))},c.Object.prototype.save=function(){return Promise.resolve(t.call(this))};var n=c.Object.prototype.destroy;c.Object.prototype.destroyAsync=function(){return Promise.resolve(n.call(this))},c.Object.prototype.destroy=function(){return Promise.resolve(n.call(this))};var r=c.File.prototype.save;c.File.prototype.saveAsync=function(){return Promise.resolve(r.call(this))},c.File.prototype.save=function(){return Promise.resolve(r.call(this))};var i=c.Query.prototype.first;c.Query.prototype.firstAsync=function(){return Promise.resolve(i.call(this))},u.imRefreshAllAsync=function(e){var t,n={};return e.forEach(function(e){t=e.className;var r=e.attributes;for(var i in r){var o=r[i];o&&o._hasData&&(n[t]=n[t]||[],n[t].push(i))}}.bind(this)),console.debug("Fetching "+e.length+' "'+t+'" pointers'),u.fetchAllAsync(e).then(function(e){var t={};e.forEach(function(e){var r=e.className,i=n[r]||[];i.forEach(function(n){t[n]=t[n]||[];var r=e.get(n);r&&t[n].push(r)}.bind(this))}.bind(this));var r=[];for(var i in t){var o=t[i];r.push(u.fetchAllAsync(o)),console.debug("Fetching "+o.length+' "'+i+'" pointers')}return Promise.all(r)}.bind(this))};var o=c.Object.fetchAllIfNeeded;u.fetchAllIfNeededAsync=function(){return Promise.resolve(o.apply(this,arguments))},c.Object.prototype.fetchAllIfNeededAsync=u.fetchAllIfNeededAsync,c.Object.prototype.fetchAllIfNeeded=u.fetchAllIfNeededAsync;var a=c.Object.fetchAll;u.fetchAllAsync=function(){return Promise.resolve(a.apply(this,arguments))},c.Object.prototype.fetchAllAsync=u.fetchAllAsync,c.Object.prototype.fetchAll=u.fetchAllAsync;var s=c.Query.prototype.find;u.findAsync=function(){return Promise.resolve(s.apply(this,arguments))},c.Query.prototype.findAsync=u.findAsync,c.Query.prototype.find=u.findAsync;var l=c.Object.saveAll;u.saveAllAsync=function(){return Promise.resolve(l.apply(this,arguments))},c.Object.saveAllAsync=u.saveAllAsync,c.Object.saveAll=u.saveAllAsync;var h=c.Object.destroyAll;u.destroyAllAsync=function(){return Promise.resolve(h.apply(this,arguments))},c.Object.destroyAllAsync=u.destroyAllAsync,c.Object.destroyAll=u.destroyAllAsync;var d=c.Query.prototype.get;c.Query.prototype.getAsync=function(){return Promise.resolve(d.apply(this,arguments))}},_fixBrokenPromisesForTable:function(e){},_escapeRegexReservedChars:function(e){return e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e},_buildQuery:function(e,t,n){var r=new c.Query(e);return r.limit(1e3),n&&(i.core.isArray(n)?r.containedIn(t,n):r.equalTo(t,n)),r},_addIncludesToQuery:function(e,t){t=t||[],t.forEach(function(t){e.include(t)})},_getAsyncHelper:function(e,t,n,r){if(!t)throw new Error("objectId not supplied");var i=new c.Query(e);u._addIncludesToQuery(i,n);var o=u._parseDebugWrapper("get",i.get,i)(t,r);return o.then(function(e){if(void 0===e)throw new Error(""+t+" not found");return e})},_parseDebugWrapper:function(e,t,n){return u.debug?function(){var r=Array.prototype.slice.call(arguments);return console.debug(e+" operation towards Parse cloud initiated",r),new Promise(function(o,a){t.apply(n||{},r).then(function(t){console.debug(e+" operation towards Parse cloud succeeded",t),o(t)},function(t){t=i.debug.getImprovedError(t,"Operation towards Parse cloud failed",{operationName:e,args:r}),a(t)})})}:function(){var e=Array.prototype.slice.call(arguments);return Promise.resolve(t.apply(n||{},e))}}};u._initializeDao()})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/organization-config/organization-analytics-config":487,"../../lib/project-config/pricing-packages-config":489,"../../lib/util/debug":520,"../../lib/util/params":526,"../../lib/util/util":527,"../project-config/project-states-config":490,crypto:133,parse:343}],515:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/storage/environment",function(e,t,n){"use strict";var r=e("../../lib/util"),i={dao:e("./dao"),urls:e("./urls")},o=n.exports=r.core.makeClass({},{PRODUCTION_ENV_NAME:"production",DEMO_ENV_NAME:"demo",toEnvironment:function(e){return e instanceof o?e:r.core.isString(e)?new o(e):new o}},{constructor:function(e){this.env=r.params.getCanonicalEnvironmentName(e||r.params.getEnvironmentName()),this.bucketName="im-"+this.env,this.dao=i.dao.getTablesForEnvironment(this.env),Object.assign(this,this.dao)},toString:function(){return"<Environment:"+this.env+">"},getName:function(){return this.env},getBucketName:function(){return this.bucketName},getDao:function(){return this.dao}})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/util":524,"./dao":514,"./urls":517}],516:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/storage/project",function(e,t,n){"use strict";var r=e("../../lib/util"),i=e("../../lib/storage/urls"),o=(e("../../lib/storage/dao"),e("../../lib/storage/environment")),a=e("../../lib/misc/php"),s=e("path"),c=n.exports=r.core.makeClass({},{TRIFOCAL_OUTPUT_JSON_FILE_NAME:"_cams_light_tracks.json",TRIFOCAL_MINIMAL_OUTPUT_JSON_FILE_NAME:"_cams_skinny_pano_tracks.json",TRIFOCAL_OUTPUT_IMAGES_FOLDER:"/images/textures",FLOOR_PLAN_FOLDER_NAME:"floorPlan/",UPLOADED_SINGLE_PAGE_FLOOR_PLAN_FILENAME:"singlePage.pdf",UPLOADED_SINGLE_PAGE_JPEG_FLOOR_PLAN_FILENAME:"singlePage.jpg",UPLOADED_SINGLE_PAGE_JPEG_METRIC_FLOOR_PLAN_FILENAME:"singlePage.metric.jpg",FLOOR_PLAN_BACKGROUND_FILENAME:"background.png",FLOOR_PLAN_BACKGROUND_PARAMS_FILENAME:"params.json",ROOM_JSON_MODEL_FILENAME:"model.json",FLOOR_LATEST_JSON_FILENAME:"latest.json",FLOOR_MATERIALS_JSON_FILENAME:"materials.json",FLOOR_WALL_ELEMENT_MODELS_JSON_FILENAME:"wall-element-models.json",FLOOR_TEMPLATE_FILENAME:"floorTemplate.json",FLOOR_MAP_IMAGE_EXTENSION:"-vtMap.png",FLOOR_MAP_IMAGE_FULL_EXTENSION:"-vtMapFull.png",FLOOR_LABEL_IMAGE_EXTENSION:"-labels.png",FLOOR_METRIC_LABEL_IMAGE_EXTENSION:"-labels-metric.png",FLOOR_IMAGES_BACKGROUND_FILE_EXTENSION:"-background.png",FLOOR_METRIC_IMAGES_BACKGROUND_FILE_EXTENSION:"-background-metric.png",FLOOR_IMAGES_PARAMS_FILE_EXTENSION:"-params.json",FLOOR_WAYPOINTS_TRANSFORMATION_FILENAME:"waypointTransformations.json",VR_SCENE_TYPE_BAKE:"Bake",VR_SCENE_TYPE_RENDER:"Render",NO_PRO_MODEL_PROJECT:"No project with this pro model name",REST_API_GET_FLOOR_PLAN_LOGO_URLS:"/api/v1/project/getProjectLogoUrls/",PROPERTY_REPORT_NAMES:{pdf:{metric:"Property Report - Metric.pdf",imperial:"Property Report - Imperial.pdf"},xlsx:{metric:"Property Report.xlsx",imperial:"Property Report.xlsx"}},renderFrameAsync:function(e,t,n,i,o){return r.core.callApiAsync("POST","/api/v1/project/renderFrame",{userId:e,floorId:t,cameraData:JSON.stringify(n),waypointId:i,showcaseId:o})},getCalibrationPath:function(e){var t=storage.dao.getIdFromObject(e);return s.join("/users",t,"calibrations")},pathFixForWindows:function(e){return Array.isArray(e)?e.map(function(e){return e.replace(/\\/g,"/")}):e.replace(/\\/g,"/")},getSnapshotIdFromJobId:function(e){return e.replace(/:/g,"")}},{constructor:function(e,t){this._env=null,this._project=null,this._projectId=null,this._projectPath=null,this._photoPath=null,this._bucket=t||"im-"+r.params.getEnvironmentName(),this._photoSetCount=0,this._floors=[],this._rooms=[],this._assets=[],this._photoPropertyMap={},e&&this.fromParseProject(e,this._bucket),this.capturedPhotoMap=null,this._logoUrl=null,this._floorPlanLogoUrl=null,Object.seal(this)},parseId:{get:function(){return this._project?this._project.id:null}},logoUrl:{get:function(){return this._logoUrl}},floorPlanLogoUrl:{get:function(){return this._floorPlanLogoUrl}},fromParseProject:function(e,t){var n=o.toEnvironment(t);this._project=e,this._env=n,this._projectId=this._project.id,this._bucket=this._project.get("originalBucketName")||n.getBucketName()||"im-"+r.params.getEnvironmentName();var i=this._project.get("photoPath");if(!i){var a=this.getUser();a?(console.warn("Parse project without stored project path, substituting default path"),i="users/"+a.id+"/projects/"+this._projectId+"/"):(console.warn("Parse project without stored project path, cannot create default path due to user ACL"),i="")}return this._photoPath=c.pathFixForWindows(i),this._projectPath=c.pathFixForWindows(this._bucket+":"+i),this},fromParseRoom:function(e,t){var n=o.toEnvironment(t),r=e.getProject();return this.fromParseProject(r,n.getBucketName()),this.setParseRooms([e]),this},fromProjectIdAsync:function(e,t){var n=o.toEnvironment(t);return n.projectTable.getAsync(e,["user","organization"]).then(function(e){return this.fromParseProject(e,t)}.bind(this))},fromProModelAsync:function(e,t){var t=o.toEnvironment(t);return t.projectTable.findProjectByProModelAsync(e).then(function(e){if(!e)throw new Error(this.NO_PRO_MODEL_PROJECT);return this.fromParseProject(e,t)}.bind(this))},fromFloorIdAsync:function(e,t){var n=o.toEnvironment(t);return n.floorTable.getAsync(e,["project"]).then(function(e){return this.fromParseProject(e.getProject(),t)}.bind(this))},getParseProject:function(){return this._project},getEnv:function(){return this._env},getParseObject:function(){return this._project},getProject:function(){return console.warn("Project.getProject is deprecated, use Project.getParseProject or Project.getParseObject instead"),this.getParseObject()},getBucket:function(){return this._bucket},getUser:function(){var e=this._project.get("user");return e||console.debug("Can not access user id for project (assuming ACL issue)"),e},getParseRooms:function(){return this._rooms},setParseRooms:function(e){e=e||[],this._rooms=e},getParseRoom:function(e){if(1!==this._rooms.length)throw new Error(e||"No single parse room associated with the project");return this._rooms[0]},requireRoom:function(e){return this.getParseRoom(e)},getParseFloors:function(){return this._floors},setParseFloors:function(e){e=e||[],this._floors=e},setParseAssets:function(e){e=e||[],this._assets=e},getParseAssets:function(){return this._assets},loadParseRoomsAsync:function(e,t){return t=t||new o,Promise.resolve().then(function(){return console.debug("Getting Parse rooms for project..."),t.roomTable.findAllRoomsForProjectAsync(this._project)}.bind(this)).then(function(e){return this.setParseRooms(e),e}.bind(this))},loadParseFloorsAsync:function(e){return e=e||new o,Promise.resolve().then(function(){return console.debug("Getting Parse floors for project..."),e.floorTable.listFloorsForProjectAsync(this._project)}.bind(this)).then(function(e){return this.setParseFloors(e),e}.bind(this))},loadParseAssetsAsync:function(e){return e=e||new o,Promise.resolve().then(function(){return console.debug("Getting Parse assets for project..."),e.assetTable.findAssetsForProjectAsync(this._project)}.bind(this)).then(function(e){return this.setParseAssets(e),e}.bind(this))},loadCapturedPhotoMapAsync:function(e){e=e||{};var t="/api/v1/roomEditor/getCapturedPhotoUrls";return e.jenkinsTest&&(t="/api/v1/roomEditor/getJenkinsCapturedPhotoUrls"),r.core.callApiAsync("GET",t,{projectId:this._project.id,roomId:e.roomId,signedUrlMap:!0,cubeMaps:e.cubeMaps,mobile:!0,signUrls:e.signUrls},e).then(function(t){return this.capturedPhotoMap=t,e.signUrls&&i.addReadPathMap(t),t}.bind(this))},loadCubemapPhotoMapAsync:function(e){e=e||{};var t="/api/v1/roomEditor/getCubemapPhotoUrls";return e.cubemapUrls?(e.signUrls&&i.addReadPathMap(e.cubemapUrls),Promise.resolve(e.cubemapUrls)):r.core.callApiAsync("GET",t,{projectId:this._project.id,roomId:e.roomId,signedUrlMap:!0,cubeMaps:e.cubeMaps,mobile:!0,signUrls:e.signUrls,photoAnalyzer:e.photoAnalyzer},e).then(function(t){return this.capturedPhotoMap=t,e.signUrls&&i.addReadPathMap(t),t}.bind(this))},getRootPath:function(){return this._projectPath},getPhotoPath:function(){return this._photoPath},getFloorPlanRootPath:function(){var e=s.join(this.getRootPath(),c.FLOOR_PLAN_FOLDER_NAME);return c.pathFixForWindows(e)},getFloorPlanBackgroundImagePath:function(){return this.getFloorPlanRootPath()+c.FLOOR_PLAN_BACKGROUND_FILENAME},getFloorPlanParamsPath:function(){return this.getFloorPlanRootPath()+c.FLOOR_PLAN_BACKGROUND_PARAMS_FILENAME},getUploadedFloorPlanPath:function(){return this.getFloorPlanRootPath()+c.UPLOADED_SINGLE_PAGE_FLOOR_PLAN_FILENAME},getUploadedJpegFloorPlanPath:function(){return this.getFloorPlanRootPath()+c.UPLOADED_SINGLE_PAGE_JPEG_FLOOR_PLAN_FILENAME},getUploadedJpegMetricFloorPlanPath:function(){return this.getFloorPlanRootPath()+c.UPLOADED_SINGLE_PAGE_JPEG_METRIC_FLOOR_PLAN_FILENAME},getRootRelativePath:function(){return this._convertToRelativePath(this._projectPath)},getCalibrationPath:function(e,t){return c.getCalibrationPath(e)},getCapturedPhotoPath:function(){var e=s.join(this._projectPath,"capturedPhotos");return c.pathFixForWindows(e)},getUrlsFilePath:function(){var e=s.join(this._projectPath,"urlsFile.json");return c.pathFixForWindows(e)},getPropertyReportS3Path:function(e,t){var n=this.getPropertyReportS3FileName(e,t),r=s.join(this._projectPath,n);return c.pathFixForWindows(r)},getPropertyReportS3FileName:function(e,t){var n=c.PROPERTY_REPORT_NAMES;return n[e]&&n[e][t||"metric"]},getPropertyReportFileName:function(e,t){var n=t?"-"+t:"";return this._project.getName()+n+"."+e},getCapturedPhotoPathForRoom:function(e){var t=s.join(this.getRoomPath(e),"capturedPhotos");return c.pathFixForWindows(t)},getCubeMapPhotoPathForRoom:function(e){var t=s.join(this.getRoomPath(e),"3dre/images/cubemaps");return c.pathFixForWindows(t)},getWarningLogUrlForRoom:function(e){var t=s.join(this.getRoomPath(e),"3dre/warningLog.txt");return t=c.pathFixForWindows(t),this.getS3Url(t)},getPanoramasPhotoPathForRoom:function(e){var t=s.join(this.getRoomPath(e),"3dre/images/panoramas");return c.pathFixForWindows(t)},getCapturedPhotoPathForSLRUpload:function(){var e=s.join(this.getSLRUploadPath(),this.getPhotoSetDirName());return c.pathFixForWindows(e)},incrementPhotoSetCountAndActivateProject:function(){return this._photoSetCount+=1,this.activateProject()},getPhotoSetDirName:function(){return"Set"+(this._photoSetCount+1)+"/"},getPhotoSetCount:function(){return this._photoSetCount},activateProject:function(){return this._project.set("status","active"),this._project.saveAsync()},getAutoAwesomePath:function(){var e=s.join(this._projectPath,"autoAwesome");return this.pathFixForWindows(e)},getRealEstatePath:function(){var e=s.join(this._projectPath,"realEstatePhotos");return this.pathFixForWindows(e)},getAssetPhotoPath:function(e){return this.getAssetPhotoPathFromClientId(e.getClientId())},getAssetPhotoPathFromClientId:function(e){var t=s.join(this._projectPath,"assets","photos"),n=e+"-Asset.jpg";return this.pathFixForWindows(s.join(t,n))},getAssetSpecificationPhotoPath:function(e){return this.getAssetSpecificationPhotoPathFromClientId(e.getClientId())},getAssetSpecificationPhotoPathFromClientId:function(e){var t=s.join(this._projectPath,"assets","photos"),n=e+"-Specs.jpg";return this.pathFixForWindows(s.join(t,n))},getVideoFilePath:function(){var e=s.join(this._projectPath,"videos");return this.pathFixForWindows(e)},getArtifactPath:function(e){var t=e?s.join(this._projectPath,"artifacts",e):s.join(this._projectPath,"artifacts");return c.pathFixForWindows(t)},getLightmapPath:function(e){var t=s.join(this._projectPath,"artifacts/lightmaps",e);return c.pathFixForWindows(t)},getVrScenePath:function(e,t){var n=t===c.VR_SCENE_TYPE_RENDER?"render.vrscene":"bake.vrscene",r=s.join(this.getArtifactPath(),e,n);return c.pathFixForWindows(r)},getVrSceneIesRootPath:function(e){var t=s.join(this.getArtifactPath(),e,"ies");return c.pathFixForWindows(t)},getVrSceneGeolistRootPath:function(e){var t=s.join(this.getArtifactPath(),e,"geolist");return c.pathFixForWindows(t)},getFBXPath:function(e){var t=s.join(this.getArtifactPath(),e,"model.fbx");return c.pathFixForWindows(t)},getJsFileName:function(e){var t=s.join("models/"+this.getParseProject().getPro(),"floor_"+e+"_"+this.getParseProject().id+".js");return c.pathFixForWindows(t)},getMapsRootPath:function(e){var t=s.join(this.getArtifactPath(),e,"maps");return c.pathFixForWindows(t)},getSnapshotPath:function(e,t){var n=s.join(this._projectPath,"artifacts",e)+"/";return t&&(n+=t),c.pathFixForWindows(n)},getSnapshotForId:function(e,t){return this.getSnapshotPath(e,t+".png")},getObjMtlRootPath:function(e){var t=s.join(this.getArtifactPath(),e,"obj");return c.pathFixForWindows(t)},getObjMtlPath:function(e,t){var n=this.getObjMtlRootPath(e),r=s.join(n,t);return c.pathFixForWindows(r)},getModelsJsonPath:function(){var e="models.json",t="im-model:models",n=this.getParseProject().getPro(),r=s.join(t,n),i=s.join(r,e);return c.pathFixForWindows(i)},getRoomPath:function(e){e=e||this.getParseRoom();var t="",n=e;if(!r.core.isString(e)){var i=e.getOriginalRoom().split(":");t=i[0]+":",n=i[1]}var o=e?s.join(this._projectPath,"rooms",n):s.join(this._projectPath,"rooms");return c.pathFixForWindows(o)},getRoomPathNoBucket:function(e){var t=s.join(this.getPhotoPath(),"rooms",e);return c.pathFixForWindows(t)},getCliRoomPath:function(e){var t=this.getRoomPath(e).split(":"),n=t[0],r=t[1],i="s3://"+n+"/"+r+"/";return i},getRoomRelativePath:function(e){var t=this.getRoomPath(e);return this._convertToRelativePath(t)},getRoomTrifocalJsonOuputRelativePath:function(e){var t=c.TRIFOCAL_OUTPUT_JSON_FILE_NAME,n=this.getTrifocalArtifactPath(e,t);return this._convertToRelativePath(n)},getRoomTrifocalMinimalJsonOutputRelativePath:function(e){var t=c.TRIFOCAL_MINIMAL_OUTPUT_JSON_FILE_NAME,n=this.getTrifocalArtifactPath(e,t);return this._convertToRelativePath(n)},getRoomTrifocalOutputImagesFolderRelativePath:function(e){var t=c.TRIFOCAL_OUTPUT_IMAGES_FOLDER,n=this.getTrifocalArtifactPath(e,t);return this._convertToRelativePath(n)},getTrifocalArtifactPath:function(e,t){var n=t?s.join(this.getRoomPath(e),"3dre",t):s.join(this.getRoomPath(e),"3dre");return c.pathFixForWindows(n)},getMobileTrifocalArtifactPath:function(e,t){var n=s.join(this.getTrifocalArtifactPath(e),"mobile");return t&&(n=s.join(n,t)),c.pathFixForWindows(n)},getTrifocalFusedImagePath:function(e,t){var n=t?s.join(this.getRoomPath(e),"3dre/images/computed",t):s.join(this.getRoomPath(e),"3dre/images/computed");return c.pathFixForWindows(n)},getTrifocalMeshPath:function(e,t){var n=t?s.join(this.getRoomPath(e),"3dre/meshFiles/PMVS",t):s.join(this.getRoomPath(e),"3dre/meshFiles/PMVS");return c.pathFixForWindows(n)},getRoomTemplateJsonFilePath:function(e){var t=this.getRoomPath(e),n=s.join(t,c.ROOM_JSON_MODEL_FILENAME);return c.pathFixForWindows(n)},getHDRPhotoPath:function(){var e=s.join(this._projectPath,"artifacts/hdrPanos");return c.pathFixForWindows(e)},getWatermarkPhotoPath:function(){var e=s.join(this._projectPath,"artifacts/watermarkPanos");return c.pathFixForWindows(e)},getPreviewPhotoPath:function(){var e=s.join(this._projectPath,"artifacts/previewPanos");return c.pathFixForWindows(e)},getSplashPhotoPath:function(){var e=s.join(this._projectPath,"splashPhoto");return c.pathFixForWindows(e)},getS3Url:function(e){return i.getUrlFor("im-"+r.params.getEnvironmentName(),e,{},!0)},getS3ProxyUrl:function(e,t){return t=t||"im-"+r.params.getEnvironmentName(),"/s3proxy.php?img=s3.amazonaws.com/"+t+e},getS3ProxyCheckUrl:function(e,t){return t=t||"im-"+r.params.getEnvironmentName(),"/s3proxy.php?img=s3.amazonaws.com/"+t+e+"&checkIfExists"},getFloorRootPath:function(e){var t=this._project.getPhotoPath()?this._project.getPhotoPath():"users/"+this.getUser().id+"/projects/"+this._project.id+"/";return t=(this._env&&this._env.bucketName?this._env.bucketName+":":"")+t,c.pathFixForWindows(s.join(t,"floors",e))},getFloorPlansPath:function(e){return c.pathFixForWindows(s.join(this.getFloorRootPath(e),"floorPlans/"))},getFloorJsonRootPath:function(e){return this.getFloorRootPath(e)},getFloorAutosaveJsonRootPath:function(e){return c.pathFixForWindows(s.join(this.getFloorRootPath(e),"autosaveJsons"))},getFloorJsonFilePath:function(e){return c.pathFixForWindows(s.join(this.getFloorJsonRootPath(e),c.FLOOR_LATEST_JSON_FILENAME))},getWaypointsTransformationJsonFilePath:function(e){return c.pathFixForWindows(s.join(this.getFloorJsonRootPath(e),c.FLOOR_WAYPOINTS_TRANSFORMATION_FILENAME))},getFloorMaterialsJsonFilePath:function(e){return c.pathFixForWindows(s.join(this.getFloorJsonRootPath(e),c.FLOOR_MATERIALS_JSON_FILENAME))},getFloorWallElementModelsJsonFilePath:function(e){return c.pathFixForWindows(s.join(this.getFloorJsonRootPath(e),c.FLOOR_WALL_ELEMENT_MODELS_JSON_FILENAME))},getFloorTemplateFilePath:function(e){var t=this.getFloorJsonRootPath(e);return c.pathFixForWindows(s.join(t,c.FLOOR_TEMPLATE_FILENAME))},generateFloorJsonNewHistoryFilePath:function(e){var t=this.getFloorJsonRootPath(e),n=(new Date).toISOString().replace(/:/g,"-");return c.pathFixForWindows(s.join(t,n+".json"))},generateFloorAutosaveJsonNewFilePath:function(e){var t=this.getFloorAutosaveJsonRootPath(e),n=(new Date).toISOString().replace(/:/g,"-");return c.pathFixForWindows(s.join(t,n+".json"))},getFloorImageS3BasePath:function(e){var t=this._getCleanPath();return c.pathFixForWindows(s.join(t,"output/images/",e))},getFloorImageS3Path:function(e){return this.getFloorImageS3BasePath(e)+".png"},getFloorImageVTS3Path:function(e){return this.getFloorImageS3BasePath(e)+"-vtMap.png"},getFloorImageVTS3FullPath:function(e){return this.getFloorImageS3BasePath(e)+"-vtMapFull.png"},getFloorImageS3BackgroundPath:function(e){return this.getFloorImageS3BasePath(e)+c.FLOOR_IMAGES_BACKGROUND_FILE_EXTENSION},getMetricFloorImageS3BackgroundPath:function(e){return this.getFloorImageS3BasePath(e)+c.FLOOR_METRIC_IMAGES_BACKGROUND_FILE_EXTENSION},getVirtualTourMapImageS3Path:function(e){return this.getFloorImageS3BasePath(e)+c.FLOOR_MAP_IMAGE_EXTENSION},getVirtualTourMapFullImageS3Path:function(e){return this.getFloorImageS3BasePath(e)+c.FLOOR_MAP_IMAGE_FULL_EXTENSION},getLabelsImageS3Path:function(e){return this.getFloorImageS3BasePath(e)+c.FLOOR_LABEL_IMAGE_EXTENSION},getMetricLabelsImageS3Path:function(e){return this.getFloorImageS3BasePath(e)+c.FLOOR_METRIC_LABEL_IMAGE_EXTENSION},getFloorImageS3ParamsPath:function(e){return this.getFloorImageS3BasePath(e)+c.FLOOR_IMAGES_PARAMS_FILE_EXTENSION},getFloorOverlayImageS3Path:function(e){return this.getFloorImageS3BasePath(e)+"-overlay.png"},getVTOverlayImageS3Path:function(e){return this.getFloorImageS3BasePath(e)+"-vt.png"},getFloorBackgroundImageS3Path:function(e){var t=this._getCleanPath();return c.pathFixForWindows(s.join(t,"output/images/",e+"-background.png"))},getZipArchiveFileName:function(e){var t="photos-"+r.core.underscorify(this._project.getName(),"-");return e&&(t+="-"+e.replace(" ","_")),t+=".zip"},getRoomFileDescriptorRelativePath:function(e){var t=this.getRoomRelativePath(e);return t+"/files.txt"},invalidateAsync:function(){if(!this._project.getPro())throw new Error("Project does not have a Pro Model attached to it.");var e="/api/v1/modeler/invalidate/"+this._project.getPro();return r.core.callApiAsync("get",e,{})},getPhotoPropertyMap:function(){if(!this._photoPropertyMap)throw new Error("Load photo properties before you use them ");return this._photoPropertyMap},loadPhotoPropertyMapAsync:function(){var e=i.getUrlFor(i.PROJECT,this.getArtifactPath("filePropertyMap.bin"),{loadFrom:"s3"},!0);return r.core.loadTextAsync(e).then(function(e){return this._photoPropertyMap=a.unserialize(e),this._photoPropertyMap}.bind(this))["catch"](function(e){throw r.debug.getImprovedError(e,"Photo analysis worker has not yet completed, photo properties not available")})},findParseRoom:function(e){return this._rooms.find(function(t){return t.id===e}.bind(this))},findParseFloor:function(e){return this._floors.find(function(t){return t.id===e}.bind(this))},analyzePhotosAsync:function(e){var t="/v2/api/project/analyzePhotos?projectItemName="+this._project.id+"&incremental="+e;return a.env&&(t+="&env="+a.env),r.core.httpAsync("post",t)},getTestTracksUrl:function(){},getTrifocalLogsUrl:function(e){var t="/v2/api/s3resource/trifocallogs",n=this.getUser();return t+"/"+r.params.getEnvironmentName()+"/"+urlencode(n.getEmail())+"/"+e.itemName+"/"+tag},getimCacheDirUrl:function(e){return this.getRoomPath(e)+"/cache"},getPreview3dLightUrl:function(e){return this.getTestTracksUrl()+"?trackfile="+this.getimCacheDirUrl(e)+"/_cams_light_tracks.json"},getPreview3dUrl:function(e){return this.getTestTracksUrl()+"?trackfile="+this.getimCacheDirUrl(e)+"/_cams_ba_tracks.json"},getPreview3dUrl2:function(e){return this.getTestTracksUrl()+"?trackfile="+this.getimCacheDirUrl(e)+"/_sp_tracks.json"},getPerformanceLogUrl:function(e){return this.getTestTracksUrl()+"?trackfile="+this.getimCacheDirUrl(e)+"/performance.log"},getConsoleOutputUrl:function(e){return this.getTestTracksUrl()+"?trackfile="+this.getimCacheDirUrl(e)+"/trifocal.log"},getimCacheUrl:function(e){return this.getTestTracksUrl()+"?trackfile="+this.getimCacheDirUrl(e)+"/index.html"},fetchLogoUrlsAsync:function(){var e=this.getParseObject().id;return r.core.callApiAsync("GET",c.REST_API_GET_FLOOR_PLAN_LOGO_URLS+e).then(function(e){this._logoUrl=e.logoUrl,this._floorPlanLogoUrl=e.floorPlanLogoUrl}.bind(this))},getTetraUrl:function(e){return"/tetra/"+e.id},getTetraDataLink:function(){return this.getimCacheDirUrl(room)+"/tetraOutput.zip"},getTetraModelLink:function(){return this.getimCacheDirUrl(room)+"/finalMesh"},getTtraNonGpuLogLink:function(){return this.getimCacheDirUrl(room)+"/tetrahedraNonGpu.log"},getTetraGpuLogLink:function(){return this.getimCacheDirUrl(room)+"/tetrahedraGpu.log"},getTetraCmvsLogLink:function(){return this.getimCacheDirUrl(room)+"/cmvs.log"},getTetraPmvsLogLink:function(){return this.getimCacheDirUrl(room)+"/pmvs.log"},getTetraGpuPhpLogLink:function(){return this.getimCacheDirUrl(room)+"/tetrahedraGpuPhp.log"},getPreviewLink3dLightTetra:function(e){return this.getTestTracksUrl()+"?trackfile="+this.getimCacheDirUrl(e)+"/_cams_light_tracks.json&meshfile="+tetraModelLink},_getCleanPath:function(){var e=this._projectPath,t=e.indexOf(":");return t!==-1&&(e=e.substring(t+1,e.length)),e},_convertToRelativePath:function(e){var t=e.indexOf("im-"),n=e.indexOf(":");return 0===t&&n!==-1&&(e=e.substring(n+1,e.length)),e},getProductionListingLink:function(){var e="https://"+s.join("www.insidemaps.com","project",this.getParseProject().id,"/listing");return e}})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/misc/php":485,"../../lib/storage/dao":514,"../../lib/storage/environment":515,"../../lib/storage/urls":517,"../../lib/util":524,path:344}],517:[function(require,module,exports){(function(global){var define=global.define||function(e,t){t(require,exports,module)};define("lib/storage/urls",function(require,exports,module){"use strict";var util=require("../../lib/util"),s3Signer=global.isBrowser?null:eval('require("../../../../node/lib/s3/signer")'),https=!global.isBrowser||util.params.getBoolean("https",0===window.location.href.indexOf("https://")),defaultBrowserLoadFrom="sharded",hostname="",PRIVATE_URLS=["^(.+)(/projects/)(.+)(/artifacts/hdrPanos/)(.*)$","^(.+)(/projects/)(.+)(/floorPlan/)(.+)(/single.*)$","^(.+)(/projects/)(.+)(/floorPlans/)(.+)(/floorPlan.*)$","^(.+)(/projects/)(.*)(/Property Report)(.*)$","^(.+)(/projects/)(.+)(/capturedPhotos/)(.*)$","^(.+)(/projects/)(.+)(/output/)(.*)$","^(.+)(/projects/)(.+)(/videos/)(.*)$"];global.isBrowser&&(hostname=window.location.hostname,"cn.insidemaps.com"===hostname&&(defaultBrowserLoadFrom="proxy"));var shards=[1,2,3,4,5,6].map(function(e){return"im"+e+".insidemaps.com"}),scope=module.exports={S3_FURNITURE_URLS:{node:["im-furniture:/furniture/"],s3:["im-furniture.s3.amazonaws.com/furniture/"],cloudfront:["d1iac2yykpdrao.cloudfront.net/furniture/"],insidemaps:["im.insidemaps.com/furniture/"],
sharded:shards.map(function(e){return e+"/furniture/"}),local:[hostname+"/localModel/furniture/"],proxy:[hostname+"/S3/furniture/"],dynamic:["d1iac2yykpdrao.cloudfront.net/api/v1/dynamic/getPreviewTextures/"]},S3_MATERIALS_URLS:{node:["im-materials:/materials/"],s3:["im-material.s3.amazonaws.com/materials/"],cloudfront:["d1iac2yykpdrao.cloudfront.net/materials/"],insidemaps:["im.insidemaps.com/materials/"],sharded:shards.map(function(e){return e+"/materials/"}),local:["d1iac2yykpdrao.cloudfront.net/materials/"],proxy:[hostname+"/S3/materials/"],dynamic:["d1iac2yykpdrao.cloudfront.net/materials/"]},S3_MODELS_URLS:{node:["im-model:/models/"],s3:["im-model.s3.amazonaws.com/models/"],cloudfront:["d1iac2yykpdrao.cloudfront.net/models/"],insidemaps:["im.insidemaps.com/models/"],sharded:shards.map(function(e){return e+"/models/"}),local:[hostname+"/localModel/"],proxy:[hostname+"/S3/models/"],dynamic:["d1iac2yykpdrao.cloudfront.net/api/v1/dynamic/getCompressedModelJpg/"]},IM_PRODUCTION_URLS:{node:["im-production:/"],s3:["im-production.s3.amazonaws.com/"],cloudfront:["dwf9rsemygh2b.cloudfront.net/"],insidemaps:["dwf9rsemygh2b.cloudfront.net/"],sharded:["dwf9rsemygh2b.cloudfront.net/"],local:["dwf9rsemygh2b.cloudfront.net/"],proxy:[hostname+"/S3/"],dynamic:["dwf9rsemygh2b.cloudfront.net/"]},IM_DEMO_URLS:{node:["im-demo:/"],s3:["im-demo.s3.amazonaws.com/"],cloudfront:["demo-cloudfront.insidemaps.com/"],insidemaps:["demo-cloudfront.insidemaps.com/"],sharded:["demo-cloudfront.insidemaps.com/"],local:["demo-cloudfront.insidemaps.com/"],dynamic:["demo-cloudfront.insidemaps.com/"],proxy:[hostname+"/S3/"]},MODEL:"models",FURNITURE:"furniture",MATERIAL:"materials",PROJECT:"projects",readPathMap:new Map,reverseReadPathMap:new Map,writePathMap:new Map,reverseWritePathMap:new Map,loadFrom:global.isBrowser?util.params.getString("loadFrom",defaultBrowserLoadFrom):"s3",jpegQuality:util.params.getString("quality","85"),addReadPathMap:function(e){util.core.forEach(e,function(e,t){this.readPathMap.set(t,e)},this)},addWritePathMap:function(e){util.core.forEach(e,function(e,t){this.writePathMap.set(t,e)},this)},hasSignedReadUrl:function(e){return this.readPathMap.has(e)},hasSignedWriteUrl:function(e){return this.writePathMap.has(e)},getBucketAndKeyFromPath:function(e,t){e.trim();var n,r,i=e.split(":"),o=e.indexOf("/");if(i.length>2)throw new Error('s3 path contains a ":" character: '+e);return i.length>1?(n=i[0],r=i[1]):e.startsWith("im-")&&o!==-1?(n=e.slice(0,o),r=e.slice(o+1,e.length)):(n=t||"im-"+util.params.getEnvironmentName(),r=e),r="/"===r[0]?r.slice(1):r,{Bucket:n,Key:r}},getS3Url:function(e){var t=scope.getBucketAndKeyFromPath(e);return"https://s3.amazonaws.com/"+t.Bucket+"/"+t.Key},getSignedS3Url:function(e){return util.core.httpAsync("GET","/api/v1/project/signUrl?url="+encodeURI(e))},getSignedS3Urls:function(e){return util.core.httpAsync("POST","/api/v1/project/signUrl",JSON.stringify(e),{dataType:"json",rawRequestData:!0,headers:{"Content-Type":"application/json"}})},getS3PathFor:function(e,t){return scope.getUrlFor(e,t,{loadFrom:"node"},!0)},getParseUrl:function(e,t){return void 0===t&&(t=https),t?e.replace(/http:\/\//,"https://s3.amazonaws.com/"):e},getUrl:function(e,t,n){var r=this.readPathMap.get(e);return r?r:scope.getUrlFrom(e,t,!n)},getUrlForPath:function(e,t,n){if(0===e.indexOf("http"))return scope.getUrl(e);var r=scope.getBucketAndKeyFromPath(e),i=r.Bucket,o=r.Key;return scope.getUrlForAssetAndPath(i,o,t,n)},getUrlFor:function(e,t,n,r){n=n||{};var i=(n.env||util.params.getEnvironmentName(),t);if(void 0===i)throw new Error("urls.getUrlFor requires asset type + url, use urls.getUrl instead");var o=this.readPathMap.get(i);if(o)return o;if(i&&(0===i.indexOf("http://")||0===i.indexOf("https://")))return scope.getUrlFrom(t,n,r);if(i.indexOf(":")!==-1){var a=scope.getBucketAndKeyFromPath(i);e=a.Bucket,i=a.Key}return scope.getUrlForAssetAndPath(e,i,n,r)},getUrlFrom:function(e,t,n){if(e&&(0===e.indexOf("http://")||0===e.indexOf("https://"))){t=t||{};var r=t.loadFrom||scope.loadFrom,i=scope._getAssetTypeFromUrl(e,r);if(!i)return e;var o=scope._getAssetFromUrl(e,r);return scope.getUrlFor(i,o,t,n)}return e},getUrlForAssetAndPath:function(e,t,n,r){var i,o=n&&n.loadFrom||scope.loadFrom,a=n&&n.env||util.params.getEnvironmentName();switch(e){case void 0:break;case scope.FURNITURE:i=scope._getBaseUrl(scope.S3_FURNITURE_URLS,t,o)+t;break;case scope.MATERIAL:i=scope._getBaseUrl(scope.S3_MATERIALS_URLS,t,o)+t;break;case scope.MODEL:t.indexOf("demo")>-1&&(t=t.split("demo/").pop()),i=scope._getBaseUrl(scope.S3_MODELS_URLS,t,o)+t;break;case scope.PROJECT:switch(a){case"production":case"im-production":i=scope._getBaseUrl(scope.IM_PRODUCTION_URLS,t,o)+t;break;case"demo":case"im-demo":i=scope._getBaseUrl(scope.IM_DEMO_URLS,t,o)+t;break;default:i=global.isBrowser?"https://im-"+a+".s3.amazonaws.com/"+t:a+":"+t}break;case"im-production":i=scope._getBaseUrl(scope.IM_PRODUCTION_URLS,t,o)+t;break;case"im-demo":i=scope._getBaseUrl(scope.IM_DEMO_URLS,t,o)+t;break;default:if(e.startsWith("im-")){i=global.isBrowser?"https://im-"+a+".s3.amazonaws.com/"+t:a+":"+t;break}if(util.debug.DEBUGLEVEL>1)throw new Error("Unknown assetPath type "+e+": "+t);console.warn("Unknown assetPath type "+e),i="/"+e+"/"+t}return r&&global.isBrowser?i:scope.isResourcePrivate(i)?global.isBrowser?this.getSignedS3Url(i):s3Signer.getSignedDownloadUrl(i):global.isBrowser?Promise.resolve(i):i},isResourcePrivate:function(e){for(var t in PRIVATE_URLS){var n=new RegExp(PRIVATE_URLS[t],"g");if(e.match(n))return!0}return!1},parseRoomIdFromCubeMapUrl:function(e){if(e){var t=e.match(/\S+rooms\/(\S+)\/3dre/);if(t&&t.length>=2)return t[1]}},parseSpinIdFromCubeMapUrl:function(e){if(e){var t=e.match(/\S+spin(\d{4})\S+/);if(t&&t.length>=2)return t[1]}},parseSpinIdFromPhotoUrl:function(e){if(e){var t=e.match(/\S+s(\d{3})\S+/);if(t&&t.length>=2)return t[1]}},parseSpinTypeFromCubeMapUrl:function(e){if(e){var t=e.match(/\S+\.cube_(\S+)\.jpg/);if(t&&t.length>=2)return t[1]}},getQuery:function(e,t){var n={};if(e){var r=e.split("?");if(r[1]){var i=r[1].split("&");for(var o in i){var a=i[o].split("=");a[1]?n[a[0]]=a[1]:n[a[0]]=!0}}}return t?n[t]:n},_getBaseUrl:function(e,t,n){n=n||scope.loadFrom;for(var r=t.length,i=0,o=0;o<r;o++)i+=t.charCodeAt(o);var a=e[n],s=a[i%a.length];if("node"!==n&&(s=(https?"https://":"http://")+s),"dynamic"===n){if(t.indexOf(".jpg")<0||s.indexOf("materials")>-1)return scope._getBaseUrl(e,t,defaultBrowserLoadFrom);s=s+scope.jpegQuality+"/"}return s},_getAssetTypeFromUrl:function(e,t){t=t||scope.loadFrom;var n=e.split("/")[3];switch(n){case"furniture":return scope.FURNITURE;case"materials":return scope.MATERIAL;case"models":return scope.MODEL;default:return}},_getAssetFromUrl:function(e){return e.split("/").slice(4).join("/")}}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/util":524}],518:[function(e,t,n){var r=e("../util"),i=e("../browser"),o=e("../util/file-saver"),a=r.core.makeClass({},{GET_FLOOR_PLANS_DATA_URL:"/api/v1/project/getFloorPlansData/",IMPERIAL:"Imperial",METRIC:"Metric",PNG:"Png",JPG:"Jpg",SVG:"Svg",PDF:"Pdf"},{constructor:function(e,t){this._project=e,this._$modal=t,this._isMetricSystemUsed=e.isUsingMetricSystem(),this._floorPlansMap=null,this.downloadPropertyReportMetricURL="#",this.downloadPropertyReportImperialURL="#"},floorPlansAreLoaded:{get:function(){return!!this._floorPlansMap}},isMetricSystemUsed:{get:function(){return this._isMetricSystemUsed},set:function(e){this._isMetricSystemUsed!==e&&(this._isMetricSystemUsed=e,i.angular.triggerUpdate())}},downloadFloorPlan:function(e,t,n){var r=this.getFloorPlanDownloadUrl(e,t,n),i=new o;i.download(r)},getFloorPlanDownloadUrl:function(e,t,n){var r=n||(this._isMetricSystemUsed?a.METRIC:a.IMPERIAL);return"/api/v1/floorApi/get"+r+"Floor"+t+"/"+e},isFloorLoaded:function(e){return this._floorPlansMap&&this._floorPlansMap[e]},getFloorUrlsObject:function(e,t){var n={};return this._floorPlansMap&&this._floorPlansMap[e]&&(n=this._floorPlansMap[e][this._getMeasurementsString(t)]),n},openFloorPlanModal:function(e){var t=this.getFloorUrlsObject(e).png;this._$modal.open({templateUrl:"largerFloorImageTemplate",controller:["$scope","floorImage",function(e,t){e.imageSource=t}],scope:this.$scope,size:"lg",resolve:{floorImage:function(){return t}}})},updateAsync:function(){return this._floorPlansMap=null,r.core.callApiAsync("POST",a.GET_FLOOR_PLANS_DATA_URL+this._project.id).then(function(e){this._floorPlansMap=e.reduce(function(e,t){return e[t.id]=t,e}.bind(this),{}),i.angular.triggerUpdate()}.bind(this))},_getMeasurementsString:function(e){var t=void 0===e?this._isMetricSystemUsed:e;return t?"metric":"imperial"}});t.exports=a},{"../browser":475,"../util":524,"../util/file-saver":522}],519:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/util/assert",function(e,t,n){"use strict";var r=n.exports={setThrowOnError:function(e){r._throwOnError=e},_throwOnError:!1,check:function(e,t){if(!e&&(console.error(t),console.trace(),r._throwOnError))throw new Error(t)},isBoolean:function(e){r.check("boolean"==typeof e,"Not a boolean.")},isObject:function(e){r.check("object"==typeof e&&null!==e,"Not an object.")},isFunction:function(e){r.check("function"==typeof e,"Not a function.")},isArray:function(e){r.check(Array.isArray(e),"Not an array.")},isNonEmptyArray:function(e){r.check(Array.isArray(e)&&e.length>0,"Array without elements.")},isString:function(e){r.check("string"==typeof e,"Not a string.")},isTypeof:function(e,t){r.check(e instanceof t,"Object not of type "+t.name)},isOneOfTypes:function(e,t){for(var n=!1,i=1;i<arguments.length&&!n;i++)n=e instanceof arguments[i];r.check(n,"Object is not the right type.")},isDOMElement:function(e){r.check(e&&1===e.nodeType,"Not a DOM element")},isNotNull:function(e){r.check(null!==e,"Is null reference.")},isNumber:function(e){return r.check(!isNaN(e),"Not a number")},isNotDefinedOrBoolean:function(e){return r.check(void 0===e||null===e||"boolean"==typeof e,"Bad type")},isNotDefinedOrNumber:function(e){return r.check(void 0===e||null===e||!isNaN(e),"Bad type")},isNotDefinedOrString:function(e){return r.check(void 0===e||null===e||"string"==typeof e,"Bad type")},isNotDefinedOrTypeof:function(e,t){return r.check(void 0===e||null===e||e instanceof t,"Bad type")},isNotDefinedOrFunction:function(e){return r.check(void 0===e||null===e||"function"==typeof e,"Bad type")},isNotDefinedOrObject:function(e){r.check(void 0===e||null===e||"object"==typeof e,"Bad type.")},isNotDefinedOrArray:function(e){return r.check(void 0===e||null===e||Array.isArray(e),"Bad type.")},isNotDefinedOrOneOfTypes:function(e,t){var n=void 0===e||null===e;if(!n)for(var i=1;i<arguments.length&&!n;)n=e instanceof arguments[i],i++;r.check(n,"Object is not the right type.")},isDefined:function(e){return r.check(!!e)}}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],520:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/util/debug",function(e,t,n){"use strict";var i={assert:e("./assert"),params:e("./params")},o=e("parse").Parse,a=n.exports={watch:function(e,t){var n=e[t];Object.defineProperty(e,t,{set:function(e){n=e},get:function(){return n}})},errorHints:{parseMasterKeyActive:!1},_notifiedWebServiceTimestamp:0,errorHandler:function(e){a._maxNumberOfAlerts-- >=0&&r.isBrowser&&alert(a.getDetailedErrorMessage(e))},reportedErrors:{},_maxNumberOfAlerts:1,handleError:function(e,t,n){if(e=t?a.getImprovedError(e,t):e,!e.message.indexOf("Unexpected token < (/login/sessionToken)")>=0){console.error(a.getDetailedErrorMessage(e),e),a.errorHandler(e);var r=e.message?e.message.replace(/\W+/g,""):"Unknown Error";e.userError||n||a.reportedErrors[r]&&"Unknown Error"!==r||(a.reportedErrors[r]=!0,a._reportErrorToServer(e))}return e},getImprovedError:function(e,t,n){n=n||{};var r=n.operationName||"",i=n.args||"",s=n.messageContainsStack,c=function(e,t,n,r){var i="";return t&&(i+=t),n&&(i+=i.length?"\n":"",i+="Operation: "+n+"("+a.safeJSONstringify(r)+")"),i+=i.length?"\n":"",i+=a._getErrorMessage(e)},l=c(e,t,r,i);if(e instanceof Error)e.improvedMessage=l,e.stackIsValid=void 0===e.stackIsValid||e.stackIsValid;else{var u=new Error(l);Object.assign(u,e,{message:l}),e instanceof o.Error&&(u.origin="Parse.com"),s?(Object.assign(u,a._parseStackTrace(u,!0)),u.stackIsValid=!0):u.stackIsValid=!1,e=u}return e},getFormatter:function(e){return{newline:e?"<br>\n":"\n",bold:e?"<strong>":"",endbold:e?"</strong>":"",small:e?"<small>":"",endsmall:e?"</small>":""}},getCompactErrorMessage:function(e,t){t=t||{};var n=t.html,r=a.getFormatter(n),i=a._getErrorMessage(e).split("\n"),o=i.shift();return r.bold+o+r.endbold},getDetailedErrorMessage:function(e,t){t=t||{};var n=t.html,o=void 0===t.singleLine?t.singleLine:!n,s=t.includeStackTrace,c=void 0===t.loggedIn||t.loggedIn,l=(a._getErrorMessage(e),""),u=a.getFormatter(n),h=a._getErrorMessage(e).split("\n"),d=h.shift();switch(l+=u.bold+d+u.endbold,e.code){case 101:l+=u.newline,l+=a.errorHints.parseMasterKeyActive?"Requested information does not exist":"Requested information either does not exist, or you do not have access rights to it.";break;case"NoSuchKey":r.isNode}switch(a.DEBUGLEVEL&&e.origin&&(l+=u.newline+u.small+u.bold+"Source: "+u.endbold,l+=e.origin+" "+(e.originData?" ["+e.originData+"]":""),l+=u.endsmall),e.code){case void 0:break;case 101:(a.DEBUGLEVEL||"production"!==i.params.getEnvironmentName)&&(l+=u.newline+u.small+u.bold+"Hint: "+u.endbold,l+=r.isBrowser?"You are accessing ":"Server is accessing ",l+=u.bold+i.params.getEnvironmentName()+u.endbold+". ",l+=u.endsmall),c||(l+=u.newline+u.small+u.bold+"Hint: "+u.endbold,l+="You are not logged in.",l+=u.endsmall);break;case 403:l+=u.newline+u.small+u.bold+"Hint: "+u.endbold,l+="That's a 403. File is not accessible (often means it does not exist).",l+=u.endsmall;break;case 404:l+=u.newline+u.small+u.bold+"Hint: "+u.endbold,l+="That's a 404. File does not exist.",l+=u.endsmall;break;case 500:a.DEBUGLEVEL&&(l+=u.newline+u.small+u.bold+"Hint: "+u.endbold,l+="500 (Internal Server Error) usually means that the node server route failed due to exception being thrown",l+=u.endsmall);break;case 502:a.DEBUGLEVEL&&(l+=u.newline+u.small+u.bold+"Hint: "+u.endbold,l+="502 (Proxy Error) usually means that the node server timed out while waiting for the route to execute, 60 or 120s is typical timeouts.",l+=u.endsmall);break;default:l+=u.newline+u.small+u.bold+"Error code: "+u.endbold+e.code+u.endsmall}if(h.forEach(function(e,t){l+=u.newline+u.small+"Detail: "+e+u.endsmall}),s||n&&a.DEBUGLEVEL>=2){var f=a._extractLineNumberFromError(e,!0);l+=u.small,f.file&&(l+=u.newline+"Location: "+f.file),f.file&&f.line&&(l+=":"+f.line),f.file&&f.line&&f.column&&(l+=":"+f.column),l+=u.endsmall,!e.stacktraces&&e.stack&&(e.stacktraces=a._parseStackTrace(e.stack).stacktraces);var p=e.stacktraces||[];p.forEach(function(t,n){l+=u.newline,l+=u.newline,l+=u.bold,l+=e.stackDescription?e.stackDescription:0===n?"Call stack":"From Previous Event)",l+=u.endbold,l+=0!==n||e.stackIsValid?"":" (May not be valid)",l+=u.newline,l+=u.small,l+=t.join(u.newline),l+=u.endsmall})}return o&&(l=l.split("\n").join(" - ")),l},_extractLineNumberFromError:function(e,t){var n="",r="",i="1";return e.lineNumber?(n=e.lineNumber,r=e.fileName):e.stack&&(n=t?e.stack.split("\n")[1]:e.stack.split("\n")[3],n&&(r=n.indexOf(" (")>=0?n.split(" (")[1].substring(0,n.length-1):n.split("at ")[1],n="")),{file:r?r:"",line:n?n:"",column:i?i:""}},_getErrorMessage:function(e){return"string"==typeof e?e:e&&e.improvedMessage?e.improvedMessage:e&&e.message?"Unexpected token u"===e.message?"JSON parser called with empty/undefined input":e.message:e&&e.statusText?"Internal Server Error"===e.statusText?e.statusText+"\n(Check server PHP logs)":e.statusText:e&&e.responseText?e.responseText:e&&e.type?e.type+": "+e.target:(console.error("UNPRINTABLE ERROR",e.stack||e.message||e),"Unprintable error "+a.safeJSONstringify(e))},_parseStackTrace:function(e,t){e=e.replace("</","*","gm");var n,r=e.split("From previous event:"),i=[];return r.forEach(function(e,r){var o=e.split(a._isFirefox()?"\n":" at ");if(0===r&&t)for(a._isFirefox()?(n="Unhandled rejection",o.shift()):(n=o[0],o.shift());o.length&&o[0].indexOf("scope.get")>-1;)o.shift();r>0&&o.shift(),i.push(o)}),{message:n,stacktraces:i}},_isFirefox:function(){return r.isBrowser&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1},getWhichBrowserAsync:function(){return new Promise(function(e,t){r.isBrowser&&window.waitForWhichBrowser(function(){e(WhichBrowser)})})},_reportErrorToServer:function(e){var t=(new Date).getTime();if("production"===i.params.determineHostType().type&&t-a._notifiedWebServiceTimestamp>1e4&&r.isBrowser&&!e.showWarningDialog){a._notifiedWebServiceTimestamp=t;var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&console.log("Server notified of error: "+n.responseText)},a.getWhichBrowserAsync().then(function(t){n.open("POST","/v2/api/clientErrorLogging/submitClientError",!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded");var r=a.getDetailedErrorMessage(e,{includeStackTrace:!0}),i="msg="+r,s=o.User&&o.User.current()&&o.User.current().get("operatorRole"),c=new t,l={browserName:c.browser.name,browserVersion:c.browser.version.original,osName:c.os.name,osVersion:JSON.stringify(c.os.version),URL:document.URL,isOperator:s};l.errorSubject=a._getErrorMessage(e),i+="&data="+JSON.stringify(l),n.send(i)})}return e},trackUnhandledRejections:!0,_initializeErrorHandlers:function(){if("undefined"!=typeof Promise&&"function"==typeof Promise.onPotentiallyUnhandledRejection){var e=Promise.onPotentiallyUnhandledRejection;Promise.onPotentiallyUnhandledRejection=function(t){if(a.trackUnhandledRejections){e(t);var n=t.value;a.handleError(n)}};var t=Promise.onPotentiallyUnhandledRejectionHandled;Promise.onPotentiallyUnhandledRejectionHandled=function(e){if(a.trackUnhandledRejections){t(e);var n=e.value;n=a.getImprovedError(n,"Unhandled rejection was handled"),a.handleError(n)}};var n=Promise.onFatalRjection;Promise.onFatalRejection=function(e){n(e);var t=e.value;t=a.getImprovedError(t,"Fatal rejection"),a.handleError(t)}}r.isBrowser&&(a.onerror=window.onerror,window.onerror=function(e,t,n,i,o){if(!r.insidemaps_.errorState||!r.insidemaps_.errorState.onScriptLoadingError()){!o&&"object"==typeof e&&"error"===e.type&&"object"==typeof t&&t.error&&(o=t.error),o=a.getImprovedError(o||e+" "+t+":"+n),e=a.getDetailedErrorMessage(o);var s=a._extractLineNumberFromError(o);t=t||s.file,n=n||s.line,a.setError({source:"JavaScript",type:"EXCEPTION",message:e,file:t,line:n}),o.message.indexOf("Script error")===-1&&a.handleError(o)}}),r.isBrowser&&(a.alert=window.alert,window.alert=function(){a.alert.apply(window,arguments)})},scriptTimer:r.insidemaps_.scriptTimer||new Date,startTimer:function(){return new Date},getElapsedTime:function(e,t){t=void 0===t?2:t;var n=(new Date).getTime()-e.getTime();return Math.round(n/1e3*Math.pow(10,t))/Math.pow(10,t)},getElapsedMillis:function(e){var t=(new Date).getTime()-e.getTime();return t},getElapsedTimeAsString:function(e,t){var n=a.getElapsedTime(e,t);return 0===n?"0.00s":n+"s"},getElapsedMillisAsString:function(e){var t=a.getElapsedMillis(e);return 0===t?"0ms":t+"ms"},logFilters:[],addLogFilter:function(e){a.logFilters.push(e)},addLogEntry:function(e){if(!(a.log.length>a.logLimit)){"object"==typeof e&&"string"==typeof e.message||(e={message:"insidemaps.debug.addLogEntry called with incorrect parameters"});var t=!1;a.logFilters.forEach(function(n){e.message.indexOf(n)!==-1&&(t=!0)}),t||("undefined"==typeof e.time&&(e.time=a.getElapsedTime(a.scriptTimer)+"s"),a.log.unshift(e),"undefined"!=typeof a.logCallback&&a.logCallback(e))}},setError:function(e){e instanceof Error&&(e.source=e.source||"JavaScript",e.type=e.type||"EXCEPTION",e.message=a.getDetailedErrorMessage(e)),"object"==typeof e&&"string"==typeof e.message||(e={message:"insidemaps.debug.setError called with incorrect parameters"}),"undefined"==typeof a.error.message&&(a.error=e),a.addLogEntry(e)},getError:function(){return a.error},interceptConsole:function(e){var t=console.log===a.interceptedConsole.log;return a.consoleFuncs.forEach(function(t){console[t]=e?a.interceptedConsole[t]:a.browserConsole[t]}),t},safeJSONstringify:function(e){if("string"==typeof e)return e;var t="#object";return t},_formatError:function(e){var t=e.time+": "+e.type+" "+e.message;return e.func&&(t+=" in "+e.func),t+=" on "+e.file+":"+e.line},makeLog:function(e){e=e||{};var t=void 0===e.header||e.header,n=e.forwardToConsole;return{isEmpty:function(){return 0===this._log.trim().length},getLog:function(){return this._log},getHtmlLog:function(){return this._log.split("\n").join("<br>")},debug:function(e){this._log+=(t?"DEBUG: ":"")+e+"\n",n&&console.debug(e)},log:function(e){this._log+=e+"\n",n&&console.log(e)},info:function(e){this._log+=(t?"INFO: ":"")+e+"\n",n&&console.info(e)},warn:function(e){this._log+=(t?"WARNING: ":"")+e+"\n",n&&console.warn(e)},error:function(e){this._log+=(t?"ERRROR: ":"")+e+"\n",n&&console.error(e)},_log:""}},logCallback:null,hideHtmlLog:function(){if(r.isBrowser){var e=document.getElementById("insidemaps-util-log");e&&e.parentNode.removeChild(e)}},htmlLogLength:function(){if(!r.isBrowser)return 0;var e=document.getElementById("insidemaps-util-log");return e?e.childNodes.length:0},_htmlLog:function(e){if(r.isBrowser){var t=document.getElementById("insidemaps-util-log");if(null!==t){var n=function(e){if("object"==typeof e&&"undefined"!=typeof e.message){var n=document.createElement("tr"),r=document.createElement("td");r.innerHTML=a._formatError(e),n.appendChild(r),t.appendChild(n)}};return null===t.firstChild?void a.log.forEach(n):void n(e)}}},_initializeHtmlLog:function(){a.logCallback=a._htmlLog,r.isBrowser&&document.addEventListener&&document.addEventListener("DOMContentLoaded",a._htmlLog,!1)},error:{},log:[],logLimit:100,browserConsole:[],interceptedConsole:[],consoleFuncs:["log","debug","info","warn","error"],_initializeConsole:function(){a.consoleFuncs.forEach(function(e){a.browserConsole[e]=console[e]}),a.consoleFuncs.forEach(function(e){a.interceptedConsole[e]=a._makeLogMethod(e)})},_makeLogMethod:function(e){return function(t){if(a.DEBUGLEVEL){var n=Array.prototype.slice.call(arguments,0);n.length&&(n[0]=a.getElapsedTimeAsString(a.scriptTimer)+": "+n[0]),Error().write(n,e)}}},_initializeConsoleHandling:function(){void 0===console.debug&&(console.debug=console.log),Error.prototype.write=function(e,t){var n=a._extractLineNumberFromError(this),i="";if("string"==typeof e[0]&&r.isNode&&(e[0]=a.getElapsedTimeAsString(a.scriptTimer)+": "+e[0]),e.forEach(function(e){i+="string"==typeof e?e+" ":a.safeJSONstringify(e)+" "}),a.addLogEntry({source:"JavaScript",type:"console."+t,message:i,file:n.file,line:n.line}),r.isBrowser){var o=n.file;""!==n.line&&(o+=":"+n.line+":1"),e=e.concat([o])}a.browserConsole[t].apply?a.browserConsole[t].apply(console,e):a.browserConsole[t](e)}},_initializeDebugFlag:function(){var e=i.params.determineHostType();a.DEBUGLEVEL="debug"===e.type?1:0;var t,n="by hostname";i.params.registerParameterWatcher(function(){var e=i.params.getBoolean("debug");void 0!==e&&(a.DEBUGLEVEL=e?2:0,n="set by 'debug/nodebug' parameter"),a.DEBUGLEVEL>=2&&a.interceptConsole(!0),r.isBrowser&&a.DEBUGLEVEL!==t&&console.debug("DEBUG = "+a.DEBUGLEVEL+" ("+n+")"),t=a.DEBUGLEVEL})}};a._initializeConsoleHandling(),a._initializeConsole(),a._initializeHtmlLog(),a._initializeErrorHandlers(),a._initializeDebugFlag(),i.assert.setThrowOnError(a.DEBUGLEVEL>1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./assert":519,"./params":526,parse:343}],521:[function(e,t,n){(function(r){var i,o=r.define||function(r,i){i(e,n,t)};o("lib/util/event-manager",function(e,t,n){"use strict";var r={core:e("./util")};i=n.exports=r.core.makeClass(Object,{},{constructor:function(){this._observers={},this._suspended={}},suspend:function(e){this._suspended[e]=!0},unsuspend:function(e){this._suspended[e]=!1},on:function(e,t,n){return"function"!=typeof t?void console.warn("[EventManager.on] Invalid binding. "+e):(void 0===this._observers[e]&&(this._observers[e]=[]),void this._observers[e].push({callable:t,context:n}))},off:function(e,t){if(this._observers[e])for(var n=0;n<this._observers[e].length;n++)if(this._observers[e][n].callable===t)return void this._observers[e].splice(n,1)},trigger:function(e){if(this._observers[e]&&!this._suspended[e])for(var t=Array.prototype.slice.call(arguments,1),n=0;n<this._observers[e].length;n++){var r=this._observers[e][n];r.callable.apply(r.context,t)}},destroy:function(){this._observers={},this._suspended={}}})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./util":527}],522:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/util/file-saver",function(e,t,n){"use strict";var r=e("./").core,i=r.makeClass(Object,{},{constructor:function(){},download:function(e,t){t=t||"";var n=document.createElement("a");if(n.href=e,n.download=t,this._isMicrosoftBrowser())window.navigator.msSaveOrOpenBlob(e,t);else{var r=document.getElementsByTagName("head")[0];r.appendChild(n),n.click(),r.removeChild(n)}},downloadFromBlob:function(e,t){var n=window.URL.createObjectURL(e);this.download(n,t)},downloadTextFile:function(e,t){var n=this.makeTextFile(e);this.download(n,t)},downloadBase64Image:function(e,t){var n=t.indexOf("."),r=t.substring(n+1),i=this._makeImageFileFromBase64(e,r);this.download(i,t)},makeTextFile:function(e){var t=new Blob([e],{type:"text/plain"}),n=window.URL.createObjectURL(t);return n},_makeImageFileFromBase64:function(e,t){for(var n=atob(e),r=new Array(n.length),i=0;i<n.length;i++)r[i]=n.charCodeAt(i);var o=new Uint8Array(r),a=new Blob([o],{type:"image/"+t});if(this._isMicrosoftBrowser())return a;var s=window.URL.createObjectURL(a);return s},_isMicrosoftBrowser:function(){return!!window.navigator.msSaveOrOpenBlob}});n.exports=i})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./":524}],523:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/util/file",function(e,t,n){"use strict";var r=e("path"),i=n.exports={checkFileExtension:function(e,t){var n=r.extname(e).replace(".","");return t.find(function(e){return n==e.replace(".","")})},requireFileExtension:function(e,t,n){if(!i.checkFileExtension(e,t))throw n=n||"File type not supported",new Error(n)},sanitizeFileName:function(e){return r.join(r.dirname(e),r.basename(e).replace(/[\(\)\ \$\&\\\'\;]+/,"_"))}}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{path:344}],524:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/util/index",function(e,t,n){"use strict";n.exports={assert:e("./assert"),params:e("./params"),debug:e("./debug"),util:e("./util"),core:e("./util"),file:e("./file"),math:e("./math"),util3d:e("./util3d"),EventManager:e("./event-manager")}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./assert":519,"./debug":520,"./event-manager":521,"./file":523,"./math":525,"./params":526,"./util":527,"./util3d":528}],525:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/util/math",function(e,t,n){"use strict";var r={core:e("./util"),util3d:e("./util3d")},i=e("./assert"),o=e("three"),a=n.exports={EPSILON:1e-5,PI_HALF:.5*Math.PI,CM_PER_FT:30.48,CM_PER_M:100,restoreDefaultEpsilon:function(){a.EPSILON=1e-5},convertToTriangleWith90DegreeAngle:function(e,t,n){var r=new a.LineSegment2(e,n),i=r.toLine().makeProjectionPointOnLine(t),o=new a.LineSegment2(e,i),s=new a.LineSegment2(i,n),c=(Math.pow(r.length(),2)-Math.pow(o.length(),2)-Math.pow(s.length(),2))/2,l=Math.sqrt(c);return a.findPointAtDistanceAlongTheLine(l,i,t)},getYAtPointOnLine3:function(e,t,n){var r=t.distanceToXZ(n),i=e.distanceToXZ(t),o=n.y-t.y;return t.y+o*i/r},getYRotationFromQuaterion:function(e){i.isTypeof(e,o.Quaternion);var t,n=(new o.Euler).setFromQuaternion(e);return t=0===n.x&&0===n.z?n.y:n.y>=Math.PI?Math.PI-n.y:-Math.PI-n.y},isCloseButNotExact:function(e,t,n){var r=Math.abs(e-t);return r>a.EPSILON&&r<n},approxEqual:function(e,t){return Math.abs(e-t)<a.EPSILON},approxEqualDelta:function(e,t,n){return Math.abs(e-t)<n},round:function(e,t){return i.isNumber(e),i.isNotDefinedOrNumber(t),isNaN(t)&&(t=3),0===t?Math.round(e):Math.round(e*Math.pow(10,t))/Math.pow(10,t)},roundToNearestStep:function(e,t){return i.isNumber(e),i.isNumber(t),i.check(t<10&&10%t===0,"Invalid step size"),Math.round(e/t)*t},convertInchesToCm:function(e){return 2.54*e},convertCmToInches:function(e){return e/2.54},convertSqCmToSqFt:function(e){return e/929.0304},convertCCmToCFt:function(e){return e/(a.CM_PER_FT*a.CM_PER_FT*a.CM_PER_FT)},convertSqCmToSqM:function(e){return e/1e4},convertCCmToCM:function(e){return e/(a.CM_PER_M*a.CM_PER_M*a.CM_PER_M)},convertSqMToSqFt:function(e){return e/.092903},convertSqFtToSqM:function(e){return.092903*e},convertCmToFtInString:function(e){var t,n=e/2.54;return t=Math.floor(n/12),n=Math.floor(n%12),t>0?n>0?t+"' "+n+'"':t+"'":n>0?n+'"':"0"},convertCmToFt:function(e){return e/a.CM_PER_FT},convertCmToM:function(e){return e/a.CM_PER_M},findPointAtDistanceAlongTheLine:function(e,t,n){var r=n.clone().sub(t).normalize();return t.clone().add(r.multiplyScalar(e))},Ratio:r.core.makeClass({},{gcd:function(e,t){if(0===e)return t;if(0===t)return e;for(var n=Math.abs(e),r=Math.abs($b);0!==r;){var i=n%r;n=r,r=i}return n?n:1}},{constructor:function(e,t){this.numerator=void 0!==e?e:0,this.denominator=void 0!==t?t:1},clone:function(){return new Ratio(this.numerator,this.denominator)},fromString:function(e){var t=e.split("/");switch(t.length){case 0:this.numerator=0,this.denominator=1;break;case 1:this.numerator=t[0],this.denominator=1;break;default:this.numerator=t[0],this.denominator=t[1]}return this},toString:function(e,t){if(e=void 0===e||e,t=void 0!==t&&t,0===this.numerator)return e?"0":"";var n="";return t&&this.numerator>0&&(n="+"),n+=this.numerator,1!==this.denominator&&(n+="/"+this.denominator),n},toFloat:function(){return this.numerator/this.denominator*1},normalize:function(){var e=Ratio.gcd(this.numerator,this.denominator);return this.numerator=this.numerator/e,this.denominator=this.denominator/e,this}}),Point:r.core.makeClass(Object,{},{constructor:function(e,t){this.x=e||0,this.y=t||0},clone:function(){return new a.Point(this.x,this.x)},copy:function(e){this.x=e.x,this.y=e.y},toString:function(){return"["+this.x+", "+this.y+"]"},equals:function(e,t){return t=t||0,Math.abs(this.x-e.x)<=t&&Math.abs(this.y-e.y)<=t},approxEquals:function(e){return this.equals(e,a.EPSILON)},isValid:function(){return isNumber(this.x)&&isNumber(this.y)},distance:function(e){var t=e.x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},slope:function(e){var t=e.x-this.x,n=e.y-this.y;return n/t}}),Polygon:r.core.makeClass(Object,{},{constructor:function(e,t){e=e||[],t&&(e=e.slice()),this.verts=e},clone:function(){return new a.Polygon(this.verts.slice())},toString:function(){var e="[polygon ";return verts.forEach(function(t){e+=t}),e+="]"},getAngles:function(){return this.verts.map(function(e,t){var n=this.verts[(this.verts.length+t-1)%this.verts.length],r=this.verts[(t+1)%this.verts.length];return a.findAngle(n,e,r)},this)},getAnglesDeg:function(){return this.getAngles().map(function(e){return o.Math.radToDeg(e)})},toLineSegments:function(){for(var e=[],t=1;t<this.verts.length;t++){var n=this.verts[t],r=this.verts[t-1];e.push(new a.LineSegment2(r,n))}return e.push(new a.LineSegment2(this.verts[this.verts.length-1],this.verts[0])),e},getIntersectionsWithLineSegment:function(e,t){
var n=[];return this.toLineSegments().forEach(function(t){var r=t.intersectStrict(e,!0);r&&n.push(r)}),t||(n=n.filter(function(e){return!this.isPointOnPolygonVertex(e)}.bind(this))),n},distanceToLineSegment:function(e){var t=this.getIntersectionsWithLineSegment(e,!0),n=t.length>0?0:Number.MAX_VALUE;return 0!==n&&this.verts.forEach(function(t){var r=e.distanceFromPoint(t);r<n&&(n=r)}),n},distanceToPoint:function(e){var t=Number.MAX_VALUE;return this.toLineSegments().forEach(function(n){var r=n.distanceFromPoint(e);r<t&&(t=r)}),t},minimalDistanceToVerts:function(e){var t=Number.MAX_VALUE;return this.verts.forEach(function(n){var r=e.distanceTo(n);r<t&&(t=r)}),t},isLineSegmentOutside:function(e){var t=this._splitLineSegmentWithIntersections(e);return t.every(function(e,n){var r=!0,i=t[n+1];if(i){var o=new a.LineSegment2(e,i),s=o.findPointAtOffset(.5);r=!this.isPointInside(s)}return r}.bind(this))},isLineSegmentInside:function(e){var t=this._splitLineSegmentWithIntersections(e);return t.every(function(e,n){var r=!0,i=t[n+1];if(i){var o=new a.LineSegment2(e,i),s=o.findPointAtOffset(.5);r=this.isPointInside(s)||this.distanceToPoint(s)<a.EPSILON}return r}.bind(this))},_splitLineSegmentWithIntersections:function(e){var t=this.getIntersectionsWithLineSegment(e,!0);return t=t.filter(function(t){return Math.min(e.p1.distanceTo(t),e.p2.distanceTo(t))>a.EPSILON}).sort(function(t,n){return e.p1.distanceTo(t)-e.p1.distanceTo(n)}),[e.p1].concat(t).concat([e.p2])},isPointOnPolygonVertex:function(e){return this.minimalDistanceToVerts(e)<a.EPSILON},equals:function(e,t){if(t=t||0,this.verts.length!=e.verts.length)return!1;for(var n=0;n<this.verts.length;n++){var r=polygon1[n];if(polygon2.verts.indexOf(r)==-1)return!1}return!0},approxEquals:function(e){return this.equals(e,a.EPSILON)},isValid:function(){var e=!0;return this.verts.forEach(function(t){e=e&&isNumber(t.x)&&isNumber(t.y)}),e},push:function(e){this.verts.push(e)},pushUnique:function(e,t){t=t||a.EPSILON;for(var n=0;n<this.verts.length;n++){var r=this.verts[n];if(Math.abs(r.x-e.x)<t&&Math.abs(r.y-e.y)<t)return}this.verts.push(e)},getVertices:function(){return this.verts},isPointInside:function(e){return r.util3d.isPointInsidePolygon(this.verts,e)},getSignedArea:function(){return r.util3d.getSignedPolygonArea(this.verts)},getCenter:function(e){e=e||new o.Vector2;var t=r.util3d.getPolygonCenter(this.verts,e);return e.set(t.x,t.y)},getCentroid:function(e){e=e||new o.Vector2;var t=r.util3d.getPolygonCentroid(this.verts,e);return e.set(t.x,t.y)},getWidthAndHeight:function(e){return e=e||new o.Vector2,e.set(a.getPolygonWidthAndHeight(this.verts))},isClockwise:function(){for(var e=0,t=1;t<this.verts.length;t++)e+=(this.verts[t].x-this.verts[t-1].x)*(this.verts[t].y+this.verts[t-1].y);return e+=(this.verts[0].x-this.verts[this.verts.length-1].x)*(this.verts[0].y+this.verts[this.verts.length-1].y),e>0},getUpperLeft:function(){if(0===this.verts.length)return null;for(var e=this.verts[0],t=1;t<this.verts.length;t++){var n=this.verts[t];(n.y<e.y||n.y===e.y&&n.x<e.x)&&(e=n)}return e},removeAlignedVertices:function(){for(var e=0;this.verts.length>2&&e<this.verts.length;){var t=(e+1)%this.verts.length,n=(e+2)%this.verts.length;a.isStraightLine(this.verts[e],this.verts[t],this.verts[n])?this.verts.splice(t,1):e++}},removeOverlappingVertices:function(){for(var e=0;this.verts.length>1&&e<this.verts.length;){var t=(e+1)%this.verts.length;this.verts[e].distanceTo(this.verts[t])<a.EPSILON?this.verts.splice(e,1):e++}},sortVertices:function(e){if(!(this.verts.length<=1)){var t=this.getUpperLeft(),n=function(n,r){var i=e?-1:1;if(n===t)return-i;if(r===t)return i;var o=t.slope(n),a=t.slope(r);return o===a?n.distance(t)<r.distance(t)?-i:i:o<0&&a>0?-i:o>0&&a<0?i:o>a?-i:i};this.verts.sort(n)}},insertPoint:function(e){var t=Number.MAX_VALUE,n=null;this.toLineSegments().forEach(function(r){var i=r.distanceFromPoint(e);i<t&&(t=i,n=r)});var r=this.verts.indexOf(n.p2);this.verts.splice(r,0,e)},isLineSegmentOverlappingLineInPolygon:function(e){return this.toLineSegments().some(function(t){var n=t.getOveralapLineSegment(e);return n&&n.length()>a.EPSILON})},isPolygonInside:function(e){return e.toLineSegments().every(function(e){return this.isLineSegmentInside(e)},this)}}),isPointInsidePolygon:r.util3d.isPointInsidePolygon,getPolygonArea:r.util3d.getPolygonArea,getPolygonCenter:function(e,t){t=t||new o.Vector2;var n=r.util3d.getPolygonCenter(e);return t.set(n.x,n.y)},getPolygonCentroid:function(e,t){t=t||new o.Vector2;var n=r.util3d.getPolygonCentroid(e);return t.set(n.x,n.y)},getPolygonWidthAndHeight:function(e){if(e.length<2)return new o.Vector2(0,0);var t=e[0],n=t.clone().sub(e[1]),r=Math.atan2(n.y,n.x),i=[];e.forEach(function(e,n){var o=e.clone();n>0&&a.rotate(o,-r,t),i.push(o)});var s=new o.Vector2(Number.MAX_VALUE,Number.MAX_VALUE),c=new o.Vector2((-Number.MAX_VALUE),(-Number.MAX_VALUE));i.forEach(function(e){s.min(e),c.max(e)});var l=c.x-s.x,u=c.y-s.y;return new o.Vector2(l,u)},Line:r.core.makeClass(Object,{SIDE_LEFT:!0,SIDE_RIGHT:!1,createLineThroughPoint:function(e,t){i.isTypeof(e,o.Vector2),i.isNumber(t);var n,r,s;return t===1/0?(n=1,r=0,s=-e.x):(r=1,n=-t,s=t*e.x-e.y),new a.Line(n,r,s)}},{constructor:function(e,t,n){this.a=e,this.b=t,this.c=n},slope:{get:function(){var e=-this.a/this.b;return e===-(1/0)&&(e=1/0),e}},findX:function(e){var t=NaN;return 0!==this.a&&(t=(-this.c-this.b*e)/this.a),t},findY:function(e){var t=NaN;return 0!==this.b&&(t=(-this.c-this.a*e)/this.b),t},clone:function(){return new Line(this.a,this.b,this.c)},toString:function(){return"[a:"+this.a+" b:"+this.b+"c:"+this.c+"]"},fromPoints:function(e,t){return this.a=a.round(t.y-e.y,5),this.b=-a.round(t.x-e.x,5),this.c=t.x*e.y-e.x*t.y,this},fromParallelLine:function(e,t,n){this.a=e.a,this.b=e.b;var r=t*Math.sqrt(e.a*e.a+e.b*e.b);return this.c=n?e.c-r:r+e.c,this},findAngleWithLine:function(e){var t=0,n=this.findPointOfIntersection(e);if(n){var r;if(0===this.b){var i=n.y+1;r=new o.Vector2(this.findX(i),i)}else{var s=n.x+1;r=new o.Vector2(s,this.findY(s))}var c;if(0===e.b){var l=n.y+1;c=new o.Vector2(e.findX(l),l)}else{var u=n.x+1;c=new o.Vector2(u,e.findY(u))}t=a.findAngle(r,n,c)}return t},findAngleWithLineSegment:function(e){var t=new a.Line;return t.fromPoints(e.p1,e.p2),this.findAngleWithLine(t)},findPointOfIntersection:function(e){var t,n;if(0===this.a)n=-this.c/this.b,t=e.findX(n);else if(0===this.b)t=-(this.c/this.a),n=e.findY(t);else if(0===e.a)n=-e.c/e.b,t=this.findX(n);else if(0===e.b)t=-(e.c/e.a),n=this.findY(t);else{var r=-(this.a/this.b),i=-(this.c/this.b),a=-(e.a/e.b),s=-(e.c/e.b);t=(s-i)/(r-a),n=this.findY(t)}return isNaN(t)||isNaN(n)||Math.abs(t)===1/0||Math.abs(n)===1/0?null:new o.Vector2(t,n)},makeProjectionPointOnLine:function(e){var t=this.a*this.a+this.b*this.b,n=this.a*this.c,r=this.b*this.c,i=this.b*e.x,a=this.a*e.y,s=(this.b*(i-a)-n)/t,c=(this.a*(-i+a)-r)/t;return new o.Vector2(s,c)},isPointOnLine:function(e){return this.distanceTo(e)<a.EPSILON},isParallelWith:function(e){return this.slope===e.slope},distanceTo:function(e){var t=this.makeProjectionPointOnLine(e);return t.distanceTo(e)},mirrorPoint:function(e){i.isTypeof(e,o.Vector2);var t=Math.sqrt(this.a*this.a+this.b*this.b),n=this.a/t,r=this.b/t,a=this.c/t,s=n*e.x+r*e.y+a,c=e.x-2*n*s,l=e.y-2*r*s;return new o.Vector2(c,l)}}),LineSegment2:r.core.makeClass(Object,{},{constructor:function(e,t){this.p1=e||new o.Vector2,this.p2=t||new o.Vector2},points:{get:function(){return[this.p1,this.p2]}},toLine:function(){return(new a.Line).fromPoints(this.p1,this.p2)},clone:function(){return(new a.LineSegment2).copy(this)},set:function(e,t){return this.p1.copy(e),this.p2.copy(t),this},copy:function(e){return this.p1.copy(e.p1),this.p2.copy(e.p2),this},equals:function(e,t){return t=void 0===t?a.EPSILON:t,Math.max(e.p1.distanceTo(this.p1),e.p2.distanceTo(this.p2))<t||Math.max(e.p1.distanceTo(this.p2),e.p2.distanceTo(this.p1))<t},toString:function(){return"[["+this.p1.x+","+this.p1.y+"]["+this.p2.x+","+this.p2.y+"]]"},center:function(e){var t=e||new o.Vector2;return t.addVectors(this.p1,this.p2).multiplyScalar(.5)},length:function(){var e=this.p2.x-this.p1.x,t=this.p2.y-this.p1.y;return Math.sqrt(e*e+t*t)},lengthSquared:function(){var e=this.p2.x-this.p1.x,t=this.p2.y-this.p1.y;return e*e+t*t},normal:function(){var e=p2.x-p1.x,t=p2.y-p1.y;return new o.Vector2((-t),e)},findOffset:function(e){return a.findOffset(e,this.p1,this.p2)},findPointAtOffset:function(e,t){t=t||new o.Vector2;var n=this.p1.x+(this.p2.x-this.p1.x)*e,r=this.p1.y+(this.p2.y-this.p1.y)*e;return new o.Vector2(n,r)},distanceToLineSegment:function(e){return Math.min(this.distanceFromPoint(e.p1),this.distanceFromPoint(e.p2),e.distanceFromPoint(this.p1),e.distanceFromPoint(this.p2))},distanceFromPoint:function(e){return i.isTypeof(e,o.Vector2),a.distanceToLineSegment(e,this.p1,this.p2)},translate:function(e){i.isTypeof(e,o.Vector2),this.p1.add(e),this.p2.add(e)},getClosestPointOnLine:function(e,t){var n=e.clone();n.sub(this.p1);var r=this.p2.clone();r.sub(this.p1);var i=r.x*r.x+r.y*r.y,o=n.x*r.x+n.y*r.y,a=o/i;t&&(a<0?a=0:a>1&&(a=1));var s=r.clone();return s.multiplyScalar(a),s.add(this.p1),s},intersect:function(e,t){t=t||new o.Vector2;var n=this.p1,r=this.p2,i=e.p1,s=e.p2,c=(n.x-r.x)*(i.y-s.y)-(n.y-r.y)*(i.x-s.x);if(Math.abs(c)<=a.EPSILON)return!1;var l=(n.x*r.y-n.y*r.x)*(i.x-s.x)-(n.x-r.x)*(i.x*s.y-i.y*s.x),u=(n.x*r.y-n.y*r.x)*(i.y-s.y)-(n.y-r.y)*(i.x*s.y-i.y*s.x);return t.set(1*l/c,1*u/c)},intersectStrict:function(e,t){var n=new o.Vector2,r=this.p1,i=this.p2,s=e.p1,c=e.p2,l=this.intersect(e,n);if(t){var u=a.distance(r.x,r.y,i.x,i.y),h=a.distance(s.x,s.y,c.x,c.y),d=a.distance(r.x,r.y,l.x,l.y),f=a.distance(i.x,i.y,l.x,l.y),p=a.distance(s.x,s.y,l.x,l.y),m=a.distance(c.x,c.y,l.x,l.y);if(d>u||f>u||p>h||m>h)return null}return l},getIntersectionWithLineSegment:function(e){var t=this.intersect(e);return e.isPointInside(t)&&this.isPointInside(t)?t:null},findSideOfPoint:function(e){return i.isNumber(e.x),i.isNumber(e.y),(this.p2.x-this.p1.x)*(e.y-this.p1.y)-(this.p2.y-this.p1.y)*(e.x-this.p1.x)},findPointAtDistanceFromLine:function(e,t){var n=t?-1:1,r=this.p2.x-this.p1.x,i=this.p2.y-this.p1.y,s=new o.Vector2(-n*i,n*r),c=this.p1.clone().add(s);return a.findPointAtDistanceAlongTheLine(e,this.p1,c)},getAngleWithXAxis:function(){var e=this.p2.clone().sub(this.p1);return Math.atan2(e.y,e.x)},isPointInside:function(e){var t=this.toLine(),n=!1;if(t.isPointOnLine(e)){var r=this.length(),i=this.p1.distanceTo(e),o=this.p2.distanceTo(e);n=i<r&&i>a.EPSILON&&o<r&&o>a.EPSILON}return n},findPointClosestToLine:function(e){return e.distanceTo(this.p1)<e.distanceTo(this.p2)?this.p1:this.p2},overlapsWithLineSegment:function(e,t){t=t||0===t?t:a.EPSILON;var n=!1,r=this.toLine(),i=Math.max(r.distanceTo(e.p1),r.distanceTo(e.p2));return i<t&&(n=this.isPointInside(e.p1)||this.isPointInside(e.p2)||e.isPointInside(this.p1)||e.isPointInside(this.p2)||this.equals(e)),n},getOveralapLineSegment:function(e,t){t=t||0===t?t:a.EPSILON;var n=null;if(this.overlapsWithLineSegment(e,t)){var r=this.points.concat(e.points),i=[];r.some(function(n){return this.distanceFromPoint(n)<t&&e.distanceFromPoint(n)<t&&i.push(n),2===i.length},this),n=new a.LineSegment2(i[0],i[1])}return n},offsetToPoint:function(e){var t=this.findPointAtOffset(e.x),n=1===e.x?new a.LineSegment2(this.p2,this.p1):new a.LineSegment2(t,this.p2),r=e.y<0;r=e.x<1?r:!r;var i=this.length()*Math.abs(e.y);return n.findPointAtDistanceFromLine(i,r)},isPointOnBounds:function(e){return Math.min(this.p1.distanceTo(e),this.p2.distanceTo(e))<a.EPSILON},createReverseLine:function(){return new a.LineSegment2(this.p2,this.p1)}}),Ray:r.core.makeClass(Object,{},{constructor:function(e,t){this.origin=e,t instanceof o.Vector2?this.direction=t.normalize():this.direction=new o.Vector2(Math.cos(t),Math.sin(t))},getLine:function(){var e=new o.Vector3(this.origin.x,this.origin.y,1),t=new o.Vector3(this.direction.x,this.direction.y,0);return t.add(e),e.cross(t),new a.Line(e.x,e.y,e.z)},toString:function(){return"["+this.origin.x+", "+this.origin.y+"]->["+this.origin.x+this.direction.x+", "+this.origin.y+this.direction.y+"]"},clone:function(){return new a.Ray(this.origin,this.direction)},intersect:function(e){var t=this.getLine().findPointOfIntersection(e.getLine());if(!t)return!1;var n=t.clone().sub(this.origin);return!(n.dot(this.direction)<=0)&&(n.copy(t).sub(e.origin),!(n.dot(e.direction)<=0)&&t)},tripletTriangle:function(e,t){var n=this,r=n.intersect(e),i=e.intersect(t),o=t.intersect(n);return!!(r&&i&&o)&&[r,i,o]}}),_point1:new o.Vector2,_point2:new o.Vector2,_lineSegment:null,_lineSegment2:null,findPointOfIntersection:function(e,t){return e.findPointOfIntersection(t)},linesAreParallel:function(e,t){return e.isParallelWith(t)},pointInsidePolygon:function(e,t){var n,r,i=0,o=e.length;for(n=0,r=o-1;n<o;r=n++)e[n].y>t.y!=e[r].y>t.y&&t.x<(e[r].x-e[n].x)*(t.y-e[n].y)/(e[r].y-e[n].y)+e[n].x&&(i=!i);return i},calculateLineProjectionParameter:function(e,t,n){var r=a.distance2(t.x,t.y,n.x,n.y),i=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return i},makeProjectionPointOnLine:function(e,t,n){var r=new o.Vector2(t.x+e*(n.x-t.x),t.y+e*(n.y-t.y));return r},makeProjectionPointOnLineSegment:function(e,t,n){var r=a.calculateLineProjectionParameter(e,t,n);return r<=0||r>=1?null:a.makeProjectionPointOnLine(r,t,n)},makeProjectionPointOnLineInfinite:function(e,t,n){var r=a.calculateLineProjectionParameter(e,t,n);return a.makeProjectionPointOnLine(r,t,n)},distanceToLineSegment:function(e,t,n){var r=a.calculateLineProjectionParameter(e,t,n);if(r<=0)return t.distanceTo(e);if(r>=1)return n.distanceTo(e);var i=a.makeProjectionPointOnLine(r,t,n);return i.distanceTo(e)},distanceToLineInfinite:function(e,t,n){var r=a.calculateLineProjectionParameter(e,t,n),i=a.makeProjectionPointOnLine(r,t,n);return i.distanceTo(e)},getPerpendicularCrossPoint:function(e,t,n,r){var i=new o.Vector2(t.x+e.y-t.y,t.y+t.x-e.x),s=new o.Vector2(n.x+r.y-n.y,n.y+n.x-r.x),c=new o.Vector2;return a.findIntersection(null,t,i,n,s)?c:null},getPerpendicular90DegPoint:function(e,t,n){var r=new o.Vector2(t.x+t.y-n.y,t.y+n.x-t.x);return a.makeProjectionPointOnLineInfinite(e,t,r)},get45DegPoint:function(e,t,n,r){var i=new a.LineSegment2(e,t),s=i.getClosestPointOnLine(n),c=new o.Vector2(n.x,n.y),l=c.rotateAround(s,r*Math.PI/180);return l},findAngle:function(e,t,n){var r=a.distance(e.x,e.y,t.x,t.y),i=a.distance(e.x,e.y,n.x,n.y),o=a.distance(t.x,t.y,n.x,n.y),s=(r*r-i*i+o*o)/(2*r*o);s=Math.min(Math.max(s,-1),1);var c=Math.acos(s);return c},findAngleDeg:function(e,t,n){return o.Math.radToDeg(a.findAngle(e,t,n))},isAngleLargerThan180Deg:function(e,t,n){var r=!1;if(!this.isStraightLine(e,t,n)){var i=e.sub(t),o=n.sub(t);r=i.x*o.y-o.x*i.y>0}return r},isStraightLine:function(e,t,n,r){var i=a.findAngle(e,t,n),o=void 0===r?a.EPSILON:r;return Math.min(a.diff(i,Math.PI),a.diff(i,0),a.diff(i,2*Math.PI))<o},findLineAngle:function(e,t){return r.util3d.getAngleBetweenPoints(e,t)},parallelAnglesDiff:function(e,t){return Math.abs((e-t)%Math.PI)},findP2:function(e,t,n,r){return e.copy(n),e.sub(t),e.set(e.y,-e.x),e.setLength(r),e.add(n),e},findLine:function(e,t,n){return n=n||new a.Line,n.fromPoints(e,t)},findParallelLine:function(e,t,n,r){return r=r||new a.Line,r.fromParallelLine(e,t,n)},findP3:function(e,t,n,r){return e.copy(n),e.sub(t),e.set(e.y,-e.x),e.setLength(r),e.add(t),e},findOffsetPoint:function(e,t,n){var r=t.x+(n.x-t.x)*e,i=t.y+(n.y-t.y)*e;return new o.Vector2(r,i)},findOffset:function(e,t,n){var r,i=(new a.Line).fromPoints(t,n),o=i.makeProjectionPointOnLine(e);return r=Math.abs(t.y-n.y)>Math.abs(t.x-n.x)?1-(o.y-n.y)/(t.y-n.y):1-(o.x-n.x)/(t.x-n.x)},distance:function(e,t,n,r){var i=n-e,o=r-t;return Math.sqrt(i*i+o*o)},distance2:function(e,t,n,r){return a._lineSegment.set(a._point1.set(e,t),a._point2.set(n,r)).lengthSquared()},findIntersection:function(e,t,n,r,i){return e=e||new o.Vector2,e.copy(a._lineSegment.set(t,n).intersect(a._lineSegment2.set(r,i),!1)),e},findIntersectionStrict:function(e,t,n,r){return a._lineSegment.set(e,t).intersectStrict(a._lineSegment2.set(n,r),!0)},findPointAtDistanceFromLine:function(e,t,n,r){return a._lineSegment.set(e,t).findPointAtDistanceFromLine(n,r)},findPoint:function(e,t,n){return a._lineSegment.set(e,t).findPointAtOffset(n)},calculateSideOfThePoint:function(e,t,n){return a._lineSegment.set(t,n).findSideOfPoint(e)},getClosestPointOnLine:function(e,t,n,r){return a._lineSegment.set(t,n).getClosestPointOnLine(e,!r)},diff:function(e,t){return Math.abs(Math.abs(e)-Math.abs(t))},findVectorsDistance:function(e,t){return a.distance(e.x,e.y,t.x,t.y)},rotate:function(e,t,n){var r=Math.sin(t),i=Math.cos(t);a.translate(e,new o.Vector2((-n.x),(-n.y)));var s=e.x,c=e.y;return e.setX(i*s-r*c),e.setY(r*s+i*c),a.translate(e,n),e},translate:function(e,t){return e.add(t),e},Figure:r.core.makeClass(Object,{},{constructor:function(e,t){e=e||[],t&&(e=Array.concat([],e)),this.verts=e},clone:function(){return new Figure(this.verts)},toString:function(){var e="[";return verts.forEach(function(t){e+=t}),e+="]"},equals:function(e){if(this.verts.length!=e.verts.length)return!1;for(var t=0;t<this.verts.length;t++){var n=figure1[t];if(figure2.verts.indexOf(n)==-1)return!1}return!0},isValid:function(){for(var e=0;e<this.verts.length;e++)if(!isNumber(vert.x)&&isNumber(vert.z))return!1;return!0},push:function(e){this.verts.push(e)},getVertices:function(){return this.verts},isFigureClockwise:function(){for(var e=0,t=1;t<this.verts.length;t++)e+=(this.verts[t].x-this.verts[t-1].x)*(this.verts[t].z-this.verts[t-1].z);return e+=(this.verts[0].x-this.verts[this.verts.length-1].x)*(this.verts[0].z-this.verts[this.verts.length-1].z),e>0}})};a._lineSegment=new a.LineSegment2,a._lineSegment2=new a.LineSegment2})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./assert":519,"./util":527,"./util3d":528,three:430}],526:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/util/params",function(e,t,n){"use strict";var i=n.exports={JSON_LOAD:"json",MODEL_PATH:"modelPath",PANO_CAMS:"panoCams",ALL_CAMS:"allCams",DISABLE_FIX_TO_90:"noFeAnglesFix",builtInParams:{},isDebugModeActive:function(){return this.getBoolean("debug",!1)},setBoolean:function(e,t){this.builtInParams[e]=!!t},getBoolean:function(e,t){if(this.builtInParams[e])return!0;var n=i._getQueryValue(e),r=i._getQueryValue("no"+e);if(n&&r)throw new Error("Url parameters '"+e+"' and 'no"+e+" cannot be set at the same time");return(!t||void 0===r)&&(!t&&void 0!==n||t)},getString:function(e,t){return i._getQueryValue(e,t)},registerParameterWatcher:function(e){i._parameterWatchers.push(e),e.call(e)},reloadParameters:function(e){i._reloadQuery(e)},_ENVIRONMENT:"undetermined",_ON_LOCAL:!1,getEnvironmentName:function(){return i._ENVIRONMENT},setEnvironmentName:function(e,t){return e=e||"",t=t||"application",e=i.getCanonicalEnvironmentName(e),!(!i._firstTimeEnvironmentUpdated&&e===i.getEnvironmentName())&&(i._firstTimeEnvironmentUpdated=!1,i._ENVIRONMENT=e,r.isBrowser&&i._callParameterWatchers(),!0)},isOnLocalServer:function(){return i._ON_LOCAL},getCanonicalEnvironmentName:function(e){switch(e.startsWith("im-")&&(e=e.slice(3)),e){case"production":case"prod":case"":return"production";case"demo":return"demo"}return e},_firstTimeEnvironmentUpdated:!0,determineEnvironment:function(e){var t=this;e=r.isBrowser?e||r.insidemaps_||{}:e||{};var n="production",o="default value",a=i.getString("env");return"undefined"!=typeof a?(n=a,o="'env' url parameter"):void 0!==e.env?(n=e.env,o="explicit assignment in JavaScript"):void 0!==e.php&&void 0!==typeof e.php.env?(n=e.php.env,o="injected PHP variable"):(n=t.determineHostType().env,o="parsing url domain"),{env:n,method:o}},getModelPath:function(){return this.getString(this.MODEL_PATH)},determineHostType:function(){if(r.isNode)return{type:"production",env:"production"};var e="production",t=window.location.hostname,n=/^(\w+).+$/.exec(t);switch(n&&(e=n[1].toLowerCase()),i._ON_LOCAL=!1,e){case"www":case"insidemaps":return{type:"production",env:"production"};case"test":return{type:"test",env:"demo"};case"demo":case"local":return i._ON_LOCAL=!0,{type:"debug",env:"demo"};default:return{type:"debug",env:e}}},_callParameterWatchers:function(){i._parameterWatchers.forEach(function(e){e.call(e)})},_parameterWatchers:[],_parseQuery:function(e){for(var t=e.split("&"),n=0;n<t.length;n++){var r=t[n].split("=");if(r.length>0){var o=decodeURIComponent(r[0]);""!==o&&(i._queryVars[o]=r.length>1?decodeURIComponent(r[1]):"")}}},_queryVars:{},_reloadQuery:function(e){if(e)return i._queryVars=e,void i._callParameterWatchers();var t=window.location.search.substring(1),n=window.location.hash.split("?"),r=n.length>1?n[1]:"";i._queryVars&&t==i._savedSearchString&&r==i._savedHashString||(i._queryVars={},i._parseQuery(r),i._parseQuery(t),i._savedSearchString=t,i._savedHashString=r,i._firstReload||(console.debug("URL Search Parameters Reloaded: ",i._queryVars,window.location.search,window.location.hash),i.firstReload=!1),i._callParameterWatchers())},_firstReload:!0,_savedHashString:void 0,_savedSearchString:void 0,_getQueryValue:function(e,t){return r.isBrowser?(i._reloadQuery(),void 0!==i._queryVars[e]?i._queryVars[e]:t):t}};i.registerParameterWatcher(function(){var e=i.determineEnvironment();i.setEnvironmentName(e.env,e.method)})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],527:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/util/util",function(e,t,n){"use strict";var i=function(){e("es6-shim")},o={params:e("./params"),debug:e("./debug")},a=e("path"),s=n.exports={initApplication:i,userAgent_:r.isBrowser?navigator.userAgent||navigator.vendor||window.opera:"node",isMobileDevice:function(){var e=/android|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i;return null!==s.userAgent_.match(e)},isAndroid:function(){return s.userAgent_.match(/Android/i)},isIOS:function(){return s.userAgent_.match(/iPhone|iPad|iPod/i)},isWindows:function(){return s.userAgent_.match(/IEMobile/i)},isFirefox:function(){return s.userAgent_.toLowerCase().indexOf("firefox")>-1},isDefined:function(e){return"undefined"!=typeof e},isString:function(e){return"string"==typeof e||e instanceof String},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isObject:function(e){return null!==e&&"object"==typeof e},isPlainObject:function(e){return Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.prototype||e.constructor&&e.constructor.prototype||Object.prototype}),null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype},param:function(e,t){return void 0!==e?e:t},getParseServerURLForBrowser:function(){var t=e("../../../parse-server-config-default.json").URL;try{var n=e("../../../parse-server-config.json");t=n.URL}catch(r){}if(t.startsWith("https")||t.startsWith("http"))return t;var i=window.location.protocol+"//"+a.join(window.location.hostname,t);return i},getParseUserKeys:function(t){var n=e("../../../../keys/parse-config-default.json");try{n=e("../../../../keys/parse-config.json")}catch(r){}return n},getPublicStripeConfig:function(t){var n=e("../../../../keys/stripe/public-config-default.json");try{n=e("../../../../keys/stripe/public-config.json")}catch(r){}return n},sealObject:function(e){try{for(var t in e)"object"==typeof e[t]&&s.sealObject(e[t]);Object.seal(e),Object.freeze(e)}catch(n){console.error(n)}return e},clone:function(e){return JSON.parse(JSON.stringify(e))},integerToString:function(e,t){t=t||0;for(var n=e+"";n.length<t;)n="0"+n;return n},areNumbersEqual:function(e,t){return Math.abs(e-t)<1e-5},round:function(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)},numberToString:function(e,t){t=t||2;var n=e.toFixed(t).replace(/([0-9]+(\.[0-9]+[1-9])?)(\.?0+$)/,"$1"),r=n.indexOf(".");for(r===-1&&t>=1&&(r=n.length,n+=".");n.length-r<t;)n+="0";return n},getFileSizeAsString:function(e){return e>=1073741824?e=s.numberToString(e/1073741824,2)+" GB":e>=1048576?e=s.numberToString(e/1048576,2)+" MB":e>=1024?e=s.numberToString(e/1024,2)+" KB":e>1?e+=" bytes":1===e?e+=" byte":e="0 bytes",e},convertCoordinateToString:function(e){var t="°",n="'",r='"',i=e>0;e=Math.abs(e);var o=Math.floor(e),a=60*(e-o),s=Math.floor(a),c=Math.round(60*(a-s)),l=o+t+s+n+c+r;return{positive:i,stringCoordinate:l}},geoPointToString:function(e){var t=this.convertCoordinateToString(e.latitude),n=this.convertCoordinateToString(e.longitude),r=t.stringCoordinate+(t.positive?"N":"S"),i=n.stringCoordinate+(n.positive?"E":"W");return r+" "+i},makeClass:function(e,t,n){function r(){n.constructor&&n.constructor.apply(this,arguments)}var i={};s._assignObjectProperties(i,t),Object.defineProperties(r,i);var o={};return s._assignObjectProperties(o,i,r),s._assignObjectProperties(o,n),s._assignObjectProperties(o,{constructor:{value:r,writeable:!1},"super":{get:function(){var e=Object.getOwnPropertyDescriptor(this,"super")?this:Object.getPrototypeOf(this);return Object.getPrototypeOf(e)}}}),r.prototype=e.prototype?Object.create(e.prototype):{},Object.defineProperties(r.prototype,o),r},_assignObjectProperties:function(e,t,n){for(var r in t){var i=t[r],o=i instanceof Object&&(void 0!==i.value||void 0!==i.get||void 0!==i.set);o?e[r]=i:e[r]={value:i,writable:!0}}},getObjectByCollabId:function(e,t){var n=e.getObjectByProperty("collabId",t);return n?n:e.getObjectById(t)},getCollabId:function(e){return e.collabId?e.collabId:e.id},generateUUID:function(){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";return e.replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})}};Object.assign(s,{includes:function(e,t){if(s.isArray(e))return e.indexOf(t)!=-1;if(s.isString(e))return s.containsString(e,t);if(s.isPlainObject(e))return void 0!==e[t];throw new Error("contains: invalid argument")},removeCharactersWhichCannotBeUsedInFilename:function(e,t){var n=e.replace(/[^a-zA-Z0-9\s]+/g,"");return!n&&t&&(n=t),n},containsString:function(e,t,n,r){if(e=e.toLowerCase(),e.includes(t)!=-1)return!0;if(e.includes(n)!=-1)return!0;if("undefined"!=typeof r)throw new Error("Only 2 arguments supported");return!1},underscorifyName:function(e,t){return t=t||"_",e=e.replace(/ +/g,t),e=e.replace(/\W+/g,t)},heredoc:function(e){return e.toString().match(/\/\*\s*([\s\S]*?)\s*\*\//m)[1].replace(/(\/\*[\s\S]*?\*) \//g,"$1/")},empty:function(e){return s.isPlainObject(e)?!s.hasProperties(e):0===s.size(e)},size:function(e){if(s.isObject(e)){if(s.isPlainObject(e))return s.countProperties(e);var t=e.length;return void 0!==t?t:(t=e.size,void 0!==t?t:void 0)}},checkEmailAddress:function(e){var t=!1,n=e.split("@"),r=n[0],i=n[1];if(2!==n.length||0===r.length)t=!0;else{var o=i.split("."),a=o[o.length-1];t=o.length<2||a.length>3||a.length<2}return!t},debounce:function(e,t){var n;return function(){var r=this,i=arguments,o=function(){n=null,e.apply(r,i)},a=!n;clearTimeout(n),n=setTimeout(o,t),a&&e.apply(r,i)}},hasProperties:function(e){for(var t in e)if(e.hasOwnProperty(t))return!0;return!1},countProperties:function(e){var t=0;for(var n in e)if(e.hasOwnProperty(n))return++t;return t},deepCopyObject:function(e){if(void 0===e||null===e)return e;var t={};if("object"==typeof e){"undefined"!=typeof e.length&&(t=[]);for(var n in e)"object"==typeof e[n]?t[n]=this.deepCopyObject(e[n]):"string"==typeof e[n]?t[n]=e[n]:"number"==typeof e[n]?t[n]=e[n]:"boolean"==typeof e[n]&&(e[n]===!0?t[n]=!0:t[n]=!1)}return t},getObjectEntries:function(e){var t=[];for(var n in e)t.push([n,e[n]]);return t},getObjectValues:function(e){var t=[];for(var n in e)t.push(e[n]);return t},reverseMap:function(e){if(e instanceof Map){var t=new Map;return e.forEach(function(e,n){t.set(e,n)}),t}if(s.isPlainOjbect(e)){var t={};for(var n in e)t[e[n]]=n;return t}throw new Error("Illegal argument to reverseMap")},IdentityMap:s.makeClass({},{},{get:function(e){return e}}),_identityMap:void 0,CompositeMap:s.makeClass({},{},{constructor:function(e){this._maps=e},get:function(e){for(var t=0;t<this._maps.length;++t){var n=this._maps[t].get(e);if(void 0!==n)return e}}}),getIdentityMap:function(){return s._identityMap||(s._identityMap=new s.IdentityMap),s._identityMap},getMapValueOrThrow:function(e,t){var n=e instanceof Map?e.get(t):e[t];if(void 0===n)throw new Error("Attempted to map undefined key "+t);return n},getMapValueOrDefault:function(e,t,n){var r;return e&&(r=e instanceof Map?e.get(t):e[t]),void 0===r?void 0!==n?n:t:r},toArray:function(e){return Array.isArray(e)?e:[e]},subtractArrays:function(e,t){for(var n={},r=[],i=0;i<t.length;i++)n[t[i]]=!0;for(i=0;i<e.length;i++)n.hasOwnProperty(e[i])||r.push(e[i]);return r},addToArrayUnique:function(e,t){var n=e.indexOf(t);return n>=0||(e.push(t),!1)},removeFromArray:function(e,t){var n=e.indexOf(t);return n>=0&&(e.splice(n,1),!0)},toFunction:function(e){return e},forEach:function(e,t,n,r){if(t=s.toFunction(t),!e)throw new Error("forEach called on empty value");if(e.forEach)return e.forEach(t,n||{});if(!s.isObject(e))throw new Error("forEach called on invalid object");for(var i in e)r&&!e.hasOwnProperty(i)||t.call(n||{},e[i],i,e)},map:function(e,t,n,r){if(t=s.toFunction(t),e){if(e.map)return e.map(t,n);if(s.isObject(e)){var i={};for(var o in e)r&&!e.hasOwnProperty(o)||(i[o]=t.call(n||{},e[o],o,e));return i}throw new Error("map called on invalid argument")}throw new Error("map called on empty value")},filter:function(e,t,n,r){if(t=s.toFunction(t),e){if(e.filter)return e.filter(t,n||{});if(s.isObject(e)){var i={};for(var o in e)r&&!e.hasOwnProperty(o)||t.call(n||{},e[o],o,e)&&(i[o]=e[o]);return i}throw new Error("filter called on invalid argument")}throw new Error("filter called on empty value")},reduce:function(e,t,n,r,i){if(t=s.toFunction(t),e){if(e.reduce)return r?e.reduce(function(e,n){return t.call(r,e,n)},n):e.reduce(t,n);if(s.isObject(e)){for(var o in e)i&&!e.hasOwnProperty(o)||(n=t.call(r||{},n,e[o],o,e));return n}throw new Error("reduce called on invalid argument")}throw new Error("reduce called on empty value")},concat:function(e,t,n,r){if(t=s.toFunction(t),e){if(s.isObject(e)){var i=[];for(var o in e)r&&!e.hasOwnProperty(o)||(i=i.concat(t.call(n||{},e[o],o,e)));return i}throw new Error("concat called on invalid argument")}throw new Error("reduce called on empty value")},isPromise:function(e){return"function"==typeof e.then},toPromise:function(e){return e?s.isPromise(e)?e:Array.isArray(e)?s.arrayToPromise.call(this,e):s.isPlainObject(e)?s.objectToPromise.call(this,e):Promise.resolve(e):Promise.resolve(e)},arrayToPromise:function(e){return Promise.all(e.map(s.toPromise,this))},objectToPromise:function(e){var t=Object.keys(e),n=t.map(function(t){return s.isPromise(e[t])?e[t]:Promise.resolve(e[t])},this);return Promise.all(n).then(function(e){var n={};return e.forEach(function(e,r){n[t[r]]=e}),n})},"finally":function(e,t){var n=this.constructor;return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw reason})})},makePromiseWithResolvers:function(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e},waitForPromisesAsync:function(e,t){return new Promise(function(n,r){t="debug"===t;var i={values:[],errors:[]},o=e.length,a=0;0===o&&n(i),e.forEach(function(r,s){r.then(function(e){a++,i.values.push(e),a===o&&n(i)})["catch"](function(s){a++,t&&console.error("Promise "+a+" of "+o+" ("+e.indexOf(r)+") rejected",s),i.errors.push(s),a===o&&n(i)})})})},promisify:function(e,t,n){return n=n||"Promisified function",function(){var r=Array.prototype.slice.call(arguments);return new Promise(function(i,a){r.push(function(e,t){e&&(console.log(n+" failed: ",e),s.promiseTime=o.debug.getElapsedTimeAsString(s._promiseTimer),
a(e)),s.promiseTime=o.debug.getElapsedTimeAsString(s._promiseTimer),i(t)}),s._promiseTimer=o.debug.startTimer(),e.apply(t||{},r)})}},_promiseTimer:void 0,promiseTime:"",setTimeoutAsync:function(e){return new Promise(function(t,n){setTimeout(function(){t(e)},e)})},loadScriptAsync:function(e){return new Promise(function(t,n){var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.addEventListener("load",function(){t(e)}),r.addEventListener("error",function(){n("Failed to load script "+e)});var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(r,i)})},buildQueryString:function(e){var t=[];if(s.isPlainObject(e))for(var n in e){var r=encodeURIComponent(n);e[n]&&(r+="="+encodeURIComponent(e[n])),t.push(r)}return t.length?"?"+t.join("&"):""},getLocation:function(e){var t=e.match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)(\/[^?#]*)(\?[^#]*|)(#.*|)$/);return t&&{protocol:t[1],host:t[2],hostname:t[3],port:t[4],pathname:t[5],search:t[6],hash:t[7]}},debugHttp:!1,httpAsync:function(e,t,n,i){if(r.isNode)throw new Error("util.core.httpAsync not supported on Node.js");i=i||{},n=n||{};var o,a=i.headers||{};switch(i.dataType){case"json":o="text";break;case"binary":o="arraybuffer";break;case void 0:o="text";break;default:o=i.dataType}var c=t;switch(e.toLowerCase()){case"get":t+=s.buildQueryString(n),n=void 0}var l=new FormData,u=new XMLHttpRequest;if(u.open(e,t,!0),u.responseType=o,n)if(i.rawRequestData)l=n;else{var h=n.files||[];u.setRequestHeader("X-Requested-With","XMLHttpRequest");for(var d=0;d<h.length;d++)l.append("files",h[d]);for(var f in n)"files"!==f&&l.append(f,n[f])}for(var p in a)u.setRequestHeader(p,a[p]);var m,g=function(){return m||(m=s.parseResponseHeaders(u.getAllResponseHeaders())),m},v=new Promise(function(r,o){u.onload=function(e){if(Object.assign(e,g()),u.status>=200&&u.status<400)s.debugHttp&&console.debug("HTTP Completed "+t+" : ",e),i.fileTracker&&i.fileTracker.progress(c,e),i.progressCallback&&i.progressCallback.call(i.context,e),r(e);else{var n=new Error(u.statusText+" "+t);n.status=u.status,n.code=u.status,o(n)}},u.onerror=function(e){console.error("HTTP Error "+t+" : ",e),o(new Error("There was an error while executing request"))},u.onprogress=function(e){Object.assign(e,g()),s.debugHttp&&console.debug("HTTP Progress "+t+" : ",e),i.fileTracker&&i.fileTracker.progress(c,e),i.progressCallback&&i.progressCallback.call(i.context,e)},"GET"===e?(u.send(),s.debugHttp&&console.debug("HTTP "+e+" "+t)):(u.send(l),s.debugHttp&&console.debug("HTTP "+e+" "+t+" : ",n))}).then(function(){if(!u)return void console.error("request is not defined");var e;switch(o){case"text":if(u.responseText&&u.responseText.toLowerCase().startsWith("<!doctype html")){var n=t.startsWith("/api")?"Node server not running: ":"File not found: ";n+=" "+t;var r=new Error(n);throw r.code=404,r}if("json"===i.dataType)try{return JSON.parse(u.responseText)}catch(r){throw new Error(r.message+" ("+t+")")}e=u.responseText;break;case"arraybuffer":case"blob":e=u.response;break;default:throw new Error("Unknown http data type"+o)}return e})["catch"](function(e){throw e});return i.fileTracker&&i.fileTracker.trackPromise(c,v),v},httpNodeAsync:function(e,t,n,r){var i=querystring.stringify({msg:"Hello World!"}),o={hostname:"www.google.com",port:80,path:"/upload",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":i.length}},a=http.request(o,function(e){console.log("STATUS: "+e.statusCode),console.log("HEADERS: "+JSON.stringify(e.headers)),e.setEncoding("utf8"),e.on("data",function(e){console.log("BODY: "+e)})});a.on("error",function(e){console.log("problem with request: "+e.message)}),a.write(i),a.end()},parseResponseHeaders:function(e){if(!e)return{};var t={},n=e.split("\r\n");return n.forEach(function(e){var n=e.indexOf(": ");if(n>0){var r=e.substring(0,n),i=e.substring(n+2);t[r]=i}}),t},httpGetAsync:function(e,t,n){return s.httpAsync("GET",e,t,n)},httpPostAsync:function(e,t,n){return s.httpAsync("POST",e,t,n)},loadTextAsync:function(e,t,n){return s.httpGetAsync(e,t,n)},loadBinaryAsync:function(e,t,n){return n=Object.extend({},n,{dataType:"binary"}),s.httpGetAsync(e,t,n)},loadJSONAsync:function(e,t,n){n=n||{};var r=n.type?n.type:"GET";return s.httpAsync(r,e,t,n).then(function(e){try{e=JSON.parse(e)}catch(t){throw o.debug.getImprovedError(t,"Failed to parse JSON response")}return e})},callApiAsync:function(e,t,n,r){return n=n||{},n.env=n.env||o.params.getEnvironmentName(),r=r||{},s.httpAsync(e,t,n,r).then(function(e){try{e=JSON.parse(e)}catch(n){throw o.debug.getImprovedError(n,"Failed to parse JSON response")}var r=e;if(s.isObject(e)&&(r=void 0!==e.response?e.response:e,void 0!==e.status)){if(e.status<0){console.debug(e.message);var n=new Error(e.message);throw n.origin="Server",n.originData=t,n.stack=e.stack?e.stack:n.stack,n.stackDescription="Server Stack",n}delete e.status,delete e.message}return r})["catch"](function(e){if(404===e.code&&o.debug.DEBUGLEVEL)throw o.debug.getImprovedError(e,"Hint: Check that node server is running");throw e})},checkIfUrlExistsAsync:function(e){return console.log("checkIfUrlExistsAsync: "+e),new Promise(function(t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.onload=function(){r.status>=200&&r.status<400?(console.log("File Exists: "+e),t(!0)):(console.log("File does not exits: "+e),t(!1))},r.onerror=function(){console.log("There was an error while executing request"),t(!1)},r.send()})},filters:{stripDirectory:function(e){return e.substring(0,e.lastIndexOf("/"))}},FileTracker:s.makeClass({},{},{constructor:function(t){t=t||{},this.resetFileTrackers(),this.triggerUpdate=t.triggerUpdate;var n=e("../../lib/storage/urls");this._pathMap=n.readPathMap,this._reversePathMap=n.reverseReadPathMap},resetFileTrackers:function(){this._loadedFiles=[],this._loadingFileMap={},this._loadingFileMapUpdated=!0,this._activeUploads=0},getActiveUploads:function(){return this._activeUploads},trackPromise:function(e,t,n){var r=this;return r.start(e,n),t.then(function(t){return r.end(e),t})["catch"](function(t){throw r.error(e),t})},start:function(e,t,n){if(!this._loadingFileMap[e]){this._activeUploads++;var r=e.split("?")[0];r.length>30&&(r=a.basename(r)),t=t||this._reversePathMap.get(e)||r,this._loadingFileMap[e]={timer:o.debug.startTimer(),message:t,targetBytes:n||0,loadedBytes:0,percentCompleted:0},this._loadingFileMapUpdated=!0,this.onTriggerUpdate()}},progress:function(e,t){var n=this.getProgressDataFromEvent(t);if(this._loadingFileMap[e]){this._loadingFileMap[e].message;Object.assign(this._loadingFileMap[e],t),this._loadingFileMap[e].percentCompleted=n.percentCompleted,this._loadingFileMap[e].bytesLoaded=n.bytesLoaded,this._loadingFileMap[e].bytesTotal=n.bytesTotal,this._loadingFileMapUpdated=!0,this.onTriggerUpdate()}else console.log("Failed to progress: "+e)},end:function(e){var t=this._loadingFileMap[e];if(t){this._activeUploads--;var n="Loaded "+this._format(t,": ");this._loadedFiles.unshift(n),delete this._loadingFileMap[e],this._loadingFileMapUpdated=!0,this.onTriggerUpdate()}else console.log("Failed to load: "+e)},error:function(e,t){this._activeUploads--;var n,r=this._loadingFileMap[e];n=r?"Error "+this._format(r,": "+(t||"loading failed")):"Error, loading failed: "+e,this._loadedFiles.unshift(n),delete this._loadingFileMap[e],this._loadingFileMapUpdated=!0,this.onTriggerUpdate()},getFileTrackerMessage:function(){var e='<div><div class="text-left"><font color="white">';return s.forEach(this._loadingFileMap,function(t){e+="Loading "+this._format(t,"..."),e+="<br>\n"},this),e+="<br>",s.forEach(this._loadedFiles,function(t){e+=t+"<br>\n"},this),this._loadingFileMapUpdated=!1,e+="</font></div></div>"},_format:function(e,t){var n=e.message+" "+t+s.getFileSizeAsString(e.bytesLoaded)+" in "+o.debug.getElapsedTimeAsString(e.timer);return e.bytesLoaded&&(n+=" ("+s.getFileSizeAsString(e.bytesLoaded/o.debug.getElapsedTime(e.timer))+"/s",e.ContentEncoding?n+=" "+e.ContentEncoding:e.percentCompleted||(n+=" compressed"),n+=")"),e.percentCompleted&&(t+=" "+Math.round(e.percentCompleted)+"% "),n},filesUpdated:function(){return this._loadingFileMapUpdated},onTriggerUpdate:function(){this.triggerUpdate&&this.triggerUpdate()},getProgressDataFromEvent:function(e){return{lengthComputable:e.lengthComputable,bytesLoaded:e.loaded,bytesTotal:e.total,percentCompleted:e.lengthComputable?100*e.loaded/e.total:void 0}}}),PriorityQueue:s.makeClass(Object,{},{constructor:function(e,t){this.comparator=e||function(e,t){return e<t?-1:e>t?1:0},this.heap=[],t&&t.forEach(this.insert.bind(this))},insert:function(e){var t=this.heap.length;for(this.heap.push(e);t>0;){var n=t-1>>1;if(!(this.comparator(this.heap[t],this.heap[n])<0))break;var r=this.heap[t];this.heap[t]=this.heap[n],this.heap[n]=r,t=n}},peek:function(){return heap[0]},remove:function(){var e=this.heap[0];this.heap.length>1?this.heap[0]=this.heap.pop():this.heap.pop();for(var t=0;2*t+1<this.heap.length;){var n=2*t+1;if(n+1<this.heap.length&&this.comparator(this.heap[n],this.heap[n+1])>0&&n++,!(this.comparator(this.heap[t],this.heap[n])>0))break;var r=this.heap[t];this.heap[t]=this.heap[n],this.heap[n]=r,t=n}return e},length:function(){return this.heap.length}}),ResourcePool:s.makeClass({},{},{constructor:function(e){this._pool=[],this._highWaterMark=0,this._createResourceFunction=e,this._createCounter=0},clear:function(){this._pool=[]},getResource:function(){return this._pool.length>0?this._pool.pop():(this._createCounter++,this._createResourceFunction())},returnResource:function(e){this._pool.push(e),this._pool.length>this._highWaterMark&&(this._highWaterMark=this._pool.length)},getHighWaterMark:function(){return this._highWaterMark},getCreateCounter:function(){return this._createCounter}}),kMeans:function(e,t,n,r,i){n=n||function(e,t){return Math.abs(e-t)};var o=[];r&&(o=r.slice(0,Math.min(e,r.length)));for(var a=i||function(e){e=e||0;var r=Math.floor(t.length*Math.random()),i=r;do{var a=!1;if(o.forEach(function(r){n(r,t[i])<=e&&(a=!0)}),!a)break;i++,i%=t.length}while(i!=r);return t[i]};o.length<e;)o.push(a());for(var s,c=[],l=0;l<e;++l)c.push([]);for(var u=!1;!u;){u=!0,s=[];for(var l=0;l<e;++l)s.push([]);t.forEach(function(e){var t=1/0,r=-1;o.forEach(function(i,o){var a=n(e,i);a<t&&(t=a,r=o)}),s[r].push(e),c[r].indexOf(e)<0&&(u=!1)}),s.forEach(function(e,t){0===e.length&&(o[t]=a(),u=!1)}),c=s}return s},imageExistsAsync:function(e){var t,n,r=new Promise(function(e,r){t=e,n=r}),i=new Image;return i.onload=function(){t()},i.onerror=function(e){n(e)},i.src=e,r},checkIfNonWhitespaceString:function(e){var t=/\s+/g;return!!e&&!!e.toString().replace(t,"")},appTimestampToUnixTimestamp:function(e){if(!e||"string"!=typeof e||e.length<14)return null;var t=e.substring(0,4),n=e.substring(4,6),r=e.substring(6,8),i=e.substring(8,10),o=e.substring(10,12),a=e.substring(12,14),s=new Date;return s.setFullYear(t,n,r),s.setMonth(s.getMonth()-1),s.setHours(i,o,a),s.getTime()},isProjectNameBad:function(e,t,n){var r=e.indexOf("Recovered Project - ")>-1,i=!!t&&e.indexOf(t)>-1||!!n&&e.indexOf(n)>-1;return r||i},setProjectInfoIfNeeded:function(e,t){var n=e.getUser(),r=n&&n.getEmail()?n.getEmail().split("@")[0]:void 0,i=r[1],o=n?n.getUsername():void 0;for(var a in t){var s=e.get(a),c=t[a],l="name"===a?this.isProjectNameBad(s,i,o):!s;l&&this.checkIfNonWhitespaceString(c)&&(console.log("changing project "+a+" to "+c),e.set(a,c.toString()))}}})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../../keys/parse-config-default.json":2,"../../../../keys/parse-config.json":3,"../../../../keys/stripe/public-config-default.json":4,"../../../../keys/stripe/public-config.json":5,"../../../parse-server-config-default.json":578,"../../../parse-server-config.json":579,"../../lib/storage/urls":517,"./debug":520,"./params":526,"es6-shim":244,path:344}],528:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("lib/util/util3d",function(e,t,n){"use strict";var r=e("three"),i=n.exports={EPSILON:.001,isPointInsidePolygon:function(e,t){var n,r,i,o,a,s,c,l;for(n=t.x,r=t.y,i=e.length,a=!1,s=e[0],o=1;o<=i;o++)c=e[o%i],r>Math.min(s.y,c.y)&&r<=Math.max(s.y,c.y)&&n<=Math.max(s.x,c.x)&&(s.y!=c.y&&(l=(r-s.y)*(c.x-s.x)/(c.y-s.y)+s.x),(s.x==c.x||n<=l)&&(a=!a)),s=c;return a},getSignedPolygonArea:function(e){for(var t=0,n=0,r=e.length-1;n<e.length;r=n,n++){var i=e[n],o=e[r];t+=i.x*o.y,t-=i.y*o.x}return t/2},getPolygonArea:function(e){return Math.abs(i.getSignedPolygonArea(e))},getPolygonCenter:function(e,t){var n=0,r=0,i=e.length;return e.forEach(function(e){n+=e.x/i,r+=e.y/i}),{x:n,y:r}},getPolygonCentroid:function(e){var t,n,r=0,o=0;for(t=0,n=e.length-1;t<e.length;n=t,t++){var a=e[t],s=e[n],c=a.x*s.y-s.x*a.y;r+=(a.x+s.x)*c,o+=(a.y+s.y)*c}var l=6*i.getSignedPolygonArea(e);return{x:r/l,y:o/l}},getAngleDifference:function(e,t){var n=e-t;return n<0&&(n+=2*Math.PI),n},getAngleBetweenPoints:function(e,t){var n=t.y-e.y,i=t.x-e.x,o=Math.atan2(-n,i);return o+=r.Math.degToRad(270),o%=2*Math.PI},getAngleBetweenVectors:function(e,t){if(!e||!t)return 0;var n=e.dot(t),i=n/(e.length()*t.length());i=Math.min(Math.max(i,-1),1);var o=Math.PI-Math.acos(i),a=e.clone().normalize(),s=t.clone().normalize(),c=new r.Vector3(0,1,0).cross(a),l=c.dot(s)<0?-1:1;return o*l},isPointOnALineSegment:function(e,t,n){var r=function(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))},o=r(t,e)+r(e,n)-r(t,n);return Math.abs(o)<i.EPSILON},getIntersectionBetweenLines:function(e,t,n){return this.getLineIntersection(e.p0,e.p1,t.p0,t.p1,n)},getLineIntersection:function(e,t,n,r,i){var o,a,s,c,l;return o=(r.z-n.z)*(t.x-e.x)-(r.x-n.x)*(t.z-e.z),0===o?(i.x=t.x,i.y=0,i.z=t.z,!1):(a=e.z-n.z,s=e.x-n.x,c=(r.x-n.x)*a-(r.z-n.z)*s,l=(t.x-e.x)*a-(t.z-e.z)*s,a=c/o,s=l/o,i.x=e.x+a*(t.x-e.x),i.y=0,i.z=e.z+a*(t.z-e.z),!0)},composeMatrix:function(e){e=e||{};var t=e.position||new r.Vector3(0,0,0),n=e.scale||new r.Vector3(1,1,1),i=e.rotation||new r.Euler(0,0,0,"YZX"),o=e.quaternion||(new r.Quaternion).setFromEuler(i);return(new r.Matrix4).compose(t,o,n)},decomposeMatrix:function(e,t){t=t||{};var n=(void 0===t.invertScale||t.invertScale,{position:new r.Vector3,quaternion:new r.Quaternion,scale:new r.Vector3});return e.decompose(n.position,n.quaternion,n.scale),{position:n.position,quaternion:n.quaternion,scale:n.scale}},calculateHorizontalFov:function(e,t){return r.Math.radToDeg(2*Math.atan(Math.tan(r.Math.degToRad(e)/2)*t))},calculateVerticalFov:function(e,t){return r.Math.radToDeg(2*Math.atan(Math.tan(r.Math.degToRad(e)/2)*(1/t)))},calcMeanPoint:function(e){var t=e.reduce(function(e,t){return e.add(t)},new r.Vector3);return t.divideScalar(e.length)}}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{three:430}],529:[function(e,t,n){var r=e("../../../lib/storage/dao"),i=e("../../../lib/util").core,o=e("../../../lib/shared-modules/controllers/im-base-controller"),a=e("../../../lib/browser"),s=e("../floor-plan-template-editor/language-generator"),c=e("../../../floor-editor/fe-room-names-config.json"),l=i.makeClass(o,{$inject:["$modal","$rootScope"],POSSIBLE_ROOM_NAMES:c.POSSIBLE_ROOM_NAMES.concat(c.AREA_TEXT)},{constructor:function(e,t){this._$modal=e,this._$scope=t,this._languageRow=null,this._predefinedRooms={},this._selectedLanguage={languageCode:null,languageName:null}},languages:{get:function(){return s.ALL_LANGUAGES}},selectedLanguage:{get:function(){return this._selectedLanguage},set:function(e){this._selectedLanguage.languageCode!==e&&(this._selectedLanguage=e,a.angular.triggerUpdate())}},isLanguageSelected:function(){var e=!1;return this._selectedLanguage.languageCode&&(e=!0),e},populateInputFields:function(){var e=this._getLanguageFromParse(this._selectedLanguage);e.then(function(e){e?this._populateInputFieldsForLanguagePerExistingTranslation(e):this._clearInputFields()}.bind(this))},_populateInputFieldsForLanguagePerExistingTranslation:function(e){var t=e.attributes.predefinedRoomsTranslations;l.POSSIBLE_ROOM_NAMES.forEach(function(e){var n=e.slice(0).toLowerCase().replace(/\W/g,"");t[n]?document.getElementsByName(e)[0].value=t[n]:document.getElementsByName(e)[0].value=""}.bind(this))},_clearInputFields:function(){l.POSSIBLE_ROOM_NAMES.forEach(function(e){document.getElementsByName(e)[0].value=""}.bind(this))},saveDictionary:function(){this._createDictionary();var e=this._getLanguageFromParse(this.selectedLanguage);return e.then(function(e){return e?(e.set("predefinedRoomsTranslations",this._predefinedRooms),e.saveAsync().then(function(){alert("Language saved")})):r.languagesTable.addNewLanguageAsync(this._selectedLanguage.languageName,this._selectedLanguage.languageCode,this._predefinedRooms).then(function(){alert("Language saved")})}.bind(this)),e},_createDictionary:function(){l.POSSIBLE_ROOM_NAMES.forEach(function(e){var t=document.getElementsByName(e)[0].value,n=e.slice(0).toLowerCase().replace(/\W/g,"");t?this._predefinedRooms[n]=t:this._predefinedRooms[n]&&delete this._predefinedRooms[n]},this)},_getLanguageFromParse:function(e){var t=r.languagesTable.findByLanguageCode(e.languageCode);return t.then(function(e){if(e)return e}.bind(this)),t}});t.exports=l},{"../../../floor-editor/fe-room-names-config.json":468,"../../../lib/browser":475,"../../../lib/shared-modules/controllers/im-base-controller":491,"../../../lib/storage/dao":514,"../../../lib/util":524,"../floor-plan-template-editor/language-generator":540}],530:[function(e,t,n){var r=e("../../../lib/util").core,i=r.makeClass({},{open:function(e){e.open({templateUrl:"add-languages-template-modal",size:"lg",controller:"AddLanguagesController as languagesController"})}},{});t.exports=i},{"../../../lib/util":524}],531:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("controllers/customer-support-controller",function(e,t,n){"use strict";var r=e("../../lib/storage/dao"),i=e("../../lib/util").core,o=e("../../lib/util"),a=e("moment"),s=e("../../lib/shared-modules/controllers/im-base-controller"),c=e("../../lib/project-config/pricing-packages-config"),l=e("../controllers/add-languages/add-languages-modal-opener");e("angular");var u="insidemaps.customer-support-controller",h=angular.module(u,[]);n.exports=u,h.controller("CustomerSupportDashboardController",i.makeClass(s,{$inject:["$scope","$modal","$location","imUserService","imProjectService","imPaymentService","dialogs","imPromptModalService"]},{constructor:function(e,t,n,r,i,o,a,c){s.call(this,e),this.$modal=t,this.$location=n,this._imUserService=r,this._imProjectService=i,this._imPaymentService=o,this.imPromptModalService=c,this._dialogs=a,this.searchCriterias=[{id:"1",name:"Owner Email"},{id:"2",name:"Project Address"},{id:"3",name:"Project Name"}],this.searchCriteria=this.searchCriterias[0],this.searchValue=void 0,this.projects=[],this.isLoading=void 0,this.isLocalLoading=void 0,this.currentPage=-1},getProjects:function(e){var t=e||0;if(this.searchValue){var n={};switch(this.searchCriteria.id){case"1":n.ownerEmail=this.searchValue;break;case"2":n.projectAddress=this.searchValue;break;case"3":n.projectName=this.searchValue;break;default:n=void 0}n?(this.resetData(),this.setLoading(!0),r.projectTable.listRecentProjectsCustomerSupport(n.ownerEmail,n.projectAddress,n.projectName,t).then(function(e){this.projects=e,this.currentPage=t,this.setLoading(!1)}.bind(this))["catch"](function(e){this.currentPage=-1,this.setLoading(!1),this._dialogs.error("Error finding projects",e.message)}.bind(this))):this._dialogs.error("Criteria","Please choose search criteria.")}else this._dialogs.error("Search Value","Please enter search value.")},setLoading:function(e){this.isLoading=e,this.refreshGUI()},setLocalLoading:function(e){this.isLocalLoading=e,this.refreshGUI()},resetData:function(){this.projects=[],this.loading=!1,this.currentPage=-1},requiresRole:function(e){return this._imUserService.userHasRole(e)},getSubmissionInterval:function(e){return this._calculateTime(e.getDetailedStatus()&&e.getDetailedStatus().SubmittedAt)},getProjectReadyInterval:function(e){return this._calculateTime(e.getDetailedStatus()&&e.getDetailedStatus().ReadyAt)},getDetailedStatusValue:function(e,t){var n=e.getDetailedStatus()&&e.getDetailedStatus()[t];return n||"/"},getDetailedStatusTiming:function(e,t){var n=e.getDetailedStatus()&&e.getDetailedStatus()[t];return new a(n).format("YYYY-MM-DD HH:mm Z")},getDesiredProductValue:function(e,t){return e.getDesiredProduct()&&e.getDesiredProduct()[t]},getProjectPriceData:function(e,t,n){var r=e.priceData&&e.priceData[t];return(r?r+" "+(n||""):void 0)||(this.isLocalLoading?"loading...":void 0)},getProjectBillingInfo:function(e,t){var n=e.priceData&&e.priceData.billingInfo;return n?n[t]:void 0},getProjectPrice:function(e,t){if(!e.priceData||t){e.priceData=void 0,this.setLocalLoading(!0);var n="/api/v1/project/getProjectPrice/"+e.id,r=o.params.getEnvironmentName();o.core.callApiAsync("GET",n,{env:r}).then(function(t){e.priceData=t,this.setLocalLoading(!1)}.bind(this))["catch"](function(e){this.setLocalLoading(!1),this._dialogs.error("Error calculating price",e.message)}.bind(this))}},getProjectPricingPackage:function(e){var t=c.getPricingPackageForProject(e);return t?t.name:"/"},isProjectPaid:function(e){return!!e.getPayment()},isProjectPublic:function(e){return e.getACL().getPublicReadAccess()},onChangeProjectPriceClick:function(e){this._imProjectService.setPrice(e)["catch"](function(e){}.bind(this))},onUnlockProjectClick:function(e){this._imProjectService.unlockProject(e)["catch"](function(e){}.bind(this))},onMarkPaidClick:function(e){var t=!this.isProjectPaid(e);this._imPaymentService.markPaid(e,t)["catch"](function(e){}.bind(this))},onMakePublicClick:function(e){var t=!this.isProjectPublic(e);this._imProjectService.makePublic(e,t)["catch"](function(e){}.bind(this))},_calculateTime:function(e){return e?a(e).fromNow():"no"},onAddLanguagesClick:function(){l.open(this.$modal)}}))})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/project-config/pricing-packages-config":489,"../../lib/shared-modules/controllers/im-base-controller":491,"../../lib/storage/dao":514,"../../lib/util":524,"../controllers/add-languages/add-languages-modal-opener":530,angular:57,moment:322}],532:[function(e,t,n){var r=(e("../../../lib/storage/dao"),e("../../../lib/util").core),i=e("../../../lib/shared-modules/controllers/im-base-controller"),o=(e("../../../lib/util/assert"),r.makeClass(i,{$inject:["$scope","imDaoService","imUserService"]},{constructor:function(e,t,n){i.call(this,e),this._imDaoService=t,this._imUserService=n,this.dashboard={wrappedObjects:{all:[],selected:[],map:{}},searchParams:{internal:{descending:[],ascending:[],page:0,pageSize:64,containedIn:{}},external:{}},sorting:{options:["descending","ascending",void 0],map:{createdAt:"descending"}},externalColumns:{user:{email:function(e){return e?this._imUserService.listUsers({matches:{email:e}}):Promise.resolve()}}}},this._initSearchParams(),this._resetWrappedObjects(),this.onSortObjects()},getWrappedObjectHtmlClass:function(e){return"bg-info"},_getTable:function(){throw new Error("Method Not Implemented.")},_getSearchParamsExtended:function(){return{}},_wrapParseObjectExtended:function(e){return{}},_initSearchParams:function(){var e={descending:[],ascending:[],page:0,pageSize:64};this.dashboard.searchParams.internal=Object.assign(e,this._getSearchParamsExtended())},_resetWrappedObjects:function(){this.dashboard.wrappedObjects={all:[],selected:[],map:{}}},_registerExternalParameter:function(e,t){this.dashboard.searchParams.external[e]={value:void 0,updateFunction:t}},_refreshObjects:function(){this._resetWrappedObjects();var e=this.dashboard,t=this._getTable();this._imDaoService.listObjects({table:t,searchParams:e.searchParams.internal}).then(function(t){e.wrappedObjects.all=t.map(function(t){var n=this._wrapParseObject(t);return e.wrappedObjects.map[t.id]=n,n}.bind(this)),this._updateSelection()}.bind(this))},_wrapParseObject:function(e){var t={selected:!0,createdAt:e.createdAt,parseObject:e},n=this._wrapParseObjectExtended(e);return Object.assign(t,n)},_updateSelection:function(){var e=this.dashboard.wrappedObjects;e.selected=e.all.filter(function(e){return e.selected}.bind(this))},onSortObjects:function(e){var t=this.dashboard.sorting,n=this.dashboard.searchParams,r=t.options.length,i=t.map;if(n.internal.descending=[],n.internal.ascending=[],e){var o=t.options.indexOf(i[e]);o=(o+1)%r,i[e]=t.options[o]}for(var a in i){var s=i[a];s&&n.internal[s].push(a)}this._refreshObjects()},onSetPage:function(e){this.dashboard.searchParams.internal.page=e,this._refreshObjects()},onSelectAll:function(e){var t=this.dashboard.wrappedObjects.all;t.forEach(function(t){t.selected=e}.bind(this)),this._updateSelection()},onEnterSearch:function(e,t){var n=this.dashboard.searchParams.external,r=this.dashboard.searchParams.internal;if(13==e.keyCode){var i=Promise.resolve();if(t){var o=n[t],a=o.updateFunction,s=o.value;"function"==typeof a?i=a.apply(this,[s]).then(function(e){var n=r.containedIn||{};n[t]=e,r.containedIn=n}.bind(this)):Promise.reject(new Error("No new refresh method defined for external column "+t))}i.then(function(){this._refreshObjects()}.bind(this))}},getObjectNumber:function(e){var t=this.dashboard.searchParams.internal;return t.page*t.pageSize+(e||0)+1},getColumnSortingStyle:function(e){var t=this.dashboard.sorting.map[e],n="";switch(t){case"ascending":n="glyphicon glyphicon-arrow-up";break;case"descending":n="glyphicon glyphicon-arrow-down"}return n}}));t.exports=o},{"../../../lib/shared-modules/controllers/im-base-controller":491,"../../../lib/storage/dao":514,"../../../lib/util":524,"../../../lib/util/assert":519}],533:[function(e,t,n){var r=(e("../../../lib/storage/dao"),e("../../../lib/util").core),i=e("./dashboard-controller"),o=(e("../../../lib/util/assert"),r.makeClass(i,{$inject:["$scope","imDaoService","imUserService","imOrganizationService"]},{constructor:function(e,t,n,r){i.call(this,e,t,n),this._imOrganizationService=r,this._registerExternalParameter("creator",this.dashboard.externalColumns.user.email)},_getTable:function(){return this._imDaoService.getDao().organizationTable},_getSearchParamsExtended:function(){return{includes:["config","creator"]}},_wrapParseObjectExtended:function(e){var t=e,n=t.getConfig();return{creator:t.getCreator()&&t.getCreator().getEmail(),url:"/organization/"+t.id,test:n&&n.isTest()}},updateWrappedOrganizationTest:function(e){var t=e.parseObject,n=t.getConfig(),r=e.test;r!==n.isTest()&&this._imOrganizationService.toggleTest(t,n)["catch"](function(t){e.test=n.isTest()}.bind(this))}}));t.exports=o},{"../../../lib/storage/dao":514,"../../../lib/util":524,"../../../lib/util/assert":519,"./dashboard-controller":532}],534:[function(e,t,n){var r=(e("../../../lib/storage/dao"),e("../../../lib/util").core),i=e("./dashboard-controller"),o=(e("../../../lib/util/assert"),r.makeClass(i,{$inject:["$scope","imDaoService","imUserService"]},{constructor:function(e,t,n){i.call(this,e,t,n),this._imUserService=n,this._registerExternalParameter("creator",this.dashboard.externalColumns.user.email)},_getTable:function(){return this._imDaoService.getDao().userTable},_getSearchParamsExtended:function(){return{includes:[]}},_wrapParseObjectExtended:function(e){var t=e;return{firstName:t.getFirstName(),lastName:t.getLastName(),test:t.isTest(),username:t.getUsername(),email:t.getEmail(),emailVerified:t.getEmailVerified(),test:t.isTest()}},updateWrappedUserTest:function(e){var t=e.parseObject,n=e.test;n!==t.isTest()&&this._imUserService.toggleTest(t)["catch"](function(n){e.test=t.isTest()}.bind(this))}}));t.exports=o},{"../../../lib/storage/dao":514,"../../../lib/util":524,"../../../lib/util/assert":519,"./dashboard-controller":532}],535:[function(e,t,n){var r=e("moment"),i=(e("../../lib/storage/dao"),e("../../lib/util").core),o=e("../../lib/shared-modules/controllers/im-base-controller"),a=i.makeClass(o,{$inject:["$scope","imFinancialService","imProjectService","dialogs","imPromptModalService"]},{constructor:function(e,t,n,r,i){o.call(this,e),this._imFinancialService=t,this._imProjectService=n,this._imPromptModalService=i,this._dialogs=r,this.fiscalPeriods=[],this.wrappedOrganizations=[],this.searchParams={descending:[],ascending:[],includes:this._imFinancialService.getProjectsInclude(),dateFrom:void 0,dateTo:void 0,notEqualTo:{cloned:!0,test:!0}},this.orgOrderBy={name:"finished.projects.length",reverse:!0},this._imFinancialService.setSyncCallback(this,this.syncData),this.generateTimeSlots()},generateTimeSlots:function(){for(var e=r().year(),t=r().format("YYYY-MM"),n=e;n>=2016;n--)for(j=11;j>=0;j--){var i=r(new Date(n,j)).format("YYYY-MM");i<=t&&this.fiscalPeriods.push({year:n,month:j,label:i})}this.changeTimeSlot(this.fiscalPeriods[0])},changeTimeSlot:function(e){this._imFinancialService.fiscalPeriodSelected=e;var t=r.utc([e.year,e.month]),n=r.utc(t).endOf("month");this.searchParams.dateFrom={createdAt:t.toDate()},this.searchParams.dateTo={createdAt:n.toDate()},this.fetchProjects()},fetchProjects:function(){this._imFinancialService.fetchProjects(this.searchParams)},showProjects:function(e,t){this._imFinancialService.selectOrganization(e.name),this._dialogs.create("financial-projects-template","FinancialProjectsController as financialProjects",{projectsField:t,parentController:this},{size:"lg",windowClass:"almostfullmodal"}).result["catch"](function(){this._imFinancialService.setSyncCallback(void 0,void 0,!0)}.bind(this))},fiscalPeriodSelected:{get:function(){return this._imFinancialService.fiscalPeriodSelected}},syncData:function(){this.wrappedOrganizations=this._imFinancialService.getWrappedOrganizations(),this.refreshGUI()},getSumAmounts:function(e){var t=0;return this.wrappedOrganizations.forEach(function(n){var r=n[e],i=r?r.amount||0:0;t+=i}.bind(this)),t},getCountProjects:function(e){var t=0;return this.wrappedOrganizations.forEach(function(n){var r=n[e],i=r?r.projects.length:0;t+=i}.bind(this)),t}});t.exports=a},{"../../lib/shared-modules/controllers/im-base-controller":491,"../../lib/storage/dao":514,"../../lib/util":524,moment:322}],536:[function(e,t,n){var r=e("../../lib/util").core,i=e("../../lib/shared-modules/controllers/im-base-controller"),o=r.makeClass(i,{$inject:["$scope","$modalInstance","data","dialogs","imInvoiceService","imFinancialService","imProjectService","imDiagnosticService","imUserService"]},{constructor:function(e,t,n,r,o,a,s,c,l){i.call(this,e),this._data=n,this._imInvoiceService=o,this._imFinancialService=a,this._imProjectService=s,this._imDiagnosticService=c,this._imUserService=l,this._dialogs=r,this._modalInstance=t,this._parentController=this._data.parentController,this.projectsField=this._data.projectsField,this.fiscalPeriod=void 0,this.wrappedOrganization=void 0,this.wrappedProjects=void 0,this.organization=void 0,this.title=void 0,this.wrappedProjectsSelected=void 0,this.pricingModelPromise=void 0,this.invoicing={invoices:[],selected:void 0,newName:void 0,addMode:"existing"},this._imFinancialService.setSyncCallback(this,this.syncData,!0),this.syncData(),this.orgOrderBy={name:"createdAt",reverse:!0},this.invoiceSearchParams={descending:["createdAt"],includes:["organization"],equals:{organization:this.organization}},this.fetchInvoices()},syncData:function(){this._parentController.syncData(),this.fiscalPeriod=this._imFinancialService.fiscalPeriodSelected,this.wrappedOrganization=this._imFinancialService.getWrappedOrganizationSelected(),this.wrappedProjects=this.wrappedOrganization[this.projectsField].projects,this.organization=this.wrappedOrganization.parseOrganization,this.title=this.wrappedOrganization[this.projectsField].title,this.organization&&(this.pricingModelPromise=this._imDiagnosticService.parse.fetchIfPointer(this.organization.getConfig()).then(function(e){return e?this._imDiagnosticService.parse.fetchIfPointer(e.getPricingModel()):Promise.resolve();
}.bind(this))),this.updateWrappedProjectsSelected(),this.refreshGUI()},updateWrappedProjectsSelected:function(){this.wrappedProjectsSelected=this.wrappedProjects.filter(function(e){return e.selected}.bind(this))},allSelection:function(e){this.wrappedProjects.forEach(function(t){t.selected=e}.bind(this)),this.updateWrappedProjectsSelected()},fetchInvoices:function(){this._imInvoiceService.listInvoices(this.invoiceSearchParams).then(function(e){this.invoicing.invoices=e}.bind(this))},canAddToInvoice:function(){return this.wrappedProjectsSelected.length&&(this.invoicing.selected||!this.invoicing.selected&&this.invoicing.newName&&this.invoicing.newName.length)},addProjectsToInvoice:function(){var e=this.wrappedProjectsSelected.map(function(e){return e.parseProject}),t={name:this.invoicing.newName,invoice:this.invoicing.selected,projects:e,organization:this.wrappedOrganization.parseOrganization,user:this._imUserService.user()};this._imFinancialService.addProjectsToInvoice(t).then(function(e){var t=this.invoicing.invoices.some(function(t){return t.id===e.id}.bind(this));t||this.invoicing.invoices.push(e)}.bind(this))["catch"](function(e){}.bind(this))},removeFromInvoice:function(e){var t=e.parseProject,n={projects:[t],invoice:t.getInvoice()};return this._dialogs.confirm("Remove from Invoice","Are you sure you want to remove project '"+t.getName()+"' from invoice '"+t.getInvoice().getName()+"'?").result.then(function(){return this._imFinancialService.removeProjectsFromInvoice(n)}.bind(this))},updatePublicStatus:function(e){var t=e.parseProject,n=e["public"];this._imFinancialService.updateProjectVisibility(t,n)["catch"](function(n){e["public"]=t.getACL().getPublicReadAccess()}.bind(this))},updateProjectPayment:function(e,t){var n=e.parseProject;this._imFinancialService.updateProjectPayment(n,t)["catch"](function(e){})},close:function(){this._modalInstance.close()}});t.exports=o},{"../../lib/shared-modules/controllers/im-base-controller":491,"../../lib/util":524}],537:[function(e,t,n){var r=e("../../../lib/storage/dao"),i=e("../../../lib/util").core,o=e("../../../lib/util/math"),a=e("../../../lib/browser"),s=e("../../../lib/shared-modules/controllers/im-base-controller"),c=e("./text-position-description-objects-generator"),l=e("./plan-dimensions-objects-generator"),u=e("./walls-style-objects-generator"),h=e("./floor-plan-template-model"),d=e("./walls-in-area-modes-generator"),f=e("./labels-color-generator"),p=e("../../../floor-editor/fe-editor-model/fe-object-model-export-plan").ExportPlanModel,m=e("./language-generator"),g=e("./scaling-labels-by-room-size"),v=i.makeClass(s,{$inject:["$modalInstance","$rootScope","imProgressBarService","template","project","saveButtonVisible"],INCHES:"Inches",CM:"Centimeters",SQFT:"Square feet",SQM:"Square meters",FONTS_S3_PATH:"im-fonts:font-files/",GET_ALL_FONTS_URL:"/api/v1/floorPlanTemplate/getFontsList/",UPLOAD_FONT_URL:"/api/v1/floorPlanTemplate/uploadNewFont/",UPDATE_TEMPLATE_PROJECTS_URL:"api/v1/floorPlanTemplate/updateTemplateProjects/",TEMPLATE_SAVED_EVENT:"TemplateSavedEvent"},{constructor:function(e,t,n,r,i,o){this._$modalInstance=e,this._$scope=t,this._progressBarService=n,this._allFonts=[],this._fonts=[],this._selectedFontFileToUpload=null,this._project=i,this._uploadInProgress=!1,this._searchFilterString="",this._model=new h(r),this._exportPlanModel=new p,this._scaleLabels=new g(this._model.parseObject),this._saveButtonVisible=o,this._selectedWallMeasurementsSystem=this._project&&this._project.isUsingMetricSystem()?v.CM:v.INCHES,this._selectedScaleLabelsMeasurementSystem=this._project&&this._project.isUsingMetricSystem()?v.SQM:v.SQFT,this._init()},projectHasOrganization:{get:function(){return this._project&&this._project.getOrganization()}},selectedWallMeasurementsSystem:{get:function(){return this._selectedWallMeasurementsSystem},set:function(e){this._selectedWallMeasurementsSystem=e}},selectedScaleLabelsMeasurementSystem:{get:function(){return this._selectedScaleLabelsMeasurementSystem},set:function(e){this._selectedScaleLabelsMeasurementSystem=e}},projectIsUnbranded:{get:function(){var e=!1;return this._project&&(e=this._project.isUnbranded()),e}},wallsThicknessInput:{get:function(){return o.round(this._selectedWallMeasurementsSystem===v.CM?this._model.wallsThickness:o.convertCmToInches(this._model.wallsThickness),2)},set:function(e){this._selectedWallMeasurementsSystem===v.CM?this._model.wallsThickness=e:this._model.wallsThickness=o.convertInchesToCm(e)}},externalWallsThicknessInput:{get:function(){return o.round(this._selectedWallMeasurementsSystem===v.CM?this._model.externalWallsThickness:o.convertCmToInches(this._model.externalWallsThickness),2)},set:function(e){this._selectedWallMeasurementsSystem===v.CM?this._model.externalWallsThickness=e:this._model.externalWallsThickness=o.convertInchesToCm(e)}},languages:{get:function(){return m.ALL_LANGUAGES}},scaleLabelsObjects:{get:function(){return this._scaleLabels.scaleObjectsArray}},updateScaleObjects:function(){this._scaleLabels.updateObjectsArray()},addRange:function(){this._scaleLabels.addNewScaleObjects()},removeRange:function(){this._scaleLabels.removeLastAddedObject()},textPositionObjects:{get:function(){return c.ALL_TEXT_POSITION_OBJECTS}},logoPositionObjects:{get:function(){return c.LOGO_POSITION_OBJECTS}},logoFrameSizeOptions:{get:function(){return h.LOGO_FRAME_SIZE_OPTIONS}},wallsInAreaModes:{get:function(){return d.ALL_MODES}},labelFontColors:{get:function(){return f.ALL_COLORS}},planDimensionsObjects:{get:function(){return l.ALL_DIMENSIONS}},wallsStyleObjects:{get:function(){return u.ALL_STYLES}},hasProject:{get:function(){return!!this._project}},projectUsesOrganizationTemplate:{get:function(){return this._project&&!this._project.getFloorPlanTemplate()},set:function(e){if(e)this._project.unsetFloorPlanTemplate();else{var t=this._model.parseObject.getOrganization()?this._model.parseObject.clone():this._model.parseObject;t.unsetOrganization(),this._model=new h(t),this._initModel(),this._project.setFloorPlanTemplate(t)}}},saveButtonVisible:{get:function(){return this._saveButtonVisible}},model:{get:function(){return this._model}},allFloorTextTypes:{get:function(){var e=r.FloorPlanTemplate.PROJECT_PAGE_FLOOR_TEXT_TYPES;return Object.keys(e).map(function(t){return e[t]})}},searchFilterString:{get:function(){return this._searchFilterString},set:function(e){this._searchFilterString!==e&&(this._searchFilterString=e.toLowerCase(),this._fonts=this._allFonts.filter(function(e){return e.toLowerCase().indexOf(this._searchFilterString)>-1}.bind(this)),a.angular.triggerUpdate())}},uploadInProgress:{get:function(){return this._uploadInProgress}},fonts:{get:function(){return this._fonts}},selectedFontFileToUpload:{get:function(){return this._selectedFontFileToUpload}},close:function(){this._$modalInstance.close()},onUploadFontClicked:function(){a.graphics.selectFileDialog({},function(e){this._selectedFontFileToUpload=e,a.angular.triggerUpdate()},this,!1,".otf, .otc, .ttf, .ttc")},removeFontToUpload:function(){this._selectedFontFileToUpload=null},uploadSelectedFontFile:function(){this._uploadInProgress=!0,a.angular.triggerUpdate();var e=this._selectedFontFileToUpload;i.httpPostAsync(v.UPLOAD_FONT_URL,{fontFile:e}).then(function(){this._allFonts.push(e.name),this._model.fontFileName=e.name,this._selectedFontFileToUpload=null,this._uploadInProgress=!1,a.angular.triggerUpdate()}.bind(this))},save:function(){this.close();var e=this._saveTemplateAsync();this._progressBarService.progressBarWrapUp("Saving template","Please wait until template changes are saved.",e),e.then(function(){this._$scope.$emit(v.TEMPLATE_SAVED_EVENT)}.bind(this))},getFloorTypeString:function(e){var t="";switch(e){case r.FloorPlanTemplate.PROJECT_PAGE_FLOOR_TEXT_TYPES.name:t="Floor Name";break;case r.FloorPlanTemplate.PROJECT_PAGE_FLOOR_TEXT_TYPES.floorAreaInfo:t="Floor Area Info"}return t},_init:function(){this._initModel(),i.httpPostAsync(v.GET_ALL_FONTS_URL).then(function(e){var t=JSON.parse(e).sort(function(e,t){return e.localeCompare(t)});this._fonts=t,this._allFonts=this._fonts.slice(),a.angular.triggerUpdate()}.bind(this))},_initModel:function(){var e=this._model.parseObject;this._model.selectedDimensions=l.getForWidthAndHeight(e.getFloorPlanWidth(),e.getFloorPlanHeight()),this._model.selectedLabelFontColor=f.getLabelColor(e.getLabelFontColor()),this._model.selectedLabelDimensionsFontColor=f.getLabelColor(e.getLabelDimensionsFontColor()),this._model.selectedLanguage=m.getLanguage(e.getLanguage()),this._model.selectedWallsStyle=u.getForValue(e.getWallsStyle()),this._model.selectedWallsAreaMode=d.getForValue(e.getWallsInAreaAreaMode()),this._model.logoFrameSize=e.getLogoFrameSize(),this._model.areaFontColor=f.getLabelColor(e.getAreaFontColor()),this._model.floorNameFontColor=f.getLabelColor(e.getFloorNameFontColor()),this._model.addressFontColor=f.getLabelColor(e.getAddressFontColor()),this._initLogoPosition(),this._initTextElementPositions()},_initTextElementPositions:function(){var e=this._model.parseObject.getAddressPosition(),t=this._model.parseObject.getFloorNamePosition(),n=this._model.parseObject.getAreaPosition(),r=this._model;this.textPositionObjects.some(function(i){var o=i.position;return e.vertical===o.vertical&&e.horizontal===o.horizontal&&(r.addressPosition=i),t.vertical===o.vertical&&t.horizontal===o.horizontal&&(r.floorNamePosition=i),n.vertical===o.vertical&&n.horizontal===o.horizontal&&(r.areaPosition=i),r.addressPosition&&r.floorNamePosition&&r.areaPosition}.bind(this))},_initLogoPosition:function(){var e=this._model.parseObject.getLogoPosition();e.vertical===r.FloorPlanTemplate.VERTICAL_TEXT_POSITIONS.bottom?this._exportPlanModel.isLogoOnTop=!1:this._exportPlanModel.isLogoOnTop=!0,this.logoPositionObjects.some(function(t){var n=t.position;return e.vertical===n.vertical&&e.horizontal===n.horizontal&&(this._model.logoPosition=t),this._model.logoPosition}.bind(this))},_saveTemplateAsync:function(){var e,t=this._model.parseObject;return this._project?this._project.saveAsync():e=t.saveAsync().then(function(){return i.callApiAsync("POST",v.UPDATE_TEMPLATE_PROJECTS_URL+t.id)}.bind(this))}});t.exports=v},{"../../../floor-editor/fe-editor-model/fe-object-model-export-plan":467,"../../../lib/browser":475,"../../../lib/shared-modules/controllers/im-base-controller":491,"../../../lib/storage/dao":514,"../../../lib/util":524,"../../../lib/util/math":525,"./floor-plan-template-model":538,"./labels-color-generator":539,"./language-generator":540,"./plan-dimensions-objects-generator":541,"./scaling-labels-by-room-size":542,"./text-position-description-objects-generator":544,"./walls-in-area-modes-generator":545,"./walls-style-objects-generator":546}],538:[function(e,t,n){var r=e("../../../lib/util").core,i=e("../../../lib/storage/dao").FloorPlanTemplate,o=r.makeClass({},{LOGO_FRAME_SIZE_OPTIONS:["Small","Medium","Long"]},{constructor:function(e){this._parseObject=e||new i,this._selectedLanguage=null,this._selectedWallsStyle=null,this._selectedDimensions=null,this._selectedWallsAreaMode=null,this._selectedLabelFontColor=null,this._selectedLabelDimensionsFontColor=null,this._areaPosition=null,this._floorNamePosition=null,this._addressPosition=null,this._logoPosition=null,this._areaFontColor=null,this._floorNameFontColor=null,this._addressFontColor=null,this._logoFrameSize=null},parseObject:{get:function(){return this._parseObject}},wallsThickness:{get:function(){return this._parseObject.getWallsThickness()},set:function(e){this._parseObject.setWallsThickness(e)}},externalWallsThickness:{get:function(){return this._parseObject.getExternalWallsThickness()},set:function(e){this._parseObject.setExternalWallsThickness(e)}},selectedWallsAreaMode:{get:function(){return this._selectedWallsAreaMode},set:function(e){this._selectedWallsAreaMode!==e&&(this._parseObject.setWallsInAreaAreaMode(e.value),this._selectedWallsAreaMode=e)}},isLivableAreaTextEnabled:{get:function(){return!this._parseObject.isLivableAreaTextDisabled()},set:function(e){this._parseObject.setLivableAreaTextDisabled(!e)}},isRoomSizeVisible:{get:function(){return!this._parseObject.isRoomSizeDisabled()},set:function(e){this._parseObject.setRoomSizeDisabled(!e)}},labelFontSize:{get:function(){return this._parseObject.getLabelFontSize()},set:function(e){this._parseObject.setLabelFontSize(e)}},dimensionsPercentage:{get:function(){return this._parseObject.getDimensionsPercentage()},set:function(e){this._parseObject.setDimensionsPercentage(e)}},performLabelScaling:{get:function(){return this._parseObject.isPerformLabelScalingEnabled()},set:function(e){this._parseObject.setPerformLabelScalingEnabled(e)}},labelDimensionsFontSize:{get:function(){return this._parseObject.getLabelDimensionsFontSize()},set:function(e){this._parseObject.setLabelDimensionsFontSize(e)}},selectedLabelFontColor:{get:function(){return this._selectedLabelFontColor},set:function(e){this._selectedLabelFontColor!==e&&(this._parseObject.setLabelFontColor(e.colorHex),this._selectedLabelFontColor=e)}},selectedLabelDimensionsFontColor:{get:function(){return this._selectedLabelDimensionsFontColor},set:function(e){this._selectedLabelDimensionsFontColor!==e&&(this._parseObject.setLabelDimensionsFontColor(e.colorHex),this._selectedLabelDimensionsFontColor=e)}},areaFontColor:{get:function(){return this._areaFontColor},set:function(e){this._areaFontColor!==e&&(this._parseObject.setAreaFontColor(e.colorHex),this._areaFontColor=e)}},floorNameFontColor:{get:function(){return this._floorNameFontColor},set:function(e){this._floorNameFontColor!==e&&(this._parseObject.setFloorNameFontColor(e.colorHex),this._floorNameFontColor=e)}},addressFontColor:{get:function(){return this._addressFontColor},set:function(e){this._addressFontColor!==e&&(this._parseObject.setAddressFontColor(e.colorHex),this._addressFontColor=e)}},selectedLanguage:{get:function(){return this._selectedLanguage},set:function(e){this._selectedLanguage!==e&&(this._parseObject.setLanguage(e.languageCode),this._selectedLanguage=e)}},selectedWallsStyle:{get:function(){return this._selectedWallsStyle},set:function(e){this._selectedWallsStyle!==e&&(this._parseObject.setWallsStyle(e.value),this._selectedWallsStyle=e)}},addressFirstRowFontSize:{get:function(){return this._parseObject.getAddressFirstRowFontSize()},set:function(e){this._parseObject.setAddressFirstRowFontSize(e||0)}},addressSecondRowFontSize:{get:function(){return this._parseObject.getAddressSecondRowFontSize()},set:function(e){this._parseObject.setAddressSecondRowFontSize(e||0)}},areaFontSize:{get:function(){return this._parseObject.getAreaFontSize()},set:function(e){return this._parseObject.setAreaFontSize(e||0)}},floorNameFontSize:{get:function(){return this._parseObject.getFloorNameFontSize()},set:function(e){this._parseObject.setFloorNameFontSize(e||0)}},selectedDimensions:{get:function(){return this._selectedDimensions},set:function(e){this._selectedDimensions!==e&&(this._parseObject.setFloorPlanWidth(e.width),this._parseObject.setFloorPlanHeight(e.height),this._selectedDimensions=e)}},isTwoRowsAddressEnabled:{get:function(){return this._parseObject.isTwoRowsAddressEnabled()},set:function(e){return this._parseObject.setTwoRowsAddressEnabled(e)}},isShowCountryInAddressEnabled:{get:function(){return this._parseObject.isShowCountryInAddressEnabled()},set:function(e){return this._parseObject.setShowCountryInAddressEnabled(e)}},areaPosition:{get:function(){return this._areaPosition},set:function(e){e!==this._areaPosition&&(this._parseObject.setAreaPosition(e.position),this._areaPosition=e)}},floorNamePosition:{get:function(){return this._floorNamePosition},set:function(e){this._floorNamePosition!==e&&(this._parseObject.setFloorNamePosition(e.position),this._floorNamePosition=e)}},addressPosition:{get:function(){return this._addressPosition},set:function(e){this._addressPosition!==e&&(this._parseObject.setAddressPosition(e.position),this._addressPosition=e)}},logoPosition:{get:function(){return this._logoPosition},set:function(e){this._logoPosition!==e&&(this._parseObject.setLogoPosition(e.position),this._logoPosition=e)}},logoFrameSize:{get:function(){return this._logoFrameSize},set:function(e){this._logoFrameSize!==e&&(this._parseObject.setLogoFrameSize(e),this._logoFrameSize=e)}},isAddressVisible:{get:function(){return!this._parseObject.isAddressDisabled()},set:function(e){this._parseObject.setAddressDisabled(!e)}},isFloorNameVisible:{get:function(){return!this._parseObject.isFloorNameDisabled()},set:function(e){this._parseObject.setFloorNameDisabled(!e)}},isCroppedSelected:{get:function(){return!this._parseObject.isCroppedDisabled()},set:function(e){this._parseObject.setCroppedDisabled(!e)}},isAreaVisible:{get:function(){return!this._parseObject.isAreaDisabled()},set:function(e){this._parseObject.setAreaDisabled(!e)}},isLogoVisible:{get:function(){return!this._parseObject.isLogoDisabled()},set:function(e){this._parseObject.setLogoDisabled(!e)}},currentSinglePageFloorTextType:{get:function(){return this._parseObject.getProjectPageFloorTextType()},set:function(e){this._parseObject.setProjectPageFloorTextType(e)}},isFloorTextUnderEachFloorEnabled:{get:function(){return!this._parseObject.isProjectPageFloorTextDisabled()},set:function(e){this._parseObject.setProjectPageFloorTextDisabled(!e)}},isProjectPageFloorTextEnabledForSingleFloorProjects:{get:function(){return this._parseObject.isProjectPageFloorTextEnabledForSingleFloorProjects()},set:function(e){this._parseObject.setProjectPageFloorTextEnabledForSingleFloorProjects(e)}},fontFileName:{get:function(){return this._parseObject.getFontFileName()},set:function(e){this._parseObject.setFontFileName(e)}},addressFontFileName:{get:function(){return this._parseObject.getFontFileNameAddress()},set:function(e){this._parseObject.setFontFileNameAddress(e)}}});t.exports=o},{"../../../lib/storage/dao":514,"../../../lib/util":524}],539:[function(e,t,n){var r=e("../../../lib/util").core,i=r.makeClass({},{},{constructor:function(e,t){this.colorHex=e,this.name=t}}),o=r.makeClass({},{ALL_COLORS:[new i("#000000","Black"),new i("#1d2c4c","Navy"),new i("#525975","Navy Gray"),new i("#979aa8","Light Grey"),new i("#424242","Dark Grey"),new i("#47396D","Dark Violet"),new i("#2C4C40","Dark Green"),new i("#758C83","Dark Sea Green"),new i("#B1D089","Light Green"),new i("#73A8C4","Light Blue"),new i("#1c85e8","Blue"),new i("#035885","Dark Blue")],getLabelColor:function(e){var t=null;return o.ALL_COLORS.some(function(n){return n.colorHex===e&&(t=n),t}),t}},{});t.exports=o},{"../../../lib/util":524}],540:[function(e,t,n){var r=e("../../../lib/util").core,i=(e("../../../lib/storage/dao"),r.makeClass({},{},{constructor:function(e,t){this.languageName=e,this.languageCode=t}})),o=r.makeClass({},{ALL_LANGUAGES:[new i("English","en"),new i("Bulgarian","bg"),new i("Finnish","fi"),new i("French","fr"),new i("German","de"),new i("Italian","it"),new i("Japanese","ja"),new i("Serbian","sr"),new i("Spanish","es"),new i("Swedish","sv"),new i("Norwegian","no"),new i("Portuguese","pt"),new i("Russian","ru"),new i("Romanian","ro"),new i("Turkish","tr"),new i("Ukrainian","uk")],getLanguage:function(e){var t=null;return o.ALL_LANGUAGES.some(function(n){return n.languageCode===e&&(t=n),t}),t}},{});t.exports=o},{"../../../lib/storage/dao":514,"../../../lib/util":524}],541:[function(e,t,n){var r=e("../../../lib/util").core,i=r.makeClass({},{},{constructor:function(e,t,n){this.width=e,this.height=t,this.name=n}}),o=r.makeClass({},{ALL_DIMENSIONS:[new i(3508,2481,"A4 (1x1.414)"),new i(3300,2550,"Letter (11x8.5)"),new i(3e3,2e3,"3:2"),new i(3456,1944,"16:9")],getForWidthAndHeight:function(e,t){var n=null;return o.ALL_DIMENSIONS.some(function(r){return r.width===e&&r.height===t&&(n=r),n}),n}},{});t.exports=o},{"../../../lib/util":524}],542:[function(e,t,n){var r=e("../../../lib/util").core,i=e("../../../lib/util/math"),o=r.makeClass({},{},{constructor:function(e,t,n){this.dirty=!1,this.fontSize=e,this.areaStartRange=t,this.areaEndRange=n},areaStartRangeDirtyCm:{get:function(){return Math.round(this.areaStartRange)},set:function(e){this.areaStartRange=Math.round(e),this.dirty=!0}},areaEndRangeDirtyCm:{get:function(){return Math.round(this.areaEndRange)},set:function(e){this.areaEndRange=Math.round(e),this.dirty=!0}},areaStartRangeDirtySqft:{get:function(){return Math.round(i.convertSqMToSqFt(this.areaStartRange))},set:function(e){this.areaStartRange=i.convertSqFtToSqM(e),this.dirty=!0}},areaEndRangeDirtySqft:{get:function(){return Math.round(i.convertSqMToSqFt(this.areaEndRange))},set:function(e){this.areaEndRange=i.convertSqFtToSqM(e),this.dirty=!0}}}),a=r.makeClass({},{AREA_STEP:10,DEFAULT_SCALE_LABELS_OBJECTS:[new o(22,0,10),new o(36,10,20),new o(50,20,Number.MAX_SAFE_INTEGER)]},{constructor:function(e){this._parseObject=e,this._scaleObjectsArray=this._parseObject.getScalingLabelsFontSizes()?this._createScaleLabelsObjectArray().slice():a.DEFAULT_SCALE_LABELS_OBJECTS},scaleObjectsArray:{get:function(){return this._scaleObjectsArray}},_createScaleLabelsObjectArray:function(){var e=this._parseObject.getScalingLabelsFontSizes(),t=[];return e.forEach(function(e){var n=new o(e.fontSize,e.areaStartRange,e.areaEndRange);t.push(n)}.bind(this)),t},updateObjectsArray:function(){var e=this._scaleObjectsArray.findIndex(this.isDirty,this),t=this._scaleObjectsArray.length;switch(e){case 0:this._scaleObjectsArray[e+1].areaStartRange=this._scaleObjectsArray[e].areaEndRange,this._scaleObjectsArray[e].dirty=!1;break;case t-1:this._scaleObjectsArray[e-1].areaEndRange=this._scaleObjectsArray[e].areaStartRange,this._scaleObjectsArray[e].dirty=!1;break;default:this._scaleObjectsArray[e-1].areaEndRange=this._scaleObjectsArray[e].areaStartRange,this._scaleObjectsArray[e+1].areaStartRange=this._scaleObjectsArray[e].areaEndRange,this._scaleObjectsArray[e].dirty=!1}this._parseObject.setScalingLabelsFontSizes(this._scaleObjectsArray)},isDirty:function(e){return!!e.dirty},addNewScaleObjects:function(){var e=this._scaleObjectsArray.length,t=this._scaleObjectsArray[e-2],n=new o(t.fontSize,t.areaEndRange,t.areaEndRange+a.AREA_STEP);this.updateEndingElement(!0),this._scaleObjectsArray.splice(e-1,0,n),this._parseObject.setScalingLabelsFontSizes(this._scaleObjectsArray)},removeLastAddedObject:function(){var e=this._scaleObjectsArray.length;this.updateEndingElement(!1),e>2&&this._scaleObjectsArray.splice(e-2,1),this._parseObject.setScalingLabelsFontSizes(this._scaleObjectsArray)},updateEndingElement:function(e){var t=this._scaleObjectsArray.length;e?this._scaleObjectsArray[t-1].areaStartRange=this._scaleObjectsArray[t-2].areaEndRange+a.AREA_STEP:this._scaleObjectsArray[t-1].areaStartRange=this._scaleObjectsArray[t-3].areaEndRange}});t.exports=a},{"../../../lib/util":524,"../../../lib/util/math":525}],543:[function(e,t,n){var r=e("../../../lib/util").core,i=r.makeClass({},{open:function(e,t,n,r){e.open({templateUrl:"floor-plan-template-editor",size:"lg",controller:"FloorPlanTemplateEditorController as editor",resolve:{template:function(){return t}.bind(this),project:function(){return n}.bind(this),saveButtonVisible:function(){return!!r}}})}},{});t.exports=i},{"../../../lib/util":524}],544:[function(e,t,n){var r=e("../../../lib/storage/dao"),i=e("../../../lib/util").core,o=r.FloorPlanTemplate.VERTICAL_TEXT_POSITIONS,a=r.FloorPlanTemplate.HORIZONTAL_TEXT_POSITIONS,s=function(e,t,n){var r={};return r.name=e,r.position={horizontal:n,vertical:t},r},c=i.makeClass({},{ALL_TEXT_POSITION_OBJECTS:[s("Top left",o.top,a.left),s("Top center",o.top,a.center),s("Top right",o.top,a.right),s("Bottom left",o.bottom,a.left),s("Bottom center",o.bottom,a.center),s("Bottom right",o.bottom,a.right)],LOGO_POSITION_OBJECTS:[s("Top Right",o.top,a.right),s("Bottom left",o.bottom,a.left)]},{});t.exports=c},{"../../../lib/storage/dao":514,"../../../lib/util":524}],545:[function(e,t,n){var r=e("../../../lib/util").core,i=e("../../../lib/storage/dao").FloorPlanTemplate,o=r.makeClass({},{},{constructor:function(e,t){this.name=e,this.value=t}}),a=r.makeClass({},{ALL_MODES:[new o("All walls",i.WALLS_AREA_MODES.allWalls),new o("Outside walls only",i.WALLS_AREA_MODES.outerWalls),new o("Don't include walls in area",i.WALLS_AREA_MODES.noWalls)],getForValue:function(e){var t=null;return a.ALL_MODES.some(function(n){return n.value===e&&(t=n),t}),t}},{});t.exports=a},{"../../../lib/storage/dao":514,"../../../lib/util":524}],546:[function(e,t,n){var r=e("../../../lib/util").core,i=e("../../../lib/storage/dao").FloorPlanTemplate,o=r.makeClass({},{},{constructor:function(e,t){this.name=e,this.value=t}}),a=r.makeClass({},{ALL_STYLES:[new o("Black",i.WALLS_STYLE.black),new o("Navy",i.WALLS_STYLE.navy),new o("Outlined gray walls",i.WALLS_STYLE.greyOutlined)],getForValue:function(e){var t=null;return a.ALL_STYLES.some(function(n){return n.value===e&&(t=n),t}),t}},{});t.exports=a},{"../../../lib/storage/dao":514,"../../../lib/util":524}],547:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("main-website/controllers/fp-download-selector-controller",function(e,t,n){"use strict";var r=e("../../lib/util"),i=r.core.makeClass(Object,{$inject:["$scope","$routeParams","$modalInstance","project"],IMPERIAL_SINGLE_PAGE_FLOOR_PLAN_PDF_URL:"/api/v1/project/downloadSinglePageFloorPlan/",IMPERIAL_MULTI_PAGE_FLOOR_PLAN_PDF_URL:"/api/v1/project/getProjectPDF/",METRIC_SINGLE_PAGE_FLOOR_PLAN_PDF_URL:"/api/v1/project/downloadMetricSinglePageFloorPlan/",METRIC_MULTI_PAGE_FLOOR_PLAN_PDF_URL:"/api/v1/project/getMetricProjectPDF/",IMPERIAL_SINGLE_PAGE_FLOOR_PLAN_JPG_URL:"/api/v1/project/downloadSinglePageFloorPlanJpeg/",METRIC_SINGLE_PAGE_FLOOR_PLAN_JPG_URL:"/api/v1/project/downloadMetricSinglePageFloorPlanJpeg/",IMPERIAL_SINGLE_PAGE_FLOOR_PLAN_PNG_URL:"/api/v1/project/downloadSinglePageFloorPlanPng/",IMPERIAL_MULTI_PAGE_FLOOR_PLAN_PNG_URL:"/api/v1/project/getProjectImagesPng/",METRIC_SINGLE_PAGE_FLOOR_PLAN_PNG_URL:"/api/v1/project/downloadMetricSinglePageFloorPlanPng/",METRIC_MULTI_PAGE_FLOOR_PLAN_PNG_URL:"/api/v1/project/getMetricProjectImagesPng/",IMPERIAL_SINGLE_PAGE_FLOOR_PLAN_SVG_URL:"/api/v1/project/downloadSinglePageFloorPlanSvg/",METRIC_SINGLE_PAGE_FLOOR_PLAN_SVG_URL:"/api/v1/project/downloadMetricSinglePageFloorPlanSvg/",IMPERIAL_MULTI_PAGE_FLOOR_PLAN_SVG_URL:"/api/v1/project/getImperialProjectSvgs/",METRIC_MULTI_PAGE_FLOOR_PLAN_SVG_URL:"/api/v1/project/getMetricProjectSvgs/",IMPERIAL_CROPPED_FLOOR_PLAN_SVG_URL:"/api/v1/project/getImperialCroppedProjectSvgs/",METRIC_CROPPED_FLOOR_PLAN_SVG_URL:"/api/v1/project/getMetricCroppedProjectSvgs/",IMPERIAL_CROPPED_FLOOR_PLAN_PNG_URL:"/api/v1/project/getCroppedProjectImagesPng/",METRIC_CROPPED_FLOOR_PLAN_PNG_URL:"/api/v1/project/getCroppedMetricProjectImagesPng/",IMPERIAL_CROPPED_FLOOR_PLAN_PDF_URL:"/api/v1/project/getCroppedProjectPDF/",METRIC_CROPPED_FLOOR_PLAN_PDF_URL:"/api/v1/project/getMetricCroppedProjectPDF/",SELECT_IMPERIAL_TEXT:"Imperial ",SELECT_METRIC_TEXT:"Metric ",PDF_TYPE:"pdf",JPG_TYPE:"jpg",PNG_TYPE:"png"},{constructor:function(e,t,n,r){this.$modalInstance=n,this.multipage="",this.singlepage="",this._project=r,this._selectedMeasurementsText=r.isUsingMetricSystem()?i.SELECT_METRIC_TEXT:i.SELECT_IMPERIAL_TEXT,this.multiPagePdfLink="",this.multiPagePngLink="",this.multiPageSvgLink="",this.croppedFloorPdfLink="",this.croppedFloorPngLink="",this.croppedFloorSvgLink="",this.singlePagePdfLink="",this.singlePageJpgLink="",this.singlePagePngLink="",this.singlePageSvgLink="",this._updateDownloadLinks()},areMetricImagesUploaded:{get:function(){return!!this._project.areMetricImagesUploaded()}},selectedMeasurementsText:{get:function(){return this._selectedMeasurementsText}},selectMeasurements:function(e){this._selectedMeasurementsText=e,this._updateDownloadLinks()},close:function(){this.$modalInstance.close()},_updateDownloadLinks:function(){this._selectedMeasurementsText===i.SELECT_IMPERIAL_TEXT?(this.multiPagePdfLink=this._generateDownloadUrl(i.IMPERIAL_MULTI_PAGE_FLOOR_PLAN_PDF_URL),this.multiPagePngLink=this._generateDownloadUrl(i.IMPERIAL_MULTI_PAGE_FLOOR_PLAN_PNG_URL),this.multiPageSvgLink=this._generateDownloadUrl(i.IMPERIAL_MULTI_PAGE_FLOOR_PLAN_SVG_URL),this.croppedFloorPdfLink=this._generateDownloadUrl(i.IMPERIAL_CROPPED_FLOOR_PLAN_PDF_URL),this.croppedFloorPngLink=this._generateDownloadUrl(i.IMPERIAL_CROPPED_FLOOR_PLAN_PNG_URL),this.croppedFloorSvgLink=this._generateDownloadUrl(i.IMPERIAL_CROPPED_FLOOR_PLAN_SVG_URL),this.singlePagePdfLink=this._generateDownloadUrl(i.IMPERIAL_SINGLE_PAGE_FLOOR_PLAN_PDF_URL),this.singlePageJpgLink=this._generateDownloadUrl(i.IMPERIAL_SINGLE_PAGE_FLOOR_PLAN_JPG_URL),this.singlePagePngLink=this._generateDownloadUrl(i.IMPERIAL_SINGLE_PAGE_FLOOR_PLAN_PNG_URL),this.singlePageSvgLink=this._generateDownloadUrl(i.IMPERIAL_SINGLE_PAGE_FLOOR_PLAN_SVG_URL)):(this.multiPagePdfLink=this._generateDownloadUrl(i.METRIC_MULTI_PAGE_FLOOR_PLAN_PDF_URL),this.multiPagePngLink=this._generateDownloadUrl(i.METRIC_MULTI_PAGE_FLOOR_PLAN_PNG_URL),this.multiPageSvgLink=this._generateDownloadUrl(i.METRIC_MULTI_PAGE_FLOOR_PLAN_SVG_URL),this.croppedFloorPdfLink=this._generateDownloadUrl(i.METRIC_CROPPED_FLOOR_PLAN_PDF_URL),this.croppedFloorPngLink=this._generateDownloadUrl(i.METRIC_CROPPED_FLOOR_PLAN_PNG_URL),this.croppedFloorSvgLink=this._generateDownloadUrl(i.METRIC_CROPPED_FLOOR_PLAN_SVG_URL),this.singlePagePdfLink=this._generateDownloadUrl(i.METRIC_SINGLE_PAGE_FLOOR_PLAN_PDF_URL),this.singlePageJpgLink=this._generateDownloadUrl(i.METRIC_SINGLE_PAGE_FLOOR_PLAN_JPG_URL),this.singlePagePngLink=this._generateDownloadUrl(i.METRIC_SINGLE_PAGE_FLOOR_PLAN_PNG_URL),this.singlePageSvgLink=this._generateDownloadUrl(i.METRIC_SINGLE_PAGE_FLOOR_PLAN_SVG_URL))},_generateDownloadUrl:function(e){return e+this._project.id+"?env="+r.params.getEnvironmentName()}});n.exports=i})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/util":524}],548:[function(e,t,n){function r(e){this.config=e||{},this.imageIndex=null,this.$document=$(document),this.$modal=null,this.$indicator=null,this.close=this.close.bind(this),this.prev=this.prev.bind(this),this.next=this.next.bind(this),this.onIndicatorClick=this.onIndicatorClick.bind(this),this.onImageLoaded=this.onImageLoaded.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.$document.on("keyup",this.onKeyUp)}r.prototype.open=function(e){this.isOpened()||(this.imageIndex=parseInt(e)||0,this.render())},r.prototype.close=function(e){if(this.$modal){this.config;this.$modal.animate({opacity:0},{duration:100,complete:function(){this.$modal.remove(),this.$modal=null,this.$indicator=null,this.imageIndex=null}.bind(this)})}},r.prototype.isOpened=function(){return this.$modal&&this.$modal.is(":visible")},r.prototype.render=function(){this.config;this.renderModal(),this.renderCaption(),this.renderCloseButton(),this.renderInnerContainer(),this.renderIndicatorContainer(),this.$modal.animate({opacity:1},{duration:100,complete:function(){}.bind(this)})},r.prototype.renderModal=function(){this.$modal=$("<div>",{"class":"gallery-modal"}).appendTo("body")},r.prototype.renderCaption=function(){this.$caption=$("<div>",{"class":"modal-caption",text:this.getImageCaption(this.imageIndex)}).appendTo(this.$modal)},r.prototype.renderCloseButton=function(){this.$modal.append($("<div>",{"class":"modal-close",click:this.close}))},r.prototype.renderInnerContainer=function(){var e=(this.config,this.getImage(this.imageIndex));this.$modal.append($("<div>",{"class":"modal-inner"}).append($("<div>",{"class":"modal-image"}).append($("<img>",{src:e.src,alt:e.alt,title:e.title,on:{load:this.onImageLoaded,click:function(t){this.onImageClick(t,$(this),e)}.bind(this)}}),$("<div>",{"class":"im-loader modal-loader",style:"width:80px; height: 80px;"})),$("<div>",{"class":"modal-control left",click:this.prev}).append($("<div>",{"class":"arrow left"})),$("<div>",{"class":"modal-control right",click:this.next}).append($("<div>",{"class":"arrow right"}))))},r.prototype.renderIndicatorContainer=function(){
var e=this.config,t=e.images.length;if(1!=t){this.$indicator=$("<div>",{"class":"modal-indicator"});var n,r=$("<ul>");for(n=0;n<t;++n)r.append($("<li>",{"class":this.imageIndex==n?"selected":"",click:this.onIndicatorClick,data:{index:n}}));this.$indicator.append($("<div class='modal-indicator-wrapper'>").append(r)),this.$modal.append(this.$indicator)}},r.prototype.prev=function(){this.hideLoader();var e=this.config.images.length;this.imageIndex>0?--this.imageIndex:this.imageIndex=e-1,this.updateImage()},r.prototype.next=function(){this.hideLoader();var e=this.config.images.length;this.imageIndex<e-1?++this.imageIndex:this.imageIndex=0,this.updateImage()},r.prototype.updateImage=function(){var e=(this.config,this.getImage(this.imageIndex)),t=this.$modal.find(".modal-image img");if(t.attr({src:e.src,alt:e.alt,title:e.title}),this.$modal.find(".modal-caption").text(this.getImageCaption(this.imageIndex)),this.$indicator){var n=this.$indicator.find("ul");n.children().removeClass("selected"),n.children().eq(this.imageIndex).addClass("selected")}this.showLoader()},r.prototype.onImageClick=function(e,t,n){this.next()},r.prototype.onImageLoaded=function(){this.hideLoader()},r.prototype.onIndicatorClick=function(e){var t=$(e.target).data("index");this.imageIndex=t,this.updateImage()},r.prototype.onKeyUp=function(e){if(this.$modal)switch(e.keyCode){case 27:this.close();break;case 37:this.prev();break;case 39:this.next()}},r.prototype.getImage=function(e){return{src:this.config.images[e].url,alt:"",title:""}},r.prototype.getImageCaption=function(e){var t=this.getImage(e);return t.caption||""},r.prototype.showLoader=function(){this.$modal&&(this.$modal.find(".modal-image img").hide(),this.loaderTimeout=setTimeout(function(){this.$modal.find(".modal-loader").show(),clearTimeout(this.loaderTimeout)}.bind(this),700))},r.prototype.hideLoader=function(){this.$modal&&(this.$modal.find(".modal-image img").show(),clearTimeout(this.loaderTimeout),this.$modal.find(".modal-loader").hide())},r.prototype.destroy=function(){this.$document.off("keyup",this.onKeyUp),this.close()},t.exports=r},{}],549:[function(e,t,n){var r=(e("moment"),e("../../lib/storage/dao"),e("../../lib/util").core),i=e("../../lib/shared-modules/controllers/im-base-controller"),o=r.makeClass(i,{$inject:["$scope","$modal","imInvoiceService","imUserService","dialogs","imPromptModalService","imMultipleInputService","imMultiplePicker","imOrganizationService","imDiagnosticService"]},{constructor:function(e,t,n,r,o,a,s,c,l,u){i.call(this,e),this.$modal=t,this._imInvoiceService=n,this._imUserService=r,this._imOrganizationService=l,this._imDiagnosticService=u,this._imPromptModalService=a,this._imMultipleInputService=s,this._imMultiplePicker=c,this._dialogs=o,this._user=this._imUserService.user(),this.wrappedInvoices=[],this.wrappedInvoicesMap={},this.wrappedInvoicesSelected=[],this.filtering={},this.sortingOptions=["descending","ascending",void 0],this.sorting={paid:void 0,createdAt:"descending"},this.searchParamsExternal={organizationName:void 0},this.searchParams={descending:[],ascending:[],page:0,pageSize:64,containedIn:{organization:[]},includes:["organization","user"],equals:{paid:void 0},matches:{name:void 0}},this.reorderInvoices()},setCurrentPage:function(e){this.searchParams.page=e,this.refreshInvoices()},refreshInvoices:function(){this.wrappedInvoicesMap={},this._imInvoiceService.listInvoices(this.searchParams).then(function(e){this.wrappedInvoices=e.map(function(e){var t=this._createWrappedInvoice(e);return this.wrappedInvoicesMap[e.id]=t,t}.bind(this)),this.updateWrappedInvoicesSelected()}.bind(this))},refreshOrganizations:function(){var e=this.searchParamsExternal.organizationName;return e?this._imOrganizationService.listOrganizations({matches:{name:e}}).then(function(e){return this.searchParams.containedIn.organization=e||[],Promise.resolve()}.bind(this)):(this.searchParams.containedIn.organization=[],Promise.resolve())},refreshUsers:function(){var e=this.searchParamsExternal.userEmail;return e?this._imUserService.listUsers({matches:{email:e}}).then(function(e){return this.searchParams.containedIn.user=e||[],Promise.resolve()}.bind(this)):(this.searchParams.containedIn.user=[],Promise.resolve())},reorderInvoices:function(e){var t=this.sortingOptions.length;if(this.searchParams.descending=[],this.searchParams.ascending=[],e){var n=this.sortingOptions.indexOf(this.sorting[e]);n=(n+1)%t,this.sorting[e]=this.sortingOptions[n]}for(var r in this.sorting){var i=this.sorting[r];i&&this.searchParams[i].push(r)}this.refreshInvoices()},_createWrappedInvoice:function(e){return{selected:!0,parseObject:e,paid:e.isPaid(),createdAt:e.createdAt,organization:e.getOrganization()?e.getOrganization().getName():"/",user:e.getUser()?e.getUser().getEmail():"/",updating:!1}},getWrappedInvoiceColor:function(e){var t=e.parseObject,n=t.isPaid(),r=void 0;return r=n?"bg-success":"bg-info"},updateWrappedInvoicesSelected:function(){this.wrappedInvoicesSelected=this.wrappedInvoices.filter(function(e){return e.selected}.bind(this))},allSelection:function(e){this.wrappedInvoices.forEach(function(t){t.selected=e}.bind(this)),this.updateWrappedInvoicesSelected()},onEnterSearch:function(e,t){if(13==e.keyCode){var n=Promise.resolve();switch(t){case"organization":n=this.refreshOrganizations();break;case"user":n=this.refreshUsers()}n.then(function(){this.refreshInvoices()}.bind(this))}},onWrappedInvoicePaymentChanged:function(e){var t=e.parseObject,n=e.paid;this._imInvoiceService.markPaid(t,n)["catch"](function(n){e.paid=t.isPaid()})},onExportInvoice:function(e){this._imInvoiceService.exportInvoiceToCSV(e)["catch"](function(e){console.error(e)}.bind(this))},onShowInvoiceDetails:function(e){this.$modal.open({templateUrl:"invoice-details",controller:"InvoiceDetailsController as invoiceDetails",scope:this.$scope,size:"md",resolve:{invoice:function(){return e}}})}});t.exports=o},{"../../lib/shared-modules/controllers/im-base-controller":491,"../../lib/storage/dao":514,"../../lib/util":524,moment:322}],550:[function(e,t,n){var r=e("jquery"),i=e("../../../lib/util"),o=e("./browser-info-getter"),a=e("../../../lib/browser"),s=e("../../../lib/storage/urls"),c=e("../../../lib/shared-modules/controllers/im-base-controller"),l=i.core.makeClass(c,{$inject:["$scope","$rootScope","$location","$document","$log","$route","$routeParams","$window","$modal","imUserService","imLocalizeService","debug","imOrganizationService","imNotificationService"]},{constructor:function(e,t,n,s,l,u,h,d,f,p,m,g,v,b){angular.element(window).on("load",function(){i.debug.getWhichBrowserAsync().then(function(){var t=new o(e).get();Object.assign(e,t)})}),e.imGlobal={},e.$log=l,e.$location=n,e.$route=u,e.$routeParams=h,e.$rootScope=t,e.$window=d,e.login=p,e.debug=g,t.$on("$routeChangeSuccess",function(t,r){e.activeLink=n.url()}),c.call(this,e),this.$log=l,this.$location=n,this.$route=u,this.$routeParams=h,this.$rootScope=t,this.$window=d,this.$modal=f,this._imUserService=p,this._imLocalizeService=m,this.debug=g,this._imOrganizationService=v,this.headerLinks=r(".header-links"),this.header=r("#header");var y=i.core.debounce(this._onScroll.bind(this),200);r(window).on("scroll",y),window.onclick=this._onClick.bind(this),e.imGlobal.notifyService=b,e.showDebug=!1,this.domainName=this.$location.host(),this.domainName.indexOf("cn.insidemaps")>-1&&(this.chineseDomain=!0),i.params.getBoolean("disableResources",!1)&&(this.disableResources=!0),i.params.getBoolean("pano",!1)&&(this.panoModeEnabled=!0),this.vtour=null,this.initialMode="Overview ",this.otherProjects=[],this.hideNavbar=!0,this.frontPageImages=["/images/mainpage/header_1.jpg","/images/mainpage/header_2.jpg","/images/mainpage/header_3.jpg","/images/mainpage/header_4.jpg","/images/mainpage/header_5.jpg"],this.floorPlan=i.params.getBoolean("floorplan",!1),this.mobileDevice=i.core.isMobileDevice(),this.isEmbedded=a.graphics.isEmbedded(),this.logoRedirectUrl=this.floorPlan&&this.isEmbedded?window.location.href.replace("floorplan",""):"/",this.logoRedirectTarget=this.isEmbedded?"_blank":"_self",e.imGlobal.notifyService.updateInvitesCount().then(function(){this.refreshGUI()}.bind(this))},initialize:function(e){e=e||{},this.projectId=e.projectId||""},isOperator:function(){return this._imUserService.user()&&this._imUserService.user().getOperatorRole()&&("operator"===this._imUserService.user().getOperatorRole()||"supervisor"===this._imUserService.user().getOperatorRole()||"developer"===this._imUserService.user().getOperatorRole()||"QA"===this._imUserService.user().getOperatorRole())},isSupervisor:function(){var e=this._imUserService.user()?this._imUserService.user().getOperatorRole():void 0;return"supervisor"===e},isPhotographer:function(){return this._imUserService.user()&&this._imUserService.user().getPhotographer()},isPrivilegedGuest:function(){return this._imUserService.user()&&this._imUserService.user().getOperatorRole()&&"privilegedGuest"===this._imUserService.user().getOperatorRole()},isProjectOwner:function(e){return this._imUserService.userOwnsProject(e)},requiresRole:function(e){return this._imUserService.userHasRole(e)},debugConsole:function(){this.showDebug=!this.showDebug},forwardEventToCanvas:function(e){this.vtour&&this.vtour.forwardEventToCanvas(e)},goToPath:function(e){this.$location.path(e)},getLogoUrl:function(){return this.vtour?this.vtour.project&&this.vtour.project.getCustomLogoUrl()?s.getUrlForPath("logos/"+this.vtour.project.getCustomLogoUrl(),{},!0):"/img/im-header-logo-white-red.png":"/img/im-header-logo.png"},showLoginModal:function(e,t){this._imUserService.showLoginModal(void 0,e,t)},showLargeImage:function(e){this.$modal.open({templateUrl:"largerFloorImageTemplate",controller:["$scope","imgUrl",function(e,t){e.imageSource=t}],scope:this.$scope,size:"lg",resolve:{imgUrl:function(){return e}}})},_onScroll:function(){this._changeHeader()},_changeHeader:function(){this.header.hasClass("scrolled")||this.header.addClass("scrolled"),0===window.scrollY&&this.header.removeClass("scrolled")},_onClick:function(e){var t=e.target||e.srcElement;t.className.indexOf("dropdown-toggle")===-1&&this._closeOpenDropdowns(e)}});t.exports=l},{"../../../lib/browser":475,"../../../lib/shared-modules/controllers/im-base-controller":491,"../../../lib/storage/urls":517,"../../../lib/util":524,"./browser-info-getter":551,jquery:304}],551:[function(e,t,n){var r=e("../../../lib/util").core,i=e("../../../lib/browser"),o=e("webgl-detect"),a=r.makeClass({},{},{constructor:function(e){this._$scope=e},get:function(){return this._checkBrowserInfo()},_checkBrowserInfo:function(){var e=this._$scope||{};e.whichBrowser=new WhichBrowser,e.showOutdatedBrowserModal=!1,e.browserinfo=e.whichBrowser.toString(),e.showWarning=!1,e.outdatedBrowserMessage="Problem detected: Browser out of date. Please install the latest version of ",e.outdatedOSMessage="",e.webGLMessage='Problem detected: 3D graphics not supported. Click <a href="" data-toggle="modal" data-target="#webgl-missing-modal">here</a> for more info.',e.showBrowserMessage=!1,e.showWebGLMessage=!1,e.showOSMessage=!1,e.webglEnabled=o,e.webglEnabled||(e.showWarning=!0,e.showWebGLMessage=!0,i.angular.triggerUpdate());var t=e.whichBrowser;switch(t.browser.name){case"Chrome":case"Chromium":parseFloat(t.browser.version.major)<35&&(e.outdatedBrowserMessage+='<a href="http://www.google.com/chrome/" target="_blank">Chrome</a>.',e.showWarning=!0,e.showBrowserMessage=!0);break;case"Firefox":parseFloat(t.browser.version.major)<32&&(e.outdatedBrowserMessage+='<a href="https://www.mozilla.org/en-US/firefox/new/" target="_blank">Firefox</a>.',e.showWarning=!0,e.showBrowserMessage=!0);break;case"Internet Explorer":parseFloat(t.browser.version.major)<11&&(e.outdatedBrowserMessage+='<a href="http://windows.microsoft.com/en-us/internet-explorer/download-ie/" target="_blank">Internet Explorer 11</a>.',e.showWarning=!0,e.showBrowserMessage=!0);break;case"Safari":parseFloat(t.browser.version.major)<7&&(e.outdatedBrowserMessage+='<a href="https://www.apple.com/safari/" target="_blank">Safari</a>.',e.showWarning=!0,e.showBrowserMessage=!0);break;case"Samsung Browser":break;case null:if("iOS"===t.os.name)break;default:e.outdatedBrowserMessage='Please install <a href="http://www.google.com/chrome/" target="_blank">Chrome</a> for the best user experience.',e.showWarning=!0,e.showBrowserMessage=!0}if(t.os.version){switch(t.os.name){case"Windows":parseFloat(t.os.version)<7&&(e.outdatedOSMessage="It looks like you are using older version of Windows. For the best user experience please update your system.",e.showWarning=!0,e.showOSMessage=!0);break;case"Mac":var n=t.os.version.split(".");n.length>=2&&"10"==n[0]&&parseFloat(n[1])<10&&(e.outdatedOSMessage="It looks like you are using older version of Mac OS. For the best user experience please update your system.",e.showWarning=!0,e.showOSMessage=!0);break;case"iOS":parseFloat(t.os.version)<7&&(e.outdatedOSMessage="InsideMaps is designed to work with iOS8 or later. Please upgrade you device firmware.",e.showWarning=!0,e.showOSMessage=!0);break;case"Android":parseFloat(t.os.version)<4.3&&(e.outdatedOSMessage='InsideMaps is designed to work with Chrome on Android 4.3 and later. Please upgrade you device firmware and install <a href="http://www.google.com/chrome/" target="_blank">Chrome</a>.',e.showWarning=!0,e.showOSMessage=!0)}return e}}});t.exports=a},{"../../../lib/browser":475,"../../../lib/util":524,"webgl-detect":459}],552:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("controllers/my-dashboard-controller",function(e,t,n){"use strict";var r=e("../../lib/storage/urls"),i=e("../../lib/storage/dao"),o=e("../../lib/util"),a=e("../../lib/browser"),s=e("../../lib/storage/project"),c=e("path"),l=(e("../../../lib/infinite-scroll"),e("moment")),u=e("../../lib/project-config/project-states-config"),h=e("../../lib/svg-floor-plan/floor-plans-download-controller");e("angular"),n.exports="my-dashboard-controller",angular.module("my-dashboard-controller",["infinite-scroll"]).controller("MyDashboardController",o.core.makeClass({},{$inject:["$scope","$timeout","$q","$http","$location","$modal","$sce","imUserService","imUrlService"],PROJECT_INFO_CHANGED_URL:"api/v1/project/notifyProjectInfoChanged"},{constructor:function(e,t,n,r,i,a,c,l,h){this.$http=r,this.$modal=a,this.$sce=c,this.$scope=e,this.util=o,this.user=l.user(),this.dashboardHeader="",this.userProfileImage=this.user.getProfileImage()?"url("+this.user.getProfileImage().url()+") no-repeat center":void 0,this.userInitials="",this.user.getFirstName()&&this.user.getFirstName().length>0?(this.dashboardHeader=this.user.getFirstName()+"'s Projects",this.userInitials+=this.user.getFirstName().charAt(0)):this.dashboardHeader="My Projects",this.user.getLastName()&&this.user.getLastName().length>0&&(this.userInitials+=this.user.getLastName().charAt(0)),this.userInitials.length<1&&(this.userInitials="N/A"),this.myProjects=[],this.activeProject=null,this.iframeSrc=null,this.type=null,this.storageProject=new s,this.activeProjectPictures=[],this.allProjectTags=[],this._imUrlService=h,this.filterTags=[],this.showTagSearch=!1,this.filterIndex={},this.nameSearch="",this.brandedLink=!0,this.gridView=!0,this.loadingRequestId=null,this.resultsLimit=20,this.resultsSkip=0,this.resultsTotal=0,this.loadingMore=!1,this.loadedAll=!1,this.loadedTypesOrderGrid=["favorited","completed","processing"],this.groupBy=this.loadedTypesOrderGrid;var d=u.getStatesRange("submitted","finished"),f=u.getStatesRange("submitted","modeler_assigned");this.where={errored:void 0,all:{status:d},favorited:{favorited:!0},completed:{status:"finished"},processing:{status:f},paused:{"!status":d}},this.view="all",this.orderBy=["-favorited","-createdAt"],this.orderByList=null,this.listOrderBy=null,this.listOrderByDirection=1,this.orderByOverride=null,this.groupByOverride=void 0,this.searchIn=["all"],this.tags=[],this._loadProjects(!0)},loadMoreProjects:function(){this.isLoadingMore||this._loadProjects()},_loadProjects:function(e){var t=this,n="LOAD-REQUEST-"+(new Date).getTime();t.loadingRequestId=n;var r=this.orderByOverride,o=this.groupByOverride||t.groupBy;if("all"!=this.view&&(o=[this.view]),e===!0){this.myProjects=[],this.resultsSkip=0,this.resultsTotal=0,this.loadedAll=!1,this.loadingMore=!1,this.isLoading=!0,this.groupByIndex=0;var s=o[t.groupByIndex];t.whereConstraint=t.where[s],this.groupByIndex=0,a.angular.triggerUpdate()}else{if(this.loadedAll)return;this.isLoadingMore=!0,a.angular.triggerUpdate(),console.debug("Fetching next "+this.resultsLimit+" after "+t.resultsSkip)}this.nameSearch&&this.nameSearch.length>0;t.allProjectTags=[],t.filterIndex={},i.organizationMemberTable.findUserOrganizationMembers(this.user,!0,!0,["organization"]).then(function(e){var n=e.map(function(e){return e.getOrganization()});return console.debug("Searching "+o[t.groupByIndex]+" projects STRING="+t.nameSearch),i.projectTable.findProjectWithPartialNameForUserAndOrg(t.nameSearch,t.searchIn,t.user,n,t.tags,t.resultsSkip,t.resultsLimit,r||t.orderBy,t.whereConstraint)}).then(function(e){var r=!1;if(t.loadingRequestId==n){if(0==e.length||e.length<t.resultsLimit)if(this.groupByIndex++,t.resultsSkip=0,this.groupByIndex>=this.groupBy.length)this.loadedAll=!0,this.isLoading=!1,this.isLoadingMore=!1,a.angular.triggerUpdate(),console.debug("Loaded all projects total="+this.resultsTotal);else{var i=o[t.groupByIndex];t.whereConstraint=t.where[i],i?(console.debug("Loaded all "+t.groupBy[t.groupByIndex-1]+" projects batch="+e.length+", loading next type"),r=!0):(this.loadedAll=!0,this.isLoading=!1,this.isLoadingMore=!1)}else this.resultsTotal+=e.length,this.resultsSkip+=e.length,console.debug("Loaded "+e.length+" "+t.groupBy[t.groupByIndex]+" projects, total="+this.resultsTotal);var s=[];return e.forEach(function(e){var n=!1;t.myProjects.some(function(r){if(r.id==e.id)return n=!0,console.debug("DUPLICATED PROJECT: "+e.id+" in group "+t.groupBy[t.groupByIndex]),!0}),n||s.push(e)}),this.myProjects=this.myProjects.concat(s),this.myProjects.forEach(function(e){var n=e.getTags()||[];e.name=e.getName(),e.location=e.getStreet(),e.status=t.getStatusForProject(e),n.forEach(function(e){t.filterIndex[e]||(t.allProjectTags.push(e),t.filterIndex[e]=!0)})}),r?t._loadProjects():(this.isLoading=!1,this.isLoadingMore=!1,a.angular.triggerUpdate(),void 0)}}.bind(this))},viewType:function(e){this.view=e,this._loadProjects(!0),a.angular.triggerUpdate()},sortBy:function(e){var t=this.listOrderBy;this.listOrderBy=e,t!=e?this.listOrderByDirection=1:t==e&&(this.listOrderByDirection*=-1),"status"==e?this.listOrderByDirection>0?this.groupByOverride=["completed","processing"]:this.groupByOverride=["processing","completed"]:"createdAt"==e&&"createdAt"!=t?(this.groupByOverride=["all"],this.listOrderByDirection*=-1):this.groupByOverride=["all"],this.orderByOverride=[(this.listOrderByDirection<0?"-":"+")+this.listOrderBy],this._loadProjects(!0)},isSearchingIn:function(e){return this.searchIn.indexOf(e)>=0},addSearchIn:function(e){if("all"==e)this.searchIn=["all"];else{var t=this.searchIn.indexOf("all");t!=-1&&this.searchIn.splice(t,1);var n=this.searchIn.indexOf(e);n==-1?this.searchIn.push(e):n>=0&&this.searchIn.splice(n,1)}this.searchIn&&0!=this.searchIn.length||(this.searchIn=["all"]),this.performSearch()},viewGrid:function(){this.gridView=!0,null!==this.listOrderBy&&(this.listOrderBy=null,this.groupByOverride=void 0,this.orderByOverride=null,this._loadProjects(!0))},viewList:function(){this.gridView=!1},cancelOnEscape:function(e,t){27==e.keyCode&&this.toggleInput(t)},onBlurEditField:function(e){this.inputActive&&$(e.target).focus()},onKeyDownSearchField:function(e,t){13==e.keyCode&&this.performSearch()},onBlurSearchField:function(){this.nameSearch||($("#filters").removeClass("opened").addClass("closed"),$("#search-field-menu-bar").attr("placehoder","Search").removeClass("filled"),$("#cancelSearch").hide(),this.searchStarted=!1)},onFocusSearchField:function(){this.searchField||(this.searchField=$("#search-field-menu-bar")),!this.searchStarted&&this.nameSearch&&this.nameSearch.length>=1&&!this.searchStarted&&(this.searchStarted=!0,$("#filters").removeClass("closed").addClass("opened"),$("#search-field-menu-bar").attr("placehoder","").addClass("filled"),$("#cancelSearch").show())},onChangeSearchField:function(){this.onFocusSearchField(),this.performSearch()},performSearch:function(){var e=this;this.searchTimeout&&(window.clearTimeout(this.searchTimeout),this.searchTimeout=null),this.searchTimeout=window.setTimeout(function(){e._loadProjects(!0)},300)},clearSearch:function(){this.nameSearch="",this.onBlurSearchField(),this.orderByList=null,this.listOrderBy=null,this.listOrderByDirection=1,this.orderByOverride=null,this.groupByOverride=void 0,this.searchIn=["all"],this.tags=[],this.performSearch()},getFormattedDate:function(e){return e.toLocaleDateString()},getCreatedAtString:function(e){return e.toLocaleDateString()},getDetailedStatusTiming:function(e,t){var n=e.getDetailedStatus()&&e.getDetailedStatus()[t];return new l(n).format("DD/MM/YYYY hh:mm a")},getUploadTime:function(e){var t=e.getUploadStatistics(),n=t&&t.uploadTime;return isNaN(n)?void 0:parseInt(n)/6e4},getPropertyReportLink:function(e,t){var n="https://im-"+o.params.getEnvironmentName()+".s3.amazonaws.com/users/"+e.get("user").id+"/projects/"+e.id+"/Property Report - "+(t?"Metric":"Imperial")+".pdf";return"/api/v1/project/signUrl?redirect=true&url="+encodeURI(n)},getStatusForProject:function(e){var t=e.getStatus(),n={displayText:t,imgSrc:""};switch(t){case"defined":n.displayText="Paused";break;case"finished":n.imgSrc="/images/done_mini.png",n.displayText="Completed";break;default:n.imgSrc="/images/clock.png",n.displayText="Processing"}return n},toggleInput:function(e){this.inputActive?this.inputActive=!1:this.inputActive=!0;var t=$("#projectNameAnchor_"+e.id).width()+20;t>400&&(t-=60),$("#editProjectNameForm_"+e.id).width(t+"px"),$("#editProjectNameForm_"+e.id).css("max-width",t+"px"),e.inputName=e.getName(),a.angular.triggerUpdate(),this.inputActive?(e.inputActive=!0,$("#my-projects-table").addClass("editing"),$("#projectNameWrapper_"+e.id).addClass("editing-active"),$("#projectNameWrapper_"+e.id).css("margin-top","-14px"),$("#projectNameDone_"+e.id).addClass("editing-active"),$("#projectNameDone_"+e.id).css("left",t+35+"px"),$("#input-block").show(),setTimeout(function(){$("#editProjectName_"+e.id).focus()},0)):(e.inputActive=!1,$("#my-projects-table").removeClass("editing"),$("#projectNameWrapper_"+e.id).removeClass("editing-active"),$("#projectNameWrapper_"+e.id).css("margin-top","0px"),$("#projectNameDone_"+e.id).removeClass("editing-active"),$("#input-block").hide(),setTimeout(function(){$("#projectNameWrapper_"+e.id).scrollLeft(0)},0))},toggleFavorite:function(e){e.getFavorited()?e.setFavorited(!1):e.setFavorited(!0),e.save()},updateName:function(e){var t=e.getName(),n=e.inputName,r=e.id;e.setName(e.inputName),e.save().then(function(){o.core.callApiAsync("POST",this.PROJECT_INFO_CHANGED_URL,{type:i.projectTable.INFO_CHANGE_TYPE.RENAMING,projectId:r,name:t,newName:n})}.bind(this)),this.toggleInput(e)},findFirstEnabled:function(e){return e?e[0]:null},getBackgroundImage:function(e){var t=this.findFirstEnabled(e.getHDRPhotos());if(t)return"url("+r.getUrlForPath(c.join(e.getPhotoPath(),"artifacts","previewPanos","preview-"+t.filename),{},!0)+")";var n=e.get("thumbnail");return n?"url("+r.getParseUrl(n.url())+")":"url(/images/dashboard/Background.png)"},setIframeSrc:function(e,t){this.activeProject=e;var n="https://www.insidemaps.com/model-embedded/project/"+e.id,r="?env="+o.params.getEnvironmentName();switch(t){case"tour":n+="/json"+r+"&pano&cubeReprojection&enablePanoHelpers&panoManager&loadFrom=s3";break;default:n="/app/3dmodel/embedded"+r+"&projectId="+e.id+"&modelManager&loadFrom=s3"}this.iframeSrc=this.$sce.trustAsResourceUrl(n)},setType:function(e,t){this.type=e,t&&(this.activeProject=t,this.activeProjectFinished="finished"===this.activeProject.getStatus(),this.storageProject=this.storageProject.fromParseProject(this.activeProject),this.activeProjectStreet=this.activeProject.getStreet(),this.activeProjectName=this.activeProject.getName(),this.activeProjectCity=this.activeProject.getCity(),this.activeProjectState=this.activeProject.getState(),this.activeProjectTags=this.activeProject.getTags()?this.activeProject.getTags().toString():"",this.activeProjectDesiredProduct=this.activeProject.getDesiredProduct()||{},this.activeProject3DModel=this.activeProjectDesiredProduct.customModel,this.activeProject3DTour=this.activeProjectDesiredProduct.panoTour,this.activeProjectVideos=this.activeProject.getWalkthroughVideos()?this.generateUrlsForVideo(this.activeProject.getWalkthroughVideos())||void 0:this.generateUrls(),this.getFloors().then(function(){this.floorPlansController=new h(t,this.$modal),this.floorPlansController.updateAsync()}.bind(this)),this.populatePhotos(),this.$scope.panoGrabberUrl="/pano-lite-webgl/"+this.activeProject.id)},generateUrlsForVideo:function(e){var t=this;if(e){var n=e.map(function(e){return"string"==typeof e?e=r.getUrlForPath(c.join(t.storageProject.getVideoFilePath(),e),{},!0):console.debug("generateUrlsForVideo -> url is not string but "+typeof e),e});return n||void 0}},showLargeImage:function(e){var t=this;this.$modal.open({templateUrl:"largerImageTemplate",controller:["$scope","photoArray",function(e,t){e.photoArray=t}],scope:t.$scope,size:"lg",resolve:{photoArray:function(){var n=t.activeProjectPictures.slice(0,e),r=t.activeProjectPictures.slice(e,t.activeProjectPictures.length),i=r.concat(n);return i}}})},updateProjectInfo:function(){this.setStreet(),this.setCity(),this.setTags()},populatePhotos:function(){var e=this.activeProject.getHDRPhotos();if(this.activeProjectPictures=[],e)for(var t=0;t<e.length;t++){var n=e[t],i=c.join(this.storageProject.getRootPath(),"artifacts/previewPanos","preview-"+n.filename),o=r.getUrlForPath(i,{}),a=c.join(this.storageProject.getRootPath(),"artifacts/hdrPanos",n.filename),s=r.getUrlForPath(a,{});this.activeProjectPictures.push({enabled:n.enabled,source:s,url:s,previewUrl:o,displayName:n.displayName,filename:n.filename,preview:n.preview,watermark:n.watermark})}},getFloors:function(){return i.floorTable.listFloorsForProjectAsync(this.activeProject).then(function(e){this.floorsForActiveProject=e,a.angular.triggerUpdate()}.bind(this))},getStreet:function(){return this.activeProject.getStreet()},getName:function(){return this.activeProject.getName()},getState:function(){return this.activeProject.getState()},getCity:function(){return this.activeProject.getCity()},setStreet:function(e){return this.activeProject.setStreet(e)},getTags:function(){return this.activeProject.getTags()},setTags:function(){return this.activeProject.setTags(this.parseTagsString(this.activeProjectTags))},parseTagsString:function(e){var t=e.replace(/ /g,""),n=t.split(",");return n},setName:function(e){return this.activeProject.setName(e)},setState:function(e){return this.activeProject.setState(e)},setCity:function(e){return this.activeProject.setCity(e)},saveProjectInfo:function(){this.setState(this.activeProjectState),this.setName(this.activeProjectName),this.setCity(this.activeProjectCity),this.setTags(),this.setStreet(this.activeProjectStreet),this.activeProject.saveAsync()},isActiveProjectFinished:function(){return"finished"===this.activeProject.getStatus()},generateUrls:function(){this.urlPrefix=this.brandedLink?"https://www.insidemaps.com":"https://unbranded.insidemaps.com",this.urlSuffix=this.brandedLink?"":"&unbranded",this.activeProject3DTourURL=this.urlPrefix+"/app/walkthrough?projectId="+this.activeProject.id+"&json"+this.urlSuffix,this.activeProject3DModelURL=this.urlPrefix+"/app/3dmodel?projectId="+this.activeProject.id+this.urlSuffix,this.activeProjectListingURL=this.urlPrefix+"/project/"+this.activeProject.id+"/listing",this.generateEmbedCode()},generateEmbedCode:function(){var e=this.activeProject.getPro(),t=this.activeProject.getPanoProject();this.activeProject3DModelEmbedInfo=null,this.activeProject3DTourEmbedInfo=null;var n={projectId:this.activeProject.id,env:"production"};e&&(this.staticImageUrl=this.brandedLink?this._imUrlService.getBrandedUrl("3dmodelEmbedded",n):this._imUrlService.getUnbrandedUrl("3dmodelEmbedded",n),this.activeProject3DModelEmbedInfo=this._imUrlService.getIFrame(this.staticImageUrl)),t&&(this.staticImageUrlTour=this.brandedLink?this._imUrlService.getBrandedUrl("walkthroughEmbedded",n):this._imUrlService.getUnbrandedUrl("walkthroughEmbedded",n),this.activeProject3DTourEmbedInfo=this._imUrlService.getIFrame(this.staticImageUrlTour))},autoComplete:function(e){e=e.toLowerCase();var t=[];return this.allProjectTags.forEach(function(n){0===n.toLowerCase().indexOf(e)&&t.push({text:n})}),t},onTagAdded:function(e){var t=e.text;this.filterTags.push(t),this._refreshProjects(void 0,this.filterTags)},onTagRemoved:function(e){var t=e.text;this.filterTags=this.filterTags.filter(function(e){return e!==t}),0===this.filterTags.length?this._refreshProjects(void 0,void 0):this._refreshProjects(void 0,this.filterTags)},showLargeFloorImage:function(e){this.$modal.open({templateUrl:"largerFloorImageTemplate",controller:["$scope","floorImage",function(e,t){e.imageSource=t}],scope:this.$scope,size:"lg",resolve:{floorImage:function(){return e}}})},trustSrc:function(e){return this.$sce.trustAsResourceUrl(e)},showFPDownloadSelector:function(e){var t=this;this.$modal.open({templateUrl:"download-floorplan-template",controller:"FPDownloadSelectorController as fpDownloader",scope:this.$scope,size:"md",resolve:{project:function(){return t.activeProject}}})},showFPLabelEditorDialog:function(){var e=this;this.$modal.open({templateUrl:"floorplan-label-editor-dialog-template",controller:"FPLabelEditorDialogController as LabelEditorDialog",scope:this.$scope,size:"md",resolve:{floors:function(){return e.floorsForActiveProject}}})},showCaptureDialog:function(){this.$modal.open({templateUrl:"pano-grabber-information-template",scope:this.$scope,size:"md"})},downloadImages:function(){o.core.callApiAsync("GET","/api/v1/project/getProjectHDRImages/"+this.activeProject.id,{env:o.params.getEnvironmentName()})},showPhotoEditModal:function(){var e=this,t=this.$modal.open({templateUrl:"slideshow-edit-template",controller:"SlideshowEditController as slideshowEditor",scope:e.$scope,size:"lg",resolve:{items:function(){return e.activeProjectPictures},parseProject:function(){return e.activeProject}}});t.result.then(function(t){e.populatePhotos()})}}))})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../lib/infinite-scroll":577,"../../lib/browser":475,"../../lib/project-config/project-states-config":490,"../../lib/storage/dao":514,"../../lib/storage/project":516,"../../lib/storage/urls":517,"../../lib/svg-floor-plan/floor-plans-download-controller":518,"../../lib/util":524,angular:57,moment:322,path:344}],553:[function(e,t,n){var r=e("moment"),i=e("parse").Parse,o=e("chart.js"),a=(e("../../lib/config"),e("../../lib/util").core),s=e("../../lib/storage/dao"),c=e("../../lib/browser"),l=e("../../lib/shared-modules/controllers/im-base-controller"),u=e("../../lib/organization-config/organization-analytics-config"),h=e("./project-notes-controller"),d=e("../../lib/project-config/project-states-config"),f=e("../../lib/project-config/pricing-packages-config"),p=e("../controllers/floor-plan-template-editor/template-modal-opener"),m=e("../controllers/video-capture-template-editor/video-template-modal-opener"),g=(e("awesomplete"),e("copy-to-clipboard")),v=6e4,b=10080*v,y=43200*v,w=a.makeClass(l,{$inject:["$scope","$modal","$location","imPromptModalService","imOrganizationService","imUserService","imProjectService","imPricingModelService","dialogs","imProgressBarService","imColorService"],LOGO_NAME:"logo",UPDATE_FLOOR_PLAN_LOGOS_URL:"api/v1/floorPlanTemplate/updateOrganizationLogo/"},{constructor:function(e,t,n,r,i,a,c,h,f,p,m){
l.call(this,e),this.$modal=t,this.$location=n,this.dialogs=f,this._promptService=r,this._imOrganizationService=i,this._imUserService=a,this._imProjectService=c,this._imPricingModelService=h,this._imProgressBarService=p,this._imColorService=m,this.organization=e.organization,this.sisterOrganizations=[];var g=this.organization.getConfig();this.config=g?{parseObject:g,test:g.isTest(),postpaid:g.isPostpaid(),analytics:g.isAnalytics(),earlyLinkSend:g.getEarlyLinkSend(),generatePropertyReport:g.getPropertyReportRequired(),vip:g.isVIP(),requests:{},pricingModel:g.getPricingModel(),pricingModels:[],organizations:[],selectedSisterOrganization:void 0,customPricingUrl:g.getCustomPricingUrl()}:void 0,this.apiConfig=void 0,this.initApiConfig();var v=new Date,y=new Date(Date.UTC(v.getFullYear(),v.getMonth(),v.getDate()));this.analyticsData={dimensions:u.DIMENSIONS,searchParams:{equals:{organization:this.organization},dateFrom:{date:new Date(y-b)},dateTo:{date:v}},filterParams:{project:void 0,user:void 0,type:void 0,target:void 0,origin:void 0,device:void 0},objects:[],filteredData:[],filteredAggregatedData:void 0,lineChart:void 0},this.usersData={users:[]};var w=new Date,_={labels:[],datasets:[]},x={labels:[],datasets:[]};this.enterprise={searchType:"",searchDate:{from:w,to:w,range:[]},searchParams:{ascending:["createdAt"],includes:["user"],equals:{organization:this.organization},notEqualTo:{cloned:!0,deleteMarker:!0},dateFrom:{createdAt:void 0},dateTo:{createdAt:void 0},containedIn:{status:d.getStatesRange("submitted","finished")}},data:{charts:{userScanLoad:{data:_,chart:new o(document.getElementById("userScanLoad").getContext("2d"),{type:"bar",data:_,options:{title:{display:!0,text:"User Scan Load"},tooltips:{mode:"index",intersect:!1},responsive:!0,scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0,ticks:{beginAtZero:!0}}]}}})},scansComposition:{data:x,chart:new o(document.getElementById("scansComposition").getContext("2d"),{type:"doughnut",data:x,options:{title:{display:!0,text:"Scans Composition"},responsive:!0,legend:{position:"top"},animation:{animateScale:!0,animateRotate:!0}}})}},projects:{all:[],pending:{name:"Pending",wrappedProjects:[]},completed:{name:"Completed",wrappedProjects:[]}},projectsMap:{}}},this.projectNotes={},this.loadProjectNotes(),this._newPricingUrl=this.config?this.config.customPricingUrl:"",this.userMode="admins",this.orgMembers=[],this._floorPlanTemplate=null,this._fetchOrganizationTemplateAsync();var k=this.organization.getLogo();this.logoUrl=k?k.url():"images/image-not-available.jpg",this.updateUserFilter(),this.refreshOrganizationUsers(),this.selectedNote=null,this.fetchPricingModels(),this.fetchOrganizations(),this.fetchSisterOrganizations(),this.updateEnterpriseDates(),this._roomItemEvents=!1,this._roomOrderItemDragged=null,this._roomOrder=g?g.get("roomOrder"):s.roomTable.defaultRoomOrder,this._roomOrder&&0!=this._roomOrder.length||(this._roomOrder=s.roomTable.defaultRoomOrder)},deletable:function(e){return arguments.length?this.organization.setDeletable(e):this.organization.isDeletable()},roomOrder:function(){return this._roomOrder},initApiConfig:function(){var e=this.organization.getApiConfig();this.apiConfig=e?{parseObject:e,apiTokens:this._duplicateArray(e.getApiTokens()),notificationUrl:e.getNotificationUrl()}:void 0},fetchPricingModels:function(){if(this.config){var e={ascending:["name"]};this._imPricingModelService.listPricingModels(e).then(function(e){this.config.pricingModels=e}.bind(this))}},fetchOrganizations:function(){if(this.config){var e={ascending:["name"]};this._imOrganizationService.listOrganizations(e).then(function(e){this.config.organizations=e.map(function(e){return{id:e.id,name:e.getName(),value:e}})}.bind(this))}},fetchSisterOrganizations:function(){if(this.organization){var e=this.organization.getSisterOrganizations();e.query().findAsync().then(function(e){this.sisterOrganizations=e}.bind(this))}},addSisterOrganization:function(){var e=this.organization,t=this.config.selectedSisterOrganization&&this.config.selectedSisterOrganization.value;if(t){var n=e.getSisterOrganizations();n.add(t),this._imOrganizationService.saveOrganizationAsync(e).then(function(){return this.fetchSisterOrganizations()}.bind(this)).then(function(){this.config.selectedSisterOrganization=void 0,this.refreshGUI()}.bind(this))}},removeSisterOrganization:function(e){var t=this.organization.getSisterOrganizations();t.remove(e),this._imOrganizationService.saveOrganizationAsync(this.organization).then(function(){return this.fetchSisterOrganizations()}.bind(this)).then(function(){this.refreshGUI()}.bind(this))},updateUserFilter:function(){switch(this.userMode){case"admins":this.filterOrganizationMember=function(e){var t=e.member;return t.isAdmin()&&t.isConfirmed()};break;case"users":this.filterOrganizationMember=function(e){var t=e.member;return!t.isAdmin()&&t.isConfirmed()};break;case"invites":this.filterOrganizationMember=function(e){var t=e.member;return!t.isConfirmed()}}},updateEnterpriseDates:function(){var e=this.enterprise.searchDate,t=this.enterprise.searchParams,n=e.from,i=e.to;if(n&&i){t.dateFrom.createdAt=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),0,0,1)),t.dateTo.createdAt=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),23,59,59));var o=new Date(t.dateFrom.createdAt),a=new Date(t.dateTo.createdAt);for(e.range=[];o<a;){e.range.push(r(o).format("MM/DD/YY"));var s=o.setDate(o.getDate()+1);o=new Date(s)}this.enterprise.searchDate.validFrom=!0,this.enterprise.searchDate.validTo=!0}else n||(this.enterprise.searchDate.validFrom=!1),i||(this.enterprise.searchDate.validTo=!1)},refreshEnterpriseData:function(){this.enterprise;this._imProjectService.listProjects(this.enterprise.searchParams).then(function(e){var t=this.enterprise.data.projectsMap={};this.enterprise.data.projects.all=e,this.enterprise.data.projects.pending.wrappedProjects=[],this.enterprise.data.projects.completed.wrappedProjects=[],this._imColorService.reset();var n=[],i="<br><u>Affected Projects Ids:</u><br>";e.forEach(function(e){var o;e.getUser()?o=e.getUser():(o=s.userTable.createLiteAsync(),o.setFirstName("Unknown"),o.setLastName("User"),n.push(e),i+=e.id+"<br>");var a=t[o.id]||{label:o.getFirstName()+" "+o.getLastName(),backgroundColor:this._imColorService.getColor(),data:[],daily:{},total:0},c=r(e.createdAt).utc().format("MM/DD/YY"),l=a.daily[c]||0;l++,a.daily[c]=l,a.total++,t[o.id]=a;var u=e.getDetailedStatus()||{},o=e.getUser(),h=o&&o.getFirstName()+" "+o.getLastName(),d=o&&o.getEmail(),p=f.getPricingPackageForProject(e),m={parseProject:e,id:e.id,submittedAt:u.SubmittedAt,finishedAt:u.FinishedAt,address:e.getAddress(),user:h,email:d,type:p&&p.codeName};"finished"===e.getStatus()?this.enterprise.data.projects.completed.wrappedProjects.push(m):this.enterprise.data.projects.pending.wrappedProjects.push(m)}.bind(this));var o=this.enterprise.data.charts.userScanLoad;o.data.labels=this.enterprise.searchDate.range,o.data.datasets=[];var a=this.enterprise.data.charts.scansComposition;a.data.labels=[],a.data.datasets=[],scansCompositionData={data:[],backgroundColor:[],label:"Users"};for(var c in t){var l=t[c];l.data=this.enterprise.searchDate.range.map(function(e){return l.daily[e]||0}),o.data.datasets.push(l),scansCompositionData.data.push(l.total),scansCompositionData.backgroundColor.push(l.backgroundColor),a.data.labels.push(l.label)}a.data.datasets.push(scansCompositionData),o.chart.update(),a.chart.update(),n.length&&this.dialogs.notify("Project Owners","<b>"+n.length+" projects do not have existing/accessible owners. Please contact support.</b><br>"+i),this.refreshGUI()}.bind(this))["catch"](function(e){console.error(e)}.bind(this))},refreshOrganizationUsers:function(){this.organization&&this._imOrganizationService.getMembersForOrganization(this.organization,["user"]).then(function(e){this.orgMembers=e.map(function(e){return{member:e,admin:e.isAdmin(),confirmed:e.isConfirmed()}}.bind(this)),this.usersData.users=this.orgMembers.filter(function(e){return e.confirmed}.bind(this)).map(function(e){return e.member.getUser()}.bind(this)),this.refreshGUI()}.bind(this))},wrapUpTime:function(e){return r(e).fromNow()},onAdminStatusChanged:function(e){var t=!!e.admin,n=!!e.member.isAdmin();t!==n&&this._imOrganizationService.updateOrganizationMemberRole(e.member,t).then(function(){this.refreshOrganizationUsers()}.bind(this))["catch"](function(e){this.refreshOrganizationUsers()}.bind(this))},onInviteGroupAdmin:function(){return this.onInviteGroupMember(!0)},onInviteGroupUser:function(){return this.onInviteGroupMember()},onInviteGroupMember:function(e){var t="Send Organization "+(e?"Admin":"User")+" Invitation";this._promptService.showModal(t,"User Email").then(function(t){return this._imOrganizationService.createOrganizationMember(this.organization,t,e)}.bind(this)).then(function(){this.refreshOrganizationUsers()}.bind(this))["catch"](function(e){}.bind(this))},onDeleteOrganization:function(){this._imOrganizationService.deleteOrganization(this.organization).then(function(){this.$location.path("userOrganizations")}.bind(this))["catch"](function(e){}.bind(this))},onDeleteOrganizationMember:function(e){this._imOrganizationService.deleteOrganizationMember(e).then(function(){this.refreshOrganizationUsers()}.bind(this))["catch"](function(e){}.bind(this))},resetCustomPricingUrl:function(){this._newPricingUrl=this.config?this.config.customPricingUrl:"",this.config.customPricingUrl=this._newPricingUrl},saveCustomPricingUrl:function(){this.config.parseObject.setCustomPricingUrl(this._newPricingUrl),this._saving=!0,this.config.parseObject.saveAsync().then(function(e){this.config.parseObject=e,this.config.customPricingUrl=e.get("customPricingUrl"),this._saving=!1,c.angular.triggerUpdate()}.bind(this))},isOrganizationAdmin:function(){return!!this.organization.getGroupAdminRole()},onChangeLogoClick:function(){c.graphics.selectFileDialog({},this._onLogoSelected,this,!1)},onChangeNameClick:function(){var e=void 0,t=this.organization,n="Change Organization Name";this._promptService.showModal(n,"New Name").then(function(t){if(t)return e=t,s.organizationTable.listOrganizations({equals:{name:t}})}.bind(this)).then(function(n){return n&&n.length?Promise.reject(new Error('Organization with name "'+e+'" already exists.')):(t.setName(e),this._imOrganizationService.saveOrganizationAsync(t))}.bind(this)).then(function(){this.refreshGUI()}.bind(this))["catch"](function(e){e&&this.dialogs.error("Cannot change name",e.message)}.bind(this))},onEditTemplateClick:function(){p.open(this.$modal,this._floorPlanTemplate,null,!0)},uploadVideoBumper:function(){m.open(this.$modal,this.organization)},onEnableAPIClick:function(){this._imOrganizationService.enableAPI(this.organization).then(function(){this.initApiConfig()}.bind(this))},generateApiToken:function(e){this.dialogs.confirm("Generate new Master Token","If you generate new Master Token, the current one will be deleted and become non-valid. Proceed with generation?").result.then(function(){return this.apiConfig.apiTokens[e].token=void 0,this._imOrganizationService.generateApiToken(this.organization,e)}.bind(this)).then(function(){return this.organization.getApiConfig().fetchAsync()}.bind(this)).then(function(){this.initApiConfig(),this.refreshGUI()}.bind(this))},updateApiToken:function(e){var t=this.apiConfig,n=t.apiTokens,r=this.apiConfig.parseObject,i=r.getApiTokens();i[e].active=n[e].active,this._imOrganizationService.saveOrganizationApiConfigAsync(r)},_onLogoSelected:function(e){var t=new i.File(e.name,e);this.organization.setLogo(t),this._imProgressBarService.progressBarWrapUp("Uploading new logo...","Please wait.",this._imOrganizationService.saveOrganizationAsync(this.organization).then(function(){return this.logoUrl=t.url(),a.callApiAsync("POST",w.UPDATE_FLOOR_PLAN_LOGOS_URL+this.organization.id)}.bind(this)))},editNote:function(){if(this.selectedNote){var e=this.selectedNote.id,t=this.selectedNote.get("name"),n=1==this.selectedNote.get("type");h.editNote(this,this.$modal,this.$scope,n,e,t)}},createNote:function(){var e=null,t=null;this.selectedNote&&(e=this.selectedNote.id,t=this.selectedNote.get("name")),h.showNewNoteModal(this,this.$modal,this.$scope,!1,e,t)},createGroup:function(){var e=null,t=null;this.selectedNote&&(e=this.selectedNote.id,t=this.selectedNote.get("name")),h.showNewNoteModal(this,this.$modal,this.$scope,!0,e,t)},deleteNote:function(){var e=this;this.dialogs.confirm("Delete "+this.selectedNote.get("name"),"Are you sure you want to delete <b>"+this.selectedNote.get("name")+"</b>?"+(1==this.selectedNote.get("type")?" This action will remove all child groups and notes.":"")).result.then(function(){var t=e.$modal.open({templateUrl:"organization-delete-note",controller:"ProjectNotesController as projectNotes",scope:e.$scope,size:"500px"});return s.ProjectNotes.deleteNote(e.selectedNote.id,e.selectedNote.get("organization").id).then(function(){return e.deselectNote(),e.loadProjectNotes().then(t.close)})})},requiresRole:function(e){return this._imUserService.userHasRole(e)},onPostpaidChanged:function(){var e=this.config.parseObject,t=this.config.postpaid;t!==e.isPostpaid()&&(e.setPostpaid(t),this._imOrganizationService.saveOrganizationConfigAsync(e))},onAnalyticsChanged:function(){var e=this.config.parseObject,t=this.config.analytics;t!==e.isAnalytics()&&(e.setAnalytics(t),this._imOrganizationService.saveOrganizationConfigAsync(e))},onEarlyLinkSend:function(){var e=this.config.parseObject,t=this.config.earlyLinkSend;e.setEarlyLinkSend(t),this._imOrganizationService.saveOrganizationConfigAsync(e)},onDeletableChanged:function(){return this._imOrganizationService.saveOrganizationAsync(this.organization)},onGeneratePropertyReportChanged:function(){var e=this.config.parseObject,t=this.config.generatePropertyReport;return e.setPropertyReportRequired(t),this._imOrganizationService.saveOrganizationConfigAsync(e)},onEnterpriseSearchChanged:function(){var e=new Date;this.enterprise.searchDate.to=e;var t=this.enterprise.searchType;switch(t){case"day":this.enterprise.searchDate.from=e;break;case"week":this.enterprise.searchDate.from=new Date(e-b);break;case"month":this.enterprise.searchDate.from=new Date(e-y)}this.updateEnterpriseDates()},onPricingModelChanged:function(){var e=this.config.parseObject,t=this.config.pricingModel||void 0;t!==e.getPricingModel()&&(t?e.setPricingModel(t):e.unsetPricingModel(),this._imOrganizationService.saveOrganizationConfigAsync(e))},onVIPChanged:function(){var e=this.config.parseObject,t=this.config.vip;t!==e.isVIP()&&(e.setVIP(t),this._imOrganizationService.saveOrganizationConfigAsync(e))},onTestChanged:function(){var e=this.organization,t=this.config.parseObject,n=this.config.test;n!==t.isTest()&&this._imOrganizationService.toggleTest(e,t)["catch"](function(e){this.config.test=t.isTest()}.bind(this))},getNoteProjectTypes:function(e){var t="All project types",n=e.get("projectTypes"),r=this.getPricingPackages(),i=[];if(!n)return t;for(var o in n)n[o]&&i.push(o);return i=i.sort(),i.join("")==r.join("")?t:i.join(", ")},loadProjectNotes:function(){var e=this;return s.ProjectNotes.getForOrganizationAsJSON(this.organization.id).then(function(t){return t?e.projectNotes=[t]:e.projectNotes=[],c.angular.triggerUpdate(),t})},onTreeNodeClick:function(e){var t=$(e.target);t.hasClass("selected")?(t.removeClass("selected"),this.selectedNote=null):($("button.selected").removeClass("selected"),t.addClass("selected"),this.selectedNote=this.projectNotes[0].allNotes[t.attr("data-id")])},deselectNote:function(){this.selectedNote=null,$("button.selected").removeClass("selected")},refreshAnalyticsData:function(){var e=this.analyticsData.searchParams;this._imOrganizationService.listOrganizatonAnalytics(e).then(function(e){this.analyticsData.objects=e,this.filterAnalyticsData()}.bind(this))["catch"](function(e){}.bind(this))},filterAnalyticsData:function(){var e=this.analyticsData.filterParams,t=e.project,n=e.user,r={events:{count:0}},i=this.analyticsData.objects.map(function(i){var o=i.getData(),a=[],s=[],c={date:i.getDate(),events:{count:0}};for(var l in o)u.checkProjectUserKey({key:l,projectId:t,userId:n})&&a.push(o[l]);for(;a.length;)s=[],a.forEach(function(t){var n=e[t.analytics_dimension];if(t.analytics_metrics)for(var i in t){var o=t[i];if("object"==typeof o){c[i]=c[i]||{},r[i]=r[i]||{};for(var a in o)c[i][a]=c[i][a]||0,c[i][a]+=o[a]||0,r[i][a]=r[i][a]||0,r[i][a]+=o[a]||0}}else if(n){var l=t[n];l&&s.push(l)}else for(var u in t){var l=t[u];"object"==typeof l&&s.push(l)}}.bind(this)),a=s;return c}.bind(this)).sort(function(e,t){return e.date>t.date});this.analyticsData.filteredData=i,this.analyticsData.filteredAggregatedData=r,this.refreshGUI(),this.analyticsData.lineChart=this.analyticsData.lineChart?this.analyticsData.lineChart:new o.Line(document.getElementById("organizationAnalyticsLineChart"),this.getLineChartParams()),this.updateAnalyticsLineChart(this.analyticsData.lineChart,this.analyticsData.filteredData,"Events")},getPricingPackages:function(){var e=Object.keys(f.PACKAGES);return e.push("UNKNOWN"),e.sort(),e},getLineChartParams:function(){return{data:{labels:[],datasets:[{label:"",data:[],backgroundColor:[]}]},options:{scales:{xAxes:[{scaleLabel:{display:!0,labelString:""}}],yAxes:[{scaleLabel:{display:!0,labelString:""}}]}}}},updateAnalyticsLineChart:function(e,t,n){e.data.datasets[0].data=[],e.data.datasets[0].backgroundColor="#4488BB",e.data.labels=[],e.data.datasets[0].label=n,e.options.scales.xAxes[0].scaleLabel.labelString=n,e.options.scales.yAxes[0].scaleLabel.labelString="Events",t.forEach(function(t){e.data.datasets[0].data.push(t.events.count),e.data.labels.push(r(t.date).format("MMM D"))}.bind(this)),e.update()},_fetchOrganizationTemplateAsync:function(){return s.FloorPlanTemplate.findForOrganizationAsync(this.organization).then(function(e){e.length>0?this._floorPlanTemplate=e[0]:(this._floorPlanTemplate=new s.FloorPlanTemplate,this._floorPlanTemplate.setOrganization(this.organization))}.bind(this))},_duplicateArray:function(e){return e&&e.length?e.map(function(e){var t=Object.assign({},e);return t}.bind(this)):[]},copyToClipboard:function(e,t){g(e||""),alert("Token "+(t+1)+" copied to clipboard")},roomItemEventsInit:function(){if(!this._roomItemEvents){for(var e=document.getElementsByClassName("room-order-item"),t=0;t<e.length;t++)e[t].ondragover=this.roomOrderListDrag.bind(this),e[t].ondrop=this.roomOrderListDrop.bind(this),e[t].ondragstart=this.roomOrderListDragStart.bind(this);this._roomItemEvents=!0}},roomOrderListDragStart:function(e){this._roomOrderItemDragged=e.target.id},roomOrderListDrag:function(e){e.preventDefault();var t=this._roomOrderItemDragged,n=e.target.id,r=this._roomOrder.indexOf(t),i=this._roomOrder.indexOf(n);r!=-1&&i!=-1&&r!=i&&(this._roomOrder.splice(i+1,0,t),r>i&&r++,this._roomOrder.splice(r,1),this.$scope.$evalAsync())},roomOrderListDrop:function(e){var t=this.config.parseObject;t.setRoomOrder(this._roomOrder),this._imOrganizationService.saveOrganizationConfigAsync(t)}});t.exports=w},{"../../lib/browser":475,"../../lib/config":479,"../../lib/organization-config/organization-analytics-config":487,"../../lib/project-config/pricing-packages-config":489,"../../lib/project-config/project-states-config":490,"../../lib/shared-modules/controllers/im-base-controller":491,"../../lib/storage/dao":514,"../../lib/util":524,"../controllers/floor-plan-template-editor/template-modal-opener":543,"../controllers/video-capture-template-editor/video-template-modal-opener":570,"./project-notes-controller":560,awesomplete:80,"chart.js":147,"copy-to-clipboard":206,moment:322,parse:343}],554:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("controllers/pricing-models-controller",function(e,t,n){"use strict";var r=e("../../lib/storage/dao"),i=e("../../lib/util").core,o=(e("../../lib/util"),e("moment"),e("chart.js")),a=e("../../lib/shared-modules/controllers/im-base-controller"),s=e("../../lib/project-config/pricing-packages-config"),c=e("../../lib/project-config/pricing-models-config");e("angular");var l="insidemaps.pricing-models-controller",u=angular.module(l,[]);n.exports=l,u.controller("PricingModelsController",i.makeClass(a,{$inject:["$scope","$modal","$location","imUserService","imProjectService","imPaymentService","dialogs","imPromptModalService","imPricingModelService"]},{constructor:function(e,t,n,r,i,o,l,u,h){a.call(this,e),this.$modal=t,this.$location=n,this._imUserService=r,this._imProjectService=i,this._imPaymentService=o,this._imPromptModalService=u,this._imPricingModelService=h,this._dialogs=l,this.pricingPackages=s.PACKAGES,this.pricingPackagesExpandedMap={},this.pricingModelTypes=c.PRICING_MODEL_DATA,this.defaultPricingModel=void 0,this.pricingModels=[],this.selectedPricingModel=void 0,this.selectedPricingModelDataCopy=void 0,this.pricingModelSearchParams={matches:{name:void 0},ascending:["name"],notEqualTo:{objectId:c.DEFAULT_PRICING_MODEL_ID}},this.fetchDefaultPricingModel().then(function(){this.refreshPricingModels()}.bind(this))},fetchDefaultPricingModel:function(){return r.pricingModelTable.findAsync(c.DEFAULT_PRICING_MODEL_ID).then(function(e){this.defaultPricingModel=e}.bind(this))},refreshPricingModels:function(){this.resetData(),this._imPricingModelService.listPricingModels(this.pricingModelSearchParams).then(function(e){this.pricingModels=e,this.refreshGUI()}.bind(this))},selectPricingModel:function(e){this.pricingPackagesExpandedMap={},this.selectedPricingModel=e,this.selectedPricingModelDataCopy=this.getCopy(this.selectedPricingModel.getData());for(var t in this.selectedPricingModelDataCopy){var n=this.selectedPricingModelDataCopy[t];n.newFixedService={name:"",price:0},n.fixedServices=n.fixedServices||[],this.pricingPackagesExpandedMap[t]=this.isPricingPackageDefined(t)}this.refreshLineCharts()},addFixedService:function(e){var t=this.selectedPricingModelDataCopy[e];t.newFixedService&&t.newFixedService.name&&t.newFixedService.price?(t.fixedServices.unshift(t.newFixedService),t.newFixedService={name:"",price:0},this.refreshGUI()):this._dialogs.error("Fixed Services","Some of Fixed Service parameters are empty.")},removeFixedService:function(e,t){var n=this.selectedPricingModelDataCopy[e],r=n.fixedServices.indexOf(t);r>-1?(n.fixedServices.splice(r,1),this.refreshGUI()):this._dialogs.error("Fixed Services","No such Fixed Service among given services.")},isPricingModelSelected:function(e){return e===this.selectedPricingModel},isDefaultPricingModelSelected:function(){return this.defaultPricingModel===this.selectedPricingModel},isPricingPackageDefined:function(e){return!!(this.selectedPricingModelDataCopy&&this.pricingPackages&&this.selectedPricingModelDataCopy[e]&&this.pricingPackages[e])},areSelectedPricingModelFeaturesEnabled:function(){return this.selectedPricingModel&&!this.isDefaultPricingModelSelected()},saveSelectedPricingModel:function(){var e=this.selectedPricingModel.getData()||{};e=this.getCopy(this.selectedPricingModelDataCopy),this.selectedPricingModel.setData(e),this._imPricingModelService.savePricingModelAsync(this.selectedPricingModel)},showRenameSelectedPricingModelDialog:function(){this._imPromptModalService.showModal("Rename Pricing Model","Current Name: "+(this.selectedPricingModel.getName()||"/")).then(function(e){var t=this.selectedPricingModel.getName();return e&&e!==t?(this.selectedPricingModel.setName(e),this._imPricingModelService.savePricingModelAsync(this.selectedPricingModel)):new Promise.reject(new Error("Name typed is either same as old one or non-existing."))}.bind(this))["catch"](function(e){e&&e.message&&this._dialogs.error("Error",e.message)}.bind(this))},showCreateNewPricingModelDialog:function(){this._imPromptModalService.showModal("Name New Pricing Model","Enter new Pricing Model name: ").then(function(e){return e?this._imPricingModelService.createPricingModelAsync(e):new Promise.reject(new Error("Name typed is non-existing."))}.bind(this)).then(function(e){this.pricingModels.unshift(e),this.selectPricingModel(e)}.bind(this))["catch"](function(e){e&&e.message&&this._dialogs.error("Error",e.message)}.bind(this))},deleteSelectedPricingModel:function(){this._imPricingModelService.deletePricingModel(this.selectedPricingModel).then(function(){this.refreshPricingModels()}.bind(this))},resetSelectedPricingModel:function(e){if(this.selectedPricingModel){var t=this.selectedPricingModel.getData()||{};this.selectedPricingModelDataCopy[e]=this.getCopy(t[e]),this.refreshLineCharts()}},resetData:function(){this.pricingModels=[],this.selectedPricingModel=void 0,this.selectedPricingModelDataCopy=void 0},refreshLineCharts:function(){this.initCharts();for(var e in this.pricingPackages){var t=this.selectedPricingModelDataCopy[e],n=[];try{for(var r=0;r<16e3;r+=1e3){var i={livableArea:r},o=c.calculatePrice(i,t);n.push({x:r+"",y:o})}this.pricingPackages[e].errorMessage=void 0}catch(a){this.pricingPackages[e].errorMessage=a?a.message:""}this.updateLineChart(this.pricingPackages[e].chart,n,e+" PRICE CHART")}},initCharts:function(){for(var e in this.pricingPackages){var t=this.pricingPackages[e];t.chart=t.chart?t.chart:new o.Line(e,this.getLineChartParams())}},getLineChartParams:function(){return{data:{labels:[],datasets:[{label:"",data:[],backgroundColor:[]}]},options:{elements:{line:{tension:0}},scales:{xAxes:[{scaleLabel:{display:!0,labelString:""}}],yAxes:[{scaleLabel:{display:!0,labelString:""},ticks:{beginAtZero:!0}}]}}}},updateLineChart:function(e,t,n){e.data.datasets[0].data=[],e.data.datasets[0].backgroundColor="#4488BB",e.data.labels=[],e.data.datasets[0].label=n,e.options.scales.xAxes[0].scaleLabel.labelString="Area (sqft)",e.options.scales.yAxes[0].scaleLabel.labelString="Price ($)",t.forEach(function(t){e.data.datasets[0].data.push(t.y),e.data.labels.push(t.x)}.bind(this)),e.update()},getCopy:function(e){return angular.copy(e||{})},requiresRole:function(e){return this._imUserService.userHasRole(e)}}))})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/project-config/pricing-models-config":488,"../../lib/project-config/pricing-packages-config":489,"../../lib/shared-modules/controllers/im-base-controller":491,"../../lib/storage/dao":514,"../../lib/util":524,angular:57,"chart.js":147,moment:322}],555:[function(e,t,n){var r=e("../../../lib/util"),i=e("../../../lib/browser"),o=r.core.makeClass({},{$inject:["$scope","$modalInstance","project","logoParams","isParseAgentUsed"],DEFAULT_FLOOR_PLAN_LOGO_PATH:"/img/im-default-logo-fp.png",DEFAULT_LOGO_PATH:"/img/im-header-logo-white-red.png"},{constructor:function(e,t,n,r,i){this.$scope=e,this.$modalInstance=t,this._project=n,this.isParseAgentUsed=i;var o=n.getParseObject();this.agentInfo=o.getAgentInfo()||{},this._isProjectUnbranded=o.isUnbranded(),this.companyLogo=null,this._selectedLogoUrl=null,this._initializeSelectedLogoUrl(),this._saveInProgress=!1,this._isLogoChanged=!1,r&&this._loadLogoParams(r)},selectedLogoUrl:{get:function(){return this._selectedLogoUrl}},isProjectUnbranded:{get:function(){return this._isProjectUnbranded}},changeLogo:function(){i.graphics.selectFileDialog({},this._onLogoSelected,this,!1,"image/*")},closeModal:function(){var e=this._isLogoChanged?this._createLogoParams():null;this._project.getParseObject().setAgentInfo(this.agentInfo),this.$modalInstance.close(e)},toggleProjectUnbranded:function(){if(this._isProjectUnbranded=!this._isProjectUnbranded,this._isProjectUnbranded)this._selectedLogoUrl=null;else{var e=this._project.getParseObject().getLogo();this._selectedLogoUrl=e?e.url():null}this._isLogoChanged=!0,i.angular.triggerUpdate()},setDefaultLogo:function(){this.companyLogo=null,this._selectedLogoUrl=o.DEFAULT_FLOOR_PLAN_LOGO_PATH,this._isProjectUnbranded=!1,this._isLogoChanged=!0},_createLogoParams:function(){return{file:this._isProjectUnbranded?null:this.companyLogo,isProjectUnbranded:this._isProjectUnbranded,defaultLogoSet:this._selectedLogoUrl===o.DEFAULT_FLOOR_PLAN_LOGO_PATH,selectedLogoUrl:this._selectedLogoUrl,env:r.params.getEnvironmentName()}},_onLogoSelected:function(e){this.companyLogo=e,this._isProjectUnbranded=!1;var t=new FileReader;t.onload=function(e){this._selectedLogoUrl=e.target.result,i.angular.triggerUpdate()}.bind(this),t.readAsDataURL(e),this._isLogoChanged=!0},_initializeSelectedLogoUrl:function(){if(!this._project.getParseObject().isUnbranded()){var e=this._project.logoUrl;e===o.DEFAULT_LOGO_PATH&&(e=o.DEFAULT_FLOOR_PLAN_LOGO_PATH),this._selectedLogoUrl=e}},_loadLogoParams:function(e){this._isProjectUnbranded=e.isProjectUnbranded,this._selectedLogoUrl=e.selectedLogoUrl}});t.exports=o},{"../../../lib/browser":475,"../../../lib/util":524}],556:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("controllers/listing-controller",function(e,t,n){"use strict";var r=e("../../../lib/storage/urls"),i=e("../../../lib/storage/dao"),o=e("../../../lib/util"),a=e("../../../lib/browser"),s=e("../../../lib/storage/project"),c=e("../../../lib/shared-modules/controllers/im-base-controller"),l=e("./map-controller"),u=e("../../../lib/svg-floor-plan/floor-plans-download-controller"),h=e("../floor-plan-template-editor/template-modal-opener"),d=e("parse").Parse,f=e("path"),p=e("jquery");e("angular");var m=o.core.makeClass(c,{$inject:["$scope","$timeout","$routeParams","$http","$sce","$modal","$document","$location","imUserService","imMultipleInputService"],UPDATE_AGENT_INFO_URL:"api/v1/project/updateAgentInfo/",PROJECT_INFO_CHANGED_URL:"api/v1/project/notifyProjectInfoChanged",GET_FLOOR_PLANS_DATA_URL:"api/v1/project/getFloorPlansData/",DEFAULT_SPLASH_IMAGE_URL:"../../../../images/project-listing-page/explore-section-button-default-image.png",DEFAULT_MODE:"default",EDIT_LISTING_MODE:"edit-listing-mode",PREVIEW_MODE:"preview-mode",LIGHT_OVERLAY_CLASS:"overlay-light",DARK_OVERLAY_CLASS:"overlay-dark"},{constructor:function(e,t,n,i,h,d,f,g,v,b){c.call(this),this.$scope=e,this.$sce=h,this.$http=i,this.$modal=d,this.$location=g,e.util=o,this.project=e.project,this._nonEditedProject=null,this._agent=null,this._agentInfo=null,this.projectFloors=[],this.pictures=[],this.assetPhotos=[],this.assetSpecificationPhotos=[],this.enabledPhotos=[],this.isMobile=o.core.isMobileDevice(),e.storageProject&&e.storageProject.parseId===this.project.id||(e.storageProject=new s(this.project)),this.mapEnabled=!this.project.getDisableGoogleMaps(),this.shareURL=this.$location.absUrl();var y="pano-lite-webgl/"+this.project.id;this.$scope.shareURL=y,this.$scope.panoGrabberUrl=this.$scope.shareURL,this.$scope.photoCaptureUrl="app/photo-capture-tool/?projectId="+this.project.id,this.$scope.startingWaypointGrabberUrl="project/"+this.project.id+"/virtual-tour/json?pano&cubeReprojection&enablePanoHelpers&panoManager&env="+o.params.getEnvironmentName(),this._imUserService=v,this.projectIsPaid=!!this.project.getPayment(),this.projectPublic=!!this.project.getACL()&&this.project.getACL().getPublicReadAccess(),this.mainDescription="";var w=this.project.getWalkthroughVideos();this.generateUrlsForVideo(w).then(function(e){this.walkthroughVideos=e,this.largeVideos=this.walkthroughVideos.filter(function(e){return e.indexOf("large")>0}),this._updateSectionsVisibility()}.bind(this)),this.desiredProduct=this.project.getDesiredProduct()||{},this.projectOrganization=null,this.projectFloors=[],this.bannerImage=null,this._$header=p("#header"),this.isIOS=o.core.isIOS(),this.mapController=new l(e,b),this.mapController.userCanEditLocation=this.canUserEditProject()&&!this.isMobile,this._floorPlansController=new u(this.project,d),this._walkthroughSplashImageUrl="",this._modelSplashImageUrl="",this._activeMode=m.DEFAULT_MODE,this._newLogoParams=null,this._saveInProgress=!1,this.sectionsVisibility={propertyReport:!0},this._floorPlanObjects=[],this._floorPlanTemplate=null,this.isProjectPostpaid=!0,this._init(),this._getProjectConfig(),this.downloadMetricPDFUrl="#",this.downloadImperialPDFUrl="#",this.propertyReportsGenerated=void 0,this.canHavePropertyReports=!1;
var _="demo"==o.params.getEnvironmentName()?"im-demo":"im-production";r.getSignedS3Urls([_+":"+this.project.getPhotoPath()+"Property Report - Imperial.pdf",_+":"+this.project.getPhotoPath()+"Property Report - Metric.pdf"]).then(function(e){for(var t in e)t.indexOf("Metric")>-1?this.downloadMetricPDFUrl=e[t]:t.indexOf("Imperial")>-1&&(this.downloadImperialPDFUrl=e[t]);a.angular.triggerUpdate()}.bind(this)),this.propertyReportsGeneratedCheck(),this.checkCanHavePropertyReports()},checkCanHavePropertyReports:function(){o.core.callApiAsync("GET","api/v1/project/canHavePropertyReport/"+this.project.id).then(function(e){this.canHavePropertyReports=!!e,this._updateSectionsVisibility()}.bind(this))},propertyReportsGeneratedCheck:function(){if(this.project){var e=d.Object.extend(("demo"==o.params.getEnvironmentName()?"demo_":"")+"Project"),t=new d.Query(e);return t.select(["propertyReportGenerationStatus"]),t.get(this.project.id).then(function(e){var t=e.get("propertyReportGenerationStatus");t&&"DONE"==t.status?this.propertyReportsGenerated=!0:t?this.propertyReportsGenerated=!1:this.propertyReportsGenerated=!0,a.angular.triggerUpdate(),this.isUserOwner()&&setTimeout(this.propertyReportsGeneratedCheck.bind(this),7e3)}.bind(this))}return d.Promise.resolve(!1)},floorPlansController:{get:function(){return this._floorPlansController}},isParseAgentUsed:{get:function(){return!!this._agent}},hybrid3dTourSectionOverlayClass:{get:function(){return this._getSectionOverlayClass([this.sectionsVisibility.explore])}},hdrPhotosSectionOverlayClass:{get:function(){return this._getSectionOverlayClass([this.sectionsVisibility.explore,this.sectionsVisibility.hybrid3dTour])}},assetPhotosSectionOverlayClass:{get:function(){return this._getSectionOverlayClass([this.sectionsVisibility.explore,this.sectionsVisibility.hybrid3dTour,this.sectionsVisibility.hdrPhotos])}},videoTourSectionOverlayClass:{get:function(){return this._getSectionOverlayClass([this.sectionsVisibility.explore,this.sectionsVisibility.hybrid3dTour,this.sectionsVisibility.hdrPhotos,this.sectionsVisibility.assetPhotos])}},floorPlansSectionOverlayClass:{get:function(){return this._getSectionOverlayClass([this.sectionsVisibility.explore,this.sectionsVisibility.hybrid3dTour,this.sectionsVisibility.hdrPhotos,this.sectionsVisibility.assetPhotos,this.sectionsVisibility.videos])}},mapSectionOverlayClass:{get:function(){return this._getSectionOverlayClass([this.sectionsVisibility.explore,this.sectionsVisibility.hybrid3dTour,this.sectionsVisibility.hdrPhotos,this.sectionsVisibility.assetPhotos,this.sectionsVisibility.videos,this.sectionsVisibility.floorPlans])}},assetSpecificationSectionOverlayClass:{get:function(){return this._getSectionOverlayClass([this.sectionsVisibility.explore,this.sectionsVisibility.hybrid3dTour,this.sectionsVisibility.hdrPhotos,this.sectionsVisibility.assetPhotos,this.sectionsVisibility.videos,this.sectionsVisibility.floorPlans,this.sectionsVisibility.map])}},propertyReportSectionOverlayClass:{get:function(){return this._getSectionOverlayClass([this.sectionsVisibility.explore,this.sectionsVisibility.hdrPhotos,this.sectionsVisibility.assetPhotos,this.sectionsVisibility.videos,this.sectionsVisibility.floorPlans,this.sectionsVisibility.map,this.sectionsVisibility.assetSpecificationPhotos])}},env:{get:function(){o.params.getEnvironmentName()}},saveInProgress:{get:function(){return this._saveInProgress}},agentInfo:{get:function(){return this._agentInfo||this.project.getAgentInfo()}},settings:{get:function(){var e=this.project.getListingSettings();return e&&e.hasOwnProperty("isVideoTourDisabled")||(e=e||{},e.isVideoTourDisabled=!0),e}},isUnbranded:{get:function(){return!this.agentLogoUrl||this.project.isUnbranded()||window.location.href.indexOf("unbranded")>-1}},imperialSystemUsed:{get:function(){return this._imperialSystemUsed}},agentEmailHref:{get:function(){var e=this.agentInfo,t="mailto:"+e.email+"?Subject="+this.project.getName()+", "+this.project.getAddress();return t=t.replace(" ","%20")}},embededModelUrl:{get:function(){return this.trustSrc(this.$scope.imUrl.getUrl("3dmodelEmbedded","?projectId="+this.project.id+"&env="+o.params.getEnvironmentName()+(this.isUnbranded?"&unbranded":"")))}},embededWalkthroughUrl:{get:function(){return this.trustSrc(this.$scope.imUrl.getUrl("walkthroughEmbedded","?projectId="+this.project.id+"&env="+o.params.getEnvironmentName()+(this.isUnbranded?"&unbranded":"")))}},embededHybridWalkthroughUrl:{get:function(){return this.trustSrc(this.$scope.imUrl.getUrl("walkthroughEmbedded","?projectId="+this.project.id+"&env="+o.params.getEnvironmentName()+(this.isUnbranded?"&unbranded":"")+"&hybrid=true"))}},modelUrl:{get:function(){return this.trustSrc(this.$scope.imUrl.getUrl("3dmodel","?projectId="+this.project.id+"&env="+o.params.getEnvironmentName()+(this.isUnbranded?"&unbranded":"")))}},walkthroughUrl:{get:function(){return this.trustSrc(this.$scope.imUrl.getUrl("walkthrough","?projectId="+this.project.id+"&env="+o.params.getEnvironmentName()+(this.isUnbranded?"&unbranded":"")))}},hybridWalkthroughUrl:{get:function(){return this.trustSrc(this.$scope.imUrl.getUrl("walkthrough","?projectId="+this.project.id+"&env="+o.params.getEnvironmentName()+(this.isUnbranded?"&unbranded":"")+"&hybrid=true"))}},modelSplashImageUrl:{get:function(){return this._modelSplashImageUrl}},walkthroughSplashImageUrl:{get:function(){return this._walkthroughSplashImageUrl}},storageProject:{get:function(){return this.$scope.storageProject}},agentLogoUrl:{get:function(){var e=null;return e=this._agentInfo?this._agentInfo.imageUrl:this.projectLogo}},projectLogo:{get:function(){var e=null,t=this._newLogoParams?this._newLogoParams.selectedLogoUrl:this.$scope.storageProject.logoUrl;if(t){var n=t.indexOf("/img/")!==-1||t.indexOf("/images/")!==-1;n||this.project.isUnbranded()||(e=t)}return e}},loggedInUser:{get:function(){return this._imUserService&&this._imUserService.user()}},isIphoneProject:{get:function(){return this.project&&this.project.getPanoProject()}},canShow3dModel:{get:function(){return this.desiredProduct.customModel&&(!this.settings.is3dModelDisabled||this.canUserEditProject())&&this.isProjectFinished()&&this.project.getPro()}},canShow3dTour:{get:function(){return this.desiredProduct.panoTour&&(!this.settings.is3dTourDisabled||this.canUserEditProject())}},canShowHybrid3dTour:{get:function(){return!!this.project&&(this.project.getHybridPanoTourExistsFlag()&&(!this.settings.isHybrid3dTourDisabled||this.canUserEditProject()))}},canShowPropertyReportSection:{get:function(){return!!this.project.get("organization")&&(!this.isPreviewModeActive&&this.canUserEditProject()&&this.sectionsVisibility.propertyReport&&this.project.get("desiredProduct").floorplan&&this.canHavePropertyReports===!0)}},isDefaultModeActive:{get:function(){return this._activeMode===m.DEFAULT_MODE}},isEditModeActive:{get:function(){return this._activeMode===m.EDIT_LISTING_MODE}},isPreviewModeActive:{get:function(){return this._activeMode===m.PREVIEW_MODE}},setMode:function(e){e===m.EDIT_LISTING_MODE&&this._onStartEditMode(),this._activeMode=e,this.mapController.setMarkerDragable(this._activeMode===m.EDIT_LISTING_MODE),this._initHeader(),this._initFooter(),this._updateSectionsVisibility(),a.angular.triggerUpdate()},onMetricFloorPlansClick:function(){this.floorPlansController.isMetricSystemUsed||(this.floorPlansController.isMetricSystemUsed=!0,!this.project.isUsingMetricSystem()&&this.canUserEditProject()&&(this.project.setUsingMetricSystem(!0),this.project.saveAsync()),a.angular.triggerUpdate())},onImperialFloorPlansClick:function(){this.floorPlansController.isMetricSystemUsed&&(this.floorPlansController.isMetricSystemUsed=!1,this.project.isUsingMetricSystem()&&this.canUserEditProject()&&(this.project.setUsingMetricSystem(!1),this.project.saveAsync()),a.angular.triggerUpdate())},setMapDisabled:function(){this.project.setDisableGoogleMaps(!this.mapEnabled),this.project.save()},generateUrlsForVideo:function(e){var t=this;if(e){var n=e.map(function(e){return"string"==typeof e?r.getUrlForPath(f.join(t.$scope.storageProject.getVideoFilePath(),e),{}):(console.debug("generateUrlsForVideo -> url is not string but "+typeof e),Promise.resolve(e))});if(n)return Promise.all(n)}return Promise.resolve([])},getFirstEnabledPhoto:function(){for(var e=0;e<this.pictures.length;e++)if(this.pictures[e].enabled)return this.pictures[e]},trustSrc:function(e){return this.$sce.trustAsResourceUrl(e)},trustVideoSrc:function(e){return this.$sce.trustAsResourceUrl(e)},isUserOwner:function(){return this._imUserService.hasWriteAccess(this.project)},isProjectFinished:function(){return"finished"===this.project.getStatus()},_getProjectConfig:function(){o.core.callApiAsync("GET","api/v1/project/projectConfig/"+this.project.id).then(function(e){this.isProjectPostpaid=e.postpaid||!1,this.refreshGUI()}.bind(this))},canUserEditProject:function(){return this._imUserService.hasWriteAccess(this.project)&&!this.isPreviewModeActive},getPhotos:function(e){var t="/ws/virtualTourInfo.php",n={params:{floorItemName:e}};this.$http.get(t,n).success(function(e){return e.photos?void this.populatePictures(e.photos):void console.debug("No photos found for this floor")}.bind(this)).error(function(){console.error("Something went wrong")})},scrollTo:function(e){var t=this.isMobile||"none"===this._$header.css("display")?0:this._$header.height();p("html, body").animate({scrollTop:p(e).offset().top-t},500)},openIframeModalDialog:function(e){this.$modal.open({templateUrl:"project-iframe-modal-template",size:"lg",controller:["$scope","$modalInstance","url",function(e,t,n){e.iframeUrl=n,e.close=function(){t.close()}}],scope:this.$scope,resolve:{url:function(){return e}}})},showLargeImage:function(e,t){var n=this;this.$modal.open({templateUrl:"largerImageTemplate",controller:["$scope","photoArray",function(e,t){e.photoArray=t}],scope:n.$scope,size:"lg",resolve:{photoArray:function(){var n=t.slice(0,e),r=t.slice(e,t.length),i=r.concat(n);return i}}})},showPayModal:function(){var e=this;this.$modal.open({templateUrl:"pay-modal-template",controller:"PaymentController as payment",scope:e.$scope,size:"md",resolve:{project:function(){return e.project}}})},showPaymentDetailsModal:function(){var e=this;this.$modal.open({templateUrl:"pay-details-modal-template",controller:"PaymentController as payment",scope:e.$scope,size:"md",resolve:{project:function(){return e.project}}})},showFloorplanDownloader:function(){var e=this;this.$modal.open({templateUrl:"download-floorplan-template",controller:"FPDownloadSelectorController as fpDownloader",scope:e.$scope,size:"md",resolve:{project:function(){return e.project}}})},showProjectEditModal:function(){if(this.isEditModeActive){var e=this,t=this.$modal.open({templateUrl:"listing-project-info-edit-template",controller:"ListingProjectInfoEditController as projectEdit",scope:e.$scope,size:"md",resolve:{parseProject:function(){return e.project}}});t.result.then(function(){this.mapController.onAddressChanged()}.bind(this))["catch"](function(){}.bind(this))}},showPhotoEditModal:function(){var e=this,t=this.$modal.open({templateUrl:"slideshow-edit-template",controller:"SlideshowEditController as slideshowEditor",scope:e.$scope,size:"lg",resolve:{items:function(){return e.getHDRPhotosForProject()},parseProject:function(){return e.project}}});t.result.then(function(t){var n=[];if(t){for(var r in t){var i=t[r];for(var o in e.pictures){var s=e.pictures[o];if(i.filename==s.filename){n.push(s);break}}}e.pictures=n,a.angular.triggerUpdate()}})},getHDRPhotosForProject:function(){return this.pictures.map(function(e){return{source:e.url,displayName:e.displayName,filename:e.filename,enabled:e.enabled,preview:e.previewURL,watermark:e.url.indexOf("watermark")>0}})},getUserProjectPageLink:function(){return"/project/"+this.project.id},onAgentInfoClicked:function(){this._agent?this._showAgentInfoModal():this.isEditModeActive&&this.showProjectAgentInfoEditModal()},onVideoClicked:function(e){var t=document.getElementById("project-video-"+e);t.paused?t.play():t.pause()},openShareLinksModal:function(){var e=this;this.$modal.open({templateUrl:"listing-share-links-modal",size:"md",controller:["$scope","$modalInstance",function(t,n){t.listingPageUrl=null,t.walkthroughEnabled=e.canShow3dTour,t.modelEnabled=e.canShow3dModel,t.close=function(){n.close()}}],scope:this.$scope})},toggleSettingsBoolean:function(e){var t=this.settings;t[e]=!t[e],this.project.setListingSettings(t),a.angular.triggerUpdate()},cancelEdit:function(){this.project=this._nonEditedProject,this.storageProject.fromParseProject(this.project),this._nonEditedProject=null,this._agentInfoChanged=!1,this._newLogoParams=null,this.mapController.project=this.project,this.mapController.onAddressChanged(),this.setMode(m.DEFAULT_MODE),a.angular.triggerUpdate()},saveEdit:function(){this._saveInProgress=!0;var e=this.project.getFloorPlanTemplate();e&&e.dirty()&&this.project.increaseFloorPlanVersion();var t=[this.project.saveAsync()];this.project.getFloorPlanTemplate()||!this._floorPlanTemplate||this._floorPlanTemplate.getOrganization()||t.push(this._floorPlanTemplate.destroyAsync()),Promise.all(t).then(this._onSaveProjectFinished.bind(this))},showProjectAgentInfoEditModal:function(){this.$modal.open({templateUrl:"addAgentModal",controller:"ChangeAgentInfoController as newAgent",scope:this.$scope,size:"md",resolve:{project:function(){return this.$scope.storageProject}.bind(this),logoParams:function(){return this._newLogoParams}.bind(this),isParseAgentUsed:function(){return!!this._agent}.bind(this)}}).result.then(function(e){e&&(this._newLogoParams=e,this.project.setUnbranded(e.isProjectUnbranded))}.bind(this))},onEditTemplateClicked:function(){var e=this._floorPlanTemplate;h.open(this.$modal,e,this.project,!1)},getDownload360Link:function(){return window.location.origin+"/api/v1/project/downloadAllEquirectangularFiles?prependRoomNames=true&projectId="+this.project.id},download360Panos:function(){window.open(this.getDownload360Link(),"_self")},_initHeader:function(){this.isUserOwner()&&!this.isPreviewModeActive?this._$header.show():this._$header.hide()},_initFooter:function(){this.isUserOwner()&&!this.isPreviewModeActive?p("footer").show():p("footer").hide()},_fetchProjectLogo:function(){this.$scope.storageProject.fetchLogoUrlsAsync().then(function(){a.angular.triggerUpdate()})},_initBackgroundImage:function(){var e=document.createElement("style");e.innerHTML=this._createClassBackgroundImageCssString(".overlay-dark",33,45,58,.95)+" "+this._createClassBackgroundImageCssString(".overlay-light",255,255,255,.95)+" "+this._createClassBackgroundImageCssString(".overlay-top",0,0,0,.6),document.body.appendChild(e),a.angular.triggerUpdate()},_createClassBackgroundImageCssString:function(e,t,n,r,i){var o="rgba("+t+","+n+","+r+","+i+")",a="linear-gradient("+o+","+o+")",s=a+", url('"+(this.bannerImage?this.bannerImage.url:"../../../../images/landing-page-header.png")+"')";return e+" { background-image: "+s+" !important; }"},_loadAssetPhotos:function(){o.core.callApiAsync("GET","/api/v1/project/getAssetPhotoUrls",{projectId:this.project.id}).then(function(e){for(var t=0;t<e.length;t++){var n={url:e[t].assetPhotoPath,enabled:!0};this.assetPhotos.push(n);var r={url:e[t].specificationPhotoPath,enabled:!0};this.assetSpecificationPhotos.push(r)}a.angular.triggerUpdate(),this._updateSectionsVisibility()}.bind(this))},_loadHdrPhotos:function(){this.pictures=[];var e=r.getQuery(window.location.href,"loadFrom")||"cloudfront";return o.core.callApiAsync("GET","/api/v1/project/getHDRPhotos/"+this.project.id,{signUrls:!0,loadFrom:e}).then(function(e){for(var t in this.project.get("hdrPhotos")){var n=this.project.get("hdrPhotos")[t];for(var r in e){var i=e[r];if(i&&n.filename==i.filename){this.pictures.push({url:i.bigImgUrl,enabled:n.enabled,previewURL:i.url,preview:!0,filename:i.filename,displayName:i.filename});break}}}this._updateSectionsVisibility()}.bind(this))},_initExploreSplashImages:function(){var e=this.$scope.storageProject;this._modelSplashImageUrl=r.getUrlForPath(f.join(e.getSplashPhotoPath(),"ModelSplash.jpg"),{},!0),this._walkthroughSplashImageUrl=r.getUrlForPath(f.join(e.getSplashPhotoPath(),"SplashImage.jpg"),{},!0)},_onStartEditMode:function(){this._nonEditedProject=this.project.deepClone(),this._nonEditedProject.id=this.project.id},_init:function(){this._fetchProjectLogo(),this._fetchAgent(),i.floorTable.listFloorsForProjectAsync(this.project).then(function(e){this.projectFloors=e,a.angular.triggerUpdate()}.bind(this)),this._loadHdrPhotos().then(function(e){this.bannerImage=this.getFirstEnabledPhoto(),!this.bannerImage&&this.isUserOwner()&&this._showSetBackgroundModal(),this._initBackgroundImage()}.bind(this)),this._loadAssetPhotos(),this._initHeader(),this._initFooter(),this._initExploreSplashImages(),this.floorPlansController.isMetricSystemUsed=!!this.project.isUsingMetricSystem(),this._updateSectionsVisibility(),this.sectionsVisibility.floorPlans&&this.desiredProduct.floorplan&&(this._floorPlansController.updateAsync(),this._fetchFloorPlanTemplateAsync())},_updateSectionsVisibility:function(){var e={},t=this.canUserEditProject();e.explore=this.canShow3dModel||this.canShow3dTour,e.hybrid3dTour=this.canShowHybrid3dTour,e.hdrPhotos=t||this.pictures.length>0&&!this.settings.areHdrPhotosDisabled,e.assetPhotos=this.assetPhotos.length>0&&(!this.settings.areAssetPhotosDisabled||t),e.videos=this.walkthroughVideos&&this.walkthroughVideos.length>0&&(!this.settings.isVideoTourDisabled||t),e.floorPlans=(!this.settings.isFloorPlanDisabled||t)&&this.desiredProduct.floorplan,e.map=t||!this.settings.isMapDisabled,e.assetSpecificationPhotos=t&&this.assetSpecificationPhotos.length>0,e.propertyReport=!0,this.sectionsVisibility=e},_showSetBackgroundModal:function(){this.$modal.open({templateUrl:"set-project-background-alert-modal",size:"md",controller:["$scope","$modalInstance",function(e,t){e.close=function(){t.close()}}],scope:this.$scope})},_getSectionOverlayClass:function(e){var t=e.reduce(function(e,t){return t?e+1:e},0);return t%2===0?m.DARK_OVERLAY_CLASS:m.LIGHT_OVERLAY_CLASS},_fetchAgent:function(){i.Agent.findAgentByUserAsync(this.project.getUser()).then(function(e){this._agent=e,this._agentInfo={},this._agentInfo.name=e.getFirstName()+" "+e.getLastName(),this._agentInfo.phone=e.getPhone(),this._agentInfo.email=e.getEmail(),this._agentInfo.licenceNumber=e.getLicenceNumber();var t=e.getImageFile();this._agentInfo.imageUrl=t?t.url():null}.bind(this))["catch"](function(){this._agentInfo=null}.bind(this))},_showAgentInfoModal:function(){this.$modal.open({templateUrl:"agent-info-template",size:"md",scope:this.$scope,controller:["$scope","$modalInstance",function(e,t){e.close=function(){t.close()},e.agentInfo=this._agentInfo,e.backgroundImageUrl=this.bannerImage?this.bannerImage.url:m.DEFAULT_SPLASH_IMAGE_URL,e.organizationLogoUrl=this.projectLogo}.bind(this)]})},_fetchFloorPlanTemplateAsync:function(){return i.FloorPlanTemplate.getForProjectAsync(this.project).then(function(e){this._floorPlanTemplate=e}.bind(this))},_onSaveProjectFinished:function(){this._fetchFloorPlanTemplateAsync().then(function(){var e,t=[],n=this._nonEditedProject.getName(),r=this.project.getName(),a=this.project.id;if(n!==r&&(e=m.PROJECT_INFO_CHANGED_URL,t.push(o.core.callApiAsync("POST",e,{type:i.projectTable.INFO_CHANGE_TYPE.RENAMING,projectId:a,name:n,newName:r}))),this._newLogoParams){var s=new FormData;s.append("defaultLogoSet",this._newLogoParams.defaultLogoSet),s.append("env",this._newLogoParams.env),s.append("isProjectUnbranded",this._newLogoParams.isProjectUnbranded),s.append("selectedLogoUrl",this._newLogoParams.selectedLogoUrl),s.append("file",this._newLogoParams.file),e=m.UPDATE_AGENT_INFO_URL+this.project.id,t.push(o.core.callApiAsync("POST",e,s,{rawRequestData:!0}))}return Promise.all(t)}.bind(this)).then(function(){this.desiredProduct.floorplan&&this.floorPlansController.updateAsync(),this._saveInProgress=!1,this.setMode(m.DEFAULT_MODE)}.bind(this)).then(function(){this._nonEditedProject=null}.bind(this))}});n.exports="insidemaps.listing-controller",angular.module("insidemaps.listing-controller",[]).controller("ProjectListingController",m),e("./project-info-edit-controller")})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../lib/browser":475,"../../../lib/shared-modules/controllers/im-base-controller":491,"../../../lib/storage/dao":514,"../../../lib/storage/project":516,"../../../lib/storage/urls":517,"../../../lib/svg-floor-plan/floor-plans-download-controller":518,"../../../lib/util":524,"../floor-plan-template-editor/template-modal-opener":543,"./map-controller":557,"./project-info-edit-controller":558,angular:57,jquery:304,parse:343,path:344}],557:[function(e,t,n){var r=e("parse").Parse,i=e("jquery"),o=e("../../../lib/util"),a=e("../../../lib/shared-modules/controllers/im-base-controller"),s=o.core.makeClass(a,{$inject:["$scope"],DEFAULT_MAP_ZOOM:17,ZERO_GEO_POINT:{longitude:0,latitude:0}},{constructor:function(e,t){a.call(this,e),this._project=e.project,this._imMultipleInputService=t,this.userCanEditLocation=!1,this._geoPoint=s.ZERO_GEO_POINT,this._marker=null,this._map=null,this._saveInProgress=!1,this._scriptLoaded=!1},project:{get:function(){return this._project},set:function(e){this._project=e}},saveInProgress:{get:function(){return this._saveInProgress}},scriptLoaded:{get:function(){return this._scriptLoaded}},onAddressChanged:function(){this._extractGeoLocationFromAddress().then(function(e){if(e&&e.latitude&&e.longitude){var t=new r.GeoPoint(e.latitude,e.longitude);this._project.setGeoLocation(t)}this._updateMapLocation()}.bind(this))["catch"](function(e){this._updateMapLocation()}.bind(this))},loadGoogleMapsScript:function(){if("undefined"==typeof google){window.mapInitializeCallback=function(){this._map=this._createMap(document.getElementById("google_map_canvas_listing")),this._updateMapLocation(),this._scriptLoaded=!0}.bind(this);var e=document.createElement("script");e.type="text/javascript",e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCmIfg4gL1K_Cn6VdxIx7ldWoiBFUwSfuE&sensor=FALSE&callback=mapInitializeCallback",document.body.appendChild(e)}else window.mapInitializeCallback(document.getElementById("map_canvas")),this._scriptLoaded=!0},saveProjectGeoLocationAsync:function(){var e=this._project,t=this._marker.getPosition(),n=new r.GeoPoint(t.lat(),t.lng());return e.setGeoLocation(n),this._extractAddressFromGeoLocation(t).then(function(){return this._saveProjectAsync()}.bind(this))},removeGeoLocationAsync:function(){return this._project.unsetGeoLocation(),this._saveProjectAsync()},setMarkerDragable:function(e){this._marker||(this._marker={}),this._marker.draggable=e,this._setMarkerOnProjectLocation()},_updateMapLocation:function(){return this._getProjectGeoPointAsync().then(function(e){this._geoPoint=e,this._setMarkerOnProjectLocation(),this._updateSaveButtons()}.bind(this))},_createMap:function(e){return new google.maps.Map(e,{mapTypeId:google.maps.MapTypeId.ROADMAP,clickableIcons:!1})},_setMarkerOnProjectLocation:function(){var e={lat:this._geoPoint.latitude,lng:this._geoPoint.longitude};this._map.setCenter(e),this._map.setZoom(s.DEFAULT_MAP_ZOOM);var t=!1;this._marker&&(this._marker.setMap(null),t=this._marker.draggable),this._marker=new google.maps.Marker({map:this._map,draggable:t,clickable:t}),this._marker.setPosition(e)},_getProjectGeoPointAsync:function(){var e=null,t=this._project.getGeoLocation(),n=!t||0===t.latitude&&0===t.longitude?null:{latitude:t.latitude,longitude:t.longitude};return e=n?Promise.resolve(n):this._extractGeoLocationFromAddress()},_extractGeoLocationFromAddress:function(){return console.debug(this._project.getAddress()),this._geoCodeAddress(this._project.getAddress()).then(function(e){return e})["catch"](function(){return this._geoCodeAddress(this._project.getCity()+", "+this._project.getState())}.bind(this)).then(function(e){return e})["catch"](function(){return this._geoCodeAddress(this._project.getState())}.bind(this)).then(function(e){return e})["catch"](function(){return s.ZERO_GEO_POINT})},_geoCodeAddress:function(e){var t,n,r=new Promise(function(e,r){t=e,n=r}),i=new google.maps.Geocoder;return i.geocode({address:e},function(e,r){if(r===google.maps.GeocoderStatus.OK){var i=e[0].geometry.location;t({latitude:i.lat(),longitude:i.lng()})}else n("Could not find geolocation: "+r)}.bind(this)),r},_extractAddressFromGeoLocation:function(e){var t,n,r=new Promise(function(e,r){t=e,n=r}),i=new google.maps.Geocoder;return i.geocode({location:e},function(e,n){if(n===google.maps.GeocoderStatus.OK){var r={};e.forEach(function(e){var t=e.address_components;t.forEach(function(e){var t=r;e.types.forEach(function(e){t[e]=t[e]||{},t=t[e]}.bind(this)),t.long_name=e.long_name,t.short_name=e.short_name}.bind(this))}.bind(this));var i=this._fetchAddressMapInfo(r,["street_number","long_name"])+" "+this._fetchAddressMapInfo(r,["route","long_name"]),o=this._fetchAddressMapInfo(r,["locality","political","long_name"]),a=this._fetchAddressMapInfo(r,["administrative_area_level_1","political","long_name"]),s=this._fetchAddressMapInfo(r,["postal_code","long_name"]),c=this._fetchAddressMapInfo(r,["country","political","long_name"]),l={street:{label:"Street",inputType:"text",value:i},city:{label:"City",inputType:"text",value:o},state:{label:"State",inputType:"text",value:a},zip:{label:"Zip",inputType:"text",value:s},country:{label:"Country",inputType:"text",value:c}};this._imMultipleInputService.showModal("Property Address","Do you also want to change property address to following?",l).then(function(e){var n=this._project;n.setStreet(e.street.value||""),n.setCity(e.city.value||""),n.setState(e.state.value||""),n.setZip(e.zip.value||""),n.setCountry(e.country.value||""),t()}.bind(this))["catch"](function(e){t()}.bind(this))}else t()}.bind(this)),r},_fetchAddressMapInfo:function(e,t){var n=e;return t.forEach(function(e){n=n?n[e]:void 0}),n},_saveProjectAsync:function(){return this._saveInProgress=!0,this._project.saveAsync().then(function(){this._updateSaveButtons(),this._saveInProgress=!1,this._updateMapLocation()}.bind(this))},_updateSaveButtons:function(){var e=this._project.getGeoLocation(),t=!e||0===e.latitude||0===e.longitude,n=i("#reset-map-location-link");t?n.addClass("disabled"):n.removeClass("disabled")}});t.exports=s},{"../../../lib/shared-modules/controllers/im-base-controller":491,"../../../lib/util":524,jquery:304,parse:343}],558:[function(e,t,n){var r=e("../../../lib/util"),i=r.core.makeClass({},{$inject:["$scope","$modalInstance","parseProject"]},{constructor:function(e,t,n){this.$scope=e,this.$modalInstance=t,this._parseProject=n},name:{get:function(){return this._parseProject.getName()},set:function(e){this._parseProject.setName(e||"")}},street:{get:function(){return this._parseProject.getStreet()},set:function(e){this.street!==e&&this._parseProject.setStreet(e||"")}},city:{get:function(){return this._parseProject.getCity()},set:function(e){this.city!==e&&this._parseProject.setCity(e||"")}},state:{get:function(){return this._parseProject.getState()},set:function(e){this.state!==e&&this._parseProject.setState(e||"")}},zip:{get:function(){return this._parseProject.getZip()},set:function(e){this.zip!==e&&this._parseProject.setZip(e||"")}},country:{get:function(){return this._parseProject.getCountry()},set:function(e){this.country!==e&&this._parseProject.setCountry(e||"")}},parseProject:{get:function(){return this._parseProject}},applyChanges:function(){this.$modalInstance.close()},cancelChanges:function(){this.$modalInstance.dismiss("cancel")}});t.exports=i;var o=angular.module("insidemaps.listing-controller");o.controller("ListingProjectInfoEditController",i)},{"../../../lib/util":524}],559:[function(e,t,n){var r=(e("moment"),e("../../lib/storage/dao")),i=e("../../lib/util").core,o=e("../../lib/project-config/project-states-config"),a=e("../../lib/project-config/pricing-packages-config"),s=e("../../lib/shared-modules/controllers/im-base-controller"),c=i.makeClass(s,{$inject:["$scope","$modal","imProjectService","imUserService","dialogs","imPromptModalService","imMultipleInputService","imMultiplePicker","imOrganizationService","imDiagnosticService"]},{constructor:function(e,t,n,i,c,l,u,h,d,f){s.call(this,e),this.$modal=t,this._imProjectService=n,this._imUserService=i,this._imOrganizationService=d,this._imDiagnosticService=f,this._imPromptModalService=l,this._imMultipleInputService=u,this._imMultiplePicker=h,this._projectStatesConfig=o,this._dialogs=c,this._user=this._imUserService.user(),this.wrappedProjects=[],this.wrappedProjectsMap={},this.wrappedProjectsSelected=[],this.filtering={states:{all:o.getAllProjectStates()}},this.sortingOptions=["descending","ascending",void 0],this.sorting={vip:void 0,priority:void 0,processingReadyAt:"descending"},this.searchParamsExternal={userEmail:void 0,organizationName:void 0,address:void 0},this.searchParams={descending:[],ascending:[],page:0,pageSize:64,containedIn:{status:o.getStatesRange("ready","finished")||[],priority:[void 0,0,100],user:[],organization:[]},includes:["user","operator","organization"],equals:{vip:void 0},matches:{name:void 0,status:void 0},notEqualTo:{deleteMarker:!0,cloned:!0,test:void 0}},this.priorities=[{name:"high",value:r.projectTable.PRIORITIES.high},{name:"standard",value:r.projectTable.PRIORITIES.standard},{name:"ignore",value:r.projectTable.PRIORITIES.ignore}],this.operators=[],this.operatorsMap={},this.pricingPackages=a.PACKAGES,this.getOperators(),this.reorderProjects()},setCurrentPage:function(e){this.searchParams.page=e,this.refreshProjects()},refreshProjects:function(){this.wrappedProjectsMap={},this._imProjectService.listProjectsWithAddress(this.searchParams,this.searchParamsExternal.address).then(function(e){this.wrappedProjects=e.map(function(e){var t=this._createWrappedProject(e);return this.wrappedProjectsMap[e.id]=t,t}.bind(this)),this.updateWrappedProjectsSelected(),this.refreshProjectsAssets(e)}.bind(this))},refreshProjectsAssets:function(e){this._imProjectService.listProjectsAssets(e).then(function(e){e.forEach(function(e){var t=e.getProject().id,n=this.wrappedProjectsMap[t].assets||[];n.push(e),this.wrappedProjectsMap[t].assets=n}.bind(this))}.bind(this))},refreshOrganizations:function(){var e=this.searchParamsExternal.organizationName;return e?this._imOrganizationService.listOrganizations({matches:{name:e}}).then(function(e){return this.searchParams.containedIn.organization=e||[],Promise.resolve()}.bind(this)):(this.searchParams.containedIn.organization=[],Promise.resolve())},refreshUsers:function(){var e=this.searchParamsExternal.userEmail;return e?this._imUserService.listUsers({matches:{email:e}}).then(function(e){return this.searchParams.containedIn.user=e||[],Promise.resolve()}.bind(this)):(this.searchParams.containedIn.user=[],Promise.resolve())},reorderProjects:function(e){var t=this.sortingOptions.length;if(this.searchParams.descending=[],this.searchParams.ascending=[],e){var n=this.sortingOptions.indexOf(this.sorting[e]);n=(n+1)%t,this.sorting[e]=this.sortingOptions[n]}for(var r in this.sorting){var i=this.sorting[r];i&&this.searchParams[i].push(r)}this.refreshProjects()},isUnknownOperator:function(e){return e&&!this.operatorsMap[e.id]},_createWrappedProject:function(e){return{selected:!1,parseObject:e,vip:e.isVip(),operator:e.getOperator(),processingReadyAt:this._calculateTime(new Date(e.getProcessingReadyAt())),organization:this._getProjectOrganization(e),"package":a.getPricingPackageForProject(e),updating:!1,assets:void 0,test:e.isTest(),priority:{value:e.getPriority(),name:Object.keys(r.projectTable.PRIORITIES).find(function(t){return r.projectTable.PRIORITIES[t]===e.getPriority()})}}},getWrappedProjectColor:function(e){var t=e.parseObject,n=t.getStatus(),r=void 0;return"ready"===n&&(r="bg-faded"),this._projectStatesConfig.isGreaterOrEqualState(n,"operator_assigned")&&this._projectStatesConfig.isLesserOrEqualState(n,"operator_qa")&&(r="bg-info"),
this._projectStatesConfig.isGreaterOrEqualState(n,"ready_for_modelers")&&this._projectStatesConfig.isLesserOrEqualState(n,"modeler_assigned")&&(r="bg-info"),n.startsWith("blocked")&&(r="bg-danger"),"finished"===n&&(r="bg-success"),(t.isCloned()||t.getDeleteMarker())&&(r="bg-warning"),r},updateWrappedProjectTest:function(e){var t=e.parseObject,n=e.test;n!==t.isTest()&&this._imProjectService.changeProjectProperty(t,"test",n).then(function(){this.refreshProjects()}.bind(this))["catch"](function(){this.refreshProjects()}.bind(this))},updateWrappedProjectsSelected:function(){this.wrappedProjectsSelected=this.wrappedProjects.filter(function(e){return e.selected}.bind(this))},allSelection:function(e){this.wrappedProjects.forEach(function(t){t.selected=e}.bind(this)),this.updateWrappedProjectsSelected()},changeProperty:function(e){var t=this.wrappedProjectsSelected.map(function(e){return e.parseObject});this._imDiagnosticService.project.changeProperty(t,e).then(function(e){e&&this.refreshProjects()}.bind(this))},getOperators:function(){var e=["Operator_Ukraine","Operator_Utah","Supervisor_Ukraine","Supervisor_Utah","Operator","Supervisor"],t=this._imUserService.userRolesMap(),n=this._user.getEmail(),i=[];for(var o in t)e.indexOf(o)>-1&&i.push(o);var a=[],s={};r.roleTable.listChildUsersForRoles(i).then(function(e){e.forEach(function(e){e.forEach(function(e){s[e.id]=e}.bind(this))}.bind(this));for(var t in s){var r=s[t];n===r.getEmail()?a.unshift(r):a.push(r)}this.operators=a,this.operatorsMap=s}.bind(this))},_getProjectOrganization:function(e){return this._imProjectService.getOrganizationName(e)||"Unknown"},_calculateTime:function(e){if(!e)return"N/A";var t=Date.now()-e,n=Math.floor(t/1e3/60),r=Math.floor(n/60);return r<1?n+"m":r+"h"},onEnterSearch:function(e,t){if(13==e.keyCode){var n=Promise.resolve();switch(t){case"organization":n=this.refreshOrganizations();break;case"user":n=this.refreshUsers()}n.then(function(){this.refreshProjects()}.bind(this))}},onFilterPriorityClicked:function(){var e={},t=this.searchParams.containedIn.priority;this.priorities.forEach(function(n){e[n.name]={label:n.name.toUpperCase(),inputType:"checkbox",value:t.indexOf(n.value)!==-1,numValue:n.value}}.bind(this));var n=[];this._imMultipleInputService.showModal("Project Priorities Filter","blah blah",e).then(function(e){for(var t in e){var r=e[t];r.value&&(n.push(r.numValue),0===r.numValue&&n.push(void 0))}this.searchParams.containedIn.priority=n,this.refreshProjects()}.bind(this))["catch"](function(e){}.bind(this))},onFilterStatesClicked:function(){var e=this.filtering.states.all,t=this.searchParams.containedIn.status;this._imMultiplePicker.showModal("Project States",e,t).then(function(e){this.searchParams.containedIn.status=e,this.refreshProjects()}.bind(this))["catch"](function(e){}.bind(this))},onFilterDeletedClicked:function(){this.searchParams.notEqualTo.deleteMarker=!!this.searchParams.notEqualTo.deleteMarker||void 0,this.refreshProjects()},onFilterClonedClicked:function(){this.searchParams.notEqualTo.cloned=!!this.searchParams.notEqualTo.cloned||void 0,this.refreshProjects()},onFilterTestClicked:function(){this.searchParams.notEqualTo.test=!!this.searchParams.notEqualTo.test||void 0,this.refreshProjects()},onProjectPackageChanged:function(e){var t=e["package"],n=e.parseObject;a.setPricingPackageForProject(n,t),this._imProjectService.saveProjectAsync(n)},onProjectPriorityChanged:function(e){var t=e.parseObject;t.setPriority(e.priority.value),this._imProjectService.saveProjectAsync(t).then(function(e){this.refreshProjects()}.bind(this))},onProjectOperatorChanged:function(e){var t=e.parseObject,n=e.operator,r=n?n.getEmail():void 0;this._imProjectService.assignProjectOperator(t,r).then(function(){this.refreshProjects()}.bind(this))["catch"](function(){this.refreshProjects()}.bind(this))},onProjectUnfinishClicked:function(e){var t=e.parseObject;this._dialogs.confirm("Reactivate Project","Are you sure you want to reactivate project - "+t.getName()+"?").result.then(function(){return this._imProjectService.assignProjectOperatorQA(t,void 0)}.bind(this)).then(function(){this.refreshProjects()}.bind(this))["catch"](function(e){"no"!==e&&this.refreshProjects()}.bind(this))},onShowProjectDetails:function(e){this.$modal.open({templateUrl:"expanded-details",controller:"ExpandedDetailsController as details",scope:this.$scope,size:"md",resolve:{project:function(){return e}}})},requiresRole:function(e){return this._imUserService.userHasRole(e)}});t.exports=c},{"../../lib/project-config/pricing-packages-config":489,"../../lib/project-config/project-states-config":490,"../../lib/shared-modules/controllers/im-base-controller":491,"../../lib/storage/dao":514,"../../lib/util":524,moment:322}],560:[function(e,t,n){var r=e("../../lib/browser"),i=(e("parse").Parse,e("../../lib/util")),o=e("../../lib/project-config/project-states-config"),a=e("../../lib/storage/dao"),s=t.exports=i.core.makeClass({},{modalInstance:null,showNewNoteModal:function(e,t,n,r,i,o){s.organizationController=e,n.parentId=i,n.parentName=o,delete n.note,s.modalInstance=t.open({templateUrl:r?"organization-new-notes-group-dialog":"organization-new-notes-dialog",controller:"ProjectNotesController as projectNotes",scope:n,size:"500px"})},editNote:function(e,t,n,r,i,o){s.organizationController=e,n.note=e.selectedNote,s.modalInstance=t.open({templateUrl:r?"organization-new-notes-group-dialog":"organization-new-notes-dialog",controller:"ProjectNotesController as projectNotes",scope:n,size:"500px"})}},{constructor:function(e,t,n,r){this.$scope=e,this.$modalInstance=n,this.dialogs=r,this.dataGroup={},this.dataNote={},this.note=e.note,this.DEFAULT_PROJECT_TYPES={PRO:!0,STANDARD:!0,HDR_PHOTOS:!0,FLOOR_PLAN:!0,UNKNOWN:!0},this.note?(this.dataGroup.id=this.note.id,this.dataGroup.parentName=this.note.get("parent").get("name"),this.dataGroup.parentId=this.note.get("parent").id,this.dataGroup.name=this.note.get("name"),this.dataGroup.type=this.note.get("type"),this.dataNote.id=this.note.id,this.dataNote.parentName=this.note.get("parent").get("name"),this.dataNote.parentId=this.note.get("parent").id,this.dataNote.shownFrom=this.note.get("shownFrom"),this.dataNote.completedOn=this.note.get("completedOn"),this.dataNote.name=this.note.get("name"),this.dataNote.description=this.note.get("description"),this.dataNote.type=this.note.get("type"),this.dataNote.projectTypes=this.note.get("projectTypes")||this.DEFAULT_PROJECT_TYPES):(this.dataGroup.parentName=e.parentName||"Root",this.dataGroup.parentId=e.parentId,this.dataGroup.type=1,this.dataNote.parentName=e.parentName||"Root",this.dataNote.parentId=e.parentId,this.dataNote.shownFrom="defined",this.dataNote.completedOn="finished",this.dataNote.type=2,this.dataNote.projectTypes=this.DEFAULT_PROJECT_TYPES)},closeModal:function(){s.modalInstance&&s.modalInstance.close()},saveGroup:function(e){var t=this;return t.saving=!0,r.angular.triggerUpdate(),a.ProjectNotes.saveGroup(this.dataGroup.id,s.organizationController.organization.id,this.dataGroup.parentId,this.dataGroup.name,this.dataGroup.shownFrom,this.dataGroup.completedOn).then(function(){return s.organizationController.deselectNote(),s.organizationController.loadProjectNotes().then(function(){t.closeModal(),setTimeout(function(){t.saving=!1,r.angular.triggerUpdate()},500)})})["catch"](function(e){t.dialogs.notify("Error",e.message),t.saving=!1,r.angular.triggerUpdate()})},_checkNoteData:function(){if(o.isGreaterOrEqualState(this.dataNote.shownFrom,this.dataNote.completedOn))return this.dialogs.error("BAD STATE","State in <b>Shown in list from</b> field must be lesser than <b>"+this.dataNote.completedOn+"</b>."),!1;var e=Object.values(this.dataNote.projectTypes),t=!1;for(var n in e)t|=e[n];return!(e.length<0||!t)||(this.dialogs.error("BAD PROJECT TYPES","You have to select at least one <b>Required project type</b> for this note."),!1)},saveNote:function(e){var t=this;if(this._checkNoteData())return t.saving=!0,r.angular.triggerUpdate(),a.ProjectNotes.saveNote(this.dataNote.id,s.organizationController.organization.id,this.dataNote.parentId,this.dataNote.name,this.dataNote.description,this.dataNote.shownFrom,this.dataNote.completedOn,this.dataNote.projectTypes).then(function(){return s.organizationController.deselectNote(),s.organizationController.loadProjectNotes().then(function(){t.closeModal(),setTimeout(function(){t.saving=!1,r.angular.triggerUpdate()},500)})})["catch"](function(e){t.dialogs.notify("Error",e.message),t.saving=!1,r.angular.triggerUpdate()})},getProjectStates:function(e){var t=o.getAllProjectStatesMap(),n=Object.keys(t);if(e){var r=[];for(var i in n){var a=n[i];e.indexOf(a)<0&&r.push(a)}return r}return n},previewDescription:function(){this.dialogs.notify("PREVIEW",this.dataNote.description||" ")}})},{"../../lib/browser":475,"../../lib/project-config/project-states-config":490,"../../lib/storage/dao":514,"../../lib/util":524,parse:343}],561:[function(e,t,n){var r=e("../../lib/util"),i=e("../../lib/util").core,o=(e("../../lib/csv-exporter"),e("../../lib/shared-modules/controllers/im-base-controller")),a=(e("moment"),e("copy-to-clipboard")),s=i.makeClass(o,{$inject:["$scope","imProjectService","imRoleService"]},{constructor:function(e,t,n){o.call(this,e),this._imProjectService=t,this._imRoleService=n;var r=new Date;this.searchParams={dateFrom:{gui:r,model:void 0},dateTo:{gui:r,model:void 0}},this.projectsWithAssets="",this.organizationIds="cx3Vqz6PSD,jaBm8EHyMB,tp8wPbfd35,O3OB8xda3S",this.updateDates()},updateDates:function(){var e=this.searchParams,t=e.dateFrom.gui,n=e.dateTo.gui;this.searchParams.dateFrom.model=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),0,0,1)),this.searchParams.dateTo.model=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),23,59,59))},refreshData:function(){var e=this.organizationIds.replace(/ /g,"");console.debug(e),e=e.split(","),console.debug(e);var t={dateFrom:this.searchParams.dateFrom.model,dateTo:this.searchParams.dateTo.model,organizationIds:this.organizationIds};this.projectsWithAssets="FETCHING PROJECTS WITH ASSETS...",r.core.callApiAsync("GET","/api/v1/migration/getProjectsWithAssets",t).then(function(e){console.debug(e),this.projectsWithAssets=e,this.refreshGUI()}.bind(this))["catch"](function(e){this.projectsWithAssets=e.message?e.message:e}.bind(this))},copyToClipboard:function(e,t){a(this.projectsWithAssets||""),alert("Report is copied to clipboard ")}});t.exports=s},{"../../lib/csv-exporter":480,"../../lib/shared-modules/controllers/im-base-controller":491,"../../lib/util":524,"copy-to-clipboard":206,moment:322}],562:[function(e,t,n){var r=e("jquery"),i=e("../../lib/util").core,o=i.makeClass({},{$inject:[],ANIMATION_DURATION:350,BOTTOM_MARGIN_DESKTOP:50,BOTTOM_MARGIN_MOBILE:120},{constructor:function(){this._$window=r(window),this._$scrollToTopLink=r("#scroll-to-top-link"),this._$scrollToTopLink.click(this._scrollToTop.bind(this)),this._isMobileDevice=i.isMobileDevice();var e=i.debounce(this._onScroll.bind(this),200);this._$window.on("scroll",e)},_onScroll:function(){this._$scrollToTopLink.show(),this._$window.scrollTop()>0?this._$scrollToTopLink.stop().animate({top:this._$window.height()-this._getBottomMargin()+"px"},o.ANIMATION_DURATION):this._$scrollToTopLink.stop().animate({top:this._$window.height()+this._getBottomMargin()+"px"},o.ANIMATION_DURATION)},_scrollToTop:function(){r("html, body").stop().animate({scrollTop:0},o.ANIMATION_DURATION,function(){this._$scrollToTopLink.stop().animate({top:this._$window.height()+this._getBottomMargin()+"px"},o.ANIMATION_DURATION)}.bind(this))},_getBottomMargin:function(){var e=o.BOTTOM_MARGIN_DESKTOP;return this._isMobileDevice&&"none"!==r("header").css("display")&&(e=o.BOTTOM_MARGIN_MOBILE),e}});t.exports=o},{"../../lib/util":524,jquery:304}],563:[function(e,t,n){var r=e("moment"),i=(e("parse").Parse,e("../../lib/util")),o=e("../../lib/util").core,a=(e("../../lib/browser"),e("../../lib/csv-exporter")),s=e("chart.js"),c=e("randomcolor"),l=6e4,u=e("../../lib/shared-modules/controllers/im-base-controller"),h=e("../../lib/project-config/project-states-config"),d=e("../../lib/project-config/pricing-packages-config"),f=e("flat"),p={},m=function(e,t){return e.getEmail()<t.getEmail()?-1:e.getEmail()>t.getEmail()?1:0},g=function(e){return("0"+e).slice(-2)};s.defaults.global.onClick=function(e,t){if(t[0]){var n=t[0]._index,r=t[0]._model.datasetLabel,o=p[r]?p[r][n]:void 0;o&&window.open("/app/photo-analyzer?project="+o+"&env="+i.params.getEnvironmentName(),"_blank")}},customChartTooltipCallback=function(e,t){return e.yLabel+" minutes"};var v=o.makeClass(u,{$inject:["$scope","imProjectService","imRoleService","dialogs"]},{constructor:function(e,t,n,i){u.call(this,e),this._imProjectService=t,this._imRoleService=n,this.dialogs=i,this.submissionsBarChart=new s.Line(document.getElementById("submissionsBarChart"),this.getLineChartParams());var o=new Date,a=this.getClearDate(o),c=r(a).subtract(1,"days").startOf("day"),l=r(a).endOf("day");this.searchParams={dateFrom:c.toDate(),dateTo:l.toDate()},this.projectsStatisticsRaw=void 0,this.projectsStatisticsData=void 0,this.filtering={state:"operator_assigned",operator:void 0,organization:void 0,pricingPackage:void 0,processingTime:{from:void 0,to:void 0},floors:{from:void 0,to:void 0},rooms:{from:void 0,to:void 0},area:{from:void 0,to:void 0}},this.sorting="stepTime",this.users={operators:[],supervisors:[]},this.orgNames=[],this.pricingPackages=d.PACKAGES,this.submissionsMode="hours",this.submissionTimings={},this.ukraData={id:"ukraBarChart",name:"Ukraine"},this.utahData={id:"utahBarChart",name:"Utah"},this.otherData={id:"otherBarChart",name:"Other"},this.getProjectCaptureTimesData={organizations:"",dateFrom:"",dateTo:""},this.data=[this.ukraData,this.utahData,this.otherData],this.fetchingCaptureTimesCSV=!1,this.fetchOperators(),this.refreshData(),this.refreshGUI()},resetData:function(){this.projectsStatisticsData={stateColors:{},stateNames:[],opGroups:{}}},refreshData:function(){this._imProjectService.listProjectsStatistics(this.searchParams).then(function(e){this.projectsStatisticsRaw=e,this.resetData(),e.forEach(function(e){var t=e.opGroup||"Other",n=e.status,r=this.projectsStatisticsData.opGroups[t]||{},i=r[n]||{statesData:{},projectStatistics:[]};i.projectStatistics.push(e);var o=e.statesData;for(var a in o){this.projectsStatisticsData.stateNames.indexOf(a)===-1&&this.projectsStatisticsData.stateNames.push(a),this.projectsStatisticsData.stateColors[a]=this.projectsStatisticsData.stateColors[a]||c();var s=i.statesData[a]||{time:0,activations:0,count:0};s.time+=o[a].time||0,s.activations+=o[a].activations||0,s.count++,i.statesData[a]=s}this.projectsStatisticsData.opGroups[t]=r,r[n]=i}.bind(this)),this.refreshFilteredData(),this.refreshSubmissionData(),this.populateOrganizationNames()}.bind(this))},populateOrganizationNames:function(){this.orgNames=[],this.projectsStatisticsRaw.forEach(function(e){var t=e.organization;t&&this.orgNames.indexOf(t)===-1&&this.orgNames.push(e.organization)}.bind(this))},updateFilteredStatistics:function(e){var t={},n=[];e.forEach(function(e){var n=e.statesData;for(var r in n){var i=n[r],o=t[r]||{time:0,activations:0,count:0};o.time+=i.time||0,o.activations+=i.activations||0,o.count++,t[r]=o}}.bind(this));for(var r in t){var i=t[r];i.time=(i.time/(i.count*l)).toFixed(1),i.activations=(i.activations/i.count).toFixed(1),i.name=r,n.push(i)}return n},getProjectsStatistics:function(e,t){var e=this.projectsStatisticsData.opGroups[e],n=e?e[t]:void 0;return n?n.projectStatistics:[]},refreshFilteredData:function(){var e=this.filtering.state;this.data.forEach(function(t){this.updateData(t,e)}.bind(this))},updateData:function(e,t){e.projects=this.updateFilteredProjectStatistics(this.getProjectsStatistics(e.name,"finished"),this.filtering),e.statistics=this.updateFilteredStatistics(e.projects),e.totalProjects=[],e.totalProjectsCount=0;var n=this.projectsStatisticsData.opGroups[e.name];for(state in n){var r=n[state],i=r.projectStatistics.length;e.totalProjectsCount+=i||0,e.totalProjects.push({state:state,count:i})}e.chart=e.chart?e.chart:new s.Bar(e.id,this.getBarChartParams()),this.updateBarChart(e.chart,e.projects,e.name+" ("+t+")",t)},updateFilteredProjectStatistics:function(e,t){return e.map(function(e){var n=e.statesData[t.state],r=n?n.time||0:0;r=(r/l).toFixed(1);var i=Object.assign({},e);return i.stepTime=r,i}.bind(this)).filter(function(e){var n=!0;return n=n&&(!t.operator||t.operator===e.operatorId),n=n&&(!t.organization||t.organization===e.organization),n=n&&(!t.pricingPackage||t.pricingPackage===e.pricingPackage),n=n&&(!t.recovery||("yes"===t.recovery&&e.recovery||"no"===t.recovery&&!e.recovery)),n=n&&(!t.processingTime.from||e.processingTime>=t.processingTime.from*l),n=n&&(!t.processingTime.to||e.processingTime<=t.processingTime.to*l),n=n&&(!t.floors.from||e.floors>=t.floors.from),n=n&&(!t.floors.to||e.floors<=t.floors.to),n=n&&(!t.rooms.from||e.rooms>=t.rooms.from),n=n&&(!t.rooms.to||e.rooms<=t.rooms.to),n=n&&(!t.area.from||e.area>=t.area.from),n=n&&(!t.area.to||e.area<=t.area.to)}.bind(this)).sort(function(e,t){return e[this.sorting]-t[this.sorting]}.bind(this))},updateBarChart:function(e,t,n,r){e.clear(),e.data.datasets[0].data=[],e.data.datasets[0].backgroundColor=this.projectsStatisticsData.stateColors[r],e.data.labels=[],e.data.datasets[0].label=n,e.options.scales.xAxes[0].scaleLabel.labelString=this.sorting,e.options.scales.yAxes[0].scaleLabel.labelString="Step Time",p[n]=[],t.forEach(function(t){e.data.datasets[0].data.push(t.stepTime),e.data.labels.push(t[this.sorting]),p[n].push(t.projectId)}.bind(this)),e.update()},updateSubmissionsChart:function(e,t,n){e.data.datasets[0].data=[],e.data.datasets[0].backgroundColor="#4488BB",e.data.labels=[],e.data.datasets[0].label=n,e.options.scales.xAxes[0].scaleLabel.labelString=n,e.options.scales.yAxes[0].scaleLabel.labelString="Submissions No",p[n]=[],t.forEach(function(t){e.data.datasets[0].data.push(t.y),e.data.labels.push(t.x)}.bind(this)),e.update()},refreshSubmissionData:function(){this.submissionTimings={};var e=void 0,t=void 0;switch(this.submissionsMode){case"timeline":e=function(e){return r(e).format("YYYYMMDD")},t="Submissions per date";break;case"weeks":e=function(e){return r(e).format("YYYY")+"."+g(r(e).format("W"))},t="Submissions per week of year";break;case"days":e=function(e){return e.getDay()},t="Submissions per day of week ( Sunday - Saturday )";break;case"hours":e=function(e){return e.getHours()},t="Submissions per hour of day"}if(e){this.projectsStatisticsRaw.forEach(function(t){if(t.opGroup){var n=e(new Date(t.submittedAt));n=isNaN(n)?"Unknown":n,this.submissionTimings[n]=this.submissionTimings[n]||0,this.submissionTimings[n]++}}.bind(this));var n=[];for(var i in this.submissionTimings)n.push({x:i,y:this.submissionTimings[i]});var o=n.sort(function(e,t){return isNaN(e.x)?1:isNaN(t.x)?-1:e.x-t.x});this.updateSubmissionsChart(this.submissionsBarChart,o,t)}},fetchOperators:function(){this._imRoleService.listChildUsersForRoles(["Operator_Ukraine","Supervisor_Ukraine","Operator_Utah","Supervisor_Utah"]).then(function(e){var t={};this.users.operators=[],e.forEach(function(e){e.forEach(function(e){t[e.id]||this.users.operators.push(e),t[e.id]=e}.bind(this))}.bind(this)),this.users.operators=this.users.operators.sort(m)}.bind(this))},getBarChartParams:function(){return{data:{labels:[],datasets:[{label:"",data:[],backgroundColor:[]}]},options:{tooltips:{enabled:!0,mode:"single",callbacks:{label:customChartTooltipCallback}},scales:{xAxes:[{scaleLabel:{display:!0,labelString:""}}],yAxes:[{scaleLabel:{display:!0,labelString:""}}]}}}},getLineChartParams:function(){return{data:{labels:[],datasets:[{label:"",data:[],backgroundColor:[]}]},options:{scales:{xAxes:[{scaleLabel:{display:!0,labelString:""}}],yAxes:[{scaleLabel:{display:!0,labelString:""}}]}}}},exportCSV:function(){var e=r(this.searchParams.dateFrom).format("YYYYMMDD"),t=r(this.searchParams.dateTo).format("YYYYMMDD"),n="projects_statistics_"+e+"_"+t+".csv",i=h.getAllProjectStatesMap(),o=[].concat(this.ukraData.projects,this.utahData.projects),s=o.map(function(e){var t={projectId:e.projectId,operatorId:e.operatorId,modelerId:e.modelerId,opGroup:e.opGroup,isPaid:e.isPaid,customModel:e.customModel,area:e.area,rooms:e.rooms,floors:e.floors,submittedAt:new Date(e.submittedAt),finishedAt:new Date(e.finishedAt),processingTime:(e.processingTime/l).toFixed(1)},n=e.statesData;for(var r in i){var o=n[r]||{};t["state_"+r]=((o.time||0)/l).toFixed(1)}return t}.bind(this));return a.exportCSV({filename:n},s)},exportTimeCSV:function(){var e=r(this.searchParams.dateFrom).format("YYYYMMDD"),t=r(this.searchParams.dateTo).format("YYYYMMDD"),n="projects_timing_data_"+e+"_"+t+".csv",i=h.getAllProjectStatesMap(),o=[].concat.apply([],[this.ukraData.projects,this.utahData.projects,this.otherData.projects]),s=o.map(function(e){var t={projectId:e.projectId,projectName:this.clearCommas(e.projectName),city:this.clearCommas(e.city),user:this.clearCommas(e.user),organization:e.organization,opGroup:e.opGroup,livableArea:e.livableArea,area:e.area,rooms:e.rooms,floors:e.floors,submittedAt:new Date(e.submittedAt),finishedAt:new Date(e.finishedAt),processingTime:(e.processingTime/l).toFixed(1)},n=e.statesData;for(var r in i){var o=n[r]||{};t["state_"+r]=((o.time||0)/l).toFixed(1)}return t}.bind(this));return a.exportCSV({filename:n},s)},exportRawCSV:function(){var e=r(this.searchParams.dateFrom).format("YYYYMMDD"),t=r(this.searchParams.dateTo).format("YYYYMMDD"),n="projects_raw_data_"+e+"_"+t+".csv",i=(h.getAllProjectStatesMap(),[].concat.apply([],[this.ukraData.projects,this.utahData.projects,this.otherData.projects])),o=i.map(function(e){return delete e.raw.user.ACL,delete e.raw.user.authData,delete e.raw.user._perishable_token,delete e.raw.project.ACL,delete e.raw.project.modeler,delete e.raw.project.operator,delete e.raw.project.operatorQA,delete e.raw.project.organization,delete e.raw.project.user,delete e.raw.project.previousWallElements,delete e.raw.project.recentMaterialsForMaterialStep,delete e.raw.project.statistics,delete e.raw.project.walkthroughVideos,delete e.raw.project.hdrPhotos,e.raw.organization&&(delete e.raw.organization.ACL,delete e.raw.organization.apiConfig,delete e.raw.organization.config,delete e.raw.organization.creator,delete e.raw.organization.groupAdminRole,delete e.raw.organization.groupUserRole),f(e.raw)}.bind(this));return a.exportCSV({filename:n},o)},getClearDate:function(e){return r.utc([e.getFullYear(),e.getMonth(),e.getDate()])},clearCommas:function(e){return this.replaceCharacter(e,","," ")},replaceCharacter:function(e,t,n){return e&&t&&n?e.replace(new RegExp(t,"g"),n):e},getProjectCaptureTimes:function(){var e=this.getProjectCaptureTimesData.organizations,t=this.getProjectCaptureTimesData.dateFrom,n=this.getProjectCaptureTimesData.dateTo,r="Project capture times for "+e+" "+t+" to "+n+".csv";return this._imProjectService.getProjectCaptureTimes(e,t,n).then(function(e){return a.exportCSV({filename:r,cellDelimiter:'"'},e)})},openProjectsWithAssetsModal:function(){this.dialogs.create("projects-with-assets-template","ProjectsWithAssetsController as projectsWithAssetsCtrl",{},{size:"lg",windowClass:"almostfullmodal"}).result["catch"](function(){}.bind(this))}});t.exports=v},{"../../lib/browser":475,"../../lib/csv-exporter":480,"../../lib/project-config/pricing-packages-config":489,"../../lib/project-config/project-states-config":490,"../../lib/shared-modules/controllers/im-base-controller":491,"../../lib/util":524,"chart.js":147,flat:249,moment:322,parse:343,randomcolor:369}],564:[function(e,t,n){var r=e("../../lib/util"),i=e("../../lib/util").core,o=e("../../lib/shared-modules/controllers/im-base-controller"),a=(e("moment"),e("../../lib/storage/dao"),"images/googleMaps/streetviewSpinIcon.png"),s="images/googleMaps/streetviewMoveIcon.png",c="images/googleMaps/streetviewRotateIcon.png",l=i.makeClass(o,{$inject:["$scope","dialogs","imStreetviewService","imUserService"]},{constructor:function(e,t,n,r){o.call(this,e),this._imStreetviewService=n,this._imUserService=r,this._dialogs=t,this.project=e.project,this.streetviewInputsPromise=this._imStreetviewService.getStreetviewInputs(this.project),this.inputs=void 0,this.selectedFloor=void 0,this.selectedFloorCalibration=void 0,this.googlemaps={canvas:void 0,map:void 0,infoWindow:void 0,markers:{drag:void 0,rotation:void 0,spins:[]},circles:{rotation:void 0,radius:0},polyLines:{walls:void 0}},this.fetchInputData()},fetchInputData:function(){this.streetviewInputsPromise.then(function(e){this.inputs=e,this.loadGoogleMapsScript(e)}.bind(this))},getFloorCalibrationData:function(){var e=this.selectedFloor&&this.selectedFloor.id;return e&&this.inputs.calibration.floors[e]},areVisibilityGraphsGenerated:function(){if(this.inputs){var e=this.inputs.data.floors||[],t=e.every(function(e){return e.isVisibilityGraphGenerated});return t}},canSubmitProject:function(){if(this.inputs){var e=this.project.getStatus();return this._imUserService.hasWriteAccess(this.project)&&"finished"===e&&this.areVisibilityGraphsGenerated()}return!1},getConnectionsWalkthrough:function(){return window.location.origin+"/app/walkthrough/?projectId="+this.project.id+"&waypointQA&env="+r.params.getEnvironmentName()},onFloorSelected:function(e){var t=e||this.inputs.data.floors[0],n=this.googlemaps,r=n.markers,i=n.map;r.drag;this.selectedFloor=t;var o=this.getFloorCalibrationData();this.selectedFloorCalibration=o;var a=this.getFloorCalibrationData(),s=a&&a.geoLocation,c={lat:s&&s.latitude,lng:s&&s.longitude};r.drag.setPosition(c),!i.center||i.center.lat()||i.center.lng()||i.setCenter(c),this.updateStreetviewPositions()},onPositionChanged:function(e){var t=e.latLng||{},n=this.getFloorCalibrationData().geoLocation||{};n.longitude=t.lng(),n.latitude=t.lat(),this.updateStreetviewPositions()},onRotationChanged:function(e){var t=e.latLng||{},n=(this.googlemaps,this.selectedFloorCalibration),r=n.geoLocation,i=new google.maps.LatLng(r.latitude,r.longitude);n.rotation=180-google.maps.geometry.spherical.computeHeading(t,i),this.updateStreetviewPositions(!0)},onRotationFinished:function(e){this.updateStreetviewPositions()},onSpinMarkerClicked:function(e){var t=e.imData.waypointData;if(t){var n=this.googlemaps.infoWindow;n.setContent('<img src="'+t.s3DownloadUrl+'" width="100%" height="100%" />'),n.open(this.googlemaps.map,e)}},onTransformationChanged:function(){this.updateStreetviewPositions()},onScaleReset:function(){this.inputs.calibration.scale=1,this.updateStreetviewPositions()},onSaveInputs:function(){this._dialogs.confirm("GSV Submit","Submit this project to Streetview?").result.then(function(){return this._imStreetviewService.saveStreetviewInputs(this.project,this.inputs)}.bind(this))["catch"](function(e){"no"!==e&&"escape key press"!==e&&this._dialogs.error("Project error",e.message)}.bind(this))},onSubmitToStreetview:function(){this._dialogs.confirm("GSV Submit","Submit this project to Streetview?").result.then(function(){return this._imStreetviewService.submitProjectToStreetview(this.project,this.inputs)}.bind(this))["catch"](function(e){"no"!==e&&"escape key press"!==e&&this._dialogs.error("Project error",e.message)}.bind(this))},onUndoFloorChanges:function(){var e=this.getFloorCalibrationData(),t=this.selectedFloor,n=t&&t.id,r=n?this.inputs.calibrationOriginal.floors[n]:{};Object.assign(e,r),e.geoLocation=Object.assign({},r.geoLocation),this.onFloorSelected(t)},updateStreetviewPositions:function(e){var t=this.googlemaps,n=this.getFloorCalibrationData();this._imStreetviewService.updateStreetviewPositions({markers:t.markers.spins,rotationCircle:t.circles.rotation,rotationMarker:e?void 0:t.markers.rotation,wallsPolyLine:t.polyLines.walls,selectedFloor:this.selectedFloor,calibration:n,scale:this.inputs.calibration.scale}),this.refreshGUI()},loadGoogleMapsScript:function(e){var t=e.geoLocation||{};t.latitude||0,t.longitude||0;window.mapInitializeCallback=function(){var t=this.googlemaps;t.canvas=document.getElementById("streetviewCalibrationMap"),t.infoWindow=new google.maps.InfoWindow,t.map=this._createMap(t.canvas),this._initializeMarkers(t.map,e),this.onFloorSelected()}.bind(this);var n=document.createElement("script");n.type="text/javascript",n.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCmIfg4gL1K_Cn6VdxIx7ldWoiBFUwSfuE&sensor=FALSE&callback=mapInitializeCallback",document.body.appendChild(n)},_initializeMarkers:function(e,t){var n=this.googlemaps;n.markers.drag=this._createDragMarker(e),n.polyLines.walls=this._createWallsPolyLine(e);var r=t.data.floors||[];r.forEach(function(t){var r=t.activeWaypointsData||[];r.forEach(function(r){var i=this._createWaypointMarker(e,r,t);n.markers.spins.push(i);var o=r.distance,a=n.circles.radius;n.circles.radius=a<o?o:a}.bind(this))}.bind(this)),n.markers.rotation=this._createRotationMarker(e),n.circles.rotation=this._createRotationCircle(e)},_createMap:function(e,t,n){return new google.maps.Map(e,{center:{lat:0,lng:0},zoom:20,mapTypeId:google.maps.MapTypeId.ROADMAP,gestureHandling:"greedy"})},_createDragMarker:function(e){var t=32,n=new google.maps.Marker({draggable:!0,map:e,title:"Drag to change position",icon:{url:s,scaledSize:new google.maps.Size(t,t),anchor:new google.maps.Point(t/2,t/2)}});return n.addListener("drag",function(e){return this.onPositionChanged(e)}.bind(this)),n},_createWaypointMarker:function(e,t,n){var r=20,i=new google.maps.Marker({map:e,icon:{url:a,scaledSize:new google.maps.Size(r,r),anchor:new google.maps.Point(r/2,r/2)},imData:{waypointData:t,floorData:n}});return i.addListener("click",function(){return this.onSpinMarkerClicked(i)}.bind(this)),i},_createWallsPolyLine:function(e){var t=new google.maps.Polyline({strokeColor:"#00FF00",strokeOpacity:1,strokeWeight:4});return t.setMap(e),t},_createRotationMarker:function(e){var t=32,n=new google.maps.Marker({draggable:!0,map:e,title:"Drag to change rotation",icon:{url:c,scaledSize:new google.maps.Size(t,t),anchor:new google.maps.Point(t/2,t/2)}});return n.addListener("drag",function(e){return this.onRotationChanged(e)}.bind(this)),n.addListener("dragend",function(e){return this.onRotationFinished(e)}.bind(this)),n},_createRotationCircle:function(e){var t=.012*this.googlemaps.circles.radius,n=new google.maps.Circle({strokeColor:"#DDDD00",strokeOpacity:.8,strokeWeight:2,fillColor:"#DDDD00",fillOpacity:.1,map:e,radius:t});return n}});t.exports=l},{"../../lib/shared-modules/controllers/im-base-controller":491,"../../lib/storage/dao":514,"../../lib/util":524,moment:322}],565:[function(e,t,n){var r=(e("../../lib/util"),e("../../lib/util").core),i=e("../../lib/shared-modules/controllers/im-base-controller"),o=(e("moment"),e("../../lib/storage/dao")),a=r.makeClass(i,{$inject:["$scope","imStreetviewService","imUserService","dialogs"]},{constructor:function(e,t,n,r){i.call(this,e),this.project=e.project,this.streetviewData=void 0,this._imStreetviewService=t,this._imUserService=n,this._dialogs=r,this.streetviewDataPromise=this._imStreetviewService.getStreetviewData(this.project),this.floorsPromise=o.floorTable.listFloorsForProjectAsync(this.project),this.roomsPromise=o.roomTable.findAllRoomsForProjectAsync(this.project),this.floors=[],this.rooms=[],this.projectData={},this.photosDataMap={},this.fetched=!1,this.streetviewData=void 0,this.fetchStreetViewData()},fetchStreetViewData:function(){var e={};this.streetviewDataPromise.then(function(e){return this.fetched=!0,e}.bind(this))["catch"](function(e){return console.debug("Loading cached version of images"),this.project.getStreetviewData()}.bind(this)).then(function(t){this.streetviewData=t;var n=this.streetviewData.photos||[];return n.forEach(function(t){var n=e[t.roomId]||[];n.push(t),e[t.roomId]=n}.bind(this)),this.floorsPromise}.bind(this)).then(function(e){return this.floors=e,this.floors.forEach(function(e){this.projectData[e.id]={parseObject:e,rooms:{}}}.bind(this)),this.roomsPromise}.bind(this)).then(function(t){this.rooms=t,this.rooms.forEach(function(t){
var n=t.getFloor()&&t.getFloor().id||"Unknown",r=this.projectData[n]||{parseObject:void 0,rooms:{}};r.rooms[t.id]={parseObject:t,photosData:e[t.id]},this.projectData[n]=r}.bind(this)),this.refreshGUI()}.bind(this))},onDeleteAllPhotos:function(){this._wrapConfirm({title:"Delete All Account Photos",text:"Delete all photos for this project's account?",parent:this._imStreetviewService,method:this._imStreetviewService.deleteAllPhotos})},onProjectPhotosDelete:function(){this._wrapConfirm({title:"Delete All Project Photos",text:"Delete all photos for this project?",parent:this._imStreetviewService,method:this._imStreetviewService.deleteProjectPhotos,args:[this.project]}).then(function(){this._refreshData()}.bind(this))},onProjectOrphansDelete:function(){this._wrapConfirm({title:"Delete All Project Orphan Photos",text:"Delete all orphan photos for this project?",parent:this._imStreetviewService,method:this._imStreetviewService.deleteProjectOrphans,args:[this.project]}).then(function(){this._refreshData()}.bind(this))},_refreshData:function(){this.streetviewDataPromise=this._imStreetviewService.getStreetviewData(this.project),this.fetchStreetViewData()},_wrapConfirm:function(e){return this._dialogs.confirm(e.title,e.text).result.then(function(){var t=e.method,n=e.args||[],r=e.parent;return t.apply(r,n)}.bind(this))["catch"](function(e){"no"!==e&&"escape key press"!==e&&this._dialogs.error("Project error",e.message)}.bind(this))},requiresRole:function(e){return this._imUserService.userHasRole(e)}});t.exports=a},{"../../lib/shared-modules/controllers/im-base-controller":491,"../../lib/storage/dao":514,"../../lib/util":524,moment:322}],566:[function(e,t,n){var r=e("jquery"),i=e("../../../lib/util").core,o=e("../../../lib/browser"),a=i.makeClass({},{$inject:["$scope","$sce","dialogs"]},{constructor:function(e,t,n){this.$scope=e,this.$sce=t,this._dialogs=n,this.name=null,this.email=null,this.comments=null,e.tabUG=1,this.articlesMode="IM_SCANNING",this.articlesMap={},this.userHelpArticles=[],this.getZohoArticles()},sendInfo:function(e){if(e){if(!this.name||!this.email&&!this.name)return void this._dialogs.notify("Not Enough Information","At the very least, we require a name and either an email or phone number");i.callApiAsync("POST","/api/v1/project/contactUsFormCompletion",{name:this.name,email:this.email||"",comments:this.comments||""}).then(function(e){"OK"===e?(this._dialogs.notify("Information Sent","Thank you for your interest in InsideMaps. We will get back to you shortly."),this.name=null,this.email=null,this.comments=null,o.angular.triggerUpdate()):this._dialogs.notify("Missing contact information","Please leave an email address and/or phone number so we can get back to you!")}.bind(this))}else this._dialogs.notify("Information is not valid","Information entered is missing or has incorrect format")},scrollToUserGuides:function(){this._scrollTo("im-user-guides")},scrollToFaq:function(){this._scrollTo("im-faq")},_scrollTo:function(e){var t=r("#"+e).offset().top;i.isMobileDevice()||(t-=r("#header").height()),r("html, body").animate({scrollTop:t},500)},openArticle:function(e){var t=e["Solution Title"],n=e.Answer;this._dialogs.create("article-modal-template","ArticleController as article",{title:t,body:n})},getZohoArticles:function(){var e="/api/v1/zoho/articles";i.callApiAsync("GET",e).then(function(e){this.articlesMap=e,this.userHelpArticles=this.articlesMap.IM_HELP.map(function(e){var t,n=e.Answer,r=void 0,i=new DOMParser,o=i.parseFromString(n,"text/xml");o.documentElement;if(o.documentElement&&"iframe"===o.documentElement.nodeName)t=o.documentElement;else{var a=o.documentElement.childNodes;a.forEach(function(e){t="iframe"===e.nodeName?e:t}.bind(this))}if(t){var s=t.getAttribute("src"),c=s?this.$sce.trustAsResourceUrl(s):"";r={src:c}}return{title:e["Solution Title"],subtitle:e["IM Subtitle"],iframe:r}}.bind(this)),o.angular.triggerUpdate()}.bind(this))["catch"](function(e){this.articlesMap={}}.bind(this))}});t.exports=a},{"../../../lib/browser":475,"../../../lib/util":524,jquery:304}],567:[function(e,t,n){var r=(e("jquery"),e("../../../lib/util").core),i=e("../../../lib/browser"),o=r.makeClass({},{$inject:["$scope","dialogs"]},{constructor:function(e,t){this.$scope=e,this._dialogs=t,this.firstName=null,this.lastName=null,this.email=null,this.phone=null,this.city=null,this.zipCode=null,this.comments=null},sendInfo:function(e){if(e){if(null===this.firstName||null===this.lastName||null===this.email||null===this.city)return void this._dialogs.notify("Not Enough Information","Please fill out all of the required fields.");r.callApiAsync("POST","/api/v1/project/serviceProviderFormCompletion",{firstName:this.firstName,lastName:this.lastName,email:this.email,phone:this.phone,city:this.city,zipCode:this.zipCode||"",comments:this.comments||""}).then(function(e){"OK"===e?(this._dialogs.notify("Information Sent","Thank you for your interest in InsideMaps. We will get back to you shortly."),this.firstName=null,this.lastName=null,this.email=null,this.phone=null,this.city=null,this.zipCode=null,this.comments=null,i.angular.triggerUpdate()):this._dialogs.notify("Missing contact information","Please leave an email address and/or phone number so we can get back to you!")}.bind(this))}else this._dialogs.notify("Information is not valid","Information entered is missing or has incorrect format")}});t.exports=o},{"../../../lib/browser":475,"../../../lib/util":524,jquery:304}],568:[function(e,t,n){var r=e("parse").Parse,i=e("../../../lib/util").core,o=e("../../../lib/browser"),a=e("../../../lib/storage/dao"),s=e("../../../lib/shared-modules/controllers/im-base-controller"),c=i.makeClass(s,{$inject:["$scope","$routeParams","imUserService","dialogs","$cookies"],GOOGLE_ACCOUNT_TYPE:"google",LIVE_ACCOUNT_TYPE:"live",EMAIL_REGEXP:/^.+@.+$/,MIN_PASSWORD_LENGTH:6},{IM_NODE_ERROR_COOKIE:"IM_NODE_ERROR",constructor:function(e,t,n,r,i){if(s.call(this,e),this.$routeParams=t,this.$cookies=i,this._imUserService=n,this._dialogs=r,this._operationInProgress=!1,this._operationInProgressDialog=null,this._linkedGoogleAccount=null,this._linkedLiveAccount=null,this._isUserAgent=!1,this._agent=null,this._isLoginSectionActive=!1,this._userSelectedImageUrl="",this.isVerificationEmailSent=!1,this.currentPassword="",this.newPassword="",this.confirmNewPassword="",i.get(this.IM_NODE_ERROR_COOKIE)){var o=i.get(this.IM_NODE_ERROR_COOKIE);i.remove(this.IM_NODE_ERROR_COOKIE),this._dialogs.error("Error",o)}this._init()},isLoginSectionActive:{get:function(){return this._isLoginSectionActive},set:function(e){if(this._isLoginSectionActive!==e)if(this._isLoginSectionActive=e,this._isLoginSectionActive){this._userSelectedImageUrl=null;var t=[this._imUserService.user().fetch()];this._agent&&this._agent.id&&t.push(this._agent.fetch()),Promise.all(t).then(function(){this.refreshGUI()}.bind(this))}else this.currentPassword="",this.newPassword="",this.confirmNewPassword=""}},linkedGoogleAccount:{get:function(){return this._linkedGoogleAccount}},linkedLiveAccount:{get:function(){return this._linkedLiveAccount}},firstName:{get:function(){return this._imUserService.user().getFirstName()},set:function(e){this.firstName!==e&&(this._agent&&this._agent.setFirstName(e),this._imUserService.user().setFirstName(e))}},lastName:{get:function(){return this._imUserService.user().getLastName()},set:function(e){this.lastName!==e&&(this._agent&&this._agent.setLastName(e),this._imUserService.user().setLastName(e))}},email:{get:function(){return this._imUserService.user().getEmail()},set:function(e){var t=this.email;t!==e&&(this._agent&&this._agent.getEmail()===t&&this._agent.setEmail(e),this._imUserService.user().setEmail(e))}},officePhoneNumber:{get:function(){return this._imUserService.user().getOfficePhoneNumber()},set:function(e){this.officePhoneNumber!==e&&this._imUserService.user().setOfficePhoneNumber(e)}},mobilePhoneNumber:{get:function(){return this._imUserService.user().getMobilePhoneNumber()},set:function(e){var t=this.mobilePhoneNumber;t!==e&&(this._agent&&this._agent.getPhone()===t&&this._agent.setPhone(e),this._imUserService.user().setMobilePhoneNumber(e))}},profileImageUrl:{get:function(){var e=this._imUserService.user(),t=e.getProfileImage();return t?this._userSelectedImageUrl||t.url():null}},isUserAgent:{get:function(){return this._isUserAgent},set:function(e){this._isUserAgent!==e&&(e&&!this._agent&&this._createNewAgent(),this._isUserAgent=e)}},agentLicenceNumber:{get:function(){return this._agent?this._agent.getLicenceNumber():""},set:function(e){this.licenceNumber!==e&&this._agent.setLicenceNumber(e)}},agentEmail:{get:function(){return this._agent?this._agent.getEmail():""},set:function(e){this.agentContactEmail!==e&&this._agent.setEmail(e)}},agentPhone:{get:function(){return this._agent?this._agent.getPhone():""},set:function(e){this.agentContactPhoneNumber!==e&&this._agent.setPhone(e)}},usesPasswordLogin:{get:function(){return!!this._imUserService.user().getPasswordLogin()}},isUserVerified:{get:function(){return this._imUserService.user().getEmailVerified()}},isEmailFormatValid:{get:function(){return c.EMAIL_REGEXP.test(this.email)}},isAgentEmailFormatValid:{get:function(){return 0===this.agentEmail.length||c.EMAIL_REGEXP.test(this.agentEmail)}},newPasswordsMatch:{get:function(){return this.newPassword===this.confirmNewPassword}},canSave:{get:function(){var e=!1;return e=this.isLoginSectionActive?this.newPasswordsMatch&&this.currentPassword.length>=c.MIN_PASSWORD_LENGTH&&this.newPassword.length>=c.MIN_PASSWORD_LENGTH:this.isEmailFormatValid&&(this.isAgentEmailFormatValid||!this._isUserAgent)}},isPasswordValid:function(e){return 0===e.length||e.length>=c.MIN_PASSWORD_LENGTH},linkAccount:function(e){var t=Date.now(),n=this._imUserService.user();window.location="/api/v1/user/oauth?action=link&provider="+e+"&data="+n.id+"&_"+t},resendVerificationEmail:function(){this.isVerificationEmailSent=!0,this._imUserService.revokeEmailVerification(this._imUserService.user()).then(function(){this._dialogs.notify("Verification Email Resending","Verification Email successfully sent.",{size:"md"})}.bind(this))["catch"](function(e){this._dialogs.error("Verification Email Resending Error",e)}.bind(this))},onSaveClicked:function(){var e=this.isLoginSectionActive?this._changeUserPassword():this._saveProfileData(),t=this._dialogs.wait("Please wait","Working on your request...",100,{keyboard:!1,size:"md"});e.then(function(){t.close()}.bind(this))["catch"](function(e){t.close(),this._dialogs.error("Save Error",e.message||e)}.bind(this))},onChangeProfileImageClicked:function(){o.graphics.selectFileDialog({},this._onProfileImageSelected,this,!1,"image/*")},_onProfileImageSelected:function(e){var t=new r.File(e.name,e),n=this._imUserService.user(),i=new FileReader;i.onload=function(e){this._userSelectedImageUrl=e.target.result,this.refreshGUI()}.bind(this),i.readAsDataURL(e),n.setProfileImage(t),this._agent&&this._agent.setImageFile(t)},_saveProfileData:function(){var e=[this._imUserService.user().saveAsync()];return this._isUserAgent?e.push(this._agent.saveAsync()):(this._agent&&this._agent.id&&e.push(this._agent.destroyAsync()),this._agent=null),Promise.all(e)},_createNewAgent:function(){var e=(new a.Agent,this._imUserService.user());this._agent=a.Agent.createLite({user:e,firstName:this.firstName,lastName:this.lastName,mobilePhoneNumber:this.mobilePhoneNumber,email:this.email})},_init:function(){this._refreshSocialLogin(),this._fetchAgentInfo()},_refreshSocialLogin:function(){this._imUserService.getLinkedAccounts().then(function(e){this._linkedGoogleAccount=e.filter(function(e){return e.type===c.GOOGLE_ACCOUNT_TYPE})[0],this._linkedLiveAccount=e.filter(function(e){return e.type===c.LIVE_ACCOUNT_TYPE})[0],this.refreshGUI()}.bind(this))},_fetchAgentInfo:function(){a.Agent.findAgentByUserAsync(this._imUserService.user()).then(function(e){this._agent=e}.bind(this))["catch"](function(){this._agent=null}.bind(this)).then(function(){this._isUserAgent=!!this._agent,this.refreshGUI()}.bind(this))},_changeUserPassword:function(){return this._imUserService.changePassword(this.currentPassword,this.newPassword).then(function(){this.currentPassword="",this.newPassword="",this.confirmNewPassword=""}.bind(this))}});t.exports=c},{"../../../lib/browser":475,"../../../lib/shared-modules/controllers/im-base-controller":491,"../../../lib/storage/dao":514,"../../../lib/util":524,parse:343}],569:[function(e,t,n){var r=e("../../../lib/storage/dao"),i=e("../../../lib/util"),o=(e("../../../lib/util/math"),e("../../../lib/browser")),a=e("../../../lib/shared-modules/controllers/im-base-controller"),s=i.core.makeClass(a,{$inject:["$modalInstance","$rootScope","imProgressBarService","dialogs","organization"]},{constructor:function(e,t,n,r,i){this.$rootScope=t,this.$modalInstance=e,this.organization=i,this.progressBarService=n,this.dialogsService=r,this._getTemplateFromParse(),this._selectedVideoFile=null,this._videoTemplate=null,this._addBumperAtTheEnd=!0,this._addBumperAtTheStart=!1,this._addLogoOnVideo=!1,this._addAddressRoomNameOnVideo=!1},addBumperAtEndCheckbox:{get:function(){return this._addBumperAtTheEnd},set:function(e){this._addBumperAtTheEnd=e}},addBumperAtStartCheckbox:{get:function(){return this._addBumperAtTheStart},set:function(e){this._addBumperAtTheStart=e}},addLogoOnVideoCheckbox:{get:function(){return this._addLogoOnVideo},set:function(e){this._addLogoOnVideo=e}},addAddressRoomNameOnVideoCheckbox:{get:function(){return this._addAddressRoomNameOnVideo},set:function(e){this._addAddressRoomNameOnVideo=e}},_initialize:function(e){this._videoTemplate=e,this.addBumperAtStartCheckbox=this._videoTemplate.getAddVideoBumperAtStart(),this.addBumperAtEndCheckbox=this._videoTemplate.getAddVideoBumperAtEnd(),this.addLogoOnVideoCheckbox=this._videoTemplate.getAddLogoOnVideo(),this.addAddressRoomNameOnVideoCheckbox=this._videoTemplate.getAddAddressRoomNameOnVideo()},selectVideoFile:function(){o.graphics.selectFileDialog({},function(e){this._selectedVideoFile=e}.bind(this),this,!1,"video/mp4")},_getTemplateFromParse:function(){var e=r.VideoTemplateTable.findVideoTemplateForOrganizationAsync(this.organization).then(function(e){e&&this._initialize(e)}.bind(this));this.progressBarService.progressBarWrapUp("Fetching video template...","Please wait until video template has been downloaded.",e)},saveVideoTemplate:function(){var e=[];e.push(this.saveVideoBumperDataAsync()),e.push(this._videoTemplate.saveAsync()),this.close(),this.progressBarService.progressBarWrapUp("Uploading video...","Please wait until video has been uploaded.",Promise.all(e))},saveVideoBumperDataAsync:function(){var e=[];return e.push(this.uploadVideoFileAsync()),e.push(this.setBumperParseData()),Promise.all(e)},_createNewParseVideoTemplate:function(){this._videoTemplate=new r.videoTemplate,this._videoTemplate.setAddVideoBumperAtEnd(!0),this._videoTemplate.setAddVideoBumperAtStart(!1),this._videoTemplate.setVideoBumperSet(!1),this._videoTemplate.setOrganization(this.organization),this._videoTemplate.setAddLogoOnVideo(!1),this._videoTemplate.setAddAddressRoomNameOnVideo(!1)},setBumperParseData:function(){this._videoTemplate||this._createNewParseVideoTemplate(),this._selectedVideoFile&&this._videoTemplate.setVideoBumperSet(!0),this._videoTemplate.setAddVideoBumperAtStart(this.addBumperAtStartCheckbox),this._videoTemplate.setAddVideoBumperAtEnd(this.addBumperAtEndCheckbox),this._videoTemplate.setAddLogoOnVideo(this.addLogoOnVideoCheckbox),this._videoTemplate.setAddAddressRoomNameOnVideo(this.addAddressRoomNameOnVideoCheckbox)},uploadVideoFileAsync:function(){return this._selectedVideoFile?i.core.httpPostAsync("/api/v1/organization/"+this.organization.id+"/uploadVideoBumperToS3/",{videoFile:this._selectedVideoFile})["catch"](function(){this.dialogsService.notify("Upload error","Something went wrong during upload, please try again later.",{windowClass:"im-error-dialog"})}.bind(this)):Promise.resolve()},close:function(){this.$modalInstance.close()}});t.exports=s},{"../../../lib/browser":475,"../../../lib/shared-modules/controllers/im-base-controller":491,"../../../lib/storage/dao":514,"../../../lib/util":524,"../../../lib/util/math":525}],570:[function(e,t,n){var r=e("../../../lib/util").core,i=r.makeClass({},{open:function(e,t){e.open({templateUrl:"video-template-editor",size:"lg",controller:"VideoTemplateController as videoTemplate",resolve:{organization:function(){return t}.bind(this)}})}},{});t.exports=i},{"../../../lib/util":524}],571:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("main-website/main-controllers",function(e,t,n){"use strict";var i=angular.module("insidemaps.app"),o=e("../lib/util"),a=e("../lib/browser"),s=e("jquery"),c=e("../lib/storage/dao"),l=e("../lib/storage/urls"),u=e("../lib/storage/project"),h=e("parse").Parse,d=e("../lib/util/event-manager"),f=e("path"),p=e("moment"),m=e("../lib/shared-modules/controllers/im-base-controller"),g=e("./share-project-dropdown"),v=new g,b=e("./controllers/fp-download-selector-controller");e("malihu-custom-scrollbar-plugin")(s);var y=e("../lib/analytics/website-analytics"),w=new y,_=e("./controllers/project-listing/change-agent-info-controller"),x=e("./controllers/organization-controller"),k=e("./controllers/project-notes-controller"),S=e("./controllers/streetview-upload-controller"),j=e("./controllers/streetview-view-controller"),P=e("./controllers/statistics-controller"),E=e("./controllers/projects-with-assets-controller"),A=e("./controllers/financial-dashboard-controller"),T=e("./controllers/financial-projects-controller"),C=e("./controllers/support/contact-us-controller"),M=e("./controllers/support/service-provider-form-controller"),O=e("./controllers/main-app-controller/app-controller"),I=e("./controllers/scroll-to-top-button-controller"),F=e("../lib/project-config/project-states-config"),D=e("../lib/project-config/pricing-packages-config"),L=e("./controllers/project-management-controller"),R=e("./controllers/invoice-management-controller"),N=e("./controllers/dashboards/organizations-dashboard-controller"),U=e("./controllers/dashboards/users-dashboard-controller"),$=e("./controllers/gallery-modal"),z=e("./controllers/add-languages/add-languages-controller"),B=e("./controllers/floor-plan-template-editor/floor-plan-template-editor-controller"),q=e("./controllers/video-capture-template-editor/video-template-controller");i.controller("FloorPlanTemplateEditorController",B),i.controller("VideoTemplateController",q),i.controller("AddLanguagesController",z),i.controller("ScrollToTopButtonController",I),i.controller("FPDownloadSelectorController",b),i.controller("AppController",O),i.controller("ProjectManagementController",L),i.controller("InvoiceManagementController",R),i.controller("OrganizationsDashboardController",N),i.controller("UsersDashboardController",U),i.directive("imSlideshow",["$window",function(e){return{restrict:"E",link:function(e,t,n){e.init=function(t){e.images=t,e.modal=new $({images:t})},e.lazyInit=function(t){!e.images&&t&&e.init(t)},n.images&&e.init(JSON.parse(n.images)),e.viewImage=function(t){e.modal.open(t)},e.viewImageFromPreview=function(t,n){e.lazyInit(n);var r=t.target.attributes.src.value;if(r)for(var i in e.images)if(e.images[i].previewURL==r){e.images[i].url&&e.viewImage(i);break}}}}}]),i.controller("PaymentController",o.core.makeClass(m,{$inject:["$scope","$modalInstance","project","imUserService","imPaymentService","dialogs"]},{constructor:function(e,t,n,r,i,a){m.call(this,e),this.$modalInstance=t,this._imUserService=r,this._imPaymentService=i,this._dialogs=a,this.project=n,this.user=this._imUserService.user(),this.payment=null,this.paymentData="Loading payment details...",this.stripePublicKey=o.core.getPublicStripeConfig().publicKey,this.stripeChargeRoute="/api/v1/payment/stripePaymentCharge?env="+o.params.getEnvironmentName(),this._imPaymentService.getPaymentDetails(n.id).then(function(e){this.payment=e,this.paymentData=this.payment.data,this.refreshGUI()}.bind(this))},purchasePayPal:function(){this._imPaymentService.purchasePayPal(this.project.id).then(function(e){e?window.location.href=e:(this._dialogs.error("PayPal payment error",jsonResp.error),this.close())}.bind(this))["catch"](function(e){}.bind(this))},getPriceForStripe:function(){return 100*this.project.getPriceTwoDigits()},isProjectFinished:function(){return"finished"===this.project.getStatus()},close:function(){this.$modalInstance.close()}})),i.controller("ShareController",o.core.makeClass({},{$inject:["$scope","$location"],_FACEBOOK_APP_ID:"165904553874571",_EMBED_HEIGHT:"560px",_EMBED_WIDTH:"720px"},{constructor:function(e,t){this.$scope=e,this.$location=t,this.project=e.project,this.copyButtonText="COPY",this.initializeFacebookSdk(),this.shareURL=this.$location.absUrl(),this.dropdown=!1,this.buttons=s(".share-buttons button"),this.shareLists={allLists:s(".share-list"),embed:s('.share-list[data-share="embed"]'),link:s('.share-list[data-share="link"]'),fb:s('.share-list[data-share="fb"]'),tw:s('.share-list[data-share="tw"]')}},initializeFacebookSdk:function(){var e=this._FACEBOOK_APP_ID;window.fbAsyncInit=function(){FB.init({appId:e,xfbml:!0,version:"v2.8"}),FB.AppEvents.logPageView()}.bind(this),function(e,t,n){var r,i=e.getElementsByTagName(t)[0];e.getElementById(n)||(r=e.createElement(t),r.id=n,r.src="//connect.facebook.net/en_US/sdk.js",i.parentNode.insertBefore(r,i))}(document,"script","facebook-jssdk")},toggleDropdown:function(e,t){this.buttons.removeClass("selected"),this.shareLists.allLists.hide(),s(e.target).addClass("selected"),this.dropdown===t?this.dropdown=!1:this.dropdown=t,this.dropdown&&this.shareLists[t].show()},has3dModel:function(){return this.project.getPro()},copy:function(e,t){var n=document.createElement("textarea");n.value=t,document.body.appendChild(n),n.select();var r=s(e.toElement),i=r.text();try{var o=document.execCommand("copy")}catch(c){}document.body.removeChild(n),o&&(r.text("COPIED!").addClass("copied"),setTimeout(function(){r.text(i).removeClass("copied"),a.angular.triggerUpdate()}.bind(this),2e3))},get3dModelRoute:function(){return"/app/3dmodel"},getWalkthroughRoute:function(){return"/app/walkthrough"},getListingRoute:function(e){return f.join("/project",e,"listing")},makeLink:function(e,t,n){var r="";switch(n){case"walkthrough":case"3dmodel":r=window.location.origin+e+(t?"/embedded":"")+"/?projectId="+this.project.id+"&env="+o.params.getEnvironmentName();break;case"hybridWalkthrough":r=window.location.origin+e+(t?"/embedded":"")+"/?projectId="+this.project.id+"&env="+o.params.getEnvironmentName()+"&hybrid=true";break;case"listing":r=window.location.origin+e+"?env="+o.params.getEnvironmentName()}return(this.project.isUnbranded()||window.location.href.indexOf("unbranded")>-1)&&(window.location.href.indexOf("https://www.insidemaps.com")>-1?r.replace("www","unbranded"):r+="&unbranded"),r},getIframe:function(e){e='src="'+e+'"';var t='height="'+this._EMBED_HEIGHT+'"',n='width="'+this._EMBED_WIDTH+'"',r="allowfullscreen",i="<iframe "+e+" "+t+" "+n+" "+r+" />";return i},get3dModelLink:function(){return this.makeLink(this.get3dModelRoute(),!1,"3dmodel")},get3dModelEmbedLink:function(){return this.getIframe(this.makeLink(this.get3dModelRoute(),!0,"3dmodel"))},getWalkthroughLink:function(){return this.makeLink(this.getWalkthroughRoute(),!1,"walkthrough")},getHybridWalkthroughLink:function(){return this.makeLink(this.getWalkthroughRoute(),!1,"hybridWalkthrough")},getHybridWalkthroughEmbedLink:function(){return this.makeLink(this.getWalkthroughRoute(),!0,"hybridWalkthrough")},getWalkthroughEmbedLink:function(){return this.getIframe(this.makeLink(this.getWalkthroughRoute(),!0,"walkthrough"))},getListingLink:function(){return this.makeLink(this.getListingRoute(this.project.id),!1,"listing")},fbShare3dModel:function(){this.fbShare(this.get3dModelLink())},fbShareWalkthrough:function(){this.fbShare(this.getWalkthroughLink())},fbShareListing:function(){this.fbShare(this.getListingLink())},fbShare:function(e){FB.ui({method:"feed",link:e},function(e){})},twShare3dModel:function(){var e=this.twShare(this.get3dModelLink());window.open(e,"_blank")},twShareWalkthrough:function(){var e=this.twShare(this.getWalkthroughLink());window.open(e,"_blank")},twShareListing:function(){var e=this.twShare(this.getListingLink());window.open(e,"_blank")},twShare:function(e){var t="https://www.twitter.com/intent/tweet?";e="url="+escape(e);var n="production"===o.params.getEnvironmentName()?"via=Inside_Maps":"via=Inside_Maps_Demo",r=t+"&"+e+"&"+n;return r}})),i.controller("ExpandedDetailsController",o.core.makeClass(m,{$inject:["$scope","$modalInstance","$interval","project"]},{constructor:function(e,t,n,r){this.$scope=e,this.$modalInstance=t,this.$interval=n,this.project=r,this.userEmail=this.project.getUser().getEmail(),this.detailedStatus=this.project.getDetailedStatus()||{},this.rooms={all:[],submitted:[],ready:[],processing:[],measured:[],spins:0},c.roomTable.findAllRoomsForProjectAsync(this.project).then(function(e){this.refreshRoomData(e)}.bind(this)),this.updateInterval=setInterval(function(){console.log("interval called"),this.project.fetchAsync().then(function(e){this.project=e,this.detailedStatus=this.project.getDetailedStatus()||{},a.angular.triggerUpdate()}.bind(this))}.bind(this),3e4)},refreshRoomData:function(e){this.rooms.all=e,this.rooms.submitted=e.filter(function(e){return e.getSubmitted()}.bind(this)),this.rooms.ready=e.filter(function(e){return e.getReady()}.bind(this)),this.rooms.processing=e.filter(function(e){return!e.getReady()&&e.getSubmitted()}.bind(this)),this.rooms.measured=e.filter(function(e){return 3===e.getVersionCode()}.bind(this)),this.rooms.spins=0,this.rooms.submitted.forEach(function(e){var t=e.getCaptureSessions();t&&t.forEach(function(e){this.rooms.spins+=e.spinsCaptured||0}.bind(this))}.bind(this)),this.refreshGUI()},close:function(){clearInterval(this.updateInterval),this.$modalInstance.close()}})),i.controller("RecentProjectController",o.core.makeClass(m,{$inject:["$scope","$modal","$location","imUserService","imProjectService","imPaymentService","dialogs","imPromptModalService"]},{constructor:function(e,t,n,r,i,s,l,u){m.call(this,e),this.$modal=t,this.$location=n,this._imUserService=r,this._imProjectService=i,this._imPaymentService=s,this.imPromptModalService=u,this._dialogs=l,this.projects=[],this.projectLimit=100,this.orderByField="-createdAt",this.isSearching=!1,this.metrics={operatorAssignedCount:0,readyCount:0},this.operator=this.$scope.onlyAssignedProjects?this.$scope.user:null,this.filter="",this.projectStatusConstraints=this.$scope.onlyAssignedProjects?F.getStatesRange("ready","operator_assigned"):F.getStatesRange("defined","finished"),this.priorities=[{name:"high",value:c.projectTable.PRIORITIES.high},{name:"standard",value:c.projectTable.PRIORITIES.standard},{name:"ignore",value:c.projectTable.PRIORITIES.ignore}],this.productOptions=D.PACKAGES,this.loggedInUser={objectId:this._imUserService.user().id,email:this._imUserService.user().attributes.email,user:this._imUserService.user()},this.noOperator={email:"No Operator"},this.getProjects(),setInterval(function(){console.log("Fetching projects again"),this.metrics.operatorAssignedCount=0,this.metrics.readyCount=0,this.getProjects()}.bind(this),3e4),this.operatorList=[],this.$scope.onlyAssignedProjects||o.core.callApiAsync("GET","/api/v1/project/operatorList",{}).then(function(e){this.operatorList=e,this.operatorList.unshift(this.noOperator),"operator"!==this.loggedInUser.user.getOperatorRole()&&this.operatorList.unshift(this.loggedInUser),a.angular.triggerUpdate()}.bind(this)),this.searchCriterias=["id","name","address","userEmail","status"],setTimeout(function(){this.searchCriteria="name",a.angular.triggerUpdate()}.bind(this),1e3)},expandDetails:function(e){this.$modal.open({templateUrl:"expanded-details",controller:"ExpandedDetailsController as details",scope:this.$scope,size:"md",resolve:{project:function(){return e}}})},getRoomStatus:function(e){var t=e.getDetailedStatus()||{},n="";return t.RoomsSubmitted?(n=t.RoomsDone||"0",n+="/"+t.RoomsSubmitted):"N/A"},getProjects:function(){var e=this,t={};this.searchString&&(t[this.searchCriteria]=this.searchString,this.isSearching=!0),c.projectTable.getRecentProjectsAsync(this.projectLimit,0,this.loggedInUser.objectId,this.projectStatusConstraints,this.filter,t,void 0,!1,!0).then(function(t){e.projects=[],t.forEach(function(t){t.status=t.getStatus(),t.detailedStatus=t.getDetailedStatus()||{},t.priority={value:t.getPriority(),name:Object.keys(c.projectTable.PRIORITIES).find(function(e){return c.projectTable.PRIORITIES[e]===t.getPriority()})},t.action="donothing",t.truncatedId=t.id,t.truncatedName=t.getName()?t.getName():"N/A",t.assignedOp=t.getOperator()?t.getOperator():{},t.assignedOp.objectId=t.assignedOp.id,t.product=e.generateProductString(t),t.organization=e.generateUserOrg(t),t.submittedAt=t.detailedStatus.SubmittedAt||1e25,t.timeSinceSubmission=e.calculateTimeSinceSubmission(t.detailedStatus.SubmittedAt),t.overrideStatus=e.getOverrideStatus(t,t.detailedStatus),t.productType=e.buildTypeString(t.getDesiredProduct()),t.vip=t.isVIP()&&"finished"!==t.getStatus()?1:2,"Ignore"!==t.priority&&(e.projects.push(t),"operator_assigned"===t.status?e.metrics.operatorAssignedCount++:"ready"===t.status&&e.metrics.readyCount++)}.bind(this)),e.isSearching=!1,this.refreshGUI()}.bind(this))},getOverrideStatus:function(e,t){var n,r=e.getStatus();return"active"===r?(t.RoomsSubmitted=t.RoomsSubmitted||0,t.RoomsDone=t.RoomsDone||0,n=e.getOperator()?"operator_assigned":t.RoomsSubmitted<=t.RoomsDone&&e.isLocked()?"ready":e.isLocked()?"submitted":"defined"):n=r,e.getClone()?"cloned-"+n:n},generateAlternatePriority:function(e){return"Standard"===e?"Urgent":"Standard"},generateProductString:function(e){var t=D.getPricingPackageForProject(e);t?t.name:"Unknown";return t},projectProductChanged:function(e){var t=e.product;D.setPricingPackageForProject(e,t),this._imProjectService.saveProjectAsync(e)},projectPriorityChanged:function(e){e.setPriority(e.priority.value),e.save(),e.priority.value===c.projectTable.PRIORITIES.ignore&&this.projects.splice(this.projects.indexOf(e),1)},executeAction:function(e){this.$location.host();switch(e.action){case"donothing":console.log("Do nothing action");break;case"checkout":console.log("Checkout action"),this.changeOperator(e);break;case"takeover":console.log("Take over action"),this.changeOperator(e);break;case"paid":console.log("Mark as paid action"),this.markProjectPaid(e,!0);break;case"unpaid":console.log("Mark as unpaid action"),this.markProjectPaid(e,!1);break;case"public":console.log("Mark as public action"),this.makeProjectPublic(e,!0);break;case"private":console.log("Mark as not public action"),this.makeProjectPublic(e,!1);break;case"conversation":console.log("Project conversation action"),window.location.href="/operator/projectConversation.php?projectItemName="+e.id;break;case"log":console.log("Project log action"),this.$location.url("/projectLog/"+e.id);break;case"release":console.log("Release action"),this.changeOperator(e,!0);break;case"setprice":console.log("Set Price Action"),this.setPrice(e);break;case"returntoactive":console.log("Return To Active Action"),this.returnToActive(e)}e.action="donothing",a.angular.triggerUpdate()},generateUserOrg:function(e){return this._imProjectService.getOrganizationName(e)||"Unknown"},getProjectOperatorEmail:function(e){var t=e.assignedOp,n=t&&t.attributes?t.attributes.email:"";return n},isMyProject:function(e){var t=e.getOperator();return t&&this.loggedInUser&&t.id===this.loggedInUser.objectId},changeOperator:function(e,t){e.assignedOp=t?this.noOperator:this.loggedInUser,this.assignOperator(e)},calculateTimeSinceSubmission:function(e){if(!e)return"N/A";var t=Date.now()-e,n=Math.floor(t/1e3/60),r=Math.floor(n/60);return r<1?n+"m":r+"h"},buildTypeString:function(e){if(!e)return"2D";var t="2D";return e.customModel&&(t+="/3D"),e.panoTour&&(t+="/VT"),t},assignOperator:function(e){var t=e.assignedOp.email!==this.noOperator?e.assignedOp.email:void 0;
this._imProjectService.assignProjectOperator(e,t).then(function(t){return e.fetchAsync()}.bind(this)).then(function(){this.refreshGUI()}.bind(this))["catch"](function(e){})},isFinished:function(e){var t=c.projectTable.PROJECT_STATUS.FINISHED,n=e.getStatus();return n===t},setPrice:function(e){this._imProjectService.setPrice(e)},markProjectPaid:function(e,t){e&&this._imPaymentService.markPaid(e,t).then(function(t){return e.fetchAsync()}.bind(this)).then(function(e){this.refreshGUI()}.bind(this))["catch"](function(e){}.bind(this))},makeProjectPublic:function(e,t){e&&this._imProjectService.makePublic(e,t).then(function(t){return e.fetchAsync()}.bind(this)).then(function(e){this.refreshGUI()}.bind(this))["catch"](function(e){}.bind(this))},isProjectPublic:function(e){return e&&e.getACL()&&e.getACL().getPublicReadAccess()},getFilteredProjects:function(){return this.getProjects(this.filter)},showMore:function(){this.projectLimit+=100,this.getProjects()},returnToActive:function(e){var t,n=e.assignedOp.email!==this.noOperator,r=c.projectTable.PROJECT_STATUS.OPERATOR_ASSIGNED;return t=n?r:defined,this._imProjectService.setStatus(e.id,t).then(function(){e.fetch().then(function(){a.angular.triggerUpdate()}.bind(this))}.bind(this))["catch"](function(e){this._dialogs.error()}.bind(this))}})),i.controller("ModelerDashboardController",o.core.makeClass(m,{$inject:["$scope","$modal","$location","imUserService","imProjectService","dialogs","imPromptModalService"]},{constructor:function(e,t,n,r,i,o,a){m.call(this,e),this.$modal=t,this.$location=n,this._imUserService=r,this._imProjectService=i,this._imPromptModalService=a,this._dialogs=o,this.wrappedProjects=[],this.modeler={modelers:[],supervisors:[],all:[]},this.orderBy={"default":"modelerReadyAt",current:void 0,descending:!0},this.searchParams={descending:[],ascending:[],page:0,pageSize:48,containedIn:{status:F.getStatesRange("ready_for_modelers","finished")},includes:["user","modeler","organization"],equals:{"desiredProduct.customModel":!0}},this.reorderProjects(this.orderBy["default"]),this.getModelers()},refreshProjects:function(){this._imProjectService.listNonDeletedProjects(this.searchParams).then(function(e){this.wrappedProjects=e.map(function(e){return this._createWrappedProject(e)}.bind(this))}.bind(this))},getModelers:function(){c.roleTable.listChildUsersForRoles(["Modeler","ModelerSupervisor"]).then(function(e){this.modeler.modelers=e[0]||[],this.modeler.supervisors=e[1]||[],this.modeler.all=this.modeler.modelers.concat(this.modeler.supervisors),this.refreshGUI()}.bind(this))},hasWriteAccess:function(e){return this._imUserService.hasWriteAccess(e)},reorderProjects:function(e){this.searchParams.descending=[],this.searchParams.ascending=[],this.orderBy.descending=this.orderBy.current!==e||!this.orderBy.descending,this.orderBy.current=e;var t=this.orderBy.descending?this.searchParams.descending:this.searchParams.ascending;t.push(this.orderBy.current),this.orderBy.current!==this.orderBy["default"]&&this.searchParams.descending.push(this.orderBy["default"]),this.refreshProjects()},setCurrentPage:function(e){this.searchParams.page=e,this.refreshProjects()},assignModeler:function(e,t){var n=e.parseObject,r=e.modeler,i=r?r.getEmail():void 0;e.updating=!0,this._imProjectService.assignProjectModeler(n.id,i).then(function(e){this._updateWrappedProjectAtIndex(e,t)}.bind(this))["catch"](function(e){this._updateWrappedProjectAtIndex(n,t)}.bind(this))},_createWrappedProject:function(e){return{parseObject:e,modeler:e.getModeler(),modelerReadyAt:this._calculateTime(new Date(e.getModelerReadyAt())),organization:this._getProjectOrganization(e),updating:!1,priority:e.get("detailedStatus")&&e.get("detailedStatus").Priority?e.get("detailedStatus").Priority:"Standard"}},_updateWrappedProjectAtIndex:function(e,t){this.wrappedProjects[t]=this._createWrappedProject(e),this.refreshGUI()},_getProjectOrganization:function(e){return this._imProjectService.getOrganizationName(e)||"Unknown"},_calculateTime:function(e){return e&&e instanceof Date&&isFinite(e)?p(e).fromNow():"no"}})),i.controller("FPLabelEditorDialogController",o.core.makeClass({},{$inject:["$scope","$modalInstance","floors"]},{constructor:function(e,t,n){this.$scope=e,this.$modalInstance=t,this.floors=n,this.selectedFloorId=n[0].id},close:function(){this.$modalInstance.close()}})),i.controller("NewProjectController",o.core.makeClass({},{$inject:["$scope","$q","imUserService"]},{constructor:function(e,t,n){this.user=n.user(),this.originalBucket="im-"+o.params.getEnvironmentName(),this.submitButtonText="Next",this.name="",this.address="",this.city="",this.state="",this["public"]=!0,this.isTestProject=!1,this.noPhotos=!1},addVirtuanceEmailIfNeeded:function(e){this.user.getUsername().indexOf("virtuance.com")>-1&&e.setAlternateEmail("info@virtuance.com")},createProject:function(){return this.createProjectAsync().then(function(e){this.project=e;var t="users/"+this.user.id+"/projects/"+this.project.id+"/";this.project.setPhotoPath(t),this.isTestProject&&this.project.setCategory("test"),this.noPhotos&&(this.project.setStatus("active"),this.project.setLocked(!0));var n={RoomsSubmitted:0,RoomsProcessed:0,RoomsProcessing:0,RoomsUploading:0};return this.project.setDetailedStatus(n),this.addVirtuanceEmailIfNeeded(this.project),this.project.saveAsync()}.bind(this)).then(function(){return console.log("project created successfully"),c.projectLogTable.createLogEntry(this.project,this.user,"Project Created","Initial project creation",this.user.getUsername()).saveAsync()}.bind(this)).then(function(){window.location.replace("/project/"+this.project.id)}.bind(this))},createMobileProjectAsync:function(){return this.createProjectAsync().then(function(e){this.project=e,console.log("Mobile project created successfully"),c.projectLogTable.createLogEntry(this.project,this.user,"Mobile Project Created","Initial project creation",this.user.getUsername()).saveAsync()}.bind(this))},createProjectAsync:function(){return this.created=!0,this.submitButtonText="Processing...",c.projectTable.createProjectAsync(this.user,this.name,this.address,this.city,this.state,this["public"],this.originalBucket).then(function(e){return this.project=e,e}.bind(this))}}));var V=o.core.makeClass(d,{$inject:["$scope","$routeParams","$q","$location","$modal","$sce","dialogs","imUserService","project","imUrlService"],EVENT_PROJECT_RELOADED:"EventProjectReloaded",EVENT_ADDRESS_CHANGED:"EventAddressChanged",PROJECT_INFO_CHANGED_URL:"api/v1/project/notifyProjectInfoChanged"},{constructor:function(e,t,n,r,i,a,s,c,l,f){d.call(this),this.$scope=e,this.$location=r,this.$modal=i,this.$sce=a,this.dialogs=s,e.util=o,this.localProject=new u,this.id=t.projectId,this.projectId=t.projectId,this.project=e.parseProject,this.floors=[],this.name="",this.address="",this._street="",this._city="",this._state="",this._zip="",this._country="",this.status="",this.latitude="",this.longitude="",this.nameCopy="",this.cityCopy="",this.addressCopy="",this.stateCopy="",this.thumbnailURL="",this.virtualTourURL="",this.panoTourUrl="",this.listingURL="",this.autoAwesomeDownloadLink="",this._imUserService=c,this._imUrlService=f,this.user=c.user(),this.geoLocation=new h.GeoPoint,this.reloadProject(this.projectId),this.isLocationUpdated=!1,this.singlePageUrl="",console.log(e.project.floors,this.projectId)},isIphoneProject:{get:function(){return this.project&&this.project.getPanoProject()}},isPaid:{get:function(){return!(!this.project||!this.project.getPayment())}},isUserOwner:{get:function(){return this._imUserService.hasWriteAccess(this.project)}},street:{get:function(){return this._street},set:function(e){this._street!==e&&(this._street=e,this.trigger(V.EVENT_ADDRESS_CHANGED))}},city:{get:function(){return this._city},set:function(e){this._city!==e&&(this._city=e,this.trigger(V.EVENT_ADDRESS_CHANGED))}},state:{get:function(){return this._state},set:function(e){this._state!==e&&(this._state=e,this.trigger(V.EVENT_ADDRESS_CHANGED))}},zip:{get:function(){return this._zip},set:function(e){this._zip!==e&&(this._zip=e,this.trigger(V.EVENT_ADDRESS_CHANGED))}},country:{get:function(){return this._country},set:function(e){this._country!==e&&(this._country=e,this.trigger(V.EVENT_ADDRESS_CHANGED))}},showPayModal:function(){var e=this;this.$modal.open({templateUrl:"pay-modal-template",controller:"PaymentController as payment",scope:e.$scope,size:"md",resolve:{project:function(){return e.project}}})},hasWriteAccess:function(){return this._imUserService.hasWriteAccess(this.project)},isSupervisor:function(){return this._imUserService.userHasRole("Supervisor")},deleteVideo:function(e){var t=f.join(this.localProject.getVideoFilePath(),e.name),n="api/v1/project/deleteVideo",r={s3Path:t,videoName:e.name,projectId:this.project.id},i=confirm("Are you sure you want to delete this video?");i&&o.core.callApiAsync("POST",n,r).then(function(){this.dialogs.notify("Video deleted","Video "+e.name+" successfully deleted"),this.videos.splice(this.videos.indexOf(e),1),a.angular.triggerUpdate()}.bind(this))["catch"](function(e){this.dialogs.notify("Error while deleting video",e.message||e),a.angular.triggerUpdate()}.bind(this))},displayPhotoUpload:function(){return"finished"!==this.projectStatus},isFinished:function(){return"finished"===this.projectStatus},resetForm:function(){this.reloadProject(this.projectId)},updateProject:function(){var e=this,t=this.project.getName(),n=this.name;this.project.set("name",this.name),this.project.set("street",this.street),this.project.set("city",this.city),this.project.set("state",this.state),this.project.set("zip",this.zip),this.project.set("country",this.country),this.project.set("geoLocation",this.geoLocation),this.project.saveAsync().then(function(e){return o.core.callApiAsync("POST",V.PROJECT_INFO_CHANGED_URL,{type:c.projectTable.INFO_CHANGE_TYPE.RENAMING,projectId:this.project.id,name:t,newName:n})}.bind(this)).then(function(){e.copyData(),e.address=angular.copy(e.project.getAddress()),a.angular.triggerUpdate(""),console.log("Project updated successfully"),e.isLocationUpdated=!1}.bind(this))["catch"](function(e){console.error(e)}.bind(this))},operatorUpdate:function(){console.debug("Operator Update has been called"),this.project.set("proModel",this.proModel),this.project.set("loadMessage",this.loadMessage),this.project.set("infoMessage",this.infoMessage),this.project.set("fancyName",this.fancyName),this.project.saveAsync()},copyData:function(){this.nameCopy=angular.copy(this.name),this.cityCopy=angular.copy(this.city),this.addressCopy=angular.copy(this.address),this.streetCopy=angular.copy(this.street),this.stateCopy=angular.copy(this.state),this.agentEmailCopy=angular.copy(this.agentEmail)},addDeleteMarker:function(){var e=this;this.project.set("deleteMarker",!0),this.project.saveAsync().then(function(){e.$location.path("/dashboard"),a.angular.triggerUpdate()})},reloadProject:function(e){return c.projectTable.findProjectAsync(e,["agent"]).then(function(e){if(this.project=e,e.fetch(),v.init(e),this.localProject.fromParseProject(this.project),this.name=e.getName(),this.address=e.getAddress(),this.status=e.getStatus(),this.street=e.getStreet(),this.city=e.getCity(),this.state=e.getState(),this.zip=e.getZip(),this.country=e.getCountry(),this.proModel=e.getPro(),e.getAgent())this.agent=e.getAgent(),this.projectAgentEmail=e.getAgent().getEmail();else{var t=new h.Query(c.AgentEmail);t.equalTo("projectId",e.id),t.equalTo("projectPrefix",c.DATABASE_TABLE_PREFIX),t.first().then(function(e){e&&(this.agentEmail=e.getEmail(),this.agentEmailCopy=angular.copy(this.agentEmail))})}var n={projectId:this.project.id,env:o.params.getEnvironmentName()};this.virtualTourURL=this._imUrlService.getUrl("3dmodel",n),this.panoTourUrl=this._imUrlService.getUrl("walkthrough",n),this.listingURL="/project/"+this.project.id+"/listing";var r=e.getWalkthroughVideos()||[];return this.videos=this.generateUrlsForVideo(r),this.proModel=e.getPro(),this.fancyName=e.getFancy(),this.infoMessage=e.getInfoMessage(),this.loadMessage=e.getLoadMessage(),this.latitude=e.getLat(),this.longitude=e.getLon(),this.projectStatus=e.getStatus(),this.copyData(),this.hasAutoAwesomePhotos=e.getRealEstatePhotosBoolean(),this.geoLocation=e.getGeoLocation()||new h.GeoPoint,this.autoAwesomeDownloadLink=this.generateAutoAwesomeLink(this.project),this.thumbnailURL="finished"===e.getStatus()&&e.getPanoProject()?this.getSplashImageURL():e.getThumb(),this.generateSinglePageFloorplanJpegUrl(),c.floorTable.listFloorsForProjectAsync(e)}.bind(this)).then(function(e){return this.floors=e,this.trigger(V.EVENT_PROJECT_RELOADED),a.angular.triggerUpdate(),this.project}.bind(this))},showFPDownloadSelector:function(e){var t=this;this.$modal.open({templateUrl:"download-floorplan-template",controller:"FPDownloadSelectorController as fpDownloader",scope:this.$scope,size:"md",resolve:{project:function(){return t.project}}})},getSplashImageURL:function(){var e=l.getUrlForPath(f.join(this.localProject.getSplashPhotoPath(),"SplashImage.jpg"),{},!0);return e},generateUrlsForVideo:function(e){var t=this,n=e.map(function(e){if("string"==typeof e){var n=l.getUrlForPath(f.join(t.localProject.getVideoFilePath(),e),{},!0);e={url:n,name:e}}else console.log("generateUrlsForVideo -> url is not string but "+typeof e);return e});return n||[]},generateAutoAwesomeLink:function(e){var t="";return t="/api/v1/panorama/downloadHeroShots?projectId="+e.id+"&env="+o.params.getEnvironmentName()},showFloorplanEmailer:function(){var e=this;this.$modal.open({templateUrl:"sendFloorplanEmailTemplate",controller:"SendFloorplanController as floorplanEmailer",scope:this.$scope,size:"md",resolve:{project:function(){return e.project}}})},showVideoUploader:function(){var e=this;this.$modal.open({templateUrl:"video-uploader",controller:"VideoUploadController as videoUploader",scope:this.$scope,size:"md",resolve:{project:function(){return e.project}}})},showSinglePageFloorplanUploader:function(){var e=this;this.$modal.open({templateUrl:"single-page-floorplan-uploader",controller:"FloorplanUploadController as floorplanUploader",scope:this.$scope,size:"md",resolve:{project:function(){return e.project}}})},showEmbedInfo:function(){var e=this;this.$modal.open({templateUrl:"project-embed-info",controller:"EmbedInfoController as embedInfo",scope:this.$scope,size:"md",resolve:{project:function(){return e.project}}})},trustSrc:function(e){return this.$sce.trustAsResourceUrl(e)},generateSinglePageFloorplanJpegUrl:function(){if("undefined"!=typeof this.project){var e=this,t="/api/v1/photoUploader/getSinglePagePhotoUrl/user/"+this.project.getUser().id+"/project/"+this.project.id;o.core.callApiAsync("GET",t).then(function(t){e.singlePageUrl=t,a.angular.triggerUpdate()})["catch"](function(t){e.singlePageUrl="images/image-not-available.jpg",a.angular.triggerUpdate()})}},markOld:function(){var e=confirm("Are you sure you want to mark this project as old?");if(e){var t="/api/v1/photoUploader/markProjectOld",n={userId:this.project.getUser().id,projectId:this.project.id};o.core.callApiAsync("POST",t,n).then(function(e){e?this.dialogs.notify("Mark as Old","Project successfully marked as old"):this.dialogs.notify("Mark as Old","Project cannot be marked as old beacuse it has floorplan preview image")}.bind(this))["catch"](function(e){this.dialogs.notify("Mark as Old","Error while marking project as old "+e.message)}.bind(this))}}});i.controller("ProjectController",V),i.controller("VideoUploadController",o.core.makeClass({},{$inject:["$scope","$routeParams","$modalInstance","project"]},{constructor:function(e,t,n,r){this.$scope=e,this.$modalInstance=n,this.$routeParams=t,this.project=r,this.videoFiles=[],this.selectedFiles=""},addVideoFiles:function(){var e=this;a.graphics.selectFileDialog({},function(t){for(var n in t)"object"==typeof t[n]&&(e.selectedFiles+=t[n].name+", ",e.videoFiles.push(t[n]));e.videoFiles.length>0&&(e.filesAdded=!0),a.angular.triggerUpdate()},this)},uploadVideoFiles:function(){this.uploading=!0;var e=this,t="/api/v1/project/uploadVideoFilesToServer/",n=this.project.getWalkthroughVideos()||[];this.videoFiles.forEach(function(e){for(var t=0;t<n.length;t++)if(n[t]===e.name)return;n.push(e.name)}),this.project.setWalkthroughVideos(n),o.core.httpPostAsync(t+this.project.id,{files:this.videoFiles,env:o.params.getEnvironmentName()}).then(function(t){e.close(),e.project.saveAsync()})},close:function(){this.$modalInstance.close()}})),i.controller("FloorplanUploadController",o.core.makeClass({},{$inject:["$scope","$routeParams","$modalInstance","project"]},{constructor:function(e,t,n,r){this.$scope=e,this.$modalInstance=n,this.$routeParams=t,this.project=r,this.resetSelection()},resetSelection:function(){this.floorplanFile=void 0,this.floorplanFileName=""},addFloorplanFiles:function(){var e=this;this.resetSelection(),a.graphics.selectFileDialog({},function(t){console.log(t),"object"==typeof t&&(e.floorplanFileName=t.name,e.floorplanFile=t),"undefined"!=typeof e.floorplanFile&&(e.fileSelected=!0),a.angular.triggerUpdate()},this,!1,"image/*")},uploadFloorplanFile:function(){this.uploading=!0;var e=this;if(this.project){var e=this,t="/api/v1/photoUploader/checkSinglePagePhotoUrl/user/"+this.project.getUser().id+"/project/"+this.project.id;o.core.httpGetAsync(t).then(function(t){console.log(t);var n=JSON.parse(t),r=n.response,i=!1;if(r)var i=confirm("This project already has a single page floorplan image uploaded. Are you sure you want to overwrite it?");if(!r||i){var a="/api/v1/project/uploadSinglePageFloorPlanJpeg/"+e.project.id;o.core.httpPostAsync(a,{file:e.floorplanFile}).then(function(t){e.close(),e.project.saveAsync()},function(e){console.log("Upload singlePage jpeg failed.")})}else e.close()},function(e){console.log("S3 httpGetAsync error. "+e)})}},close:function(){this.$modalInstance.close()}})),i.controller("EmbedInfoController",o.core.makeClass({},{$inject:["$scope","$routeParams","$modalInstance","project","imUrlService"]},{constructor:function(e,t,n,r,i){this.$scope=e,this.$modalInstance=n,this.project=r,this._imUrlService=i,this.iframeCode3DModel=null,this.iframeCodeTour=null,this.staticImageUrl="",this.generateEmbedCode()},generateEmbedCode:function(){var e=(this.project.getFancy(),this.project.getPro()),t=this.project.getPanoProject(),n={projectId:this.project.id,env:"production"};e&&(this.staticImageUrl=this._imUrlService.getCompleteUrl("3dmodelEmbedded",n),this.iframeCode3DModel=this._imUrlService.getIFrame(this.staticImageUrl)),t&&(this.staticImageUrlTour=this._imUrlService.getCompleteUrl("walkthroughEmbedded",n),this.iframeCodeTour=this._imUrlService.getIFrame(this.staticImageUrlTour))},close:function(){this.$modalInstance.close()}})),i.controller("SendFloorplanController",o.core.makeClass({},{$inject:["$scope","$routeParams","$modalInstance","project"]},{constructor:function(e,t,n,r){this.project=r,this.emailAddress="",this.sendButton="Send",this.$modalInstance=n,this.notValidEmail=!1},sendFloorplanEmail:function(e){var t=this;if(!o.core.checkEmailAddress(e))return this.notValidEmail=!0,void a.angular.triggerUpdate();this.notValidEmail=!1,a.angular.triggerUpdate();var n="/v2/api/project/sendFloorplanEmail?emailAddress="+e+"&projectId="+this.project.id+"&env="+o.params.getEnvironmentName()+"&projectName="+this.project.getName();this.sendButton="Sending...",o.core.callApiAsync("POST",n,{}).then(function(e){t.sendButton="Sent!",t.close()})},close:function(){this.$modalInstance.close()}})),i.controller("ProjectLogController",o.core.makeClass({},{$inject:["$scope","$routeParams","projectLogService"]},{constructor:function(e,t,n){this.project=e.project,this.user=e.user,this.logs=[],this.userComment="",this.projectLogService=n;var r=this.projectLogService.fetchProjectLogs(this.project);r.then(function(e){this.logs=e,a.angular.triggerUpdate()}.bind(this))},leaveComment:function(e){var t=this.projectLogService.leaveProjectLogComment(this.project,e);t.then(function(e){this.userComment="",this.logs.push(e),a.angular.triggerUpdate()}.bind(this))}})),i.controller("AdminRoleGroupsController",o.core.makeClass(m,{$inject:["$scope","$rootScope","$routeParams","imUserService","dialogs","imPromptModalService","imRoleService"]},{constructor:function(e,t,n,r,i,o,a){m.call(this,e),this.$rootScope=t,this.$routeParams=n,this._imUserService=r,this._dialogs=i,this._promptService=o,this._imRoleService=a,this.operatorGroupsMap={},this.userGroupsMap={},this.updateRoleGroups()},onCreateOperatorGroup:function(){this.onCreateRoleGroup("GlobalSupervisor","Supervisor","Operator")},onRemoveOperatorGroup:function(e){this.onRemoveRoleGroup(e,this.operatorGroupsMap)},onCreateUserGroup:function(){this.onCreateRoleGroup("CustomerSupport","GroupAdmin","GroupUser")},onRemoveUserGroup:function(e){this.onRemoveRoleGroup(e,this.userGroupsMap)},updateRoleGroups:function(){this.resetData(),Promise.all([this.updateGroups("Supervisor","Operator",this.operatorGroupsMap),this.updateGroups("GroupAdmin","GroupUser",this.userGroupsMap)]).then(function(){this.refreshGUI()}.bind(this))},onCreateRoleGroup:function(e,t,n){this._promptService.showModal("Create New Role Group","Group Name").then(function(r){return this._imRoleService.createRoleGroupAsync(r,e,t,n)}.bind(this)).then(function(e){return this.updateRoleGroups()}.bind(this))["catch"](function(e){e&&this._dialogs.error("Cannot add child role",e.message)}.bind(this))},onRemoveRoleGroup:function(e,t){var n=this._dialogs.confirm("Are you sure you want to delete this Group?");n.result.then(function(){var n=t[e];return delete t[e],Promise.all([n.admin.destroy(),n.user.destroy()])}.bind(this)).then(function(){return this.updateRoleGroups()}.bind(this))},updateGroups:function(e,t,n){return c.roleTable.listRoleGroups(e,t).then(function(e){var t=e[0],r=e[1];return t.forEach(function(e){var t=e.getName().split("_")[1];n[t]||(n[t]={}),n[t].admin=e}.bind(this)),r.forEach(function(e){var t=e.getName().split("_")[1];n[t]||(n[t]={}),n[t].user=e}.bind(this)),Promise.resolve(n)}.bind(this))},resetData:function(){this.operatorGroupsMap={},this.userGroupsMap={}}})),i.controller("AdminRolesController",o.core.makeClass(m,{$inject:["$scope","$rootScope","$routeParams","imUserService","imRoleService","dialogs","imPromptModalService"]},{constructor:function(e,t,n,r,i,o,a){m.call(this,e),this.$rootScope=t,this.$routeParams=n,this._imUserService=r,this._imRoleService=i,this._dialogs=o,this._promptService=a,this.role=null,this.roleName="",this.childRoles=[],this.childRoleName="",this.childUsers=[],this.childUserName="",this.loadingMessage=null},searchRoles:function(){this.roleName&&""!==this.roleName?(this.resetData(),this.showLoadingDialog("Loading","Searching roles..."),c.roleTable.findByName(this.roleName).then(function(e){return e?(this.role=e,Promise.all([c.roleTable.listChildRoles(this.role),c.roleTable.listChildUsers(this.role)])):Promise.reject()}.bind(this)).then(function(e){this.childRoles=e[0],this.childUsers=e[1],this.hideLoadingDialog(),this.$scope.$apply()}.bind(this))["catch"](function(e){this.hideLoadingDialog(),e&&this._dialogs.error("Cannot create role",e.message)}.bind(this))):this._dialogs.error("No role name","Please input role name.")},onCreateNewRole:function(){this._promptService.showModal("Create New Role","Role Name").then(function(e){return this._imRoleService.createRole(e)}.bind(this)).then(function(e){this._dialogs.notify("Role created","Role named '"+e.getName()+"' successfully created.")}.bind(this))["catch"](function(e){e&&this._dialogs.error("Cannot create role",e.message)}.bind(this))},onAddChildRole:function(){this._promptService.showModal("Add Child Role For Role '"+this.roleName+"'","Child Role Name").then(function(e){return this._imRoleService.addChildRole(this.role,e)}.bind(this)).then(function(e){return this.role=e,c.roleTable.listChildRoles(this.role)}.bind(this)).then(function(e){this.childRoles=e,this.refreshGUI()}.bind(this))["catch"](function(e){e&&this._dialogs.error("Cannot add child role",e.message)}.bind(this))},onAddChildUser:function(){this._promptService.showModal("Add User To Role '"+this.roleName+"'","User Name").then(function(e){return this._imRoleService.addUserToRole(e,this.role)}.bind(this)).then(function(e){return this.role=e,c.roleTable.listChildUsers(this.role)}.bind(this)).then(function(e){this.childUsers=e,this.refreshGUI()}.bind(this))["catch"](function(e){e&&this._dialogs.error("Cannot add user to role",e.message)}.bind(this))},removeChildRole:function(e){var t=this._dialogs.confirm("Are you sure you want to remove this role from child roles?");t.result.then(function(){return this._imRoleService.removeChildRole(this.role,e)}.bind(this)).then(function(e){return this.role=e,c.roleTable.listChildRoles(this.role)}.bind(this)).then(function(e){this.childRoles=e,this.refreshGUI()}.bind(this))},removeChildUser:function(e){var t=this._dialogs.confirm("Are you sure you want to remove this user from this role?");t.result.then(function(){return this._imRoleService.removeUserFromRole(e,this.role)}.bind(this)).then(function(e){return this.role=e,c.roleTable.listChildUsers(this.role)}.bind(this)).then(function(e){this.childUsers=e,this.refreshGUI()}.bind(this))},showLoadingDialog:function(e,t){this._dialogs.wait(e,t,100,{keyboard:!1,backdrop:!1,size:"sm"})},hideLoadingDialog:function(){this.$rootScope.$broadcast("dialogs.wait.complete")},resetData:function(){this.role=null,this.childRoles=[],this.childUsers=[],this.childRoleName="",this.childUserName="",this._newRoleName=null,this._addingChildRoleName=null}})),i.controller("AdminUserController",o.core.makeClass(m,{$inject:["$scope","$rootScope","$routeParams","imUserService","imRoleService","dialogs","imPromptModalService"]},{constructor:function(e,t,n,r,i,o,a){m.call(this,e),this.$rootScope=t,this.$routeParams=n,this._imUserService=r,this._imRoleService=i,this._dialogs=o,this._promptService=a,this.usernameFilter=void 0,this.users=[],this.selectedUser=void 0,this.selectedUserRoles=[]},updateUsersData:function(){return this.usernameFilter?(this.resetData(),c.userTable.filterByUserName(this.usernameFilter).then(function(e){this.users=e,this.refreshGUI()}.bind(this))):void this._dialogs.error("Cannot search users","Username parameter is empty, please fill it in.")},selectUser:function(e){e&&(this.selectedUser=e,this.selectedUserRoles=[],c.roleTable.listAssignedRolesForUser(e).then(function(e){this.selectedUserRoles=e,this.refreshGUI()}.bind(this)))},isSelectedUser:function(e){return e===this.selectedUser},removeUserRole:function(e){if(this.selectedUser){var t=this._dialogs.confirm("Are you sure you want to remove this role selected user?");t.result.then(function(){return this._imRoleService.removeUserFromRole(this.selectedUser,e)}.bind(this)).then(function(e){return this.selectUser(this.selectedUser)}.bind(this))["catch"](function(e){e&&this._dialogs.error("Cannot add role to user",e.message)}.bind(this))}},onAddUserRole:function(){this._promptService.showModal("Add this role to user '"+this.selectedUser.getUsername()+"'","Role Name").then(function(e){return this._imRoleService.addUserToRole(this.selectedUser,e)}.bind(this)).then(function(e){return this.selectUser(this.selectedUser)}.bind(this))["catch"](function(e){e&&this._dialogs.error("Cannot add role to user",e.message)}.bind(this))},resetData:function(){this.users=[],this.selectedUser=void 0,this.selectedUserRoles=[]}})),i.controller("AdminOrganizationController",o.core.makeClass(m,{$inject:["$scope","dialogs","imPromptModalService","imOrganizationService"]},{constructor:function(e,t,n,r){m.call(this,e),this._dialogs=t,this._promptService=n,this._imOrganizationService=r,this.organizations=[],this.orderBy={"default":"name",current:void 0,descending:!0},this.searchParams={descending:[],ascending:[],page:0,pageSize:256,includes:["groupAdminRole","groupUserRole","creator"],contains:{name:void 0}}},onDeleteOrganization:function(e){this._imOrganizationService.deleteOrganization(e).then(function(){this.refreshOrganizations()}.bind(this))["catch"](function(e){}.bind(this))},getOrganizationUrl:function(e){return"organization/"+e.id},refreshOrganizations:function(){this._imOrganizationService.listOrganizations(this.searchParams).then(function(e){this.organizations=e}.bind(this))}})),i.controller("UserOrganizationsController",o.core.makeClass(m,{$inject:["$scope","dialogs","imPromptModalService","imOrganizationService","imNotificationService"]},{constructor:function(e,t,n,r,i){m.call(this,e),this._dialogs=t,this._promptService=n,this._imOrganizationService=r,this._imNotificationService=i,this.mode="memberships",this.organizationMembers=[],this.updateOrganizationMembersFilter(),this.refreshOrganizations()},updateOrganizationMembersFilter:function(){switch(this.mode){case"invites":this.filterUserOrganizationMembers=function(e){return!e.isConfirmed()};break;case"memberships":this.filterUserOrganizationMembers=function(e){return e.isConfirmed()}}},onCreateOrganization:function(){this._promptService.showModal("Create New Organization","Organization Name").then(function(e){return this._imOrganizationService.createOrganizationAsync(e)}.bind(this)).then(function(e){this.refreshOrganizations()}.bind(this))["catch"](function(e){e&&this._dialogs.error("Cannot create organization",e.message)}.bind(this))},refreshOrganizations:function(){this._imOrganizationService.listUserOrganizationMembers().then(function(e){return this.organizationMembers=e,this._imNotificationService.updateInvitesCount()}.bind(this)).then(function(){this.refreshGUI()}.bind(this))},getOrganizationUrl:function(e){return"organization/"+e.id},onConfirmOrganizationMember:function(e){this._imOrganizationService.confirmOrganizationMember(e).then(function(){this.refreshOrganizations()}.bind(this))},onDeleteOrganizationMember:function(e){this._imOrganizationService.deleteOrganizationMember(e).then(function(){this.refreshOrganizations()}.bind(this))}})),i.controller("LandingController",o.core.makeClass({},{$inject:["$scope","imDomEffectsService","$location","$document","imUserService","$q","$modal"]},{constructor:function(e,t,n,i,o,a,c){e.app.mainPage=!0,this.$modal=c,this.$scope=e,a.when(r.insidemaps_.customDomainProjectPromise).then(function(e){e&&n.path("/project/"+e.id+"/listing")}),e.scrollTo=function(e){s("html, body").animate({scrollTop:s(e).offset().top},1e3)},w.logPageView("/",window.location.hostname),s(".im-header-clients").mCustomScrollbar({axis:"x",theme:"light",advanced:{autoExpandHorizontalScroll:!0}}),t.revealOnScroll(),t.paralax(s(".im-hdr-image img"))},onNewFeatureClick:function(){s("html, body").animate({scrollTop:s("#im-take-vtour-video").offset().top},1e3)},onVideoClicked:function(){var e=document.getElementById("demo-3d-tour-video");e.paused?e.play():e.pause()},openImage:function(e){this.$modal.open({templateUrl:"largerFloorImageTemplate",controller:["$scope","imgSrc",function(e,t){e.imageSource=t}],scope:this.$scope,size:"lg",resolve:{imgSrc:function(){return e}}})}})),i.controller("ToolsController",o.core.makeClass({},{$inject:["$scope","imDomEffectsService"]},{constructor:function(e,t){var n=[{selector:"#iphone-img1",delay:100,distance:"20px"},{selector:"#iphone-img2",delay:300,distance:"20px"},{selector:"#iphone-img3",delay:500,distance:"20px"}];s(".im-header-clients").mCustomScrollbar({axis:"x",theme:"light",advanced:{autoExpandHorizontalScroll:!0}}),t.revealOnScroll(n)}})),i.controller("UserProfileController",e("./controllers/user-profile/user-profile-controller")),i.controller("ChangeAgentInfoController",_),i.controller("ContactUsController",C),i.controller("ServiceProviderFormController",M),i.controller("DemoController",o.core.makeClass({},{$inject:["$scope","$modal"]},{constructor:function(e,t){this.$scope=e,this.$modal=t,this.images=["http://im-demo.s3.amazonaws.com/users/q7y5vpb9Wk/projects/HFpMaNVdD3/rooms/0DKmwxRTeI/3dre/images/cubemaps/Room00000spin0004.cube_front.jpg","http://im-demo.s3.amazonaws.com/users/q7y5vpb9Wk/projects/HFpMaNVdD3/rooms/ciDTe3swXL/3dre/images/cubemaps/Room00000spin0000.cube_front.jpg","http://im-demo.s3.amazonaws.com/users/q7y5vpb9Wk/projects/HFpMaNVdD3/rooms/ciDTe3swXL/3dre/images/cubemaps/Room00000spin0001.cube_front.jpg","http://im-demo.s3.amazonaws.com/users/q7y5vpb9Wk/projects/HFpMaNVdD3/rooms/0DKmwxRTeI/3dre/images/cubemaps/Room00000spin0004.cube_front.jpg","http://im-demo.s3.amazonaws.com/users/q7y5vpb9Wk/projects/HFpMaNVdD3/rooms/ciDTe3swXL/3dre/images/cubemaps/Room00000spin0000.cube_front.jpg","http://im-demo.s3.amazonaws.com/users/q7y5vpb9Wk/projects/HFpMaNVdD3/rooms/ciDTe3swXL/3dre/images/cubemaps/Room00000spin0001.cube_front.jpg"];
},showLargeImage:function(e){var t=this;this.$modal.open({templateUrl:"largerImageTemplate",controller:["$scope","photoArray",function(e,t){e.photoArray=t}],scope:t.$scope,size:"lg",resolve:{photoArray:function(){var n=t.images.slice(0,e),r=t.images.slice(e,t.images.length),i=r.concat(n);return i}}})}})),i.controller("ProjectsMapController",o.core.makeClass({},{$inject:["$scope","$sce","imProjectService"]},{constructor:function(e,t,n){this.$sce=t,this.projects=[],this.markers=[],this._imProjectService=n,this._domCanvas=document.getElementById("projects_map_canvas"),this._infoWindow=void 0,this._infoWindowImageUrl="",this._3dTourIconPath="images/googleMaps/3DTourIcon.png",this._proModelIconPath="images/googleMaps/3DModelIcon.png",this._2dFloorIconPath="images/googleMaps/FloorPlanIcon.png",this._PrivateIconPath="images/googleMaps/PrivateIcon.png",this._latitude=38.1603255,this._longitude=-100.7748888,this.loadGoogleMapsScript(this._latitude,this._longitude)},getLatitude:function(){return this._latitude},getLongitude:function(){return this._longitude},createMap:function(e,t,n){return new google.maps.Map(e,{center:new google.maps.LatLng(t,n),zoom:4,mapTypeId:google.maps.MapTypeId.ROADMAP})},loadGoogleMapsScript:function(e,t){var n=this;if("undefined"==typeof google){window.mapInitializeCallback=function(){n.map=n.createMap(n._domCanvas,e,t),n.fetchAllProjects()};var r=document.createElement("script");r.type="text/javascript",r.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCmIfg4gL1K_Cn6VdxIx7ldWoiBFUwSfuE&sensor=FALSE&callback=mapInitializeCallback",document.body.appendChild(r)}else mapInitializeCallback(n._domCanvas)},fetchAllProjects:function(){var e=this.markers.length;if(e>0){console.log("Google map - fetching cached markers.");for(var t=0;t<e;t++)this.placeMarkerOnMap(this.markers[t],this.map)}else console.log("Google map - fetching markers from db."),this._imProjectService.listProjectsWithLocation(this.projects.length).then(function(e){this.projects=e;var t=this.projects.length;console.debug("Google map - No. of fetched projects: "+t);for(var n=0;n<t;n++)this.createProjectMarker(this.projects[n],this.map)}.bind(this))},createProjectMarker:function(e,t){var n=e.getGeoLocation(),r=e.getCategory(),i=void 0;"3dtour"===r?i=this._3dTourIconPath:e.getPro()?i=this._proModelIconPath:"old"===r?i=this._PrivateIconPath:(i=this._2dFloorIconPath,i=this._3dTourIconPath);var o=new google.maps.Marker({position:{lat:n.latitude,lng:n.longitude},title:e.getName(),icon:{url:i,scaledSize:new google.maps.Size(28,28)}});o.project=e,o.projectsMapController=this,o.projectType=i,this.placeMarkerOnMap(o,t),this.markers.push(o)},placeMarkerOnMap:function(e,t){e.addListener("click",function(){var n=this.projectsMapController.generateInfoWindowContent(this),r=e.project;if("undefined"==typeof n)if("undefined"!=typeof r){var i=this;if(r.getUser()){var a="/api/v1/photoUploader/getSinglePagePhotoUrl/user/"+r.getUser().id+"/project/"+r.id;o.core.callApiAsync("GET",a).then(function(n){i.projectsMapController.showInfoWindowFloorPlan(e,t,n)})["catch"](function(n){i.projectsMapController.showInfoWindowFloorPlan(e,t,"images/image-not-available.jpg")})}else n="This project has no user defined."}else n="No project assigned for this marker.";if("undefined"!=typeof r&&"old"!==r.getCategory()){var s=this.projectsMapController.getInfoWindow();s.setContent(n),s.open(t)}}),e.setMap(t)},showInfoWindowFloorPlan:function(e,t,n){var r=e.project;if("undefined"!=typeof r){var i=e.projectsMapController._domCanvas.clientHeight,a=(e.projectsMapController._domCanvas.clientWidth,'<b><a href="/project/'+r.id+"?env="+o.params.getEnvironmentName()+'" style="font-size: 20px" target="_blank">'+r.getName()+"</a></b><br/>");a+='<img src="'+n+'" style="width: 100%; max-height: '+i+'px;">',console.log("InfoWindow Floorplan Image Url = "+n);var s=this.getInfoWindow();s.setContent(a),s.open(t)}},getInfoWindow:function(){"undefined"==typeof this._infoWindow&&(this._infoWindow=new google.maps.InfoWindow({maxWidth:this._domCanvas.clientWidth,options:{disableAutoPan:!0}})),this._infoWindow.setContent("<h3>No data for this project</h3>");var e=this.map.getBounds(),t=this.map.getCenter();if(e&&t&&e.getSouthWest()){var n=new google.maps.LatLng(e.getSouthWest().lat(),t.lng());this._infoWindow.setPosition(n)}return this._infoWindow},generateInfoWindowContent:function(e){var t=e.projectType,n=e.project,r=.8*this._domCanvas.clientHeight,i=.5*this._domCanvas.clientWidth,a="env="+o.params.getEnvironmentName();if("undefined"!=typeof n){var s='<b><a href="/project/'+n.id+"?"+a+'" style="font-size: 20px">'+n.getName()+"</a></b><br/>";switch(t){case this._3dTourIconPath:s+='<iframe src="'+window.location.origin+"/app/walkthrough/embedded/?projectId="+n.id+"&"+a+'" width="'+i+'px" height="'+r+'px" allowfullscreen></iframe>';break;case this._proModelIconPath:s+='<iframe src="'+window.location.origin+"/app/3dmodel/embedded/?projectId="+n.id+"&"+a+'" width="'+i+'px" height="'+r+'px" allowfullscreen></iframe>';break;case this._2dFloorIconPath:s=void 0;break;case this._PrivateIconPath:s="<h2>"+n.getName()+"</h2> </br> <h3> Private Project </h3>";break;default:s="Unknown type of project."}}else s+="No project assigned for this marker";return s}})),i.controller("HDRTourController",o.core.makeClass({},{$inject:["$scope","$routeParams","$document","$sce","$modal","imUserService"]},{constructor:function(e,t,n,r,i,o){this.$scope=e,this.$sce=r,this.$document=n,this.$modal=i,this.mobileDevice=this.$scope.app.mobileDevice;this.parseProject=e.parseProject,this.storageProject=new u,this.storageProject.fromParseProject(this.parseProject),this.writePermissions=!1,o&&o.hasWriteAccess(this.parseProject)&&(this.writePermissions=response),this.images=[],this.agent={},this.propertyInfo={},this.populateAgentInfo(),this.populatePropertyInfo(),this.getHDRPhotosForProjectAsync().then(function(e){return!e||e.length<1?void console.error("No photos for project"):(this.images=e,this.enabledImages=this.images.filter(function(e){return e.enabled}),this.disabledImages=this.images.filter(function(e){return!e.enabled}),this.imageDisplayName=this.enabledImages[0].displayName,void a.angular.triggerUpdate())}.bind(this))},populateAgentInfo:function(){var e=this.parseProject.getAgent();e&&(this.agent.firstName=e.getFirstName(),this.agent.lastName=e.getLastName(),this.agent.fullName=this.agent.firstName+" "+this.agent.lastName,this.agent.bre=e.getBRE(),this.agent.org=e.getOrganizationName(),this.agent.phone=e.getPhone(),this.agent.email=e.getEmail(),this.agent.image=e.getImageFile()?l.getParseUrl(e.getImageFile().url()):null,this.logo=e.getCompanyLogo())},populatePropertyInfo:function(){var e=this.parseProject.getPropertyInfo();e&&(this.propertyInfo.beds=e.beds,this.propertyInfo.baths=e.baths,this.propertyInfo.price=e.price,this.propertyInfo.address=e.address)},getHDRPhotosForProjectAsync:function(){var e=this,t=[];return o.core.callApiAsync("GET","/api/v1/project/getHDRPhotos/"+e.parseProject.id,{signUrls:!0}).then(function(e){return e.forEach(function(n,r){t.push({source:e.bigImgUrl,displayName:"Room "+r,filename:f.basename(n.bigImgUrl),enabled:!0})}),t})},initializeSlideshow:function(){var e=this;e.$scope.playing=!0,s("#bottomImage").addClass("im-pan"),s("#topImage").addClass("im-pan");var t=!0,n=this.enabledImages.length,r=0;n.length<1||(this.carousel=s("#carouselTest").waterwheelCarousel({separation:60,sizeMultiplier:.88,separationMultiplier:.92,flankingItems:5,horizonOffset:-1,opacityMultiplier:1,edgeFadeEnabled:!0,autoPlay:5e3,speed:2e3,movingToCenter:function(i){for(var o=i.attr("src"),c=f.basename(o),l=0;l<e.enabledImages.length;l++)if(e.enabledImages[l].filename===c){e.imageDisplayName=e.enabledImages[l].displayName,r=l;break}var u=r/(n-1)*100;u>100&&(u=0,r=0),u+="%",s("#darkProgress").css("width",u),a.angular.triggerUpdate(),t?(s("#bottomImage").attr("src",i.attr("src")),s("#topImage").toggleClass("transparent"),t=!t):(s("#topImage").attr("src",i.attr("src")),s("#topImage").toggleClass("transparent"),t=!t)}}),s("#nextImage").click(function(){e.carousel.next(),e.$scope.playing=!1,a.angular.triggerUpdate(),s("#bottomImage").removeClass("im-pan"),s("#topImage").removeClass("im-pan")}),s("#previousImage").click(function(){e.carousel.prev(),e.$scope.playing=!1,a.angular.triggerUpdate(),s("#topImage").removeClass("im-pan"),s("#bottomImage").removeClass("im-pan")}),s("#restartSlideshow").click(function(){e.carousel.reload(),e.$scope.playing=!0}),this.togglePlay=function(){e.$scope.playing=!e.$scope.playing;var t=e.$scope.playing?5e3:0;e.$scope.playing?(s("#bottomImage").addClass("im-pan"),s("#topImage").addClass("im-pan")):(s("#bottomImage").removeClass("im-pan"),s("#topImage").removeClass("im-pan")),e.carousel.togglePlay(t),a.angular.triggerUpdate()},this.pause=function(){e.$scope.playing&&e.togglePlay()},this.play=function(){e.$scope.playing||e.togglePlay()})},trustSrc:function(e){return this.$sce.trustAsResourceUrl(e)},showEditDialog:function(e){var t=this;switch(e){case"slideshow":this.$modal.open({templateUrl:"slideshow-edit-template",controller:"SlideshowEditController as slideshowEditor",scope:this.$scope,size:"lg",resolve:{items:function(){return t.images},parseProject:function(){return t.parseProject}}});break;case"realtorInfo":this.$modal.open({templateUrl:"realtor-edit-template",controller:"RealtorInfoEditController as realtorEditor",scope:this.$scope,size:"md",resolve:{agent:function(){return t.agent.firstName?t.agent:{}}}});break;case"houseInfo":this.$modal.open({templateUrl:"house-info-edit-template",controller:"HouseInfoEditController as houseInfoEditor",scope:this.$scope,size:"sm",resolve:{propertyInfo:function(){return t.propertyInfo}}})}}})),i.controller("SlideshowEditController",o.core.makeClass({},{$inject:["$scope","$modalInstance","items","parseProject"]},{constructor:function(e,t,n,r){this.$scope=e,this.$modalInstance=t,this.enabledThumbs=[],this.disabledThumbs=[],this.allThumbs=n,this.filterImages(),this.parseProject=r,this.step1=!0,this.stepButton="Reorder"},close:function(){this.$modalInstance.close()},saveChanges:function(){for(var e=[],t=[],n=0;n<this.enabledThumbs.length;n++)e.push(this.enabledThumbs[n].filename),t.push(this.enabledThumbs[n].enabled);for(var n=0;n<this.disabledThumbs.length;n++)e.push(this.disabledThumbs[n].filename),t.push(this.disabledThumbs[n].enabled);var r={env:o.params.getEnvironmentName(),filenames:e,enabled:t,projectId:this.parseProject.id};o.core.callApiAsync("POST","/api/v1/project/updateImageOrder",r).then(function(){this.filterImages(),this.close()}.bind(this))["catch"](function(e){console.error(e),alert(e.message)})},filterImages:function(){this.enabledThumbs=this.allThumbs.filter(function(e){return!(e.hasOwnProperty("enabled")&&e.enabled===!1)}),this.disabledThumbs=this.allThumbs.filter(function(e){return e.hasOwnProperty("enabled")&&e.enabled===!1}),this.allThumbs=this.enabledThumbs.concat(this.disabledThumbs)},toggleStep:function(){this.step1=!this.step1,this.filterImages(),this.step1?this.stepButton="Reorder":this.stepButton="Back"}})),i.controller("RealtorInfoEditController",o.core.makeClass({},{$inject:["$scope","$modalInstance","agent"]},{constructor:function(e,t,n){this.$scope=e,this.$modalInstance=t,this.agent=n,this.parseProject=e.parseProject,this.agentImageFile=null,this.fileTypes=["image/jpeg","image/jpg"],this.uploadMsg=""},close:function(){this.$modalInstance.close()},chooseAgentPhoto:function(){a.graphics.selectFileDialog({},function(e){e.size<10485760?this.fileTypes.indexOf(e.type.toLowerCase())!==-1?(this.agentImageFile=e,this.updatePreviewImage()):(this.uploadErrorMessage="Image type not supported.",a.angular.triggerUpdate()):(this.uploadErrorMessage="The image exceeds allowed size (10MB)",a.angular.triggerUpdate())},this,!1)},updatePreviewImage:function(){var e=document.getElementById("realtor-img"),t=new FileReader;t.onloadend=function(){e.src=t.result},this.agentImageFile?t.readAsDataURL(this.agentImageFile):e.src=""},save:function(){var e=this.agentImageFile||null,t="/api/v1/agent/editAgentInfo";o.core.callApiAsync("POST",t,{firstName:this.agent.firstName,lastName:this.agent.lastName,email:this.agent.email,phoneNumber:this.agent.phone,bre:this.agent.bre,org:this.agent.org,projectId:this.$scope.parseProject.id,file:e}).then(function(e){return e.newAgent?(console.debug("new agent info has been added to project"),void this.close()):(console.error("Unable to save new agent info"),void this.close())}.bind(this))}})),i.controller("HouseInfoEditController",o.core.makeClass({},{$inject:["$scope","$modalInstance","propertyInfo"]},{constructor:function(e,t,n){this.$scope=e,this.$modalInstance=t,this.propertyInfo=n},close:function(){this.$modalInstance.close()},save:function(){var e=this.$scope.parseProject;e&&(e.set("propertyInformation",this.propertyInfo),e.save().then(function(e){this.close()}.bind(this)))}})),i.controller("MailingListsControler",o.core.makeClass(m,{$inject:["$scope","imEmailService"]},{constructor:function(e,t){m.call(this,e),this._imEmailService=t,this.lists=[],this.orderBy="name",this.refreshMailingLists()},refreshMailingLists:function(){this._imEmailService.listUserMailingLists().then(function(e){this.lists=e}.bind(this))},onSubscriptionChanged:function(e){this._imEmailService.updateMailingListSubscription(e).then(function(){this.refreshMailingLists(),this.refreshGUI()}.bind(this))}})),i.controller("PricingController",o.core.makeClass({},{$inject:["$scope","imDomEffectsService","$modal"]},{constructor:function(e,t,n){this.activeIdx=0,this.$modal=n,this.prices={basic:["$49.95","$69.95","$89.95","$89.95  + $20 per 1000 sqft"],pro:["$179.90","$259.90","$339.90","$339.90 + $80 per 1000 sqft"],hdr:["$19.95","$19.95","$19.95","$19.95  + $5 per 10 photos"],fp:["$34.95","$49.95","$64.95","$64.95  + $15 per 1000 sqft"],basic_video:["$49.95 + $29.95","$69.95 + $29.95","$89.95 + $29.95","$89.95 + $29.95 + $20 per 1000 sqft"]},s("#im-photo-carousel").mCustomScrollbar({axis:"x",theme:"light",advanced:{autoExpandHorizontalScroll:!0}}),t.revealOnScroll(),t.paralax(s(".im-pricing-box")),s(".mCSB_container img").click(this.openImage.bind(this))},setSize:function(e){this.activeIdx=e},openImage:function(e){var t=e.target.currentSrc;this.$modal.open({templateUrl:"largerFloorImageTemplate",controller:["$scope","imgSrc",function(e,t){e.imageSource=t}],scope:this.$scope,size:"lg",resolve:{imgSrc:function(){return t}}})}})),i.controller("ProjectUpdateMapController",o.core.makeClass({},{$inject:["$scope","$sce"]},{constructor:function(e,t){this.project=e.projectcontroller,this.$sce=t,this.project.on(V.EVENT_PROJECT_RELOADED,this._onProjectReloaded,this),this._geocoderTimer=null,this.project.on(V.EVENT_ADDRESS_CHANGED,this._onProjectAddressChanged,this)},getLatitude:function(){return this.project.geoLocation.latitude},getLongitude:function(){return this.project.geoLocation.longitude},getIframeUrl:function(){return this.$sce.trustAsResourceUrl("/embed-google-map/"+this.project.id+"?env="+o.params.getEnvironmentName())},updateMap:function(){this.project.set("latitude",this.getLatitude()),this.project.set("longitude",this.getLongitude()),this.project.save(),createMap(this.getLatitude(),this.getLongitude())},_onProjectReloaded:function(){this.addMarkerOnProjectAddress()},_onProjectAddressChanged:function(){null===this._geocoderTimer&&(this._geocoderTimer=setTimeout(function(){this.addMarkerOnProjectAddress()}.bind(this),1e3))},addMarkerOnProjectAddress:function(){this._geocoderTimer=null;var e=this.project.getAddress(),t=new google.maps.Geocoder;t.geocode({address:e},function(t,n){if(n===google.maps.GeocoderStatus.OK){var r=t[0].geometry.location;if(this.project.geoLocation.latitude!==r.lat()&&(this.project.geoLocation.latitude=r.lat(),this.project.isLocationUpdated=!0),this.project.geoLocation.longitude!==r.lng()&&(this.project.geoLocation.longitude=r.lng(),this.project.isLocationUpdated=!0),a.angular.triggerUpdate(),this.map){this.map.setCenter(t[0].geometry.location);var i=new google.maps.Marker({map:this.map,position:t[0].geometry.location}),o=new google.maps.InfoWindow({content:this.project.name+"<br>"+e});google.maps.event.addListener(i,"click",function(){o.open(this.map,i)})}}else console.error("Could not find geolocation: "+n)}.bind(this))},createMap:function(e,t,n){return t=t||this.getLatitude(),n=n||this.getLongitude(),new google.maps.Map(e,{center:new google.maps.LatLng(t,n),zoom:17,mapTypeId:google.maps.MapTypeId.ROADMAP})},loadGoogleMapsScript:function(){this.mapDomElement=document.getElementById("google_map_canvas");var e=this;if("undefined"==typeof google){window.mapInitializeCallback=function(){return e.mapDomElement?(e.map=e.createMap(e.mapDomElement,e.getLatitude(),e.getLongitude()),void e.addMarkerOnProjectAddress()):void console.log("map dom element does not exist yet")},s("#updateProjectInfoModal").on("shown.bs.modal",function(t){e.createMap(e.mapDomElement)});var t=document.createElement("script");t.type="text/javascript",t.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCmIfg4gL1K_Cn6VdxIx7ldWoiBFUwSfuE&sensor=FALSE&callback=mapInitializeCallback",document.body.appendChild(t)}else mapInitializeCallback(e.mapDomElement)}})),i.controller("RotatingFurnitureController",o.core.makeClass({},{$inject:["$scope","$interval","$timeout"]},{constructor:function(e,t,n){e.urls=l,this.chairThreeImageName="Chair3",this.numRotationImages=24,this.indexString="",this.numImages,this.furnitureImage="",this.index=0,this.initOffsetX=null,this.lastTheta=0,this.theta=0,this.dges=[],this.chairOneImages=[],this.chairTwoImages=[],this.chairThreeImages=[],this.chairThreeAltImages=[];for(var r=1;r<=24;++r)this.chairOneImages.push(this.formatImageUrl(r,"Chair1")),this.chairTwoImages.push(this.formatImageUrl(r,"Chair2")),this.chairThreeAltImages.push(this.formatImageUrl(r,"Chair3_Alt")),this.chairThreeImages.push(this.formatImageUrl(r,"Chair3"))},getImageIndex:function(e){this.numImages=this.numRotationImages||24;var t=e*this.numImages/(2*Math.PI);return t=Math.floor(t),t=(t%this.numImages+this.numImages)%this.numImages,t++,t},formatImageUrl:function(e,t){var n=t,r="../../images/rotatingFurniture/"+n+"/"+n;for(this.indexString=e.toString();this.indexString.length<4;)this.indexString="0"+this.indexString;return r+"_"+this.indexString+".jpg"},mousedown:function(e){this.imageHover=!1,this.initOffsetX=e.offsetX},mouseup:function(e){this.imageHover=!0,this.initOffsetX=null,this.lastTheta=this.theta},mousemove:function(e,t){if(null!==this.initOffsetX){this.theta=(e.offsetX-this.initOffsetX)/20+this.lastTheta;var n=this.getImageIndex(this.theta);"Chair1"===t?this.furnitureImage=this.formatImageUrl(n,t):"Chair3"===t||"Chair3_Alt"===t?this.furnitureThreeImage=this.formatImageUrl(n,this.chairThreeImageName):this.furnitureImageTwo=this.formatImageUrl(n,t)}},mouseover:function(e){this.imageHover=!0},mouseleave:function(e){this.imageHover=!1},switchSpinImageSet:function(e){this.chairThreeImageName=e,this.furnitureThreeImage=this.formatImageUrl(1,this.chairThreeImageName)}})),i.controller("DeviceMapController",o.core.makeClass({},{$inject:["$scope","$modalInstance","$sce","devices"]},{constructor:function(e,t,n,r){this.$scope=e,this.$modalInstance=t,this.devices=r,this.$sce=n,this.markers=[],this._latitude=38.1603255,this._longitude=-100.7748888;var i=this;setTimeout(function(){i._domCanvas=document.getElementById("device_map_canvas"),i.loadGoogleMapsScript(i._latitude,i._longitude)},3e3)},getLatitude:function(){return this._latitude},getLongitude:function(){return this._longitude},createMap:function(e,t,n){return new google.maps.Map(e,{center:new google.maps.LatLng(t,n),zoom:4,mapTypeId:google.maps.MapTypeId.ROADMAP})},loadGoogleMapsScript:function(e,t){var n=this;if("undefined"==typeof google){window.mapInitializeCallback=function(){n.map=n.createMap(n._domCanvas,e,t),n.fetchAllDevices()};var r=document.createElement("script");r.type="text/javascript",r.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCmIfg4gL1K_Cn6VdxIx7ldWoiBFUwSfuE&sensor=FALSE&callback=mapInitializeCallback",document.body.appendChild(r)}else mapInitializeCallback(n._domCanvas)},fetchAllDevices:function(){for(var e=this.devices.length,t=0;t<e;t++)this.createProjectMarker(this.devices[t],this.map)},createProjectMarker:function(e,t){var n=e.getLastLocation();if(n){var r=new google.maps.Marker({position:{lat:n.latitude,lng:n.longitude}});this.placeMarkerOnMap(r,t)}},placeMarkerOnMap:function(e,t){e.setMap(t)}})),i.controller("DeviceListController",o.core.makeClass({},{$inject:["$scope","$modal"]},{constructor:function(e,t){this.$scope=e,this.$modal=t,this.devices=[],c.deviceListTable.getDevicesAsync().then(function(e){this.devices=e,this.calculateUniqueDevices(),a.angular.triggerUpdate()}.bind(this))},subtractDays:function(e,t){return e.setDate(e.getDate()-t)},calculateUniqueDevices:function(){var e=this.subtractDays(new Date,1),t=this.subtractDays(new Date,7),n=this.subtractDays(new Date,30);this.uniqueToday=0,this.uniqueSevenDays=0,this.uniqueThirtyDays=0;for(var r=0;r<this.devices.length;r++){var i=this.devices[r].getLastUser();if(!(i&&i.getEmail().indexOf("insidemaps.com")>=0)){var o=this.devices[r].updatedAt;o>e?(this.uniqueToday++,this.uniqueSevenDays++,this.uniqueThirtyDays++):o>t?(this.uniqueSevenDays++,this.uniqueThirtyDays++):o>n&&this.uniqueThirtyDays++}}},showNotes:function(e){this.$modal.open({templateUrl:"notes-modal-template",controller:"NotesController as notesController",scope:this.$scope,size:"md",resolve:{device:function(){return e}}})},getFormattedDate:function(e){return e.toLocaleDateString()},showDeviceMap:function(){var e=this;this.$modal.open({templateUrl:"device-map-template",controller:"DeviceMapController as deviceMap",scope:this.$scope,size:"lg",resolve:{devices:function(){return e.devices}}})}})),i.controller("PhotoGalleryController",o.core.makeClass({},{$inject:["$scope","$modal"]},{constructor:function(e,t){this.$scope=e,this.$modal=t,this.images=[],c.photoGalleryTable.findEnabledImagesAsync().then(function(e){for(var t=0;t<e.length;t++){var n={preview:l.getUrlForPath("photoGallery/"+e[t].getPreviewName(),{},!0),fullSize:l.getUrlForPath("photoGallery/"+e[t].getFilename(),{},!0)};this.images.push(n)}a.angular.triggerUpdate()}.bind(this))},showFullSizeImage:function(e){this.$modal.open({templateUrl:"largerFloorImageTemplate",controller:["$scope","floorImage",function(e,t){e.imageSource=t}],scope:this.$scope,size:"lg",resolve:{floorImage:function(){return e}}})}})),i.controller("NotesController",o.core.makeClass({},{$inject:["$scope","$modalInstance","device"]},{constructor:function(e,t,n){this.$scope=e,this.$modalInstance=t,this.device=n,this.name=this.device.getName(),this.notes=this.device.getNotes(),this.revisionInfo=this.device.getRevisionInfo()},saveChanges:function(){this.device.setRevisionInfo(this.revisionInfo),this.device.setNotes(this.notes),this.device.setName(this.name),this.device.saveAsync().then(function(){this.closeModal()}.bind(this))},closeModal:function(){this.$modalInstance.close()}})),i.controller("ProjectAnalyticsBreakdownController",o.core.makeClass({},{$inject:["$scope","$modalInstance","companies","projects"]},{constructor:function(e,t,n,r){this.$scope=e,this.$modalInstance=t,this.companies=n,this.projects=r,this.companiesConverted=this.convertCompaniesToArray(this.companies)},convertCompaniesToArray:function(e){var t=[];for(var n in e)t.push({companyName:n,count:e[n].count,revenue:e[n].revenue});return t},showProjectList:function(e){this.filteredProjects=this.projects[e].projects,this.filteredProjects.sort(function(e,t){var n=e.getDetailedStatus(),r=t.getDetailedStatus();return r.FinishedAt-n.FinishedAt}),this.selectedKey=e},buildTypeString:function(e){if(!e)return"2D";var t="2D";return e.customModel&&(t+="/3D"),e.panoTour&&(t+="/VT"),t},exportCSV:function(e){var t=this.projects[e].projects;if(!(t.length<1)){t.sort(function(e,t){var n=e.getDetailedStatus(),r=t.getDetailedStatus();return r.FinishedAt-n.FinishedAt});var n="data:text/csv;charset=utf-8,";n+="Total Projects, Year, Month, Day, Type, Name, Total Area, Street, City, State, Zip, Country, Cost\n";for(var r=0;r<t.length;r++){var i=t[r],o=this.getFinishedAtInfo(i),a=i.getArea()||1;a=Math.round(10.7639*a*1e3)/1e3,n+=r+1+","+o.year+","+o.month+","+o.day+","+this.buildTypeString(i.getDetailedStatus())+","+i.getName().replace(/,/g,"")+","+a+","+i.getStreet()+","+i.getCity()+","+i.getState()+","+i.getZip()+","+i.getCountry()+","+i.getPrice()+"\n"}var s=encodeURI(n),c=document.createElement("a");c.setAttribute("href",s);var l=e+"_projects.csv";c.setAttribute("download",l),document.body.appendChild(c),c.click()}},getFinishedAtInfo:function(e){var t=e.getDetailedStatus()||{},n=new Date(t.FinishedAt),r={};return r.year=n.getFullYear(),r.month=n.toLocaleString("en-us",{month:"long"}),r.day=n.getDate(),r},closeModal:function(){this.$modalInstance.close()}})),i.controller("ProjectAnalyticsController",o.core.makeClass({},{$inject:["$scope","$modal"]},{constructor:function(e,t){this.$scope=e,this.$modal=t,this.weeklyProjects=0,this.dailyProjects=0,this.monthlyProjects=0,this.dailyRev=0,this.weeklyRev=0,this.monthlyRev=0,this.lastMonthsRev=0,this.monthBeforeLastRev=0,this.projectCount=[0,0,0,0,0],this.projectBreakdown=[{},{},{},{},{}],this.projectsObject=[{},{},{},{},{}],this.initialize()},initialize:function(){var e=this,t=new Date;this.month=t.toLocaleString("en-us",{month:"long"});var n=new Date(t.getFullYear(),t.getMonth(),1),r=new Date(t.getFullYear(),t.getMonth()-1,1),i=new Date(t.getFullYear(),t.getMonth()-2,1);this.lastMonth=r.toLocaleString("en-us",{month:"long"}),this.monthBeforeLast=i.toLocaleString("en-us",{month:"long"});var o=new Date(t.getFullYear(),t.getMonth(),t.getDate()-7),s=new Date(t.getFullYear(),t.getMonth(),t.getDate()-1),l=new Date;l.setMonth(l.getMonth()-2),l.setDate(1),l.setHours(0),l.setMinutes(0),l.setSeconds(0),l.setMilliseconds(0),c.projectTable.getAllFinishedSinceDate(l).then(function(t){t=t.filter(function(e){var t=(e.getName()||"").toLowerCase();return t.indexOf("test")<0&&t.indexOf("ignore")<0&&t.indexOf("clone")<0}),this.monthBeforeLastProjects=[],this.lastMonthsProjects=[],this.thisMonthsProjects=[],t.forEach(function(t){var i=t.getDetailedStatus()||{};if(i&&i.FinishedAt){var o=new Date(i.FinishedAt);o<r?e.monthBeforeLastProjects.push(t):o<n?e.lastMonthsProjects.push(t):o>=n&&e.thisMonthsProjects.push(t)}}),this.thisMonthsProjects.forEach(function(t){var n=t.getDetailedStatus()||{};e.projectCount[2]=e.projectCount[2]+1;var r=t.getUser().getOrganizationName()||"unknown",i=t.getPrice()||0;if(e.monthlyRev=i?parseFloat((e.monthlyRev+i).toFixed(2)):e.monthlyRev,e.projectBreakdown[0][r]=e.projectBreakdown[0][r]||{revenue:0,count:0,projects:[]},e.projectBreakdown[1][r]=e.projectBreakdown[1][r]||{revenue:0,count:0,projects:[]},e.projectBreakdown[2][r]=e.projectBreakdown[2][r]||{revenue:0,count:0,projects:[]},e.projectBreakdown[3][r]=e.projectBreakdown[3][r]||{revenue:0,count:0,projects:[]},e.projectsObject[0][r]=e.projectsObject[0][r]||{projects:[]},e.projectsObject[1][r]=e.projectsObject[1][r]||{projects:[]},e.projectsObject[2][r]=e.projectsObject[2][r]||{projects:[]},e.projectsObject[3][r]=e.projectsObject[3][r]||{projects:[]},e.projectsObject[2][r].projects.push(t),e.projectBreakdown[2][r].count=e.projectBreakdown[2][r].count+1,e.projectBreakdown[2][r].revenue=parseFloat((e.projectBreakdown[2][r].revenue+i).toFixed(2)),n&&n.FinishedAt){var a=new Date(n.FinishedAt);a>o&&(e.projectCount[1]=e.projectCount[1]+1,e.weeklyRev=i?parseFloat((e.weeklyRev+i).toFixed(2)):e.weeklyRev,e.projectBreakdown[1][r].count=e.projectBreakdown[1][r].count+1,e.projectBreakdown[1][r].revenue=parseFloat((e.projectBreakdown[1][r].revenue+i).toFixed(2)),e.projectsObject[1][r].projects.push(t)),a>s&&(e.projectCount[0]=e.projectCount[0]+1,e.dailyRev=i?parseFloat((e.dailyRev+i).toFixed(2)):e.dailyRev,e.projectBreakdown[0][r].count=e.projectBreakdown[0][r].count+1,e.projectBreakdown[0][r].revenue=parseFloat((e.projectBreakdown[0][r].revenue+i).toFixed(2)),e.projectsObject[0][r].projects.push(t))}}),this.lastMonthsProjects.forEach(function(t){e.projectCount[3]=e.projectCount[3]+1;var n=t.getUser().getOrganizationName()||"unknown",r=t.getPrice()||0;e.lastMonthsRev=r?parseFloat((e.lastMonthsRev+r).toFixed(2)):e.lastMonthsRev,e.projectBreakdown[3][n]=e.projectBreakdown[3][n]||{revenue:0,count:0,projects:[]},e.projectsObject[3][n]=e.projectsObject[3][n]||{projects:[]},e.projectBreakdown[3][n].count=e.projectBreakdown[3][n].count+1,e.projectBreakdown[3][n].revenue=parseFloat((e.projectBreakdown[3][n].revenue+r).toFixed(2)),e.projectsObject[3][n].projects.push(t)}),this.monthBeforeLastProjects.forEach(function(t){e.projectCount[4]=e.projectCount[4]+1;var n=t.getUser().getOrganizationName()||"unknown",r=t.getPrice()||0;e.monthBeforeLastRev=r?parseFloat((e.monthBeforeLastRev+r).toFixed(2)):e.monthBeforeLastRev,e.projectBreakdown[4][n]=e.projectBreakdown[4][n]||{revenue:0,count:0,projects:[]},e.projectsObject[4][n]=e.projectsObject[4][n]||{projects:[]},e.projectBreakdown[4][n].count=e.projectBreakdown[4][n].count+1,e.projectBreakdown[4][n].revenue=parseFloat((e.projectBreakdown[4][n].revenue+r).toFixed(2)),e.projectsObject[4][n].projects.push(t)}),a.angular.triggerUpdate()}.bind(this))},getFinishedAtInfo:function(e){var t=e.getDetailedStatus()||{},n=new Date(t.FinishedAt),r={};return r.year=n.getFullYear(),r.month=n.toLocaleString("en-us",{month:"long"}),r.day=n.getDate(),r},buildTypeString:function(e){if(!e)return"2D";var t="2D";return e.customModel&&(t+="/3D"),e.panoTour&&(t+="/VT"),t},exportCSV:function(e){var t=[],n="projects.csv";switch(e){case"thismonth":t=this.thisMonthsProjects,n=this.month+"_projects.csv";break;case"lastmonth":t=this.lastMonthsProjects,n=this.lastMonth+"_projects.csv";break;case"monthBeforeLast":t=this.monthBeforeLastProjects,n=this.monthBeforeLast+"_projects.csv"}t.sort(function(e,t){var n=e.getDetailedStatus(),r=t.getDetailedStatus();return r.FinishedAt-n.FinishedAt});var r="data:text/csv;charset=utf-8,";r+="Total Projects, Year, Month, Day, Type, Name, Total Area, City, State, Zip, Country, Cost\n";for(var i=0;i<t.length;i++){var o=t[i],a=this.getFinishedAtInfo(o),s=o.getArea()||1;s=Math.round(10.7639*s*1e3)/1e3,r+=i+1+","+a.year+","+a.month+","+a.day+","+this.buildTypeString(o.getDetailedStatus())+","+o.getName()+","+s+","+o.getCity()+","+o.getState()+","+o.getZip()+","+o.getCountry()+","+o.getPrice()+"\n"}var c=encodeURI(r),l=document.createElement("a");l.setAttribute("href",c),l.setAttribute("download",n),document.body.appendChild(l),l.click()},showBreakdown:function(e){var t=this;this.$modal.open({templateUrl:"project-analytics-breakdown-template",controller:"ProjectAnalyticsBreakdownController as breakdown",scope:this.$scope,size:"lg",resolve:{companies:function(){return t.projectBreakdown[e]},projects:function(){return t.projectsObject[e]}}})}})),i.controller("HDRCustomUploadController",o.core.makeClass({},{$inject:["$scope"]},{constructor:function(e){this.$scope=e,this.imageFiles=[],this.statusText="",this.projectName=this.$scope.project.getName()},addImageFiles:function(){this.statusText="";var e=this;a.graphics.selectFileDialog({},function(t){for(var n in t)"object"==typeof t[n]&&e.imageFiles.push(t[n]);e.imageFiles.length>0&&(e.filesAdded=!0),a.angular.triggerUpdate()},this)},cancel:function(){this.imageFiles=[]},beginUpload:function(){this.statusText="Uploading...";var e="/api/v1/project/uploadAdditionalHDRImages";o.core.httpPostAsync(e,{files:this.imageFiles,projectId:this.$scope.project.id,env:o.params.getEnvironmentName()}).then(function(e){this.imageFiles=[],this.statusText="Uploaded",a.angular.triggerUpdate()}.bind(this))}})),i.controller("ArticleController",o.core.makeClass({},{$inject:["$scope","$sce","$modalInstance","data"]},{constructor:function(e,t,n,r){this.$scope=e,this.$modalInstance=n,this.iframe=void 0,this.title=r.title,this.body=r.body;
var i,o=new DOMParser,a=o.parseFromString(r.body,"text/xml"),s=a.documentElement;if(s&&"iframe"===s.nodeName)i=s;else{var c=s.childNodes;c.forEach(function(e){i="iframe"===e.nodeName?e:i}.bind(this))}if(i){var l=i.getAttribute("src"),u=l?t.trustAsResourceUrl(l):"";this.iframe={src:u}}},close:function(){this.$modalInstance.close()}})),i.controller("missingWebGL",o.core.makeClass({},{$inject:["$scope"]},{constructor:function(e){var t=navigator.appVersion;e.webglMessage="";var n="http://www.google.com/chrome/";t.indexOf("Win")>-1||t.indexOf("Lin")>-1?e.webglMessage='Download <a href="'+n+'">Chrome</a> and make sure drivers for your graphics card are up to date':t.indexOf("Mac")>-1?e.webglMessage="If using Safari, please check the developer tools and make sure that WebGL is enabled.":t.indexOf("iOS")>-1?e.webglMessage="Update to iOS 8":t.indexOf("And")>-1&&(e.webglMessage='Download <a href="'+n+'">Chrome</a> and make sure your device is running Android 4.3 or later and that your firmware is updated.')}})),i.controller("OrganizationController",x),i.controller("ProjectNotesController",["$scope","$modal","$modalInstance","dialogs",k]),i.controller("StatisticsController",P),i.controller("ProjectsWithAssetsController",E),i.controller("FinancialDashboardController",A),i.controller("FinancialProjectsController",T),i.controller("StreetviewUploadController",S),i.controller("StreetviewViewController",j)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/analytics/website-analytics":470,"../lib/browser":475,"../lib/project-config/pricing-packages-config":489,"../lib/project-config/project-states-config":490,"../lib/shared-modules/controllers/im-base-controller":491,"../lib/storage/dao":514,"../lib/storage/project":516,"../lib/storage/urls":517,"../lib/util":524,"../lib/util/event-manager":521,"./controllers/add-languages/add-languages-controller":529,"./controllers/dashboards/organizations-dashboard-controller":533,"./controllers/dashboards/users-dashboard-controller":534,"./controllers/financial-dashboard-controller":535,"./controllers/financial-projects-controller":536,"./controllers/floor-plan-template-editor/floor-plan-template-editor-controller":537,"./controllers/fp-download-selector-controller":547,"./controllers/gallery-modal":548,"./controllers/invoice-management-controller":549,"./controllers/main-app-controller/app-controller":550,"./controllers/organization-controller":553,"./controllers/project-listing/change-agent-info-controller":555,"./controllers/project-management-controller":559,"./controllers/project-notes-controller":560,"./controllers/projects-with-assets-controller":561,"./controllers/scroll-to-top-button-controller":562,"./controllers/statistics-controller":563,"./controllers/streetview-upload-controller":564,"./controllers/streetview-view-controller":565,"./controllers/support/contact-us-controller":566,"./controllers/support/service-provider-form-controller":567,"./controllers/user-profile/user-profile-controller":568,"./controllers/video-capture-template-editor/video-template-controller":569,"./share-project-dropdown":573,jquery:304,"malihu-custom-scrollbar-plugin":"malihu-custom-scrollbar-plugin",moment:322,parse:343,path:344}],572:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("main-website/main-routes-website",function(e,t,n){"use strict";var r=e("../lib/util"),i=e("../lib/browser"),o=e("../lib/storage/dao"),a=e("../lib/storage/urls"),s=e("jquery");e("waterwheel");var c=angular.module("insidemaps.app"),l=e("../lib/storage/project"),u=e("../lib/project-config/project-states-config");c.run(["$rootScope","imUserService","$route","imUrlService","$window",function(e,t,n,i,o){e.imUrl=i;var a=["/","/home","/pricing","/order","/support","/project/:projectId/listing"],c=["/exitrealty","/exitrealty/welcome"],l=["/exitrealty","/exitrealty/welcome"];e.$on("$routeChangeStart",function(r,i,o){t.handleRouteChange(r,i,e,n)}),e.$on("$routeChangeSuccess",function(t,n,i){e.isLoadingPage=!1,a.indexOf(n.originalPath)<0?(e.staticHeader=!r.core.isMobileDevice(),s("footer").hide()):(e.staticHeader=!1,s("footer").show()),c.indexOf(n.originalPath)>=0&&s("header").hide(),l.indexOf(n.originalPath)>=0&&s("footer").hide()}),e.$on("$routeChangeError",function(t,n,i,a){if(!a.redirect_url)throw e.isLoadingPage=!1,r.debug.getImprovedError(a,"Cannot access requested URL "+n.originalPath);o.location.href=a.redirect_url}),e.$on("$routeUpdate",function(e,t,n,r,i){})}]);var h=function(e,t){e&&(e.app.hideNavbar=!1),r.params.reloadParameters(t)},d=function(e,t){return o.projectTable.findProjectAsync(e,t)},f=function(e){var t=["pano","cubeReprojection","enablePanoHelpers"];t.forEach(function(t){delete e[t]})};c.config(["$routeProvider","$locationProvider","$sceDelegateProvider",function(e,t,n){t.html5Mode(!0),n.resourceUrlWhitelist(["self","https://cache.insidemaps.com/**","https://cache-1.insidemaps.com/**","https://cache-2.insidemaps.com/**","https://cache-3.insidemaps.com/**","https://cache-4.insidemaps.com/**"]),e.when("/",{templateUrl:function(){return"landing-page-template"},controller:["$scope",function(e){h(e)}]}),e.when("/home",{templateUrl:function(){return"landing-page-template"},controller:["$scope",function(e){h(e)}]}),e.when("/signUp",{templateUrl:function(){return"signup-form"},controller:["$scope",function(e){}]}),e.when("/signIn",{templateUrl:function(){return"login-page-template"},controller:["$scope","$route","$location","imUserService",function(e,t,n,r){h(e),e.app.hideNavbar=!0,e.app.notLoggedIn=!1,r.resolveCachedUser(!0).then(function(t){t?n.$$search.referer?window.location.href=unescape(n.$$search.referer):window.location.href="/":e.app.notLoggedIn=!0})}]}),e.when("/resetPassword",{templateUrl:function(){return"pass-reset"},controller:["$scope",function(e){}]}),e.when("/invalidLink",{templateUrl:function(){return"invalid-link"}}),e.when("/resetPasswordSuccess",{templateUrl:function(){return"pass-reset-success"}}),e.when("/emailVerificationSuccess",{templateUrl:function(){return"email-verification-success"}}),e.when("/floorplan-example",{templateUrl:function(){return"floorplan-example-template"},controller:["$scope",function(e){h(e),e.app.hideNavbar=!0}]}),e.when("/gallery",{templateUrl:function(){return"photo-gallery-template"},controller:["$scope",function(e){h(e)}]}),e.when("/examples",{templateUrl:function(){return console.debug("examples route has been reached"),"front-page-showcase-template"},controller:["$scope",function(e){h(e)}]}),e.when("/order",{templateUrl:function(){return"tools-template"},controller:["$scope",function(e){h(e)}]}),e.when("/Projects-Map",{access:{login:!0,acl:["CustomerSupport"]},templateUrl:function(){return"google-maps-projects-template"},controller:["$scope",function(e){h(e)}]}),e.when("/admin",{access:{acl:["Admin"]},templateUrl:"admin-page-template",controller:["$scope",function(e){h(e)}]}),e.when("/streetview/:projectId",{access:{acl:["User"]},templateUrl:"project-streetview-template",controller:["$scope","project",function(e,t){e.project=t,h(e)}],resolve:{project:["$route",function(e){return d(e.current.params.projectId)}]}}),e.when("/streetview/:projectId/uploader",{access:{acl:["User"]},templateUrl:"project-streetview-uploader-template",controller:["$scope","project",function(e,t){e.project=t,h(e)}],resolve:{project:["$route",function(e){return d(e.current.params.projectId)}]}}),e.when("/customerSupport/dashboard",{access:{acl:["CustomerSupport"]},templateUrl:"customer-support-dashboard-template",controller:["$scope",function(e){h(e)}]}),e.when("/customerSupport/financial",{access:{acl:["CustomerSupport"]},templateUrl:"customer-support-financial-template",controller:["$scope",function(e){h(e)}]}),e.when("/customerSupport/statistics",{access:{acl:["CustomerSupport"]},templateUrl:"statistics-template",controller:["$scope",function(e){h(e)}]}),e.when("/customerSupport/pricingModels",{access:{acl:["Developer"]},templateUrl:"customer-support-pricing-models-template",controller:["$scope",function(e){h(e)}]}),e.when("/collab-demo",{templateUrl:function(){return"collab-demo-template"}}),e.when("/terms",{templateUrl:function(){return"template-terms-page"},controller:["$scope",function(e){h(e)}]}),e.when("/privacy",{templateUrl:function(){return"template-privacy-page"},controller:["$scope",function(e){h(e)}]}),e.when("/register",{templateUrl:function(){return"registration-page-template"},controller:["$scope",function(e){h(e)}]}),e.when("/support",{templateUrl:function(){return"contact-us-form"},controller:["$scope",function(e){h(e)}]}),e.when("/pricing",{templateUrl:function(){return"pricing-template"},controller:["$scope",function(e){h(e)}]}),e.when("/spin-viewer/:projectId",{templateUrl:"3d-redirect-screen",controller:["$window","$routeParams","imUrlService",function(e,t,n){e.location.href=n.getUrl("spin-viewer",t)}]}),e.when("/pano-lite-webgl/:projectId",{templateUrl:"3d-redirect-screen",controller:["$window","$routeParams","imUrlService",function(e,t,n){e.location.href=n.getUrl("pano-lite-webgl",t)}]}),e.when("/project/:projectId/hdr-tour",{templateUrl:function(){return"slideshow-test"},controller:["$scope","$document","parseProject",function(e,t,n){e.parseProject=n,h(e),e.app.hideNavbar=!0}],resolve:{parseProject:["$route",function(e){return d(e.current.params.projectId)}]}}),e.when("/flipbook/:projectId",{templateUrl:function(){return"flipbook-test"},controller:["$scope","$document","parseProject",function(e,t,n){e.parseProject=n,e.images=e.parseProject.getHDRenders(),h(e),e.app.hideNavbar=!0}],resolve:{parseProject:["$route",function(e){return d(e.current.params.projectId)}]}}),e.when("/flipbook",{templateUrl:function(){return"flipbook-test"},controller:["$scope","$document",function(e,t){h(e),e.urls=["this","is","a","test"],e.app.hideNavbar=!0}]}),e.when("/profile",{access:{login:!0},templateUrl:function(){return"profile-page-template"},controller:["$scope",function(e){h(e)}]}),e.when("/dashboard",{access:{login:!0},templateUrl:function(){return"my-dashboard-template-page-two"},controller:["$scope","user",function(e,t){h(e),e.user=t}],resolve:{user:["imUserService",function(e){return e.resolveCachedUser()}]}}),e.when("/my-dashboard",{access:{login:!0},templateUrl:function(){return"my-dashboard-template-page"},controller:["$scope","user",function(e,t){h(e),e.user=t,e.app.hideFooter=!0}],resolve:{user:["imUserService",function(e){return e.resolveCachedUser()}]}}),e.when("/pottery-barn",{templateUrl:"pottery-barn-demo-template",controller:["$scope",function(e){e.app.hideNavbar=!0}]}),e.when("/deviceManagement",{templateUrl:"device-list-template",controller:["$scope",function(e){h(e)}]}),e.when("/project/:projectId/listing",{templateUrl:"project-listing-template",controller:["$scope","$document","$location","project","user",function(e,t,n,r,i){h(e),e.project=r,e.user=i}],resolve:{project:["$route",function(e){return d(e.current.params.projectId,["organization.groupAdminRole","organization.groupUserRole"]).then(function(e){if(e){var t=e.getStatus();return u.isGreaterOrEqualState(t,"operator_qa")?Promise.resolve(e):Promise.reject(new Error("Project is still processing and is not ready for listing page."))}return Promise.reject()})}],user:["imUserService",function(e){return e.resolveCachedUser()}]}}),e.when("/projectManagementOld",{access:{acl:["Supervisor","CustomerSupport"]},templateUrl:function(){return"project-management-template-old"},controller:["$scope","$location","user",function(e,t,n){h(e),e.user=n}],resolve:{user:["imUserService",function(e){return e.resolveCachedUser()}]}}),e.when("/invoiceManagement",{access:{acl:["CustomerSupport"]},templateUrl:"invoice-management-template",controller:["$scope",function(e){h(e)}]}),e.when("/projectManagement",{access:{acl:["Supervisor","CustomerSupport"]},templateUrl:function(){return"project-management-template"},controller:["$scope","$location","user",function(e,t,n){h(e),e.user=n}],resolve:{user:["imUserService",function(e){return e.resolveCachedUser()}]}}),e.when("/dashboards/organizations",{access:{acl:["CustomerSupport"]},templateUrl:function(){return"organizations-dashboard-template"},controller:["$scope",function(e){h(e)}]}),e.when("/dashboards/users",{access:{acl:["CustomerSupport"]},templateUrl:function(){return"users-dashboard-template"},controller:["$scope",function(e){h(e)}]}),e.when("/assignedProjects",{templateUrl:function(){return"project-management-standard-template"},controller:["$scope","user",function(e,t){h(e),e.user=t,e.onlyAssignedProjects=!0}],resolve:{user:["imUserService",function(e){return e.resolveCachedUser()}]}}),e.when("/modeler/dashboard",{access:{acl:["Modeler"]},templateUrl:"modeler-projects-template",controller:["$scope","$location",function(e,t){h(e)}]}),e.when("/dropzone/:projectId",{access:{login:!0,roles:["supervisor","developer","operator","photographer","QA"]},templateUrl:"dropzone-template",controller:["$scope","$routeParams","project","user",function(e,t,n,r){h(e),e.project=n,e.user=r}],resolve:{project:["$route",function(e){return h(null,e.current.params),d(e.current.params.projectId)}],user:["imUserService",function(e){return e.resolveCachedUser()}]}}),e.when("/dropzoneCalibration",{templateUrl:"dropzone-calibration-template",controller:["$scope","$routeParams","user",function(e,t,n){h(e),e.user=n}],resolve:{user:["imUserService",function(e){return e.resolveCachedUser()}]}}),e.when("/hdrUploader/:projectId",{templateUrl:"hdr-image-upload-template",controller:["$scope","project",function(e,t){h(e),e.project=t}],resolve:{project:["$route",function(e){return d(e.current.params.projectId)}]}}),e.when("/modelEdit",{templateUrl:"model-edit-template",controller:["$scope","$location",function(e,t){h(e)}]}),e.when("/textureEdit",{templateUrl:"texture-edit-template",controller:["$scope","$location",function(e,t){h(e)}]}),e.when("/houseEdit/:projectId",{templateUrl:"house-edit-template",controller:["$scope","$location","project",function(e,t,n){h(e),e.house={},e.house.name=n.getPro(),e.project=n}],resolve:{project:["$route",function(e){return d(e.current.params.projectId)}]}}),e.when("/mailingLists",{access:{login:!0,acl:["CustomerSupport","Operator","Modeler"]},templateUrl:"mailing-list-template",controller:["$scope",function(e){h(e)}]}),e.when("/projectLog/:projectId",{templateUrl:"project-log-template",controller:["$scope","$location","project","user",function(e,t,n,r){h(e),e.project=n,e.user=r}],resolve:{project:["$route",function(e){return d(e.current.params.projectId)}],user:["imUserService",function(e){return e.resolveCachedUser()}]}}),e.when("/projectQA/:projectId",{templateUrl:"project-qa-template",controller:["$scope","project",function(e,t){h(e),e.project=t}],resolve:{project:["$route",function(e){return d(e.current.params.projectId)}]}}),e.when("/configure/:furnitureName",{templateUrl:"furniture-configuration-template",controller:["$scope","furniture","$window","$routeParams",function(e,t,n,i){h(e),e.furnitureProject=t,e.app.hideNavbar=!0,e.app.furnitureModelLoaded=!0,e.mainFurnitureModel=t,e.mode="furniture-model",e.path=i.furnitureName,e.metaData=e.mainFurnitureModel.getMetaData(),e.floorPlan=r.params.getBoolean("floorplan",!1)}],resolve:{furniture:["$route",function(e){return h(null,e.current.params),o.furnitureModelTable.findSingleFurnitureModelAsync(e.current.params.furnitureName)}]}}),e.when("/furniture/:furnitureName",{templateUrl:"3d-redirect-screen",controller:["$scope","$window","$routeParams","imUrlService",function(e,t,n,r){t.location.href=r.getUrl("furniture-viewer",n)}]}),e.when("/frequent-questions",{templateUrl:function(){return"frequent-questions-template"},controller:["$scope",function(e){h(e)}]}),e.when("/pottery-barn",{templateUrl:"pottery-barn-demo-template",controller:["$scope",function(e){e.app.hideNavbar=!0}]}),e.when("/newProject",{access:{login:!0,roles:["developer","photographer"]},templateUrl:"new-project-template",controller:["$scope","user",function(e,t){h(e),e.user=t}],resolve:{user:["imUserService",function(e){return e.resolveCachedUser()}]}}),e.when("/project/:projectId",{templateUrl:"project-page-template",controller:["$scope","$routeParams","$location","imUserService","project","user",function(e,t,n,r,i,o){h(e),e.projectId=t.projectId,e.project=i,e.user=o}],resolve:{project:["$route",function(e){return h(null,e.current.params),d(e.current.params.projectId)}],user:["imUserService",function(e){return e.resolveCachedUser()}]}}),e.when("/3d-tour/:fancyName",{templateUrl:"3d-tour-template",controller:["$scope","project","$window","$sce",function(e,t,n,i){h(e),e.project=t,e.iframeUrl="/model-embedded/project/"+e.project.id+"/json?pano&cubeReprojection&enablePanoHelpers&loadFrom=s3&env="+r.params.getEnvironmentName(),e.getTrustedSrc=function(t){return i.trustAsResourceUrl(e.iframeUrl)}}],resolve:{project:["$route","$q",function(e,t){return h(null,e.current.params),o.projectTable.findProjectByFancyNameAsync(e.current.params.fancyName)}]}}),e.when("/project/:projectId/virtual-tour",{templateUrl:"3d-redirect-screen",controller:["$window","$routeParams","imUrlService",function(e,t,n){t.pano?(f(t),e.location.href=n.getUrl("walkthrough",t)):e.location.href=n.getUrl("3dmodel",t)}]}),e.when("/project/:projectId/virtual-tour/parse",{templateUrl:"3d-viewer-template",controller:["$scope","project",function(e,t){h(e),e.mode="parse-model",e.project=t,e.path=null}],resolve:{project:["$route",function(e){return h(null,e.current.params),d(e.current.params.projectId)}]}}),e.when("/project/:projectId/virtual-tour/json",{templateUrl:"3d-redirect-screen",controller:["$window","$routeParams","imUrlService",function(e,t,n){t.json=!0,t.pano?(f(t),e.location.href=n.getUrl("walkthrough",t)):e.location.href=n.getUrl("3dmodel",t)}]}),e.when("/listings/:fancyName",{templateUrl:"3d-redirect-screen",controller:["$window","$routeParams","project","imUrlService",function(e,t,n,r){if(void 0===n)throw new Error("Could not find listing with that name. Please make sure the listing is spelled correctly.");t.projectId=n.id,delete t.fancyName,e.location.href=r.getUrl("3dmodel",t)}],resolve:{project:["$route",function(e){return o.projectTable.findProjectByFancyNameAsync(e.current.params.fancyName)}]}}),e.when("/listings/:fancyName/preview",{templateUrl:"splash-screen",controller:["$scope","$routeParams","$location","project",function(e,t,n,o){return o?(h(e),e.project=o,e.storageProject&&e.storageProject.parseId===o.id||(e.storageProject=new l(o)),e.app.hideNavbar=!0,e.redirect="/listings/"+t.fancyName,e.modelName=e.project.getStreet(),r.params.getBoolean("unbranded",!1)?e.logoUrl=null:e.storageProject.fetchLogoUrlsAsync().then(function(){e.logoUrl=e.storageProject.logoUrl,i.angular.triggerUpdate()}),void(e.screenshotUrl=e.project.getCustomModelSplash()?a.getUrlForPath(e.project.getCustomModelSplash(),{},!0)+"?loadingBackground":a.getParseUrl(o.getScreenshotUrl()))):void n.url("/")}],resolve:{project:["$route","$q",function(e,t){return h(null,e.current.params),o.projectTable.findProjectByFancyNameAsync(e.current.params.fancyName)}]}}),e.when("/model/:modelPath",{templateUrl:"3d-redirect-screen",controller:["$routeParams","$window","imUrlService",function(e,t,n){t.location.href=n.getUrl("3dmodel",e)}]}),e.when("/model-embedded/:modelPath",{templateUrl:"splash-screen",controller:["$scope","$routeParams",function(e,t){h(e),e.app.hideNavbar=!0,e.redirect="/model/"+t.modelPath,e.modelName="",e.virtualTourType="Model";var n=t.modelPath.split("-");e.modelName="'"+n.join(" ")+"'",e.screenshotUrl="/app/main-website/Showcase_2.jpg"}]}),e.when("/model-embedded/project/:projectId",{templateUrl:"3d-redirect-screen",controller:["$window","$routeParams","imUrlService",function(e,t,n){t.pano?(f(t),e.location.href=n.getUrl("walkthroughEmbedded",t)):e.location.href=n.getUrl("3dmodelEmbedded",t)}]}),e.when("/model-embedded/project/:projectId/json",{templateUrl:"3d-redirect-screen",controller:["$window","$routeParams","imUrlService",function(e,t,n){t.json=!0,t.pano?(f(t),e.location.href=n.getUrl("walkthroughEmbedded",t)):e.location.href=n.getUrl("3dmodelEmbedded",t)}]}),e.when("/3dre/:roomId",{templateUrl:"3d-redirect-screen",controller:["$window","$routeParams","imUrlService",function(e,t,n){e.location.href=n.getUrl("triangulator",t)}]}),e.when("/tetra/:roomId",{templateUrl:"3d-redirect-screen",controller:["$window","$routeParams","imUrlService",function(e,t,n){t.tetra=!0,e.location.href=n.getUrl("triangulator",t)}]}),e.when("/vt-preview",{templateUrl:"3d-viewer-template",controller:["$scope",function(e){h(e),e.mode="vt-preview"}]}),e.when("/analytics",{access:{acl:["Developer"],login:!0},templateUrl:"analytics-template",controller:["$scope",function(e){h(e)}]}),e.when("/organization/:organizationId",{templateUrl:"organization-template",controller:["$scope","organization",function(e,t){h(e),e.organization=t}],resolve:{organization:["$route",function(e){var t=e.current.params.organizationId;return o.organizationTable.findOrganizationAsync(t,["creator","groupUserRole","groupAdminRole","config","config.pricingModel","apiConfig"])}]}}),e.when("/userOrganizations",{access:{login:!0},templateUrl:"user-organizations-template",controller:["$scope",function(e){h(e)}]}),e.when("/organizationInvitation/:organizationMemberId",{access:{login:!0},templateUrl:"invitation-response-template",controller:["$scope","$route","$window","organizationMember","imOrganizationService",function(e,t,n,r,i){var o=t.current.params.digest,a=t.current.params.accept,s=t.current.params.decline;r.isConfirmed()?n.location.href="/organization/"+r.getOrganization().id:o===r.getOneTimeDigest()?a?(e.invitationAccept=!0,i.confirmOrganizationMember(r).then(function(){n.location.href="/organization/"+r.getOrganization().id}.bind(this))):s&&(e.invitationDecline=!0,i.deleteOrganizationMember(r).then(function(){n.location.href="/userOrganizations"}.bind(this))):e.expiredUrl=!0}],resolve:{organizationMember:["$route",function(e){return o.organizationMemberTable.findOrganizationMemberAsync(e.current.params.organizationMemberId)}]}}),e.when("/exitrealty",{templateUrl:function(){return"exitrealty-template"},controller:["$scope","user",function(e,t){t?window.location="/":h(e)}],resolve:{user:["imUserService",function(e){return e.resolveCachedUser()}]}}),e.when("/exitrealty/welcome",{templateUrl:function(){return"exitrealty-welcome-template"},controller:["$scope",function(e){h(e)}]}),e.otherwise({redirectTo:function(){return console.debug("route unknown, redirecting to home page"),"/"}})}])})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/browser":475,"../lib/project-config/project-states-config":490,"../lib/storage/dao":514,"../lib/storage/project":516,"../lib/storage/urls":517,"../lib/util":524,jquery:304,waterwheel:"waterwheel"}],573:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("main-website/share-project-dropdown",function(e,t,n){"use strict";var r=e("../lib/util/util"),i=e("../lib/storage/dao"),o=e("parse").Parse,a=e("jquery"),s=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,3}))$/,c=n.exports=function(e){this.project=e,this.emailInputArray=[],this.floorCheckboxes=null,this.lastEmailInput=null,this.floorIds=[],this.floorNames=[],this.projectUsers=[],this.floorUsers=[],this.projectUsersUsernames=[],this.shareDropdown,this.FONT_SIZE=4,this.TIMESTAMPS_ENABLED=!1,this.KEY_CODE_ENTER=13};c.prototype={},c.prototype.closeShareProjectDropdownMenu=function(){a("body").trigger("click")},c.prototype.init=function(e){this.project=e;var t=this;this.project&&this.isUserOperatorOrOwner().then(function(){this.TIMESTAMPS_ENABLED||a("#timestamp-th").hide(),a("#share-invite-menu-button").bind("click",{},function(e){console.log("click"),a("#share-menu").modal("show")}),a("#share-close-button").bind("click",{},function(e){a("#share-menu").hide("fast")}),t.resetShareProjectDropdown(),a("#share-invite-button").bind("click",{project:e,self:t},function(e){t.onClickInvite()}),a("#share-init-owner-button").bind("click",{self:t},function(e){t.initOwnerClick()}),a("#share-user-email").bind("input",{},function(e){var t=a("#share-user-email").val();t.match(s)?a("#share-invite-button").attr("disabled",!1):a("#share-invite-button").attr("disabled",!0)}).bind("keyup",{self:t},function(e){e.keyCode!=t.KEY_CODE_ENTER||a("#share-invite-button").attr("disabled")||t.onClickInvite()}),a("#change-owner-email").bind("input",{textField:a("#change-owner-email"),button:a("#change-owner-button")},t._onEmailFieldInput).bind("keyup",{},function(e){e.keyCode!=t.KEY_CODE_ENTER||a("#change-owner-button").attr("disabled")||t._changeOwner()}),a("#change-owner-button").bind("click",{},function(e){t._changeOwner()}),a("#clone-project-email").bind("input",{},function(e){var t=a("#clone-project-email").val();t.match(s)?a("#clone-project-button").attr("disabled",!1):a("#clone-project-button").attr("disabled",!0)}).bind("keyup",{self:t},function(e){e.keyCode!=t.KEY_CODE_ENTER||a("#share-invite-button").attr("disabled")||t.onClickClone()}),a("#clone-project-button").bind("click",{self:t},function(e){t.onClickClone()}),a("#share-public-acces-td").append(t.getUserRoleSelectMenu()),a("#share-public-date-td").append(t.getDatepicker()),t.updateUsersTableFromDatabase(),a("#share-menu").on("show.bs.modal",t._onShow),a("#invites-modal-button").show()})},c.prototype._onShow=function(e){a("#share-menu input").val(""),a("#clone-project-button").text("Clone"),a("#clone-project-button").attr("disabled",!0),a("#clone-project-email").attr("disabled",!1)},c.prototype._onEmailFieldInput=function(e){var t=e.data.textField.val(),n=e.data.button;t.match(s)?n.attr("disabled",!1):n.attr("disabled",!0)},c.prototype._changeOwner=function(){var e=a("#change-owner-email").val(),t=this;a("#change-owner-button").attr("disabled",!0),a("#change-owner-button").text("Changing..."),a("#change-owner-email").attr("disabled",!0),o.Cloud.run("changeProjectOwner",{projectId:t.project.id,userEmail:e,prefix:i.DATABASE_TABLE_PREFIX},{success:function(e){a("#change-owner-button").text("Success!"),setTimeout(t._revertChangeOwnerInputToDefault,3e3),console.log(e)},error:function(e){a("#clone-project-button").text("ERROR !!!"),setTimeout(t._revertChangeOwnerInputToDefault,3e3),console.error(e)}})},c.prototype._revertChangeOwnerInputToDefault=function(){a("#change-owner-button").attr("disabled",!0),a("#change-owner-button").text("Change owner"),a("#change-owner-email").attr("disabled",!1),a("#change-owner-email").val("")},c.prototype.onClickClone=function(){var e=this,t=i.DATABASE_TABLE_PREFIX,n=i.DATABASE_TABLE_PREFIX;""!==t&&t||(t="production"),""!==n&&n||(n="production");var s=a("#clone-project-email").val(),c=a("#toDemoTables").is(":checked");c&&(n="demo_"),a("#clone-project-button").text("Cloning..."),a("#clone-project-button").attr("disabled",!0),a("#clone-project-email").attr("disabled",!0);var l=o.User.current(),u=l.get("email"),h={projectId:e.project.id,userEmail:u,operatorEmail:s};return r.callApiAsync("POST","/api/v1/project/clone",h).then(function(){e.revertCloneInputToDefault(),alert("Project is being cloned. You "+(u!=s?'and "'+s+'" ':"")+"will be notified by email when cloning is complete."),a("#share-menu").modal("hide")})["catch"](function(e){throw a("#clone-project-button").text("Clone"),a("#clone-project-button").attr("disabled",!1),a("#clone-project-email").attr("disabled",!1),e})},c.prototype.revertCloneInputToDefault=function(){a("#clone-project-button").text("Clone"),a("#clone-project-button").attr("disabled",!1),a("#clone-project-email").attr("disabled",!1),a("#clone-project-email").val("")},c.prototype.onClickInvite=function(){var e=(a("#share-project-role-select").val(),this),t=a("#share-user-email").val();this.addUserToProject(this.project.id,t,"viewer",null).then(function(){return console.log("Added user to project"),r.callApiAsync("POST","/api/v1/project/notifyAddedUser",{userEmail:t,projectId:this.project.id})}.bind(this))["catch"](function(t){e.updateUsersTableFromDatabase(),console.log(t)}),a("#share-user-email").val(""),a("#share-invite-button").attr("disabled",!0)},c.prototype.addUserToProject=function(e,t,n,r){var i=new o.Promise,a=this;return this.addProjectUser(e,t,n,r).then(function(){i.resolve()},function(e){a.updateUsersTableFromDatabase(),i.reject(e)}),a.updateUsersTable(),i},c.prototype.addUserToFloor=function(e,t,n,r){var i=[];return i.push(this.addFloorObjectsPermissions(e,t,n,"Room")),i.push(this.addFloorObjectsPermissions(e,t,n,"Wall")),i.push(this.addFloorObjectsPermissions(e,t,n,"WallElement")),i.push(this.addFloorObjectsPermissions(e,t,n,"Furniture")),i.push(this.addFloorPermissions(e,t,n)),o.Promise.when(i)},c.prototype.addFloorPermissions=function(e,t,n){var r=new o.Promise;return o.Cloud.run("addFloorPermissions",{floorId:e,userEmail:t,prefix:i.DATABASE_TABLE_PREFIX,userRole:n},{success:function(){console.log("added floor permissions"),r.resolve()},error:function(e){r.reject(e)}}),r},c.prototype.addFloorObjectsPermissions=function(e,t,n,r){var a=new o.Promise;return o.Cloud.run("addFloorObjectsPermissions",{floorId:e,userEmail:t,prefix:i.DATABASE_TABLE_PREFIX,userRole:n,objectClassName:r},{success:function(){a.resolve()},error:function(e){a.reject(e)}}),a},c.prototype.addProjectUser=function(e,t,n,r){var a=new o.Promise;return o.Cloud.run("addProjectUser",{projectId:e,userEmail:t,prefix:i.DATABASE_TABLE_PREFIX,userRole:n,timeUntil:r},{success:function(){a.resolve()},error:function(e){a.reject(e)}}),a},c.prototype.editProjectUser=function(e,t,n){var r=new o.Promise;return o.Cloud.run("editProjectUser",{projectId:e,userEmail:t,prefix:i.DATABASE_TABLE_PREFIX,userRole:n},{success:function(){r.resolve()},error:function(e){r.reject(e)}}),r},c.prototype.deleteProjectUser=function(e){var t=new o.Promise,n=this;return o.Cloud.run("deleteProjectUser",{projectId:n.project.id,userEmail:e,prefix:i.DATABASE_TABLE_PREFIX},{success:function(){t.resolve()},error:function(e){t.reject(e)}}),t},c.prototype.resetShareProjectDropdown=function(){if(this.emailInputArray=[],a("#share-emails").empty(),this.addEmailInputToShare(),a("#share-whole-project-checkbox").prop("checked",!0),this.floorCheckboxes)for(var e=0;e<this.floorCheckboxes.length;e++)this.floorCheckboxes[e].prop("checked",!1),this.floorCheckboxes[e].attr("disabled",!0);a('input[name="userType"]').attr("checked",!1)},c.prototype.addEmailInputToShare=function(){this.lastEmailInput=a('<input type="text" />');var e=this.lastEmailInput,t=a("</br>");a("#share-emails").append(this.lastEmailInput);var n=this.emailInputArray.length;this.emailInputArray.push(e);var r=this;this.lastEmailInput.bind("input",{self:r,emailInput:e,newRow:t,elemIndex:n},function(){e==r.lastEmailInput?r.addEmailInputToShare():this.value||(r.elemIndex<r.emailInputArray.length&&delete r.emailInputArray[n],e.remove(),t.remove(),r.lastEmailInput.focus())})},c.prototype.updateUsersTableFromDatabase=function(){},c.prototype.updateUsersTable=function(){var e=a("#share-users-table-tbody");if(e.empty(),e.append(this.getPublicReadTableRow()),this.projectUsers)for(var t=0;t<this.projectUsers.length;t++){var n=this.projectUsers[t];n.get("userEmail")!=o.User.current().getEmail()&&n.get("userEmail")!=this.project.get("userGoogleEmail")&&e.append(this.getUserRow(n))}},c.prototype.getUserRow=function(e){var t=this;this.projectUsersUsernames.push(e.get("userEmail"));var n=a('<tr style="width: 50%"></tr>'),r=e.get("userEmail");n.append(a("<td><font size="+this.FONT_SIZE+">"+r+"</font></td>")),n.append(this.getUserRoleSelectMenuTD(e)),this.TIMESTAMPS_ENABLED&&n.append(this.getDatepickerTD(e));var i=a("<td></td>"),o=a('<button type="button" class="btn btn-default" style="width: 100px">Delete</button>');if(e.get("floorName")){if(e.get("floor")){var s=e.get("floor").id;o.bind("click",{self:t,userEmail:r,floorId:s
},function(e){o.text("Deleting..."),o.attr("disabled",!0),t.deleteUserFromFloor(s,r).then(function(){t.updateUsersTableFromDatabase()},function(e){console.log(e),t.updateUsersTableFromDatabase()})})}}else o.bind("click",{self:t,userEmail:r,deleteButton:o},function(e){o.text("Deleting..."),o.attr("disabled",!0),t.deleteProjectUser(r).then(function(){t.updateUsersTableFromDatabase()},function(e){console.log(e),t.updateUsersTableFromDatabase()})});return i.append(o),n.append(i),n},c.prototype.isUserOperatorOrOwner=function(){var e=new o.Promise,t=this,n=new o.Query(o.Role);return n.equalTo("name","Operator"),n.first({success:function(n){if(n)e.resolve();else{var r=new o.Query(o.Role),a=i.DATABASE_TABLE_PREFIX+"project_"+t.project.id+"_owner";r.equalTo("name",a),r.find().then(function(t){t&&t.length>0?e.resolve():e.reject()},function(t){console.error(t),e.reject(t)})}},error:function(t){e.reject()}}),e},c.prototype.deleteUserFromFloor=function(e,t){var n=[];return n.push(this.removeFloorObjectsPermissions(e,t,"Furniture")),n.push(this.removeFloorObjectsPermissions(e,t,"Room")),n.push(this.removeFloorObjectsPermissions(e,t,"Wall")),n.push(this.removeFloorObjectsPermissions(e,t,"WallElement")),n.push(this.removeFloorPermissions(e,t)),n.push(this.removeFloorUser(e,t)),o.Promise.when(n)},c.prototype.removeProjectPermissions=function(e,t){var n=new o.Promise;return o.Cloud.run("removeProjectPermissions",{projectId:e,userEmail:t,prefix:i.DATABASE_TABLE_PREFIX},{success:function(){n.resolve()},error:function(e){n.reject(e)}}),n},c.prototype.removeFloorPermissions=function(e,t){var n=new o.Promise;return o.Cloud.run("removeFloorPermissions",{floorId:e,userEmail:t,prefix:i.DATABASE_TABLE_PREFIX},{success:function(){n.resolve()},error:function(e){n.reject(e)}}),n},c.prototype.removeFloorObjectsPermissions=function(e,t,n){var r=new o.Promise;return o.Cloud.run("removeFloorObjectsPermissions",{floorId:e,userEmail:t,prefix:i.DATABASE_TABLE_PREFIX,objectClassName:n},{success:function(){r.resolve()},error:function(e){r.reject(e)}}),r},c.prototype.getUserRoleSelectMenuTD=function(e){var t=a('<td style="overflow: visible;"></td>'),n=this.getUserRoleSelectMenu(e);return t.append(n),t},c.prototype.getUserRoleSelectMenu=function(e){var t=a('<select class="selectpicker"></select>');if(t.append('<option value="noaccess">No access</option><option value="viewer">Viewer</option>\t\t<option value="collaborator">Collaborator</option><option value="owner">Owner</option>'),e){var n=this;t.bind("change",{self:n},function(){if(t.val()!=e.get("role")){var r=t.val();n.editProjectUser(n.project.id,e.get("userEmail"),r).then(function(){console.log("update success")},function(e){console.log(e)})}}),t.val(e.get("role"))}return t},c.prototype.getDatepicker=function(e){var t;t=e&&e.get("timeUntil")?e.get("timeUntil"):"";var n=a('<input type="text" type="text" class="form-control datepicker" data-date-format="dd-mm-yyyy" style="width: 130px; text-align: center;" value="'+t+'"readonly>');if(e){var r=this;n.bind("changeDate",{},function(){var t=n.val();e.get("timeUntil")!=t&&(e.set("timeUntil",t),e.save().then(function(){},function(e){console.log(e),r.updateUsersTableFromDatabase()}))}).bind("onkeypress",{},function(){console.log("press")})}return n},c.prototype.getDatepickerTD=function(e){var t=a("<td></td>"),n=this.getDatepicker(e);return t.append(n),t},c.prototype.setPublicAccessForProject=function(e,t){var n=this,r=new o.Promise,a=function(){var e=[];return e.push(i.Floor.listFloorsForProjectAsync(n.project)),e.push(n._findObjectsForProject("Room")),e.push(n._findObjectsForProject("Wall")),e.push(n._findObjectsForProject("WallElement")),e.push(n._findObjectsForProject("WallHeight")),e.push(n._findObjectsForProject("Stud")),e.push(n._findObjectsForProject("Label")),e.push(n._findObjectsForProject("Furniture")),o.Promise.when(e)},s=this.project.getACL();s||(s=new o.ACL),s.setPublicReadAccess(e),s.setPublicWriteAccess(t);var c=[this.project];return a().then(function(){for(var e=0;e<arguments.length;e++)c=c.concat(arguments[e]);return c.forEach(function(e){e.setACL(s)}),o.Object.saveAll(c)}).then(function(){r.resolve()},function(e){r.reject(e)}),r},c.prototype.getPublicReadTableRow=function(){var e=this,t=a("<tr></tr>");t.append("<td><font size="+this.FONT_SIZE+">Everyone</font></td>");var n=a('<td style="overflow: visible;"></td>'),r=a('<select class="selectpicker"></select>');r.append('<option value="noaccess">No access</option><option value="viewer">Viewer</option><option value="collaborator">Collaborator</option>'),n.append(r),t.append(n);var i=a("<td></td>"),o=a('<input type="text" type="text" class="form-control datepicker" data-date-format="dd-mm-yyyy" style="width: 130px; text-align: center;" readonly>');i.append(o),this.TIMESTAMPS_ENABLED&&t.append(i),t.append(a("<td></td>"));var s=this.project.getACL();return s&&s.getPublicWriteAccess()?r.val("collaborator"):s&&s.getPublicReadAccess()?r.val("viewer"):r.val("noaccess"),r.bind("change",{selectMenu:r,self:e},function(){var t="viewer"==r.val()||"collaborator"==r.val(),n="collaborator"==r.val();e.setPublicAccessForProject(t,n).then(function(){console.log("Public permissions changed")},function(e){console.error(e)})}),t},c.prototype.initOwnerClick=function(){this.initProjectOwner().then(function(){console.log("Project ACL init done")},function(e){console.log(e)})},c.prototype.initProjectOwner=function(){var e=new o.Promise,t=this;return t.project.set("user",o.User.current()),t.project.set("userGoogleEmail",o.User.current().getEmail()),t.project.setACL(void 0),t.project.save().then(function(){return console.log("project saved"),t.initFloorsACLs()}).then(function(){return t.initFloorObjectsACLs()}).then(function(){e.resolve()},function(t){console.error(t),e.reject()}),e},c.prototype.initFloorsACLs=function(){var e=new o.Promise,t=this,n=new o.Query(i.floorTable);return n.equalTo("project",t.project),n.find().then(function(e){for(var n=[],r=t._createProjectACL(),i=0;i<e.length;i++)e[i].setACL(r),n.push(e[i].save());return console.log("floors length "+e.length),o.Promise.when(n)}).then(function(){console.log("Floors saved"),e.resolve()},function(t){e.reject(t)}),e},c.prototype.initAllACLs=function(){var e=this;console.log("Project ACL init"),e.initACLForObjects(i.projectTable).then(function(){return console.log("Floor ACL init"),e.initACLForObjects(i.floorTable)}).then(function(){return console.log("Furniture ACL init"),e.initACLForObjects(i.furnitureTable)}).then(function(){return console.log("Room ACL init"),e.initACLForObjects(i.roomTable)}).then(function(){return console.log("Wall ACL init"),e.initACLForObjects(i.wallTable)}).then(function(){return console.log("WallElement ACL init"),e.initACLForObjects(i.wallElementTable)}).then(function(){console.log("all done")},function(e){console.error(e)})},c.prototype.initACLForObjects=function(e,t,n){var r=1e3,i=new o.Promise,a=this,s=new o.Query(e);return n&&s.matchesQuery(n,t),s.count().then(function(i){var s=[];console.log("numObjects = "+i);for(var c=0;c<i;c+=r)s.push(a.initACLForObjects_skip(e,c,r,t,n));return o.Promise.when(s)}).then(function(){i.resolve()},function(e){i.reject(e)}),i},c.prototype.initACLForObjects_skip=function(e,t,n,r,i){var a=new o.Promise,s=this,c=new o.Query(e);return c.limit(n),c.skip(t),i&&c.matchesQuery(i,r),c.find().then(function(e){for(var t=[],n=s._createProjectACL(),r=0;r<e.length;r++)e[r].setACL(n),t.push(e[r].save());return o.Promise.when(t)}).then(function(){a.resolve()},function(e){a.reject(e)}),a},c.prototype.initFloorObjectsACLs=function(){var e=new o.Promise,t=new o.Query(i.floorTable);t.equalTo("project",this.project);var n=this;return n.initACLForObjects(i.roomTable,t,"floor").then(function(){return console.log("Rooms saved"),n.initACLForObjects(i.furnitureTable,t,"floor")}).then(function(){return console.log("furniture saved"),n.initACLForObjects(i.wallTable,t,"floor")}).then(function(){return console.log("walls saved"),n.initACLForObjects(i.wallElementTable,t,"floor")}).then(function(){console.log("wall elements saved"),e.resolve()},function(t){e.reject(t)}),e},c.prototype._createProjectACL=function(){var e=new o.ACL;return e.setRoleReadAccess("Operator",!0),e.setRoleWriteAccess("Operator",!0),e},c.prototype._findObjectsForProject=function(e){var t=1e3,n=this,r=new o.Promise,a=i.Floor,s=new o.Query(a);s.equalTo("project",n.project);var c=o.Object.extend(i.DATABASE_TABLE_PREFIX+e),l=function(e){var n=(new o.Promise,new o.Promise,new o.Query(c));return n.matchesQuery("floor",s),n.skip(e),n.limit(t),n.find()},u=new o.Query(c);return u.matchesQuery("floor",s),u.count().then(function(e){if(e>0){for(var n=parseInt(e/t)+1,r=[],i=0;i<n;i++)r.push(l(t*i));return o.Promise.when(r)}return o.Promise.as([])}).then(function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(arguments[t]);r.resolve(e)},function(e){r.reject(e)}),r}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/storage/dao":514,"../lib/util/util":527,jquery:304,parse:343}],574:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("modeler-tools/furniture-uploader",function(e,t,n){"use strict";var r={dao:e("../lib/storage/dao"),angularUtils:e("../lib/browser/angular"),graphics:e("../lib/browser/graphics"),util:e("../lib/util/util"),urls:e("../lib/storage/urls")},i=e("../lib/util");n.exports="modeler-tools-module";var o=angular.module("modeler-tools-module",[e("../lib/browser/modules/ui-components"),e("../lib/browser/modules/utility-components")]);o.controller("furnitureUploadController",["$scope","$location","$http","$timeout","$modal",function(e,t,n,o,a){e.urls=r.urls;var s=r.dao.furnitureModelTable;e.selectedFiles=[],e.dummyModel=!1,e.testFunction=function(t){e.uploader.readyForS3=!1,r.angularUtils.triggerUpdate()},e.indexOfObj=-1,e.setIndex=function(t){e.indexOfObj=t,e.uploader.selectedFurnitureObject=e.uploader.modelsList[t],e.uploader.furnitureName=e.uploader.modelsList[t].getName(),e.filesList=e.uploader.modelsList[t].filesInS3,e.editor.newFurnitureType=e.uploader.modelsList[t].getType(),o(function(){r.angularUtils.triggerUpdate()},500)},e.addToSelectedFiles=function(t){var n=e.selectedFiles.indexOf(t);n>-1?e.selectedFiles.splice(n,1):e.selectedFiles.push(t)},e.clearSelectedFiles=function(){e.selectedFiles=[],$("input:checkbox").removeAttr("checked")},e.types=["cupboardDoor","window","door","garageDoor","slidingDoor","entryDoor","closetDoor","cupboardHandle","doorHandle","wallTrim","trim","doorTrim","testing","ceilingLight","armchair","bathroom","bathtub","bed","cabinet","carpet","chair","coffee table","dining","lamp","media stand","sofa","table","toilet","vase","walldecor","ikea","mirror"];var c=["toilet cabinet","toilet bowl","washer","kitchen counter","kitchen cabinet","kitchen island","kitchen sink","shower","jacuzzi","stove","refrigerator","dish washer","fireplace","closet","bedroom","couch","flower"],l=e.types.map(function(e){return{name:e+" VT",value:e}}),u=c.map(function(e){return{name:e,value:e}});e.floorEditorTypes=l.concat(u),e.orthoSvgs=[],i.core.callApiAsync("GET","/api/v1/modeler/listOrthos",{}).then(function(t){t.splice(0,1),t.forEach(function(t){e.orthoSvgs.push(t.substr(1))}),r.angularUtils.triggerUpdate()}),e.doSomething=function(){},e.uploader={furnitureName:"",modelsList:[],filteredModelsList:[],furnitureType:"testing",notUploadedToParse:!0,readyForS3:!1,filesToUpload:[],numberOfModels:0,newFurnitureModel:!1,furnitureTags:null,isFloorEditorModel:!1,useExisitingImage:!1,existingModel:!1,svgImage:null,depth:0,height:0,width:0,offset:0,currentFilterText:"",currentFilterType:"name",filterTypes:["name","type","tags"],applyFilter:function(){var t=e.uploader;if(t.filteredModelsList=[].concat(t.modelsList),""!==t.currentFilterText){var n=t.filteredModelsList,r=t.currentFilterText.toLowerCase();"name"===t.currentFilterType?t.filteredModelsList=n.filter(function(e){var t=e.getName();return!!t&&(t=t.toLowerCase(),t.indexOf(r)>=0)}):"type"===t.currentFilterType?t.filteredModelsList=n.filter(function(e){var t=e.getType();return!!t&&(t=t.toLowerCase(),t.indexOf(r)>=0)}):"tags"===t.currentFilterType&&(t.filteredModelsList=n.filter(function(e){for(var t=e.getTags(),n=0;n<t.length;n++){var i=t[n].toLowerCase();if(i.indexOf(r)>=0)return!0}return!1}))}},findFilesFromS3:function(t){e.editor.findFilesFromS3(t)},submit:function(){e.uploader.furnitureName&&e.uploader.furnitureType&&e.uploader.filesToUpload&&i.core.callApiAsync("POST","/api/v1/modeler/furniture",{furnitureName:e.uploader.furnitureName,modelType:e.uploader.furnitureType,existing:e.uploader.existingModel,useExistingImage:e.uploader.useExistingImage,height:e.uploader.height,width:e.uploader.width,depth:e.uploader.depth,offset:e.uploader.offset,isFloorEditorModel:e.uploader.isFloorEditorModel,furnitureTags:e.uploader.furnitureTags,files:e.uploader.filesToUpload,orthoImageName:e.uploader.svgImageName}).then(function(t){e.uploader.numberOfModels=0,e.uploader.modelsList=[],e.uploader.filteredModelsList=[],e.uploader.updateModelsList(),e.uploader.toggleUploadForm(),r.angularUtils.triggerUpdate(),console.debug(t)})},uploadModel:function(){e.uploader.furnitureName?(e.uploader.notUploadedToParse=!1,e.uploader.readyForS3=!0,r.angularUtils.triggerUpdate(),s.addNewDefaultFurnitureAsync(e.uploader.furnitureName).then(function(e){console.debug("click the other form button")})["catch"](function(t){e.uploader.notUploadedToParse=!0,e.uploader.readyForS3=!1,r.angularUtils.triggerUpdate(),r.debug.getDetailedErrorMessage(t)})):alert("Make sure a furniture name is specified")},editModel:function(){var t=e.editor.newFurnitureType,n=e.uploader.furnitureName;e.uploader.selectedFurnitureObject.set("name",n),e.uploader.selectedFurnitureObject.set("type",t),e.uploader.selectedFurnitureObject.save().then(function(){console.debug("successfuly updated parse model")},function(e){console.error(e)})},updateModelsList:function(t){var n=t||20;s.findAllFurnitureModelsAsync(null,{limit:n,skipNumber:e.uploader.numberOfModels}).then(function(t){e.uploader.numberOfModels+=t.length,e.$apply(function(){e.uploader.modelsList=e.uploader.modelsList.concat(t),e.uploader.applyFilter(),e.editor.furnitureToUpdate=e.uploader.modelsList[0].getName()})})["catch"](function(e){r.debug.getDetailedErrorMessage(e)})},showUpdateModal:function(t){a.open({templateUrl:"updateExistingFurniture",controller:"furnitureEditController",scope:e,size:"md",resolve:{furniturePiece:function(){return e.uploader.filteredModelsList[t]}}})},toggleUploadForm:function(){e.uploader.newFurnitureModel=!e.uploader.newFurnitureModel},addFurnitureFiles:function(){e.uploader.filesToUpload=[],r.graphics.selectFileDialog({},function(t){for(var n in t)"object"==typeof t[n]&&e.uploader.filesToUpload.push(t[n]);r.angularUtils.triggerUpdate()},this)},addSvgImage:function(){r.graphics.selectFileDialog({},function(t){e.uploader.svgImageName=t.name,e.uploader.filesToUpload.push(t),r.angularUtils.triggerUpdate()},this,!1)},deleteModel:function(t){var n=e.uploader.filteredModelsList,o=n[t];i.core.callApiAsync("GET","/api/v1/modeler/deleteFurniture/"+o.id).then(function(){var i=e.uploader.modelsList.indexOf(o);i>=0&&e.uploader.modelsList.splice(i,1),n.splice(t,1),r.angularUtils.triggerUpdate()})},showModelInWindow:function(t){var n=t.split(" ").join("__-__");n=n.split(".").join("__dot__"),a.open({templateUrl:"furniture-model-dialog",controller:"FurnitureModelViewController as viewer",scope:e,size:"lg",resolve:{furnitureName:function(){return n}}})}},e.editor={newFurnitureName:"",newFurnitureType:"",furnitureToUpdate:"",updateModel:function(){s.findSingleFurnitureModelAsync(e.editor.furnitureToUpdate).then(function(t){return""!==e.editor.newFurnitureName&&(console.debug(e.editor.newFurnitureName),t.set("name",e.editor.newFurnitureName)),e.editor.newFurnitureType&&(console.debug(e.editor.newFurnitureType),t.set("type",e.editor.newFurnitureType)),t.saveAsync()}).then(function(){e.uploader.updateModelsList(),alert("successfuly updated model")})["catch"](function(e){r.debug.getDetailedErrorMessage(e)})},removeModel:function(){e.uploader.modelsList[e.indexOfObj]},findFilesFromS3:function(t){var r=e.uploader.filteredModelsList;void 0!==t&&(r=e.uploader.filteredModelsList[t]?[e.uploader.filteredModelsList[t]]:[]),r.forEach(function(e){var t="/api/v1/modeler/furniture/"+e.attributes.name;n.get(t).success(function(t,n,r,i){t.length>0&&("/"===t[0]&&t.splice(0,1),e.filesInS3=t)}).error(function(e,t,n,r){console.error(e)})})}},e.uploader.updateModelsList()}]),o.controller("FurnitureModelViewController",i.core.makeClass({},{$inject:["$scope","$modalInstance","furnitureName"]},{constructor:function(e,t,n){this.$scope=e,this.furnitureName=n,this.$modalInstance=t},close:function(){this.$modalInstance.close()}})),o.controller("texturePageController",["$scope","$modal",function(e,t){e.urls=r.urls,e.textureList=[],r.dao.materialTable.findAllMaterialsAsync().then(function(t){e.textureList=t,r.angularUtils.triggerUpdate()}),e.newTextureName="",e.newTextureType="testing",e.types=["paints","walls","floors","testing"],e.showTextureUpload=function(){t.open({templateUrl:"addNewTextureTemplate",controller:"textureUploaderController",scope:e,size:"md"})}}]),o.controller("textureUploaderController",["$scope","$modalInstance",function(e,t){e.textureName="",e.filesList=[],e.textureType="paint",e.textureTypes=["paint","brick","carpet","concrete","fabric","granite","largestone","leather","metal","rugs","tile","wallpaper","wood","woodfloor"],e.addFile=function(){r.graphics.selectFileDialog({},function(t){for(var n in t)"object"==typeof t[n]&&e.filesList.push(t[n]);r.angularUtils.triggerUpdate()},this)},e.submitTexture=function(){var n="/api/v1/modeler/textureUpload";e.textureName.length<1||r.util.httpPostAsync(n,{files:e.filesList,textureName:e.textureName,textureType:e.textureType}).then(function(e){t.close()})},e.close=function(){t.close()}}]),o.controller("houseUploadController",["$scope","$http","$location",function(e,t,n){e.testHouseName="",e.filesList=[],e.submitReady=!1,e.submitButton="Submit",e.uploadHouse=function(){r.graphics.selectFileDialog({},function(t){for(var n in t)"object"==typeof t[n]&&e.filesList.push(t[n]);e.submitReady=!0,r.angularUtils.triggerUpdate()},this)},e.submitHouse=function(){e.submitted=!0,e.submitButton="Submitting";var t="/api/v1/modeler/houseUpload";r.util.httpPostAsync(t,{files:e.filesList,houseName:e.house.name}).then(function(t){return r.dao.projectLogTable.createLogEntry(e.project,e.login.user(),"Model Upload","Custom geometry model has been uploaded to S3",e.login.user().getUsername()).saveAsync()}).then(function(){return r.dao.floorTable.listFloorsForProjectAsync(e.project)}).then(function(t){for(var i=0;i<t.length;i++)if(!t[i].getJsFile()||!e.project.getFancy())return void n.path("/project/"+e.project.id+"/virtual-tour/json");n.path("/listings/"+e.project.getFancy()),r.angularUtils.triggerUpdate()})}}]),o.controller("furnitureEditController",["$scope","$modalInstance","furniturePiece",function(e,t,n){var i,o;n.getFloorPlanEnabled()?(i=n.getDimensions(),o=n.getXYZ().y-n.getDimensions().height/2):(i={width:0,height:0,depth:0},o=0);var a="",s=n.getTags();s&&s.length>0&&(a=s.join(" ")),e.furnitureEditor={orhtoImage:null,files:[],furniturePiece:n,furniturePieceName:n.getName(),furnitureTags:a,furnitureFloorPlanEnabled:n.getFloorPlanEnabled(),furnitureType:n.getType(),furnitureDimensions:i,furnitureVOffset:o,submitReady:!1,allTypes:[],options:n.getOptions(),submitUpdate:function(){var n=e.furnitureEditor,i=n.furniturePiece,a=n.furnitureDimensions;n.furnitureType.value?i.setType(n.furnitureType.value):i.setType(n.furnitureType),i.setDimensions(a),i.setName(n.furniturePieceName),i.setFloorPlanEnabled(n.furnitureFloorPlanEnabled),i.setOptions(e.furnitureEditor.options);var s=0;void 0!==a.height&&void 0!==o&&(s=parseFloat(a.height)/2+parseFloat(n.furnitureVOffset));var c={x:"0",y:s.toString(),z:"0"};i.setXYZ(c);var l=[],u=n.furnitureTags;u&&(u=u.replace(","," "),u=u.replace(/\s+/g," "),l=u.split(" ")),i.setTags(l);var h=[];if(n.orthoImage){var d=i.getFloorPlanImageType();d||(d=n.furniturePieceName,i.setFloorPlanImageType(d));var f="api/v1/modeler/uploadSvg",p={file:n.orthoImage,fileNameWithExtension:n.orthoImage.name,imageName:d};h.push(r.util.httpPostAsync(f,p))}if(e.furnitureEditor.files.length>0){var f="/api/v1/modeler/furniture";r.util.httpPostAsync(f,{furnitureName:e.furnitureEditor.furniturePieceName,files:e.furnitureEditor.files,existing:!0}).then(function(e){console.debug(e)})}h.push(i.saveAsync()),Promise.all(h).then(function(){t.close()},function(e){console.error(e)})},buildTypeArray:function(){for(var t=0,n=0;n<e.floorEditorTypes.length;n++)e.floorEditorTypes[n].value===e.furnitureEditor.furnitureType&&(t=n);if(n>=0){var r=e.floorEditorTypes.slice(0,t),i=e.floorEditorTypes.slice(t,e.floorEditorTypes.length);e.furnitureEditor.allTypes=i.concat(r),e.furnitureEditor.furnitureType=e.furnitureEditor.allTypes[0]}else e.furnitureEditor.allTypes=[].concat(e.floorEditorTypes)},closeModal:function(){t.close()},selectFiles:function(){r.graphics.selectFileDialog({},function(t){for(var n in t)"object"==typeof t[n]&&e.furnitureEditor.files.push(t[n]);r.angularUtils.triggerUpdate()},this)},selectOrthoImage:function(){r.graphics.selectFileDialog({},function(t){e.furnitureEditor.orthoImage=t[0],r.angularUtils.triggerUpdate()},this)}},e.furnitureEditor.buildTypeArray()}])})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/browser/angular":471,"../lib/browser/graphics":474,"../lib/browser/modules/ui-components":476,"../lib/browser/modules/utility-components":477,"../lib/storage/dao":514,"../lib/storage/urls":517,"../lib/util":524,"../lib/util/util":527}],575:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("photographer-tools/dropzone",function(e,t,n){var r=e("../lib/browser"),i=e("../lib/util"),o=new i.core.ResourcePool(function(){return new Image}),a=new i.core.ResourcePool(function(){return new FileReader}),s=new i.core.ResourcePool(function(){return document.createElement("canvas")});(function(){var e,t,i,c,l,u,h,d,f=[].slice,p={}.hasOwnProperty,m=function(e,t){function n(){this.constructor=e}for(var r in t)p.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};h=function(){},t=function(){function e(){}return e.prototype.addEventListener=e.prototype.on,e.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},e.prototype.emit=function(){var e,t,n,r,i,o;if(r=arguments[0],e=2<=arguments.length?f.call(arguments,1):[],this._callbacks=this._callbacks||{},n=this._callbacks[r])for(i=0,o=n.length;i<o;i++)t=n[i],t.apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.off=function(e,t){var n,r,i,o,a;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(r=this._callbacks[e],!r)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(i=o=0,a=r.length;o<a;i=++o)if(n=r[i],n===t){r.splice(i,1);break}return this},e}(),e=function(e){function n(e,t){var r,o,a;if(this.element=e,this.version=n.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(n.instances.push(this),this.element.dropzone=this,r=null!=(a=n.optionsForElement(this.element))?a:{},this.options=i({},this.defaultOptions,r,null!=t?t:{}),this.options.forceFallback||!n.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(o=this.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=n.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=n.getElements(this.options.clickable,"clickable")),this.init()}var i,c;m(n,e),n.prototype.Emitter=t,n.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],n.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,insidemapsResize:!0,capture:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return h},forceFallback:!1,fallback:function(){var e,t,r,i,o,a;for(this.element.className=""+this.element.className+" dz-browser-not-supported",a=this.element.getElementsByTagName("div"),i=0,o=a.length;i<o;i++)e=a[i],/(^| )dz-message($| )/.test(e.className)&&(t=e,e.className="dz-message");return t||(t=n.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t)),r=t.getElementsByTagName("span")[0],r&&(r.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,n,r;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},n=e.width/e.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=n*t.optHeight:null==t.optHeight&&(t.optHeight=1/n*t.optWidth),r=t.optWidth/t.optHeight,e.height<t.optHeight||e.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):n>r?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*r):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/r),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:h,dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:h,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t,r,i,o,a,s,c,l,u,h,d,f,p;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=n.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),h=e.previewElement.querySelectorAll("[data-dz-name]"),o=0,c=h.length;o<c;o++)t=h[o],t.textContent=e.name;for(d=e.previewElement.querySelectorAll("[data-dz-size]"),a=0,l=d.length;a<l;a++)t=d[a],t.innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=n.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),r=function(t){return function(r){return r.preventDefault(),r.stopPropagation(),e.status===n.UPLOADING?n.confirm(t.options.dictCancelUploadConfirmation,function(){return t.removeFile(e)}):t.options.dictRemoveFileConfirmation?n.confirm(t.options.dictRemoveFileConfirmation,function(){return t.removeFile(e)}):t.removeFile(e)}}(this),f=e.previewElement.querySelectorAll("[data-dz-remove]"),p=[],s=0,u=f.length;s<u;s++)i=f[s],p.push(i.addEventListener("click",r));return p}},removedfile:function(e){var t;return e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var n,r,i,o;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),o=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),r=0,i=o.length;r<i;r++)n=o[r],n.alt=e.name,n.src=t;return setTimeout(function(t){return function(){return e.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(e,t){var n,r,i,o,a;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),o=e.previewElement.querySelectorAll("[data-dz-errormessage]"),a=[],r=0,i=o.length;r<i;r++)n=o[r],a.push(n.textContent=t);return a}},errormultiple:h,processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:h,uploadprogress:function(e,t,n){var r,i,o,a,s;if(e.previewElement){for(a=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),s=[],i=0,o=a.length;i<o;i++)r=a[i],"PROGRESS"===r.nodeName?s.push(r.value=t):s.push(r.style.width=""+t+"%");return s}},totaluploadprogress:h,sending:h,sendingmultiple:h,success:function(e){},successmultiple:h,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:h,complete:function(e){e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement&&(e.previewElement=null,e.previewTemplate=null)},completemultiple:h,maxfilesexceeded:h,maxfilesreached:h,queuecomplete:h,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'
},i=function(){var e,t,n,r,i,o,a;for(r=arguments[0],n=2<=arguments.length?f.call(arguments,1):[],o=0,a=n.length;o<a;o++){t=n[o];for(e in t)i=t[e],r[e]=i}return r},n.prototype.getAcceptedFiles=function(){var e,t,n,r,i;for(r=this.files,i=[],t=0,n=r.length;t<n;t++)e=r[t],e.accepted&&i.push(e);return i},n.prototype.getRejectedFiles=function(){var e,t,n,r,i;for(r=this.files,i=[],t=0,n=r.length;t<n;t++)e=r[t],e.accepted||i.push(e);return i},n.prototype.getFilesWithStatus=function(e){var t,n,r,i,o;for(i=this.files,o=[],n=0,r=i.length;n<r;n++)t=i[n],t.status===e&&o.push(t);return o},n.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(n.QUEUED)},n.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(n.UPLOADING)},n.prototype.getResizingPhotos=function(){return this.getFilesWithStatus("resizing")},n.prototype.getActiveFiles=function(){var e,t,r,i,o;for(i=this.files,o=[],t=0,r=i.length;t<r;t++)e=i[t],e.status!==n.UPLOADING&&e.status!==n.QUEUED||o.push(e);return o},n.prototype.init=function(){var e,t,r,i,o,a,s;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(n.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(r=function(e){return function(){return e.hiddenFileInput&&document.body.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null==e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!=e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!=e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",document.body.appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var t,n,i,o;if(n=e.hiddenFileInput.files,n.length)for(i=0,o=n.length;i<o;i++)t=n[i],e.addFile(t);return r()})}}(this))(),this.URL=null!=(a=window.URL)?a:window.webkitURL,s=this.events,i=0,o=s.length;i<o;i++)e=s[i],this.on(e,this.options[e]);return this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this)),this.on("complete",function(e){return function(t){if(0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout(function(){return e.emit("queuecomplete")},0)}}(this)),t=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),dragenter:function(e){return function(n){return t(n),e.emit("dragenter",n)}}(this),dragover:function(e){return function(n){var r;try{r=n.dataTransfer.effectAllowed}catch(i){}return n.dataTransfer.dropEffect="move"===r||"linkMove"===r?"move":"copy",t(n),e.emit("dragover",n)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),drop:function(e){return function(n){return t(n),e.drop(n)}}(this),dragend:function(e){return function(t){return e.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(e){return function(t){return e.listeners.push({element:t,events:{click:function(r){if(t!==e.element||r.target===e.element||n.elementInside(r.target,e.element.querySelector(".dz-message")))return e.hiddenFileInput.click()}}})}}(this)),this.enable(),this.options.init.call(this)},n.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,n.instances.splice(n.instances.indexOf(this),1)},n.prototype.updateTotalUploadProgress=function(){var e,t,n,r,i,o,a,s;if(r=0,n=0,e=this.getActiveFiles(),e.length){for(s=this.getActiveFiles(),o=0,a=s.length;o<a;o++)t=s[o],r+=t.upload.bytesSent,n+=t.upload.total;i=100*r/n}else i=100;return this.emit("totaluploadprogress",i,n,r)},n.prototype._getParamName=function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):""+this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},n.prototype.getFallbackForm=function(){var e,t,r,i;return(e=this.getExistingFallback())?e:(r='<div class="dz-fallback">',this.options.dictFallbackText&&(r+="<p>"+this.options.dictFallbackText+"</p>"),r+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',t=n.createElement(r),"FORM"!==this.element.tagName?(i=n.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),i.appendChild(t)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=i?i:t)},n.prototype.getExistingFallback=function(){var e,t,n,r,i,o;for(t=function(e){var t,n,r;for(n=0,r=e.length;n<r;n++)if(t=e[n],/(^| )fallback($| )/.test(t.className))return t},o=["div","form"],r=0,i=o.length;r<i;r++)if(n=o[r],e=t(this.element.getElementsByTagName(n)))return e},n.prototype.setupEventListeners=function(){var e,t,n,r,i,o,a;for(o=this.listeners,a=[],r=0,i=o.length;r<i;r++)e=o[r],a.push(function(){var r,i;r=e.events,i=[];for(t in r)n=r[t],i.push(e.element.addEventListener(t,n,!1));return i}());return a},n.prototype.removeEventListeners=function(){var e,t,n,r,i,o,a;for(o=this.listeners,a=[],r=0,i=o.length;r<i;r++)e=o[r],a.push(function(){var r,i;r=e.events,i=[];for(t in r)n=r[t],i.push(e.element.removeEventListener(t,n,!1));return i}());return a},n.prototype.disable=function(){var e,t,n,r,i;for(this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),r=this.files,i=[],t=0,n=r.length;t<n;t++)e=r[t],i.push(this.cancelUpload(e));return i},n.prototype.enable=function(){return this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()},n.prototype.filesize=function(e){var t,n,r,i,o,a,s,c;for(a=["TB","GB","MB","KB","b"],r=i=null,n=s=0,c=a.length;s<c;n=++s)if(o=a[n],t=Math.pow(this.options.filesizeBase,4-n)/10,e>=t){r=e/Math.pow(this.options.filesizeBase,4-n),i=o;break}return r=Math.round(10*r)/10,"<strong>"+r+"</strong> "+i},n.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},n.prototype.drop=function(e){var t,n;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,t.length&&(n=e.dataTransfer.items,n&&n.length&&null!=n[0].webkitGetAsEntry?this._addFilesFromItems(n):this.handleFiles(t)))},n.prototype.paste=function(e){var t,n;if(null!=(null!=e&&null!=(n=e.clipboardData)?n.items:void 0))return this.emit("paste",e),t=e.clipboardData.items,t.length?this._addFilesFromItems(t):void 0},n.prototype.handleFiles=function(e){var t,n,r,i;for(i=[],n=0,r=e.length;n<r;n++)t=e[n],i.push(this.addFile(t));return i},n.prototype._addFilesFromItems=function(e){var t,n,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)n=e[r],null!=n.webkitGetAsEntry&&(t=n.webkitGetAsEntry())?t.isFile?o.push(this.addFile(n.getAsFile())):t.isDirectory?o.push(this._addFilesFromDirectory(t,t.name)):o.push(void 0):null!=n.getAsFile&&(null==n.kind||"file"===n.kind)?o.push(this.addFile(n.getAsFile())):o.push(void 0);return o},n.prototype._addFilesFromDirectory=function(e,t){var n,r;return n=e.createReader(),r=function(e){return function(n){var r,i,o;for(i=0,o=n.length;i<o;i++)r=n[i],r.isFile?r.file(function(n){if(!e.options.ignoreHiddenFiles||"."!==n.name.substring(0,1))return n.fullPath=""+t+"/"+n.name,e.addFile(n)}):r.isDirectory&&e._addFilesFromDirectory(r,""+t+"/"+r.name)}}(this),n.readEntries(r,function(e){var t=function(e){console.debug(e)};return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?t(e):void 0})},n.prototype.accept=function(e,t){return e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):n.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)},n.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=n.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){return function(n){return n?(e.accepted=!1,t._errorProcessing([e],n)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}}(this))},n.prototype.enqueueFiles=function(e){var t,n,r;for(n=0,r=e.length;n<r;n++)t=e[n],this.enqueueFile(t);return null},n.prototype.enqueueFile=function(e){if(e.status!==n.ADDED||e.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=n.QUEUED,this.options.autoProcessQueue)return setTimeout(function(e){return function(){return e.processQueue()}}(this),0)},n.prototype._thumbnailQueue=[],n.prototype._processingThumbnail=!1,n.prototype._enqueueThumbnail=function(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout(function(e){return function(){return e._processThumbnailQueue()}}(this),0)},n.prototype._processThumbnailQueue=function(){if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(e){return function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}}(this))},n.prototype.removeFile=function(e){if(e.status===n.UPLOADING&&this.cancelUpload(e),this.files=d(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")},n.prototype.removeAllFiles=function(e){var t,r,i,o;for(null==e&&(e=!1),o=this.files.slice(),r=0,i=o.length;r<i;r++)t=o[r],(t.status!==n.UPLOADING||e)&&this.removeFile(t);return null},n.prototype.createThumbnail=function(e,t){var n;return n=new FileReader,n.onload=function(r){return function(){return"image/svg+xml"===e.type?(r.emit("thumbnail",e,n.result),void(null!=t&&t())):r.createThumbnailFromUrl(e,n.result,t)}}(this),n.readAsDataURL(e)},n.prototype.createThumbnailFromUrl=function(e,t,n){var r;return r=document.createElement("img"),r.onload=function(t){return function(){var i,o,a,s,c,l,h,d;if(e.width=r.width,e.height=r.height,a=t.options.resize.call(t,e),null==a.trgWidth&&(a.trgWidth=a.optWidth),null==a.trgHeight&&(a.trgHeight=a.optHeight),i=document.createElement("canvas"),o=i.getContext("2d"),i.width=a.trgWidth,i.height=a.trgHeight,u(o,r,null!=(c=a.srcX)?c:0,null!=(l=a.srcY)?l:0,a.srcWidth,a.srcHeight,null!=(h=a.trgX)?h:0,null!=(d=a.trgY)?d:0,a.trgWidth,a.trgHeight),s=i.toDataURL("image/png"),t.emit("thumbnail",e,s),null!=n)return n()}}(this),null!=n&&(r.onerror=n),r.src=t},n.prototype.processQueue=function(){var e,t,n,r,i;if(t=this.options.parallelUploads,n=this.getResizingPhotos().length,i=this.getUploadingFiles().length,e=n,!(n>=t)&&(r=this.getQueuedFiles(),r.length>0)){if(this.options.uploadMultiple)return this.processFiles(r.slice(0,t-n));for(;e+i<t;){if(!r.length)return;this.processFile(r.shift()),e++}}};var l=function(e){return new Promise(function(t,n){loadImage.parseMetaData(e,function(e){t(e)})})};return n.prototype.processFile=function(e){var t,n=this;if(e.status="resizing",this.options.insidemapsResize){var i,c=e,u=a.getResource(),h=o.getResource(),t=s.getResource();return Promise.resolve().then(function(){return l(e)}).then(function(t){return i=t,r.graphics.readFileAsDataURLAsync(e,u)}).then(function(e){return a.returnResource(u),r.graphics.loadImageAsync(e,h)}).then(function(e){for(var n=e.width,i=e.height;n>1600||i>1600;)n/=2,i/=2;e.width=n,e.height=i,t.width=e.width,t.height=e.height;var a=t.getContext("2d");return a.clearRect(0,0,t.width,t.height),a.drawImage(e,0,0,e.width,e.height),o.returnResource(e),r.graphics.canvasToBlobAsync(t,"image/jpeg")}).then(function(e){s.returnResource(t);var r=loadImage.blobSlice.call(e,20);return c.blob=new Blob([i.imageHead,r],{type:e.type}),n.processFiles([c])})["catch"](function(e){console.error(e)})}return e.blob=e,n.processFiles([e])},n.prototype.processFiles=function(e){var t,r,i;for(r=0,i=e.length;r<i;r++)t=e[r],t.processing=!0,t.status=n.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},n.prototype._getFilesWithXhr=function(e){var t,n;return n=function(){var n,r,i,o;for(i=this.files,o=[],n=0,r=i.length;n<r;n++)t=i[n],t.xhr===e&&o.push(t);return o}.call(this)},n.prototype.cancelUpload=function(e){var t,r,i,o,a,s,c;if(e.status===n.UPLOADING){for(r=this._getFilesWithXhr(e.xhr),i=0,a=r.length;i<a;i++)t=r[i],t.status=n.CANCELED;for(e.xhr.abort(),o=0,s=r.length;o<s;o++)t=r[o],this.emit("canceled",t);this.options.uploadMultiple&&this.emit("canceledmultiple",r)}else(c=e.status)!==n.ADDED&&c!==n.QUEUED||(e.status=n.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()},c=function(){var e,t;return t=arguments[0],e=2<=arguments.length?f.call(arguments,1):[],"function"==typeof t?t.apply(this,e):t},n.prototype.uploadFile=function(e){return this.uploadFiles([e])},n.prototype.uploadFiles=function(e){var t,r,o,a,s,l,u,h,d,f,p,m,g,v,b,y,w,_,x,k,S,j,P,E,A,T,C,M,O,I,F,D,L,R;for(x=new XMLHttpRequest,k=0,E=e.length;k<E;k++)t=e[k],t.xhr=x;m=c(this.options.method,e),w=c(this.options.url,e),x.open(m,w,!0),x.withCredentials=!!this.options.withCredentials,b=null,o=function(n){return function(){var r,i,o;for(o=[],r=0,i=e.length;r<i;r++)t=e[r],o.push(n._errorProcessing(e,b||n.options.dictResponseError.replace("{{statusCode}}",x.status),x));return o}}(this),y=function(n){return function(r){var i,o,a,s,c,l,u,h,d;if(null!=r)for(o=100*r.loaded/r.total,a=0,l=e.length;a<l;a++)t=e[a],t.upload={progress:o,total:r.total,bytesSent:r.loaded};else{for(i=!0,o=100,s=0,u=e.length;s<u;s++)t=e[s],100===t.upload.progress&&t.upload.bytesSent===t.upload.total||(i=!1),t.upload.progress=o,t.upload.bytesSent=t.upload.total;if(i)return}for(d=[],c=0,h=e.length;c<h;c++)t=e[c],d.push(n.emit("uploadprogress",t,o,t.upload.bytesSent));return d}}(this),x.onload=function(t){return function(r){var i;if(e[0].status!==n.CANCELED&&4===x.readyState){if(b=x.responseText,x.getResponseHeader("content-type")&&~x.getResponseHeader("content-type").indexOf("application/json"))try{b=JSON.parse(b)}catch(a){r=a,b="Invalid JSON response from server."}return y(),200<=(i=x.status)&&i<300?t._finished(e,b,r):o()}}}(this),x.onerror=function(t){return function(){if(e[0].status!==n.CANCELED)return o()}}(this),v=null!=(O=x.upload)?O:x,v.onprogress=y,l={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&i(l,this.options.headers);for(a in l)s=l[a],x.setRequestHeader(a,s);if(r=new FormData,this.options.params){I=this.options.params;for(p in I)_=I[p],r.append(p,_)}for(S=0,A=e.length;S<A;S++)t=e[S],this.emit("sending",t,x,r);if(this.options.uploadMultiple&&this.emit("sendingmultiple",e,x,r),"FORM"===this.element.tagName)for(F=this.element.querySelectorAll("input, textarea, select, button"),j=0,T=F.length;j<T;j++)if(h=F[j],d=h.getAttribute("name"),f=h.getAttribute("type"),"SELECT"===h.tagName&&h.hasAttribute("multiple"))for(D=h.options,P=0,C=D.length;P<C;P++)g=D[P],g.selected&&r.append(d,g.value);else(!f||"checkbox"!==(L=f.toLowerCase())&&"radio"!==L||h.checked)&&r.append(d,h.value);for(u=M=0,R=e.length-1;0<=R?M<=R:M>=R;u=0<=R?++M:--M)r.append(this._getParamName(u),e[u].blob,e[u].name);return x.send(r)},n.prototype._finished=function(e,t,r){var i,o,a;for(o=0,a=e.length;o<a;o++)i=e[o],i.status=n.SUCCESS,this.emit("success",i,t,r),this.emit("complete",i);if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,r),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},n.prototype._errorProcessing=function(e,t,r){var i,o,a;for(o=0,a=e.length;o<a;o++)i=e[o],i.status=n.ERROR,this.emit("error",i,t,r),this.emit("complete",i);if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,r),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},n}(t),e.version="4.0.1",e.options={},e.optionsForElement=function(t){return t.getAttribute("id")?e.options[i(t.getAttribute("id"))]:void 0},e.instances=[],e.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},e.autoDiscover=!1,e.discover=function(){var t,n,r,i,o,a;for(document.querySelectorAll?r=document.querySelectorAll(".dropzone"):(r=[],t=function(e){var t,n,i,o;for(o=[],n=0,i=e.length;n<i;n++)t=e[n],/(^| )dropzone($| )/.test(t.className)?o.push(r.push(t)):o.push(void 0);return o},t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))),a=[],i=0,o=r.length;i<o;i++)n=r[i],e.optionsForElement(n)!==!1?a.push(new e(n)):a.push(void 0);return a},e.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],e.isBrowserSupported=function(){var t,n,r,i,o;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(o=e.blacklistedBrowsers,r=0,i=o.length;r<i;r++)n=o[r],n.test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},d=function(e,t){var n,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)n=e[r],n!==t&&o.push(n);return o},i=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})},e.createElement=function(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.childNodes[0]},e.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},e.getElement=function(e,t){var n;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),null==n)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},e.getElements=function(e,t){var n,r,i,o,a,s,c,l;if(e instanceof Array){i=[];try{for(o=0,s=e.length;o<s;o++)r=e[o],i.push(this.getElement(r,t))}catch(u){n=u,i=null}}else if("string"==typeof e)for(i=[],l=document.querySelectorAll(e),a=0,c=l.length;a<c;a++)r=l[a],i.push(r);else null!=e.nodeType&&(i=[e]);if(null==i||!i.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return i},e.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},e.isValidFile=function(e,t){var n,r,i,o,a;if(!t)return!0;for(t=t.split(","),r=e.type,n=r.replace(/\/.*$/,""),o=0,a=t.length;o<a;o++)if(i=t[o],i=i.trim(),"."===i.charAt(0)){if(e.name.toLowerCase().indexOf(i.toLowerCase(),e.name.length-i.length)!==-1)return!0}else if(/\/\*$/.test(i)){if(n===i.replace(/\/.*$/,""))return!0}else if(r===i)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new e(this,t)})}),"undefined"!=typeof n&&null!==n?n.exports=e:window.Dropzone=e,e.ADDED="added",e.QUEUED="queued",e.ACCEPTED=e.QUEUED,e.UPLOADING="uploading",e.PROCESSING=e.UPLOADING,e.CANCELED="canceled",e.ERROR="error",e.SUCCESS="success",l=function(e){var t,n,r,i,o,a,s,c,l,u;for(s=e.naturalWidth,a=e.naturalHeight,n=document.createElement("canvas"),n.width=1,n.height=a,r=n.getContext("2d"),r.drawImage(e,0,0),i=r.getImageData(0,0,1,a).data,u=0,o=a,c=a;c>u;)t=i[4*(c-1)+3],0===t?o=c:u=c,c=o+u>>1;return l=c/a,0===l?1:l},u=function(e,t,n,r,i,o,a,s,c,u){var h;return h=l(t),e.drawImage(t,n,r,i,o,a,s,c,u/h)},c=function(e,t){var n,r,i,o,a,s,c,l,u;if(i=!1,u=!0,r=e.document,l=r.documentElement,n=r.addEventListener?"addEventListener":"attachEvent",c=r.addEventListener?"removeEventListener":"detachEvent",s=r.addEventListener?"":"on",o=function(n){if("readystatechange"!==n.type||"complete"===r.readyState)return("load"===n.type?e:r)[c](s+n.type,o,!1),!i&&(i=!0)?t.call(e,n.type||n):void 0},a=function(){var e;try{l.doScroll("left")}catch(t){return e=t,void setTimeout(a,50)}return o("poll")},"complete"!==r.readyState){if(r.createEventObject&&l.doScroll){try{u=!e.frameElement}catch(h){}u&&a()}return r[n](s+"DOMContentLoaded",o,!1),r[n](s+"readystatechange",o,!1),e[n](s+"load",o,!1)}},e._autoDiscoverFunction=function(){if(e.autoDiscover)return e.discover()},c(window,e._autoDiscoverFunction)}).call(this)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/browser":475,"../lib/util":524}],576:[function(e,t,n){(function(r){var i=r.define||function(r,i){i(e,n,t)};i("photographer-tools/photographer-tools-module",function(e,t,n){"use strict";var r=e("../lib/util"),i=e("../lib/browser"),o=e("../lib/storage/dao"),a=(e("./dropzone"),e("jquery"));n.exports="photographer-tools-module";var s=angular.module("photographer-tools-module",[e("../lib/browser/modules/ui-components"),e("../lib/browser/modules/utility-components")]);s.controller("dropzoneController",["$scope","$routeParams","modalService","dialogs",function(e,t,n,s){var c=document.querySelector("#dztemplate");c.id="";var l=c.parentNode.innerHTML;c.parentNode.removeChild(c);var u=(new Date).getTime(),h=0,d=setInterval(i.angular.triggerUpdate,2e4);e.dropzone={uploadCount:0,totalFiles:0,queueComplete:!1,uploadStarted:!1,failedPhotos:[],alreadyRetried:!1,submitted:!1,dontResize:!1,panos:!1,customModel:!1,dimensions:!0,rushProduct:!1,autoSubmit:!0,desiredProduct:{},uploadButtonText:"Start Upload",submitPhotos:function(){if(e.dropzone.submitted)return void console.debug("project already submitted");e.dropzone.submitted=!0,e.dropzone.uploadButtonText="Submitting...",e.dropzone.desiredProduct={customModel:e.dropzone.customModel,includeDimensions:e.dropzone.dimensions,highPriority:e.dropzone.rushProduct};var n=e.project.getDetailedStatus()||{};n.Priority=e.dropzone.rushProduct?"Urgent":"Standard",e.project.setDetailedStatus(n),e.project.setDesiredProduct(e.dropzone.desiredProduct),e.project.setPanoProject(e.dropzone.panos),e.project.setLocked(!0),e.project.saveAsync().then(function(){var n=t.projectId,i="/api/v1/project/startPhotoAnalysis?project="+n+"&panoCapture="+e.dropzone.panos;return r.core.httpPostAsync(i)}).then(function(n){o.projectLogTable.createLogEntry(e.project,e.user,"Photo Upload","Photo submission complete",e.user.getUsername()).saveAsync(),s.notify("Photo submission successful","Thank you for uploading photos, your submission was successful");var a="/api/v1/project/appendNewRowToCSV";r.core.callApiAsync("POST",a,{projectId:t.projectId,userName:e.user.getUsername()}),e.dropzone.uploadButtonText="Finished!",i.angular.triggerUpdate()})["catch"](function(e){throw new Error(e)})}};var f=e.project.getPhotoSetCount(),p=e.project.getPhotoSetCount()?"Set"+(f+1).toString():"Set1",m=function(){return h++,h<10?"00000"+h.toString():h<100?"0000"+h.toString():h<1e3?"000"+h.toString():h<1e4?"00"+h.toString():h<1e5?"0"+h.toString():void 0};a("#fbDropZone").dropzone({init:function(){var t=this;r.params.getBoolean("debug",!1)&&(window.uploadDropzone=this),t.on("addedfile",function(t){t.retryPhoto||(t.eventualFileName=u+"-"+m()+"-"+t.name.toLowerCase(),t.eventualFileName=t.eventualFileName.replace(/ /g,"_"),e.$apply(function(){e.dropzone.totalFiles++}))}),t.on("queuecomplete",function(){e.dropzone.uploadStarted=!1,e.$apply(function(){e.dropzone.queueComplete=!0,e.dropzone.uploadButtonText="Uploaded!"}),e.dropzone.autoSubmit&&e.dropzone.submitPhotos(),clearInterval(d)}),t.on("success",function(t,n){t.blob=null,e.$apply(function(){e.dropzone.uploadCount++}),t.retryPhoto?e.dropzone.failedPhotos.filter(function(e){return e.name===t.name}):t.previewElement.classList.add("greenFont")}),t.on("error",function(t){t.retryPhoto||t.previewElement.classList.add("redFont"),t.retryPhoto=!0,t.status="added",t.accepted=!0,t.blob=null,e.dropzone.failedPhotos.push(t)}),t.on("sending",function(t,n,i){t.blob?console.debug("File Size: "+t.blob.size):console.debug("File.blob does not exist");var o=e.project.getPhotoPath()+"capturedPhotos/"+p+"/";i.append("s3Path",o),i.append("env",r.params.getEnvironmentName()),i.append("eventualFileName",t.eventualFileName)}),document.querySelector("#dropzoneStartButton").onclick=function(){var n=t.getFilesWithStatus("added");if(n&&0!==n.length){e.dropzone.dontResize===!0&&(t.options.insidemapsResize=!1,t.options.parallelUploads=2),e.dropzone.uploadStarted=!0,e.dropzone.uploadButtonText="Uploading...";var r="Starting Upload For "+e.dropzone.totalFiles+" photos";o.projectLogTable.createLogEntry(e.project,e.user,"Photo Upload",r,e.user.getUsername()).saveAsync(),t.enqueueFiles(n),i.angular.triggerUpdate()}}},url:"/api/v1/photoUploader/uploadFilesToServer?env",paramName:"file",maxFilesize:15,autoQueue:!1,parallelUploads:4,createImageThumbnails:!1,insidemapsResize:!0,clickable:".dropzoneAddFilesButton",previewTemplate:l,dictDefaultMessage:"Click the button below to add files",previewsContainer:"#dzpreviews"})}]),s.controller("heroShotsController",["$scope","$routeParams","modalService","dialogs",function(e,t,n,i){var s=(new Date).getTime(),c=0;e.dropzone={uploadCount:0,totalFiles:0,queueComplete:!1,uploadStarted:!1,submitted:!1,submitPhotos:function(){e.dropzone.submitted=!0;var n=t.projectId,a="/v2/api/project/submitSLRPhotos?project="+n+"&dropzone=true";r.core.httpPostAsync(a).then(function(t){o.projectLogTable.createLogEntry(e.project,e.user,"Photo Upload","Photo submission complete",e.user.getUsername()).saveAsync(),i.notify("Photo submission successful","Thank you for uploading photos, your submission was successful")})}};var l=e.project.getPhotoSetCount(),u=(e.project.getPhotoSetCount()?"Set"+(l+1).toString():"Set1",function(){return c++,c<10?"00000"+c.toString():c<100?"0000"+c.toString():c<1e3?"000"+c.toString():c<1e4?"00"+c.toString():c<1e5?"0"+c.toString():void 0});a("#heroDropzone").dropzone({init:function(){var t=this;t.on("addedfile",function(t){t.eventualFileName=s+"-"+u()+"-"+t.name.toLowerCase(),t.eventualFileName=t.eventualFileName.replace(/ /g,"_"),e.$apply(function(){e.dropzone.totalFiles++})}),t.on("queuecomplete",function(){e.dropzone.uploadStarted=!1,e.$apply(function(){e.dropzone.queueComplete=!0})}),t.on("success",function(t,n){e.$apply(function(){e.dropzone.uploadCount++}),t.previewElement.classList.add("greenFont"),t.blob=null,1===e.dropzone.uploadCount&&(e.project.setRealEstatePhotosBoolean(!0),e.project.saveAsync())}),t.on("error",function(e){e.previewElement.classList.add("redFont")}),t.on("sending",function(t,n,i){t.blob?console.debug("File Size: "+t.blob.size):console.debug("File.blob does not exist");var o=e.project.getPhotoPath()+"capturedPhotos/heroShots/";i.append("s3Path",o),i.append("env",r.params.getEnvironmentName()),i.append("eventualFileName",t.eventualFileName)}),document.querySelector("#heroStartButton").onclick=function(){var n="Starting Upload For "+e.dropzone.totalFiles+" photos";o.projectLogTable.createLogEntry(e.project,e.user,"Photo Upload",n).saveAsync(),e.dropzone.uploadStarted=!0,t.enqueueFiles(t.getFilesWithStatus("added"))}},url:"/api/v1/photoUploader/uploadFilesToServer?env",paramName:"file",maxFilesize:15,autoQueue:!1,parallelUploads:4,createImageThumbnails:!0,insidemapsResize:!1,clickable:"#heroAddFilesButton",dictDefaultMessage:"Click the button below to add files",previewsContainer:"#heroPreviews"})}]),s.controller("calibrationController",["$scope","$routeParams","modalService","dialogs",function(e,t,n,i){var o=(new Date).getTime(),s=0;e.dropzone={uploadCount:0,totalFiles:0,queueComplete:!1,uploadStarted:!1,submitted:!1,submitPhotos:function(){e.dropzone.submitted=!0;var t="/v2/api/camera/calibrationStatus";r.core.httpGetAsync(t).then(function(e){i.notify("Calibration","Thank you for taking the time to calibrate your camera. You may now upload photos for projects.")})}};var c=function(){return s++,s<10?"00000"+s.toString():s<100?"0000"+s.toString():s<1e3?"000"+s.toString():s<1e4?"00"+s.toString():s<1e5?"0"+s.toString():void 0};a("#calibrationDropzone").dropzone({init:function(){var t=this;t.on("addedfile",function(t){t.eventualFileName=o+"-"+c()+"-"+t.name.toLowerCase(),t.eventualFileName=t.eventualFileName.replace(/ /g,"_"),e.$apply(function(){e.dropzone.totalFiles++})}),t.on("queuecomplete",function(){e.dropzone.uploadStarted=!1,e.$apply(function(){e.dropzone.queueComplete=!0})}),t.on("success",function(n,r){e.$apply(function(){e.dropzone.uploadCount++}),r.status<0&&t.options.error(n,r.message),n.blob=null}),t.on("error",function(e){}),t.on("sending",function(e,t,n){e.blob?console.debug("File Size: "+e.blob.size):console.debug("File.blob does not exist")}),document.querySelector("#calibrationStartButton").onclick=function(){e.dropzone.uploadStarted=!0,t.enqueueFiles(t.getFilesWithStatus("added"))}},url:"/v2/api/camera/uploadCalibrationImages",paramName:"file",maxFilesize:15,autoQueue:!1,parallelUploads:4,createImageThumbnails:!0,insidemapsResize:!1,clickable:"#calibrationAddFilesButton",dictDefaultMessage:"Click the button below to add files",previewsContainer:"#calibrationPreviews"})}])})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/browser":475,"../lib/browser/modules/ui-components":476,"../lib/browser/modules/utility-components":477,"../lib/storage/dao":514,"../lib/util":524,"./dropzone":575,jquery:304}],577:[function(e,t,n){angular.module("infinite-scroll",[]).value("THROTTLE_MILLISECONDS",null).directive("infiniteScroll",["$rootScope","$window","$interval","THROTTLE_MILLISECONDS",function(e,t,n,r){return{scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollUseDocumentBottom:"=",infiniteScrollListenForEvent:"@"},link:function(i,o,a){var s,c,l,u,h,d,f,p,m,g,v,b,y,w,_,x,k,S,j;return j=angular.element(t),w=null,_=null,l=null,u=null,v=!0,S=!1,k=null,c=!1,lastScroll=-1,g=function(e){return e=e[0]||e,isNaN(e.offsetHeight)?e.document.documentElement.clientHeight:e.offsetHeight},b=function(e){if(e[0].getBoundingClientRect&&!e.css("none"))return e[0].getBoundingClientRect().top+y(e)},y=function(e){return e=e[0]||e,isNaN(window.pageYOffset)?e.document.documentElement.scrollTop:e.ownerDocument.defaultView.pageYOffset},m=function(){var t,r,a,s,h;return u===j?(t=g(u)+y(u[0].document.documentElement),a=b(o)+g(o)):(t=g(u),r=0,void 0!==b(u)&&(r=b(u)),a=b(o)-r+g(o)),S&&(a=g((o[0].ownerDocument||o[0].document).documentElement)),s=a-t,h=s<=g(u)*w&&(s<=lastScroll||lastScroll==-1),lastScroll=s,
h?(l=!0,_?i.$$phase||e.$$phase?i.infiniteScroll():i.$apply(i.infiniteScroll):void 0):(c&&n.cancel(c),l=!1)},x=function(e,t){var r,i,o;return o=null,i=0,r=function(){return i=(new Date).getTime(),n.cancel(o),o=null,e.call()},function(){var a,s;return a=(new Date).getTime(),s=t-(a-i),s<=0?(n.cancel(o),o=null,i=a,e.call()):o?void 0:o=n(r,s,1)}},null!=r&&(m=x(m,r)),i.$on("$destroy",function(){if(u.unbind("scroll",m),null!=k&&(k(),k=null),c)return n.cancel(c)}),f=function(e){return w=parseFloat(e)||0},i.$watch("infiniteScrollDistance",f),f(i.infiniteScrollDistance),d=function(e){if(_=!e,_&&l)return l=!1,m()},i.$watch("infiniteScrollDisabled",d),d(i.infiniteScrollDisabled),p=function(e){return S=e},i.$watch("infiniteScrollUseDocumentBottom",p),p(i.infiniteScrollUseDocumentBottom),s=function(e){if(null!=u&&u.unbind("scroll",m),u=e,null!=e)return u.bind("scroll",m)},s(j),i.infiniteScrollListenForEvent&&(k=e.$on(i.infiniteScrollListenForEvent,m)),h=function(e){if(null!=e&&0!==e.length){if(e.nodeType&&1===e.nodeType?e=angular.element(e):"function"==typeof e.append?e=angular.element(e[e.length-1]):"string"==typeof e&&(e=angular.element(document.querySelector(e))),null!=e)return s(e);throw new Error("invalid infinite-scroll-container attribute.")}},i.$watch("infiniteScrollContainer",h),h(i.infiniteScrollContainer||[]),null!=a.infiniteScrollParent&&s(angular.element(o.parent())),null!=a.infiniteScrollImmediateCheck&&(v=i.$eval(a.infiniteScrollImmediateCheck)),c=n(function(){return v&&m(),n.cancel(c)})}}}]),"undefined"!=typeof t&&"undefined"!=typeof n&&t.exports===n&&(t.exports="infinite-scroll")},{}],578:[function(e,t,n){t.exports={URL:"https://parse-dev.insidemaps.com/parse"}},{}],579:[function(e,t,n){t.exports={URL:"/parse"}},{}],"angular-dialog-service":[function(e,t,n){!function(){"use strict";var e=angular.module("translate.sub",[]);e.provider("$translate",[function(){var e=[],t="en-US";this.translations=function(n,r){angular.isDefined(n)&&angular.isDefined(r)&&(e[n]=angular.copy(r),t=n)},this.$get=[function(){return{instant:function(n){return angular.isDefined(n)&&angular.isDefined(e[t][n])?e[t][n]:""}}}]}]),e.filter("translate",["$translate",function(e){return function(t){return e.instant(t)}}]);var t;try{angular.module("pascalprecht.translate"),t=angular.module("dialogs.controllers",["ui.bootstrap.modal","pascalprecht.translate"])}catch(n){t=angular.module("dialogs.controllers",["ui.bootstrap.modal","translate.sub"])}t.controller("errorDialogCtrl",["$scope","$modalInstance","$translate","data",function(e,t,n,r){e.header=angular.isDefined(r.header)?r.header:n.instant("DIALOGS_ERROR"),e.msg=angular.isDefined(r.msg)?r.msg:n.instant("DIALOGS_ERROR_MSG"),e.icon=angular.isDefined(r.fa)&&angular.equals(r.fa,!0)?"fa fa-warning":"glyphicon glyphicon-warning-sign",e.close=function(){t.close(),e.$destroy()}}]),t.controller("waitDialogCtrl",["$scope","$modalInstance","$translate","$timeout","data",function(e,t,n,r,i){e.header=angular.isDefined(i.header)?i.header:n.instant("DIALOGS_PLEASE_WAIT_ELIPS"),e.msg=angular.isDefined(i.msg)?i.msg:n.instant("DIALOGS_PLEASE_WAIT_MSG"),e.progress=angular.isDefined(i.progress)?i.progress:100,e.icon=angular.isDefined(i.fa)&&angular.equals(i.fa,!0)?"fa fa-clock-o":"glyphicon glyphicon-time",e.$on("dialogs.wait.complete",function(){r(function(){t.close(),e.$destroy()})}),e.$on("dialogs.wait.message",function(t,n){e.msg=angular.isDefined(n.msg)?n.msg:e.msg}),e.$on("dialogs.wait.progress",function(t,n){e.msg=angular.isDefined(n.msg)?n.msg:e.msg,e.progress=angular.isDefined(n.progress)?n.progress:e.progress}),e.getProgress=function(){return{width:e.progress+"%"}}}]),t.controller("notifyDialogCtrl",["$scope","$modalInstance","$translate","data",function(e,t,n,r){e.header=angular.isDefined(r.header)?r.header:n.instant("DIALOGS_NOTIFICATION"),e.msg=angular.isDefined(r.msg)?r.msg:n.instant("DIALOGS_NOTIFICATION_MSG"),e.icon=angular.isDefined(r.fa)&&angular.equals(r.fa,!0)?"fa fa-info":"glyphicon glyphicon-info-sign",e.close=function(){t.close(),e.$destroy()}}]),t.controller("confirmDialogCtrl",["$scope","$modalInstance","$translate","data",function(e,t,n,r){e.header=angular.isDefined(r.header)?r.header:n.instant("DIALOGS_CONFIRMATION"),e.msg=angular.isDefined(r.msg)?r.msg:n.instant("DIALOGS_CONFIRMATION_MSG"),e.icon=angular.isDefined(r.fa)&&angular.equals(r.fa,!0)?"fa fa-check":"glyphicon glyphicon-check",e.no=function(){t.dismiss("no")},e.yes=function(){t.close("yes")}}]),angular.module("dialogs.services",["ui.bootstrap.modal","dialogs.controllers"]).provider("dialogs",[function(){var e=!0,t=!0,n="dialogs-default",r="dialogs-backdrop-default",i=!0,o=null,a="lg",s=!1,c=!1,l=function(i){var o={};return i=i||{},o.kb=angular.isDefined(i.keyboard)?!!i.keyboard:t,o.bd=angular.isDefined(i.backdrop)?i.backdrop:e,o.bdc=angular.isDefined(i.backdropClass)?i.backdropClass:r,o.ws=!angular.isDefined(i.size)||"sm"!==i.size&&"lg"!==i.size&&"md"!==i.size?a:i.size,o.wc=angular.isDefined(i.windowClass)?i.windowClass:n,o.anim=angular.isDefined(i.animation)?!!i.animation:s,o};this.useBackdrop=function(t){angular.isDefined(t)&&(e=t)},this.useEscClose=function(e){angular.isDefined(e)&&(t=!(angular.equals(e,0)||angular.equals(e,"false")||angular.equals(e,"no")||angular.equals(e,null)||angular.equals(e,!1)))},this.useClass=function(e){angular.isDefined(e)&&(n=e)},this.useCopy=function(e){angular.isDefined(e)&&(i=!(angular.equals(e,0)||angular.equals(e,"false")||angular.equals(e,"no")||angular.equals(e,null)||angular.equals(e,!1)))},this.setWindowTmpl=function(e){angular.isDefined(e)&&(o=e)},this.setSize=function(e){angular.isDefined(e)&&(a=angular.equals(e,"sm")||angular.equals(e,"lg")||angular.equals(e,"md")?e:a)},this.useAnimation=function(){s=!0},this.useFontAwesome=function(){c=!0},this.$get=["$modal",function(e){return{error:function(t,n,r){return r=l(r),e.open({templateUrl:"/dialogs/error.html",controller:"errorDialogCtrl",backdrop:r.bd,backdropClass:r.bdc,keyboard:r.kb,windowClass:r.wc,size:r.ws,animation:r.anim,resolve:{data:function(){return{header:angular.copy(t),msg:angular.copy(n),fa:c}}}})},wait:function(t,n,r,i){return i=l(i),e.open({templateUrl:"/dialogs/wait.html",controller:"waitDialogCtrl",backdrop:i.bd,backdropClass:i.bdc,keyboard:i.kb,windowClass:i.wc,size:i.ws,animation:i.anim,resolve:{data:function(){return{header:angular.copy(t),msg:angular.copy(n),progress:angular.copy(r),fa:c}}}})},notify:function(t,n,r){return r=l(r),e.open({templateUrl:"/dialogs/notify.html",controller:"notifyDialogCtrl",backdrop:r.bd,backdropClass:r.bdc,keyboard:r.kb,windowClass:r.wc,size:r.ws,animation:r.anim,resolve:{data:function(){return{header:angular.copy(t),msg:angular.copy(n),fa:c}}}})},confirm:function(t,n,r){return r=l(r),e.open({templateUrl:"/dialogs/confirm.html",controller:"confirmDialogCtrl",backdrop:r.bd,backdropClass:r.bdc,keyboard:r.kb,windowClass:r.wc,size:r.ws,animation:r.anim,resolve:{data:function(){return{header:angular.copy(t),msg:angular.copy(n),fa:c}}}})},create:function(t,n,r,o){var a=o&&angular.isDefined(o.copy)?o.copy:i;return o=l(o),e.open({templateUrl:t,controller:n,keyboard:o.kb,backdrop:o.bd,backdropClass:o.bdc,windowClass:o.wc,size:o.ws,animation:o.anim,resolve:{data:function(){return a?angular.copy(r):r}}})}}}]}]),angular.module("dialogs.main",["dialogs.services","ngSanitize"]).config(["$translateProvider","dialogsProvider",function(e,t){try{angular.module("pascalprecht.translate")}catch(n){e.translations("en-US",{DIALOGS_ERROR:"Error",DIALOGS_ERROR_MSG:"An unknown error has occurred.",DIALOGS_CLOSE:"Close",DIALOGS_PLEASE_WAIT:"Please Wait",DIALOGS_PLEASE_WAIT_ELIPS:"Please Wait...",DIALOGS_PLEASE_WAIT_MSG:"Waiting on operation to complete.",DIALOGS_PERCENT_COMPLETE:"% Complete",DIALOGS_NOTIFICATION:"Notification",DIALOGS_NOTIFICATION_MSG:"Unknown application notification.",DIALOGS_CONFIRMATION:"Confirmation",DIALOGS_CONFIRMATION_MSG:"Confirmation required.",DIALOGS_OK:"OK",DIALOGS_YES:"Yes",DIALOGS_NO:"No"})}try{var r=document.styleSheets;e:for(var i=r.length-1;i>=0;i--){var o=null,a=null;if(!r[i].disabled){if(null!==r[i].href&&(o=r[i].href.match(/font\-*awesome/i)),angular.isArray(o)){t.useFontAwesome();break}a=r[i].cssRules;for(var s=a.length-1;s>=0;s--)if(".fa"==a[s].selectorText.toLowerCase()){t.useFontAwesome();break e}}}}catch(n){}}]).run(["$templateCache","$interpolate",function(e,t){var n=t.startSymbol(),r=t.endSymbol();e.put("/dialogs/error.html",'<div class="modal-header dialog-header-error"><button type="button" class="close" ng-click="close()">&times;</button><h4 class="modal-title text-danger"><span class="'+n+"icon"+r+'"></span> <span ng-bind-html="header"></span></h4></div><div class="modal-body text-danger" ng-bind-html="msg"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="close()">'+n+'"DIALOGS_CLOSE" | translate'+r+"</button></div>"),e.put("/dialogs/wait.html",'<div class="modal-header dialog-header-wait"><h4 class="modal-title"><span class="'+n+"icon"+r+'"></span> '+n+"header"+r+'</h4></div><div class="modal-body"><p ng-bind-html="msg"></p><div class="progress progress-striped active"><div class="progress-bar progress-bar-info" ng-style="getProgress()"></div><span class="sr-only">'+n+"progress"+r+n+'"DIALOGS_PERCENT_COMPLETE" | translate'+r+"</span></div></div>"),e.put("/dialogs/notify.html",'<div class="modal-header dialog-header-notify"><button type="button" class="close" ng-click="close()" class="pull-right">&times;</button><h4 class="modal-title text-info"><span class="'+n+"icon"+r+'"></span> '+n+"header"+r+'</h4></div><div class="modal-body text-info" ng-bind-html="msg"></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-click="close()">'+n+'"DIALOGS_OK" | translate'+r+"</button></div>"),e.put("/dialogs/confirm.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="no()">&times;</button><h4 class="modal-title"><span class="'+n+"icon"+r+'"></span> '+n+"header"+r+'</h4></div><div class="modal-body" ng-bind-html="msg"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="yes()">'+n+'"DIALOGS_YES" | translate'+r+'</button><button type="button" class="btn btn-primary" ng-click="no()">'+n+'"DIALOGS_NO" | translate'+r+"</button></div>")}])}()},{}],"angular-localization":[function(e,t,n){!function(e,t,n,r){"use strict";e.module("ngLocalize.Config",[]).value("localeConf",{basePath:"languages",defaultLocale:"en-US",sharedDictionary:"common",fileExtension:".lang.json",persistSelection:!0,cookieName:"COOKIE_LOCALE_LANG",observableAttrs:new RegExp("^data-(?!ng-|i18n)"),delimiter:"::"}),e.module("ngLocalize.Events",[]).constant("localeEvents",{resourceUpdates:"ngLocalizeResourcesUpdated",localeChanges:"ngLocalizeLocaleChanged"}),e.module("ngLocalize",["ngSanitize","ngLocalize.Config","ngLocalize.Events","ngLocalize.InstalledLanguages"]).service("locale",["$injector","$http","$q","$log","$rootScope","$window","localeConf","localeEvents","localeSupported","localeFallbacks",function(t,n,r,i,o,a,s,c,l,u){function h(e){return e&&e.length&&P.test(e)}function d(e){var t=e?e.split("."):"",n="";return t.length>1&&(n=t.slice(0,-1).join(".")),n}function f(e){var t=e?e.split("."):[],n="";return t.length&&(n=t[t.length-1]),n}function p(e){var t,n=null,r=e?e.split("."):[];if(r.length>1)for(n=S,t=0;t<r.length-1;t++){if(!n[r[t]]){n=null;break}n=n[r[t]]}return n}function m(e){var t,r=e?e.split("."):"",a=S,l=s.basePath+"/"+x;if(r.length>1){for(t=0;t<r.length-1;t++)a[r[t]]||(a[r[t]]={}),a=a[r[t]],l+="/"+r[t];a._loading||(a._loading=!0,l+=s.fileExtension,n.get(l).success(function(t){var n,r=d(e);for(n in t)t.hasOwnProperty(n)&&(a[n]=t[n]);delete a._loading,o.$broadcast(c.resourceUpdates),k[r]&&k[r].resolve(r)}).error(function(e){i.error("[localizationService] Failed to load: "+l),delete a._loading}))}}function g(e){var t,n;return e=e||s.langFile,n=e+"._LOOKUP_",t=p(n),k[e]||(k[e]=r.defer()),t&&!t._loading?k[e].resolve(e):t||m(n),k[e].promise}function v(t){var n,i,o;if(e.isString(t))n=t.split(",");else{if(!e.isArray(t))throw new Error("locale.ready requires either an Array or comma-separated list.");n=t}return n.length>1?(o=[],n.forEach(function(e){o.push(g(e))}),i=r.all(o)):i=g(t),i}function b(t,n){var r=t,i=0;return n&&(e.isArray(n)?e.forEach(n,function(e,t){r=r.replace("%"+(t+1),e),r=r.replace("{"+(t+1)+"}",e)}):e.forEach(n,function(e,t){++i,r=r.replace("{"+t+"}",e),r=r.replace("%"+t,e),r=r.replace("%"+i,e),r=r.replace("{"+i+"}",e)})),r=r.replace(/\n/g,"<br>")}function y(t,n){var r,o,a,c="",l=!1;return e.isString(t)&&!n&&t.indexOf(s.delimiter)!=-1&&(a=t.split(s.delimiter),t=a[0],n=e.fromJson(a[1])),l=h(t),l?(e.isObject(n)||(n=[n]),r=p(t),r&&!r._loading?(o=f(t),r[o]?c=b(r[o],n):(i.info("[localizationService] Key not found: "+t),c="%%KEY_NOT_FOUND%%")):r||m(t)):c=t,c}function w(t){var n;e.isString(t)?(t=t.trim(),l.indexOf(t)!=-1?n=t:(n=u[t.split("-")[0]],e.isUndefined(n)&&(n=s.defaultLocale))):n=s.defaultLocale,n!=x&&(S={},k={},x=n,o.$broadcast(c.localeChanges,x),o.$broadcast(c.resourceUpdates),j&&j.put(s.cookieName,n))}function _(){return x}var x,k,S,j,P=new RegExp("^[\\w\\.-]+\\.[\\w\\s\\.-]+\\w(:.*)?$");return s.persistSelection&&t.has("$cookieStore")&&(j=t.get("$cookieStore")),w(j?j.get(s.cookieName):a.navigator.userLanguage||a.navigator.language),{ready:v,isToken:h,getPath:d,getKey:f,setLocale:w,getLocale:_,getString:y}}]).filter("i18n",["locale",function(e){var t=function(t,n){return e.getString(t,n)};return t.$stateful=!0,t}]).directive("i18n",["$sce","locale","localeEvents","localeConf",function(t,n,r,i){function o(e,n){n!==e.html()&&e.html(t.getTrustedHtml(n))}function a(e,t,r){n.isToken(t)?n.ready(n.getPath(t)).then(function(){o(e,n.getString(t,r))}):o(e,t)}return function(t,n,o){var s;o.$observe("i18n",function(e,t){e&&e!=t&&a(n,e,s)}),e.forEach(o.$attr,function(e,t){i.observableAttrs.test(e)&&o.$observe(t,function(e,r){(e&&e!=r||!s||!s[t])&&(s=s||{},s[t]=o[t],a(n,o.i18n,s))})}),t.$on(r.resourceUpdates,function(){a(n,o.i18n,s)}),t.$on(r.localeChanges,function(){a(n,o.i18n,s)})}}]).directive("i18nAttr",["locale","localeEvents",function(e,t){return function(n,r,i){function o(t,r){var o,s=n.$eval(r),c=[];for(var l in s)o=s[l],e.isToken(o)&&c.indexOf(e.getPath(o))==-1&&c.push(e.getPath(o));e.ready(c).then(function(){var t="";for(var n in s)o=s[n],t=e.getString(o),a[n]!==t&&i.$set(n,a[n]=t)})}var a={};i.$observe("i18nAttr",function(e,t){e&&e!=t&&o(r,e)}),n.$on(t.resourceUpdates,function(){o(r,i.i18nAttr)}),n.$on(t.localeChanges,function(){o(r,i.i18nAttr)})}}]),e.module("ngLocalize.InstalledLanguages",[]).value("localeSupported",["en-US"]).value("localeFallbacks",{en:"en-US"}),e.module("ngLocalize.Version",[]).constant("localeVer","1.2.1")}(window.angular,window,document)},{}],"malihu-custom-scrollbar-plugin":[function(e,t,n){!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof n?t.exports=e:e(jQuery)}(function(e){function t(t){var a=t||window.event,s=c.call(arguments,1),l=0,h=0,d=0,f=0,p=0,m=0;if(t=e.event.fix(a),t.type="mousewheel","detail"in a&&(d=-1*a.detail),"wheelDelta"in a&&(d=a.wheelDelta),"wheelDeltaY"in a&&(d=a.wheelDeltaY),"wheelDeltaX"in a&&(h=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(h=-1*d,d=0),l=0===d?h:d,"deltaY"in a&&(d=-1*a.deltaY,l=d),"deltaX"in a&&(h=a.deltaX,0===d&&(l=-1*h)),0!==d||0!==h){if(1===a.deltaMode){var g=e.data(this,"mousewheel-line-height");l*=g,d*=g,h*=g}else if(2===a.deltaMode){var v=e.data(this,"mousewheel-page-height");l*=v,d*=v,h*=v}if(f=Math.max(Math.abs(d),Math.abs(h)),(!o||o>f)&&(o=f,r(a,f)&&(o/=40)),r(a,f)&&(l/=40,h/=40,d/=40),l=Math[l>=1?"floor":"ceil"](l/o),h=Math[h>=1?"floor":"ceil"](h/o),d=Math[d>=1?"floor":"ceil"](d/o),u.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();p=t.clientX-b.left,m=t.clientY-b.top}return t.deltaX=h,t.deltaY=d,t.deltaFactor=o,t.offsetX=p,t.offsetY=m,t.deltaMode=0,s.unshift(t,l,h,d),i&&clearTimeout(i),i=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function n(){o=null}function r(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var i,o,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],c=Array.prototype.slice;if(e.event.fixHooks)for(var l=a.length;l;)e.event.fixHooks[a[--l]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),r=n["offsetParent"in e.fn?"offsetParent":"parent"]();return r.length||(r=e("body")),parseInt(r.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof n?t.exports=e:e(jQuery)}(function(e){function t(t){var a=t||window.event,s=c.call(arguments,1),l=0,h=0,d=0,f=0,p=0,m=0;if(t=e.event.fix(a),t.type="mousewheel","detail"in a&&(d=-1*a.detail),"wheelDelta"in a&&(d=a.wheelDelta),"wheelDeltaY"in a&&(d=a.wheelDeltaY),"wheelDeltaX"in a&&(h=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(h=-1*d,d=0),l=0===d?h:d,"deltaY"in a&&(d=-1*a.deltaY,l=d),"deltaX"in a&&(h=a.deltaX,0===d&&(l=-1*h)),0!==d||0!==h){if(1===a.deltaMode){var g=e.data(this,"mousewheel-line-height");l*=g,d*=g,h*=g}else if(2===a.deltaMode){var v=e.data(this,"mousewheel-page-height");l*=v,d*=v,h*=v}if(f=Math.max(Math.abs(d),Math.abs(h)),(!o||o>f)&&(o=f,r(a,f)&&(o/=40)),r(a,f)&&(l/=40,h/=40,d/=40),l=Math[l>=1?"floor":"ceil"](l/o),h=Math[h>=1?"floor":"ceil"](h/o),d=Math[d>=1?"floor":"ceil"](d/o),u.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();p=t.clientX-b.left,m=t.clientY-b.top}return t.deltaX=h,t.deltaY=d,t.deltaFactor=o,t.offsetX=p,t.offsetY=m,t.deltaMode=0,s.unshift(t,l,h,d),i&&clearTimeout(i),i=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function n(){o=null}function r(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var i,o,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],c=Array.prototype.slice;if(e.event.fixHooks)for(var l=a.length;l;)e.event.fixHooks[a[--l]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),r=n["offsetParent"in e.fn?"offsetParent":"parent"]();return r.length||(r=e("body")),parseInt(r.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),!function(e){"undefined"!=typeof t&&t.exports?t.exports=e:e(jQuery,window,document)}(function(n){!function(r){var i="function"==typeof define&&define.amd,o="undefined"!=typeof t&&t.exports,a="https:"==document.location.protocol?"https:":"http:",s="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";i||(o?e("jquery-mousewheel")(n):n.event.special.mousewheel||n("head").append(decodeURI("%3Cscript src="+a+"//"+s+"%3E%3C/script%3E"))),r()}(function(){var e,t="mCustomScrollbar",r="mCS",i=".mCustomScrollbar",o={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},a=0,s={},c=window.attachEvent&&!window.addEventListener?1:0,l=!1,u=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],h={init:function(e){var e=n.extend(!0,{},o,e),t=d.call(this);if(e.live){var c=e.liveSelector||this.selector||i,l=n(c);if("off"===e.live)return void p(c);s[c]=setTimeout(function(){l.mCustomScrollbar(e),"once"===e.live&&l.length&&p(c)},500)}else p(c);return e.setWidth=e.set_width?e.set_width:e.setWidth,e.setHeight=e.set_height?e.set_height:e.setHeight,e.axis=e.horizontalScroll?"x":m(e.axis),e.scrollInertia=e.scrollInertia>0&&e.scrollInertia<17?17:e.scrollInertia,"object"!=typeof e.mouseWheel&&1==e.mouseWheel&&(e.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),e.mouseWheel.scrollAmount=e.mouseWheelPixels?e.mouseWheelPixels:e.mouseWheel.scrollAmount,e.mouseWheel.normalizeDelta=e.advanced.normalizeMouseWheelDelta?e.advanced.normalizeMouseWheelDelta:e.mouseWheel.normalizeDelta,e.scrollButtons.scrollType=g(e.scrollButtons.scrollType),f(e),n(t).each(function(){var t=n(this);if(!t.data(r)){t.data(r,{idx:++a,opt:e,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:t.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var i=t.data(r),o=i.opt,s=t.data("mcs-axis"),c=t.data("mcs-scrollbar-position"),l=t.data("mcs-theme");s&&(o.axis=s),c&&(o.scrollbarPosition=c),l&&(o.theme=l,f(o)),v.call(this),i&&o.callbacks.onCreate&&"function"==typeof o.callbacks.onCreate&&o.callbacks.onCreate.call(this),n("#mCSB_"+i.idx+"_container img:not(."+u[2]+")").addClass(u[2]),h.update.call(null,t)}})},update:function(e,t){var i=e||d.call(this);return n(i).each(function(){var e=n(this);if(e.data(r)){var i=e.data(r),o=i.opt,a=n("#mCSB_"+i.idx+"_container"),s=n("#mCSB_"+i.idx),c=[n("#mCSB_"+i.idx+"_dragger_vertical"),n("#mCSB_"+i.idx+"_dragger_horizontal")];if(!a.length)return;i.tweenRunning&&W(e),t&&i&&o.callbacks.onBeforeUpdate&&"function"==typeof o.callbacks.onBeforeUpdate&&o.callbacks.onBeforeUpdate.call(this),e.hasClass(u[3])&&e.removeClass(u[3]),e.hasClass(u[4])&&e.removeClass(u[4]),s.css("max-height","none"),s.height()!==e.height()&&s.css("max-height",e.height()),y.call(this),"y"===o.axis||o.advanced.autoExpandHorizontalScroll||a.css("width",b(a)),i.overflowed=S.call(this),A.call(this),o.autoDraggerLength&&_.call(this),x.call(this),P.call(this);var l=[Math.abs(a[0].offsetTop),Math.abs(a[0].offsetLeft)];"x"!==o.axis&&(i.overflowed[0]?c[0].height()>c[0].parent().height()?j.call(this):(G(e,l[0].toString(),{dir:"y",dur:0,overwrite:"none"}),i.contentReset.y=null):(j.call(this),"y"===o.axis?E.call(this):"yx"===o.axis&&i.overflowed[1]&&G(e,l[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==o.axis&&(i.overflowed[1]?c[1].width()>c[1].parent().width()?j.call(this):(G(e,l[1].toString(),{dir:"x",dur:0,overwrite:"none"}),i.contentReset.x=null):(j.call(this),"x"===o.axis?E.call(this):"yx"===o.axis&&i.overflowed[0]&&G(e,l[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),t&&i&&(2===t&&o.callbacks.onImageLoad&&"function"==typeof o.callbacks.onImageLoad?o.callbacks.onImageLoad.call(this):3===t&&o.callbacks.onSelectorChange&&"function"==typeof o.callbacks.onSelectorChange?o.callbacks.onSelectorChange.call(this):o.callbacks.onUpdate&&"function"==typeof o.callbacks.onUpdate&&o.callbacks.onUpdate.call(this)),V.call(this)}})},scrollTo:function(e,t){if("undefined"!=typeof e&&null!=e){var i=d.call(this);return n(i).each(function(){var i=n(this);if(i.data(r)){var o=i.data(r),a=o.opt,s={trigger:"external",scrollInertia:a.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},c=n.extend(!0,{},s,t),l=B.call(this,e),u=c.scrollInertia>0&&c.scrollInertia<17?17:c.scrollInertia;l[0]=q.call(this,l[0],"y"),l[1]=q.call(this,l[1],"x"),c.moveDragger&&(l[0]*=o.scrollRatio.y,l[1]*=o.scrollRatio.x),c.dur=ne()?0:u,setTimeout(function(){null!==l[0]&&"undefined"!=typeof l[0]&&"x"!==a.axis&&o.overflowed[0]&&(c.dir="y",c.overwrite="all",G(i,l[0].toString(),c)),null!==l[1]&&"undefined"!=typeof l[1]&&"y"!==a.axis&&o.overflowed[1]&&(c.dir="x",c.overwrite="none",G(i,l[1].toString(),c))},c.timeout)}})}},stop:function(){var e=d.call(this);return n(e).each(function(){var e=n(this);e.data(r)&&W(e)})},disable:function(e){var t=d.call(this);return n(t).each(function(){var t=n(this);t.data(r)&&(t.data(r),V.call(this,"remove"),E.call(this),e&&j.call(this),A.call(this,!0),t.addClass(u[3]))})},destroy:function(){var e=d.call(this);return n(e).each(function(){var i=n(this);if(i.data(r)){var o=i.data(r),a=o.opt,s=n("#mCSB_"+o.idx),c=n("#mCSB_"+o.idx+"_container"),l=n(".mCSB_"+o.idx+"_scrollbar");a.live&&p(a.liveSelector||n(e).selector),V.call(this,"remove"),E.call(this),j.call(this),i.removeData(r),Q(this,"mcs"),l.remove(),c.find("img."+u[2]).removeClass(u[2]),s.replaceWith(c.contents()),i.removeClass(t+" _"+r+"_"+o.idx+" "+u[6]+" "+u[7]+" "+u[5]+" "+u[3]).addClass(u[4])}})}},d=function(){return"object"!=typeof n(this)||n(this).length<1?i:this},f=function(e){var t=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],r=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],i=["minimal","minimal-dark"],o=["minimal","minimal-dark"],a=["minimal","minimal-dark"];e.autoDraggerLength=!(n.inArray(e.theme,t)>-1)&&e.autoDraggerLength,e.autoExpandScrollbar=!(n.inArray(e.theme,r)>-1)&&e.autoExpandScrollbar,e.scrollButtons.enable=!(n.inArray(e.theme,i)>-1)&&e.scrollButtons.enable,e.autoHideScrollbar=n.inArray(e.theme,o)>-1||e.autoHideScrollbar,e.scrollbarPosition=n.inArray(e.theme,a)>-1?"outside":e.scrollbarPosition},p=function(e){s[e]&&(clearTimeout(s[e]),Q(s,e))},m=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},g=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},v=function(){var e=n(this),i=e.data(r),o=i.opt,a=o.autoExpandScrollbar?" "+u[1]+"_expand":"",s=["<div id='mCSB_"+i.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+i.idx+"_scrollbar mCS-"+o.theme+" mCSB_scrollTools_vertical"+a+"'><div class='"+u[12]+"'><div id='mCSB_"+i.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+i.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+i.idx+"_scrollbar mCS-"+o.theme+" mCSB_scrollTools_horizontal"+a+"'><div class='"+u[12]+"'><div id='mCSB_"+i.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],c="yx"===o.axis?"mCSB_vertical_horizontal":"x"===o.axis?"mCSB_horizontal":"mCSB_vertical",l="yx"===o.axis?s[0]+s[1]:"x"===o.axis?s[1]:s[0],h="yx"===o.axis?"<div id='mCSB_"+i.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",d=o.autoHideScrollbar?" "+u[6]:"",f="x"!==o.axis&&"rtl"===i.langDir?" "+u[7]:"";o.setWidth&&e.css("width",o.setWidth),o.setHeight&&e.css("height",o.setHeight),o.setLeft="y"!==o.axis&&"rtl"===i.langDir?"989999px":o.setLeft,e.addClass(t+" _"+r+"_"+i.idx+d+f).wrapInner("<div id='mCSB_"+i.idx+"' class='mCustomScrollBox mCS-"+o.theme+" "+c+"'><div id='mCSB_"+i.idx+"_container' class='mCSB_container' style='position:relative; top:"+o.setTop+"; left:"+o.setLeft+";' dir="+i.langDir+" /></div>");var p=n("#mCSB_"+i.idx),m=n("#mCSB_"+i.idx+"_container");"y"===o.axis||o.advanced.autoExpandHorizontalScroll||m.css("width",b(m)),"outside"===o.scrollbarPosition?("static"===e.css("position")&&e.css("position","relative"),e.css("overflow","visible"),p.addClass("mCSB_outside").after(l)):(p.addClass("mCSB_inside").append(l),m.wrap(h)),w.call(this);var g=[n("#mCSB_"+i.idx+"_dragger_vertical"),n("#mCSB_"+i.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},b=function(e){var t=[e[0].scrollWidth,Math.max.apply(Math,e.children().map(function(){return n(this).outerWidth(!0)}).get())],r=e.parent().width();return t[0]>r?t[0]:t[1]>r?t[1]:"100%"},y=function(){var e=n(this),t=e.data(r),i=t.opt,o=n("#mCSB_"+t.idx+"_container");if(i.advanced.autoExpandHorizontalScroll&&"y"!==i.axis){o.css({width:"auto","min-width":0,"overflow-x":"scroll"});var a=Math.ceil(o[0].scrollWidth);3===i.advanced.autoExpandHorizontalScroll||2!==i.advanced.autoExpandHorizontalScroll&&a>o.parent().width()?o.css({width:a,"min-width":"100%","overflow-x":"inherit"}):o.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(o[0].getBoundingClientRect().right+.4)-Math.floor(o[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},w=function(){var e=n(this),t=e.data(r),i=t.opt,o=n(".mCSB_"+t.idx+"_scrollbar:first"),a=ee(i.scrollButtons.tabindex)?"tabindex='"+i.scrollButtons.tabindex+"'":"",s=["<a href='#' class='"+u[13]+"' oncontextmenu='return false;' "+a+" />","<a href='#' class='"+u[14]+"' oncontextmenu='return false;' "+a+" />","<a href='#' class='"+u[15]+"' oncontextmenu='return false;' "+a+" />","<a href='#' class='"+u[16]+"' oncontextmenu='return false;' "+a+" />"],c=["x"===i.axis?s[2]:s[0],"x"===i.axis?s[3]:s[1],s[2],s[3]];i.scrollButtons.enable&&o.prepend(c[0]).append(c[1]).next(".mCSB_scrollTools").prepend(c[2]).append(c[3])},_=function(){var e=n(this),t=e.data(r),i=n("#mCSB_"+t.idx),o=n("#mCSB_"+t.idx+"_container"),a=[n("#mCSB_"+t.idx+"_dragger_vertical"),n("#mCSB_"+t.idx+"_dragger_horizontal")],s=[i.height()/o.outerHeight(!1),i.width()/o.outerWidth(!1)],l=[parseInt(a[0].css("min-height")),Math.round(s[0]*a[0].parent().height()),parseInt(a[1].css("min-width")),Math.round(s[1]*a[1].parent().width())],u=c&&l[1]<l[0]?l[0]:l[1],h=c&&l[3]<l[2]?l[2]:l[3];a[0].css({height:u,"max-height":a[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":l[0]+"px"}),a[1].css({width:h,"max-width":a[1].parent().width()-10})},x=function(){var e=n(this),t=e.data(r),i=n("#mCSB_"+t.idx),o=n("#mCSB_"+t.idx+"_container"),a=[n("#mCSB_"+t.idx+"_dragger_vertical"),n("#mCSB_"+t.idx+"_dragger_horizontal")],s=[o.outerHeight(!1)-i.height(),o.outerWidth(!1)-i.width()],c=[s[0]/(a[0].parent().height()-a[0].height()),s[1]/(a[1].parent().width()-a[1].width())];
t.scrollRatio={y:c[0],x:c[1]}},k=function(e,t,n){var r=n?u[0]+"_expanded":"",i=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(u[0]+" "+r),i.toggleClass(u[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(u[0]),i.removeClass(u[1])):(e.addClass(u[0]),i.addClass(u[1])))},S=function(){var e=n(this),t=e.data(r),i=n("#mCSB_"+t.idx),o=n("#mCSB_"+t.idx+"_container"),a=null==t.overflowed?o.height():o.outerHeight(!1),s=null==t.overflowed?o.width():o.outerWidth(!1),c=o[0].scrollHeight,l=o[0].scrollWidth;return c>a&&(a=c),l>s&&(s=l),[a>i.height(),s>i.width()]},j=function(){var e=n(this),t=e.data(r),i=t.opt,o=n("#mCSB_"+t.idx),a=n("#mCSB_"+t.idx+"_container"),s=[n("#mCSB_"+t.idx+"_dragger_vertical"),n("#mCSB_"+t.idx+"_dragger_horizontal")];if(W(e),("x"!==i.axis&&!t.overflowed[0]||"y"===i.axis&&t.overflowed[0])&&(s[0].add(a).css("top",0),G(e,"_resetY")),"y"!==i.axis&&!t.overflowed[1]||"x"===i.axis&&t.overflowed[1]){var c=dx=0;"rtl"===t.langDir&&(c=o.width()-a.outerWidth(!1),dx=Math.abs(c/t.scrollRatio.x)),a.css("left",c),s[1].css("left",dx),G(e,"_resetX")}},P=function(){function e(){a=setTimeout(function(){n.event.special.mousewheel?(clearTimeout(a),I.call(t[0])):e()},100)}var t=n(this),i=t.data(r),o=i.opt;if(!i.bindEvents){if(C.call(this),o.contentTouchScroll&&M.call(this),O.call(this),o.mouseWheel.enable){var a;e()}L.call(this),N.call(this),o.advanced.autoScrollOnFocus&&R.call(this),o.scrollButtons.enable&&U.call(this),o.keyboard.enable&&$.call(this),i.bindEvents=!0}},E=function(){var e=n(this),t=e.data(r),i=t.opt,o=r+"_"+t.idx,a=".mCSB_"+t.idx+"_scrollbar",s=n("#mCSB_"+t.idx+",#mCSB_"+t.idx+"_container,#mCSB_"+t.idx+"_container_wrapper,"+a+" ."+u[12]+",#mCSB_"+t.idx+"_dragger_vertical,#mCSB_"+t.idx+"_dragger_horizontal,"+a+">a"),c=n("#mCSB_"+t.idx+"_container");i.advanced.releaseDraggableSelectors&&s.add(n(i.advanced.releaseDraggableSelectors)),i.advanced.extraDraggableSelectors&&s.add(n(i.advanced.extraDraggableSelectors)),t.bindEvents&&(n(document).add(n(!F()||top.document)).unbind("."+o),s.each(function(){n(this).unbind("."+o)}),clearTimeout(e[0]._focusTimeout),Q(e[0],"_focusTimeout"),clearTimeout(t.sequential.step),Q(t.sequential,"step"),clearTimeout(c[0].onCompleteTimeout),Q(c[0],"onCompleteTimeout"),t.bindEvents=!1)},A=function(e){var t=n(this),i=t.data(r),o=i.opt,a=n("#mCSB_"+i.idx+"_container_wrapper"),s=a.length?a:n("#mCSB_"+i.idx+"_container"),c=[n("#mCSB_"+i.idx+"_scrollbar_vertical"),n("#mCSB_"+i.idx+"_scrollbar_horizontal")],l=[c[0].find(".mCSB_dragger"),c[1].find(".mCSB_dragger")];"x"!==o.axis&&(i.overflowed[0]&&!e?(c[0].add(l[0]).add(c[0].children("a")).css("display","block"),s.removeClass(u[8]+" "+u[10])):(o.alwaysShowScrollbar?(2!==o.alwaysShowScrollbar&&l[0].css("display","none"),s.removeClass(u[10])):(c[0].css("display","none"),s.addClass(u[10])),s.addClass(u[8]))),"y"!==o.axis&&(i.overflowed[1]&&!e?(c[1].add(l[1]).add(c[1].children("a")).css("display","block"),s.removeClass(u[9]+" "+u[11])):(o.alwaysShowScrollbar?(2!==o.alwaysShowScrollbar&&l[1].css("display","none"),s.removeClass(u[11])):(c[1].css("display","none"),s.addClass(u[11])),s.addClass(u[9]))),i.overflowed[0]||i.overflowed[1]?t.removeClass(u[5]):t.addClass(u[5])},T=function(e){var t=e.type,r=e.target.ownerDocument!==document?[n(frameElement).offset().top,n(frameElement).offset().left]:null,i=F()&&e.target.ownerDocument!==top.document?[n(e.view.frameElement).offset().top,n(e.view.frameElement).offset().left]:[0,0];switch(t){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return r?[e.originalEvent.pageY-r[0]+i[0],e.originalEvent.pageX-r[1]+i[1],!1]:[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var o=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],a=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return e.target.ownerDocument!==document?[o.screenY,o.screenX,a>1]:[o.pageY,o.pageX,a>1];default:return r?[e.pageY-r[0]+i[0],e.pageX-r[1]+i[1],!1]:[e.pageY,e.pageX,!1]}},C=function(){function e(e){var t=p.find("iframe");if(t.length){var n=e?"auto":"none";t.css("pointer-events",n)}}function t(e,t,n,r){if(p[0].idleTimer=h.scrollInertia<233?250:0,i.attr("id")===f[1])var o="x",a=(i[0].offsetLeft-t+r)*u.scrollRatio.x;else var o="y",a=(i[0].offsetTop-e+n)*u.scrollRatio.y;G(s,a.toString(),{dir:o,drag:!0})}var i,o,a,s=n(this),u=s.data(r),h=u.opt,d=r+"_"+u.idx,f=["mCSB_"+u.idx+"_dragger_vertical","mCSB_"+u.idx+"_dragger_horizontal"],p=n("#mCSB_"+u.idx+"_container"),m=n("#"+f[0]+",#"+f[1]),g=h.advanced.releaseDraggableSelectors?m.add(n(h.advanced.releaseDraggableSelectors)):m,v=h.advanced.extraDraggableSelectors?n(!F()||top.document).add(n(h.advanced.extraDraggableSelectors)):n(!F()||top.document);m.bind("mousedown."+d+" touchstart."+d+" pointerdown."+d+" MSPointerDown."+d,function(t){if(t.stopImmediatePropagation(),t.preventDefault(),Z(t)){l=!0,c&&(document.onselectstart=function(){return!1}),e(!1),W(s),i=n(this);var r=i.offset(),u=T(t)[0]-r.top,d=T(t)[1]-r.left,f=i.height()+r.top,p=i.width()+r.left;f>u&&u>0&&p>d&&d>0&&(o=u,a=d),k(i,"active",h.autoExpandScrollbar)}}).bind("touchmove."+d,function(e){e.stopImmediatePropagation(),e.preventDefault();var n=i.offset(),r=T(e)[0]-n.top,s=T(e)[1]-n.left;t(o,a,r,s)}),n(document).add(v).bind("mousemove."+d+" pointermove."+d+" MSPointerMove."+d,function(e){if(i){var n=i.offset(),r=T(e)[0]-n.top,s=T(e)[1]-n.left;if(o===r&&a===s)return;t(o,a,r,s)}}).add(g).bind("mouseup."+d+" touchend."+d+" pointerup."+d+" MSPointerUp."+d,function(t){i&&(k(i,"active",h.autoExpandScrollbar),i=null),l=!1,c&&(document.onselectstart=null),e(!0)})},M=function(){function t(t){if(!J(t)||l||T(t)[2])return void(e=0);e=1,x=0,k=0,u=1,S.removeClass("mCS_touch_action");var n=C.offset();h=T(t)[0]-n.top,d=T(t)[1]-n.left,R=[T(t)[0],T(t)[1]]}function i(e){if(J(e)&&!l&&!T(e)[2]&&(P.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!k||x)&&u)){g=K();var t=A.offset(),n=T(e)[0]-t.top,r=T(e)[1]-t.left,i="mcsLinearOut";if(O.push(n),I.push(r),R[2]=Math.abs(T(e)[0]-R[0]),R[3]=Math.abs(T(e)[1]-R[1]),j.overflowed[0])var o=M[0].parent().height()-M[0].height(),a=h-n>0&&n-h>-(o*j.scrollRatio.y)&&(2*R[3]<R[2]||"yx"===P.axis);if(j.overflowed[1])var s=M[1].parent().width()-M[1].width(),f=d-r>0&&r-d>-(s*j.scrollRatio.x)&&(2*R[2]<R[3]||"yx"===P.axis);a||f?($||e.preventDefault(),x=1):(k=1,S.addClass("mCS_touch_action")),$&&e.preventDefault(),w="yx"===P.axis?[h-n,d-r]:"x"===P.axis?[null,d-r]:[h-n,null],C[0].idleTimer=250,j.overflowed[0]&&c(w[0],D,i,"y","all",!0),j.overflowed[1]&&c(w[1],D,i,"x",L,!0)}}function o(t){if(!J(t)||l||T(t)[2])return void(e=0);e=1,t.stopImmediatePropagation(),W(S),m=K();var n=A.offset();f=T(t)[0]-n.top,p=T(t)[1]-n.left,O=[],I=[]}function a(e){if(J(e)&&!l&&!T(e)[2]){u=0,e.stopImmediatePropagation(),x=0,k=0,v=K();var t=A.offset(),n=T(e)[0]-t.top,r=T(e)[1]-t.left;if(!(v-g>30)){y=1e3/(v-m);var i="mcsEaseOut",o=2.5>y,a=o?[O[O.length-2],I[I.length-2]]:[0,0];b=o?[n-a[0],r-a[1]]:[n-f,r-p];var h=[Math.abs(b[0]),Math.abs(b[1])];y=o?[Math.abs(b[0]/4),Math.abs(b[1]/4)]:[y,y];var d=[Math.abs(C[0].offsetTop)-b[0]*s(h[0]/y[0],y[0]),Math.abs(C[0].offsetLeft)-b[1]*s(h[1]/y[1],y[1])];w="yx"===P.axis?[d[0],d[1]]:"x"===P.axis?[null,d[1]]:[d[0],null],_=[4*h[0]+P.scrollInertia,4*h[1]+P.scrollInertia];var S=parseInt(P.contentTouchScroll)||0;w[0]=h[0]>S?w[0]:0,w[1]=h[1]>S?w[1]:0,j.overflowed[0]&&c(w[0],_[0],i,"y",L,!1),j.overflowed[1]&&c(w[1],_[1],i,"x",L,!1)}}}function s(e,t){var n=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?n[0]:n[3]:e>60?t>3?n[3]:n[2]:e>30?t>8?n[1]:t>6?n[0]:t>4?t:n[2]:t>8?t:n[3]}function c(e,t,n,r,i,o){e&&G(S,e.toString(),{dur:t,scrollEasing:n,dir:r,overwrite:i,drag:o})}var u,h,d,f,p,m,g,v,b,y,w,_,x,k,S=n(this),j=S.data(r),P=j.opt,E=r+"_"+j.idx,A=n("#mCSB_"+j.idx),C=n("#mCSB_"+j.idx+"_container"),M=[n("#mCSB_"+j.idx+"_dragger_vertical"),n("#mCSB_"+j.idx+"_dragger_horizontal")],O=[],I=[],D=0,L="yx"===P.axis?"none":"all",R=[],N=C.find("iframe"),U=["touchstart."+E+" pointerdown."+E+" MSPointerDown."+E,"touchmove."+E+" pointermove."+E+" MSPointerMove."+E,"touchend."+E+" pointerup."+E+" MSPointerUp."+E],$=void 0!==document.body.style.touchAction;C.bind(U[0],function(e){t(e)}).bind(U[1],function(e){i(e)}),A.bind(U[0],function(e){o(e)}).bind(U[2],function(e){a(e)}),N.length&&N.each(function(){n(this).load(function(){F(this)&&n(this.contentDocument||this.contentWindow.document).bind(U[0],function(e){t(e),o(e)}).bind(U[1],function(e){i(e)}).bind(U[2],function(e){a(e)})})})},O=function(){function t(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function i(e,t,n){u.type=n&&o?"stepped":"stepless",u.scrollAmount=10,z(a,e,t,"mcsLinearOut",n?60:null)}var o,a=n(this),s=a.data(r),c=s.opt,u=s.sequential,h=r+"_"+s.idx,d=n("#mCSB_"+s.idx+"_container"),f=d.parent();d.bind("mousedown."+h,function(t){e||o||(o=1,l=!0)}).add(document).bind("mousemove."+h,function(n){if(!e&&o&&t()){var r=d.offset(),a=T(n)[0]-r.top+d[0].offsetTop,l=T(n)[1]-r.left+d[0].offsetLeft;a>0&&a<f.height()&&l>0&&l<f.width()?u.step&&i("off",null,"stepped"):("x"!==c.axis&&s.overflowed[0]&&(0>a?i("on",38):a>f.height()&&i("on",40)),"y"!==c.axis&&s.overflowed[1]&&(0>l?i("on",37):l>f.width()&&i("on",39)))}}).bind("mouseup."+h+" dragend."+h,function(t){e||(o&&(o=0,i("off",null)),l=!1)})},I=function(){function e(e,r){if(W(t),!D(t,e.target)){var a="auto"!==o.mouseWheel.deltaFactor?parseInt(o.mouseWheel.deltaFactor):c&&e.deltaFactor<100?100:e.deltaFactor||100,u=o.scrollInertia;if("x"===o.axis||"x"===o.mouseWheel.axis)var h="x",d=[Math.round(a*i.scrollRatio.x),parseInt(o.mouseWheel.scrollAmount)],f="auto"!==o.mouseWheel.scrollAmount?d[1]:d[0]>=s.width()?.9*s.width():d[0],p=Math.abs(n("#mCSB_"+i.idx+"_container")[0].offsetLeft),m=l[1][0].offsetLeft,g=l[1].parent().width()-l[1].width(),v=e.deltaX||e.deltaY||r;else var h="y",d=[Math.round(a*i.scrollRatio.y),parseInt(o.mouseWheel.scrollAmount)],f="auto"!==o.mouseWheel.scrollAmount?d[1]:d[0]>=s.height()?.9*s.height():d[0],p=Math.abs(n("#mCSB_"+i.idx+"_container")[0].offsetTop),m=l[0][0].offsetTop,g=l[0].parent().height()-l[0].height(),v=e.deltaY||r;"y"===h&&!i.overflowed[0]||"x"===h&&!i.overflowed[1]||((o.mouseWheel.invert||e.webkitDirectionInvertedFromDevice)&&(v=-v),o.mouseWheel.normalizeDelta&&(v=0>v?-1:1),(v>0&&0!==m||0>v&&m!==g||o.mouseWheel.preventDefault)&&(e.stopImmediatePropagation(),e.preventDefault()),e.deltaFactor<2&&!o.mouseWheel.normalizeDelta&&(f=e.deltaFactor,u=17),G(t,(p-v*f).toString(),{dir:h,dur:u}))}}if(n(this).data(r)){var t=n(this),i=t.data(r),o=i.opt,a=r+"_"+i.idx,s=n("#mCSB_"+i.idx),l=[n("#mCSB_"+i.idx+"_dragger_vertical"),n("#mCSB_"+i.idx+"_dragger_horizontal")],u=n("#mCSB_"+i.idx+"_container").find("iframe");u.length&&u.each(function(){n(this).load(function(){F(this)&&n(this.contentDocument||this.contentWindow.document).bind("mousewheel."+a,function(t,n){e(t,n)})})}),s.bind("mousewheel."+a,function(t,n){e(t,n)})}},F=function(e){var t=null;if(e){try{var n=e.contentDocument||e.contentWindow.document;t=n.body.innerHTML}catch(r){}return null!==t}try{var n=top.document;t=n.body.innerHTML}catch(r){}return null!==t},D=function(e,t){var i=t.nodeName.toLowerCase(),o=e.data(r).opt.mouseWheel.disableOver,a=["select","textarea"];return n.inArray(i,o)>-1&&!(n.inArray(i,a)>-1&&!n(t).is(":focus"))},L=function(){var e,t=n(this),i=t.data(r),o=r+"_"+i.idx,a=n("#mCSB_"+i.idx+"_container"),s=a.parent(),c=n(".mCSB_"+i.idx+"_scrollbar ."+u[12]);c.bind("mousedown."+o+" touchstart."+o+" pointerdown."+o+" MSPointerDown."+o,function(t){l=!0,n(t.target).hasClass("mCSB_dragger")||(e=1)}).bind("touchend."+o+" pointerup."+o+" MSPointerUp."+o,function(e){l=!1}).bind("click."+o,function(r){if(e&&(e=0,n(r.target).hasClass(u[12])||n(r.target).hasClass("mCSB_draggerRail"))){W(t);var o=n(this),c=o.find(".mCSB_dragger");if(o.parent(".mCSB_scrollTools_horizontal").length>0){if(!i.overflowed[1])return;var l="x",h=r.pageX>c.offset().left?-1:1,d=Math.abs(a[0].offsetLeft)-.9*h*s.width()}else{if(!i.overflowed[0])return;var l="y",h=r.pageY>c.offset().top?-1:1,d=Math.abs(a[0].offsetTop)-.9*h*s.height()}G(t,d.toString(),{dir:l,scrollEasing:"mcsEaseInOut"})}})},R=function(){var e=n(this),t=e.data(r),i=t.opt,o=r+"_"+t.idx,a=n("#mCSB_"+t.idx+"_container"),s=a.parent();a.bind("focusin."+o,function(t){var r=n(document.activeElement),o=a.find(".mCustomScrollBox").length,c=0;r.is(i.advanced.autoScrollOnFocus)&&(W(e),clearTimeout(e[0]._focusTimeout),e[0]._focusTimer=o?(c+17)*o:0,e[0]._focusTimeout=setTimeout(function(){var t=[te(r)[0],te(r)[1]],n=[a[0].offsetTop,a[0].offsetLeft],o=[n[0]+t[0]>=0&&n[0]+t[0]<s.height()-r.outerHeight(!1),n[1]+t[1]>=0&&n[0]+t[1]<s.width()-r.outerWidth(!1)],l="yx"!==i.axis||o[0]||o[1]?"all":"none";"x"===i.axis||o[0]||G(e,t[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:l,dur:c}),"y"===i.axis||o[1]||G(e,t[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:l,dur:c})},e[0]._focusTimer))})},N=function(){var e=n(this),t=e.data(r),i=r+"_"+t.idx,o=n("#mCSB_"+t.idx+"_container").parent();o.bind("scroll."+i,function(e){(0!==o.scrollTop()||0!==o.scrollLeft())&&n(".mCSB_"+t.idx+"_scrollbar").css("visibility","hidden")})},U=function(){var e=n(this),t=e.data(r),i=t.opt,o=t.sequential,a=r+"_"+t.idx,s=".mCSB_"+t.idx+"_scrollbar",c=n(s+">a");c.bind("mousedown."+a+" touchstart."+a+" pointerdown."+a+" MSPointerDown."+a+" mouseup."+a+" touchend."+a+" pointerup."+a+" MSPointerUp."+a+" mouseout."+a+" pointerout."+a+" MSPointerOut."+a+" click."+a,function(r){function a(t,n){o.scrollAmount=i.scrollButtons.scrollAmount,z(e,t,n)}if(r.preventDefault(),Z(r)){var s=n(this).attr("class");switch(o.type=i.scrollButtons.scrollType,r.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===o.type)return;l=!0,t.tweenRunning=!1,a("on",s);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===o.type)return;l=!1,o.dir&&a("off",s);break;case"click":if("stepped"!==o.type||t.tweenRunning)return;a("on",s)}}})},$=function(){function e(e){function r(e,n){a.type=o.keyboard.scrollType,a.scrollAmount=o.keyboard.scrollAmount,"stepped"===a.type&&i.tweenRunning||z(t,e,n)}switch(e.type){case"blur":i.tweenRunning&&a.dir&&r("off",null);break;case"keydown":case"keyup":var s=e.keyCode?e.keyCode:e.which,c="on";if("x"!==o.axis&&(38===s||40===s)||"y"!==o.axis&&(37===s||39===s)){if((38===s||40===s)&&!i.overflowed[0]||(37===s||39===s)&&!i.overflowed[1])return;"keyup"===e.type&&(c="off"),n(document.activeElement).is(h)||(e.preventDefault(),e.stopImmediatePropagation(),r(c,s))}else if(33===s||34===s){if((i.overflowed[0]||i.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type){W(t);var d=34===s?-1:1;if("x"===o.axis||"yx"===o.axis&&i.overflowed[1]&&!i.overflowed[0])var f="x",p=Math.abs(l[0].offsetLeft)-.9*d*u.width();else var f="y",p=Math.abs(l[0].offsetTop)-.9*d*u.height();G(t,p.toString(),{dir:f,scrollEasing:"mcsEaseInOut"})}}else if((35===s||36===s)&&!n(document.activeElement).is(h)&&((i.overflowed[0]||i.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type)){if("x"===o.axis||"yx"===o.axis&&i.overflowed[1]&&!i.overflowed[0])var f="x",p=35===s?Math.abs(u.width()-l.outerWidth(!1)):0;else var f="y",p=35===s?Math.abs(u.height()-l.outerHeight(!1)):0;G(t,p.toString(),{dir:f,scrollEasing:"mcsEaseInOut"})}}}var t=n(this),i=t.data(r),o=i.opt,a=i.sequential,s=r+"_"+i.idx,c=n("#mCSB_"+i.idx),l=n("#mCSB_"+i.idx+"_container"),u=l.parent(),h="input,textarea,select,datalist,keygen,[contenteditable='true']",d=l.find("iframe"),f=["blur."+s+" keydown."+s+" keyup."+s];d.length&&d.each(function(){n(this).load(function(){F(this)&&n(this.contentDocument||this.contentWindow.document).bind(f[0],function(t){e(t)})})}),c.attr("tabindex","0").bind(f[0],function(t){e(t)})},z=function(e,t,i,o,a){function s(t){h.snapAmount&&(d.scrollAmount=h.snapAmount instanceof Array?"x"===d.dir[0]?h.snapAmount[1]:h.snapAmount[0]:h.snapAmount);var n="stepped"!==d.type,r=a?a:t?n?m/1.5:g:1e3/60,i=t?n?7.5:40:2.5,c=[Math.abs(f[0].offsetTop),Math.abs(f[0].offsetLeft)],u=[l.scrollRatio.y>10?10:l.scrollRatio.y,l.scrollRatio.x>10?10:l.scrollRatio.x],p="x"===d.dir[0]?c[1]+d.dir[1]*u[1]*i:c[0]+d.dir[1]*u[0]*i,v="x"===d.dir[0]?c[1]+d.dir[1]*parseInt(d.scrollAmount):c[0]+d.dir[1]*parseInt(d.scrollAmount),b="auto"!==d.scrollAmount?v:p,y=o?o:t?n?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",w=!!t;return t&&17>r&&(b="x"===d.dir[0]?c[1]:c[0]),G(e,b.toString(),{dir:d.dir[0],scrollEasing:y,dur:r,onComplete:w}),t?void(d.dir=!1):(clearTimeout(d.step),void(d.step=setTimeout(function(){s()},r)))}function c(){clearTimeout(d.step),Q(d,"step"),W(e)}var l=e.data(r),h=l.opt,d=l.sequential,f=n("#mCSB_"+l.idx+"_container"),p="stepped"===d.type,m=h.scrollInertia<26?26:h.scrollInertia,g=h.scrollInertia<1?17:h.scrollInertia;switch(t){case"on":if(d.dir=[i===u[16]||i===u[15]||39===i||37===i?"x":"y",i===u[13]||i===u[15]||38===i||37===i?-1:1],W(e),ee(i)&&"stepped"===d.type)return;s(p);break;case"off":c(),(p||l.tweenRunning&&d.dir)&&s(!0)}},B=function(e){var t=n(this).data(r).opt,i=[];return"function"==typeof e&&(e=e()),e instanceof Array?i=e.length>1?[e[0],e[1]]:"x"===t.axis?[null,e[0]]:[e[0],null]:(i[0]=e.y?e.y:e.x||"x"===t.axis?null:e,i[1]=e.x?e.x:e.y||"y"===t.axis?null:e),"function"==typeof i[0]&&(i[0]=i[0]()),"function"==typeof i[1]&&(i[1]=i[1]()),i},q=function(e,t){if(null!=e&&"undefined"!=typeof e){var i=n(this),o=i.data(r),a=o.opt,s=n("#mCSB_"+o.idx+"_container"),c=s.parent(),l=typeof e;t||(t="x"===a.axis?"x":"y");var u="x"===t?s.outerWidth(!1):s.outerHeight(!1),d="x"===t?s[0].offsetLeft:s[0].offsetTop,f="x"===t?"left":"top";switch(l){case"function":return e();case"object":var p=e.jquery?e:n(e);if(!p.length)return;return"x"===t?te(p)[1]:te(p)[0];case"string":case"number":if(ee(e))return Math.abs(e);if(-1!==e.indexOf("%"))return Math.abs(u*parseInt(e)/100);if(-1!==e.indexOf("-="))return Math.abs(d-parseInt(e.split("-=")[1]));if(-1!==e.indexOf("+=")){var m=d+parseInt(e.split("+=")[1]);return m>=0?0:Math.abs(m)}if(-1!==e.indexOf("px")&&ee(e.split("px")[0]))return Math.abs(e.split("px")[0]);if("top"===e||"left"===e)return 0;if("bottom"===e)return Math.abs(c.height()-s.outerHeight(!1));if("right"===e)return Math.abs(c.width()-s.outerWidth(!1));if("first"===e||"last"===e){var p=s.find(":"+e);return"x"===t?te(p)[1]:te(p)[0]}return n(e).length?"x"===t?te(n(e))[1]:te(n(e))[0]:(s.css(f,e),void h.update.call(null,i[0]))}}},V=function(e){function t(){return clearTimeout(d[0].autoUpdate),0===s.parents("html").length?void(s=null):void(d[0].autoUpdate=setTimeout(function(){return l.advanced.updateOnSelectorChange&&(c.poll.change.n=o(),c.poll.change.n!==c.poll.change.o)?(c.poll.change.o=c.poll.change.n,void a(3)):l.advanced.updateOnContentResize&&(c.poll.size.n=s[0].scrollHeight+s[0].scrollWidth+d[0].offsetHeight+s[0].offsetHeight+s[0].offsetWidth,c.poll.size.n!==c.poll.size.o)?(c.poll.size.o=c.poll.size.n,void a(1)):!l.advanced.updateOnImageLoad||"auto"===l.advanced.updateOnImageLoad&&"y"===l.axis||(c.poll.img.n=d.find("img").length,c.poll.img.n===c.poll.img.o)?void((l.advanced.updateOnSelectorChange||l.advanced.updateOnContentResize||l.advanced.updateOnImageLoad)&&t()):(c.poll.img.o=c.poll.img.n,void d.find("img").each(function(){i(this)}))},l.advanced.autoUpdateTimeout))}function i(e){function t(e,t){return function(){return t.apply(e,arguments)}}function r(){this.onload=null,n(e).addClass(u[2]),a(2)}if(n(e).hasClass(u[2]))return void a();var i=new Image;i.onload=t(i,r),i.src=e.src}function o(){l.advanced.updateOnSelectorChange===!0&&(l.advanced.updateOnSelectorChange="*");var e=0,t=d.find(l.advanced.updateOnSelectorChange);return l.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){e+=this.offsetHeight+this.offsetWidth}),e}function a(e){clearTimeout(d[0].autoUpdate),h.update.call(null,s[0],e)}var s=n(this),c=s.data(r),l=c.opt,d=n("#mCSB_"+c.idx+"_container");return e?(clearTimeout(d[0].autoUpdate),void Q(d[0],"autoUpdate")):void t()},H=function(e,t,n){return Math.round(e/t)*t-n},W=function(e){var t=e.data(r),i=n("#mCSB_"+t.idx+"_container,#mCSB_"+t.idx+"_container_wrapper,#mCSB_"+t.idx+"_dragger_vertical,#mCSB_"+t.idx+"_dragger_horizontal");i.each(function(){X.call(this)})},G=function(e,t,i){function o(e){return c&&l.callbacks[e]&&"function"==typeof l.callbacks[e]}function a(){return[l.callbacks.alwaysTriggerOffsets||w>=_[0]+S,l.callbacks.alwaysTriggerOffsets||-j>=w]}function s(){var t=[f[0].offsetTop,f[0].offsetLeft],n=[b[0].offsetTop,b[0].offsetLeft],r=[f.outerHeight(!1),f.outerWidth(!1)],o=[d.height(),d.width()];e[0].mcs={content:f,top:t[0],left:t[1],draggerTop:n[0],draggerLeft:n[1],topPct:Math.round(100*Math.abs(t[0])/(Math.abs(r[0])-o[0])),leftPct:Math.round(100*Math.abs(t[1])/(Math.abs(r[1])-o[1])),direction:i.dir}}var c=e.data(r),l=c.opt,u={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:l.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},i=n.extend(u,i),h=[i.dur,i.drag?0:i.dur],d=n("#mCSB_"+c.idx),f=n("#mCSB_"+c.idx+"_container"),p=f.parent(),m=l.callbacks.onTotalScrollOffset?B.call(e,l.callbacks.onTotalScrollOffset):[0,0],g=l.callbacks.onTotalScrollBackOffset?B.call(e,l.callbacks.onTotalScrollBackOffset):[0,0];if(c.trigger=i.trigger,(0!==p.scrollTop()||0!==p.scrollLeft())&&(n(".mCSB_"+c.idx+"_scrollbar").css("visibility","visible"),p.scrollTop(0).scrollLeft(0)),"_resetY"!==t||c.contentReset.y||(o("onOverflowYNone")&&l.callbacks.onOverflowYNone.call(e[0]),c.contentReset.y=1),"_resetX"!==t||c.contentReset.x||(o("onOverflowXNone")&&l.callbacks.onOverflowXNone.call(e[0]),c.contentReset.x=1),"_resetY"!==t&&"_resetX"!==t){if(!c.contentReset.y&&e[0].mcs||!c.overflowed[0]||(o("onOverflowY")&&l.callbacks.onOverflowY.call(e[0]),c.contentReset.x=null),!c.contentReset.x&&e[0].mcs||!c.overflowed[1]||(o("onOverflowX")&&l.callbacks.onOverflowX.call(e[0]),c.contentReset.x=null),l.snapAmount){var v=l.snapAmount instanceof Array?"x"===i.dir?l.snapAmount[1]:l.snapAmount[0]:l.snapAmount;t=H(t,v,l.snapOffset)}switch(i.dir){case"x":var b=n("#mCSB_"+c.idx+"_dragger_horizontal"),y="left",w=f[0].offsetLeft,_=[d.width()-f.outerWidth(!1),b.parent().width()-b.width()],x=[t,0===t?0:t/c.scrollRatio.x],S=m[1],j=g[1],P=S>0?S/c.scrollRatio.x:0,E=j>0?j/c.scrollRatio.x:0;break;case"y":var b=n("#mCSB_"+c.idx+"_dragger_vertical"),y="top",w=f[0].offsetTop,_=[d.height()-f.outerHeight(!1),b.parent().height()-b.height()],x=[t,0===t?0:t/c.scrollRatio.y],S=m[0],j=g[0],P=S>0?S/c.scrollRatio.y:0,E=j>0?j/c.scrollRatio.y:0}x[1]<0||0===x[0]&&0===x[1]?x=[0,0]:x[1]>=_[1]?x=[_[0],_[1]]:x[0]=-x[0],e[0].mcs||(s(),o("onInit")&&l.callbacks.onInit.call(e[0])),clearTimeout(f[0].onCompleteTimeout),Y(b[0],y,Math.round(x[1]),h[1],i.scrollEasing),(c.tweenRunning||!(0===w&&x[0]>=0||w===_[0]&&x[0]<=_[0]))&&Y(f[0],y,Math.round(x[0]),h[0],i.scrollEasing,i.overwrite,{onStart:function(){i.callbacks&&i.onStart&&!c.tweenRunning&&(o("onScrollStart")&&(s(),l.callbacks.onScrollStart.call(e[0])),c.tweenRunning=!0,k(b),c.cbOffsets=a())},onUpdate:function(){i.callbacks&&i.onUpdate&&o("whileScrolling")&&(s(),l.callbacks.whileScrolling.call(e[0]))},onComplete:function(){if(i.callbacks&&i.onComplete){"yx"===l.axis&&clearTimeout(f[0].onCompleteTimeout);var t=f[0].idleTimer||0;f[0].onCompleteTimeout=setTimeout(function(){o("onScroll")&&(s(),l.callbacks.onScroll.call(e[0])),o("onTotalScroll")&&x[1]>=_[1]-P&&c.cbOffsets[0]&&(s(),l.callbacks.onTotalScroll.call(e[0])),o("onTotalScrollBack")&&x[1]<=E&&c.cbOffsets[1]&&(s(),l.callbacks.onTotalScrollBack.call(e[0])),c.tweenRunning=!1,f[0].idleTimer=0,k(b,"hide")},t)}}})}},Y=function(e,t,n,r,i,o,a){function s(){_.stop||(b||p.call(),b=K()-v,c(),b>=_.time&&(_.time=b>_.time?b+d-(b-_.time):b+d-1,_.time<b+1&&(_.time=b+1)),_.time<r?_.id=f(s):g.call())}function c(){r>0?(_.currVal=h(_.time,y,x,r,i),w[t]=Math.round(_.currVal)+"px"):w[t]=n+"px",m.call()}function l(){d=1e3/60,_.time=b+d,f=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return c(),setTimeout(e,.01)},_.id=f(s)}function u(){null!=_.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(_.id):clearTimeout(_.id),_.id=null)}function h(e,t,n,r,i){switch(i){case"linear":case"mcsLinear":return n*e/r+t;case"mcsLinearOut":return e/=r,e--,n*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=r/2,1>e?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=r/2,1>e?n/2*Math.pow(2,10*(e-1))+t:(e--,n/2*(-Math.pow(2,-10*e)+2)+t);case"easeInOut":case"mcsEaseInOut":return e/=r/2,1>e?n/2*e*e*e+t:(e-=2,n/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=r,e--,-n*(e*e*e*e-1)+t;case"easeOutStrong":return n*(-Math.pow(2,-10*e/r)+1)+t;case"easeOut":case"mcsEaseOut":default:var o=(e/=r)*e,a=o*e;return t+n*(.499999999999997*a*o+-2.5*o*o+5.5*a+-6.5*o+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var d,f,a=a||{},p=a.onStart||function(){},m=a.onUpdate||function(){},g=a.onComplete||function(){},v=K(),b=0,y=e.offsetTop,w=e.style,_=e._mTween[t];"left"===t&&(y=e.offsetLeft);var x=n-y;_.stop=0,"none"!==o&&u(),l()},K=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},X=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],n=0;n<t.length;n++){var r=t[n];e._mTween[r].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[r].id):clearTimeout(e._mTween[r].id),e._mTween[r].id=null,e._mTween[r].stop=1)}},Q=function(e,t){try{delete e[t]}catch(n){e[t]=null}},Z=function(e){return!(e.which&&1!==e.which)},J=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},ee=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},te=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},ne=function(){function e(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}var t=e();return!!t&&document[t]};n.fn[t]=function(e){return h[e]?h[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void n.error("Method "+e+" does not exist"):h.init.apply(this,arguments)},n[t]=function(e){return h[e]?h[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void n.error("Method "+e+" does not exist"):h.init.apply(this,arguments)},n[t].defaults=o,window[t]=!0,n(window).load(function(){n(i)[t](),n.extend(n.expr[":"],{mcsInView:n.expr[":"].mcsInView||function(e){var t,r,i=n(e),o=i.parents(".mCSB_container");if(o.length)return t=o.parent(),r=[o[0].offsetTop,o[0].offsetLeft],r[0]+te(i)[0]>=0&&r[0]+te(i)[0]<t.height()-i.outerHeight(!1)&&r[1]+te(i)[1]>=0&&r[1]+te(i)[1]<t.width()-i.outerWidth(!1)},mcsOverflow:n.expr[":"].mcsOverflow||function(e){var t=n(e).data(r);if(t)return t.overflowed[0]||t.overflowed[1]}})})})})},{"jquery-mousewheel":303}],"ng-simplePagination":[function(e,t,n){!function(){"use strict";var e=angular.module("simplePagination",[]);e.factory("Pagination",function(){var e={};return e.getNew=function(e){e=void 0===e?5:e;var t={numPages:1,perPage:e,page:0};return t.prevPage=function(){t.page>0&&(t.page-=1)},t.nextPage=function(){t.page<t.numPages-1&&(t.page+=1)},t.toPageId=function(e){e>=0&&e<=t.numPages-1&&(t.page=e)},t},e}),e.filter("startFrom",function(){return function(e,t){return void 0===e?e:e.slice(+t)}}),e.filter("range",function(){return function(e,t){t=parseInt(t);for(var n=0;n<t;n++)e.push(n);return e}})}()},{}],turnjs:[function(e,t,n){!function(e){"use strict";function t(e,t,n){if(n[0]&&"object"!=typeof n[0]){if(t[n[0]])return t[n[0]].apply(e,Array.prototype.slice.call(n,1));throw p(n[0]+" is not a method or property")}return t.init.apply(e,n)}function n(e,t,n,r){return{css:{position:"absolute",top:e,left:t,overflow:r||"hidden",zIndex:n||"auto"}}}function r(e,t,n,r,i){var a=1-i,s=a*a*a,c=i*i*i;return o(Math.round(s*e.x+3*i*a*a*t.x+3*i*i*a*n.x+c*r.x),Math.round(s*e.y+3*i*a*a*t.y+3*i*i*a*n.y+c*r.y))}function i(e){return e/_*180}function o(e,t){return{x:e,y:t}}function a(){var e;if(e=/AppleWebkit\/([0-9\.]+)/i.exec(navigator.userAgent)){var t=parseFloat(e[1]);return t>534.3}return!0}function s(e,t,n){return v&&n?" translate3d("+e+"px,"+t+"px, 0px) ":" translate("+e+"px, "+t+"px) "}function c(e){return" rotate("+e+"deg) "}function l(e,t){return Object.prototype.hasOwnProperty.call(t,e)}function u(){for(var e=["Moz","Webkit","Khtml","O","ms"],t=e.length,n="";t--;)e[t]+"Transform"in document.body.style&&(n="-"+e[t].toLowerCase()+"-");return n}function h(){var e,t=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MSTransition:"transitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}function d(e,t,n,r,i){var a,s=[];if("-webkit-"==y){for(a=0;a<i;a++)s.push("color-stop("+r[a][0]+", "+r[a][1]+")");e.css({"background-image":"-webkit-gradient(linear, "+t.x+"% "+t.y+"%,"+n.x+"% "+n.y+"%, "+s.join(",")+" )"})}else{t={x:t.x/100*e.width(),y:t.y/100*e.height()},n={x:n.x/100*e.width(),y:n.y/100*e.height()};var c=n.x-t.x,l=n.y-t.y,u=Math.atan2(l,c),h=u-Math.PI/2,d=Math.abs(e.width()*Math.sin(h))+Math.abs(e.height()*Math.cos(h)),f=Math.sqrt(l*l+c*c),p=o(n.x<t.x?e.width():0,n.y<t.y?e.height():0),m=Math.tan(u),g=-1/m,v=(g*p.x-p.y-m*t.x+t.y)/(g-m),b={x:v,y:g*v-g*p.x+p.y},w=Math.sqrt(Math.pow(b.x-t.x,2)+Math.pow(b.y-t.y,2));for(a=0;a<i;a++)s.push(" "+r[a][1]+" "+100*(w+f*r[a][0])/d+"%");e.css({"background-image":y+"linear-gradient("+-u+"rad,"+s.join(",")+")"})}}function f(t,n,r){var i=e.Event(t);return n.trigger(i,r),i.isDefaultPrevented()?"prevented":i.isPropagationStopped()?"stopped":""}function p(e){function t(e){this.name="TurnJsError",this.message=e}return t.prototype=new Error,t.prototype.constructor=t,new t(e)}function m(e){var t={top:0,left:0};do t.left+=e.offsetLeft,t.top+=e.offsetTop;while(e=e.offsetParent);return t}function g(){return navigator.userAgent.indexOf("MSIE 9.0")==-1}var v,b,y="",w="4.1.0",_=Math.PI,x=_/2,k="ontouchstart"in window,S=k?{down:"touchstart",move:"touchmove",up:"touchend",over:"touchstart",out:"touchend"}:{down:"mousedown",move:"mousemove",up:"mouseup",over:"mouseover",out:"mouseout"},j={backward:["bl","tl"],forward:["br","tr"],all:["tl","bl","tr","br","l","r"]},P=["single","double"],E=["ltr","rtl"],A={acceleration:!0,display:"double",duration:600,page:1,gradients:!0,turnCorners:"bl,br",when:null},T={cornerSize:100},C=6,M={init:function(t){v="WebKitCSSMatrix"in window||"MozPerspective"in document.body.style,b=a(),y=u();var n,r=0,i=this.data(),o=this.children();if(t=e.extend({width:this.width(),height:this.height(),direction:this.attr("dir")||this.css("direction")||"ltr"},A,t),i.opts=t,i.pageObjs={},i.pages={},i.pageWrap={},i.pageZoom={},i.pagePlace={},i.pageMv=[],i.zoom=1,i.totalPages=t.pages||0,i.eventHandlers={touchStart:e.proxy(M._touchStart,this),touchMove:e.proxy(M._touchMove,this),touchEnd:e.proxy(M._touchEnd,this),start:e.proxy(M._eventStart,this)},t.when)for(n in t.when)l(n,t.when)&&this.bind(n,t.when[n]);for(this.css({position:"relative",width:t.width,height:t.height}),this.turn("display",t.display),""!==t.direction&&this.turn("direction",t.direction),v&&!k&&t.acceleration&&this.transform(s(0,0,!0)),n=0;n<o.length;n++)"1"!=e(o[n]).attr("ignore")&&this.turn("addPage",o[n],++r);return e(this).bind(S.down,i.eventHandlers.touchStart).bind("end",M._eventEnd).bind("pressed",M._eventPressed).bind("released",M._eventReleased).bind("flip",M._flip),e(this).parent().bind("start",i.eventHandlers.start),e(document).bind(S.move,i.eventHandlers.touchMove).bind(S.up,i.eventHandlers.touchEnd),
this.turn("page",t.page),i.done=!0,this},addPage:function(t,n){var r,i,o=!1,a=this.data(),s=a.totalPages+1;if(a.destroying)return!1;if((r=/\bp([0-9]+)\b/.exec(e(t).attr("class")))&&(n=parseInt(r[1],10)),n){if(n==s)o=!0;else if(n>s)throw p('Page "'+n+'" cannot be inserted')}else n=s,o=!0;return n>=1&&n<=s&&(i="double"==a.display?n%2?" odd":" even":"",a.done&&this.turn("stop"),n in a.pageObjs&&M._movePages.call(this,n,1),o&&(a.totalPages=s),a.pageObjs[n]=e(t).css({"float":"left"}).addClass("page p"+n+i),!g()&&a.pageObjs[n].hasClass("hard")&&a.pageObjs[n].removeClass("hard"),M._addPage.call(this,n),M._removeFromDOM.call(this)),this},_addPage:function(t){var n=this.data(),r=n.pageObjs[t];if(r)if(M._necessPage.call(this,t)){if(!n.pageWrap[t]){n.pageWrap[t]=e("<div/>",{"class":"page-wrapper",page:t,css:{position:"absolute",overflow:"hidden"}}),this.append(n.pageWrap[t]),n.pagePlace[t]||(n.pagePlace[t]=t,n.pageObjs[t].appendTo(n.pageWrap[t]));var i=M._pageSize.call(this,t,!0);r.css({width:i.width,height:i.height}),n.pageWrap[t].css(i)}n.pagePlace[t]==t&&M._makeFlip.call(this,t)}else n.pagePlace[t]=0,n.pageObjs[t]&&n.pageObjs[t].remove()},hasPage:function(e){return l(e,this.data().pageObjs)},center:function(t){var n=this.data(),r=e(this).turn("size"),i=0;if(!n.noCenter){if("double"==n.display){var o=this.turn("view",t||n.tpage||n.page);"ltr"==n.direction?o[0]?o[1]||(i+=r.width/4):i-=r.width/4:o[0]?o[1]||(i-=r.width/4):i+=r.width/4}e(this).css({marginLeft:i})}return this},destroy:function(){var t=this,n=this.data(),r=["end","first","flip","last","pressed","released","start","turning","turned","zooming","missing"];if("prevented"!=f("destroying",this)){for(n.destroying=!0,e.each(r,function(e,n){t.unbind(n)}),this.parent().unbind("start",n.eventHandlers.start),e(document).unbind(S.move,n.eventHandlers.touchMove).unbind(S.up,n.eventHandlers.touchEnd);0!==n.totalPages;)this.turn("removePage",n.totalPages);return n.fparent&&n.fparent.remove(),n.shadow&&n.shadow.remove(),this.removeData(),n=null,this}},is:function(){return"object"==typeof this.data().pages},zoom:function(t){var n=this.data();if("number"==typeof t){if(t<.001||t>100)throw p(t+" is not a value for zoom");if("prevented"==f("zooming",this,[t,n.zoom]))return this;var r=this.turn("size"),i=this.turn("view"),o=1/n.zoom,a=Math.round(r.width*o*t),s=Math.round(r.height*o*t);n.zoom=t,e(this).turn("stop").turn("size",a,s),n.opts.autoCenter&&this.turn("center"),M._updateShadow.call(this);for(var c=0;c<i.length;c++)i[c]&&n.pageZoom[i[c]]!=n.zoom&&(this.trigger("zoomed",[i[c],i,n.pageZoom[i[c]],n.zoom]),n.pageZoom[i[c]]=n.zoom);return this}return n.zoom},_pageSize:function(e,t){var n=this.data(),r={};if("single"==n.display)r.width=this.width(),r.height=this.height(),t&&(r.top=0,r.left=0,r.right="auto");else{var i=this.width()/2,o=this.height();if(n.pageObjs[e].hasClass("own-size")?(r.width=n.pageObjs[e].width(),r.height=n.pageObjs[e].height()):(r.width=i,r.height=o),t){var a=e%2;r.top=(o-r.height)/2,"ltr"==n.direction?(r[a?"right":"left"]=i-r.width,r[a?"left":"right"]="auto"):(r[a?"left":"right"]=i-r.width,r[a?"right":"left"]="auto")}}return r},_makeFlip:function(e){var t=this.data();if(!t.pages[e]&&t.pagePlace[e]==e){var n="single"==t.display,r=e%2;t.pages[e]=t.pageObjs[e].css(M._pageSize.call(this,e)).flip({page:e,next:r||n?e+1:e-1,turn:this}).flip("disable",t.disabled),M._setPageLoc.call(this,e),t.pageZoom[e]=t.zoom}return t.pages[e]},_makeRange:function(){var e,t,n=this.data();if(!(n.totalPages<1))for(t=this.turn("range"),e=t[0];e<=t[1];e++)M._addPage.call(this,e)},range:function(e){var t,n,r,i,o=this.data();if(e=e||o.tpage||o.page||1,i=M._view.call(this,e),e<1||e>o.totalPages)throw p('"'+e+'" is not a valid page');return i[1]=i[1]||i[0],i[0]>=1&&i[1]<=o.totalPages?(t=Math.floor((C-2)/2),o.totalPages-i[1]>i[0]?(n=Math.min(i[0]-1,t),r=2*t-n):(r=Math.min(o.totalPages-i[1],t),n=2*t-r)):(n=C-1,r=C-1),[Math.max(1,i[0]-n),Math.min(o.totalPages,i[1]+r)]},_necessPage:function(e){if(0===e)return!0;var t=this.turn("range");return this.data().pageObjs[e].hasClass("fixed")||e>=t[0]&&e<=t[1]},_removeFromDOM:function(){var e,t=this.data();for(e in t.pageWrap)l(e,t.pageWrap)&&!M._necessPage.call(this,e)&&M._removePageFromDOM.call(this,e)},_removePageFromDOM:function(e){var t=this.data();if(t.pages[e]){var n=t.pages[e].data();O._moveFoldingPage.call(t.pages[e],!1),n.f&&n.f.fwrapper&&n.f.fwrapper.remove(),t.pages[e].removeData(),t.pages[e].remove(),delete t.pages[e]}t.pageObjs[e]&&t.pageObjs[e].remove(),t.pageWrap[e]&&(t.pageWrap[e].remove(),delete t.pageWrap[e]),M._removeMv.call(this,e),delete t.pagePlace[e],delete t.pageZoom[e]},removePage:function(e){var t=this.data();if("*"==e)for(;0!==t.totalPages;)this.turn("removePage",t.totalPages);else{if(e<1||e>t.totalPages)throw p("The page "+e+" doesn't exist");t.pageObjs[e]&&(this.turn("stop"),M._removePageFromDOM.call(this,e),delete t.pageObjs[e]),M._movePages.call(this,e,-1),t.totalPages=t.totalPages-1,t.page>t.totalPages?(t.page=null,M._fitPage.call(this,t.totalPages)):(M._makeRange.call(this),this.turn("update"))}return this},_movePages:function(e,t){var n,r=this,i=this.data(),o="single"==i.display,a=function(e){var n=e+t,a=n%2,s=a?" odd ":" even ";i.pageObjs[e]&&(i.pageObjs[n]=i.pageObjs[e].removeClass("p"+e+" odd even").addClass("p"+n+s)),i.pagePlace[e]&&i.pageWrap[e]&&(i.pagePlace[n]=n,i.pageObjs[n].hasClass("fixed")?i.pageWrap[n]=i.pageWrap[e].attr("page",n):i.pageWrap[n]=i.pageWrap[e].css(M._pageSize.call(r,n,!0)).attr("page",n),i.pages[e]&&(i.pages[n]=i.pages[e].flip("options",{page:n,next:o||a?n+1:n-1})),t&&(delete i.pages[e],delete i.pagePlace[e],delete i.pageZoom[e],delete i.pageObjs[e],delete i.pageWrap[e]))};if(t>0)for(n=i.totalPages;n>=e;n--)a(n);else for(n=e;n<=i.totalPages;n++)a(n)},display:function(t){var n=this.data(),r=n.display;if(void 0===t)return r;if(e.inArray(t,P)==-1)throw p('"'+t+'" is not a value for display');switch(t){case"single":n.pageObjs[0]||(this.turn("stop").css({overflow:"hidden"}),n.pageObjs[0]=e("<div />",{"class":"page p-temporal"}).css({width:this.width(),height:this.height()}).appendTo(this)),this.addClass("shadow");break;case"double":n.pageObjs[0]&&(this.turn("stop").css({overflow:""}),n.pageObjs[0].remove(),delete n.pageObjs[0]),this.removeClass("shadow")}if(n.display=t,r){var i=this.turn("size");M._movePages.call(this,1,0),this.turn("size",i.width,i.height).turn("update")}return this},direction:function(t){var n=this.data();if(void 0===t)return n.direction;if(t=t.toLowerCase(),e.inArray(t,E)==-1)throw p('"'+t+'" is not a value for direction');return"rtl"==t&&e(this).attr("dir","ltr").css({direction:"ltr"}),n.direction=t,n.done&&this.turn("size",e(this).width(),e(this).height()),this},animating:function(){return this.data().pageMv.length>0},corner:function(){var e,t,n=this.data();for(t in n.pages)if(l(t,n.pages)&&(e=n.pages[t].flip("corner")))return e;return!1},data:function(){return this.data()},disable:function(t){var n,r=this.data(),i=this.turn("view");r.disabled=void 0===t||t===!0;for(n in r.pages)l(n,r.pages)&&r.pages[n].flip("disable",!!r.disabled||e.inArray(parseInt(n,10),i)==-1);return this},disabled:function(e){return void 0===e?this.data().disabled===!0:this.turn("disable",e)},size:function(e,t){if(void 0===e||void 0===t)return{width:this.width(),height:this.height()};this.turn("stop");var n,r,i=this.data(),o="double"==i.display?e/2:e;this.css({width:e,height:t}),i.pageObjs[0]&&i.pageObjs[0].css({width:o,height:t});for(n in i.pageWrap)l(n,i.pageWrap)&&(r=M._pageSize.call(this,n,!0),i.pageObjs[n].css({width:r.width,height:r.height}),i.pageWrap[n].css(r),i.pages[n]&&i.pages[n].css({width:r.width,height:r.height}));return this.turn("resize"),this},resize:function(){var e,t=this.data();for(t.pages[0]&&(t.pageWrap[0].css({left:-this.width()}),t.pages[0].flip("resize",!0)),e=1;e<=t.totalPages;e++)t.pages[e]&&t.pages[e].flip("resize",!0);M._updateShadow.call(this),t.opts.autoCenter&&this.turn("center")},_removeMv:function(e){var t,n=this.data();for(t=0;t<n.pageMv.length;t++)if(n.pageMv[t]==e)return n.pageMv.splice(t,1),!0;return!1},_addMv:function(e){var t=this.data();M._removeMv.call(this,e),t.pageMv.push(e)},_view:function(e){var t=this.data();return e=e||t.page,"double"==t.display?e%2?[e-1,e]:[e,e+1]:[e]},view:function(e){var t=this.data(),n=M._view.call(this,e);return"double"==t.display?[n[0]>0?n[0]:0,n[1]<=t.totalPages?n[1]:0]:[n[0]>0&&n[0]<=t.totalPages?n[0]:0]},stop:function(e,t){if(this.turn("animating")){var n,r,i,o=this.data();for(o.tpage&&(o.page=o.tpage,delete o.tpage),n=0;n<o.pageMv.length;n++)o.pageMv[n]&&o.pageMv[n]!==e&&(i=o.pages[o.pageMv[n]],r=i.data().f.opts,i.flip("hideFoldedPage",t),t||O._moveFoldingPage.call(i,!1),r.force&&(r.next=r.page%2===0?r.page-1:r.page+1,delete r.force))}return this.turn("update"),this},pages:function(e){var t=this.data();if(e){if(e<t.totalPages)for(var n=t.totalPages;n>e;n--)this.turn("removePage",n);return t.totalPages=e,M._fitPage.call(this,t.page),this}return t.totalPages},_missing:function(e){var t=this.data();if(!(t.totalPages<1)){var n,r=this.turn("range",e),i=[];for(n=r[0];n<=r[1];n++)t.pageObjs[n]||i.push(n);i.length>0&&this.trigger("missing",[i])}},_fitPage:function(e){var t=this.data(),n=this.turn("view",e);if(M._missing.call(this,e),t.pageObjs[e]){t.page=e,this.turn("stop");for(var r=0;r<n.length;r++)n[r]&&t.pageZoom[n[r]]!=t.zoom&&(this.trigger("zoomed",[n[r],n,t.pageZoom[n[r]],t.zoom]),t.pageZoom[n[r]]=t.zoom);M._removeFromDOM.call(this),M._makeRange.call(this),M._updateShadow.call(this),this.trigger("turned",[e,n]),this.turn("update"),t.opts.autoCenter&&this.turn("center")}},_turnPage:function(t){var n,r,i=this.data(),o=i.pagePlace[t],a=this.turn("view"),s=this.turn("view",t);if(i.page!=t){var c=i.page;if("prevented"==f("turning",this,[t,s]))return void(c==i.page&&e.inArray(o,i.pageMv)!=-1&&i.pages[o].flip("hideFoldedPage",!0));e.inArray(1,s)!=-1&&this.trigger("first"),e.inArray(i.totalPages,s)!=-1&&this.trigger("last")}"single"==i.display?(n=a[0],r=s[0]):a[1]&&t>a[1]?(n=a[1],r=s[0]):a[0]&&t<a[0]&&(n=a[0],r=s[1]);var l=i.opts.turnCorners.split(","),u=i.pages[n].data().f,h=u.opts,d=u.point;M._missing.call(this,t),i.pageObjs[t]&&(this.turn("stop"),i.page=t,M._makeRange.call(this),i.tpage=r,h.next!=r&&(h.next=r,h.force=!0),this.turn("update"),u.point=d,"hard"==u.effect?"ltr"==i.direction?i.pages[n].flip("turnPage",t>n?"r":"l"):i.pages[n].flip("turnPage",t>n?"l":"r"):"ltr"==i.direction?i.pages[n].flip("turnPage",l[t>n?1:0]):i.pages[n].flip("turnPage",l[t>n?0:1]))},page:function(t){var n=this.data();if(void 0===t)return n.page;if(!n.disabled&&!n.destroying){if(t=parseInt(t,10),t>0&&t<=n.totalPages)return t!=n.page&&(n.done&&e.inArray(t,this.turn("view"))==-1?M._turnPage.call(this,t):M._fitPage.call(this,t)),this;throw p("The page "+t+" does not exist")}},next:function(){return this.turn("page",Math.min(this.data().totalPages,M._view.call(this,this.data().page).pop()+1))},previous:function(){return this.turn("page",Math.max(1,M._view.call(this,this.data().page).shift()-1))},peel:function(e,t){var n=this.data(),r=this.turn("view");if(t=void 0===t||t===!0,e===!1)this.turn("stop",null,t);else if("single"==n.display)n.pages[n.page].flip("peel",e,t);else{var i;i="ltr"==n.direction?e.indexOf("l")!=-1?r[0]:r[1]:e.indexOf("l")!=-1?r[1]:r[0],n.pages[i]&&n.pages[i].flip("peel",e,t)}return this},_addMotionPage:function(){var t=e(this).data().f.opts,n=t.turn;n.data();M._addMv.call(n,t.page)},_eventStart:function(e,t,n){var r=t.turn.data(),i=r.pageZoom[t.page];return e.isDefaultPrevented()?void M._updateShadow.call(t.turn):(i&&i!=r.zoom&&(t.turn.trigger("zoomed",[t.page,t.turn.turn("view",t.page),i,r.zoom]),r.pageZoom[t.page]=r.zoom),"single"==r.display&&n&&("l"==n.charAt(1)&&"ltr"==r.direction||"r"==n.charAt(1)&&"rtl"==r.direction?(t.next=t.next<t.page?t.next:t.page-1,t.force=!0):t.next=t.next>t.page?t.next:t.page+1),M._addMotionPage.call(e.target),void M._updateShadow.call(t.turn))},_eventEnd:function(t,n,r){var i=e(t.target),o=(i.data().f,n.turn),a=o.data();if(r){var s=a.tpage||a.page;s!=n.next&&s!=n.page||(delete a.tpage,M._fitPage.call(o,s||n.next,!0))}else M._removeMv.call(o,n.page),M._updateShadow.call(o),o.turn("update")},_eventPressed:function(t){var n=e(t.target).data().f,r=n.opts.turn,i=r.data();i.pages;return i.mouseAction=!0,r.turn("update"),n.time=(new Date).getTime()},_eventReleased:function(t,n){var r,i=e(t.target),o=i.data().f,a=o.opts.turn,s=a.data();r="single"==s.display?"br"==n.corner||"tr"==n.corner?n.x<i.width()/2:n.x>i.width()/2:n.x<0||n.x>i.width(),((new Date).getTime()-o.time<200||r)&&(t.preventDefault(),M._turnPage.call(a,o.opts.next)),s.mouseAction=!1},_flip:function(t){t.stopPropagation();var n=e(t.target).data().f.opts;n.turn.trigger("turn",[n.next]),n.turn.data().opts.autoCenter&&n.turn.turn("center",n.next)},_touchStart:function(){var e=this.data();for(var t in e.pages)if(l(t,e.pages)&&O._eventStart.apply(e.pages[t],arguments)===!1)return!1},_touchMove:function(){var e=this.data();for(var t in e.pages)l(t,e.pages)&&O._eventMove.apply(e.pages[t],arguments)},_touchEnd:function(){var e=this.data();for(var t in e.pages)l(t,e.pages)&&O._eventEnd.apply(e.pages[t],arguments)},calculateZ:function(e){var t,n,r,i,o,a=this,s=this.data(),c=this.turn("view"),l=c[0]||c[1],u=e.length-1,h={pageZ:{},partZ:{},pageV:{}},d=function(e){var t=a.turn("view",e);t[0]&&(h.pageV[t[0]]=!0),t[1]&&(h.pageV[t[1]]=!0)};for(t=0;t<=u;t++)n=e[t],r=s.pages[n].data().f.opts.next,i=s.pagePlace[n],d(n),d(r),o=s.pagePlace[r]==r?r:n,h.pageZ[o]=s.totalPages-Math.abs(l-o),h.partZ[i]=2*s.totalPages-u+t;return h},update:function(){var t,n=this.data();if(this.turn("animating")&&0!==n.pageMv[0]){var r,i,o=this.turn("calculateZ",n.pageMv),a=this.turn("corner"),s=this.turn("view"),c=this.turn("view",n.tpage);for(t in n.pageWrap)l(t,n.pageWrap)&&(i=n.pageObjs[t].hasClass("fixed"),n.pageWrap[t].css({display:o.pageV[t]||i?"":"none",zIndex:(n.pageObjs[t].hasClass("hard")?o.partZ[t]:o.pageZ[t])||(i?-1:0)}),(r=n.pages[t])&&(r.flip("z",o.partZ[t]||null),o.pageV[t]&&r.flip("resize"),n.tpage?r.flip("hover",!1).flip("disable",e.inArray(parseInt(t,10),n.pageMv)==-1&&t!=c[0]&&t!=c[1]):r.flip("hover",a===!1).flip("disable",t!=s[0]&&t!=s[1])))}else for(t in n.pageWrap)if(l(t,n.pageWrap)){var u=M._setPageLoc.call(this,t);n.pages[t]&&n.pages[t].flip("disable",n.disabled||1!=u).flip("hover",!0).flip("z",null)}return this},_updateShadow:function(){var t,r,i,o=this.data(),a=this.width(),s=this.height(),c="single"==o.display?a:a/2;t=this.turn("view"),o.shadow||(o.shadow=e("<div />",{"class":"shadow",css:n(0,0,0).css}).appendTo(this));for(var l=0;l<o.pageMv.length&&(t[0]&&t[1]);l++)t=this.turn("view",o.pages[o.pageMv[l]].data().f.opts.next),r=this.turn("view",o.pageMv[l]),t[0]=t[0]&&r[0],t[1]=t[1]&&r[1];switch(i=t[0]?t[1]?3:"ltr"==o.direction?2:1:"ltr"==o.direction?1:2){case 1:o.shadow.css({width:c,height:s,top:0,left:c});break;case 2:o.shadow.css({width:c,height:s,top:0,left:0});break;case 3:o.shadow.css({width:a,height:s,top:0,left:0})}},_setPageLoc:function(e){var t=this.data(),n=this.turn("view"),r=0;if(e==n[0]||e==n[1]?r=1:("single"==t.display&&e==n[0]+1||"double"==t.display&&e==n[0]-2||e==n[1]+2)&&(r=2),!this.turn("animating"))switch(r){case 1:t.pageWrap[e].css({zIndex:t.totalPages,display:""});break;case 2:t.pageWrap[e].css({zIndex:t.totalPages-1,display:""});break;case 0:t.pageWrap[e].css({zIndex:0,display:t.pageObjs[e].hasClass("fixed")?"":"none"})}return r},options:function(t){if(void 0===t)return this.data().opts;var n=this.data();if(e.extend(n.opts,t),t.pages&&this.turn("pages",t.pages),t.page&&this.turn("page",t.page),t.display&&this.turn("display",t.display),t.direction&&this.turn("direction",t.direction),t.width&&t.height&&this.turn("size",t.width,t.height),t.when)for(var r in t.when)l(r,t.when)&&this.unbind(r).bind(r,t.when[r]);return this},version:function(){return w}},O={init:function(e){return this.data({f:{disabled:!1,hover:!1,effect:this.hasClass("hard")?"hard":"sheet"}}),this.flip("options",e),O._addPageWrapper.call(this),this},setData:function(t){var n=this.data();return n.f=e.extend(n.f,t),this},options:function(t){var n=this.data().f;return t?(O.setData.call(this,{opts:e.extend({},n.opts||T,t)}),this):n.opts},z:function(e){var t=this.data().f;return t.opts["z-index"]=e,t.fwrapper&&t.fwrapper.css({zIndex:e||parseInt(t.parent.css("z-index"),10)||0}),this},_cAllowed:function(){var e=this.data().f,t=e.opts.page,n=e.opts.turn.data(),r=t%2;return"hard"==e.effect?"ltr"==n.direction?[r?"r":"l"]:[r?"l":"r"]:"single"==n.display?1==t?"ltr"==n.direction?j.forward:j.backward:t==n.totalPages?"ltr"==n.direction?j.backward:j.forward:j.all:"ltr"==n.direction?j[r?"forward":"backward"]:j[r?"backward":"forward"]},_cornerActivated:function(t){var n=this.data().f,r=this.width(),i=this.height(),o={x:t.x,y:t.y,corner:""},a=n.opts.cornerSize;if(o.x<=0||o.y<=0||o.x>=r||o.y>=i)return!1;var s=O._cAllowed.call(this);switch(n.effect){case"hard":if(o.x>r-a)o.corner="r";else{if(!(o.x<a))return!1;o.corner="l"}break;case"sheet":if(o.y<a)o.corner+="t";else{if(!(o.y>=i-a))return!1;o.corner+="b"}if(o.x<=a)o.corner+="l";else{if(!(o.x>=r-a))return!1;o.corner+="r"}}return!(!o.corner||e.inArray(o.corner,s)==-1)&&o},_isIArea:function(e){var t=this.data().f.parent.offset();return e=k&&e.originalEvent?e.originalEvent.touches[0]:e,O._cornerActivated.call(this,{x:e.pageX-t.left,y:e.pageY-t.top})},_c:function(e,t){switch(t=t||0,e){case"tl":return o(t,t);case"tr":return o(this.width()-t,t);case"bl":return o(t,this.height()-t);case"br":return o(this.width()-t,this.height()-t);case"l":return o(t,0);case"r":return o(this.width()-t,0)}},_c2:function(e){switch(e){case"tl":return o(2*this.width(),0);case"tr":return o(-this.width(),0);case"bl":return o(2*this.width(),this.height());case"br":return o(-this.width(),this.height());case"l":return o(2*this.width(),0);case"r":return o(-this.width(),0)}},_foldingPage:function(){var e=this.data().f;if(e){var t=e.opts;return t.turn?(e=t.turn.data(),"single"==e.display?t.next>1||t.page>1?e.pageObjs[0]:null:e.pageObjs[t.next]):void 0}},_backGradient:function(){var t=this.data().f,r=t.opts.turn.data(),i=r.opts.gradients&&("single"==r.display||2!=t.opts.page&&t.opts.page!=r.totalPages-1);return i&&!t.bshadow&&(t.bshadow=e("<div/>",n(0,0,1)).css({position:"",width:this.width(),height:this.height()}).appendTo(t.parent)),i},type:function(){return this.data().f.effect},resize:function(e){var t=this.data().f,n=t.opts.turn.data(),r=this.width(),i=this.height();switch(t.effect){case"hard":e&&(t.wrapper.css({width:r,height:i}),t.fpage.css({width:r,height:i}),n.opts.gradients&&(t.ashadow.css({width:r,height:i}),t.bshadow.css({width:r,height:i})));break;case"sheet":if(e){var o=Math.round(Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));t.wrapper.css({width:o,height:o}),t.fwrapper.css({width:o,height:o}).children(":first-child").css({width:r,height:i}),t.fpage.css({width:r,height:i}),n.opts.gradients&&t.ashadow.css({width:r,height:i}),O._backGradient.call(this)&&t.bshadow.css({width:r,height:i})}if(t.parent.is(":visible")){var a=m(t.parent[0]);t.fwrapper.css({top:a.top,left:a.left}),a=m(t.opts.turn[0]),t.fparent.css({top:-a.top,left:-a.left})}this.flip("z",t.opts["z-index"])}},_addPageWrapper:function(){var t=this.data().f,r=t.opts.turn.data(),i=this.parent();if(t.parent=i,!t.wrapper)switch(t.effect){case"hard":var o={};o[y+"transform-style"]="preserve-3d",o[y+"backface-visibility"]="hidden",t.wrapper=e("<div/>",n(0,0,2)).css(o).appendTo(i).prepend(this),t.fpage=e("<div/>",n(0,0,1)).css(o).appendTo(i),r.opts.gradients&&(t.ashadow=e("<div/>",n(0,0,0)).hide().appendTo(i),t.bshadow=e("<div/>",n(0,0,0)));break;case"sheet":var a=this.width(),s=this.height();Math.round(Math.sqrt(Math.pow(a,2)+Math.pow(s,2)));if(t.fparent=t.opts.turn.data().fparent,!t.fparent){var c=e("<div/>",{css:{"pointer-events":"none"}}).hide();c.data().flips=0,c.css(n(0,0,"auto","visible").css).appendTo(t.opts.turn),t.opts.turn.data().fparent=c,t.fparent=c}this.css({position:"absolute",top:0,left:0,bottom:"auto",right:"auto"}),t.wrapper=e("<div/>",n(0,0,this.css("z-index"))).appendTo(i).prepend(this),t.fwrapper=e("<div/>",n(i.offset().top,i.offset().left)).hide().appendTo(t.fparent),t.fpage=e("<div/>",n(0,0,0,"visible")).css({cursor:"default"}).appendTo(t.fwrapper),r.opts.gradients&&(t.ashadow=e("<div/>",n(0,0,1)).appendTo(t.fpage)),O.setData.call(this,t)}O.resize.call(this,!0)},_fold:function(e){var t=this.data().f,n=t.opts.turn.data(),r=O._c.call(this,e.corner),a=this.width(),l=this.height();switch(t.effect){case"hard":"l"==e.corner?e.x=Math.min(Math.max(e.x,0),2*a):e.x=Math.max(Math.min(e.x,a),-a);var u,h,f,p,m,g=n.totalPages,v=t.opts["z-index"]||g,w={overflow:"visible"},k=r.x?(r.x-e.x)/a:e.x/a,S=90*k,j=S<90;switch(e.corner){case"l":p="0% 50%",m="100% 50%",j?(u=0,h=t.opts.next-1>0,f=1):(u="100%",h=t.opts.page+1<g,f=0);break;case"r":p="100% 50%",m="0% 50%",S=-S,a=-a,j?(u=0,h=t.opts.next+1<g,f=0):(u="-100%",h=1!=t.opts.page,f=1)}w[y+"perspective-origin"]=m,t.wrapper.transform("rotateY("+S+"deg)translate3d(0px, 0px, "+(this.attr("depth")||0)+"px)",m),t.fpage.transform("translateX("+a+"px) rotateY("+(180+S)+"deg)",p),t.parent.css(w),j?(k=-k+1,t.wrapper.css({zIndex:v+1}),t.fpage.css({zIndex:v})):(k-=1,t.wrapper.css({zIndex:v}),t.fpage.css({zIndex:v+1})),n.opts.gradients&&(h?t.ashadow.css({display:"",left:u,backgroundColor:"rgba(0,0,0,"+.5*k+")"}).transform("rotateY(0deg)"):t.ashadow.hide(),t.bshadow.css({opacity:-k+1}),j?t.bshadow.parent()[0]!=t.wrapper[0]&&t.bshadow.appendTo(t.wrapper):t.bshadow.parent()[0]!=t.fpage[0]&&t.bshadow.appendTo(t.fpage),d(t.bshadow,o(100*f,0),o(100*(-f+1),0),[[0,"rgba(0,0,0,0.3)"],[1,"rgba(0,0,0,0)"]],2));break;case"sheet":var P,E,A,T,C,M,I,F=this,D=0,L=0,R=o(0,0),N=o(0,0),U=o(0,0),$=O._foldingPage.call(this),z=(Math.tan(L),n.opts.acceleration),B=t.wrapper.height(),q="t"==e.corner.substr(0,1),V="l"==e.corner.substr(1,1),H=function(){var t=o(0,0),s=o(0,0);t.x=r.x?r.x-e.x:e.x,b?t.y=r.y?r.y-e.y:e.y:t.y=0,s.x=V?a-t.x/2:e.x+t.x/2,s.y=t.y/2;var c=x-Math.atan2(t.y,t.x),u=c-Math.atan2(s.y,s.x),h=Math.max(0,Math.sin(u)*Math.sqrt(Math.pow(s.x,2)+Math.pow(s.y,2)));if(D=i(c),U=o(h*Math.sin(c),h*Math.cos(c)),c>x&&(U.x=U.x+Math.abs(U.y*t.y/t.x),U.y=0,Math.round(U.x*Math.tan(_-c))<l))return e.y=Math.sqrt(Math.pow(l,2)+2*s.x*t.x),q&&(e.y=l-e.y),H();if(c>x){var d=_-c,f=B-l/Math.sin(d);R=o(Math.round(f*Math.cos(d)),Math.round(f*Math.sin(d))),V&&(R.x=-R.x),q&&(R.y=-R.y)}P=Math.round(U.y/Math.tan(c)+U.x);var p=a-P,m=p*Math.cos(2*c),g=p*Math.sin(2*c);if(N=o(Math.round(V?p-m:P+m),Math.round(q?g:l-g)),n.opts.gradients){C=p*Math.sin(c);var v=O._c2.call(F,e.corner),y=Math.sqrt(Math.pow(v.x-e.x,2)+Math.pow(v.y-e.y,2))/a;I=Math.sin(x*(y>1?2-y:y)),M=Math.min(y,1),T=C>100?(C-100)/C:0,E=o(C*Math.sin(c)/a*100,C*Math.cos(c)/l*100),O._backGradient.call(F)&&(A=o(1.2*C*Math.sin(c)/a*100,1.2*C*Math.cos(c)/l*100),V||(A.x=100-A.x),q||(A.y=100-A.y))}return U.x=Math.round(U.x),U.y=Math.round(U.y),!0},W=function(e,r,i,u){var h=["0","auto"],f=(a-B)*i[0]/100,p=(l-B)*i[1]/100,m={left:h[r[0]],top:h[r[1]],right:h[r[2]],bottom:h[r[3]]},g={},v=90!=u&&u!=-90?V?-1:1:0,b=i[0]+"% "+i[1]+"%";F.css(m).transform(c(u)+s(e.x+v,e.y,z),b),t.fpage.css(m).transform(c(u)+s(e.x+N.x-R.x-a*i[0]/100,e.y+N.y-R.y-l*i[1]/100,z)+c((180/u-2)*u),b),t.wrapper.transform(s(-e.x+f-v,-e.y+p,z)+c(-u),b),t.fwrapper.transform(s(-e.x+R.x+f,-e.y+R.y+p,z)+c(-u),b),n.opts.gradients&&(i[0]&&(E.x=100-E.x),i[1]&&(E.y=100-E.y),g["box-shadow"]="0 0 20px rgba(0,0,0,"+.5*I+")",$.css(g),d(t.ashadow,o(V?100:0,q?0:100),o(E.x,E.y),[[T,"rgba(0,0,0,0)"],[.8*(1-T)+T,"rgba(0,0,0,"+.2*M+")"],[1,"rgba(255,255,255,"+.2*M+")"]],3,L),O._backGradient.call(F)&&d(t.bshadow,o(V?0:100,q?0:100),o(A.x,A.y),[[.6,"rgba(0,0,0,0)"],[.8,"rgba(0,0,0,"+.3*M+")"],[1,"rgba(0,0,0,0)"]],3))};switch(e.corner){case"l":break;case"r":break;case"tl":e.x=Math.max(e.x,1),H(),W(U,[1,0,0,1],[100,0],D);break;case"tr":e.x=Math.min(e.x,a-1),H(),W(o(-U.x,U.y),[0,0,0,1],[0,0],-D);break;case"bl":e.x=Math.max(e.x,1),H(),W(o(U.x,-U.y),[1,1,0,0],[100,100],-D);break;case"br":e.x=Math.min(e.x,a-1),H(),W(o(-U.x,-U.y),[0,1,1,0],[0,100],D)}}t.point=e},_moveFoldingPage:function(e){var t=this.data().f;if(t){var n=t.opts.turn,r=n.data(),i=r.pagePlace;if(e){var o=t.opts.next;if(i[o]!=t.opts.page){t.folding&&O._moveFoldingPage.call(this,!1);var a=O._foldingPage.call(this);a.appendTo(t.fpage),i[o]=t.opts.page,t.folding=o}n.turn("update")}else if(t.folding){if(r.pages[t.folding]){var s=r.pages[t.folding].data().f;r.pageObjs[t.folding].appendTo(s.wrapper)}else r.pageWrap[t.folding]&&r.pageObjs[t.folding].appendTo(r.pageWrap[t.folding]);t.folding in i&&(i[t.folding]=t.folding),delete t.folding}}},_showFoldedPage:function(e,t){var n=O._foldingPage.call(this),r=this.data(),i=r.f,o=i.visible;if(n){if(!o||!i.point||i.point.corner!=e.corner){var a="hover"==i.status||"peel"==i.status||i.opts.turn.data().mouseAction?e.corner:null;if(o=!1,"prevented"==f("start",this,[i.opts,a]))return!1}if(t){var s=this,c=i.point&&i.point.corner==e.corner?i.point:O._c.call(this,e.corner,1);this.animatef({from:[c.x,c.y],to:[e.x,e.y],duration:500,frame:function(t){e.x=Math.round(t[0]),e.y=Math.round(t[1]),O._fold.call(s,e)}})}else O._fold.call(this,e),r.effect&&!r.effect.turning&&this.animatef(!1);if(!o)switch(i.effect){case"hard":i.visible=!0,O._moveFoldingPage.call(this,!0),i.fpage.show(),i.opts.shadows&&i.bshadow.show();break;case"sheet":i.visible=!0,i.fparent.show().data().flips++,O._moveFoldingPage.call(this,!0),i.fwrapper.show(),i.bshadow&&i.bshadow.show()}return!0}return!1},hide:function(){var e=this.data().f,t=e.opts.turn.data(),n=O._foldingPage.call(this);switch(e.effect){case"hard":t.opts.gradients&&(e.bshadowLoc=0,e.bshadow.remove(),e.ashadow.hide()),e.wrapper.transform(""),e.fpage.hide();break;case"sheet":0===--e.fparent.data().flips&&e.fparent.hide(),this.css({left:0,top:0,right:"auto",bottom:"auto"}).transform(""),e.wrapper.transform(""),e.fwrapper.hide(),e.bshadow&&e.bshadow.hide(),n.transform("")}return e.visible=!1,this},hideFoldedPage:function(e){var t=this.data().f;if(t.point){var n=this,i=t.point,a=function(){t.point=null,t.status="",n.flip("hide"),n.trigger("end",[t.opts,!1])};if(e){var s=O._c.call(this,i.corner),c="t"==i.corner.substr(0,1),l=c?Math.min(0,i.y-s.y)/2:Math.max(0,i.y-s.y)/2,u=o(i.x,i.y+l),h=o(s.x,s.y-l);this.animatef({from:0,to:1,frame:function(e){var t=r(i,u,h,s,e);i.x=t.x,i.y=t.y,O._fold.call(n,i)},complete:a,duration:800,hiding:!0})}else this.animatef(!1),a()}},turnPage:function(e){var t=this,n=this.data().f,i=n.opts.turn.data();e={corner:n.corner?n.corner.corner:e||O._cAllowed.call(this)[0]};var o=n.point||O._c.call(this,e.corner,n.opts.turn?i.opts.elevation:0),a=O._c2.call(this,e.corner);this.trigger("flip").animatef({from:0,to:1,frame:function(n){var i=r(o,o,a,a,n);e.x=i.x,e.y=i.y,O._showFoldedPage.call(t,e)},complete:function(){t.trigger("end",[n.opts,!0])},duration:i.opts.duration,turning:!0}),n.corner=null},moving:function(){return"effect"in this.data()},isTurning:function(){return this.flip("moving")&&this.data().effect.turning},corner:function(){return this.data().f.corner},_eventStart:function(e){var t=this.data().f,n=t.opts.turn;if(!t.corner&&!t.disabled&&!this.flip("isTurning")&&t.opts.page==n.data().pagePlace[t.opts.page]){if(t.corner=O._isIArea.call(this,e),t.corner&&O._foldingPage.call(this))return this.trigger("pressed",[t.point]),O._showFoldedPage.call(this,t.corner),!1;t.corner=null}},_eventMove:function(e){var t=this.data().f;if(!t.disabled)if(e=k?e.originalEvent.touches:[e],t.corner){var n=t.parent.offset();t.corner.x=e[0].pageX-n.left,t.corner.y=e[0].pageY-n.top,O._showFoldedPage.call(this,t.corner)}else if(t.hover&&!this.data().effect&&this.is(":visible")){var r=O._isIArea.call(this,e[0]);if(r){if("sheet"==t.effect&&2==r.corner.length||"hard"==t.effect){t.status="hover";var i=O._c.call(this,r.corner,t.opts.cornerSize/2);r.x=i.x,r.y=i.y,O._showFoldedPage.call(this,r,!0)}}else"hover"==t.status&&(t.status="",O.hideFoldedPage.call(this,!0))}},_eventEnd:function(){var e=this.data().f,t=e.corner;!e.disabled&&t&&"prevented"!=f("released",this,[e.point||t])&&O.hideFoldedPage.call(this,!0),e.corner=null},disable:function(e){return O.setData.call(this,{disabled:e}),this},hover:function(e){return O.setData.call(this,{hover:e}),this},peel:function(t,n){var r=this.data().f;if(t){if(e.inArray(t,j.all)==-1)throw p("Corner "+t+" is not permitted");if(e.inArray(t,O._cAllowed.call(this))!=-1){var i=O._c.call(this,t,r.opts.cornerSize/2);r.status="peel",O._showFoldedPage.call(this,{corner:t,x:i.x,y:i.y},n)}}else r.status="",O.hideFoldedPage.call(this,n);return this}};window.requestAnim=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),e.extend(e.fn,{flip:function(){return t(e(this[0]),O,arguments)},turn:function(){return t(e(this[0]),M,arguments)},transform:function(e,t){var n={};return t&&(n[y+"transform-origin"]=t),n[y+"transform"]=e,this.css(n)},animatef:function(t){var n=this.data();if(n.effect&&n.effect.stop(),t){t.to.length||(t.to=[t.to]),t.from.length||(t.from=[t.from]);for(var r=[],i=t.to.length,o=!0,a=this,s=(new Date).getTime(),c=function(){if(n.effect&&o){for(var e=[],l=Math.min(t.duration,(new Date).getTime()-s),u=0;u<i;u++)e.push(n.effect.easing(1,l,t.from[u],r[u],t.duration));t.frame(1==i?e[0]:e),l==t.duration?(delete n.effect,a.data(n),t.complete&&t.complete()):window.requestAnim(c)}},l=0;l<i;l++)r.push(t.to[l]-t.from[l]);n.effect=e.extend({stop:function(){o=!1},easing:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n}},t),this.data(n),c()}else delete n.effect}}),e.isTouch=k,e.mouseEvents=S,e.cssPrefix=u,e.cssTransitionEnd=h,e.findPos=m}(jQuery)},{}],waterwheel:[function(e,t,n){!function(e){"use strict";e.fn.waterwheelCarousel=function(t){function n(){y={itemsContainer:e(v),totalItems:e(v).find("img").length,containerWidth:e(v).width(),containerHeight:e(v).height(),currentCenterItem:null,previousCenterItem:null,items:[],calculations:[],carouselRotationsLeft:0,currentlyMoving:!1,itemsAnimating:0,currentSpeed:b.speed,intervalTimer:null,currentDirection:"forward",leftItemsCount:0,rightItemsCount:0,performingSetup:!0},y.itemsContainer.find("img").removeClass(b.activeClassName)}function r(e){clearTimeout(y.autoPlayTimer),e||0===b.autoPlay||(y.autoPlayTimer=setTimeout(function(){g(b.autoPlay>0?"forward":"backward")},Math.abs(b.autoPlay)))}function i(t){if(b.preloadImages===!1)return void t();var n=y.itemsContainer.find("img"),r=0,i=n.length;n.each(function(){e(this).bind("load",function(){if(r+=1,r===i)return void t()}),e(this).attr("src",e(this).attr("src")),this.complete&&e(this).trigger("load")})}function o(){y.itemsContainer.find("img").each(function(){(void 0==e(this).data("original_width")||b.forcedImageWidth>0)&&e(this).data("original_width",e(this).width()),(void 0==e(this).data("original_height")||b.forcedImageHeight>0)&&e(this).data("original_height",e(this).height())})}function a(){b.forcedImageWidth&&b.forcedImageHeight&&y.itemsContainer.find("img").each(function(){e(this).width(b.forcedImageWidth),e(this).height(b.forcedImageHeight)})}function s(){y.itemsContainer.find("img:first");y.calculations[0]={distance:0,offset:0,opacity:1};for(var e=b.horizonOffset,t=b.separation,n=1;n<=b.flankingItems+2;n++)n>1&&(e*=b.horizonOffsetMultiplier,t*=b.separationMultiplier),y.calculations[n]={distance:y.calculations[n-1].distance+t,offset:y.calculations[n-1].offset+e,opacity:y.calculations[n-1].opacity*b.opacityMultiplier};b.edgeFadeEnabled?y.calculations[b.flankingItems+1].opacity=0:y.calculations[b.flankingItems+1]={distance:0,offset:0,opacity:0}}function c(){y.items=y.itemsContainer.find("img");for(var t=0;t<y.totalItems;t++)y.items[t]=e(y.items[t]);0===b.horizon&&("horizontal"===b.orientation?b.horizon=y.containerHeight/2:b.horizon=y.containerWidth/2),
y.itemsContainer.css("position","relative").find("img").each(function(){var t,n;"horizontal"===b.orientation?(t=y.containerWidth/2-e(this).data("original_width")/2,n=b.horizon-e(this).data("original_height")/2):(t=b.horizon-e(this).data("original_width")/2,n=y.containerHeight/2-e(this).data("original_height")/2),e(this).css({left:t,top:n,visibility:"visible",position:"absolute","z-index":0,opacity:0}).data({top:n,left:t,oldPosition:0,currentPosition:0,depth:0,opacity:0}).show()})}function l(){b.startingItem=0===b.startingItem?Math.round(y.totalItems/2):b.startingItem,y.rightItemsCount=Math.ceil((y.totalItems-1)/2),y.leftItemsCount=Math.floor((y.totalItems-1)/2),y.carouselRotationsLeft=1,h(y.items[b.startingItem-1],0),y.items[b.startingItem-1].css("opacity",1);for(var e=b.startingItem-1,t=1;t<=y.rightItemsCount;t++)e<y.totalItems-1?e+=1:e=0,y.items[e].css("opacity",1),h(y.items[e],t);for(var e=b.startingItem-1,t=-1;t>=y.leftItemsCount*-1;t--)e>0?e-=1:e=y.totalItems-1,y.items[e].css("opacity",1),h(y.items[e],t)}function u(e,t){var n=Math.abs(t);if(n<b.flankingItems+1)var r=y.calculations[n];else var r=y.calculations[b.flankingItems+1];var i=Math.pow(b.sizeMultiplier,n),o=i*e.data("original_width"),a=i*e.data("original_height"),s=(Math.abs(e.width()-o),Math.abs(e.height()-a),r.offset),c=r.distance;if(t<0&&(c*=-1),"horizontal"==b.orientation)var l=y.containerWidth/2,u=l+c-o/2,h=b.horizon-s-a/2;else var l=y.containerHeight/2,u=b.horizon-s-o/2,h=l+c-a/2;var d;d=0===t?1:r.opacity;var f=b.flankingItems+2-n;e.data("width",o),e.data("height",a),e.data("top",h),e.data("left",u),e.data("oldPosition",e.data("currentPosition")),e.data("depth",f),e.data("opacity",d)}function h(e,t){Math.abs(t)<=b.flankingItems+1?(u(e,t),y.itemsAnimating++,e.css("z-index",e.data().depth).animate({left:e.data().left,width:e.data().width,height:e.data().height,top:e.data().top,opacity:e.data().opacity},y.currentSpeed,b.animationEasing,function(){d(e,t)})):(e.data("currentPosition",t),0===e.data("oldPosition")&&e.css({left:e.data().left,width:e.data().width,height:e.data().height,top:e.data().top,opacity:e.data().opacity,"z-index":e.data().depth}))}function d(e,t){y.itemsAnimating--,e.data("currentPosition",t),0===t&&(y.currentCenterItem=e),0===y.itemsAnimating&&(y.carouselRotationsLeft-=1,y.currentlyMoving=!1,y.carouselRotationsLeft>0?f(0):(y.currentSpeed=b.speed,y.currentCenterItem.addClass(b.activeClassName),y.performingSetup===!1&&(b.movedToCenter(y.currentCenterItem),b.movedFromCenter(y.previousCenterItem)),y.performingSetup=!1,r()))}function f(t){if(y.currentlyMoving===!1){y.currentCenterItem.removeClass(b.activeClassName),y.currentlyMoving=!0,y.itemsAnimating=0,y.carouselRotationsLeft+=t,b.quickerForFurther===!0&&(t>1&&(y.currentSpeed=b.speed/t),y.currentSpeed=y.currentSpeed<100?100:y.currentSpeed);for(var n=0;n<y.totalItems;n++){var r,i=e(y.items[n]),o=i.data("currentPosition");r="forward"==y.currentDirection?o-1:o+1;var a=r>0?y.rightItemsCount:y.leftItemsCount;Math.abs(r)>a&&(r=o*-1,y.totalItems%2==0&&(r+=1)),h(i,r)}}}function p(){var e=y.currentCenterItem.next();return e.length<=0&&(e=y.currentCenterItem.parent().children().first()),e}function m(){var e=y.currentCenterItem.prev();return e.length<=0&&(e=y.currentCenterItem.parent().children().last()),e}function g(e){y.currentlyMoving===!1&&(y.previousCenterItem=y.currentCenterItem,b.movingFromCenter(y.currentCenterItem),"backward"==e?(b.movingToCenter(m()),y.currentDirection="backward"):"forward"==e&&(b.movingToCenter(p()),y.currentDirection="forward")),f(1)}if(this.length>1)return this.each(function(){e(this).waterwheelCarousel(t)}),this;var v=this,b={},y={};return e(this).find("img").bind("click",function(){var t=e(this).data().currentPosition;if(0!=b.imageNav&&!(Math.abs(t)>=b.flankingItems+1||y.currentlyMoving)){y.previousCenterItem=y.currentCenterItem,r(!0),b.autoPlay=0;var n=Math.abs(t);0==t?b.clickedCenter(e(this)):(b.movingFromCenter(y.currentCenterItem),b.movingToCenter(e(this)),t<0?(y.currentDirection="backward",f(n)):t>0&&(y.currentDirection="forward",f(n)))}}),e(this).find("a").bind("click",function(t){var n=0==e(this).find("img").data("currentPosition");if(1===b.linkHandling||2===b.linkHandling&&!n)return t.preventDefault(),!1}),e(document).keydown(function(e){if(b.keyboardNav&&(37===e.which&&"horizontal"==b.orientation||38===e.which&&"vertical"==b.orientation?(r(!0),b.autoPlay=0,g("backward")):(39===e.which&&"horizontal"==b.orientation||40===e.which&&"vertical"==b.orientation)&&(r(!0),b.autoPlay=0,g("forward")),b.keyboardNavOverride&&("horizontal"==b.orientation&&(37===e.which||39===e.which)||"vertical"==b.orientation&&(38===e.which||40===e.which))))return e.preventDefault(),!1}),this.reload=function(t){if("object"==typeof t);else;b=e.extend({},e.fn.waterwheelCarousel.defaults,t),n(),y.itemsContainer.find("img").hide(),a(),i(function(){o(),s(),c(),l()})},this.next=function(){r(!0),b.autoPlay=0,g("forward")},this.prev=function(){r(!0),b.autoPlay=0,g("backward")},this.togglePlay=function(e){b.autoPlay=e,r(e>0?!1:!0)},this.reload(t),this},e.fn.waterwheelCarousel.defaults={startingItem:1,separation:175,separationMultiplier:.6,horizonOffset:0,horizonOffsetMultiplier:1,sizeMultiplier:.7,opacityMultiplier:.8,horizon:0,flankingItems:3,speed:300,animationEasing:"linear",quickerForFurther:!0,edgeFadeEnabled:!1,linkHandling:2,autoPlay:0,orientation:"horizontal",activeClassName:"carousel-center",keyboardNav:!1,keyboardNavOverride:!0,imageNav:!0,preloadImages:!0,forcedImageWidth:0,forcedImageHeight:0,movingToCenter:e.noop,movedToCenter:e.noop,clickedCenter:e.noop,movingFromCenter:e.noop,movedFromCenter:e.noop}}(jQuery)},{}]},{},[1]);